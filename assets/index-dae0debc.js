(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Qt(){}function $e(e,t){for(const n in t)e[n]=t[n];return e}function Rg(e){return e()}function b1(){return Object.create(null)}function cn(e){e.forEach(Rg)}function jt(e){return typeof e=="function"}function Xt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Qy(e){return Object.keys(e).length===0}function Jy(e,...t){if(e==null)return Qt;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ho(e,t,n){e.$$.on_destroy.push(Jy(t,n))}function Gt(e,t,n,r){if(e){const s=Mg(e,t,n,r);return e[0](s)}}function Mg(e,t,n,r){return e[1]&&r?$e(n.ctx.slice(),e[1](r(t))):n.ctx}function Bt(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(t.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=t.dirty[a]|s[a];return i}return t.dirty|s}return t.dirty}function Nt(e,t,n,r,s,i){if(s){const o=Mg(t,n,r,i);e.p(o,s)}}function Vt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function mn(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Et(e,t){const n={};t=new Set(t);for(const r in e)!t.has(r)&&r[0]!=="$"&&(n[r]=e[r]);return n}function e5(e){const t={};for(const n in e)t[n]=!0;return t}function Ig(e,t,n){return e.set(n),t}function bt(e){return e&&jt(e.destroy)?e.destroy:Qt}function xt(e,t){e.appendChild(t)}function Ee(e,t,n){e.insertBefore(t,n||null)}function Ae(e){e.parentNode&&e.parentNode.removeChild(e)}function Dg(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function mt(e){return document.createElement(e)}function ni(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Xn(e){return document.createTextNode(e)}function pt(){return Xn(" ")}function bn(){return Xn("")}function Ft(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function t5(e){return function(t){return t.preventDefault(),e.call(this,t)}}function n5(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function gt(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const r5=["width","height"];function At(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)t[r]==null?e.removeAttribute(r):r==="style"?e.style.cssText=t[r]:r==="__value"?e.value=e[r]=t[r]:n[r]&&n[r].set&&r5.indexOf(r)===-1?e[r]=t[r]:gt(e,r,t[r])}function _1(e,t){for(const n in t)gt(e,n,t[n])}function s5(e,t){Object.keys(t).forEach(n=>{i5(e,n,t[n])})}function i5(e,t,n){t in e?e[t]=typeof e[t]=="boolean"&&n===""?!0:n:gt(e,t,n)}function Tl(e){return/-/.test(e)?s5:At}function o5(e){return Array.from(e.childNodes)}function li(e,t){t=""+t,e.data!==t&&(e.data=t)}function y1(e,t){e.value=t??""}function Ks(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function _r(e,t){return new e(t)}let qo;function zo(e){qo=e}function rn(){if(!qo)throw new Error("Function called outside component initialization");return qo}function Yn(e){rn().$$.on_mount.push(e)}function Qu(e){rn().$$.on_destroy.push(e)}function cr(e,t){return rn().$$.context.set(e,t),t}function fr(e){return rn().$$.context.get(e)}function Xo(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Vi=[],rt=[];let Hi=[];const xu=[],Fg=Promise.resolve();let Gu=!1;function kg(){Gu||(Gu=!0,Fg.then(xg))}function a5(){return kg(),Fg}function Bu(e){Hi.push(e)}function Rn(e){xu.push(e)}const Sf=new Set;let Li=0;function xg(){if(Li!==0)return;const e=qo;do{try{for(;Li<Vi.length;){const t=Vi[Li];Li++,zo(t),l5(t.$$)}}catch(t){throw Vi.length=0,Li=0,t}for(zo(null),Vi.length=0,Li=0;rt.length;)rt.pop()();for(let t=0;t<Hi.length;t+=1){const n=Hi[t];Sf.has(n)||(Sf.add(n),n())}Hi.length=0}while(Vi.length);for(;xu.length;)xu.pop()();Gu=!1,Sf.clear(),zo(e)}function l5(e){if(e.fragment!==null){e.update(),cn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Bu)}}function c5(e){const t=[],n=[];Hi.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Hi=t}const _l=new Set;let ri;function tn(){ri={r:0,c:[],p:ri}}function nn(){ri.r||cn(ri.c),ri=ri.p}function re(e,t){e&&e.i&&(_l.delete(e),e.i(t))}function ae(e,t,n,r){if(e&&e.o){if(_l.has(e))return;_l.add(e),ri.c.push(()=>{_l.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Gg(e,t){ae(e,1,1,()=>{t.delete(e.key)})}function Bg(e,t,n,r,s,i,o,a,l,c,f,u){let h=e.length,d=i.length,g=h;const p={};for(;g--;)p[e[g].key]=g;const m=[],v=new Map,b=new Map,_=[];for(g=d;g--;){const A=u(s,i,g),L=n(A);let U=o.get(L);U?r&&_.push(()=>U.p(A,t)):(U=c(L,A),U.c()),v.set(L,m[g]=U),L in p&&b.set(L,Math.abs(g-p[L]))}const S=new Set,E=new Set;function w(A){re(A,1),A.m(a,f),o.set(A.key,A),f=A.first,d--}for(;h&&d;){const A=m[d-1],L=e[h-1],U=A.key,B=L.key;A===L?(f=A.first,h--,d--):v.has(B)?!o.has(U)||S.has(U)?w(A):E.has(B)?h--:b.get(U)>b.get(B)?(E.add(U),w(A)):(S.add(B),h--):(l(L,o),h--)}for(;h--;){const A=e[h];v.has(A.key)||l(A,o)}for(;d;)w(m[d-1]);return cn(_),m}function Mt(e,t){const n={},r={},s={$$scope:1};let i=e.length;for(;i--;){const o=e[i],a=t[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);e[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function hn(e){return typeof e=="object"&&e!==null?e:{}}function Mn(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function et(e){e&&e.c()}function Ke(e,t,n,r){const{fragment:s,after_update:i}=e.$$;s&&s.m(t,n),r||Bu(()=>{const o=e.$$.on_mount.map(Rg).filter(jt);e.$$.on_destroy?e.$$.on_destroy.push(...o):cn(o),e.$$.on_mount=[]}),i.forEach(Bu)}function Qe(e,t){const n=e.$$;n.fragment!==null&&(c5(n.after_update),cn(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function f5(e,t){e.$$.dirty[0]===-1&&(Vi.push(e),kg(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Wt(e,t,n,r,s,i,o,a=[-1]){const l=qo;zo(e);const c=e.$$={fragment:null,ctx:[],props:i,update:Qt,not_equal:s,bound:b1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:b1(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(e,t.props||{},(u,h,...d)=>{const g=d.length?d[0]:h;return c.ctx&&s(c.ctx[u],c.ctx[u]=g)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](g),f&&f5(e,u)),h}):[],c.update(),f=!0,cn(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const u=o5(t.target);c.fragment&&c.fragment.l(u),u.forEach(Ae)}else c.fragment&&c.fragment.c();t.intro&&re(e.$$.fragment),Ke(e,t.target,t.anchor,t.customElement),xg()}zo(l)}class Yt{$destroy(){Qe(this,1),this.$destroy=Qt}$on(t,n){if(!jt(n))return Qt;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!Qy(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function u5(e){let t,n,r,s,i,o,a;return{c(){t=ni("svg"),n=ni("polygon"),gt(n,"points","300,150 225,280 75,280 0,150 75,20 225,20"),gt(n,"fill",r=["white","#eee","yellow","orange"][e[0]]),gt(n,"stroke",s=e[0]?"black":"silver"),gt(n,"stroke-width",i=e[0]?10:2),gt(t,"width","50"),gt(t,"viewBox","-5 15 310 290"),Ks(t,"left",e[2]/2),Ks(t,"top",e[1]/2),Ks(t,"z-index",e[0]?1:0),gt(t,"class","svelte-1nr73ai")},m(l,c){Ee(l,t,c),xt(t,n),o||(a=Ft(n,"click",e[3]),o=!0)},p(l,[c]){c&1&&r!==(r=["white","#eee","yellow","orange"][l[0]])&&gt(n,"fill",r),c&1&&s!==(s=l[0]?"black":"silver")&&gt(n,"stroke",s),c&1&&i!==(i=l[0]?10:2)&&gt(n,"stroke-width",i),c&4&&Ks(t,"left",l[2]/2),c&2&&Ks(t,"top",l[1]/2),c&1&&Ks(t,"z-index",l[0]?1:0)},i:Qt,o:Qt,d(l){l&&Ae(t),o=!1,a()}}}function d5(e,t,n){let r,s,{x:i}=t,{y:o}=t,{value:a}=t,{mode:l}=t;function c(){n(0,a=l)}return e.$$set=f=>{"x"in f&&n(4,i=f.x),"y"in f&&n(5,o=f.y),"value"in f&&n(0,a=f.value),"mode"in f&&n(6,l=f.mode)},e.$$.update=()=>{e.$$.dirty&16&&n(2,r=i*72.7),e.$$.dirty&48&&n(1,s=(19-o)*83.5+(i%2?0:41.7))},[a,s,r,c,i,o,l]}class h5 extends Yt{constructor(t){super(),Wt(this,t,d5,u5,Xt,{x:4,y:5,value:0,mode:6})}}var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ng={exports:{}};/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/material-components/material-components-web/blob/master/LICENSE
 */(function(e,t){(function(r,s){e.exports=s()})(Qs,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(o&1&&(i=s(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var l in i)s.d(a,l,function(c){return i[c]}.bind(null,l));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s="./packages/mdc-segmented-button/index.ts")}({"./packages/mdc-base/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__read||function(c,f){var u=typeof Symbol=="function"&&c[Symbol.iterator];if(!u)return c;var h=u.call(c),d,g=[],p;try{for(;(f===void 0||f-- >0)&&!(d=h.next()).done;)g.push(d.value)}catch(m){p={error:m}}finally{try{d&&!d.done&&(u=h.return)&&u.call(h)}finally{if(p)throw p.error}}return g},o=this&&this.__spreadArray||function(c,f){for(var u=0,h=f.length,d=c.length;u<h;u++,d++)c[d]=f[u];return c};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCComponent=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=function(){function c(f,u){for(var h=[],d=2;d<arguments.length;d++)h[d-2]=arguments[d];this.root=f,this.initialize.apply(this,o([],i(h))),this.foundation=u===void 0?this.getDefaultFoundation():u,this.foundation.init(),this.initialSyncWithDOM()}return c.attachTo=function(f){return new c(f,new a.MDCFoundation({}))},c.prototype.initialize=function(){},c.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},c.prototype.initialSyncWithDOM=function(){},c.prototype.destroy=function(){this.foundation.destroy()},c.prototype.listen=function(f,u,h){this.root.addEventListener(f,u,h)},c.prototype.unlisten=function(f,u,h){this.root.removeEventListener(f,u,h)},c.prototype.emit=function(f,u,h){h===void 0&&(h=!1);var d;typeof CustomEvent=="function"?d=new CustomEvent(f,{bubbles:h,detail:u}):(d=document.createEvent("CustomEvent"),d.initCustomEvent(f,h,!1,u)),this.root.dispatchEvent(d)},c}();r.MDCComponent=l,r.default=l},"./packages/mdc-base/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.MDCFoundation=void 0;var i=function(){function o(a){a===void 0&&(a={}),this.adapter=a}return Object.defineProperty(o,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.destroy=function(){},o}();r.MDCFoundation=i,r.default=i},"./packages/mdc-dom/events.ts":function(n,r,s){/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.applyPassive=void 0;function i(a){return a===void 0&&(a=window),o(a)?{passive:!0}:!1}r.applyPassive=i;function o(a){a===void 0&&(a=window);var l=!1;try{var c={get passive(){return l=!0,!1}},f=function(){};a.document.addEventListener("test",f,c),a.document.removeEventListener("test",f,c)}catch{l=!1}return l}},"./packages/mdc-dom/ponyfill.ts":function(n,r,s){/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.estimateScrollWidth=r.matches=r.closest=void 0;function i(l,c){if(l.closest)return l.closest(c);for(var f=l;f;){if(o(f,c))return f;f=f.parentElement}return null}r.closest=i;function o(l,c){var f=l.matches||l.webkitMatchesSelector||l.msMatchesSelector;return f.call(l,c)}r.matches=o;function a(l){var c=l;if(c.offsetParent!==null)return c.scrollWidth;var f=c.cloneNode(!0);f.style.setProperty("position","absolute"),f.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(f);var u=f.scrollWidth;return document.documentElement.removeChild(f),u}r.estimateScrollWidth=a},"./packages/mdc-ripple/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var p=function(v,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(_[E]=S[E])},p(v,b)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__createBinding||(Object.create?function(p,m,v,b){b===void 0&&(b=v),Object.defineProperty(p,b,{enumerable:!0,get:function(){return m[v]}})}:function(p,m,v,b){b===void 0&&(b=v),p[b]=m[v]}),a=this&&this.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),l=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var v in p)v!=="default"&&Object.prototype.hasOwnProperty.call(p,v)&&o(m,p,v);return a(m,p),m};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRipple=void 0;var c=s("./packages/mdc-base/component.ts"),f=s("./packages/mdc-dom/events.ts"),u=s("./packages/mdc-dom/ponyfill.ts"),h=s("./packages/mdc-ripple/foundation.ts"),d=l(s("./packages/mdc-ripple/util.ts")),g=function(p){i(m,p);function m(){var v=p!==null&&p.apply(this,arguments)||this;return v.disabled=!1,v}return m.attachTo=function(v,b){b===void 0&&(b={isUnbounded:void 0});var _=new m(v);return b.isUnbounded!==void 0&&(_.unbounded=b.isUnbounded),_},m.createAdapter=function(v){return{addClass:function(_){return v.root.classList.add(_)},browserSupportsCssVars:function(){return d.supportsCssVariables(window)},computeBoundingRect:function(){return v.root.getBoundingClientRect()},containsEventTarget:function(_){return v.root.contains(_)},deregisterDocumentInteractionHandler:function(_,S){return document.documentElement.removeEventListener(_,S,f.applyPassive())},deregisterInteractionHandler:function(_,S){return v.root.removeEventListener(_,S,f.applyPassive())},deregisterResizeHandler:function(_){return window.removeEventListener("resize",_)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return u.matches(v.root,":active")},isSurfaceDisabled:function(){return!!v.disabled},isUnbounded:function(){return!!v.unbounded},registerDocumentInteractionHandler:function(_,S){return document.documentElement.addEventListener(_,S,f.applyPassive())},registerInteractionHandler:function(_,S){return v.root.addEventListener(_,S,f.applyPassive())},registerResizeHandler:function(_){return window.addEventListener("resize",_)},removeClass:function(_){return v.root.classList.remove(_)},updateCssVariable:function(_,S){return v.root.style.setProperty(_,S)}}},Object.defineProperty(m.prototype,"unbounded",{get:function(){return!!this.isUnbounded},set:function(b){this.isUnbounded=!!b,this.setUnbounded()},enumerable:!1,configurable:!0}),m.prototype.activate=function(){this.foundation.activate()},m.prototype.deactivate=function(){this.foundation.deactivate()},m.prototype.layout=function(){this.foundation.layout()},m.prototype.getDefaultFoundation=function(){return new h.MDCRippleFoundation(m.createAdapter(this))},m.prototype.initialSyncWithDOM=function(){var v=this.root;this.isUnbounded="mdcRippleIsUnbounded"in v.dataset},m.prototype.setUnbounded=function(){this.foundation.setUnbounded(!!this.isUnbounded)},m}(c.MDCComponent);r.MDCRipple=g},"./packages/mdc-ripple/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.numbers=r.strings=r.cssClasses=void 0,r.cssClasses={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},r.strings={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},r.numbers={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300}},"./packages/mdc-ripple/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var p=function(v,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(_[E]=S[E])},p(v,b)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(p){for(var m,v=1,b=arguments.length;v<b;v++){m=arguments[v];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(p[_]=m[_])}return p},o.apply(this,arguments)},a=this&&this.__values||function(p){var m=typeof Symbol=="function"&&Symbol.iterator,v=m&&p[m],b=0;if(v)return v.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&b>=p.length&&(p=void 0),{value:p&&p[b++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRippleFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-ripple/constants.ts"),f=s("./packages/mdc-ripple/util.ts"),u=["touchstart","pointerdown","mousedown","keydown"],h=["touchend","pointerup","mouseup","contextmenu"],d=[],g=function(p){i(m,p);function m(v){var b=p.call(this,o(o({},m.defaultAdapter),v))||this;return b.activationAnimationHasEnded=!1,b.activationTimer=0,b.fgDeactivationRemovalTimer=0,b.fgScale="0",b.frame={width:0,height:0},b.initialSize=0,b.layoutFrame=0,b.maxRadius=0,b.unboundedCoords={left:0,top:0},b.activationState=b.defaultActivationState(),b.activationTimerCallback=function(){b.activationAnimationHasEnded=!0,b.runDeactivationUXLogicIfReady()},b.activateHandler=function(_){b.activateImpl(_)},b.deactivateHandler=function(){b.deactivateImpl()},b.focusHandler=function(){b.handleFocus()},b.blurHandler=function(){b.handleBlur()},b.resizeHandler=function(){b.layout()},b}return Object.defineProperty(m,"cssClasses",{get:function(){return c.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(m,"strings",{get:function(){return c.strings},enumerable:!1,configurable:!0}),Object.defineProperty(m,"numbers",{get:function(){return c.numbers},enumerable:!1,configurable:!0}),Object.defineProperty(m,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),m.prototype.init=function(){var v=this,b=this.supportsPressRipple();if(this.registerRootHandlers(b),b){var _=m.cssClasses,S=_.ROOT,E=_.UNBOUNDED;requestAnimationFrame(function(){v.adapter.addClass(S),v.adapter.isUnbounded()&&(v.adapter.addClass(E),v.layoutInternal())})}},m.prototype.destroy=function(){var v=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(m.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(m.cssClasses.FG_DEACTIVATION));var b=m.cssClasses,_=b.ROOT,S=b.UNBOUNDED;requestAnimationFrame(function(){v.adapter.removeClass(_),v.adapter.removeClass(S),v.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},m.prototype.activate=function(v){this.activateImpl(v)},m.prototype.deactivate=function(){this.deactivateImpl()},m.prototype.layout=function(){var v=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){v.layoutInternal(),v.layoutFrame=0})},m.prototype.setUnbounded=function(v){var b=m.cssClasses.UNBOUNDED;v?this.adapter.addClass(b):this.adapter.removeClass(b)},m.prototype.handleFocus=function(){var v=this;requestAnimationFrame(function(){return v.adapter.addClass(m.cssClasses.BG_FOCUSED)})},m.prototype.handleBlur=function(){var v=this;requestAnimationFrame(function(){return v.adapter.removeClass(m.cssClasses.BG_FOCUSED)})},m.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},m.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},m.prototype.registerRootHandlers=function(v){var b,_;if(v){try{for(var S=a(u),E=S.next();!E.done;E=S.next()){var w=E.value;this.adapter.registerInteractionHandler(w,this.activateHandler)}}catch(A){b={error:A}}finally{try{E&&!E.done&&(_=S.return)&&_.call(S)}finally{if(b)throw b.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},m.prototype.registerDeactivationHandlers=function(v){var b,_;if(v.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var S=a(h),E=S.next();!E.done;E=S.next()){var w=E.value;this.adapter.registerDocumentInteractionHandler(w,this.deactivateHandler)}}catch(A){b={error:A}}finally{try{E&&!E.done&&(_=S.return)&&_.call(S)}finally{if(b)throw b.error}}},m.prototype.deregisterRootHandlers=function(){var v,b;try{for(var _=a(u),S=_.next();!S.done;S=_.next()){var E=S.value;this.adapter.deregisterInteractionHandler(E,this.activateHandler)}}catch(w){v={error:w}}finally{try{S&&!S.done&&(b=_.return)&&b.call(_)}finally{if(v)throw v.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},m.prototype.deregisterDeactivationHandlers=function(){var v,b;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var _=a(h),S=_.next();!S.done;S=_.next()){var E=S.value;this.adapter.deregisterDocumentInteractionHandler(E,this.deactivateHandler)}}catch(w){v={error:w}}finally{try{S&&!S.done&&(b=_.return)&&b.call(_)}finally{if(v)throw v.error}}},m.prototype.removeCssVars=function(){var v=this,b=m.strings,_=Object.keys(b);_.forEach(function(S){S.indexOf("VAR_")===0&&v.adapter.updateCssVariable(b[S],null)})},m.prototype.activateImpl=function(v){var b=this;if(!this.adapter.isSurfaceDisabled()){var _=this.activationState;if(!_.isActivated){var S=this.previousActivationEvent,E=S&&v!==void 0&&S.type!==v.type;if(!E){_.isActivated=!0,_.isProgrammatic=v===void 0,_.activationEvent=v,_.wasActivatedByPointer=_.isProgrammatic?!1:v!==void 0&&(v.type==="mousedown"||v.type==="touchstart"||v.type==="pointerdown");var w=v!==void 0&&d.length>0&&d.some(function(A){return b.adapter.containsEventTarget(A)});if(w){this.resetActivationState();return}v!==void 0&&(d.push(v.target),this.registerDeactivationHandlers(v)),_.wasElementMadeActive=this.checkElementMadeActive(v),_.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){d=[],!_.wasElementMadeActive&&v!==void 0&&(v.key===" "||v.keyCode===32)&&(_.wasElementMadeActive=b.checkElementMadeActive(v),_.wasElementMadeActive&&b.animateActivation()),_.wasElementMadeActive||(b.activationState=b.defaultActivationState())})}}}},m.prototype.checkElementMadeActive=function(v){return v!==void 0&&v.type==="keydown"?this.adapter.isSurfaceActive():!0},m.prototype.animateActivation=function(){var v=this,b=m.strings,_=b.VAR_FG_TRANSLATE_START,S=b.VAR_FG_TRANSLATE_END,E=m.cssClasses,w=E.FG_DEACTIVATION,A=E.FG_ACTIVATION,L=m.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var U="",B="";if(!this.adapter.isUnbounded()){var k=this.getFgTranslationCoordinates(),se=k.startPoint,V=k.endPoint;U=se.x+"px, "+se.y+"px",B=V.x+"px, "+V.y+"px"}this.adapter.updateCssVariable(_,U),this.adapter.updateCssVariable(S,B),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(w),this.adapter.computeBoundingRect(),this.adapter.addClass(A),this.activationTimer=setTimeout(function(){v.activationTimerCallback()},L)},m.prototype.getFgTranslationCoordinates=function(){var v=this.activationState,b=v.activationEvent,_=v.wasActivatedByPointer,S;_?S=f.getNormalizedEventCoords(b,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):S={x:this.frame.width/2,y:this.frame.height/2},S={x:S.x-this.initialSize/2,y:S.y-this.initialSize/2};var E={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:S,endPoint:E}},m.prototype.runDeactivationUXLogicIfReady=function(){var v=this,b=m.cssClasses.FG_DEACTIVATION,_=this.activationState,S=_.hasDeactivationUXRun,E=_.isActivated,w=S||!E;w&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(b),this.fgDeactivationRemovalTimer=setTimeout(function(){v.adapter.removeClass(b)},c.numbers.FG_DEACTIVATION_MS))},m.prototype.rmBoundedActivationClasses=function(){var v=m.cssClasses.FG_ACTIVATION;this.adapter.removeClass(v),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},m.prototype.resetActivationState=function(){var v=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return v.previousActivationEvent=void 0},m.numbers.TAP_DELAY_MS)},m.prototype.deactivateImpl=function(){var v=this,b=this.activationState;if(b.isActivated){var _=o({},b);b.isProgrammatic?(requestAnimationFrame(function(){v.animateDeactivation(_)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){v.activationState.hasDeactivationUXRun=!0,v.animateDeactivation(_),v.resetActivationState()}))}},m.prototype.animateDeactivation=function(v){var b=v.wasActivatedByPointer,_=v.wasElementMadeActive;(b||_)&&this.runDeactivationUXLogicIfReady()},m.prototype.layoutInternal=function(){var v=this;this.frame=this.adapter.computeBoundingRect();var b=Math.max(this.frame.height,this.frame.width),_=function(){var w=Math.sqrt(Math.pow(v.frame.width,2)+Math.pow(v.frame.height,2));return w+m.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?b:_();var S=Math.floor(b*m.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&S%2!==0?this.initialSize=S-1:this.initialSize=S,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},m.prototype.updateLayoutCssVars=function(){var v=m.strings,b=v.VAR_FG_SIZE,_=v.VAR_LEFT,S=v.VAR_TOP,E=v.VAR_FG_SCALE;this.adapter.updateCssVariable(b,this.initialSize+"px"),this.adapter.updateCssVariable(E,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(_,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(S,this.unboundedCoords.top+"px"))},m}(l.MDCFoundation);r.MDCRippleFoundation=g,r.default=g},"./packages/mdc-ripple/util.ts":function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getNormalizedEventCoords=r.supportsCssVariables=void 0;var i;function o(l,c){c===void 0&&(c=!1);var f=l.CSS,u=i;if(typeof i=="boolean"&&!c)return i;var h=f&&typeof f.supports=="function";if(!h)return!1;var d=f.supports("--css-vars","yes"),g=f.supports("(--css-vars: yes)")&&f.supports("color","#00000000");return u=d||g,c||(i=u),u}r.supportsCssVariables=o;function a(l,c,f){if(!l)return{x:0,y:0};var u=c.x,h=c.y,d=u+f.left,g=h+f.top,p,m;if(l.type==="touchstart"){var v=l;p=v.changedTouches[0].pageX-d,m=v.changedTouches[0].pageY-g}else{var b=l;p=b.pageX-d,m=b.pageY-g}return{x:p,y:m}}r.getNormalizedEventCoords=a},"./packages/mdc-segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/index.ts"),r),o(s("./packages/mdc-segmented-button/segment/index.ts"),r),o(s("./packages/mdc-segmented-button/types.ts"),r)},"./packages/mdc-segmented-button/segment/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segment/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var d=function(p,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(v[_]=b[_])},d(p,m)};return function(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(g,p);function m(){this.constructor=g}g.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(d){for(var g,p=1,m=arguments.length;p<m;p++){g=arguments[p];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(d[v]=g[v])}return d},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegment=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-ripple/component.ts"),c=s("./packages/mdc-ripple/foundation.ts"),f=s("./packages/mdc-segmented-button/segment/constants.ts"),u=s("./packages/mdc-segmented-button/segment/foundation.ts"),h=function(d){i(g,d);function g(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(g.prototype,"ripple",{get:function(){return this.rippleComponent},enumerable:!1,configurable:!0}),g.attachTo=function(p){return new g(p)},g.prototype.initialize=function(p){var m=this;p===void 0&&(p=function(_,S){return new l.MDCRipple(_,S)});var v=o(o({},l.MDCRipple.createAdapter(this)),{computeBoundingRect:function(){return m.foundation.getDimensions()}});this.rippleComponent=p(this.root,new c.MDCRippleFoundation(v))},g.prototype.initialSyncWithDOM=function(){var p=this;this.handleClick=function(){p.foundation.handleClick()},this.listen(f.events.CLICK,this.handleClick)},g.prototype.destroy=function(){this.ripple.destroy(),this.unlisten(f.events.CLICK,this.handleClick),d.prototype.destroy.call(this)},g.prototype.getDefaultFoundation=function(){var p=this,m={isSingleSelect:function(){return p.isSingleSelect},getAttr:function(b){return p.root.getAttribute(b)},setAttr:function(b,_){p.root.setAttribute(b,_)},addClass:function(b){p.root.classList.add(b)},removeClass:function(b){p.root.classList.remove(b)},hasClass:function(b){return p.root.classList.contains(b)},notifySelectedChange:function(b){p.emit(f.events.SELECTED,{index:p.index,selected:b,segmentId:p.getSegmentId()},!0)},getRootBoundingClientRect:function(){return p.root.getBoundingClientRect()}};return new u.MDCSegmentedButtonSegmentFoundation(m)},g.prototype.setIndex=function(p){this.index=p},g.prototype.setIsSingleSelect=function(p){this.isSingleSelect=p},g.prototype.isSelected=function(){return this.foundation.isSelected()},g.prototype.setSelected=function(){this.foundation.setSelected()},g.prototype.setUnselected=function(){this.foundation.setUnselected()},g.prototype.getSegmentId=function(){return this.foundation.getSegmentId()},g}(a.MDCComponent);r.MDCSegmentedButtonSegment=h},"./packages/mdc-segmented-button/segment/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.attributes=r.booleans=void 0,r.booleans={TRUE:"true",FALSE:"false"},r.attributes={ARIA_CHECKED:"aria-checked",ARIA_PRESSED:"aria-pressed",DATA_SEGMENT_ID:"data-segment-id"},r.events={CLICK:"click",SELECTED:"selected"},r.cssClasses={SELECTED:"mdc-segmented-button__segment--selected"}},"./packages/mdc-segmented-button/segment/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(d,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(p[v]=m[v])},u(d,g)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(h,d);function g(){this.constructor=h}h.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var h,d=1,g=arguments.length;d<g;d++){h=arguments[d];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(u[p]=h[p])}return u},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegmentFoundation=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=s("./packages/mdc-segmented-button/segment/constants.ts"),c={bottom:0,height:0,left:0,right:0,top:0,width:0},f=function(u){i(h,u);function h(d){return u.call(this,o(o({},h.defaultAdapter),d))||this}return Object.defineProperty(h,"defaultAdapter",{get:function(){return{isSingleSelect:function(){return!1},getAttr:function(){return""},setAttr:function(){},addClass:function(){},removeClass:function(){},hasClass:function(){return!1},notifySelectedChange:function(){},getRootBoundingClientRect:function(){return c}}},enumerable:!1,configurable:!0}),h.prototype.isSelected=function(){return this.adapter.hasClass(l.cssClasses.SELECTED)},h.prototype.setSelected=function(){this.adapter.addClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.TRUE)},h.prototype.setUnselected=function(){this.adapter.removeClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.FALSE)},h.prototype.getSegmentId=function(){var d;return(d=this.adapter.getAttr(l.attributes.DATA_SEGMENT_ID))!==null&&d!==void 0?d:void 0},h.prototype.handleClick=function(){this.adapter.isSingleSelect()?this.setSelected():this.toggleSelection(),this.adapter.notifySelectedChange(this.isSelected())},h.prototype.getDimensions=function(){return this.adapter.getRootBoundingClientRect()},h.prototype.toggleSelection=function(){this.isSelected()?this.setUnselected():this.setSelected()},h.prototype.setAriaAttr=function(d){this.adapter.isSingleSelect()?this.adapter.setAttr(l.attributes.ARIA_CHECKED,d):this.adapter.setAttr(l.attributes.ARIA_PRESSED,d)},h}(a.MDCFoundation);r.MDCSegmentedButtonSegmentFoundation=f},"./packages/mdc-segmented-button/segment/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segment/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segment/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segment/component.ts"),r)},"./packages/mdc-segmented-button/segmented-button/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segmented-button/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var h=function(g,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])},h(g,p)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(d,g);function p(){this.constructor=d}d.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}(),o=this&&this.__values||function(h){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&h[d],p=0;if(g)return g.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&p>=h.length&&(h=void 0),{value:h&&h[p++],done:!h}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButton=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-segmented-button/segment/component.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),u=function(h){i(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.attachTo=function(g){return new d(g)},Object.defineProperty(d.prototype,"segments",{get:function(){return this.segmentsList.slice()},enumerable:!1,configurable:!0}),d.prototype.initialize=function(g){g===void 0&&(g=function(m){return new l.MDCSegmentedButtonSegment(m)}),this.segmentFactory=g,this.segmentsList=this.instantiateSegments(this.segmentFactory)},d.prototype.instantiateSegments=function(g){var p=[].slice.call(this.root.querySelectorAll(c.selectors.SEGMENT));return p.map(function(m){return g(m)})},d.prototype.initialSyncWithDOM=function(){var g=this;this.handleSelected=function(_){g.foundation.handleSelected(_.detail)},this.listen(c.events.SELECTED,this.handleSelected);for(var p=this.foundation.isSingleSelect(),m=0;m<this.segmentsList.length;m++){var v=this.segmentsList[m];v.setIndex(m),v.setIsSingleSelect(p)}var b=this.segmentsList.filter(function(_){return _.isSelected()});if(p&&b.length===0&&this.segmentsList.length>0)throw new Error("No segment selected in singleSelect mdc-segmented-button");if(p&&b.length>1)throw new Error("Multiple segments selected in singleSelect mdc-segmented-button")},d.prototype.destroy=function(){var g,p;try{for(var m=o(this.segmentsList),v=m.next();!v.done;v=m.next()){var b=v.value;b.destroy()}}catch(_){g={error:_}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(g)throw g.error}}this.unlisten(c.events.SELECTED,this.handleSelected),h.prototype.destroy.call(this)},d.prototype.getDefaultFoundation=function(){var g=this,p={hasClass:function(v){return g.root.classList.contains(v)},getSegments:function(){return g.mappedSegments()},selectSegment:function(v){var b=g.mappedSegments().find(function(_){return _.index===v||_.segmentId===v});b&&g.segmentsList[b.index].setSelected()},unselectSegment:function(v){var b=g.mappedSegments().find(function(_){return _.index===v||_.segmentId===v});b&&g.segmentsList[b.index].setUnselected()},notifySelectedChange:function(v){g.emit(c.events.CHANGE,v,!0)}};return new f.MDCSegmentedButtonFoundation(p)},d.prototype.getSelectedSegments=function(){return this.foundation.getSelectedSegments()},d.prototype.selectSegment=function(g){this.foundation.selectSegment(g)},d.prototype.unselectSegment=function(g){this.foundation.unselectSegment(g)},d.prototype.isSegmentSelected=function(g){return this.foundation.isSegmentSelected(g)},d.prototype.mappedSegments=function(){return this.segmentsList.map(function(g,p){return{index:p,selected:g.isSelected(),segmentId:g.getSegmentId()}})},d}(a.MDCComponent);r.MDCSegmentedButton=u},"./packages/mdc-segmented-button/segmented-button/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.selectors=void 0,r.selectors={SEGMENT:".mdc-segmented-button__segment"},r.events={SELECTED:"selected",CHANGE:"change"},r.cssClasses={SINGLE_SELECT:"mdc-segmented-button--single-select"}},"./packages/mdc-segmented-button/segmented-button/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(d,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(p[v]=m[v])},u(d,g)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(h,d);function g(){this.constructor=h}h.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var h,d=1,g=arguments.length;d<g;d++){h=arguments[d];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(u[p]=h[p])}return u},o.apply(this,arguments)},a=this&&this.__values||function(u){var h=typeof Symbol=="function"&&Symbol.iterator,d=h&&u[h],g=0;if(d)return d.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&g>=u.length&&(u=void 0),{value:u&&u[g++],done:!u}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=function(u){i(h,u);function h(d){return u.call(this,o(o({},h.defaultAdapter),d))||this}return Object.defineProperty(h,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},getSegments:function(){return[]},selectSegment:function(){},unselectSegment:function(){},notifySelectedChange:function(){}}},enumerable:!1,configurable:!0}),h.prototype.selectSegment=function(d){this.adapter.selectSegment(d)},h.prototype.unselectSegment=function(d){this.adapter.unselectSegment(d)},h.prototype.getSelectedSegments=function(){return this.adapter.getSegments().filter(function(d){return d.selected})},h.prototype.isSegmentSelected=function(d){return this.adapter.getSegments().some(function(g){return(g.index===d||g.segmentId===d)&&g.selected})},h.prototype.isSingleSelect=function(){return this.adapter.hasClass(c.cssClasses.SINGLE_SELECT)},h.prototype.handleSelected=function(d){this.isSingleSelect()&&this.unselectPrevSelected(d.index),this.adapter.notifySelectedChange(d)},h.prototype.unselectPrevSelected=function(d){var g,p;try{for(var m=a(this.getSelectedSegments()),v=m.next();!v.done;v=m.next()){var b=v.value;b.index!==d&&this.unselectSegment(b.index)}}catch(_){g={error:_}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(g)throw g.error}}},h}(l.MDCFoundation);r.MDCSegmentedButtonFoundation=f},"./packages/mdc-segmented-button/segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/component.ts"),r)},"./packages/mdc-segmented-button/types.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})}})})})(Ng);var Vg=Ng.exports;const Oi=[];function Ug(e,t=Qt){let n;const r=new Set;function s(a){if(Xt(e,a)&&(e=a,n)){const l=!Oi.length;for(const c of r)c[1](),Oi.push(c,e);if(l){for(let c=0;c<Oi.length;c+=2)Oi[c][0](Oi[c+1]);Oi.length=0}}}function i(a){s(a(e))}function o(a,l=Qt){const c=[a,l];return r.add(c),r.size===1&&(n=t(s)||Qt),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function ut(e){return Object.entries(e).filter(([t,n])=>t!==""&&n).map(([t])=>t).join(" ")}function Tn(e,t,n,r={bubbles:!0},s=!1){if(typeof Event>"u")throw new Error("Event not defined.");if(!e)throw new Error("Tried to dipatch event without element.");const i=new CustomEvent(t,Object.assign(Object.assign({},r),{detail:n}));if(e==null||e.dispatchEvent(i),s&&t.startsWith("SMUI")){const o=new CustomEvent(t.replace(/^SMUI/g,()=>"MDC"),Object.assign(Object.assign({},r),{detail:n}));e==null||e.dispatchEvent(o),o.defaultPrevented&&i.preventDefault()}return i}function Wn(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s],o=i.indexOf("$");o!==-1&&t.indexOf(i.substring(0,o+1))!==-1||t.indexOf(i)===-1&&(r[i]=e[i])}return r}const A1=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,p5=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function _n(e){let t,n=[];e.$on=(s,i)=>{let o=s,a=()=>{};return t?a=t(o,i):n.push([o,i]),o.match(A1)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',o),()=>{a()}};function r(s){Xo(e,s)}return s=>{const i=[],o={};t=(a,l)=>{let c=a,f=l,u=!1;const h=c.match(A1),d=c.match(p5),g=h||d;if(c.match(/^SMUI:\w+:/)){const v=c.split(":");let b="";for(let _=0;_<v.length;_++)b+=_===v.length-1?":"+v[_]:v[_].split("-").map(S=>S.slice(0,1).toUpperCase()+S.slice(1)).join("");console.warn(`The event ${c.split("$")[0]} has been renamed to ${b.split("$")[0]}.`),c=b}if(g){const v=c.split(h?":":"$");c=v[0];const b=v.slice(1).reduce((_,S)=>(_[S]=!0,_),{});b.passive&&(u=u||{},u.passive=!0),b.nonpassive&&(u=u||{},u.passive=!1),b.capture&&(u=u||{},u.capture=!0),b.once&&(u=u||{},u.once=!0),b.preventDefault&&(f=t5(f)),b.stopPropagation&&(f=n5(f))}const p=Ft(s,c,f,u),m=()=>{p();const v=i.indexOf(m);v>-1&&i.splice(v,1)};return i.push(m),c in o||(o[c]=Ft(s,c,r)),m};for(let a=0;a<n.length;a++)t(n[a][0],n[a][1]);return{destroy:()=>{for(let a=0;a<i.length;a++)i[a]();for(let a of Object.entries(o))a[1]()}}}}function qt(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s];i.substring(0,t.length)===t&&(r[i.substring(t.length)]=e[i])}return r}function an(e,t){let n=[];if(t)for(let r=0;r<t.length;r++){const s=t[r],i=Array.isArray(s)?s[0]:s;Array.isArray(s)&&s.length>1?n.push(i(e,s[1])):n.push(i(e))}return{update(r){if((r&&r.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(r)for(let s=0;s<r.length;s++){const i=n[s];if(i&&i.update){const o=r[s];Array.isArray(o)&&o.length>1?i.update(o[1]):i.update()}}},destroy(){for(let r=0;r<n.length;r++){const s=n[r];s&&s.destroy&&s.destroy()}}}}function g5(e){let t;const n=e[10].default,r=Gt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&Nt(r,n,s,s[12],t?Bt(n,s[12],i,null):Vt(s[12]),null)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function v5(e){let t,n,r;const s=[{tag:e[3]},{use:[e[5],...e[0]]},{class:ut({[e[1]]:!0,"mdc-button__label":e[6]==="button","mdc-fab__label":e[6]==="fab","mdc-tab__text-label":e[6]==="tab","mdc-image-list__label":e[6]==="image-list","mdc-snackbar__label":e[6]==="snackbar","mdc-banner__text":e[6]==="banner","mdc-segmented-button__label":e[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":e[6]==="data-table:pagination","mdc-data-table__header-cell-label":e[6]==="data-table:sortable-header-cell"})},e[6]==="snackbar"?{"aria-atomic":"false"}:{},{tabindex:e[7]},e[8]];var i=e[2];function o(a){let l={$$slots:{default:[g5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=$e(l,s[c]);return{props:l}}return i&&(t=_r(i,o(e)),e[11](t)),{c(){t&&et(t.$$.fragment),n=bn()},m(a,l){t&&Ke(t,a,l),Ee(a,n,l),r=!0},p(a,[l]){const c=l&491?Mt(s,[l&8&&{tag:a[3]},l&33&&{use:[a[5],...a[0]]},l&66&&{class:ut({[a[1]]:!0,"mdc-button__label":a[6]==="button","mdc-fab__label":a[6]==="fab","mdc-tab__text-label":a[6]==="tab","mdc-image-list__label":a[6]==="image-list","mdc-snackbar__label":a[6]==="snackbar","mdc-banner__text":a[6]==="banner","mdc-segmented-button__label":a[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":a[6]==="data-table:pagination","mdc-data-table__header-cell-label":a[6]==="data-table:sortable-header-cell"})},l&64&&hn(a[6]==="snackbar"?{"aria-atomic":"false"}:{}),l&128&&{tabindex:a[7]},l&256&&hn(a[8])]):{};if(l&4096&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){tn();const f=t;ae(f.$$.fragment,1,0,()=>{Qe(f,1)}),nn()}i?(t=_r(i,o(a)),a[11](t),et(t.$$.fragment),re(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&ae(t.$$.fragment,a),r=!1},d(a){e[11](null),a&&Ae(n),t&&Qe(t,a)}}}function b5(e,t,n){const r=["use","class","component","tag","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,f,{component:u=yr}=t,{tag:h=u===yr?"span":void 0}=t;const d=fr("SMUI:label:context"),g=fr("SMUI:label:tabindex");function p(){return f.getElement()}function m(v){rt[v?"unshift":"push"](()=>{f=v,n(4,f)})}return e.$$set=v=>{t=$e($e({},t),mn(v)),n(8,s=Et(t,r)),"use"in v&&n(0,l=v.use),"class"in v&&n(1,c=v.class),"component"in v&&n(2,u=v.component),"tag"in v&&n(3,h=v.tag),"$$scope"in v&&n(12,o=v.$$scope)},[l,c,u,h,f,a,d,g,s,p,i,m,o]}class Ki extends Yt{constructor(t){super(),Wt(this,t,b5,v5,Xt,{use:0,class:1,component:2,tag:3,getElement:9})}get getElement(){return this.$$.ctx[9]}}function _5(e){let t;const n=e[11].default,r=Gt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&Nt(r,n,s,s[13],t?Bt(n,s[13],i,null):Vt(s[13]),null)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function y5(e){let t,n,r;const s=[{tag:e[4]},{use:[e[6],...e[0]]},{class:ut({[e[1]]:!0,"mdc-button__icon":e[8]==="button","mdc-fab__icon":e[8]==="fab","mdc-icon-button__icon":e[8]==="icon-button","mdc-icon-button__icon--on":e[8]==="icon-button"&&e[2],"mdc-tab__icon":e[8]==="tab","mdc-banner__icon":e[8]==="banner","mdc-segmented-button__icon":e[8]==="segmented-button"})},{"aria-hidden":"true"},e[7]?{focusable:"false",tabindex:"-1"}:{},e[9]];var i=e[3];function o(a){let l={$$slots:{default:[_5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=$e(l,s[c]);return{props:l}}return i&&(t=_r(i,o(e)),e[12](t)),{c(){t&&et(t.$$.fragment),n=bn()},m(a,l){t&&Ke(t,a,l),Ee(a,n,l),r=!0},p(a,[l]){const c=l&983?Mt(s,[l&16&&{tag:a[4]},l&65&&{use:[a[6],...a[0]]},l&262&&{class:ut({[a[1]]:!0,"mdc-button__icon":a[8]==="button","mdc-fab__icon":a[8]==="fab","mdc-icon-button__icon":a[8]==="icon-button","mdc-icon-button__icon--on":a[8]==="icon-button"&&a[2],"mdc-tab__icon":a[8]==="tab","mdc-banner__icon":a[8]==="banner","mdc-segmented-button__icon":a[8]==="segmented-button"})},s[3],l&128&&hn(a[7]?{focusable:"false",tabindex:"-1"}:{}),l&512&&hn(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&8&&i!==(i=a[3])){if(t){tn();const f=t;ae(f.$$.fragment,1,0,()=>{Qe(f,1)}),nn()}i?(t=_r(i,o(a)),a[12](t),et(t.$$.fragment),re(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&ae(t.$$.fragment,a),r=!1},d(a){e[12](null),a&&Ae(n),t&&Qe(t,a)}}}function A5(e,t,n){const r=["use","class","on","component","tag","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{on:f=!1}=t,u,{component:h=yr}=t,{tag:d=h===yr?"i":void 0}=t;const g=h===L5,p=fr("SMUI:icon:context");function m(){return u.getElement()}function v(b){rt[b?"unshift":"push"](()=>{u=b,n(5,u)})}return e.$$set=b=>{t=$e($e({},t),mn(b)),n(9,s=Et(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"on"in b&&n(2,f=b.on),"component"in b&&n(3,h=b.component),"tag"in b&&n(4,d=b.tag),"$$scope"in b&&n(13,o=b.$$scope)},[l,c,f,h,d,u,a,g,p,s,m,i,v,o]}class Ju extends Yt{constructor(t){super(),Wt(this,t,A5,y5,Xt,{use:0,class:1,on:2,component:3,tag:4,getElement:10})}get getElement(){return this.$$.ctx[10]}}function S5(e){let t=e[1],n,r,s=e[1]&&Ef(e);return{c(){s&&s.c(),n=bn()},m(i,o){s&&s.m(i,o),Ee(i,n,o),r=!0},p(i,o){i[1]?t?Xt(t,i[1])?(s.d(1),s=Ef(i),t=i[1],s.c(),s.m(n.parentNode,n)):s.p(i,o):(s=Ef(i),t=i[1],s.c(),s.m(n.parentNode,n)):t&&(s.d(1),s=null,t=i[1])},i(i){r||(re(s),r=!0)},o(i){ae(s),r=!1},d(i){i&&Ae(n),s&&s.d(i)}}}function E5(e){let t=e[1],n,r=e[1]&&wf(e);return{c(){r&&r.c(),n=bn()},m(s,i){r&&r.m(s,i),Ee(s,n,i)},p(s,i){s[1]?t?Xt(t,s[1])?(r.d(1),r=wf(s),t=s[1],r.c(),r.m(n.parentNode,n)):r.p(s,i):(r=wf(s),t=s[1],r.c(),r.m(n.parentNode,n)):t&&(r.d(1),r=null,t=s[1])},i:Qt,o:Qt,d(s){s&&Ae(n),r&&r.d(s)}}}function Ef(e){let t,n,r,s,i;const o=e[8].default,a=Gt(o,e,e[7],null);let l=[e[5]],c={};for(let f=0;f<l.length;f+=1)c=$e(c,l[f]);return{c(){t=mt(e[1]),a&&a.c(),Tl(e[1])(t,c)},m(f,u){Ee(f,t,u),a&&a.m(t,null),e[10](t),r=!0,s||(i=[bt(n=an.call(null,t,e[0])),bt(e[4].call(null,t))],s=!0)},p(f,u){a&&a.p&&(!r||u&128)&&Nt(a,o,f,f[7],r?Bt(o,f[7],u,null):Vt(f[7]),null),Tl(f[1])(t,c=Mt(l,[u&32&&f[5]])),n&&jt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(re(a,f),r=!0)},o(f){ae(a,f),r=!1},d(f){f&&Ae(t),a&&a.d(f),e[10](null),s=!1,cn(i)}}}function wf(e){let t,n,r,s,i=[e[5]],o={};for(let a=0;a<i.length;a+=1)o=$e(o,i[a]);return{c(){t=mt(e[1]),Tl(e[1])(t,o)},m(a,l){Ee(a,t,l),e[9](t),r||(s=[bt(n=an.call(null,t,e[0])),bt(e[4].call(null,t))],r=!0)},p(a,l){Tl(a[1])(t,o=Mt(i,[l&32&&a[5]])),n&&jt(n.update)&&l&1&&n.update.call(null,a[0])},d(a){a&&Ae(t),e[9](null),r=!1,cn(s)}}}function w5(e){let t,n,r,s;const i=[E5,S5],o=[];function a(l,c){return l[3]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=bn()},m(l,c){o[t].m(l,c),Ee(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(tn(),ae(o[f],1,1,()=>{o[f]=null}),nn(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),re(n,1),n.m(r.parentNode,r))},i(l){s||(re(n),s=!0)},o(l){ae(n),s=!1},d(l){o[t].d(l),l&&Ae(r)}}}function T5(e,t,n){let r;const s=["use","tag","getElement"];let i=Et(t,s),{$$slots:o={},$$scope:a}=t,{use:l=[]}=t,{tag:c}=t;const f=_n(rn());let u;function h(){return u}function d(p){rt[p?"unshift":"push"](()=>{u=p,n(2,u)})}function g(p){rt[p?"unshift":"push"](()=>{u=p,n(2,u)})}return e.$$set=p=>{t=$e($e({},t),mn(p)),n(5,i=Et(t,s)),"use"in p&&n(0,l=p.use),"tag"in p&&n(1,c=p.tag),"$$scope"in p&&n(7,a=p.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(c)>-1)},[l,c,u,r,f,i,h,a,o,d,g]}class yr extends Yt{constructor(t){super(),Wt(this,t,T5,w5,Xt,{use:0,tag:1,getElement:6})}get getElement(){return this.$$.ctx[6]}}function C5(e){let t,n,r,s,i;const o=e[6].default,a=Gt(o,e,e[5],null);let l=[e[3]],c={};for(let f=0;f<l.length;f+=1)c=$e(c,l[f]);return{c(){t=ni("svg"),a&&a.c(),_1(t,c)},m(f,u){Ee(f,t,u),a&&a.m(t,null),e[7](t),r=!0,s||(i=[bt(n=an.call(null,t,e[0])),bt(e[2].call(null,t))],s=!0)},p(f,[u]){a&&a.p&&(!r||u&32)&&Nt(a,o,f,f[5],r?Bt(o,f[5],u,null):Vt(f[5]),null),_1(t,c=Mt(l,[u&8&&f[3]])),n&&jt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(re(a,f),r=!0)},o(f){ae(a,f),r=!1},d(f){f&&Ae(t),a&&a.d(f),e[7](null),s=!1,cn(i)}}}function P5(e,t,n){const r=["use","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t;const l=_n(rn());let c;function f(){return c}function u(h){rt[h?"unshift":"push"](()=>{c=h,n(1,c)})}return e.$$set=h=>{t=$e($e({},t),mn(h)),n(3,s=Et(t,r)),"use"in h&&n(0,a=h.use),"$$scope"in h&&n(5,o=h.$$scope)},[a,c,l,s,f,o,i,u]}class L5 extends Yt{constructor(t){super(),Wt(this,t,P5,C5,Xt,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function O5(e){let t;const n=e[4].default,r=Gt(n,e,e[3],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,[i]){r&&r.p&&(!t||i&8)&&Nt(r,n,s,s[3],t?Bt(n,s[3],i,null):Vt(s[3]),null)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function R5(e,t,n){let r,{$$slots:s={},$$scope:i}=t,{key:o}=t,{value:a}=t;const l=Ug(a);return Ho(e,l,c=>n(5,r=c)),cr(o,l),Qu(()=>{l.set(void 0)}),e.$$set=c=>{"key"in c&&n(1,o=c.key),"value"in c&&n(2,a=c.value),"$$scope"in c&&n(3,i=c.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&Ig(l,r=a,r)},[l,o,a,i,s]}class qi extends Yt{constructor(t){super(),Wt(this,t,R5,O5,Xt,{key:1,value:2})}}function S1(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}const M5=e=>({segment:e&4}),E1=e=>({segment:e[28]});function I5(e){let t;const n=e[17].default,r=Gt(n,e,e[19],E1);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&524292)&&Nt(r,n,s,s[19],t?Bt(n,s[19],i,M5):Vt(s[19]),E1)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function D5(e){let t,n,r;return t=new qi({props:{key:"SMUI:segmented-button:segment:initialSelected",value:e[7][e[30]],$$slots:{default:[I5]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment),n=pt()},m(s,i){Ke(t,s,i),Ee(s,n,i),r=!0},p(s,i){const o={};i&4&&(o.value=s[7][s[30]]),i&524292&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){r||(re(t.$$.fragment,s),r=!0)},o(s){ae(t.$$.fragment,s),r=!1},d(s){Qe(t,s),s&&Ae(n)}}}function w1(e,t){let n,r,s;return r=new qi({props:{key:"SMUI:segmented-button:segment:index",value:t[30],$$slots:{default:[D5]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=bn(),et(r.$$.fragment),this.first=n},m(i,o){Ee(i,n,o),Ke(r,i,o),s=!0},p(i,o){t=i;const a={};o&4&&(a.value=t[30]),o&524292&&(a.$$scope={dirty:o,ctx:t}),r.$set(a)},i(i){s||(re(r.$$.fragment,i),s=!0)},o(i){ae(r.$$.fragment,i),s=!1},d(i){i&&Ae(n),Qe(r,i)}}}function F5(e){let t,n=[],r=new Map,s,i,o,a,l,c,f=e[2];const u=g=>g[3](g[28]);for(let g=0;g<f.length;g+=1){let p=S1(e,f,g),m=u(p);r.set(m,n[g]=w1(m,p))}let h=[{class:s=ut({[e[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":e[4]})},{role:i=e[4]?"radiogroup":"group"},e[12]],d={};for(let g=0;g<h.length;g+=1)d=$e(d,h[g]);return{c(){t=mt("div");for(let g=0;g<n.length;g+=1)n[g].c();At(t,d)},m(g,p){Ee(g,t,p);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(t,null);e[18](t),a=!0,l||(c=[bt(o=an.call(null,t,e[0])),bt(e[6].call(null,t)),Ft(t,"SMUISegmentedButtonSegment:mount",e[9]),Ft(t,"SMUISegmentedButtonSegment:unmount",e[10]),Ft(t,"selected",e[11])],l=!0)},p(g,[p]){p&524428&&(f=g[2],tn(),n=Bg(n,p,u,1,g,f,r,t,Gg,w1,null,S1),nn()),At(t,d=Mt(h,[(!a||p&18&&s!==(s=ut({[g[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":g[4]})))&&{class:s},(!a||p&16&&i!==(i=g[4]?"radiogroup":"group"))&&{role:i},p&4096&&g[12]])),o&&jt(o.update)&&p&1&&o.update.call(null,g[0])},i(g){if(!a){for(let p=0;p<f.length;p+=1)re(n[p]);a=!0}},o(g){for(let p=0;p<n.length;p+=1)ae(n[p]);a=!1},d(g){g&&Ae(t);for(let p=0;p<n.length;p+=1)n[p].d();e[18](null),l=!1,cn(c)}}}function T1(e,t){let n=new Set(e);for(let r of t)n.delete(r);return n}function k5(e,t,n){const r=["use","class","segments","key","singleSelect","selected","getElement"];let s=Et(t,r),i,{$$slots:o={},$$scope:a}=t;const l=_n(rn());let{use:c=[]}=t,{class:f=""}=t,{segments:u=[]}=t,{key:h=ne=>ne}=t,{singleSelect:d=!1}=t,{selected:g=d?void 0:[]}=t,p,m,v={},b=new WeakMap,_=u.map(ne=>d&&g===ne||!d&&g.indexOf(ne)!==-1);cr("SMUI:icon:context","segmented-button"),cr("SMUI:label:context","segmented-button");const S=Ug(d);Ho(e,S,ne=>n(21,i=ne)),cr("SMUI:segmented-button:singleSelect",S);let E=d?g:new Set(g);Yn(()=>(n(15,m=new Vg.MDCSegmentedButtonFoundation({hasClass:ne=>j().classList.contains(ne),getSegments:()=>u.map((ne,H)=>({index:H,selected:d?g===ne:g.indexOf(ne)!==-1})),selectSegment:se,unselectSegment:V,notifySelectedChange:ne=>{ne.selected?se(ne.index):V(ne.index),Tn(j(),"change",ne)}})),m.init(),()=>{m.destroy()}));function w(ne){const H=ne.detail;B(H.segmentId,H)}function A(ne){const H=ne.detail;k(H.segmentId)}function L(ne){m&&m.handleSelected(ne.detail)}function U(ne){return ne instanceof Object?b.get(ne):v[ne]}function B(ne,H){ne instanceof Object?b.set(ne,H):v[ne]=H}function k(ne){ne instanceof Object?b.delete(ne):delete v[ne]}function se(ne){let H=u.indexOf(ne);H===-1&&(H=ne),d?g!==u[H]&&n(13,g=u[H]):g.indexOf(u[H])===-1&&(g.push(u[H]),n(13,g));const fe=U(u[H]);fe&&(fe.selected=!0)}function V(ne){let H=u.indexOf(ne);if(H===-1&&(H=ne),d)g===u[H]&&n(13,g=null);else{const J=g.indexOf(u[H]);J!==-1&&(g.splice(J,1),n(13,g))}const fe=U(u[H]);fe&&(fe.selected=!1)}function j(){return p}function Ie(ne){rt[ne?"unshift":"push"](()=>{p=ne,n(5,p)})}return e.$$set=ne=>{t=$e($e({},t),mn(ne)),n(12,s=Et(t,r)),"use"in ne&&n(0,c=ne.use),"class"in ne&&n(1,f=ne.class),"segments"in ne&&n(2,u=ne.segments),"key"in ne&&n(3,h=ne.key),"singleSelect"in ne&&n(4,d=ne.singleSelect),"selected"in ne&&n(13,g=ne.selected),"$$scope"in ne&&n(19,a=ne.$$scope)},e.$$.update=()=>{if(e.$$.dirty&16&&Ig(S,i=d,i),e.$$.dirty&106512&&m&&d&&E!==g&&(E!=null&&m.unselectSegment(E),n(16,E=g),g!=null&&m.selectSegment(g)),e.$$.dirty&106516&&m&&!d){const ne=new Set(g),H=T1(E,ne),fe=T1(ne,E);if(H.size||fe.size){n(16,E=ne);for(let J of H){const ve=u.indexOf(J);ve!==-1&&m.unselectSegment(ve)}for(let J of fe)m.selectSegment(u.indexOf(J))}}},[c,f,u,h,d,p,l,_,S,w,A,L,s,g,j,m,E,o,Ie,a]}class x5 extends Yt{constructor(t){super(),Wt(this,t,k5,F5,Xt,{use:0,class:1,segments:2,key:3,singleSelect:4,selected:13,getElement:14})}get getElement(){return this.$$.ctx[14]}}var Xa;function G5(e,t){t===void 0&&(t=!1);var n=e.CSS,r=Xa;if(typeof Xa=="boolean"&&!t)return Xa;var s=n&&typeof n.supports=="function";if(!s)return!1;var i=n.supports("--css-vars","yes"),o=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return r=i||o,t||(Xa=r),r}function B5(e,t,n){if(!e)return{x:0,y:0};var r=t.x,s=t.y,i=r+n.left,o=s+n.top,a,l;if(e.type==="touchstart"){var c=e;a=c.changedTouches[0].pageX-i,l=c.changedTouches[0].pageY-o}else{var f=e;a=f.pageX-i,l=f.pageY-o}return{x:a,y:l}}var Nu=function(e,t){return Nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Nu(e,t)};function Bn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ln=function(){return ln=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ln.apply(this,arguments)};function br(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $g(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function N5(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ar=function(){function e(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function V5(e){return e===void 0&&(e=window),U5(e)?{passive:!0}:!1}function U5(e){e===void 0&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch{t=!1}return t}const Hg=Object.freeze(Object.defineProperty({__proto__:null,applyPassive:V5},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function $5(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(zg(n,t))return n;n=n.parentElement}return null}function zg(e,t){var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return n.call(e,t)}function H5(e){var t=e;if(t.offsetParent!==null)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}const jg=Object.freeze(Object.defineProperty({__proto__:null,closest:$5,estimateScrollWidth:H5,matches:zg},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var z5={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},j5={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},C1={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var P1=["touchstart","pointerdown","mousedown","keydown"],L1=["touchend","pointerup","mouseup","contextmenu"],Wa=[],q5=function(e){Bn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(s){r.activateImpl(s)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return z5},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return j5},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return C1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this,r=this.supportsPressRipple();if(this.registerRootHandlers(r),r){var s=t.cssClasses,i=s.ROOT,o=s.UNBOUNDED;requestAnimationFrame(function(){n.adapter.addClass(i),n.adapter.isUnbounded()&&(n.adapter.addClass(o),n.layoutInternal())})}},t.prototype.destroy=function(){var n=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var r=t.cssClasses,s=r.ROOT,i=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter.removeClass(s),n.adapter.removeClass(i),n.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(n){this.activateImpl(n)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var n=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){n.layoutInternal(),n.layoutFrame=0})},t.prototype.setUnbounded=function(n){var r=t.cssClasses.UNBOUNDED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter.addClass(t.cssClasses.BG_FOCUSED)})},t.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter.removeClass(t.cssClasses.BG_FOCUSED)})},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(n){var r,s;if(n){try{for(var i=br(P1),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerInteractionHandler(a,this.activateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(n){var r,s;if(n.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var i=br(L1),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerDocumentInteractionHandler(a,this.deactivateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}},t.prototype.deregisterRootHandlers=function(){var n,r;try{for(var s=br(P1),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterInteractionHandler(o,this.activateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var n,r;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var s=br(L1),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterDocumentInteractionHandler(o,this.deactivateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.removeCssVars=function(){var n=this,r=t.strings,s=Object.keys(r);s.forEach(function(i){i.indexOf("VAR_")===0&&n.adapter.updateCssVariable(r[i],null)})},t.prototype.activateImpl=function(n){var r=this;if(!this.adapter.isSurfaceDisabled()){var s=this.activationState;if(!s.isActivated){var i=this.previousActivationEvent,o=i&&n!==void 0&&i.type!==n.type;if(!o){s.isActivated=!0,s.isProgrammatic=n===void 0,s.activationEvent=n,s.wasActivatedByPointer=s.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var a=n!==void 0&&Wa.length>0&&Wa.some(function(l){return r.adapter.containsEventTarget(l)});if(a){this.resetActivationState();return}n!==void 0&&(Wa.push(n.target),this.registerDeactivationHandlers(n)),s.wasElementMadeActive=this.checkElementMadeActive(n),s.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){Wa=[],!s.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(s.wasElementMadeActive=r.checkElementMadeActive(n),s.wasElementMadeActive&&r.animateActivation()),s.wasElementMadeActive||(r.activationState=r.defaultActivationState())})}}}},t.prototype.checkElementMadeActive=function(n){return n!==void 0&&n.type==="keydown"?this.adapter.isSurfaceActive():!0},t.prototype.animateActivation=function(){var n=this,r=t.strings,s=r.VAR_FG_TRANSLATE_START,i=r.VAR_FG_TRANSLATE_END,o=t.cssClasses,a=o.FG_DEACTIVATION,l=o.FG_ACTIVATION,c=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var f="",u="";if(!this.adapter.isUnbounded()){var h=this.getFgTranslationCoordinates(),d=h.startPoint,g=h.endPoint;f=d.x+"px, "+d.y+"px",u=g.x+"px, "+g.y+"px"}this.adapter.updateCssVariable(s,f),this.adapter.updateCssVariable(i,u),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer=setTimeout(function(){n.activationTimerCallback()},c)},t.prototype.getFgTranslationCoordinates=function(){var n=this.activationState,r=n.activationEvent,s=n.wasActivatedByPointer,i;s?i=B5(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):i={x:this.frame.width/2,y:this.frame.height/2},i={x:i.x-this.initialSize/2,y:i.y-this.initialSize/2};var o={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:i,endPoint:o}},t.prototype.runDeactivationUXLogicIfReady=function(){var n=this,r=t.cssClasses.FG_DEACTIVATION,s=this.activationState,i=s.hasDeactivationUXRun,o=s.isActivated,a=i||!o;a&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer=setTimeout(function(){n.adapter.removeClass(r)},C1.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var n=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(n),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var n=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return n.previousActivationEvent=void 0},t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var n=this,r=this.activationState;if(r.isActivated){var s=ln({},r);r.isProgrammatic?(requestAnimationFrame(function(){n.animateDeactivation(s)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){n.activationState.hasDeactivationUXRun=!0,n.animateDeactivation(s),n.resetActivationState()}))}},t.prototype.animateDeactivation=function(n){var r=n.wasActivatedByPointer,s=n.wasElementMadeActive;(r||s)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var n=this;this.frame=this.adapter.computeBoundingRect();var r=Math.max(this.frame.height,this.frame.width),s=function(){var o=Math.sqrt(Math.pow(n.frame.width,2)+Math.pow(n.frame.height,2));return o+t.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?r:s();var i=Math.floor(r*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&i%2!==0?this.initialSize=i-1:this.initialSize=i,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var n=t.strings,r=n.VAR_FG_SIZE,s=n.VAR_LEFT,i=n.VAR_TOP,o=n.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(s,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords.top+"px"))},t}(Ar);const{applyPassive:Ya}=Hg,{matches:X5}=jg;function $r(e,{ripple:t=!0,surface:n=!1,unbounded:r=!1,disabled:s=!1,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f=g=>e.classList.add(g),removeClass:u=g=>e.classList.remove(g),addStyle:h=(g,p)=>e.style.setProperty(g,p),initPromise:d=Promise.resolve()}={}){let g,p=fr("SMUI:addLayoutListener"),m,v=o,b=l,_=c;function S(){n?(f("mdc-ripple-surface"),i==="primary"?(f("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")):i==="secondary"?(u("smui-ripple-surface--primary"),f("smui-ripple-surface--secondary")):(u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary"))):(u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),g&&v!==o&&(v=o,o?g.activate():o===!1&&g.deactivate()),t&&!g?(g=new q5({addClass:f,browserSupportsCssVars:()=>G5(window),computeBoundingRect:()=>(a||e).getBoundingClientRect(),containsEventTarget:w=>e.contains(w),deregisterDocumentInteractionHandler:(w,A)=>document.documentElement.removeEventListener(w,A,Ya()),deregisterInteractionHandler:(w,A)=>(l||e).removeEventListener(w,A,Ya()),deregisterResizeHandler:w=>window.removeEventListener("resize",w),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>o??X5(c||e,":active"),isSurfaceDisabled:()=>!!s,isUnbounded:()=>!!r,registerDocumentInteractionHandler:(w,A)=>document.documentElement.addEventListener(w,A,Ya()),registerInteractionHandler:(w,A)=>(l||e).addEventListener(w,A,Ya()),registerResizeHandler:w=>window.addEventListener("resize",w),removeClass:u,updateCssVariable:h}),d.then(()=>{g&&(g.init(),g.setUnbounded(r))})):g&&!t&&d.then(()=>{g&&(g.destroy(),g=void 0)}),g&&(b!==l||_!==c)&&(b=l,_=c,g.destroy(),requestAnimationFrame(()=>{g&&(g.init(),g.setUnbounded(r))})),!t&&r&&f("mdc-ripple-upgraded--unbounded")}S(),p&&(m=p(E));function E(){g&&g.layout()}return{update(w){({ripple:t,surface:n,unbounded:r,disabled:s,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f,removeClass:u,addStyle:h,initPromise:d}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:A=>e.classList.add(A),removeClass:A=>e.classList.remove(A),addStyle:(A,L)=>e.style.setProperty(A,L),initPromise:Promise.resolve()},w)),S()},destroy(){g&&(g.destroy(),g=void 0,u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),m&&m()}}}function O1(e){let t;return{c(){t=mt("div"),gt(t,"class","mdc-segmented-button__ripple")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function R1(e){let t;return{c(){t=mt("div"),gt(t,"class","mdc-segmented-button__segment__touch")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function W5(e){let t,n,r,s,i,o,a,l,c,f,u,h,d=e[4]&&O1();const g=e[23].default,p=Gt(g,e,e[22],null);let m=e[5]&&R1(),v=[{class:r=ut({[e[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":e[5],"mdc-segmented-button__segment--selected":e[0],...e[8]})},{style:s=Object.entries(e[9]).map(M1).concat([e[3]]).join(" ")},{role:i=e[14]?"radio":void 0},{"aria-pressed":o=e[14]?void 0:e[0]?"true":"false"},{"aria-checked":a=e[14]?e[0]?"true":"false":void 0},e[10],e[19]],b={};for(let _=0;_<v.length;_+=1)b=$e(b,v[_]);return{c(){t=mt("button"),d&&d.c(),n=bn(),p&&p.c(),m&&m.c(),At(t,b)},m(_,S){Ee(_,t,S),d&&d.m(t,null),xt(t,n),p&&p.m(t,null),m&&m.m(t,null),t.autofocus&&t.focus(),e[24](t),f=!0,u||(h=[bt(l=$r.call(null,t,{ripple:e[4],unbounded:!1,addClass:e[16],removeClass:e[17],addStyle:e[18]})),bt(e[11].call(null,t)),bt(c=an.call(null,t,e[1])),Ft(t,"click",e[25])],u=!0)},p(_,S){_[4]?d||(d=O1(),d.c(),d.m(t,n)):d&&(d.d(1),d=null),p&&p.p&&(!f||S[0]&4194304)&&Nt(p,g,_,_[22],f?Bt(g,_[22],S,null):Vt(_[22]),null),_[5]?m||(m=R1(),m.c(),m.m(t,null)):m&&(m.d(1),m=null),At(t,b=Mt(v,[(!f||S[0]&293&&r!==(r=ut({[_[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":_[5],"mdc-segmented-button__segment--selected":_[0],..._[8]})))&&{class:r},(!f||S[0]&520&&s!==(s=Object.entries(_[9]).map(M1).concat([_[3]]).join(" ")))&&{style:s},{role:i},(!f||S[0]&1&&o!==(o=_[14]?void 0:_[0]?"true":"false"))&&{"aria-pressed":o},(!f||S[0]&1&&a!==(a=_[14]?_[0]?"true":"false":void 0))&&{"aria-checked":a},S[0]&1024&&_[10],S[0]&524288&&_[19]])),l&&jt(l.update)&&S[0]&16&&l.update.call(null,{ripple:_[4],unbounded:!1,addClass:_[16],removeClass:_[17],addStyle:_[18]}),c&&jt(c.update)&&S[0]&2&&c.update.call(null,_[1])},i(_){f||(re(p,_),f=!0)},o(_){ae(p,_),f=!1},d(_){_&&Ae(t),d&&d.d(),p&&p.d(_),m&&m.d(),e[24](null),u=!1,cn(h)}}}const M1=([e,t])=>`${e}: ${t};`;function Y5(e,t,n){const r=["use","class","style","segment","ripple","touch","selected","getElement"];let s=Et(t,r),i,o,a,{$$slots:l={},$$scope:c}=t;const f=_n(rn());let u=()=>{};function h(xe){return xe===u}let{use:d=[]}=t,{class:g=""}=t,{style:p=""}=t,{segment:m}=t,{ripple:v=!0}=t,{touch:b=!1}=t;const _=fr("SMUI:segmented-button:segment:initialSelected");Ho(e,_,xe=>n(28,a=xe));let{selected:S=u}=t,E=!h(S);h(S)&&(S=a);let w,A,L={},U={},B={};const k=fr("SMUI:segmented-button:singleSelect");Ho(e,k,xe=>n(27,o=xe));const se=fr("SMUI:segmented-button:segment:index");if(Ho(e,se,xe=>n(26,i=xe)),!m)throw new Error("The segment property is required! It should be passed down from the SegmentedButton to the Segment.");Yn(()=>{n(6,A=new Vg.MDCSegmentedButtonSegmentFoundation({isSingleSelect:()=>o,getAttr:ne,setAttr:H,addClass:j,removeClass:Ie,hasClass:V,notifySelectedChange:It=>{n(0,S=It),Tn(J(),"selected",{index:i,selected:S,segmentId:m})},getRootBoundingClientRect:()=>J().getBoundingClientRect()}));const xe={segmentId:m,get selected(){return S},set selected(It){S!==It&&n(0,S=It)}};return Tn(J(),"SMUISegmentedButtonSegment:mount",xe),A.init(),()=>{Tn(J(),"SMUISegmentedButtonSegment:unmount",xe),A.destroy()}});function V(xe){return xe in L?L[xe]:J().classList.contains(xe)}function j(xe){L[xe]||n(8,L[xe]=!0,L)}function Ie(xe){(!(xe in L)||L[xe])&&n(8,L[xe]=!1,L)}function ne(xe){var It;return xe in B?(It=B[xe])!==null&&It!==void 0?It:null:J().getAttribute(xe)}function H(xe,It){B[xe]!==It&&n(10,B[xe]=It,B)}function fe(xe,It){U[xe]!=It&&(It===""||It==null?(delete U[xe],n(9,U)):n(9,U[xe]=It,U))}function J(){return w}function ve(xe){rt[xe?"unshift":"push"](()=>{w=xe,n(7,w)})}const kt=xe=>!xe.defaultPrevented&&A&&!E&&A.handleClick();return e.$$set=xe=>{t=$e($e({},t),mn(xe)),n(19,s=Et(t,r)),"use"in xe&&n(1,d=xe.use),"class"in xe&&n(2,g=xe.class),"style"in xe&&n(3,p=xe.style),"segment"in xe&&n(20,m=xe.segment),"ripple"in xe&&n(4,v=xe.ripple),"touch"in xe&&n(5,b=xe.touch),"selected"in xe&&n(0,S=xe.selected),"$$scope"in xe&&n(22,c=xe.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&65&&A&&A.isSelected()&&!S&&A.setUnselected(),e.$$.dirty[0]&65&&A&&!A.isSelected()&&S&&A.setSelected()},[S,d,g,p,v,b,A,w,L,U,B,f,_,E,k,se,j,Ie,fe,s,m,J,c,l,ve,kt]}class Z5 extends Yt{constructor(t){super(),Wt(this,t,Y5,W5,Xt,{use:1,class:2,style:3,segment:20,ripple:4,touch:5,selected:0,getElement:21},null,[-1,-1])}get getElement(){return this.$$.ctx[21]}}function K5(e){let t,n,r,s,i,o;const a=e[12].default,l=Gt(a,e,e[11],null);let c=[{class:n=ut({[e[1]]:!0,"smui-paper":!0,"smui-paper--raised":e[2]==="raised","smui-paper--unelevated":e[2]==="unelevated","smui-paper--outlined":e[2]==="outlined",["smui-paper--elevation-z"+e[5]]:e[5]!==0&&e[2]==="raised","smui-paper--rounded":!e[3],["smui-paper--color-"+e[4]]:e[4]!=="default","smui-paper-transition":e[6]})},e[9]],f={};for(let u=0;u<c.length;u+=1)f=$e(f,c[u]);return{c(){t=mt("div"),l&&l.c(),At(t,f)},m(u,h){Ee(u,t,h),l&&l.m(t,null),e[13](t),s=!0,i||(o=[bt(r=an.call(null,t,e[0])),bt(e[8].call(null,t))],i=!0)},p(u,[h]){l&&l.p&&(!s||h&2048)&&Nt(l,a,u,u[11],s?Bt(a,u[11],h,null):Vt(u[11]),null),At(t,f=Mt(c,[(!s||h&126&&n!==(n=ut({[u[1]]:!0,"smui-paper":!0,"smui-paper--raised":u[2]==="raised","smui-paper--unelevated":u[2]==="unelevated","smui-paper--outlined":u[2]==="outlined",["smui-paper--elevation-z"+u[5]]:u[5]!==0&&u[2]==="raised","smui-paper--rounded":!u[3],["smui-paper--color-"+u[4]]:u[4]!=="default","smui-paper-transition":u[6]})))&&{class:n},h&512&&u[9]])),r&&jt(r.update)&&h&1&&r.update.call(null,u[0])},i(u){s||(re(l,u),s=!0)},o(u){ae(l,u),s=!1},d(u){u&&Ae(t),l&&l.d(u),e[13](null),i=!1,cn(o)}}}function Q5(e,t,n){const r=["use","class","variant","square","color","elevation","transition","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{variant:f="raised"}=t,{square:u=!1}=t,{color:h="default"}=t,{elevation:d=1}=t,{transition:g=!1}=t,p;function m(){return p}function v(b){rt[b?"unshift":"push"](()=>{p=b,n(7,p)})}return e.$$set=b=>{t=$e($e({},t),mn(b)),n(9,s=Et(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"variant"in b&&n(2,f=b.variant),"square"in b&&n(3,u=b.square),"color"in b&&n(4,h=b.color),"elevation"in b&&n(5,d=b.elevation),"transition"in b&&n(6,g=b.transition),"$$scope"in b&&n(11,o=b.$$scope)},[l,c,f,u,h,d,g,p,a,s,m,o,i,v]}class Fl extends Yt{constructor(t){super(),Wt(this,t,Q5,K5,Xt,{use:0,class:1,variant:2,square:3,color:4,elevation:5,transition:6,getElement:10})}get getElement(){return this.$$.ctx[10]}}function J5(e){let t;const n=e[11].default,r=Gt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&Nt(r,n,s,s[13],t?Bt(n,s[13],i,null):Vt(s[13]),null)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function e3(e){let t,n,r;const s=[{tag:e[3]},{use:[e[8],...e[0]]},{class:ut({[e[1]]:!0,[e[6]]:!0,...e[5]})},e[7],e[9]];var i=e[2];function o(a){let l={$$slots:{default:[J5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=$e(l,s[c]);return{props:l}}return i&&(t=_r(i,o(e)),e[12](t)),{c(){t&&et(t.$$.fragment),n=bn()},m(a,l){t&&Ke(t,a,l),Ee(a,n,l),r=!0},p(a,[l]){const c=l&1003?Mt(s,[l&8&&{tag:a[3]},l&257&&{use:[a[8],...a[0]]},l&98&&{class:ut({[a[1]]:!0,[a[6]]:!0,...a[5]})},l&128&&hn(a[7]),l&512&&hn(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){tn();const f=t;ae(f.$$.fragment,1,0,()=>{Qe(f,1)}),nn()}i?(t=_r(i,o(a)),a[12](t),et(t.$$.fragment),re(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&ae(t.$$.fragment,a),r=!1},d(a){e[12](null),a&&Ae(n),t&&Qe(t,a)}}}const es={component:yr,tag:"div",class:"",classMap:{},contexts:{},props:{}};function t3(e,t,n){const r=["use","class","component","tag","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t,{class:l=""}=t,c;const f=es.class,u={},h=[],d=es.contexts,g=es.props;let{component:p=es.component}=t,{tag:m=p===yr?es.tag:void 0}=t;Object.entries(es.classMap).forEach(([S,E])=>{const w=fr(E);w&&"subscribe"in w&&h.push(w.subscribe(A=>{n(5,u[S]=A,u)}))});const v=_n(rn());for(let S in d)d.hasOwnProperty(S)&&cr(S,d[S]);Qu(()=>{for(const S of h)S()});function b(){return c.getElement()}function _(S){rt[S?"unshift":"push"](()=>{c=S,n(4,c)})}return e.$$set=S=>{t=$e($e({},t),mn(S)),n(9,s=Et(t,r)),"use"in S&&n(0,a=S.use),"class"in S&&n(1,l=S.class),"component"in S&&n(2,p=S.component),"tag"in S&&n(3,m=S.tag),"$$scope"in S&&n(13,o=S.$$scope)},[a,l,p,m,c,u,f,g,v,s,b,i,_,o]}class n3 extends Yt{constructor(t){super(),Wt(this,t,t3,e3,Xt,{use:0,class:1,component:2,tag:3,getElement:10})}get getElement(){return this.$$.ctx[10]}}const I1=Object.assign({},es);function Qi(e){return new Proxy(n3,{construct:function(t,n){return Object.assign(es,I1,e),new t(...n)},get:function(t,n){return Object.assign(es,I1,e),t[n]}})}Qi({class:"smui-paper__content",tag:"div"});Qi({class:"smui-paper__title",tag:"h5"});Qi({class:"smui-paper__subtitle",tag:"h6"});function D1(e){let t;return{c(){t=mt("div"),gt(t,"class","mdc-button__touch")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function r3(e){let t,n,r,s;const i=e[28].default,o=Gt(i,e,e[30],null);let a=e[6]&&D1();return{c(){t=mt("div"),n=pt(),o&&o.c(),a&&a.c(),r=bn(),gt(t,"class","mdc-button__ripple")},m(l,c){Ee(l,t,c),Ee(l,n,c),o&&o.m(l,c),a&&a.m(l,c),Ee(l,r,c),s=!0},p(l,c){o&&o.p&&(!s||c[0]&1073741824)&&Nt(o,i,l,l[30],s?Bt(i,l[30],c,null):Vt(l[30]),null),l[6]?a||(a=D1(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(l){s||(re(o,l),s=!0)},o(l){ae(o,l),s=!1},d(l){l&&Ae(t),l&&Ae(n),o&&o.d(l),a&&a.d(l),l&&Ae(r)}}}function s3(e){let t,n,r;const s=[{tag:e[10]},{use:[[$r,{ripple:e[3],unbounded:!1,color:e[4],disabled:!!e[23].disabled,addClass:e[19],removeClass:e[20],addStyle:e[21]}],e[17],...e[0]]},{class:ut({[e[1]]:!0,"mdc-button":!0,"mdc-button--raised":e[5]==="raised","mdc-button--unelevated":e[5]==="unelevated","mdc-button--outlined":e[5]==="outlined","smui-button--color-secondary":e[4]==="secondary","mdc-button--touch":e[6],"mdc-card__action":e[18]==="card:action","mdc-card__action--button":e[18]==="card:action","mdc-dialog__button":e[18]==="dialog:action","mdc-top-app-bar__navigation-icon":e[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":e[18]==="top-app-bar:action","mdc-snackbar__action":e[18]==="snackbar:actions","mdc-banner__secondary-action":e[18]==="banner"&&e[8],"mdc-banner__primary-action":e[18]==="banner"&&!e[8],"mdc-tooltip__action":e[18]==="tooltip:rich-actions",...e[12]})},{style:Object.entries(e[13]).map(F1).concat([e[2]]).join(" ")},e[16],e[15],e[14],{href:e[7]},e[23]];var i=e[9];function o(a){let l={$$slots:{default:[r3]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=$e(l,s[c]);return{props:l}}return i&&(t=_r(i,o(e)),e[29](t),t.$on("click",e[22])),{c(){t&&et(t.$$.fragment),n=bn()},m(a,l){t&&Ke(t,a,l),Ee(a,n,l),r=!0},p(a,l){const c=l[0]&12580351?Mt(s,[l[0]&1024&&{tag:a[10]},l[0]&12189721&&{use:[[$r,{ripple:a[3],unbounded:!1,color:a[4],disabled:!!a[23].disabled,addClass:a[19],removeClass:a[20],addStyle:a[21]}],a[17],...a[0]]},l[0]&266610&&{class:ut({[a[1]]:!0,"mdc-button":!0,"mdc-button--raised":a[5]==="raised","mdc-button--unelevated":a[5]==="unelevated","mdc-button--outlined":a[5]==="outlined","smui-button--color-secondary":a[4]==="secondary","mdc-button--touch":a[6],"mdc-card__action":a[18]==="card:action","mdc-card__action--button":a[18]==="card:action","mdc-dialog__button":a[18]==="dialog:action","mdc-top-app-bar__navigation-icon":a[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":a[18]==="top-app-bar:action","mdc-snackbar__action":a[18]==="snackbar:actions","mdc-banner__secondary-action":a[18]==="banner"&&a[8],"mdc-banner__primary-action":a[18]==="banner"&&!a[8],"mdc-tooltip__action":a[18]==="tooltip:rich-actions",...a[12]})},l[0]&8196&&{style:Object.entries(a[13]).map(F1).concat([a[2]]).join(" ")},l[0]&65536&&hn(a[16]),l[0]&32768&&hn(a[15]),l[0]&16384&&hn(a[14]),l[0]&128&&{href:a[7]},l[0]&8388608&&hn(a[23])]):{};if(l[0]&1073741888&&(c.$$scope={dirty:l,ctx:a}),l[0]&512&&i!==(i=a[9])){if(t){tn();const f=t;ae(f.$$.fragment,1,0,()=>{Qe(f,1)}),nn()}i?(t=_r(i,o(a)),a[29](t),t.$on("click",a[22]),et(t.$$.fragment),re(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&ae(t.$$.fragment,a),r=!1},d(a){e[29](null),a&&Ae(n),t&&Qe(t,a)}}}const F1=([e,t])=>`${e}: ${t};`;function i3(e,t,n){let r,s,i;const o=["use","class","style","ripple","color","variant","touch","href","action","defaultAction","secondary","component","tag","getElement"];let a=Et(t,o),{$$slots:l={},$$scope:c}=t;const f=_n(rn());let{use:u=[]}=t,{class:h=""}=t,{style:d=""}=t,{ripple:g=!0}=t,{color:p="primary"}=t,{variant:m="text"}=t,{touch:v=!1}=t,{href:b=void 0}=t,{action:_="close"}=t,{defaultAction:S=!1}=t,{secondary:E=!1}=t,w,A={},L={},U=fr("SMUI:button:context"),{component:B=yr}=t,{tag:k=B===yr?b==null?"button":"a":void 0}=t,se=a.disabled;cr("SMUI:label:context","button"),cr("SMUI:icon:context","button");function V(J){A[J]||n(12,A[J]=!0,A)}function j(J){(!(J in A)||A[J])&&n(12,A[J]=!1,A)}function Ie(J,ve){L[J]!=ve&&(ve===""||ve==null?(delete L[J],n(13,L)):n(13,L[J]=ve,L))}function ne(){U==="banner"&&Tn(H(),E?"SMUIBannerButton:secondaryActionClick":"SMUIBannerButton:primaryActionClick")}function H(){return w.getElement()}function fe(J){rt[J?"unshift":"push"](()=>{w=J,n(11,w)})}return e.$$set=J=>{n(31,t=$e($e({},t),mn(J))),n(23,a=Et(t,o)),"use"in J&&n(0,u=J.use),"class"in J&&n(1,h=J.class),"style"in J&&n(2,d=J.style),"ripple"in J&&n(3,g=J.ripple),"color"in J&&n(4,p=J.color),"variant"in J&&n(5,m=J.variant),"touch"in J&&n(6,v=J.touch),"href"in J&&n(7,b=J.href),"action"in J&&n(24,_=J.action),"defaultAction"in J&&n(25,S=J.defaultAction),"secondary"in J&&n(8,E=J.secondary),"component"in J&&n(9,B=J.component),"tag"in J&&n(10,k=J.tag),"$$scope"in J&&n(30,c=J.$$scope)},e.$$.update=()=>{if(n(16,r=U==="dialog:action"&&_!=null?{"data-mdc-dialog-action":_}:{action:t.action}),n(15,s=U==="dialog:action"&&S?{"data-mdc-dialog-button-default":""}:{default:t.default}),n(14,i=U==="banner"?{}:{secondary:t.secondary}),se!==a.disabled){const J=H();"blur"in J&&J.blur(),n(27,se=a.disabled)}},t=mn(t),[u,h,d,g,p,m,v,b,E,B,k,w,A,L,i,s,r,f,U,V,j,Ie,ne,a,_,S,H,se,l,fe,c]}class yl extends Yt{constructor(t){super(),Wt(this,t,i3,s3,Xt,{use:0,class:1,style:2,ripple:3,color:4,variant:5,touch:6,href:7,action:24,defaultAction:25,secondary:8,component:9,tag:10,getElement:26},null,[-1,-1])}get getElement(){return this.$$.ctx[26]}}function k1(e,t,n){const r=e.slice();return r[6]=t[n],r[8]=n,r}function x1(e,t,n){const r=e.slice();return r[9]=t[n],r[10]=t,r[11]=n,r}function o3(e){let t=e[12]+"",n;return{c(){n=Xn(t)},m(r,s){Ee(r,n,s)},p(r,s){s&4096&&t!==(t=r[12]+"")&&li(n,t)},d(r){r&&Ae(n)}}}function a3(e){let t,n;return t=new Ki({props:{$$slots:{default:[o3]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s&12288&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function l3(e){let t,n;return t=new Z5({props:{segment:e[12],$$slots:{default:[a3]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s&4096&&(i.segment=r[12]),s&12288&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function c3(e){let t;return{c(){t=Xn("Clear all")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function f3(e){let t,n;return t=new Ki({props:{$$slots:{default:[c3]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s&8192&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function G1(e){let t,n,r;function s(o){e[5](o,e[9],e[10],e[11])}let i={x:e[11],y:e[8],mode:e[2].indexOf(e[1])};return e[9]!==void 0&&(i.value=e[9]),t=new h5({props:i}),rt.push(()=>Mn(t,"value",s)),{c(){et(t.$$.fragment)},m(o,a){Ke(t,o,a),r=!0},p(o,a){e=o;const l={};a&2&&(l.mode=e[2].indexOf(e[1])),!n&&a&1&&(n=!0,l.value=e[9],Rn(()=>n=!1)),t.$set(l)},i(o){r||(re(t.$$.fragment,o),r=!0)},o(o){ae(t.$$.fragment,o),r=!1},d(o){Qe(t,o)}}}function B1(e){let t,n,r=e[6],s=[];for(let o=0;o<r.length;o+=1)s[o]=G1(x1(e,r,o));const i=o=>ae(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=bn()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);Ee(o,t,a),n=!0},p(o,a){if(a&7){r=o[6];let l;for(l=0;l<r.length;l+=1){const c=x1(o,r,l);s[l]?(s[l].p(c,a),re(s[l],1)):(s[l]=G1(c),s[l].c(),re(s[l],1),s[l].m(t.parentNode,t))}for(tn(),l=r.length;l<s.length;l+=1)i(l);nn()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)re(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)ae(s[a]);n=!1},d(o){Dg(s,o),o&&Ae(t)}}}function u3(e){let t,n,r=e[0],s=[];for(let o=0;o<r.length;o+=1)s[o]=B1(k1(e,r,o));const i=o=>ae(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=bn()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);Ee(o,t,a),n=!0},p(o,a){if(a&7){r=o[0];let l;for(l=0;l<r.length;l+=1){const c=k1(o,r,l);s[l]?(s[l].p(c,a),re(s[l],1)):(s[l]=B1(c),s[l].c(),re(s[l],1),s[l].m(t.parentNode,t))}for(tn(),l=r.length;l<s.length;l+=1)i(l);nn()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)re(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)ae(s[a]);n=!1},d(o){Dg(s,o),o&&Ae(t)}}}function d3(e){let t,n,r,s,i,o,a,l;function c(u){e[4](u)}let f={segments:e[2],singleSelect:!0,$$slots:{default:[l3,({segment:u})=>({12:u}),({segment:u})=>u?4096:0]},$$scope:{ctx:e}};return e[1]!==void 0&&(f.selected=e[1]),n=new x5({props:f}),rt.push(()=>Mn(n,"selected",c)),i=new yl({props:{variant:"outlined",$$slots:{default:[f3]},$$scope:{ctx:e}}}),i.$on("click",e[3]),a=new Fl({props:{variant:"unelevated",class:"design",$$slots:{default:[u3]},$$scope:{ctx:e}}}),{c(){t=mt("div"),et(n.$$.fragment),s=pt(),et(i.$$.fragment),o=pt(),et(a.$$.fragment),gt(t,"class","toolbar svelte-d3wd3k")},m(u,h){Ee(u,t,h),Ke(n,t,null),xt(t,s),Ke(i,t,null),Ee(u,o,h),Ke(a,u,h),l=!0},p(u,[h]){const d={};h&12288&&(d.$$scope={dirty:h,ctx:u}),!r&&h&2&&(r=!0,d.selected=u[1],Rn(()=>r=!1)),n.$set(d);const g={};h&8192&&(g.$$scope={dirty:h,ctx:u}),i.$set(g);const p={};h&8195&&(p.$$scope={dirty:h,ctx:u}),a.$set(p)},i(u){l||(re(n.$$.fragment,u),re(i.$$.fragment,u),re(a.$$.fragment,u),l=!0)},o(u){ae(n.$$.fragment,u),ae(i.$$.fragment,u),ae(a.$$.fragment,u),l=!1},d(u){u&&Ae(t),Qe(n),Qe(i),u&&Ae(o),Qe(a,u)}}}function h3(e,t,n){let{model:r}=t,s="vacant";const i=["clear","hole","vacant","capped"];function o(){window.confirm("Are you sure?")&&n(0,r=Array(20).fill(0).map(()=>Array(30).fill(0)))}function a(c){s=c,n(1,s)}function l(c,f,u,h){u[h]=c,n(0,r)}return e.$$set=c=>{"model"in c&&n(0,r=c.model)},[r,s,i,o,a,l]}class m3 extends Yt{constructor(t){super(),Wt(this,t,h3,d3,Xt,{model:0})}}var p3=g3;function g3(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var v3=b3;function b3(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var _3=y3;function y3(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var qg=A3;function A3(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var S3=E3;function E3(e,t){if(e===t){var n=t[1],r=t[2],s=t[3],i=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=s,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}var w3=T3;function T3(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],g=t[12],p=t[13],m=t[14],v=t[15],b=n*a-r*o,_=n*l-s*o,S=n*c-i*o,E=r*l-s*a,w=r*c-i*a,A=s*c-i*l,L=f*p-u*g,U=f*m-h*g,B=f*v-d*g,k=u*m-h*p,se=u*v-d*p,V=h*v-d*m,j=b*V-_*se+S*k+E*B-w*U+A*L;return j?(j=1/j,e[0]=(a*V-l*se+c*k)*j,e[1]=(s*se-r*V-i*k)*j,e[2]=(p*A-m*w+v*E)*j,e[3]=(h*w-u*A-d*E)*j,e[4]=(l*B-o*V-c*U)*j,e[5]=(n*V-s*B+i*U)*j,e[6]=(m*S-g*A-v*_)*j,e[7]=(f*A-h*S+d*_)*j,e[8]=(o*se-a*B+c*L)*j,e[9]=(r*B-n*se-i*L)*j,e[10]=(g*w-p*S+v*b)*j,e[11]=(u*S-f*w-d*b)*j,e[12]=(a*U-o*k-l*L)*j,e[13]=(n*k-r*U+s*L)*j,e[14]=(p*_-g*E-m*b)*j,e[15]=(f*E-u*_+h*b)*j,e):null}var C3=P3;function P3(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],g=t[12],p=t[13],m=t[14],v=t[15];return e[0]=a*(h*v-d*m)-u*(l*v-c*m)+p*(l*d-c*h),e[1]=-(r*(h*v-d*m)-u*(s*v-i*m)+p*(s*d-i*h)),e[2]=r*(l*v-c*m)-a*(s*v-i*m)+p*(s*c-i*l),e[3]=-(r*(l*d-c*h)-a*(s*d-i*h)+u*(s*c-i*l)),e[4]=-(o*(h*v-d*m)-f*(l*v-c*m)+g*(l*d-c*h)),e[5]=n*(h*v-d*m)-f*(s*v-i*m)+g*(s*d-i*h),e[6]=-(n*(l*v-c*m)-o*(s*v-i*m)+g*(s*c-i*l)),e[7]=n*(l*d-c*h)-o*(s*d-i*h)+f*(s*c-i*l),e[8]=o*(u*v-d*p)-f*(a*v-c*p)+g*(a*d-c*u),e[9]=-(n*(u*v-d*p)-f*(r*v-i*p)+g*(r*d-i*u)),e[10]=n*(a*v-c*p)-o*(r*v-i*p)+g*(r*c-i*a),e[11]=-(n*(a*d-c*u)-o*(r*d-i*u)+f*(r*c-i*a)),e[12]=-(o*(u*m-h*p)-f*(a*m-l*p)+g*(a*h-l*u)),e[13]=n*(u*m-h*p)-f*(r*m-s*p)+g*(r*h-s*u),e[14]=-(n*(a*m-l*p)-o*(r*m-s*p)+g*(r*l-s*a)),e[15]=n*(a*h-l*u)-o*(r*h-s*u)+f*(r*l-s*a),e}var L3=O3;function O3(e){var t=e[0],n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],l=e[7],c=e[8],f=e[9],u=e[10],h=e[11],d=e[12],g=e[13],p=e[14],m=e[15],v=t*o-n*i,b=t*a-r*i,_=t*l-s*i,S=n*a-r*o,E=n*l-s*o,w=r*l-s*a,A=c*g-f*d,L=c*p-u*d,U=c*m-h*d,B=f*p-u*g,k=f*m-h*g,se=u*m-h*p;return v*se-b*k+_*B+S*U-E*L+w*A}var R3=M3;function M3(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],h=t[9],d=t[10],g=t[11],p=t[12],m=t[13],v=t[14],b=t[15],_=n[0],S=n[1],E=n[2],w=n[3];return e[0]=_*r+S*a+E*u+w*p,e[1]=_*s+S*l+E*h+w*m,e[2]=_*i+S*c+E*d+w*v,e[3]=_*o+S*f+E*g+w*b,_=n[4],S=n[5],E=n[6],w=n[7],e[4]=_*r+S*a+E*u+w*p,e[5]=_*s+S*l+E*h+w*m,e[6]=_*i+S*c+E*d+w*v,e[7]=_*o+S*f+E*g+w*b,_=n[8],S=n[9],E=n[10],w=n[11],e[8]=_*r+S*a+E*u+w*p,e[9]=_*s+S*l+E*h+w*m,e[10]=_*i+S*c+E*d+w*v,e[11]=_*o+S*f+E*g+w*b,_=n[12],S=n[13],E=n[14],w=n[15],e[12]=_*r+S*a+E*u+w*p,e[13]=_*s+S*l+E*h+w*m,e[14]=_*i+S*c+E*d+w*v,e[15]=_*o+S*f+E*g+w*b,e}var I3=D3;function D3(e,t,n){var r=n[0],s=n[1],i=n[2],o,a,l,c,f,u,h,d,g,p,m,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],h=t[6],d=t[7],g=t[8],p=t[9],m=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=h,e[7]=d,e[8]=g,e[9]=p,e[10]=m,e[11]=v,e[12]=o*r+f*s+g*i+t[12],e[13]=a*r+u*s+p*i+t[13],e[14]=l*r+h*s+m*i+t[14],e[15]=c*r+d*s+v*i+t[15]),e}var F3=k3;function k3(e,t,n){var r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var x3=G3;function G3(e,t,n,r){var s=r[0],i=r[1],o=r[2],a=Math.sqrt(s*s+i*i+o*o),l,c,f,u,h,d,g,p,m,v,b,_,S,E,w,A,L,U,B,k,se,V,j,Ie;return Math.abs(a)<1e-6?null:(a=1/a,s*=a,i*=a,o*=a,l=Math.sin(n),c=Math.cos(n),f=1-c,u=t[0],h=t[1],d=t[2],g=t[3],p=t[4],m=t[5],v=t[6],b=t[7],_=t[8],S=t[9],E=t[10],w=t[11],A=s*s*f+c,L=i*s*f+o*l,U=o*s*f-i*l,B=s*i*f-o*l,k=i*i*f+c,se=o*i*f+s*l,V=s*o*f+i*l,j=i*o*f-s*l,Ie=o*o*f+c,e[0]=u*A+p*L+_*U,e[1]=h*A+m*L+S*U,e[2]=d*A+v*L+E*U,e[3]=g*A+b*L+w*U,e[4]=u*B+p*k+_*se,e[5]=h*B+m*k+S*se,e[6]=d*B+v*k+E*se,e[7]=g*B+b*k+w*se,e[8]=u*V+p*j+_*Ie,e[9]=h*V+m*j+S*Ie,e[10]=d*V+v*j+E*Ie,e[11]=g*V+b*j+w*Ie,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}var B3=N3;function N3(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+h*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=h*s-l*r,e}var V3=U3;function U3(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-h*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+h*s,e}var $3=H3;function H3(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+h*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=h*s-l*r,e}var z3=j3;function j3(e,t,n){var r,s,i,o=n[0],a=n[1],l=n[2],c=Math.sqrt(o*o+a*a+l*l);return Math.abs(c)<1e-6?null:(c=1/c,o*=c,a*=c,l*=c,r=Math.sin(t),s=Math.cos(t),i=1-s,e[0]=o*o*i+s,e[1]=a*o*i+l*r,e[2]=l*o*i-a*r,e[3]=0,e[4]=o*a*i-l*r,e[5]=a*a*i+s,e[6]=l*a*i+o*r,e[7]=0,e[8]=o*l*i+a*r,e[9]=a*l*i-o*r,e[10]=l*l*i+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}var q3=X3;function X3(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=r+r,l=s+s,c=i+i,f=r*a,u=r*l,h=r*c,d=s*l,g=s*c,p=i*c,m=o*a,v=o*l,b=o*c;return e[0]=1-(d+p),e[1]=u+b,e[2]=h-v,e[3]=0,e[4]=u-b,e[5]=1-(f+p),e[6]=g+m,e[7]=0,e[8]=h+v,e[9]=g-m,e[10]=1-(f+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}var W3=Y3;function Y3(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Z3=K3;function K3(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}var Q3=J3;function J3(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var eA=tA;function tA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var nA=rA;function rA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var sA=iA;function iA(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=n+n,a=r+r,l=s+s,c=n*o,f=r*o,u=r*a,h=s*o,d=s*a,g=s*l,p=i*o,m=i*a,v=i*l;return e[0]=1-u-g,e[1]=f+v,e[2]=h-m,e[3]=0,e[4]=f-v,e[5]=1-c-g,e[6]=d+p,e[7]=0,e[8]=h+m,e[9]=d-p,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var oA=aA;function aA(e,t,n,r,s,i,o){var a=1/(n-t),l=1/(s-r),c=1/(i-o);return e[0]=i*2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(s+r)*l,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}var lA=cA;function cA(e,t,n,r,s){var i=1/Math.tan(t/2),o=1/(r-s);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*r*o,e[15]=0,e}var fA=uA;function uA(e,t,n,r){var s=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(s+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((o-a)*l*.5),e[9]=(s-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}var dA=hA;function hA(e,t,n,r,s,i,o){var a=1/(t-n),l=1/(r-s),c=1/(i-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(s+r)*l,e[14]=(o+i)*c,e[15]=1,e}var mA=qg,pA=gA;function gA(e,t,n,r){var s,i,o,a,l,c,f,u,h,d,g=t[0],p=t[1],m=t[2],v=r[0],b=r[1],_=r[2],S=n[0],E=n[1],w=n[2];return Math.abs(g-S)<1e-6&&Math.abs(p-E)<1e-6&&Math.abs(m-w)<1e-6?mA(e):(f=g-S,u=p-E,h=m-w,d=1/Math.sqrt(f*f+u*u+h*h),f*=d,u*=d,h*=d,s=b*h-_*u,i=_*f-v*h,o=v*u-b*f,d=Math.sqrt(s*s+i*i+o*o),d?(d=1/d,s*=d,i*=d,o*=d):(s=0,i=0,o=0),a=u*o-h*i,l=h*s-f*o,c=f*i-u*s,d=Math.sqrt(a*a+l*l+c*c),d?(d=1/d,a*=d,l*=d,c*=d):(a=0,l=0,c=0),e[0]=s,e[1]=a,e[2]=f,e[3]=0,e[4]=i,e[5]=l,e[6]=u,e[7]=0,e[8]=o,e[9]=c,e[10]=h,e[11]=0,e[12]=-(s*g+i*p+o*m),e[13]=-(a*g+l*p+c*m),e[14]=-(f*g+u*p+h*m),e[15]=1,e)}var vA=bA;function bA(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}var Sr={create:p3,clone:v3,copy:_3,identity:qg,transpose:S3,invert:w3,adjoint:C3,determinant:L3,multiply:R3,translate:I3,scale:F3,rotate:x3,rotateX:B3,rotateY:V3,rotateZ:$3,fromRotation:z3,fromRotationTranslation:q3,fromScaling:W3,fromTranslation:Z3,fromXRotation:Q3,fromYRotation:eA,fromZRotation:nA,fromQuat:sA,frustum:oA,perspective:lA,perspectiveFromFieldOfView:fA,ortho:dA,lookAt:pA,str:vA};const Tf=Sr,_A=(e,t={})=>{const{fbo:n}=t,r={cull:{enable:!0},context:{lightDirection:[.2,.2,1]},uniforms:{view:(s,i)=>i.camera.view,eye:(s,i)=>i.camera.position,projection:(s,i)=>i.camera.projection,camNear:(s,i)=>i.camera.near,camFar:(s,i)=>i.camera.far,invertedView:(s,i)=>Tf.invert([],i.camera.view),lightPosition:(s,i)=>i&&i.rendering&&i.rendering.lightPosition?i.rendering.lightPosition:[100,200,100],lightDirection:(s,i)=>i&&i.rendering&&i.rendering.lightDirection?i.rendering.lightDirection:s.lightDirection||[0,0,0],lightView:s=>Tf.lookAt([],s.lightDirection,[0,0,0],[0,0,1]),lightProjection:Tf.ortho([],-25,-25,-20,20,-25,25),lightColor:(s,i)=>i&&i.rendering&&i.rendering.lightColor?i.rendering.lightColor:[1,.8,0],ambientLightAmount:(s,i)=>i&&i.rendering&&i.rendering.ambientLightAmount?i.rendering.ambientLightAmount:.3,diffuseLightAmount:(s,i)=>i&&i.rendering&&i.rendering.diffuseLightAmount?i&&i.rendering&&i.rendering.diffuseLightAmount:.89,specularLightAmount:(s,i)=>i&&i.rendering&&i.rendering.specularLightAmount?i.rendering.specularLightAmount:.16,uMaterialShininess:(s,i)=>i&&i.rendering&&i.rendering.materialShininess?i.rendering.materialShininess:8,materialAmbient:[.5,.8,.3],materialDiffuse:[.5,.8,.3],materialSpecular:[.5,.8,.3]},framebuffer:n};return e(Object.assign({},r,t.extras))};var yA=_A,kl={background:[1,1,1,1],meshColor:[0,.6,1,1],lightColor:[1,1,1,1],lightDirection:[.2,.2,1],lightPosition:[100,200,100],ambientLightAmount:.3,diffuseLightAmount:.89,specularLightAmount:.16,materialShininess:8},Cf={exports:{}},N1;function AA(){return N1||(N1=1,function(e,t){(function(n,r){e.exports=r()})(Qs,function(){var n=function(y){return y instanceof Uint8Array||y instanceof Uint16Array||y instanceof Uint32Array||y instanceof Int8Array||y instanceof Int16Array||y instanceof Int32Array||y instanceof Float32Array||y instanceof Float64Array||y instanceof Uint8ClampedArray},r=function(y,C){for(var F=Object.keys(C),Q=0;Q<F.length;++Q)y[F[Q]]=C[F[Q]];return y},s=`
`;function i(y){return typeof atob<"u"?atob(y):"base64:"+y}function o(y){var C=new Error("(regl) "+y);throw console.error(C),C}function a(y,C){y||o(C)}function l(y){return y?": "+y:""}function c(y,C,F){y in C||o("unknown parameter ("+y+")"+l(F)+". possible values: "+Object.keys(C).join())}function f(y,C){n(y)||o("invalid parameter type"+l(C)+". must be a typed array")}function u(y,C){switch(C){case"number":return typeof y=="number";case"object":return typeof y=="object";case"string":return typeof y=="string";case"boolean":return typeof y=="boolean";case"function":return typeof y=="function";case"undefined":return typeof y>"u";case"symbol":return typeof y=="symbol"}}function h(y,C,F){u(y,C)||o("invalid parameter type"+l(F)+". expected "+C+", got "+typeof y)}function d(y,C){y>=0&&(y|0)===y||o("invalid parameter type, ("+y+")"+l(C)+". must be a nonnegative integer")}function g(y,C,F){C.indexOf(y)<0&&o("invalid value"+l(F)+". must be one of: "+C)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(y){Object.keys(y).forEach(function(C){p.indexOf(C)<0&&o('invalid regl constructor argument "'+C+'". must be one of '+p)})}function v(y,C){for(y=y+"";y.length<C;)y=" "+y;return y}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function _(y,C){this.number=y,this.line=C,this.errors=[]}function S(y,C,F){this.file=y,this.line=C,this.message=F}function E(){var y=new Error,C=(y.stack||y).toString(),F=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(C);if(F)return F[1];var Q=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(C);return Q?Q[1]:"unknown"}function w(){var y=new Error,C=(y.stack||y).toString(),F=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(C);if(F)return F[1];var Q=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(C);return Q?Q[1]:"unknown"}function A(y,C){var F=y.split(`
`),Q=1,de=0,K={unknown:new b,0:new b};K.unknown.name=K[0].name=C||E(),K.unknown.lines.push(new _(0,""));for(var oe=0;oe<F.length;++oe){var _e=F[oe],be=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(_e);if(be)switch(be[1]){case"line":var Ce=/(\d+)(\s+\d+)?/.exec(be[2]);Ce&&(Q=Ce[1]|0,Ce[2]&&(de=Ce[2]|0,de in K||(K[de]=new b)));break;case"define":var Le=/SHADER_NAME(_B64)?\s+(.*)$/.exec(be[2]);Le&&(K[de].name=Le[1]?i(Le[2]):Le[2]);break}K[de].lines.push(new _(Q++,_e))}return Object.keys(K).forEach(function(Pe){var Me=K[Pe];Me.lines.forEach(function(ye){Me.index[ye.number]=ye})}),K}function L(y){var C=[];return y.split(`
`).forEach(function(F){if(!(F.length<5)){var Q=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(F);Q?C.push(new S(Q[1]|0,Q[2]|0,Q[3].trim())):F.length>0&&C.push(new S("unknown",0,F))}}),C}function U(y,C){C.forEach(function(F){var Q=y[F.file];if(Q){var de=Q.index[F.line];if(de){de.errors.push(F),Q.hasErrors=!0;return}}y.unknown.hasErrors=!0,y.unknown.lines[0].errors.push(F)})}function B(y,C,F,Q,de){if(!y.getShaderParameter(C,y.COMPILE_STATUS)){var K=y.getShaderInfoLog(C),oe=Q===y.FRAGMENT_SHADER?"fragment":"vertex";H(F,"string",oe+" shader source must be a string",de);var _e=A(F,de),be=L(K);U(_e,be),Object.keys(_e).forEach(function(Ce){var Le=_e[Ce];if(!Le.hasErrors)return;var Pe=[""],Me=[""];function ye(Te,q){Pe.push(Te),Me.push(q||"")}ye("file number "+Ce+": "+Le.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Le.lines.forEach(function(Te){if(Te.errors.length>0){ye(v(Te.number,4)+"|  ","background-color:yellow; font-weight:bold"),ye(Te.line+s,"color:red; background-color:yellow; font-weight:bold");var q=0;Te.errors.forEach(function(ie){var we=ie.message,Ue=/^\s*'(.*)'\s*:\s*(.*)$/.exec(we);if(Ue){var ge=Ue[1];switch(we=Ue[2],ge){case"assign":ge="=";break}q=Math.max(Te.line.indexOf(ge,q),0)}else q=0;ye(v("| ",6)),ye(v("^^^",q+3)+s,"font-weight:bold"),ye(v("| ",6)),ye(we+s,"font-weight:bold")}),ye(v("| ",6)+s)}else ye(v(Te.number,4)+"|  "),ye(Te.line+s,"color:red")}),typeof document<"u"&&!window.chrome?(Me[0]=Pe.join("%c"),console.log.apply(console,Me)):console.log(Pe.join(""))}),a.raise("Error compiling "+oe+" shader, "+_e[0].name)}}function k(y,C,F,Q,de){if(!y.getProgramParameter(C,y.LINK_STATUS)){var K=y.getProgramInfoLog(C),oe=A(F,de),_e=A(Q,de),be='Error linking program with vertex shader, "'+_e[0].name+'", and fragment shader "'+oe[0].name+'"';typeof document<"u"?console.log("%c"+be+s+"%c"+K,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(be+s+K),a.raise(be)}}function se(y){y._commandRef=E()}function V(y,C,F,Q){se(y);function de(be){return be?Q.id(be):0}y._fragId=de(y.static.frag),y._vertId=de(y.static.vert);function K(be,Ce){Object.keys(Ce).forEach(function(Le){be[Q.id(Le)]=!0})}var oe=y._uniformSet={};K(oe,C.static),K(oe,C.dynamic);var _e=y._attributeSet={};K(_e,F.static),K(_e,F.dynamic),y._hasCount="count"in y.static||"count"in y.dynamic||"elements"in y.static||"elements"in y.dynamic}function j(y,C){var F=w();o(y+" in command "+(C||E())+(F==="unknown"?"":" called from "+F))}function Ie(y,C,F){y||j(C,F||E())}function ne(y,C,F,Q){y in C||j("unknown parameter ("+y+")"+l(F)+". possible values: "+Object.keys(C).join(),Q||E())}function H(y,C,F,Q){u(y,C)||j("invalid parameter type"+l(F)+". expected "+C+", got "+typeof y,Q||E())}function fe(y){y()}function J(y,C,F){y.texture?g(y.texture._texture.internalformat,C,"unsupported texture format for attachment"):g(y.renderbuffer._renderbuffer.format,F,"unsupported renderbuffer format for attachment")}var ve=33071,kt=9728,xe=9984,It=9985,ze=9986,Tt=9987,yn=5120,rr=5121,Je=5122,He=5123,An=5124,Cs=5125,rs=5126,Oe=32819,_t=32820,Er=33635,Or=34042,Rr=36193,In={};In[yn]=In[rr]=1,In[Je]=In[He]=In[Rr]=In[Er]=In[Oe]=In[_t]=2,In[An]=In[Cs]=In[rs]=In[Or]=4;function Ps(y,C){return y===_t||y===Oe||y===Er?2:y===Or?4:In[y]*C}function zr(y){return!(y&y-1)&&!!y}function ss(y,C,F){var Q,de=C.width,K=C.height,oe=C.channels;a(de>0&&de<=F.maxTextureSize&&K>0&&K<=F.maxTextureSize,"invalid texture shape"),(y.wrapS!==ve||y.wrapT!==ve)&&a(zr(de)&&zr(K),"incompatible wrap mode for texture, both width and height must be power of 2"),C.mipmask===1?de!==1&&K!==1&&a(y.minFilter!==xe&&y.minFilter!==ze&&y.minFilter!==It&&y.minFilter!==Tt,"min filter requires mipmap"):(a(zr(de)&&zr(K),"texture must be a square power of 2 to support mipmapping"),a(C.mipmask===(de<<1)-1,"missing or incomplete mipmap data")),C.type===rs&&(F.extensions.indexOf("oes_texture_float_linear")<0&&a(y.minFilter===kt&&y.magFilter===kt,"filter not supported, must enable oes_texture_float_linear"),a(!y.genMipmaps,"mipmap generation not supported with float textures"));var _e=C.images;for(Q=0;Q<16;++Q)if(_e[Q]){var be=de>>Q,Ce=K>>Q;a(C.mipmask&1<<Q,"missing mipmap data");var Le=_e[Q];if(a(Le.width===be&&Le.height===Ce,"invalid shape for mip images"),a(Le.format===C.format&&Le.internalformat===C.internalformat&&Le.type===C.type,"incompatible type for mip image"),!Le.compressed)if(Le.data){var Pe=Math.ceil(Ps(Le.type,oe)*be/Le.unpackAlignment)*Le.unpackAlignment;a(Le.data.byteLength===Pe*Ce,"invalid data for image, buffer size is inconsistent with image format")}else Le.element||Le.copy}else y.genMipmaps||a((C.mipmask&1<<Q)===0,"extra mipmap data");C.compressed&&a(!y.genMipmaps,"mipmap generation for compressed images not supported")}function Ls(y,C,F,Q){var de=y.width,K=y.height,oe=y.channels;a(de>0&&de<=Q.maxTextureSize&&K>0&&K<=Q.maxTextureSize,"invalid texture shape"),a(de===K,"cube map must be square"),a(C.wrapS===ve&&C.wrapT===ve,"wrap mode not supported by cube map");for(var _e=0;_e<F.length;++_e){var be=F[_e];a(be.width===de&&be.height===K,"inconsistent cube map face shape"),C.genMipmaps&&(a(!be.compressed,"can not generate mipmap for compressed textures"),a(be.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Ce=be.images,Le=0;Le<16;++Le){var Pe=Ce[Le];if(Pe){var Me=de>>Le,ye=K>>Le;a(be.mipmask&1<<Le,"missing mipmap data"),a(Pe.width===Me&&Pe.height===ye,"invalid shape for mip images"),a(Pe.format===y.format&&Pe.internalformat===y.internalformat&&Pe.type===y.type,"incompatible type for mip image"),Pe.compressed||(Pe.data?a(Pe.data.byteLength===Me*ye*Math.max(Ps(Pe.type,oe),Pe.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Pe.element||Pe.copy)}}}}var P=r(a,{optional:fe,raise:o,commandRaise:j,command:Ie,parameter:c,commandParameter:ne,constructor:m,type:h,commandType:H,isTypedArray:f,nni:d,oneOf:g,shaderError:B,linkError:k,callSite:w,saveCommandRef:se,saveDrawInfo:V,framebufferFormat:J,guessCommand:E,texture2D:ss,textureCube:Ls}),Os=0,ia=0,oa=5,rc=6;function jr(y,C){this.id=Os++,this.type=y,this.data=C}function aa(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function is(y){if(y.length===0)return[];var C=y.charAt(0),F=y.charAt(y.length-1);if(y.length>1&&C===F&&(C==='"'||C==="'"))return['"'+aa(y.substr(1,y.length-2))+'"'];var Q=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(y);if(Q)return is(y.substr(0,Q.index)).concat(is(Q[1])).concat(is(y.substr(Q.index+Q[0].length)));var de=y.split(".");if(de.length===1)return['"'+aa(y)+'"'];for(var K=[],oe=0;oe<de.length;++oe)K=K.concat(is(de[oe]));return K}function Rs(y){return"["+is(y).join("][")+"]"}function sc(y,C){return new jr(y,Rs(C+""))}function ic(y){return typeof y=="function"&&!y._reglType||y instanceof jr}function la(y,C){if(typeof y=="function")return new jr(ia,y);if(typeof y=="number"||typeof y=="boolean")return new jr(oa,y);if(Array.isArray(y))return new jr(rc,y.map(function(F,Q){return la(F,C+"["+Q+"]")}));if(y instanceof jr)return y;P(!1,"invalid option type in uniform "+C)}var Zn={DynamicVariable:jr,define:sc,isDynamic:ic,unbox:la,accessor:Rs},ro={next:typeof requestAnimationFrame=="function"?function(y){return requestAnimationFrame(y)}:function(y){return setTimeout(y,16)},cancel:typeof cancelAnimationFrame=="function"?function(y){return cancelAnimationFrame(y)}:clearTimeout},ca=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function oc(){var y={"":0},C=[""];return{id:function(F){var Q=y[F];return Q||(Q=y[F]=C.length,C.push(F),Q)},str:function(F){return C[F]}}}function ac(y,C,F){var Q=document.createElement("canvas");r(Q.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),y.appendChild(Q),y===document.body&&(Q.style.position="absolute",r(y.style,{margin:0,padding:0}));function de(){var _e=window.innerWidth,be=window.innerHeight;if(y!==document.body){var Ce=Q.getBoundingClientRect();_e=Ce.right-Ce.left,be=Ce.bottom-Ce.top}Q.width=F*_e,Q.height=F*be}var K;y!==document.body&&typeof ResizeObserver=="function"?(K=new ResizeObserver(function(){setTimeout(de)}),K.observe(y)):window.addEventListener("resize",de,!1);function oe(){K?K.disconnect():window.removeEventListener("resize",de),y.removeChild(Q)}return de(),{canvas:Q,onDestroy:oe}}function lc(y,C){function F(Q){try{return y.getContext(Q,C)}catch{return null}}return F("webgl")||F("experimental-webgl")||F("webgl-experimental")}function cc(y){return typeof y.nodeName=="string"&&typeof y.appendChild=="function"&&typeof y.getBoundingClientRect=="function"}function fc(y){return typeof y.drawArrays=="function"||typeof y.drawElements=="function"}function fa(y){return typeof y=="string"?y.split():(P(Array.isArray(y),"invalid extension array"),y)}function ua(y){return typeof y=="string"?(P(typeof document<"u","not supported outside of DOM"),document.querySelector(y)):y}function uc(y){var C=y||{},F,Q,de,K,oe={},_e=[],be=[],Ce=typeof window>"u"?1:window.devicePixelRatio,Le=!1,Pe=function(Te){Te&&P.raise(Te)},Me=function(){};if(typeof C=="string"?(P(typeof document<"u","selector queries only supported in DOM enviroments"),F=document.querySelector(C),P(F,"invalid query string for element")):typeof C=="object"?cc(C)?F=C:fc(C)?(K=C,de=K.canvas):(P.constructor(C),"gl"in C?K=C.gl:"canvas"in C?de=ua(C.canvas):"container"in C&&(Q=ua(C.container)),"attributes"in C&&(oe=C.attributes,P.type(oe,"object","invalid context attributes")),"extensions"in C&&(_e=fa(C.extensions)),"optionalExtensions"in C&&(be=fa(C.optionalExtensions)),"onDone"in C&&(P.type(C.onDone,"function","invalid or missing onDone callback"),Pe=C.onDone),"profile"in C&&(Le=!!C.profile),"pixelRatio"in C&&(Ce=+C.pixelRatio,P(Ce>0,"invalid pixel ratio"))):P.raise("invalid arguments to regl"),F&&(F.nodeName.toLowerCase()==="canvas"?de=F:Q=F),!K){if(!de){P(typeof document<"u","must manually specify webgl context outside of DOM environments");var ye=ac(Q||document.body,Pe,Ce);if(!ye)return null;de=ye.canvas,Me=ye.onDestroy}oe.premultipliedAlpha===void 0&&(oe.premultipliedAlpha=!0),K=lc(de,oe)}return K?{gl:K,canvas:de,container:Q,extensions:_e,optionalExtensions:be,pixelRatio:Ce,profile:Le,onDone:Pe,onDestroy:Me}:(Me(),Pe("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function dc(y,C){var F={};function Q(oe){P.type(oe,"string","extension name must be string");var _e=oe.toLowerCase(),be;try{be=F[_e]=y.getExtension(_e)}catch{}return!!be}for(var de=0;de<C.extensions.length;++de){var K=C.extensions[de];if(!Q(K))return C.onDestroy(),C.onDone('"'+K+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return C.optionalExtensions.forEach(Q),{extensions:F,restore:function(){Object.keys(F).forEach(function(oe){if(F[oe]&&!Q(oe))throw new Error("(regl): error restoring extension "+oe)})}}}function Kn(y,C){for(var F=Array(y),Q=0;Q<y;++Q)F[Q]=C(Q);return F}var hc=5120,mc=5121,pc=5122,gc=5123,vc=5124,bc=5125,_c=5126;function yc(y){for(var C=16;C<=1<<28;C*=16)if(y<=C)return C;return 0}function da(y){var C,F;return C=(y>65535)<<4,y>>>=C,F=(y>255)<<3,y>>>=F,C|=F,F=(y>15)<<2,y>>>=F,C|=F,F=(y>3)<<1,y>>>=F,C|=F,C|y>>1}function ha(){var y=Kn(8,function(){return[]});function C(K){var oe=yc(K),_e=y[da(oe)>>2];return _e.length>0?_e.pop():new ArrayBuffer(oe)}function F(K){y[da(K.byteLength)>>2].push(K)}function Q(K,oe){var _e=null;switch(K){case hc:_e=new Int8Array(C(oe),0,oe);break;case mc:_e=new Uint8Array(C(oe),0,oe);break;case pc:_e=new Int16Array(C(2*oe),0,oe);break;case gc:_e=new Uint16Array(C(2*oe),0,oe);break;case vc:_e=new Int32Array(C(4*oe),0,oe);break;case bc:_e=new Uint32Array(C(4*oe),0,oe);break;case _c:_e=new Float32Array(C(4*oe),0,oe);break;default:return null}return _e.length!==oe?_e.subarray(0,oe):_e}function de(K){F(K.buffer)}return{alloc:C,free:F,allocType:Q,freeType:de}}var dn=ha();dn.zero=ha();var Ac=3408,Sc=3410,Ec=3411,ee=3412,Sn=3413,ma=3414,wc=3415,so=33901,io=33902,mb=3379,pb=3386,gb=34921,vb=36347,bb=36348,_b=35661,yb=35660,Ab=34930,Sb=36349,Eb=34076,wb=34024,Tb=7936,Cb=7937,Pb=7938,Lb=35724,Ob=34047,Rb=36063,Mb=34852,pa=3553,Ld=34067,Ib=34069,Db=33984,oo=6408,Tc=5126,Od=5121,Cc=36160,Fb=36053,kb=36064,xb=16384,Gb=function(y,C){var F=1;C.ext_texture_filter_anisotropic&&(F=y.getParameter(Ob));var Q=1,de=1;C.webgl_draw_buffers&&(Q=y.getParameter(Mb),de=y.getParameter(Rb));var K=!!C.oes_texture_float;if(K){var oe=y.createTexture();y.bindTexture(pa,oe),y.texImage2D(pa,0,oo,1,1,0,oo,Tc,null);var _e=y.createFramebuffer();if(y.bindFramebuffer(Cc,_e),y.framebufferTexture2D(Cc,kb,pa,oe,0),y.bindTexture(pa,null),y.checkFramebufferStatus(Cc)!==Fb)K=!1;else{y.viewport(0,0,1,1),y.clearColor(1,0,0,1),y.clear(xb);var be=dn.allocType(Tc,4);y.readPixels(0,0,1,1,oo,Tc,be),y.getError()?K=!1:(y.deleteFramebuffer(_e),y.deleteTexture(oe),K=be[0]===1),dn.freeType(be)}}var Ce=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Le=!0;if(!Ce){var Pe=y.createTexture(),Me=dn.allocType(Od,36);y.activeTexture(Db),y.bindTexture(Ld,Pe),y.texImage2D(Ib,0,oo,3,3,0,oo,Od,Me),dn.freeType(Me),y.bindTexture(Ld,null),y.deleteTexture(Pe),Le=!y.getError()}return{colorBits:[y.getParameter(Sc),y.getParameter(Ec),y.getParameter(ee),y.getParameter(Sn)],depthBits:y.getParameter(ma),stencilBits:y.getParameter(wc),subpixelBits:y.getParameter(Ac),extensions:Object.keys(C).filter(function(ye){return!!C[ye]}),maxAnisotropic:F,maxDrawbuffers:Q,maxColorAttachments:de,pointSizeDims:y.getParameter(so),lineWidthDims:y.getParameter(io),maxViewportDims:y.getParameter(pb),maxCombinedTextureUnits:y.getParameter(_b),maxCubeMapSize:y.getParameter(Eb),maxRenderbufferSize:y.getParameter(wb),maxTextureUnits:y.getParameter(Ab),maxTextureSize:y.getParameter(mb),maxAttributes:y.getParameter(gb),maxVertexUniforms:y.getParameter(vb),maxVertexTextureUnits:y.getParameter(yb),maxVaryingVectors:y.getParameter(bb),maxFragmentUniforms:y.getParameter(Sb),glsl:y.getParameter(Lb),renderer:y.getParameter(Cb),vendor:y.getParameter(Tb),version:y.getParameter(Pb),readFloat:K,npotTextureCube:Le}};function wr(y){return!!y&&typeof y=="object"&&Array.isArray(y.shape)&&Array.isArray(y.stride)&&typeof y.offset=="number"&&y.shape.length===y.stride.length&&(Array.isArray(y.data)||n(y.data))}var ur=function(y){return Object.keys(y).map(function(C){return y[C]})},ga={shape:Ub,flatten:Vb};function Bb(y,C,F){for(var Q=0;Q<C;++Q)F[Q]=y[Q]}function Nb(y,C,F,Q){for(var de=0,K=0;K<C;++K)for(var oe=y[K],_e=0;_e<F;++_e)Q[de++]=oe[_e]}function Rd(y,C,F,Q,de,K){for(var oe=K,_e=0;_e<C;++_e)for(var be=y[_e],Ce=0;Ce<F;++Ce)for(var Le=be[Ce],Pe=0;Pe<Q;++Pe)de[oe++]=Le[Pe]}function Md(y,C,F,Q,de){for(var K=1,oe=F+1;oe<C.length;++oe)K*=C[oe];var _e=C[F];if(C.length-F===4){var be=C[F+1],Ce=C[F+2],Le=C[F+3];for(oe=0;oe<_e;++oe)Rd(y[oe],be,Ce,Le,Q,de),de+=K}else for(oe=0;oe<_e;++oe)Md(y[oe],C,F+1,Q,de),de+=K}function Vb(y,C,F,Q){var de=1;if(C.length)for(var K=0;K<C.length;++K)de*=C[K];else de=0;var oe=Q||dn.allocType(F,de);switch(C.length){case 0:break;case 1:Bb(y,C[0],oe);break;case 2:Nb(y,C[0],C[1],oe);break;case 3:Rd(y,C[0],C[1],C[2],oe,0);break;default:Md(y,C,0,oe,0)}return oe}function Ub(y){for(var C=[],F=y;F.length;F=F[0])C.push(F.length);return C}var Pc={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},$b=5120,Hb=5122,zb=5124,jb=5121,qb=5123,Xb=5125,Wb=5126,Yb=5126,Ms={int8:$b,int16:Hb,int32:zb,uint8:jb,uint16:qb,uint32:Xb,float:Wb,float32:Yb},Zb=35048,Kb=35040,va={dynamic:Zb,stream:Kb,static:35044},Lc=ga.flatten,Id=ga.shape,Dd=35044,Qb=35040,Oc=5121,Rc=5126,os=[];os[5120]=1,os[5122]=2,os[5124]=4,os[5121]=1,os[5123]=2,os[5125]=4,os[5126]=4;function ba(y){return Pc[Object.prototype.toString.call(y)]|0}function Fd(y,C){for(var F=0;F<C.length;++F)y[F]=C[F]}function kd(y,C,F,Q,de,K,oe){for(var _e=0,be=0;be<F;++be)for(var Ce=0;Ce<Q;++Ce)y[_e++]=C[de*be+K*Ce+oe]}function Jb(y,C,F,Q){var de=0,K={};function oe(q){this.id=de++,this.buffer=y.createBuffer(),this.type=q,this.usage=Dd,this.byteLength=0,this.dimension=1,this.dtype=Oc,this.persistentData=null,F.profile&&(this.stats={size:0})}oe.prototype.bind=function(){y.bindBuffer(this.type,this.buffer)},oe.prototype.destroy=function(){Me(this)};var _e=[];function be(q,ie){var we=_e.pop();return we||(we=new oe(q)),we.bind(),Pe(we,ie,Qb,0,1,!1),we}function Ce(q){_e.push(q)}function Le(q,ie,we){q.byteLength=ie.byteLength,y.bufferData(q.type,ie,we)}function Pe(q,ie,we,Ue,ge,Ne){var Ge;if(q.usage=we,Array.isArray(ie)){if(q.dtype=Ue||Rc,ie.length>0){var nt;if(Array.isArray(ie[0])){Ge=Id(ie);for(var he=1,ue=1;ue<Ge.length;++ue)he*=Ge[ue];q.dimension=he,nt=Lc(ie,Ge,q.dtype),Le(q,nt,we),Ne?q.persistentData=nt:dn.freeType(nt)}else if(typeof ie[0]=="number"){q.dimension=ge;var Xe=dn.allocType(q.dtype,ie.length);Fd(Xe,ie),Le(q,Xe,we),Ne?q.persistentData=Xe:dn.freeType(Xe)}else n(ie[0])?(q.dimension=ie[0].length,q.dtype=Ue||ba(ie[0])||Rc,nt=Lc(ie,[ie.length,ie[0].length],q.dtype),Le(q,nt,we),Ne?q.persistentData=nt:dn.freeType(nt)):P.raise("invalid buffer data")}}else if(n(ie))q.dtype=Ue||ba(ie),q.dimension=ge,Le(q,ie,we),Ne&&(q.persistentData=new Uint8Array(new Uint8Array(ie.buffer)));else if(wr(ie)){Ge=ie.shape;var De=ie.stride,Se=ie.offset,Fe=0,ke=0,dt=0,ft=0;Ge.length===1?(Fe=Ge[0],ke=1,dt=De[0],ft=0):Ge.length===2?(Fe=Ge[0],ke=Ge[1],dt=De[0],ft=De[1]):P.raise("invalid shape"),q.dtype=Ue||ba(ie.data)||Rc,q.dimension=ke;var Be=dn.allocType(q.dtype,Fe*ke);kd(Be,ie.data,Fe,ke,dt,ft,Se),Le(q,Be,we),Ne?q.persistentData=Be:dn.freeType(Be)}else ie instanceof ArrayBuffer?(q.dtype=Oc,q.dimension=ge,Le(q,ie,we),Ne&&(q.persistentData=new Uint8Array(new Uint8Array(ie)))):P.raise("invalid buffer data")}function Me(q){C.bufferCount--,Q(q);var ie=q.buffer;P(ie,"buffer must not be deleted already"),y.deleteBuffer(ie),q.buffer=null,delete K[q.id]}function ye(q,ie,we,Ue){C.bufferCount++;var ge=new oe(ie);K[ge.id]=ge;function Ne(he){var ue=Dd,Xe=null,De=0,Se=0,Fe=1;return Array.isArray(he)||n(he)||wr(he)||he instanceof ArrayBuffer?Xe=he:typeof he=="number"?De=he|0:he&&(P.type(he,"object","buffer arguments must be an object, a number or an array"),"data"in he&&(P(Xe===null||Array.isArray(Xe)||n(Xe)||wr(Xe),"invalid data for buffer"),Xe=he.data),"usage"in he&&(P.parameter(he.usage,va,"invalid buffer usage"),ue=va[he.usage]),"type"in he&&(P.parameter(he.type,Ms,"invalid buffer type"),Se=Ms[he.type]),"dimension"in he&&(P.type(he.dimension,"number","invalid dimension"),Fe=he.dimension|0),"length"in he&&(P.nni(De,"buffer length must be a nonnegative integer"),De=he.length|0)),ge.bind(),Xe?Pe(ge,Xe,ue,Se,Fe,Ue):(De&&y.bufferData(ge.type,De,ue),ge.dtype=Se||Oc,ge.usage=ue,ge.dimension=Fe,ge.byteLength=De),F.profile&&(ge.stats.size=ge.byteLength*os[ge.dtype]),Ne}function Ge(he,ue){P(ue+he.byteLength<=ge.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+he.byteLength+" starting from offset "+ue+" to a buffer of size "+ge.byteLength),y.bufferSubData(ge.type,ue,he)}function nt(he,ue){var Xe=(ue||0)|0,De;if(ge.bind(),n(he)||he instanceof ArrayBuffer)Ge(he,Xe);else if(Array.isArray(he)){if(he.length>0)if(typeof he[0]=="number"){var Se=dn.allocType(ge.dtype,he.length);Fd(Se,he),Ge(Se,Xe),dn.freeType(Se)}else if(Array.isArray(he[0])||n(he[0])){De=Id(he);var Fe=Lc(he,De,ge.dtype);Ge(Fe,Xe),dn.freeType(Fe)}else P.raise("invalid buffer data")}else if(wr(he)){De=he.shape;var ke=he.stride,dt=0,ft=0,Be=0,Ve=0;De.length===1?(dt=De[0],ft=1,Be=ke[0],Ve=0):De.length===2?(dt=De[0],ft=De[1],Be=ke[0],Ve=ke[1]):P.raise("invalid shape");var it=Array.isArray(he.data)?ge.dtype:ba(he.data),ht=dn.allocType(it,dt*ft);kd(ht,he.data,dt,ft,Be,Ve,he.offset),Ge(ht,Xe),dn.freeType(ht)}else P.raise("invalid data for buffer subdata");return Ne}return we||Ne(q),Ne._reglType="buffer",Ne._buffer=ge,Ne.subdata=nt,F.profile&&(Ne.stats=ge.stats),Ne.destroy=function(){Me(ge)},Ne}function Te(){ur(K).forEach(function(q){q.buffer=y.createBuffer(),y.bindBuffer(q.type,q.buffer),y.bufferData(q.type,q.persistentData||q.byteLength,q.usage)})}return F.profile&&(C.getTotalBufferSize=function(){var q=0;return Object.keys(K).forEach(function(ie){q+=K[ie].stats.size}),q}),{create:ye,createStream:be,destroyStream:Ce,clear:function(){ur(K).forEach(Me),_e.forEach(Me)},getBuffer:function(q){return q&&q._buffer instanceof oe?q._buffer:null},restore:Te,_initBuffer:Pe}}var e_=0,t_=0,n_=1,r_=1,s_=4,i_=4,as={points:e_,point:t_,lines:n_,line:r_,triangles:s_,triangle:i_,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},o_=0,a_=1,ao=4,l_=5120,hi=5121,xd=5122,mi=5123,Gd=5124,Is=5125,Mc=34963,c_=35040,f_=35044;function u_(y,C,F,Q){var de={},K=0,oe={uint8:hi,uint16:mi};C.oes_element_index_uint&&(oe.uint32=Is);function _e(Te){this.id=K++,de[this.id]=this,this.buffer=Te,this.primType=ao,this.vertCount=0,this.type=0}_e.prototype.bind=function(){this.buffer.bind()};var be=[];function Ce(Te){var q=be.pop();return q||(q=new _e(F.create(null,Mc,!0,!1)._buffer)),Pe(q,Te,c_,-1,-1,0,0),q}function Le(Te){be.push(Te)}function Pe(Te,q,ie,we,Ue,ge,Ne){Te.buffer.bind();var Ge;if(q){var nt=Ne;!Ne&&(!n(q)||wr(q)&&!n(q.data))&&(nt=C.oes_element_index_uint?Is:mi),F._initBuffer(Te.buffer,q,ie,nt,3)}else y.bufferData(Mc,ge,ie),Te.buffer.dtype=Ge||hi,Te.buffer.usage=ie,Te.buffer.dimension=3,Te.buffer.byteLength=ge;if(Ge=Ne,!Ne){switch(Te.buffer.dtype){case hi:case l_:Ge=hi;break;case mi:case xd:Ge=mi;break;case Is:case Gd:Ge=Is;break;default:P.raise("unsupported type for element array")}Te.buffer.dtype=Ge}Te.type=Ge,P(Ge!==Is||!!C.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var he=Ue;he<0&&(he=Te.buffer.byteLength,Ge===mi?he>>=1:Ge===Is&&(he>>=2)),Te.vertCount=he;var ue=we;if(we<0){ue=ao;var Xe=Te.buffer.dimension;Xe===1&&(ue=o_),Xe===2&&(ue=a_),Xe===3&&(ue=ao)}Te.primType=ue}function Me(Te){Q.elementsCount--,P(Te.buffer!==null,"must not double destroy elements"),delete de[Te.id],Te.buffer.destroy(),Te.buffer=null}function ye(Te,q){var ie=F.create(null,Mc,!0),we=new _e(ie._buffer);Q.elementsCount++;function Ue(ge){if(!ge)ie(),we.primType=ao,we.vertCount=0,we.type=hi;else if(typeof ge=="number")ie(ge),we.primType=ao,we.vertCount=ge|0,we.type=hi;else{var Ne=null,Ge=f_,nt=-1,he=-1,ue=0,Xe=0;Array.isArray(ge)||n(ge)||wr(ge)?Ne=ge:(P.type(ge,"object","invalid arguments for elements"),"data"in ge&&(Ne=ge.data,P(Array.isArray(Ne)||n(Ne)||wr(Ne),"invalid data for element buffer")),"usage"in ge&&(P.parameter(ge.usage,va,"invalid element buffer usage"),Ge=va[ge.usage]),"primitive"in ge&&(P.parameter(ge.primitive,as,"invalid element buffer primitive"),nt=as[ge.primitive]),"count"in ge&&(P(typeof ge.count=="number"&&ge.count>=0,"invalid vertex count for elements"),he=ge.count|0),"type"in ge&&(P.parameter(ge.type,oe,"invalid buffer type"),Xe=oe[ge.type]),"length"in ge?ue=ge.length|0:(ue=he,Xe===mi||Xe===xd?ue*=2:(Xe===Is||Xe===Gd)&&(ue*=4))),Pe(we,Ne,Ge,nt,he,ue,Xe)}return Ue}return Ue(Te),Ue._reglType="elements",Ue._elements=we,Ue.subdata=function(ge,Ne){return ie.subdata(ge,Ne),Ue},Ue.destroy=function(){Me(we)},Ue}return{create:ye,createStream:Ce,destroyStream:Le,getElements:function(Te){return typeof Te=="function"&&Te._elements instanceof _e?Te._elements:null},clear:function(){ur(de).forEach(Me)}}}var Bd=new Float32Array(1),d_=new Uint32Array(Bd.buffer),h_=5123;function Nd(y){for(var C=dn.allocType(h_,y.length),F=0;F<y.length;++F)if(isNaN(y[F]))C[F]=65535;else if(y[F]===1/0)C[F]=31744;else if(y[F]===-1/0)C[F]=64512;else{Bd[0]=y[F];var Q=d_[0],de=Q>>>31<<15,K=(Q<<1>>>24)-127,oe=Q>>13&1024-1;if(K<-24)C[F]=de;else if(K<-14){var _e=-14-K;C[F]=de+(oe+1024>>_e)}else K>15?C[F]=de+31744:C[F]=de+(K+15<<10)+oe}return C}function sn(y){return Array.isArray(y)||n(y)}var Vd=function(y){return!(y&y-1)&&!!y},m_=34467,Mr=3553,Ic=34067,_a=34069,Ds=6408,Dc=6406,ya=6407,lo=6409,Aa=6410,Ud=32854,Fc=32855,$d=36194,p_=32819,g_=32820,v_=33635,b_=34042,kc=6402,Sa=34041,xc=35904,Gc=35906,pi=36193,Bc=33776,Nc=33777,Vc=33778,Uc=33779,Hd=35986,zd=35987,jd=34798,qd=35840,Xd=35841,Wd=35842,Yd=35843,Zd=36196,gi=5121,$c=5123,Hc=5125,co=5126,__=10242,y_=10243,A_=10497,zc=33071,S_=33648,E_=10240,w_=10241,jc=9728,T_=9729,qc=9984,Kd=9985,Qd=9986,Xc=9987,C_=33170,Ea=4352,P_=4353,L_=4354,O_=34046,R_=3317,M_=37440,I_=37441,D_=37443,Jd=37444,fo=33984,F_=[qc,Qd,Kd,Xc],wa=[0,lo,Aa,ya,Ds],gr={};gr[lo]=gr[Dc]=gr[kc]=1,gr[Sa]=gr[Aa]=2,gr[ya]=gr[xc]=3,gr[Ds]=gr[Gc]=4;function vi(y){return"[object "+y+"]"}var e0=vi("HTMLCanvasElement"),t0=vi("OffscreenCanvas"),n0=vi("CanvasRenderingContext2D"),r0=vi("ImageBitmap"),s0=vi("HTMLImageElement"),i0=vi("HTMLVideoElement"),k_=Object.keys(Pc).concat([e0,t0,n0,r0,s0,i0]),bi=[];bi[gi]=1,bi[co]=4,bi[pi]=2,bi[$c]=2,bi[Hc]=4;var Vn=[];Vn[Ud]=2,Vn[Fc]=2,Vn[$d]=2,Vn[Sa]=4,Vn[Bc]=.5,Vn[Nc]=.5,Vn[Vc]=1,Vn[Uc]=1,Vn[Hd]=.5,Vn[zd]=1,Vn[jd]=1,Vn[qd]=.5,Vn[Xd]=.25,Vn[Wd]=.5,Vn[Yd]=.25,Vn[Zd]=.5;function o0(y){return Array.isArray(y)&&(y.length===0||typeof y[0]=="number")}function a0(y){if(!Array.isArray(y))return!1;var C=y.length;return!(C===0||!sn(y[0]))}function Fs(y){return Object.prototype.toString.call(y)}function l0(y){return Fs(y)===e0}function c0(y){return Fs(y)===t0}function x_(y){return Fs(y)===n0}function G_(y){return Fs(y)===r0}function B_(y){return Fs(y)===s0}function N_(y){return Fs(y)===i0}function Wc(y){if(!y)return!1;var C=Fs(y);return k_.indexOf(C)>=0?!0:o0(y)||a0(y)||wr(y)}function f0(y){return Pc[Object.prototype.toString.call(y)]|0}function V_(y,C){var F=C.length;switch(y.type){case gi:case $c:case Hc:case co:var Q=dn.allocType(y.type,F);Q.set(C),y.data=Q;break;case pi:y.data=Nd(C);break;default:P.raise("unsupported texture type, must specify a typed array")}}function u0(y,C){return dn.allocType(y.type===pi?co:y.type,C)}function d0(y,C){y.type===pi?(y.data=Nd(C),dn.freeType(C)):y.data=C}function U_(y,C,F,Q,de,K){for(var oe=y.width,_e=y.height,be=y.channels,Ce=oe*_e*be,Le=u0(y,Ce),Pe=0,Me=0;Me<_e;++Me)for(var ye=0;ye<oe;++ye)for(var Te=0;Te<be;++Te)Le[Pe++]=C[F*ye+Q*Me+de*Te+K];d0(y,Le)}function Ta(y,C,F,Q,de,K){var oe;if(typeof Vn[y]<"u"?oe=Vn[y]:oe=gr[y]*bi[C],K&&(oe*=6),de){for(var _e=0,be=F;be>=1;)_e+=oe*be*be,be/=2;return _e}else return oe*F*Q}function $_(y,C,F,Q,de,K,oe){var _e={"don't care":Ea,"dont care":Ea,nice:L_,fast:P_},be={repeat:A_,clamp:zc,mirror:S_},Ce={nearest:jc,linear:T_},Le=r({mipmap:Xc,"nearest mipmap nearest":qc,"linear mipmap nearest":Kd,"nearest mipmap linear":Qd,"linear mipmap linear":Xc},Ce),Pe={none:0,browser:Jd},Me={uint8:gi,rgba4:p_,rgb565:v_,"rgb5 a1":g_},ye={alpha:Dc,luminance:lo,"luminance alpha":Aa,rgb:ya,rgba:Ds,rgba4:Ud,"rgb5 a1":Fc,rgb565:$d},Te={};C.ext_srgb&&(ye.srgb=xc,ye.srgba=Gc),C.oes_texture_float&&(Me.float32=Me.float=co),C.oes_texture_half_float&&(Me.float16=Me["half float"]=pi),C.webgl_depth_texture&&(r(ye,{depth:kc,"depth stencil":Sa}),r(Me,{uint16:$c,uint32:Hc,"depth stencil":b_})),C.webgl_compressed_texture_s3tc&&r(Te,{"rgb s3tc dxt1":Bc,"rgba s3tc dxt1":Nc,"rgba s3tc dxt3":Vc,"rgba s3tc dxt5":Uc}),C.webgl_compressed_texture_atc&&r(Te,{"rgb atc":Hd,"rgba atc explicit alpha":zd,"rgba atc interpolated alpha":jd}),C.webgl_compressed_texture_pvrtc&&r(Te,{"rgb pvrtc 4bppv1":qd,"rgb pvrtc 2bppv1":Xd,"rgba pvrtc 4bppv1":Wd,"rgba pvrtc 2bppv1":Yd}),C.webgl_compressed_texture_etc1&&(Te["rgb etc1"]=Zd);var q=Array.prototype.slice.call(y.getParameter(m_));Object.keys(Te).forEach(function(I){var te=Te[I];q.indexOf(te)>=0&&(ye[I]=te)});var ie=Object.keys(ye);F.textureFormats=ie;var we=[];Object.keys(ye).forEach(function(I){var te=ye[I];we[te]=I});var Ue=[];Object.keys(Me).forEach(function(I){var te=Me[I];Ue[te]=I});var ge=[];Object.keys(Ce).forEach(function(I){var te=Ce[I];ge[te]=I});var Ne=[];Object.keys(Le).forEach(function(I){var te=Le[I];Ne[te]=I});var Ge=[];Object.keys(be).forEach(function(I){var te=be[I];Ge[te]=I});var nt=ie.reduce(function(I,te){var Z=ye[te];return Z===lo||Z===Dc||Z===lo||Z===Aa||Z===kc||Z===Sa||C.ext_srgb&&(Z===xc||Z===Gc)?I[Z]=Z:Z===Fc||te.indexOf("rgba")>=0?I[Z]=Ds:I[Z]=ya,I},{});function he(){this.internalformat=Ds,this.format=Ds,this.type=gi,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Jd,this.width=0,this.height=0,this.channels=0}function ue(I,te){I.internalformat=te.internalformat,I.format=te.format,I.type=te.type,I.compressed=te.compressed,I.premultiplyAlpha=te.premultiplyAlpha,I.flipY=te.flipY,I.unpackAlignment=te.unpackAlignment,I.colorSpace=te.colorSpace,I.width=te.width,I.height=te.height,I.channels=te.channels}function Xe(I,te){if(!(typeof te!="object"||!te)){if("premultiplyAlpha"in te&&(P.type(te.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),I.premultiplyAlpha=te.premultiplyAlpha),"flipY"in te&&(P.type(te.flipY,"boolean","invalid texture flip"),I.flipY=te.flipY),"alignment"in te&&(P.oneOf(te.alignment,[1,2,4,8],"invalid texture unpack alignment"),I.unpackAlignment=te.alignment),"colorSpace"in te&&(P.parameter(te.colorSpace,Pe,"invalid colorSpace"),I.colorSpace=Pe[te.colorSpace]),"type"in te){var Z=te.type;P(C.oes_texture_float||!(Z==="float"||Z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),P(C.oes_texture_half_float||!(Z==="half float"||Z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),P(C.webgl_depth_texture||!(Z==="uint16"||Z==="uint32"||Z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(Z,Me,"invalid texture type"),I.type=Me[Z]}var qe=I.width,St=I.height,O=I.channels,T=!1;"shape"in te?(P(Array.isArray(te.shape)&&te.shape.length>=2,"shape must be an array"),qe=te.shape[0],St=te.shape[1],te.shape.length===3&&(O=te.shape[2],P(O>0&&O<=4,"invalid number of channels"),T=!0),P(qe>=0&&qe<=F.maxTextureSize,"invalid width"),P(St>=0&&St<=F.maxTextureSize,"invalid height")):("radius"in te&&(qe=St=te.radius,P(qe>=0&&qe<=F.maxTextureSize,"invalid radius")),"width"in te&&(qe=te.width,P(qe>=0&&qe<=F.maxTextureSize,"invalid width")),"height"in te&&(St=te.height,P(St>=0&&St<=F.maxTextureSize,"invalid height")),"channels"in te&&(O=te.channels,P(O>0&&O<=4,"invalid number of channels"),T=!0)),I.width=qe|0,I.height=St|0,I.channels=O|0;var x=!1;if("format"in te){var z=te.format;P(C.webgl_depth_texture||!(z==="depth"||z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(z,ye,"invalid texture format");var X=I.internalformat=ye[z];I.format=nt[X],z in Me&&("type"in te||(I.type=Me[z])),z in Te&&(I.compressed=!0),x=!0}!T&&x?I.channels=gr[I.format]:T&&!x?I.channels!==wa[I.format]&&(I.format=I.internalformat=wa[I.channels]):x&&T&&P(I.channels===gr[I.format],"number of channels inconsistent with specified format")}}function De(I){y.pixelStorei(M_,I.flipY),y.pixelStorei(I_,I.premultiplyAlpha),y.pixelStorei(D_,I.colorSpace),y.pixelStorei(R_,I.unpackAlignment)}function Se(){he.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Fe(I,te){var Z=null;if(Wc(te)?Z=te:te&&(P.type(te,"object","invalid pixel data type"),Xe(I,te),"x"in te&&(I.xOffset=te.x|0),"y"in te&&(I.yOffset=te.y|0),Wc(te.data)&&(Z=te.data)),P(!I.compressed||Z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),te.copy){P(!Z,"can not specify copy and data field for the same texture");var qe=de.viewportWidth,St=de.viewportHeight;I.width=I.width||qe-I.xOffset,I.height=I.height||St-I.yOffset,I.needsCopy=!0,P(I.xOffset>=0&&I.xOffset<qe&&I.yOffset>=0&&I.yOffset<St&&I.width>0&&I.width<=qe&&I.height>0&&I.height<=St,"copy texture read out of bounds")}else if(!Z)I.width=I.width||1,I.height=I.height||1,I.channels=I.channels||4;else if(n(Z))I.channels=I.channels||4,I.data=Z,!("type"in te)&&I.type===gi&&(I.type=f0(Z));else if(o0(Z))I.channels=I.channels||4,V_(I,Z),I.alignment=1,I.needsFree=!0;else if(wr(Z)){var O=Z.data;!Array.isArray(O)&&I.type===gi&&(I.type=f0(O));var T=Z.shape,x=Z.stride,z,X,N,G,$,R;T.length===3?(N=T[2],R=x[2]):(P(T.length===2,"invalid ndarray pixel data, must be 2 or 3D"),N=1,R=1),z=T[0],X=T[1],G=x[0],$=x[1],I.alignment=1,I.width=z,I.height=X,I.channels=N,I.format=I.internalformat=wa[N],I.needsFree=!0,U_(I,O,G,$,R,Z.offset)}else if(l0(Z)||c0(Z)||x_(Z))l0(Z)||c0(Z)?I.element=Z:I.element=Z.canvas,I.width=I.element.width,I.height=I.element.height,I.channels=4;else if(G_(Z))I.element=Z,I.width=Z.width,I.height=Z.height,I.channels=4;else if(B_(Z))I.element=Z,I.width=Z.naturalWidth,I.height=Z.naturalHeight,I.channels=4;else if(N_(Z))I.element=Z,I.width=Z.videoWidth,I.height=Z.videoHeight,I.channels=4;else if(a0(Z)){var D=I.width||Z[0].length,M=I.height||Z.length,Y=I.channels;sn(Z[0][0])?Y=Y||Z[0][0].length:Y=Y||1;for(var W=ga.shape(Z),ce=1,me=0;me<W.length;++me)ce*=W[me];var Re=u0(I,ce);ga.flatten(Z,W,"",Re),d0(I,Re),I.alignment=1,I.width=D,I.height=M,I.channels=Y,I.format=I.internalformat=wa[Y],I.needsFree=!0}I.type===co?P(F.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):I.type===pi&&P(F.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function ke(I,te,Z){var qe=I.element,St=I.data,O=I.internalformat,T=I.format,x=I.type,z=I.width,X=I.height;De(I),qe?y.texImage2D(te,Z,T,T,x,qe):I.compressed?y.compressedTexImage2D(te,Z,O,z,X,0,St):I.needsCopy?(Q(),y.copyTexImage2D(te,Z,T,I.xOffset,I.yOffset,z,X,0)):y.texImage2D(te,Z,T,z,X,0,T,x,St||null)}function dt(I,te,Z,qe,St){var O=I.element,T=I.data,x=I.internalformat,z=I.format,X=I.type,N=I.width,G=I.height;De(I),O?y.texSubImage2D(te,St,Z,qe,z,X,O):I.compressed?y.compressedTexSubImage2D(te,St,Z,qe,x,N,G,T):I.needsCopy?(Q(),y.copyTexSubImage2D(te,St,Z,qe,I.xOffset,I.yOffset,N,G)):y.texSubImage2D(te,St,Z,qe,N,G,z,X,T)}var ft=[];function Be(){return ft.pop()||new Se}function Ve(I){I.needsFree&&dn.freeType(I.data),Se.call(I),ft.push(I)}function it(){he.call(this),this.genMipmaps=!1,this.mipmapHint=Ea,this.mipmask=0,this.images=Array(16)}function ht(I,te,Z){var qe=I.images[0]=Be();I.mipmask=1,qe.width=I.width=te,qe.height=I.height=Z,qe.channels=I.channels=4}function Ct(I,te){var Z=null;if(Wc(te))Z=I.images[0]=Be(),ue(Z,I),Fe(Z,te),I.mipmask=1;else if(Xe(I,te),Array.isArray(te.mipmap))for(var qe=te.mipmap,St=0;St<qe.length;++St)Z=I.images[St]=Be(),ue(Z,I),Z.width>>=St,Z.height>>=St,Fe(Z,qe[St]),I.mipmask|=1<<St;else Z=I.images[0]=Be(),ue(Z,I),Fe(Z,te),I.mipmask=1;ue(I,I.images[0]),I.compressed&&(I.internalformat===Bc||I.internalformat===Nc||I.internalformat===Vc||I.internalformat===Uc)&&P(I.width%4===0&&I.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function on(I,te){for(var Z=I.images,qe=0;qe<Z.length;++qe){if(!Z[qe])return;ke(Z[qe],te,qe)}}var fn=[];function Ot(){var I=fn.pop()||new it;he.call(I),I.mipmask=0;for(var te=0;te<16;++te)I.images[te]=null;return I}function Cn(I){for(var te=I.images,Z=0;Z<te.length;++Z)te[Z]&&Ve(te[Z]),te[Z]=null;fn.push(I)}function Kt(){this.minFilter=jc,this.magFilter=jc,this.wrapS=zc,this.wrapT=zc,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Ea}function wn(I,te){if("min"in te){var Z=te.min;P.parameter(Z,Le),I.minFilter=Le[Z],F_.indexOf(I.minFilter)>=0&&!("faces"in te)&&(I.genMipmaps=!0)}if("mag"in te){var qe=te.mag;P.parameter(qe,Ce),I.magFilter=Ce[qe]}var St=I.wrapS,O=I.wrapT;if("wrap"in te){var T=te.wrap;typeof T=="string"?(P.parameter(T,be),St=O=be[T]):Array.isArray(T)&&(P.parameter(T[0],be),P.parameter(T[1],be),St=be[T[0]],O=be[T[1]])}else{if("wrapS"in te){var x=te.wrapS;P.parameter(x,be),St=be[x]}if("wrapT"in te){var z=te.wrapT;P.parameter(z,be),O=be[z]}}if(I.wrapS=St,I.wrapT=O,"anisotropic"in te){var X=te.anisotropic;P(typeof X=="number"&&X>=1&&X<=F.maxAnisotropic,"aniso samples must be between 1 and "),I.anisotropic=te.anisotropic}if("mipmap"in te){var N=!1;switch(typeof te.mipmap){case"string":P.parameter(te.mipmap,_e,"invalid mipmap hint"),I.mipmapHint=_e[te.mipmap],I.genMipmaps=!0,N=!0;break;case"boolean":N=I.genMipmaps=te.mipmap;break;case"object":P(Array.isArray(te.mipmap),"invalid mipmap type"),I.genMipmaps=!1,N=!0;break;default:P.raise("invalid mipmap type")}N&&!("min"in te)&&(I.minFilter=qc)}}function Pn(I,te){y.texParameteri(te,w_,I.minFilter),y.texParameteri(te,E_,I.magFilter),y.texParameteri(te,__,I.wrapS),y.texParameteri(te,y_,I.wrapT),C.ext_texture_filter_anisotropic&&y.texParameteri(te,O_,I.anisotropic),I.genMipmaps&&(y.hint(C_,I.mipmapHint),y.generateMipmap(te))}var Ln=0,Gn={},Un=F.maxTextureUnits,pn=Array(Un).map(function(){return null});function vt(I){he.call(this),this.mipmask=0,this.internalformat=Ds,this.id=Ln++,this.refCount=1,this.target=I,this.texture=y.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Kt,oe.profile&&(this.stats={size:0})}function $n(I){y.activeTexture(fo),y.bindTexture(I.target,I.texture)}function $t(){var I=pn[0];I?y.bindTexture(I.target,I.texture):y.bindTexture(Mr,null)}function st(I){var te=I.texture;P(te,"must not double destroy texture");var Z=I.unit,qe=I.target;Z>=0&&(y.activeTexture(fo+Z),y.bindTexture(qe,null),pn[Z]=null),y.deleteTexture(te),I.texture=null,I.params=null,I.pixels=null,I.refCount=0,delete Gn[I.id],K.textureCount--}r(vt.prototype,{bind:function(){var I=this;I.bindCount+=1;var te=I.unit;if(te<0){for(var Z=0;Z<Un;++Z){var qe=pn[Z];if(qe){if(qe.bindCount>0)continue;qe.unit=-1}pn[Z]=I,te=Z;break}te>=Un&&P.raise("insufficient number of texture units"),oe.profile&&K.maxTextureUnits<te+1&&(K.maxTextureUnits=te+1),I.unit=te,y.activeTexture(fo+te),y.bindTexture(I.target,I.texture)}return te},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&st(this)}});function Pt(I,te){var Z=new vt(Mr);Gn[Z.id]=Z,K.textureCount++;function qe(T,x){var z=Z.texInfo;Kt.call(z);var X=Ot();return typeof T=="number"?typeof x=="number"?ht(X,T|0,x|0):ht(X,T|0,T|0):T?(P.type(T,"object","invalid arguments to regl.texture"),wn(z,T),Ct(X,T)):ht(X,1,1),z.genMipmaps&&(X.mipmask=(X.width<<1)-1),Z.mipmask=X.mipmask,ue(Z,X),P.texture2D(z,X,F),Z.internalformat=X.internalformat,qe.width=X.width,qe.height=X.height,$n(Z),on(X,Mr),Pn(z,Mr),$t(),Cn(X),oe.profile&&(Z.stats.size=Ta(Z.internalformat,Z.type,X.width,X.height,z.genMipmaps,!1)),qe.format=we[Z.internalformat],qe.type=Ue[Z.type],qe.mag=ge[z.magFilter],qe.min=Ne[z.minFilter],qe.wrapS=Ge[z.wrapS],qe.wrapT=Ge[z.wrapT],qe}function St(T,x,z,X){P(!!T,"must specify image data");var N=x|0,G=z|0,$=X|0,R=Be();return ue(R,Z),R.width=0,R.height=0,Fe(R,T),R.width=R.width||(Z.width>>$)-N,R.height=R.height||(Z.height>>$)-G,P(Z.type===R.type&&Z.format===R.format&&Z.internalformat===R.internalformat,"incompatible format for texture.subimage"),P(N>=0&&G>=0&&N+R.width<=Z.width&&G+R.height<=Z.height,"texture.subimage write out of bounds"),P(Z.mipmask&1<<$,"missing mipmap data"),P(R.data||R.element||R.needsCopy,"missing image data"),$n(Z),dt(R,Mr,N,G,$),$t(),Ve(R),qe}function O(T,x){var z=T|0,X=x|0||z;if(z===Z.width&&X===Z.height)return qe;qe.width=Z.width=z,qe.height=Z.height=X,$n(Z);for(var N=0;Z.mipmask>>N;++N){var G=z>>N,$=X>>N;if(!G||!$)break;y.texImage2D(Mr,N,Z.format,G,$,0,Z.format,Z.type,null)}return $t(),oe.profile&&(Z.stats.size=Ta(Z.internalformat,Z.type,z,X,!1,!1)),qe}return qe(I,te),qe.subimage=St,qe.resize=O,qe._reglType="texture2d",qe._texture=Z,oe.profile&&(qe.stats=Z.stats),qe.destroy=function(){Z.decRef()},qe}function Dt(I,te,Z,qe,St,O){var T=new vt(Ic);Gn[T.id]=T,K.cubeCount++;var x=new Array(6);function z(G,$,R,D,M,Y){var W,ce=T.texInfo;for(Kt.call(ce),W=0;W<6;++W)x[W]=Ot();if(typeof G=="number"||!G){var me=G|0||1;for(W=0;W<6;++W)ht(x[W],me,me)}else if(typeof G=="object")if($)Ct(x[0],G),Ct(x[1],$),Ct(x[2],R),Ct(x[3],D),Ct(x[4],M),Ct(x[5],Y);else if(wn(ce,G),Xe(T,G),"faces"in G){var Re=G.faces;for(P(Array.isArray(Re)&&Re.length===6,"cube faces must be a length 6 array"),W=0;W<6;++W)P(typeof Re[W]=="object"&&!!Re[W],"invalid input for cube map face"),ue(x[W],T),Ct(x[W],Re[W])}else for(W=0;W<6;++W)Ct(x[W],G);else P.raise("invalid arguments to cube map");for(ue(T,x[0]),P.optional(function(){F.npotTextureCube||P(Vd(T.width)&&Vd(T.height),"your browser does not support non power or two texture dimensions")}),ce.genMipmaps?T.mipmask=(x[0].width<<1)-1:T.mipmask=x[0].mipmask,P.textureCube(T,ce,x,F),T.internalformat=x[0].internalformat,z.width=x[0].width,z.height=x[0].height,$n(T),W=0;W<6;++W)on(x[W],_a+W);for(Pn(ce,Ic),$t(),oe.profile&&(T.stats.size=Ta(T.internalformat,T.type,z.width,z.height,ce.genMipmaps,!0)),z.format=we[T.internalformat],z.type=Ue[T.type],z.mag=ge[ce.magFilter],z.min=Ne[ce.minFilter],z.wrapS=Ge[ce.wrapS],z.wrapT=Ge[ce.wrapT],W=0;W<6;++W)Cn(x[W]);return z}function X(G,$,R,D,M){P(!!$,"must specify image data"),P(typeof G=="number"&&G===(G|0)&&G>=0&&G<6,"invalid face");var Y=R|0,W=D|0,ce=M|0,me=Be();return ue(me,T),me.width=0,me.height=0,Fe(me,$),me.width=me.width||(T.width>>ce)-Y,me.height=me.height||(T.height>>ce)-W,P(T.type===me.type&&T.format===me.format&&T.internalformat===me.internalformat,"incompatible format for texture.subimage"),P(Y>=0&&W>=0&&Y+me.width<=T.width&&W+me.height<=T.height,"texture.subimage write out of bounds"),P(T.mipmask&1<<ce,"missing mipmap data"),P(me.data||me.element||me.needsCopy,"missing image data"),$n(T),dt(me,_a+G,Y,W,ce),$t(),Ve(me),z}function N(G){var $=G|0;if($!==T.width){z.width=T.width=$,z.height=T.height=$,$n(T);for(var R=0;R<6;++R)for(var D=0;T.mipmask>>D;++D)y.texImage2D(_a+R,D,T.format,$>>D,$>>D,0,T.format,T.type,null);return $t(),oe.profile&&(T.stats.size=Ta(T.internalformat,T.type,z.width,z.height,!1,!0)),z}}return z(I,te,Z,qe,St,O),z.subimage=X,z.resize=N,z._reglType="textureCube",z._texture=T,oe.profile&&(z.stats=T.stats),z.destroy=function(){T.decRef()},z}function gn(){for(var I=0;I<Un;++I)y.activeTexture(fo+I),y.bindTexture(Mr,null),pn[I]=null;ur(Gn).forEach(st),K.cubeCount=0,K.textureCount=0}oe.profile&&(K.getTotalTextureSize=function(){var I=0;return Object.keys(Gn).forEach(function(te){I+=Gn[te].stats.size}),I});function Dr(){for(var I=0;I<Un;++I){var te=pn[I];te&&(te.bindCount=0,te.unit=-1,pn[I]=null)}ur(Gn).forEach(function(Z){Z.texture=y.createTexture(),y.bindTexture(Z.target,Z.texture);for(var qe=0;qe<32;++qe)if(Z.mipmask&1<<qe)if(Z.target===Mr)y.texImage2D(Mr,qe,Z.internalformat,Z.width>>qe,Z.height>>qe,0,Z.internalformat,Z.type,null);else for(var St=0;St<6;++St)y.texImage2D(_a+St,qe,Z.internalformat,Z.width>>qe,Z.height>>qe,0,Z.internalformat,Z.type,null);Pn(Z.texInfo,Z.target)})}function Us(){for(var I=0;I<Un;++I){var te=pn[I];te&&(te.bindCount=0,te.unit=-1,pn[I]=null),y.activeTexture(fo+I),y.bindTexture(Mr,null),y.bindTexture(Ic,null)}}return{create2D:Pt,createCube:Dt,clear:gn,getTexture:function(I){return null},restore:Dr,refresh:Us}}var ls=36161,Ca=32854,h0=32855,m0=36194,p0=33189,g0=36168,v0=34041,b0=35907,_0=34836,y0=34842,A0=34843,Tr=[];Tr[Ca]=2,Tr[h0]=2,Tr[m0]=2,Tr[p0]=2,Tr[g0]=1,Tr[v0]=4,Tr[b0]=4,Tr[_0]=16,Tr[y0]=8,Tr[A0]=6;function S0(y,C,F){return Tr[y]*C*F}var H_=function(y,C,F,Q,de){var K={rgba4:Ca,rgb565:m0,"rgb5 a1":h0,depth:p0,stencil:g0,"depth stencil":v0};C.ext_srgb&&(K.srgba=b0),C.ext_color_buffer_half_float&&(K.rgba16f=y0,K.rgb16f=A0),C.webgl_color_buffer_float&&(K.rgba32f=_0);var oe=[];Object.keys(K).forEach(function(ye){var Te=K[ye];oe[Te]=ye});var _e=0,be={};function Ce(ye){this.id=_e++,this.refCount=1,this.renderbuffer=ye,this.format=Ca,this.width=0,this.height=0,de.profile&&(this.stats={size:0})}Ce.prototype.decRef=function(){--this.refCount<=0&&Le(this)};function Le(ye){var Te=ye.renderbuffer;P(Te,"must not double destroy renderbuffer"),y.bindRenderbuffer(ls,null),y.deleteRenderbuffer(Te),ye.renderbuffer=null,ye.refCount=0,delete be[ye.id],Q.renderbufferCount--}function Pe(ye,Te){var q=new Ce(y.createRenderbuffer());be[q.id]=q,Q.renderbufferCount++;function ie(Ue,ge){var Ne=0,Ge=0,nt=Ca;if(typeof Ue=="object"&&Ue){var he=Ue;if("shape"in he){var ue=he.shape;P(Array.isArray(ue)&&ue.length>=2,"invalid renderbuffer shape"),Ne=ue[0]|0,Ge=ue[1]|0}else"radius"in he&&(Ne=Ge=he.radius|0),"width"in he&&(Ne=he.width|0),"height"in he&&(Ge=he.height|0);"format"in he&&(P.parameter(he.format,K,"invalid renderbuffer format"),nt=K[he.format])}else typeof Ue=="number"?(Ne=Ue|0,typeof ge=="number"?Ge=ge|0:Ge=Ne):Ue?P.raise("invalid arguments to renderbuffer constructor"):Ne=Ge=1;if(P(Ne>0&&Ge>0&&Ne<=F.maxRenderbufferSize&&Ge<=F.maxRenderbufferSize,"invalid renderbuffer size"),!(Ne===q.width&&Ge===q.height&&nt===q.format))return ie.width=q.width=Ne,ie.height=q.height=Ge,q.format=nt,y.bindRenderbuffer(ls,q.renderbuffer),y.renderbufferStorage(ls,nt,Ne,Ge),P(y.getError()===0,"invalid render buffer format"),de.profile&&(q.stats.size=S0(q.format,q.width,q.height)),ie.format=oe[q.format],ie}function we(Ue,ge){var Ne=Ue|0,Ge=ge|0||Ne;return Ne===q.width&&Ge===q.height||(P(Ne>0&&Ge>0&&Ne<=F.maxRenderbufferSize&&Ge<=F.maxRenderbufferSize,"invalid renderbuffer size"),ie.width=q.width=Ne,ie.height=q.height=Ge,y.bindRenderbuffer(ls,q.renderbuffer),y.renderbufferStorage(ls,q.format,Ne,Ge),P(y.getError()===0,"invalid render buffer format"),de.profile&&(q.stats.size=S0(q.format,q.width,q.height))),ie}return ie(ye,Te),ie.resize=we,ie._reglType="renderbuffer",ie._renderbuffer=q,de.profile&&(ie.stats=q.stats),ie.destroy=function(){q.decRef()},ie}de.profile&&(Q.getTotalRenderbufferSize=function(){var ye=0;return Object.keys(be).forEach(function(Te){ye+=be[Te].stats.size}),ye});function Me(){ur(be).forEach(function(ye){ye.renderbuffer=y.createRenderbuffer(),y.bindRenderbuffer(ls,ye.renderbuffer),y.renderbufferStorage(ls,ye.format,ye.width,ye.height)}),y.bindRenderbuffer(ls,null)}return{create:Pe,clear:function(){ur(be).forEach(Le)},restore:Me}},qr=36160,Yc=36161,ks=3553,Pa=34069,E0=36064,w0=36096,T0=36128,C0=33306,P0=36053,z_=36054,j_=36055,q_=36057,X_=36061,W_=36193,Y_=5121,Z_=5126,L0=6407,O0=6408,K_=6402,Q_=[L0,O0],Zc=[];Zc[O0]=4,Zc[L0]=3;var La=[];La[Y_]=1,La[Z_]=4,La[W_]=2;var J_=32854,ey=32855,ty=36194,ny=33189,ry=36168,R0=34041,sy=35907,iy=34836,oy=34842,ay=34843,ly=[J_,ey,ty,sy,oy,ay,iy],_i={};_i[P0]="complete",_i[z_]="incomplete attachment",_i[q_]="incomplete dimensions",_i[j_]="incomplete, missing attachment",_i[X_]="unsupported";function cy(y,C,F,Q,de,K){var oe={cur:null,next:null,dirty:!1,setFBO:null},_e=["rgba"],be=["rgba4","rgb565","rgb5 a1"];C.ext_srgb&&be.push("srgba"),C.ext_color_buffer_half_float&&be.push("rgba16f","rgb16f"),C.webgl_color_buffer_float&&be.push("rgba32f");var Ce=["uint8"];C.oes_texture_half_float&&Ce.push("half float","float16"),C.oes_texture_float&&Ce.push("float","float32");function Le(Se,Fe,ke){this.target=Se,this.texture=Fe,this.renderbuffer=ke;var dt=0,ft=0;Fe?(dt=Fe.width,ft=Fe.height):ke&&(dt=ke.width,ft=ke.height),this.width=dt,this.height=ft}function Pe(Se){Se&&(Se.texture&&Se.texture._texture.decRef(),Se.renderbuffer&&Se.renderbuffer._renderbuffer.decRef())}function Me(Se,Fe,ke){if(Se)if(Se.texture){var dt=Se.texture._texture,ft=Math.max(1,dt.width),Be=Math.max(1,dt.height);P(ft===Fe&&Be===ke,"inconsistent width/height for supplied texture"),dt.refCount+=1}else{var Ve=Se.renderbuffer._renderbuffer;P(Ve.width===Fe&&Ve.height===ke,"inconsistent width/height for renderbuffer"),Ve.refCount+=1}}function ye(Se,Fe){Fe&&(Fe.texture?y.framebufferTexture2D(qr,Se,Fe.target,Fe.texture._texture.texture,0):y.framebufferRenderbuffer(qr,Se,Yc,Fe.renderbuffer._renderbuffer.renderbuffer))}function Te(Se){var Fe=ks,ke=null,dt=null,ft=Se;typeof Se=="object"&&(ft=Se.data,"target"in Se&&(Fe=Se.target|0)),P.type(ft,"function","invalid attachment data");var Be=ft._reglType;return Be==="texture2d"?(ke=ft,P(Fe===ks)):Be==="textureCube"?(ke=ft,P(Fe>=Pa&&Fe<Pa+6,"invalid cube map target")):Be==="renderbuffer"?(dt=ft,Fe=Yc):P.raise("invalid regl object for attachment"),new Le(Fe,ke,dt)}function q(Se,Fe,ke,dt,ft){if(ke){var Be=Q.create2D({width:Se,height:Fe,format:dt,type:ft});return Be._texture.refCount=0,new Le(ks,Be,null)}else{var Ve=de.create({width:Se,height:Fe,format:dt});return Ve._renderbuffer.refCount=0,new Le(Yc,null,Ve)}}function ie(Se){return Se&&(Se.texture||Se.renderbuffer)}function we(Se,Fe,ke){Se&&(Se.texture?Se.texture.resize(Fe,ke):Se.renderbuffer&&Se.renderbuffer.resize(Fe,ke),Se.width=Fe,Se.height=ke)}var Ue=0,ge={};function Ne(){this.id=Ue++,ge[this.id]=this,this.framebuffer=y.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Ge(Se){Se.colorAttachments.forEach(Pe),Pe(Se.depthAttachment),Pe(Se.stencilAttachment),Pe(Se.depthStencilAttachment)}function nt(Se){var Fe=Se.framebuffer;P(Fe,"must not double destroy framebuffer"),y.deleteFramebuffer(Fe),Se.framebuffer=null,K.framebufferCount--,delete ge[Se.id]}function he(Se){var Fe;y.bindFramebuffer(qr,Se.framebuffer);var ke=Se.colorAttachments;for(Fe=0;Fe<ke.length;++Fe)ye(E0+Fe,ke[Fe]);for(Fe=ke.length;Fe<F.maxColorAttachments;++Fe)y.framebufferTexture2D(qr,E0+Fe,ks,null,0);y.framebufferTexture2D(qr,C0,ks,null,0),y.framebufferTexture2D(qr,w0,ks,null,0),y.framebufferTexture2D(qr,T0,ks,null,0),ye(w0,Se.depthAttachment),ye(T0,Se.stencilAttachment),ye(C0,Se.depthStencilAttachment);var dt=y.checkFramebufferStatus(qr);!y.isContextLost()&&dt!==P0&&P.raise("framebuffer configuration not supported, status = "+_i[dt]),y.bindFramebuffer(qr,oe.next?oe.next.framebuffer:null),oe.cur=oe.next,y.getError()}function ue(Se,Fe){var ke=new Ne;K.framebufferCount++;function dt(Be,Ve){var it;P(oe.next!==ke,"can not update framebuffer which is currently in use");var ht=0,Ct=0,on=!0,fn=!0,Ot=null,Cn=!0,Kt="rgba",wn="uint8",Pn=1,Ln=null,Gn=null,Un=null,pn=!1;if(typeof Be=="number")ht=Be|0,Ct=Ve|0||ht;else if(!Be)ht=Ct=1;else{P.type(Be,"object","invalid arguments for framebuffer");var vt=Be;if("shape"in vt){var $n=vt.shape;P(Array.isArray($n)&&$n.length>=2,"invalid shape for framebuffer"),ht=$n[0],Ct=$n[1]}else"radius"in vt&&(ht=Ct=vt.radius),"width"in vt&&(ht=vt.width),"height"in vt&&(Ct=vt.height);("color"in vt||"colors"in vt)&&(Ot=vt.color||vt.colors,Array.isArray(Ot)&&P(Ot.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),Ot||("colorCount"in vt&&(Pn=vt.colorCount|0,P(Pn>0,"invalid color buffer count")),"colorTexture"in vt&&(Cn=!!vt.colorTexture,Kt="rgba4"),"colorType"in vt&&(wn=vt.colorType,Cn?(P(C.oes_texture_float||!(wn==="float"||wn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),P(C.oes_texture_half_float||!(wn==="half float"||wn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):wn==="half float"||wn==="float16"?(P(C.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Kt="rgba16f"):(wn==="float"||wn==="float32")&&(P(C.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Kt="rgba32f"),P.oneOf(wn,Ce,"invalid color type")),"colorFormat"in vt&&(Kt=vt.colorFormat,_e.indexOf(Kt)>=0?Cn=!0:be.indexOf(Kt)>=0?Cn=!1:P.optional(function(){Cn?P.oneOf(vt.colorFormat,_e,"invalid color format for texture"):P.oneOf(vt.colorFormat,be,"invalid color format for renderbuffer")}))),("depthTexture"in vt||"depthStencilTexture"in vt)&&(pn=!!(vt.depthTexture||vt.depthStencilTexture),P(!pn||C.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in vt&&(typeof vt.depth=="boolean"?on=vt.depth:(Ln=vt.depth,fn=!1)),"stencil"in vt&&(typeof vt.stencil=="boolean"?fn=vt.stencil:(Gn=vt.stencil,on=!1)),"depthStencil"in vt&&(typeof vt.depthStencil=="boolean"?on=fn=vt.depthStencil:(Un=vt.depthStencil,on=!1,fn=!1))}var $t=null,st=null,Pt=null,Dt=null;if(Array.isArray(Ot))$t=Ot.map(Te);else if(Ot)$t=[Te(Ot)];else for($t=new Array(Pn),it=0;it<Pn;++it)$t[it]=q(ht,Ct,Cn,Kt,wn);P(C.webgl_draw_buffers||$t.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),P($t.length<=F.maxColorAttachments,"too many color attachments, not supported"),ht=ht||$t[0].width,Ct=Ct||$t[0].height,Ln?st=Te(Ln):on&&!fn&&(st=q(ht,Ct,pn,"depth","uint32")),Gn?Pt=Te(Gn):fn&&!on&&(Pt=q(ht,Ct,!1,"stencil","uint8")),Un?Dt=Te(Un):!Ln&&!Gn&&fn&&on&&(Dt=q(ht,Ct,pn,"depth stencil","depth stencil")),P(!!Ln+!!Gn+!!Un<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var gn=null;for(it=0;it<$t.length;++it)if(Me($t[it],ht,Ct),P(!$t[it]||$t[it].texture&&Q_.indexOf($t[it].texture._texture.format)>=0||$t[it].renderbuffer&&ly.indexOf($t[it].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+it+" is invalid"),$t[it]&&$t[it].texture){var Dr=Zc[$t[it].texture._texture.format]*La[$t[it].texture._texture.type];gn===null?gn=Dr:P(gn===Dr,"all color attachments much have the same number of bits per pixel.")}return Me(st,ht,Ct),P(!st||st.texture&&st.texture._texture.format===K_||st.renderbuffer&&st.renderbuffer._renderbuffer.format===ny,"invalid depth attachment for framebuffer object"),Me(Pt,ht,Ct),P(!Pt||Pt.renderbuffer&&Pt.renderbuffer._renderbuffer.format===ry,"invalid stencil attachment for framebuffer object"),Me(Dt,ht,Ct),P(!Dt||Dt.texture&&Dt.texture._texture.format===R0||Dt.renderbuffer&&Dt.renderbuffer._renderbuffer.format===R0,"invalid depth-stencil attachment for framebuffer object"),Ge(ke),ke.width=ht,ke.height=Ct,ke.colorAttachments=$t,ke.depthAttachment=st,ke.stencilAttachment=Pt,ke.depthStencilAttachment=Dt,dt.color=$t.map(ie),dt.depth=ie(st),dt.stencil=ie(Pt),dt.depthStencil=ie(Dt),dt.width=ke.width,dt.height=ke.height,he(ke),dt}function ft(Be,Ve){P(oe.next!==ke,"can not resize a framebuffer which is currently in use");var it=Math.max(Be|0,1),ht=Math.max(Ve|0||it,1);if(it===ke.width&&ht===ke.height)return dt;for(var Ct=ke.colorAttachments,on=0;on<Ct.length;++on)we(Ct[on],it,ht);return we(ke.depthAttachment,it,ht),we(ke.stencilAttachment,it,ht),we(ke.depthStencilAttachment,it,ht),ke.width=dt.width=it,ke.height=dt.height=ht,he(ke),dt}return dt(Se,Fe),r(dt,{resize:ft,_reglType:"framebuffer",_framebuffer:ke,destroy:function(){nt(ke),Ge(ke)},use:function(Be){oe.setFBO({framebuffer:dt},Be)}})}function Xe(Se){var Fe=Array(6);function ke(ft){var Be;P(Fe.indexOf(oe.next)<0,"can not update framebuffer which is currently in use");var Ve={color:null},it=0,ht=null,Ct="rgba",on="uint8",fn=1;if(typeof ft=="number")it=ft|0;else if(!ft)it=1;else{P.type(ft,"object","invalid arguments for framebuffer");var Ot=ft;if("shape"in Ot){var Cn=Ot.shape;P(Array.isArray(Cn)&&Cn.length>=2,"invalid shape for framebuffer"),P(Cn[0]===Cn[1],"cube framebuffer must be square"),it=Cn[0]}else"radius"in Ot&&(it=Ot.radius|0),"width"in Ot?(it=Ot.width|0,"height"in Ot&&P(Ot.height===it,"must be square")):"height"in Ot&&(it=Ot.height|0);("color"in Ot||"colors"in Ot)&&(ht=Ot.color||Ot.colors,Array.isArray(ht)&&P(ht.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),ht||("colorCount"in Ot&&(fn=Ot.colorCount|0,P(fn>0,"invalid color buffer count")),"colorType"in Ot&&(P.oneOf(Ot.colorType,Ce,"invalid color type"),on=Ot.colorType),"colorFormat"in Ot&&(Ct=Ot.colorFormat,P.oneOf(Ot.colorFormat,_e,"invalid color format for texture"))),"depth"in Ot&&(Ve.depth=Ot.depth),"stencil"in Ot&&(Ve.stencil=Ot.stencil),"depthStencil"in Ot&&(Ve.depthStencil=Ot.depthStencil)}var Kt;if(ht)if(Array.isArray(ht))for(Kt=[],Be=0;Be<ht.length;++Be)Kt[Be]=ht[Be];else Kt=[ht];else{Kt=Array(fn);var wn={radius:it,format:Ct,type:on};for(Be=0;Be<fn;++Be)Kt[Be]=Q.createCube(wn)}for(Ve.color=Array(Kt.length),Be=0;Be<Kt.length;++Be){var Pn=Kt[Be];P(typeof Pn=="function"&&Pn._reglType==="textureCube","invalid cube map"),it=it||Pn.width,P(Pn.width===it&&Pn.height===it,"invalid cube map shape"),Ve.color[Be]={target:Pa,data:Kt[Be]}}for(Be=0;Be<6;++Be){for(var Ln=0;Ln<Kt.length;++Ln)Ve.color[Ln].target=Pa+Be;Be>0&&(Ve.depth=Fe[0].depth,Ve.stencil=Fe[0].stencil,Ve.depthStencil=Fe[0].depthStencil),Fe[Be]?Fe[Be](Ve):Fe[Be]=ue(Ve)}return r(ke,{width:it,height:it,color:Kt})}function dt(ft){var Be,Ve=ft|0;if(P(Ve>0&&Ve<=F.maxCubeMapSize,"invalid radius for cube fbo"),Ve===ke.width)return ke;var it=ke.color;for(Be=0;Be<it.length;++Be)it[Be].resize(Ve);for(Be=0;Be<6;++Be)Fe[Be].resize(Ve);return ke.width=ke.height=Ve,ke}return ke(Se),r(ke,{faces:Fe,resize:dt,_reglType:"framebufferCube",destroy:function(){Fe.forEach(function(ft){ft.destroy()})}})}function De(){oe.cur=null,oe.next=null,oe.dirty=!0,ur(ge).forEach(function(Se){Se.framebuffer=y.createFramebuffer(),he(Se)})}return r(oe,{getFramebuffer:function(Se){if(typeof Se=="function"&&Se._reglType==="framebuffer"){var Fe=Se._framebuffer;if(Fe instanceof Ne)return Fe}return null},create:ue,createCube:Xe,clear:function(){ur(ge).forEach(nt)},restore:De})}var fy=5126,M0=34962,Oa=34963,I0=["attributes","elements","offset","count","primitive","instances"];function Kc(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=fy,this.offset=0,this.stride=0,this.divisor=0}function uy(y,C,F,Q,de,K,oe){for(var _e=F.maxAttributes,be=new Array(_e),Ce=0;Ce<_e;++Ce)be[Ce]=new Kc;var Le=0,Pe={},Me={Record:Kc,scope:{},state:be,currentVAO:null,targetVAO:null,restore:Te()?Ge:function(){},createVAO:nt,getVAO:ie,destroyBuffer:ye,setVAO:Te()?we:Ue,clear:Te()?ge:function(){}};function ye(he){for(var ue=0;ue<be.length;++ue){var Xe=be[ue];Xe.buffer===he&&(y.disableVertexAttribArray(ue),Xe.buffer=null)}}function Te(){return C.oes_vertex_array_object}function q(){return C.angle_instanced_arrays}function ie(he){return typeof he=="function"&&he._vao?he._vao:null}function we(he){if(he!==Me.currentVAO){var ue=Te();he?ue.bindVertexArrayOES(he.vao):ue.bindVertexArrayOES(null),Me.currentVAO=he}}function Ue(he){if(he!==Me.currentVAO){if(he)he.bindAttrs();else{for(var ue=q(),Xe=0;Xe<be.length;++Xe){var De=be[Xe];De.buffer?(y.enableVertexAttribArray(Xe),De.buffer.bind(),y.vertexAttribPointer(Xe,De.size,De.type,De.normalized,De.stride,De.offfset),ue&&De.divisor&&ue.vertexAttribDivisorANGLE(Xe,De.divisor)):(y.disableVertexAttribArray(Xe),y.vertexAttrib4f(Xe,De.x,De.y,De.z,De.w))}oe.elements?y.bindBuffer(Oa,oe.elements.buffer.buffer):y.bindBuffer(Oa,null)}Me.currentVAO=he}}function ge(){ur(Pe).forEach(function(he){he.destroy()})}function Ne(){this.id=++Le,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var he=Te();he?this.vao=he.createVertexArrayOES():this.vao=null,Pe[this.id]=this,this.buffers=[]}Ne.prototype.bindAttrs=function(){for(var he=q(),ue=this.attributes,Xe=0;Xe<ue.length;++Xe){var De=ue[Xe];De.buffer?(y.enableVertexAttribArray(Xe),y.bindBuffer(M0,De.buffer.buffer),y.vertexAttribPointer(Xe,De.size,De.type,De.normalized,De.stride,De.offset),he&&De.divisor&&he.vertexAttribDivisorANGLE(Xe,De.divisor)):(y.disableVertexAttribArray(Xe),y.vertexAttrib4f(Xe,De.x,De.y,De.z,De.w))}for(var Se=ue.length;Se<_e;++Se)y.disableVertexAttribArray(Se);var Fe=K.getElements(this.elements);Fe?y.bindBuffer(Oa,Fe.buffer.buffer):y.bindBuffer(Oa,null)},Ne.prototype.refresh=function(){var he=Te();he&&(he.bindVertexArrayOES(this.vao),this.bindAttrs(),Me.currentVAO=null,he.bindVertexArrayOES(null))},Ne.prototype.destroy=function(){if(this.vao){var he=Te();this===Me.currentVAO&&(Me.currentVAO=null,he.bindVertexArrayOES(null)),he.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Pe[this.id]&&(delete Pe[this.id],Q.vaoCount-=1)};function Ge(){var he=Te();he&&ur(Pe).forEach(function(ue){ue.refresh()})}function nt(he){var ue=new Ne;Q.vaoCount+=1;function Xe(De){var Se;if(Array.isArray(De))Se=De,ue.elements&&ue.ownsElements&&ue.elements.destroy(),ue.elements=null,ue.ownsElements=!1,ue.offset=0,ue.count=0,ue.instances=-1,ue.primitive=4;else{if(P(typeof De=="object","invalid arguments for create vao"),P("attributes"in De,"must specify attributes for vao"),De.elements){var Fe=De.elements;ue.ownsElements?typeof Fe=="function"&&Fe._reglType==="elements"?(ue.elements.destroy(),ue.ownsElements=!1):(ue.elements(Fe),ue.ownsElements=!1):K.getElements(De.elements)?(ue.elements=De.elements,ue.ownsElements=!1):(ue.elements=K.create(De.elements),ue.ownsElements=!0)}else ue.elements=null,ue.ownsElements=!1;Se=De.attributes,ue.offset=0,ue.count=-1,ue.instances=-1,ue.primitive=4,ue.elements&&(ue.count=ue.elements._elements.vertCount,ue.primitive=ue.elements._elements.primType),"offset"in De&&(ue.offset=De.offset|0),"count"in De&&(ue.count=De.count|0),"instances"in De&&(ue.instances=De.instances|0),"primitive"in De&&(P(De.primitive in as,"bad primitive type: "+De.primitive),ue.primitive=as[De.primitive]),P.optional(()=>{for(var on=Object.keys(De),fn=0;fn<on.length;++fn)P(I0.indexOf(on[fn])>=0,'invalid option for vao: "'+on[fn]+'" valid options are '+I0)}),P(Array.isArray(Se),"attributes must be an array")}P(Se.length<_e,"too many attributes"),P(Se.length>0,"must specify at least one attribute");var ke={},dt=ue.attributes;dt.length=Se.length;for(var ft=0;ft<Se.length;++ft){var Be=Se[ft],Ve=dt[ft]=new Kc,it=Be.data||Be;if(Array.isArray(it)||n(it)||wr(it)){var ht;ue.buffers[ft]&&(ht=ue.buffers[ft],n(it)&&ht._buffer.byteLength>=it.byteLength?ht.subdata(it):(ht.destroy(),ue.buffers[ft]=null)),ue.buffers[ft]||(ht=ue.buffers[ft]=de.create(Be,M0,!1,!0)),Ve.buffer=de.getBuffer(ht),Ve.size=Ve.buffer.dimension|0,Ve.normalized=!1,Ve.type=Ve.buffer.dtype,Ve.offset=0,Ve.stride=0,Ve.divisor=0,Ve.state=1,ke[ft]=1}else de.getBuffer(Be)?(Ve.buffer=de.getBuffer(Be),Ve.size=Ve.buffer.dimension|0,Ve.normalized=!1,Ve.type=Ve.buffer.dtype,Ve.offset=0,Ve.stride=0,Ve.divisor=0,Ve.state=1):de.getBuffer(Be.buffer)?(Ve.buffer=de.getBuffer(Be.buffer),Ve.size=(+Be.size||Ve.buffer.dimension)|0,Ve.normalized=!!Be.normalized||!1,"type"in Be?(P.parameter(Be.type,Ms,"invalid buffer type"),Ve.type=Ms[Be.type]):Ve.type=Ve.buffer.dtype,Ve.offset=(Be.offset||0)|0,Ve.stride=(Be.stride||0)|0,Ve.divisor=(Be.divisor||0)|0,Ve.state=1,P(Ve.size>=1&&Ve.size<=4,"size must be between 1 and 4"),P(Ve.offset>=0,"invalid offset"),P(Ve.stride>=0&&Ve.stride<=255,"stride must be between 0 and 255"),P(Ve.divisor>=0,"divisor must be positive"),P(!Ve.divisor||!!C.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Be?(P(ft>0,"first attribute must not be a constant"),Ve.x=+Be.x||0,Ve.y=+Be.y||0,Ve.z=+Be.z||0,Ve.w=+Be.w||0,Ve.state=2):P(!1,"invalid attribute spec for location "+ft)}for(var Ct=0;Ct<ue.buffers.length;++Ct)!ke[Ct]&&ue.buffers[Ct]&&(ue.buffers[Ct].destroy(),ue.buffers[Ct]=null);return ue.refresh(),Xe}return Xe.destroy=function(){for(var De=0;De<ue.buffers.length;++De)ue.buffers[De]&&ue.buffers[De].destroy();ue.buffers.length=0,ue.ownsElements&&(ue.elements.destroy(),ue.elements=null,ue.ownsElements=!1),ue.destroy()},Xe._vao=ue,Xe._reglType="vao",Xe(he)}return Me}var D0=35632,dy=35633,hy=35718,my=35721;function py(y,C,F,Q){var de={},K={};function oe(q,ie,we,Ue){this.name=q,this.id=ie,this.location=we,this.info=Ue}function _e(q,ie){for(var we=0;we<q.length;++we)if(q[we].id===ie.id){q[we].location=ie.location;return}q.push(ie)}function be(q,ie,we){var Ue=q===D0?de:K,ge=Ue[ie];if(!ge){var Ne=C.str(ie);ge=y.createShader(q),y.shaderSource(ge,Ne),y.compileShader(ge),P.shaderError(y,ge,Ne,q,we),Ue[ie]=ge}return ge}var Ce={},Le=[],Pe=0;function Me(q,ie){this.id=Pe++,this.fragId=q,this.vertId=ie,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Q.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ye(q,ie,we){var Ue,ge,Ne=be(D0,q.fragId),Ge=be(dy,q.vertId),nt=q.program=y.createProgram();if(y.attachShader(nt,Ne),y.attachShader(nt,Ge),we)for(Ue=0;Ue<we.length;++Ue){var he=we[Ue];y.bindAttribLocation(nt,he[0],he[1])}y.linkProgram(nt),P.linkError(y,nt,C.str(q.fragId),C.str(q.vertId),ie);var ue=y.getProgramParameter(nt,hy);Q.profile&&(q.stats.uniformsCount=ue);var Xe=q.uniforms;for(Ue=0;Ue<ue;++Ue)if(ge=y.getActiveUniform(nt,Ue),ge){if(ge.size>1)for(var De=0;De<ge.size;++De){var Se=ge.name.replace("[0]","["+De+"]");_e(Xe,new oe(Se,C.id(Se),y.getUniformLocation(nt,Se),ge))}var Fe=ge.name;ge.size>1&&(Fe=Fe.replace("[0]","")),_e(Xe,new oe(Fe,C.id(Fe),y.getUniformLocation(nt,Fe),ge))}var ke=y.getProgramParameter(nt,my);Q.profile&&(q.stats.attributesCount=ke);var dt=q.attributes;for(Ue=0;Ue<ke;++Ue)ge=y.getActiveAttrib(nt,Ue),ge&&_e(dt,new oe(ge.name,C.id(ge.name),y.getAttribLocation(nt,ge.name),ge))}Q.profile&&(F.getMaxUniformsCount=function(){var q=0;return Le.forEach(function(ie){ie.stats.uniformsCount>q&&(q=ie.stats.uniformsCount)}),q},F.getMaxAttributesCount=function(){var q=0;return Le.forEach(function(ie){ie.stats.attributesCount>q&&(q=ie.stats.attributesCount)}),q});function Te(){de={},K={};for(var q=0;q<Le.length;++q)ye(Le[q],null,Le[q].attributes.map(function(ie){return[ie.location,ie.name]}))}return{clear:function(){var q=y.deleteShader.bind(y);ur(de).forEach(q),de={},ur(K).forEach(q),K={},Le.forEach(function(ie){y.deleteProgram(ie.program)}),Le.length=0,Ce={},F.shaderCount=0},program:function(q,ie,we,Ue){P.command(q>=0,"missing vertex shader",we),P.command(ie>=0,"missing fragment shader",we);var ge=Ce[ie];ge||(ge=Ce[ie]={});var Ne=ge[q];if(Ne&&(Ne.refCount++,!Ue))return Ne;var Ge=new Me(ie,q);return F.shaderCount++,ye(Ge,we,Ue),Ne||(ge[q]=Ge),Le.push(Ge),r(Ge,{destroy:function(){if(Ge.refCount--,Ge.refCount<=0){y.deleteProgram(Ge.program);var nt=Le.indexOf(Ge);Le.splice(nt,1),F.shaderCount--}ge[Ge.vertId].refCount<=0&&(y.deleteShader(K[Ge.vertId]),delete K[Ge.vertId],delete Ce[Ge.fragId][Ge.vertId]),Object.keys(Ce[Ge.fragId]).length||(y.deleteShader(de[Ge.fragId]),delete de[Ge.fragId],delete Ce[Ge.fragId])}})},restore:Te,shader:be,frag:-1,vert:-1}}var gy=6408,uo=5121,vy=3333,Ra=5126;function by(y,C,F,Q,de,K,oe){function _e(Le){var Pe;C.next===null?(P(de.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Pe=uo):(P(C.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Pe=C.next.colorAttachments[0].texture._texture.type,P.optional(function(){K.oes_texture_float?(P(Pe===uo||Pe===Ra,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Pe===Ra&&P(oe.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):P(Pe===uo,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Me=0,ye=0,Te=Q.framebufferWidth,q=Q.framebufferHeight,ie=null;n(Le)?ie=Le:Le&&(P.type(Le,"object","invalid arguments to regl.read()"),Me=Le.x|0,ye=Le.y|0,P(Me>=0&&Me<Q.framebufferWidth,"invalid x offset for regl.read"),P(ye>=0&&ye<Q.framebufferHeight,"invalid y offset for regl.read"),Te=(Le.width||Q.framebufferWidth-Me)|0,q=(Le.height||Q.framebufferHeight-ye)|0,ie=Le.data||null),ie&&(Pe===uo?P(ie instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Pe===Ra&&P(ie instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),P(Te>0&&Te+Me<=Q.framebufferWidth,"invalid width for read pixels"),P(q>0&&q+ye<=Q.framebufferHeight,"invalid height for read pixels"),F();var we=Te*q*4;return ie||(Pe===uo?ie=new Uint8Array(we):Pe===Ra&&(ie=ie||new Float32Array(we))),P.isTypedArray(ie,"data buffer for regl.read() must be a typedarray"),P(ie.byteLength>=we,"data buffer for regl.read() too small"),y.pixelStorei(vy,4),y.readPixels(Me,ye,Te,q,gy,Pe,ie),ie}function be(Le){var Pe;return C.setFBO({framebuffer:Le.framebuffer},function(){Pe=_e(Le)}),Pe}function Ce(Le){return!Le||!("framebuffer"in Le)?_e(Le):be(Le)}return Ce}function yi(y){return Array.prototype.slice.call(y)}function Ai(y){return yi(y).join("")}function _y(){var y=0,C=[],F=[];function Q(Pe){for(var Me=0;Me<F.length;++Me)if(F[Me]===Pe)return C[Me];var ye="g"+y++;return C.push(ye),F.push(Pe),ye}function de(){var Pe=[];function Me(){Pe.push.apply(Pe,yi(arguments))}var ye=[];function Te(){var q="v"+y++;return ye.push(q),arguments.length>0&&(Pe.push(q,"="),Pe.push.apply(Pe,yi(arguments)),Pe.push(";")),q}return r(Me,{def:Te,toString:function(){return Ai([ye.length>0?"var "+ye.join(",")+";":"",Ai(Pe)])}})}function K(){var Pe=de(),Me=de(),ye=Pe.toString,Te=Me.toString;function q(ie,we){Me(ie,we,"=",Pe.def(ie,we),";")}return r(function(){Pe.apply(Pe,yi(arguments))},{def:Pe.def,entry:Pe,exit:Me,save:q,set:function(ie,we,Ue){q(ie,we),Pe(ie,we,"=",Ue,";")},toString:function(){return ye()+Te()}})}function oe(){var Pe=Ai(arguments),Me=K(),ye=K(),Te=Me.toString,q=ye.toString;return r(Me,{then:function(){return Me.apply(Me,yi(arguments)),this},else:function(){return ye.apply(ye,yi(arguments)),this},toString:function(){var ie=q();return ie&&(ie="else{"+ie+"}"),Ai(["if(",Pe,"){",Te(),"}",ie])}})}var _e=de(),be={};function Ce(Pe,Me){var ye=[];function Te(){var ge="a"+ye.length;return ye.push(ge),ge}Me=Me||0;for(var q=0;q<Me;++q)Te();var ie=K(),we=ie.toString,Ue=be[Pe]=r(ie,{arg:Te,toString:function(){return Ai(["function(",ye.join(),"){",we(),"}"])}});return Ue}function Le(){var Pe=['"use strict";',_e,"return {"];Object.keys(be).forEach(function(Te){Pe.push('"',Te,'":',be[Te].toString(),",")}),Pe.push("}");var Me=Ai(Pe).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ye=Function.apply(null,C.concat(Me));return ye.apply(null,F)}return{global:_e,link:Q,block:de,proc:Ce,scope:K,cond:oe,compile:Le}}var Si="xyzw".split(""),F0=5121,Ei=1,Qc=2,Jc=0,ef=1,tf=2,nf=3,Ma=4,k0=5,x0=6,G0="dither",B0="blend.enable",N0="blend.color",rf="blend.equation",sf="blend.func",V0="depth.enable",U0="depth.func",$0="depth.range",H0="depth.mask",of="colorMask",z0="cull.enable",j0="cull.face",af="frontFace",lf="lineWidth",q0="polygonOffset.enable",cf="polygonOffset.offset",X0="sample.alpha",W0="sample.enable",ff="sample.coverage",Y0="stencil.enable",Z0="stencil.mask",uf="stencil.func",df="stencil.opFront",ho="stencil.opBack",K0="scissor.enable",Ia="scissor.box",Xr="viewport",mo="profile",xs="framebuffer",po="vert",go="frag",Gs="elements",Bs="primitive",Ns="count",Da="offset",Fa="instances",vo="vao",hf="Width",mf="Height",wi=xs+hf,Ti=xs+mf,yy=Xr+hf,Ay=Xr+mf,Q0="drawingBuffer",J0=Q0+hf,e1=Q0+mf,Sy=[sf,rf,uf,df,ho,ff,Xr,Ia,cf],Ci=34962,pf=34963,Ey=35632,wy=35633,t1=3553,Ty=34067,Cy=2884,Py=3042,Ly=3024,Oy=2960,Ry=2929,My=3089,Iy=32823,Dy=32926,Fy=32928,gf=5126,ka=35664,xa=35665,Ga=35666,vf=5124,Ba=35667,Na=35668,Va=35669,bf=35670,Ua=35671,$a=35672,Ha=35673,bo=35674,_o=35675,yo=35676,Ao=35678,So=35680,_f=4,Eo=1028,Vs=1029,n1=2304,yf=2305,ky=32775,xy=32776,Gy=519,cs=7680,r1=0,s1=1,i1=32774,By=513,o1=36160,Ny=36064,Ir={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},a1=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Pi={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},fs={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},l1={frag:Ey,vert:wy},Af={cw:n1,ccw:yf};function za(y){return Array.isArray(y)||n(y)||wr(y)}function c1(y){return y.sort(function(C,F){return C===Xr?-1:F===Xr?1:C<F?-1:1})}function Dn(y,C,F,Q){this.thisDep=y,this.contextDep=C,this.propDep=F,this.append=Q}function us(y){return y&&!(y.thisDep||y.contextDep||y.propDep)}function En(y){return new Dn(!1,!1,!1,y)}function sr(y,C){var F=y.type;if(F===Jc){var Q=y.data.length;return new Dn(!0,Q>=1,Q>=2,C)}else if(F===Ma){var de=y.data;return new Dn(de.thisDep,de.contextDep,de.propDep,C)}else{if(F===k0)return new Dn(!1,!1,!1,C);if(F===x0){for(var K=!1,oe=!1,_e=!1,be=0;be<y.data.length;++be){var Ce=y.data[be];if(Ce.type===ef)_e=!0;else if(Ce.type===tf)oe=!0;else if(Ce.type===nf)K=!0;else if(Ce.type===Jc){K=!0;var Le=Ce.data;Le>=1&&(oe=!0),Le>=2&&(_e=!0)}else Ce.type===Ma&&(K=K||Ce.data.thisDep,oe=oe||Ce.data.contextDep,_e=_e||Ce.data.propDep)}return new Dn(K,oe,_e,C)}else return new Dn(F===nf,F===tf,F===ef,C)}}var f1=new Dn(!1,!1,!1,function(){});function Vy(y,C,F,Q,de,K,oe,_e,be,Ce,Le,Pe,Me,ye,Te){var q=Ce.Record,ie={add:32774,subtract:32778,"reverse subtract":32779};F.ext_blend_minmax&&(ie.min=ky,ie.max=xy);var we=F.angle_instanced_arrays,Ue=F.webgl_draw_buffers,ge=F.oes_vertex_array_object,Ne={dirty:!0,profile:Te.profile},Ge={},nt=[],he={},ue={};function Xe(O){return O.replace(".","_")}function De(O,T,x){var z=Xe(O);nt.push(O),Ge[z]=Ne[z]=!!x,he[z]=T}function Se(O,T,x){var z=Xe(O);nt.push(O),Array.isArray(x)?(Ne[z]=x.slice(),Ge[z]=x.slice()):Ne[z]=Ge[z]=x,ue[z]=T}De(G0,Ly),De(B0,Py),Se(N0,"blendColor",[0,0,0,0]),Se(rf,"blendEquationSeparate",[i1,i1]),Se(sf,"blendFuncSeparate",[s1,r1,s1,r1]),De(V0,Ry,!0),Se(U0,"depthFunc",By),Se($0,"depthRange",[0,1]),Se(H0,"depthMask",!0),Se(of,of,[!0,!0,!0,!0]),De(z0,Cy),Se(j0,"cullFace",Vs),Se(af,af,yf),Se(lf,lf,1),De(q0,Iy),Se(cf,"polygonOffset",[0,0]),De(X0,Dy),De(W0,Fy),Se(ff,"sampleCoverage",[1,!1]),De(Y0,Oy),Se(Z0,"stencilMask",-1),Se(uf,"stencilFunc",[Gy,0,-1]),Se(df,"stencilOpSeparate",[Eo,cs,cs,cs]),Se(ho,"stencilOpSeparate",[Vs,cs,cs,cs]),De(K0,My),Se(Ia,"scissor",[0,0,y.drawingBufferWidth,y.drawingBufferHeight]),Se(Xr,Xr,[0,0,y.drawingBufferWidth,y.drawingBufferHeight]);var Fe={gl:y,context:Me,strings:C,next:Ge,current:Ne,draw:Pe,elements:K,buffer:de,shader:Le,attributes:Ce.state,vao:Ce,uniforms:be,framebuffer:_e,extensions:F,timer:ye,isBufferArgs:za},ke={primTypes:as,compareFuncs:Pi,blendFuncs:Ir,blendEquations:ie,stencilOps:fs,glTypes:Ms,orientationType:Af};P.optional(function(){Fe.isArrayLike=sn}),Ue&&(ke.backBuffer=[Vs],ke.drawBuffer=Kn(Q.maxDrawbuffers,function(O){return O===0?[0]:Kn(O,function(T){return Ny+T})}));var dt=0;function ft(){var O=_y(),T=O.link,x=O.global;O.id=dt++,O.batchId="0";var z=T(Fe),X=O.shared={props:"a0"};Object.keys(Fe).forEach(function(D){X[D]=x.def(z,".",D)}),P.optional(function(){O.CHECK=T(P),O.commandStr=P.guessCommand(),O.command=T(O.commandStr),O.assert=function(D,M,Y){D("if(!(",M,"))",this.CHECK,".commandRaise(",T(Y),",",this.command,");")},ke.invalidBlendCombinations=a1});var N=O.next={},G=O.current={};Object.keys(ue).forEach(function(D){Array.isArray(Ne[D])&&(N[D]=x.def(X.next,".",D),G[D]=x.def(X.current,".",D))});var $=O.constants={};Object.keys(ke).forEach(function(D){$[D]=x.def(JSON.stringify(ke[D]))}),O.invoke=function(D,M){switch(M.type){case Jc:var Y=["this",X.context,X.props,O.batchId];return D.def(T(M.data),".call(",Y.slice(0,Math.max(M.data.length+1,4)),")");case ef:return D.def(X.props,M.data);case tf:return D.def(X.context,M.data);case nf:return D.def("this",M.data);case Ma:return M.data.append(O,D),M.data.ref;case k0:return M.data.toString();case x0:return M.data.map(function(W){return O.invoke(D,W)})}},O.attribCache={};var R={};return O.scopeAttrib=function(D){var M=C.id(D);if(M in R)return R[M];var Y=Ce.scope[M];Y||(Y=Ce.scope[M]=new q);var W=R[M]=T(Y);return W},O}function Be(O){var T=O.static,x=O.dynamic,z;if(mo in T){var X=!!T[mo];z=En(function(G,$){return X}),z.enable=X}else if(mo in x){var N=x[mo];z=sr(N,function(G,$){return G.invoke($,N)})}return z}function Ve(O,T){var x=O.static,z=O.dynamic;if(xs in x){var X=x[xs];return X?(X=_e.getFramebuffer(X),P.command(X,"invalid framebuffer object"),En(function(G,$){var R=G.link(X),D=G.shared;$.set(D.framebuffer,".next",R);var M=D.context;return $.set(M,"."+wi,R+".width"),$.set(M,"."+Ti,R+".height"),R})):En(function(G,$){var R=G.shared;$.set(R.framebuffer,".next","null");var D=R.context;return $.set(D,"."+wi,D+"."+J0),$.set(D,"."+Ti,D+"."+e1),"null"})}else if(xs in z){var N=z[xs];return sr(N,function(G,$){var R=G.invoke($,N),D=G.shared,M=D.framebuffer,Y=$.def(M,".getFramebuffer(",R,")");P.optional(function(){G.assert($,"!"+R+"||"+Y,"invalid framebuffer object")}),$.set(M,".next",Y);var W=D.context;return $.set(W,"."+wi,Y+"?"+Y+".width:"+W+"."+J0),$.set(W,"."+Ti,Y+"?"+Y+".height:"+W+"."+e1),Y})}else return null}function it(O,T,x){var z=O.static,X=O.dynamic;function N(R){if(R in z){var D=z[R];P.commandType(D,"object","invalid "+R,x.commandStr);var M=!0,Y=D.x|0,W=D.y|0,ce,me;return"width"in D?(ce=D.width|0,P.command(ce>=0,"invalid "+R,x.commandStr)):M=!1,"height"in D?(me=D.height|0,P.command(me>=0,"invalid "+R,x.commandStr)):M=!1,new Dn(!M&&T&&T.thisDep,!M&&T&&T.contextDep,!M&&T&&T.propDep,function(tt,je){var pe=tt.shared.context,le=ce;"width"in D||(le=je.def(pe,".",wi,"-",Y));var Ze=me;return"height"in D||(Ze=je.def(pe,".",Ti,"-",W)),[Y,W,le,Ze]})}else if(R in X){var Re=X[R],at=sr(Re,function(tt,je){var pe=tt.invoke(je,Re);P.optional(function(){tt.assert(je,pe+"&&typeof "+pe+'==="object"',"invalid "+R)});var le=tt.shared.context,Ze=je.def(pe,".x|0"),We=je.def(pe,".y|0"),ot=je.def('"width" in ',pe,"?",pe,".width|0:","(",le,".",wi,"-",Ze,")"),zt=je.def('"height" in ',pe,"?",pe,".height|0:","(",le,".",Ti,"-",We,")");return P.optional(function(){tt.assert(je,ot+">=0&&"+zt+">=0","invalid "+R)}),[Ze,We,ot,zt]});return T&&(at.thisDep=at.thisDep||T.thisDep,at.contextDep=at.contextDep||T.contextDep,at.propDep=at.propDep||T.propDep),at}else return T?new Dn(T.thisDep,T.contextDep,T.propDep,function(tt,je){var pe=tt.shared.context;return[0,0,je.def(pe,".",wi),je.def(pe,".",Ti)]}):null}var G=N(Xr);if(G){var $=G;G=new Dn(G.thisDep,G.contextDep,G.propDep,function(R,D){var M=$.append(R,D),Y=R.shared.context;return D.set(Y,"."+yy,M[2]),D.set(Y,"."+Ay,M[3]),M})}return{viewport:G,scissor_box:N(Ia)}}function ht(O,T){var x=O.static,z=typeof x[go]=="string"&&typeof x[po]=="string";if(z){if(Object.keys(T.dynamic).length>0)return null;var X=T.static,N=Object.keys(X);if(N.length>0&&typeof X[N[0]]=="number"){for(var G=[],$=0;$<N.length;++$)P(typeof X[N[$]]=="number","must specify all vertex attribute locations when using vaos"),G.push([X[N[$]]|0,N[$]]);return G}}return null}function Ct(O,T,x){var z=O.static,X=O.dynamic;function N(M){if(M in z){var Y=C.id(z[M]);P.optional(function(){Le.shader(l1[M],Y,P.guessCommand())});var W=En(function(){return Y});return W.id=Y,W}else if(M in X){var ce=X[M];return sr(ce,function(me,Re){var at=me.invoke(Re,ce),tt=Re.def(me.shared.strings,".id(",at,")");return P.optional(function(){Re(me.shared.shader,".shader(",l1[M],",",tt,",",me.command,");")}),tt})}return null}var G=N(go),$=N(po),R=null,D;return us(G)&&us($)?(R=Le.program($.id,G.id,null,x),D=En(function(M,Y){return M.link(R)})):D=new Dn(G&&G.thisDep||$&&$.thisDep,G&&G.contextDep||$&&$.contextDep,G&&G.propDep||$&&$.propDep,function(M,Y){var W=M.shared.shader,ce;G?ce=G.append(M,Y):ce=Y.def(W,".",go);var me;$?me=$.append(M,Y):me=Y.def(W,".",po);var Re=W+".program("+me+","+ce;return P.optional(function(){Re+=","+M.command}),Y.def(Re+")")}),{frag:G,vert:$,progVar:D,program:R}}function on(O,T){var x=O.static,z=O.dynamic,X={},N=!1;function G(){if(vo in x){var je=x[vo];return je!==null&&Ce.getVAO(je)===null&&(je=Ce.createVAO(je)),N=!0,X.vao=je,En(function(le){var Ze=Ce.getVAO(je);return Ze?le.link(Ze):"null"})}else if(vo in z){N=!0;var pe=z[vo];return sr(pe,function(le,Ze){var We=le.invoke(Ze,pe);return Ze.def(le.shared.vao+".getVAO("+We+")")})}return null}var $=G(),R=!1;function D(){if(Gs in x){var je=x[Gs];if(X.elements=je,za(je)){var pe=X.elements=K.create(je,!0);je=K.getElements(pe),R=!0}else je&&(je=K.getElements(je),R=!0,P.command(je,"invalid elements",T.commandStr));var le=En(function(We,ot){if(je){var zt=We.link(je);return We.ELEMENTS=zt,zt}return We.ELEMENTS=null,null});return le.value=je,le}else if(Gs in z){R=!0;var Ze=z[Gs];return sr(Ze,function(We,ot){var zt=We.shared,Hn=zt.isBufferArgs,$s=zt.elements,Wr=We.invoke(ot,Ze),Fr=ot.def("null"),ds=ot.def(Hn,"(",Wr,")"),Hs=We.cond(ds).then(Fr,"=",$s,".createStream(",Wr,");").else(Fr,"=",$s,".getElements(",Wr,");");return P.optional(function(){We.assert(Hs.else,"!"+Wr+"||"+Fr,"invalid elements")}),ot.entry(Hs),ot.exit(We.cond(ds).then($s,".destroyStream(",Fr,");")),We.ELEMENTS=Fr,Fr})}else if(N)return new Dn($.thisDep,$.contextDep,$.propDep,function(We,ot){return ot.def(We.shared.vao+".currentVAO?"+We.shared.elements+".getElements("+We.shared.vao+".currentVAO.elements):null")});return null}var M=D();function Y(){if(Bs in x){var je=x[Bs];return X.primitive=je,P.commandParameter(je,as,"invalid primitve",T.commandStr),En(function(le,Ze){return as[je]})}else if(Bs in z){var pe=z[Bs];return sr(pe,function(le,Ze){var We=le.constants.primTypes,ot=le.invoke(Ze,pe);return P.optional(function(){le.assert(Ze,ot+" in "+We,"invalid primitive, must be one of "+Object.keys(as))}),Ze.def(We,"[",ot,"]")})}else{if(R)return us(M)?M.value?En(function(le,Ze){return Ze.def(le.ELEMENTS,".primType")}):En(function(){return _f}):new Dn(M.thisDep,M.contextDep,M.propDep,function(le,Ze){var We=le.ELEMENTS;return Ze.def(We,"?",We,".primType:",_f)});if(N)return new Dn($.thisDep,$.contextDep,$.propDep,function(le,Ze){return Ze.def(le.shared.vao+".currentVAO?"+le.shared.vao+".currentVAO.primitive:"+_f)})}return null}function W(je,pe){if(je in x){var le=x[je]|0;return pe?X.offset=le:X.instances=le,P.command(!pe||le>=0,"invalid "+je,T.commandStr),En(function(We,ot){return pe&&(We.OFFSET=le),le})}else if(je in z){var Ze=z[je];return sr(Ze,function(We,ot){var zt=We.invoke(ot,Ze);return pe&&(We.OFFSET=zt,P.optional(function(){We.assert(ot,zt+">=0","invalid "+je)})),zt})}else if(pe){if(R)return En(function(We,ot){return We.OFFSET=0,0});if(N)return new Dn($.thisDep,$.contextDep,$.propDep,function(We,ot){return ot.def(We.shared.vao+".currentVAO?"+We.shared.vao+".currentVAO.offset:0")})}else if(N)return new Dn($.thisDep,$.contextDep,$.propDep,function(We,ot){return ot.def(We.shared.vao+".currentVAO?"+We.shared.vao+".currentVAO.instances:-1")});return null}var ce=W(Da,!0);function me(){if(Ns in x){var je=x[Ns]|0;return X.count=je,P.command(typeof je=="number"&&je>=0,"invalid vertex count",T.commandStr),En(function(){return je})}else if(Ns in z){var pe=z[Ns];return sr(pe,function(ot,zt){var Hn=ot.invoke(zt,pe);return P.optional(function(){ot.assert(zt,"typeof "+Hn+'==="number"&&'+Hn+">=0&&"+Hn+"===("+Hn+"|0)","invalid vertex count")}),Hn})}else if(R)if(us(M)){if(M)return ce?new Dn(ce.thisDep,ce.contextDep,ce.propDep,function(ot,zt){var Hn=zt.def(ot.ELEMENTS,".vertCount-",ot.OFFSET);return P.optional(function(){ot.assert(zt,Hn+">=0","invalid vertex offset/element buffer too small")}),Hn}):En(function(ot,zt){return zt.def(ot.ELEMENTS,".vertCount")});var le=En(function(){return-1});return P.optional(function(){le.MISSING=!0}),le}else{var Ze=new Dn(M.thisDep||ce.thisDep,M.contextDep||ce.contextDep,M.propDep||ce.propDep,function(ot,zt){var Hn=ot.ELEMENTS;return ot.OFFSET?zt.def(Hn,"?",Hn,".vertCount-",ot.OFFSET,":-1"):zt.def(Hn,"?",Hn,".vertCount:-1")});return P.optional(function(){Ze.DYNAMIC=!0}),Ze}else if(N){var We=new Dn($.thisDep,$.contextDep,$.propDep,function(ot,zt){return zt.def(ot.shared.vao,".currentVAO?",ot.shared.vao,".currentVAO.count:-1")});return We}return null}var Re=Y(),at=me(),tt=W(Fa,!1);return{elements:M,primitive:Re,count:at,instances:tt,offset:ce,vao:$,vaoActive:N,elementsActive:R,static:X}}function fn(O,T){var x=O.static,z=O.dynamic,X={};return nt.forEach(function(N){var G=Xe(N);function $(R,D){if(N in x){var M=R(x[N]);X[G]=En(function(){return M})}else if(N in z){var Y=z[N];X[G]=sr(Y,function(W,ce){return D(W,ce,W.invoke(ce,Y))})}}switch(N){case z0:case B0:case G0:case Y0:case V0:case K0:case q0:case X0:case W0:case H0:return $(function(R){return P.commandType(R,"boolean",N,T.commandStr),R},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="boolean"',"invalid flag "+N,R.commandStr)}),M});case U0:return $(function(R){return P.commandParameter(R,Pi,"invalid "+N,T.commandStr),Pi[R]},function(R,D,M){var Y=R.constants.compareFuncs;return P.optional(function(){R.assert(D,M+" in "+Y,"invalid "+N+", must be one of "+Object.keys(Pi))}),D.def(Y,"[",M,"]")});case $0:return $(function(R){return P.command(sn(R)&&R.length===2&&typeof R[0]=="number"&&typeof R[1]=="number"&&R[0]<=R[1],"depth range is 2d array",T.commandStr),R},function(R,D,M){P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===2&&typeof "+M+'[0]==="number"&&typeof '+M+'[1]==="number"&&'+M+"[0]<="+M+"[1]","depth range must be a 2d array")});var Y=D.def("+",M,"[0]"),W=D.def("+",M,"[1]");return[Y,W]});case sf:return $(function(R){P.commandType(R,"object","blend.func",T.commandStr);var D="srcRGB"in R?R.srcRGB:R.src,M="srcAlpha"in R?R.srcAlpha:R.src,Y="dstRGB"in R?R.dstRGB:R.dst,W="dstAlpha"in R?R.dstAlpha:R.dst;return P.commandParameter(D,Ir,G+".srcRGB",T.commandStr),P.commandParameter(M,Ir,G+".srcAlpha",T.commandStr),P.commandParameter(Y,Ir,G+".dstRGB",T.commandStr),P.commandParameter(W,Ir,G+".dstAlpha",T.commandStr),P.command(a1.indexOf(D+", "+Y)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+D+", "+Y+")",T.commandStr),[Ir[D],Ir[Y],Ir[M],Ir[W]]},function(R,D,M){var Y=R.constants.blendFuncs;P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid blend func, must be an object")});function W(pe,le){var Ze=D.def('"',pe,le,'" in ',M,"?",M,".",pe,le,":",M,".",pe);return P.optional(function(){R.assert(D,Ze+" in "+Y,"invalid "+N+"."+pe+le+", must be one of "+Object.keys(Ir))}),Ze}var ce=W("src","RGB"),me=W("dst","RGB");P.optional(function(){var pe=R.constants.invalidBlendCombinations;R.assert(D,pe+".indexOf("+ce+'+", "+'+me+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Re=D.def(Y,"[",ce,"]"),at=D.def(Y,"[",W("src","Alpha"),"]"),tt=D.def(Y,"[",me,"]"),je=D.def(Y,"[",W("dst","Alpha"),"]");return[Re,tt,at,je]});case rf:return $(function(R){if(typeof R=="string")return P.commandParameter(R,ie,"invalid "+N,T.commandStr),[ie[R],ie[R]];if(typeof R=="object")return P.commandParameter(R.rgb,ie,N+".rgb",T.commandStr),P.commandParameter(R.alpha,ie,N+".alpha",T.commandStr),[ie[R.rgb],ie[R.alpha]];P.commandRaise("invalid blend.equation",T.commandStr)},function(R,D,M){var Y=R.constants.blendEquations,W=D.def(),ce=D.def(),me=R.cond("typeof ",M,'==="string"');return P.optional(function(){function Re(at,tt,je){R.assert(at,je+" in "+Y,"invalid "+tt+", must be one of "+Object.keys(ie))}Re(me.then,N,M),R.assert(me.else,M+"&&typeof "+M+'==="object"',"invalid "+N),Re(me.else,N+".rgb",M+".rgb"),Re(me.else,N+".alpha",M+".alpha")}),me.then(W,"=",ce,"=",Y,"[",M,"];"),me.else(W,"=",Y,"[",M,".rgb];",ce,"=",Y,"[",M,".alpha];"),D(me),[W,ce]});case N0:return $(function(R){return P.command(sn(R)&&R.length===4,"blend.color must be a 4d array",T.commandStr),Kn(4,function(D){return+R[D]})},function(R,D,M){return P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===4","blend.color must be a 4d array")}),Kn(4,function(Y){return D.def("+",M,"[",Y,"]")})});case Z0:return $(function(R){return P.commandType(R,"number",G,T.commandStr),R|0},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="number"',"invalid stencil.mask")}),D.def(M,"|0")});case uf:return $(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.cmp||"keep",M=R.ref||0,Y="mask"in R?R.mask:-1;return P.commandParameter(D,Pi,N+".cmp",T.commandStr),P.commandType(M,"number",N+".ref",T.commandStr),P.commandType(Y,"number",N+".mask",T.commandStr),[Pi[D],M,Y]},function(R,D,M){var Y=R.constants.compareFuncs;P.optional(function(){function Re(){R.assert(D,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Re(M+"&&typeof ",M,'==="object"'),Re('!("cmp" in ',M,")||(",M,".cmp in ",Y,")")});var W=D.def('"cmp" in ',M,"?",Y,"[",M,".cmp]",":",cs),ce=D.def(M,".ref|0"),me=D.def('"mask" in ',M,"?",M,".mask|0:-1");return[W,ce,me]});case df:case ho:return $(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.fail||"keep",M=R.zfail||"keep",Y=R.zpass||"keep";return P.commandParameter(D,fs,N+".fail",T.commandStr),P.commandParameter(M,fs,N+".zfail",T.commandStr),P.commandParameter(Y,fs,N+".zpass",T.commandStr),[N===ho?Vs:Eo,fs[D],fs[M],fs[Y]]},function(R,D,M){var Y=R.constants.stencilOps;P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid "+N)});function W(ce){return P.optional(function(){R.assert(D,'!("'+ce+'" in '+M+")||("+M+"."+ce+" in "+Y+")","invalid "+N+"."+ce+", must be one of "+Object.keys(fs))}),D.def('"',ce,'" in ',M,"?",Y,"[",M,".",ce,"]:",cs)}return[N===ho?Vs:Eo,W("fail"),W("zfail"),W("zpass")]});case cf:return $(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.factor|0,M=R.units|0;return P.commandType(D,"number",G+".factor",T.commandStr),P.commandType(M,"number",G+".units",T.commandStr),[D,M]},function(R,D,M){P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid "+N)});var Y=D.def(M,".factor|0"),W=D.def(M,".units|0");return[Y,W]});case j0:return $(function(R){var D=0;return R==="front"?D=Eo:R==="back"&&(D=Vs),P.command(!!D,G,T.commandStr),D},function(R,D,M){return P.optional(function(){R.assert(D,M+'==="front"||'+M+'==="back"',"invalid cull.face")}),D.def(M,'==="front"?',Eo,":",Vs)});case lf:return $(function(R){return P.command(typeof R=="number"&&R>=Q.lineWidthDims[0]&&R<=Q.lineWidthDims[1],"invalid line width, must be a positive number between "+Q.lineWidthDims[0]+" and "+Q.lineWidthDims[1],T.commandStr),R},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="number"&&'+M+">="+Q.lineWidthDims[0]+"&&"+M+"<="+Q.lineWidthDims[1],"invalid line width")}),M});case af:return $(function(R){return P.commandParameter(R,Af,G,T.commandStr),Af[R]},function(R,D,M){return P.optional(function(){R.assert(D,M+'==="cw"||'+M+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),D.def(M+'==="cw"?'+n1+":"+yf)});case of:return $(function(R){return P.command(sn(R)&&R.length===4,"color.mask must be length 4 array",T.commandStr),R.map(function(D){return!!D})},function(R,D,M){return P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===4","invalid color.mask")}),Kn(4,function(Y){return"!!"+M+"["+Y+"]"})});case ff:return $(function(R){P.command(typeof R=="object"&&R,G,T.commandStr);var D="value"in R?R.value:1,M=!!R.invert;return P.command(typeof D=="number"&&D>=0&&D<=1,"sample.coverage.value must be a number between 0 and 1",T.commandStr),[D,M]},function(R,D,M){P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid sample.coverage")});var Y=D.def('"value" in ',M,"?+",M,".value:1"),W=D.def("!!",M,".invert");return[Y,W]})}}),X}function Ot(O,T){var x=O.static,z=O.dynamic,X={};return Object.keys(x).forEach(function(N){var G=x[N],$;if(typeof G=="number"||typeof G=="boolean")$=En(function(){return G});else if(typeof G=="function"){var R=G._reglType;R==="texture2d"||R==="textureCube"?$=En(function(D){return D.link(G)}):R==="framebuffer"||R==="framebufferCube"?(P.command(G.color.length>0,'missing color attachment for framebuffer sent to uniform "'+N+'"',T.commandStr),$=En(function(D){return D.link(G.color[0])})):P.commandRaise('invalid data for uniform "'+N+'"',T.commandStr)}else sn(G)?$=En(function(D){var M=D.global.def("[",Kn(G.length,function(Y){return P.command(typeof G[Y]=="number"||typeof G[Y]=="boolean","invalid uniform "+N,D.commandStr),G[Y]}),"]");return M}):P.commandRaise('invalid or missing data for uniform "'+N+'"',T.commandStr);$.value=G,X[N]=$}),Object.keys(z).forEach(function(N){var G=z[N];X[N]=sr(G,function($,R){return $.invoke(R,G)})}),X}function Cn(O,T){var x=O.static,z=O.dynamic,X={};return Object.keys(x).forEach(function(N){var G=x[N],$=C.id(N),R=new q;if(za(G))R.state=Ei,R.buffer=de.getBuffer(de.create(G,Ci,!1,!0)),R.type=0;else{var D=de.getBuffer(G);if(D)R.state=Ei,R.buffer=D,R.type=0;else if(P.command(typeof G=="object"&&G,"invalid data for attribute "+N,T.commandStr),"constant"in G){var M=G.constant;R.buffer="null",R.state=Qc,typeof M=="number"?R.x=M:(P.command(sn(M)&&M.length>0&&M.length<=4,"invalid constant for attribute "+N,T.commandStr),Si.forEach(function(tt,je){je<M.length&&(R[tt]=M[je])}))}else{za(G.buffer)?D=de.getBuffer(de.create(G.buffer,Ci,!1,!0)):D=de.getBuffer(G.buffer),P.command(!!D,'missing buffer for attribute "'+N+'"',T.commandStr);var Y=G.offset|0;P.command(Y>=0,'invalid offset for attribute "'+N+'"',T.commandStr);var W=G.stride|0;P.command(W>=0&&W<256,'invalid stride for attribute "'+N+'", must be integer betweeen [0, 255]',T.commandStr);var ce=G.size|0;P.command(!("size"in G)||ce>0&&ce<=4,'invalid size for attribute "'+N+'", must be 1,2,3,4',T.commandStr);var me=!!G.normalized,Re=0;"type"in G&&(P.commandParameter(G.type,Ms,"invalid type for attribute "+N,T.commandStr),Re=Ms[G.type]);var at=G.divisor|0;P.optional(function(){"divisor"in G&&(P.command(at===0||we,'cannot specify divisor for attribute "'+N+'", instancing not supported',T.commandStr),P.command(at>=0,'invalid divisor for attribute "'+N+'"',T.commandStr));var tt=T.commandStr,je=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(G).forEach(function(pe){P.command(je.indexOf(pe)>=0,'unknown parameter "'+pe+'" for attribute pointer "'+N+'" (valid parameters are '+je+")",tt)})}),R.buffer=D,R.state=Ei,R.size=ce,R.normalized=me,R.type=Re||D.dtype,R.offset=Y,R.stride=W,R.divisor=at}}X[N]=En(function(tt,je){var pe=tt.attribCache;if($ in pe)return pe[$];var le={isStream:!1};return Object.keys(R).forEach(function(Ze){le[Ze]=R[Ze]}),R.buffer&&(le.buffer=tt.link(R.buffer),le.type=le.type||le.buffer+".dtype"),pe[$]=le,le})}),Object.keys(z).forEach(function(N){var G=z[N];function $(R,D){var M=R.invoke(D,G),Y=R.shared,W=R.constants,ce=Y.isBufferArgs,me=Y.buffer;P.optional(function(){R.assert(D,M+"&&(typeof "+M+'==="object"||typeof '+M+'==="function")&&('+ce+"("+M+")||"+me+".getBuffer("+M+")||"+me+".getBuffer("+M+".buffer)||"+ce+"("+M+'.buffer)||("constant" in '+M+"&&(typeof "+M+'.constant==="number"||'+Y.isArrayLike+"("+M+".constant))))",'invalid dynamic attribute "'+N+'"')});var Re={isStream:D.def(!1)},at=new q;at.state=Ei,Object.keys(at).forEach(function(le){Re[le]=D.def(""+at[le])});var tt=Re.buffer,je=Re.type;D("if(",ce,"(",M,")){",Re.isStream,"=true;",tt,"=",me,".createStream(",Ci,",",M,");",je,"=",tt,".dtype;","}else{",tt,"=",me,".getBuffer(",M,");","if(",tt,"){",je,"=",tt,".dtype;",'}else if("constant" in ',M,"){",Re.state,"=",Qc,";","if(typeof "+M+'.constant === "number"){',Re[Si[0]],"=",M,".constant;",Si.slice(1).map(function(le){return Re[le]}).join("="),"=0;","}else{",Si.map(function(le,Ze){return Re[le]+"="+M+".constant.length>"+Ze+"?"+M+".constant["+Ze+"]:0;"}).join(""),"}}else{","if(",ce,"(",M,".buffer)){",tt,"=",me,".createStream(",Ci,",",M,".buffer);","}else{",tt,"=",me,".getBuffer(",M,".buffer);","}",je,'="type" in ',M,"?",W.glTypes,"[",M,".type]:",tt,".dtype;",Re.normalized,"=!!",M,".normalized;");function pe(le){D(Re[le],"=",M,".",le,"|0;")}return pe("size"),pe("offset"),pe("stride"),pe("divisor"),D("}}"),D.exit("if(",Re.isStream,"){",me,".destroyStream(",tt,");","}"),Re}X[N]=sr(G,$)}),X}function Kt(O){var T=O.static,x=O.dynamic,z={};return Object.keys(T).forEach(function(X){var N=T[X];z[X]=En(function(G,$){return typeof N=="number"||typeof N=="boolean"?""+N:G.link(N)})}),Object.keys(x).forEach(function(X){var N=x[X];z[X]=sr(N,function(G,$){return G.invoke($,N)})}),z}function wn(O,T,x,z,X){var N=O.static,G=O.dynamic;P.optional(function(){var pe=[xs,po,go,Gs,Bs,Da,Ns,Fa,mo,vo].concat(nt);function le(Ze){Object.keys(Ze).forEach(function(We){P.command(pe.indexOf(We)>=0,'unknown parameter "'+We+'"',X.commandStr)})}le(N),le(G)});var $=ht(O,T),R=Ve(O),D=it(O,R,X),M=on(O,X),Y=fn(O,X),W=Ct(O,X,$);function ce(pe){var le=D[pe];le&&(Y[pe]=le)}ce(Xr),ce(Xe(Ia));var me=Object.keys(Y).length>0,Re={framebuffer:R,draw:M,shader:W,state:Y,dirty:me,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Re.profile=Be(O),Re.uniforms=Ot(x,X),Re.drawVAO=Re.scopeVAO=M.vao,!Re.drawVAO&&W.program&&!$&&F.angle_instanced_arrays&&M.static.elements){var at=!0,tt=W.program.attributes.map(function(pe){var le=T.static[pe];return at=at&&!!le,le});if(at&&tt.length>0){var je=Ce.getVAO(Ce.createVAO({attributes:tt,elements:M.static.elements}));Re.drawVAO=new Dn(null,null,null,function(pe,le){return pe.link(je)}),Re.useVAO=!0}}return $?Re.useVAO=!0:Re.attributes=Cn(T,X),Re.context=Kt(z),Re}function Pn(O,T,x){var z=O.shared,X=z.context,N=O.scope();Object.keys(x).forEach(function(G){T.save(X,"."+G);var $=x[G],R=$.append(O,T);Array.isArray(R)?N(X,".",G,"=[",R.join(),"];"):N(X,".",G,"=",R,";")}),T(N)}function Ln(O,T,x,z){var X=O.shared,N=X.gl,G=X.framebuffer,$;Ue&&($=T.def(X.extensions,".webgl_draw_buffers"));var R=O.constants,D=R.drawBuffer,M=R.backBuffer,Y;x?Y=x.append(O,T):Y=T.def(G,".next"),z||T("if(",Y,"!==",G,".cur){"),T("if(",Y,"){",N,".bindFramebuffer(",o1,",",Y,".framebuffer);"),Ue&&T($,".drawBuffersWEBGL(",D,"[",Y,".colorAttachments.length]);"),T("}else{",N,".bindFramebuffer(",o1,",null);"),Ue&&T($,".drawBuffersWEBGL(",M,");"),T("}",G,".cur=",Y,";"),z||T("}")}function Gn(O,T,x){var z=O.shared,X=z.gl,N=O.current,G=O.next,$=z.current,R=z.next,D=O.cond($,".dirty");nt.forEach(function(M){var Y=Xe(M);if(!(Y in x.state)){var W,ce;if(Y in G){W=G[Y],ce=N[Y];var me=Kn(Ne[Y].length,function(at){return D.def(W,"[",at,"]")});D(O.cond(me.map(function(at,tt){return at+"!=="+ce+"["+tt+"]"}).join("||")).then(X,".",ue[Y],"(",me,");",me.map(function(at,tt){return ce+"["+tt+"]="+at}).join(";"),";"))}else{W=D.def(R,".",Y);var Re=O.cond(W,"!==",$,".",Y);D(Re),Y in he?Re(O.cond(W).then(X,".enable(",he[Y],");").else(X,".disable(",he[Y],");"),$,".",Y,"=",W,";"):Re(X,".",ue[Y],"(",W,");",$,".",Y,"=",W,";")}}}),Object.keys(x.state).length===0&&D($,".dirty=false;"),T(D)}function Un(O,T,x,z){var X=O.shared,N=O.current,G=X.current,$=X.gl;c1(Object.keys(x)).forEach(function(R){var D=x[R];if(!(z&&!z(D))){var M=D.append(O,T);if(he[R]){var Y=he[R];us(D)?M?T($,".enable(",Y,");"):T($,".disable(",Y,");"):T(O.cond(M).then($,".enable(",Y,");").else($,".disable(",Y,");")),T(G,".",R,"=",M,";")}else if(sn(M)){var W=N[R];T($,".",ue[R],"(",M,");",M.map(function(ce,me){return W+"["+me+"]="+ce}).join(";"),";")}else T($,".",ue[R],"(",M,");",G,".",R,"=",M,";")}})}function pn(O,T){we&&(O.instancing=T.def(O.shared.extensions,".angle_instanced_arrays"))}function vt(O,T,x,z,X){var N=O.shared,G=O.stats,$=N.current,R=N.timer,D=x.profile;function M(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Y,W;function ce(pe){Y=T.def(),pe(Y,"=",M(),";"),typeof X=="string"?pe(G,".count+=",X,";"):pe(G,".count++;"),ye&&(z?(W=T.def(),pe(W,"=",R,".getNumPendingQueries();")):pe(R,".beginQuery(",G,");"))}function me(pe){pe(G,".cpuTime+=",M(),"-",Y,";"),ye&&(z?pe(R,".pushScopeStats(",W,",",R,".getNumPendingQueries(),",G,");"):pe(R,".endQuery();"))}function Re(pe){var le=T.def($,".profile");T($,".profile=",pe,";"),T.exit($,".profile=",le,";")}var at;if(D){if(us(D)){D.enable?(ce(T),me(T.exit),Re("true")):Re("false");return}at=D.append(O,T),Re(at)}else at=T.def($,".profile");var tt=O.block();ce(tt),T("if(",at,"){",tt,"}");var je=O.block();me(je),T.exit("if(",at,"){",je,"}")}function $n(O,T,x,z,X){var N=O.shared;function G(R){switch(R){case ka:case Ba:case Ua:return 2;case xa:case Na:case $a:return 3;case Ga:case Va:case Ha:return 4;default:return 1}}function $(R,D,M){var Y=N.gl,W=T.def(R,".location"),ce=T.def(N.attributes,"[",W,"]"),me=M.state,Re=M.buffer,at=[M.x,M.y,M.z,M.w],tt=["buffer","normalized","offset","stride"];function je(){T("if(!",ce,".buffer){",Y,".enableVertexAttribArray(",W,");}");var le=M.type,Ze;if(M.size?Ze=T.def(M.size,"||",D):Ze=D,T("if(",ce,".type!==",le,"||",ce,".size!==",Ze,"||",tt.map(function(ot){return ce+"."+ot+"!=="+M[ot]}).join("||"),"){",Y,".bindBuffer(",Ci,",",Re,".buffer);",Y,".vertexAttribPointer(",[W,Ze,le,M.normalized,M.stride,M.offset],");",ce,".type=",le,";",ce,".size=",Ze,";",tt.map(function(ot){return ce+"."+ot+"="+M[ot]+";"}).join(""),"}"),we){var We=M.divisor;T("if(",ce,".divisor!==",We,"){",O.instancing,".vertexAttribDivisorANGLE(",[W,We],");",ce,".divisor=",We,";}")}}function pe(){T("if(",ce,".buffer){",Y,".disableVertexAttribArray(",W,");",ce,".buffer=null;","}if(",Si.map(function(le,Ze){return ce+"."+le+"!=="+at[Ze]}).join("||"),"){",Y,".vertexAttrib4f(",W,",",at,");",Si.map(function(le,Ze){return ce+"."+le+"="+at[Ze]+";"}).join(""),"}")}me===Ei?je():me===Qc?pe():(T("if(",me,"===",Ei,"){"),je(),T("}else{"),pe(),T("}"))}z.forEach(function(R){var D=R.name,M=x.attributes[D],Y;if(M){if(!X(M))return;Y=M.append(O,T)}else{if(!X(f1))return;var W=O.scopeAttrib(D);P.optional(function(){O.assert(T,W+".state","missing attribute "+D)}),Y={},Object.keys(new q).forEach(function(ce){Y[ce]=T.def(W,".",ce)})}$(O.link(R),G(R.info.type),Y)})}function $t(O,T,x,z,X,N){for(var G=O.shared,$=G.gl,R={},D,M=0;M<z.length;++M){var Y=z[M],W=Y.name,ce=Y.info.type,me=Y.info.size,Re=x.uniforms[W];if(me>1){if(!Re)continue;var at=W.replace("[0]","");if(R[at])continue;R[at]=1}var tt=O.link(Y),je=tt+".location",pe;if(Re){if(!X(Re))continue;if(us(Re)){var le=Re.value;if(P.command(le!==null&&typeof le<"u",'missing uniform "'+W+'"',O.commandStr),ce===Ao||ce===So){P.command(typeof le=="function"&&(ce===Ao&&(le._reglType==="texture2d"||le._reglType==="framebuffer")||ce===So&&(le._reglType==="textureCube"||le._reglType==="framebufferCube")),"invalid texture for uniform "+W,O.commandStr);var Ze=O.link(le._texture||le.color[0]._texture);T($,".uniform1i(",je,",",Ze+".bind());"),T.exit(Ze,".unbind();")}else if(ce===bo||ce===_o||ce===yo){P.optional(function(){P.command(sn(le),"invalid matrix for uniform "+W,O.commandStr),P.command(ce===bo&&le.length===4||ce===_o&&le.length===9||ce===yo&&le.length===16,"invalid length for matrix uniform "+W,O.commandStr)});var We=O.global.def("new Float32Array(["+Array.prototype.slice.call(le)+"])"),ot=2;ce===_o?ot=3:ce===yo&&(ot=4),T($,".uniformMatrix",ot,"fv(",je,",false,",We,");")}else{switch(ce){case gf:me===1?P.commandType(le,"number","uniform "+W,O.commandStr):P.command(sn(le)&&le.length===me,"uniform "+W,O.commandStr),D="1f";break;case ka:P.command(sn(le)&&le.length&&le.length%2===0&&le.length<=me*2,"uniform "+W,O.commandStr),D="2f";break;case xa:P.command(sn(le)&&le.length&&le.length%3===0&&le.length<=me*3,"uniform "+W,O.commandStr),D="3f";break;case Ga:P.command(sn(le)&&le.length&&le.length%4===0&&le.length<=me*4,"uniform "+W,O.commandStr),D="4f";break;case bf:me===1?P.commandType(le,"boolean","uniform "+W,O.commandStr):P.command(sn(le)&&le.length===me,"uniform "+W,O.commandStr),D="1i";break;case vf:me===1?P.commandType(le,"number","uniform "+W,O.commandStr):P.command(sn(le)&&le.length===me,"uniform "+W,O.commandStr),D="1i";break;case Ua:P.command(sn(le)&&le.length&&le.length%2===0&&le.length<=me*2,"uniform "+W,O.commandStr),D="2i";break;case Ba:P.command(sn(le)&&le.length&&le.length%2===0&&le.length<=me*2,"uniform "+W,O.commandStr),D="2i";break;case $a:P.command(sn(le)&&le.length&&le.length%3===0&&le.length<=me*3,"uniform "+W,O.commandStr),D="3i";break;case Na:P.command(sn(le)&&le.length&&le.length%3===0&&le.length<=me*3,"uniform "+W,O.commandStr),D="3i";break;case Ha:P.command(sn(le)&&le.length&&le.length%4===0&&le.length<=me*4,"uniform "+W,O.commandStr),D="4i";break;case Va:P.command(sn(le)&&le.length&&le.length%4===0&&le.length<=me*4,"uniform "+W,O.commandStr),D="4i";break}me>1?(D+="v",le=O.global.def("["+Array.prototype.slice.call(le)+"]")):le=sn(le)?Array.prototype.slice.call(le):le,T($,".uniform",D,"(",je,",",le,");")}continue}else pe=Re.append(O,T)}else{if(!X(f1))continue;pe=T.def(G.uniforms,"[",C.id(W),"]")}ce===Ao?(P(!Array.isArray(pe),"must specify a scalar prop for textures"),T("if(",pe,"&&",pe,'._reglType==="framebuffer"){',pe,"=",pe,".color[0];","}")):ce===So&&(P(!Array.isArray(pe),"must specify a scalar prop for cube maps"),T("if(",pe,"&&",pe,'._reglType==="framebufferCube"){',pe,"=",pe,".color[0];","}")),P.optional(function(){function dr(ir,ja){O.assert(T,ir,'bad data or missing for uniform "'+W+'".  '+ja)}function zs(ir,ja){ja===1&&P(!Array.isArray(pe),"must not specify an array type for uniform"),dr("Array.isArray("+pe+") && typeof "+pe+'[0]===" '+ir+'" || typeof '+pe+'==="'+ir+'"',"invalid type, expected "+ir)}function vr(ir,ja,qa){Array.isArray(pe)?P(pe.length&&pe.length%ir===0&&pe.length<=ir*qa,"must have length of "+(qa===1?"":"n * ")+ir):dr(G.isArrayLike+"("+pe+")&&"+pe+".length && "+pe+".length % "+ir+" === 0 && "+pe+".length<="+ir*qa,"invalid vector, should have length of "+(qa===1?"":"n * ")+ir,O.commandStr)}function v1(ir){P(!Array.isArray(pe),"must not specify a value type"),dr("typeof "+pe+'==="function"&&'+pe+'._reglType==="texture'+(ir===t1?"2d":"Cube")+'"',"invalid texture type",O.commandStr)}switch(ce){case vf:zs("number",me);break;case Ba:vr(2,"number",me);break;case Na:vr(3,"number",me);break;case Va:vr(4,"number",me);break;case gf:zs("number",me);break;case ka:vr(2,"number",me);break;case xa:vr(3,"number",me);break;case Ga:vr(4,"number",me);break;case bf:zs("boolean",me);break;case Ua:vr(2,"boolean",me);break;case $a:vr(3,"boolean",me);break;case Ha:vr(4,"boolean",me);break;case bo:vr(4,"number",me);break;case _o:vr(9,"number",me);break;case yo:vr(16,"number",me);break;case Ao:v1(t1);break;case So:v1(Ty);break}});var zt=1;switch(ce){case Ao:case So:var Hn=T.def(pe,"._texture");T($,".uniform1i(",je,",",Hn,".bind());"),T.exit(Hn,".unbind();");continue;case vf:case bf:D="1i";break;case Ba:case Ua:D="2i",zt=2;break;case Na:case $a:D="3i",zt=3;break;case Va:case Ha:D="4i",zt=4;break;case gf:D="1f";break;case ka:D="2f",zt=2;break;case xa:D="3f",zt=3;break;case Ga:D="4f",zt=4;break;case bo:D="Matrix2fv";break;case _o:D="Matrix3fv";break;case yo:D="Matrix4fv";break}if(D.indexOf("Matrix")===-1&&me>1&&(D+="v",zt=1),D.charAt(0)==="M"){T($,".uniform",D,"(",je,",");var $s=Math.pow(ce-bo+2,2),Wr=O.global.def("new Float32Array(",$s,")");Array.isArray(pe)?T("false,(",Kn($s,function(dr){return Wr+"["+dr+"]="+pe[dr]}),",",Wr,")"):T("false,(Array.isArray(",pe,")||",pe," instanceof Float32Array)?",pe,":(",Kn($s,function(dr){return Wr+"["+dr+"]="+pe+"["+dr+"]"}),",",Wr,")"),T(");")}else if(zt>1){for(var Fr=[],ds=[],Hs=0;Hs<zt;++Hs)Array.isArray(pe)?ds.push(pe[Hs]):ds.push(T.def(pe+"["+Hs+"]")),N&&Fr.push(T.def());N&&T("if(!",O.batchId,"||",Fr.map(function(dr,zs){return dr+"!=="+ds[zs]}).join("||"),"){",Fr.map(function(dr,zs){return dr+"="+ds[zs]+";"}).join("")),T($,".uniform",D,"(",je,",",ds.join(","),");"),N&&T("}")}else{if(P(!Array.isArray(pe),"uniform value must not be an array"),N){var g1=T.def();T("if(!",O.batchId,"||",g1,"!==",pe,"){",g1,"=",pe,";")}T($,".uniform",D,"(",je,",",pe,");"),N&&T("}")}}}function st(O,T,x,z){var X=O.shared,N=X.gl,G=X.draw,$=z.draw;function R(){var Ze=$.elements,We,ot=T;return Ze?((Ze.contextDep&&z.contextDynamic||Ze.propDep)&&(ot=x),We=Ze.append(O,ot),$.elementsActive&&ot("if("+We+")"+N+".bindBuffer("+pf+","+We+".buffer.buffer);")):(We=ot.def(),ot(We,"=",G,".",Gs,";","if(",We,"){",N,".bindBuffer(",pf,",",We,".buffer.buffer);}","else if(",X.vao,".currentVAO){",We,"=",O.shared.elements+".getElements("+X.vao,".currentVAO.elements);",ge?"":"if("+We+")"+N+".bindBuffer("+pf+","+We+".buffer.buffer);","}")),We}function D(){var Ze=$.count,We,ot=T;return Ze?((Ze.contextDep&&z.contextDynamic||Ze.propDep)&&(ot=x),We=Ze.append(O,ot),P.optional(function(){Ze.MISSING&&O.assert(T,"false","missing vertex count"),Ze.DYNAMIC&&O.assert(ot,We+">=0","missing vertex count")})):(We=ot.def(G,".",Ns),P.optional(function(){O.assert(ot,We+">=0","missing vertex count")})),We}var M=R();function Y(Ze){var We=$[Ze];return We?We.contextDep&&z.contextDynamic||We.propDep?We.append(O,x):We.append(O,T):T.def(G,".",Ze)}var W=Y(Bs),ce=Y(Da),me=D();if(typeof me=="number"){if(me===0)return}else x("if(",me,"){"),x.exit("}");var Re,at;we&&(Re=Y(Fa),at=O.instancing);var tt=M+".type",je=$.elements&&us($.elements)&&!$.vaoActive;function pe(){function Ze(){x(at,".drawElementsInstancedANGLE(",[W,me,tt,ce+"<<(("+tt+"-"+F0+")>>1)",Re],");")}function We(){x(at,".drawArraysInstancedANGLE(",[W,ce,me,Re],");")}M&&M!=="null"?je?Ze():(x("if(",M,"){"),Ze(),x("}else{"),We(),x("}")):We()}function le(){function Ze(){x(N+".drawElements("+[W,me,tt,ce+"<<(("+tt+"-"+F0+")>>1)"]+");")}function We(){x(N+".drawArrays("+[W,ce,me]+");")}M&&M!=="null"?je?Ze():(x("if(",M,"){"),Ze(),x("}else{"),We(),x("}")):We()}we&&(typeof Re!="number"||Re>=0)?typeof Re=="string"?(x("if(",Re,">0){"),pe(),x("}else if(",Re,"<0){"),le(),x("}")):pe():le()}function Pt(O,T,x,z,X){var N=ft(),G=N.proc("body",X);return P.optional(function(){N.commandStr=T.commandStr,N.command=N.link(T.commandStr)}),we&&(N.instancing=G.def(N.shared.extensions,".angle_instanced_arrays")),O(N,G,x,z),N.compile().body}function Dt(O,T,x,z){pn(O,T),x.useVAO?x.drawVAO?T(O.shared.vao,".setVAO(",x.drawVAO.append(O,T),");"):T(O.shared.vao,".setVAO(",O.shared.vao,".targetVAO);"):(T(O.shared.vao,".setVAO(null);"),$n(O,T,x,z.attributes,function(){return!0})),$t(O,T,x,z.uniforms,function(){return!0},!1),st(O,T,T,x)}function gn(O,T){var x=O.proc("draw",1);pn(O,x),Pn(O,x,T.context),Ln(O,x,T.framebuffer),Gn(O,x,T),Un(O,x,T.state),vt(O,x,T,!1,!0);var z=T.shader.progVar.append(O,x);if(x(O.shared.gl,".useProgram(",z,".program);"),T.shader.program)Dt(O,x,T,T.shader.program);else{x(O.shared.vao,".setVAO(null);");var X=O.global.def("{}"),N=x.def(z,".id"),G=x.def(X,"[",N,"]");x(O.cond(G).then(G,".call(this,a0);").else(G,"=",X,"[",N,"]=",O.link(function($){return Pt(Dt,O,T,$,1)}),"(",z,");",G,".call(this,a0);"))}Object.keys(T.state).length>0&&x(O.shared.current,".dirty=true;"),O.shared.vao&&x(O.shared.vao,".setVAO(null);")}function Dr(O,T,x,z){O.batchId="a1",pn(O,T);function X(){return!0}$n(O,T,x,z.attributes,X),$t(O,T,x,z.uniforms,X,!1),st(O,T,T,x)}function Us(O,T,x,z){pn(O,T);var X=x.contextDep,N=T.def(),G="a0",$="a1",R=T.def();O.shared.props=R,O.batchId=N;var D=O.scope(),M=O.scope();T(D.entry,"for(",N,"=0;",N,"<",$,";++",N,"){",R,"=",G,"[",N,"];",M,"}",D.exit);function Y(tt){return tt.contextDep&&X||tt.propDep}function W(tt){return!Y(tt)}if(x.needsContext&&Pn(O,M,x.context),x.needsFramebuffer&&Ln(O,M,x.framebuffer),Un(O,M,x.state,Y),x.profile&&Y(x.profile)&&vt(O,M,x,!1,!0),z)x.useVAO?x.drawVAO?Y(x.drawVAO)?M(O.shared.vao,".setVAO(",x.drawVAO.append(O,M),");"):D(O.shared.vao,".setVAO(",x.drawVAO.append(O,D),");"):D(O.shared.vao,".setVAO(",O.shared.vao,".targetVAO);"):(D(O.shared.vao,".setVAO(null);"),$n(O,D,x,z.attributes,W),$n(O,M,x,z.attributes,Y)),$t(O,D,x,z.uniforms,W,!1),$t(O,M,x,z.uniforms,Y,!0),st(O,D,M,x);else{var ce=O.global.def("{}"),me=x.shader.progVar.append(O,M),Re=M.def(me,".id"),at=M.def(ce,"[",Re,"]");M(O.shared.gl,".useProgram(",me,".program);","if(!",at,"){",at,"=",ce,"[",Re,"]=",O.link(function(tt){return Pt(Dr,O,x,tt,2)}),"(",me,");}",at,".call(this,a0[",N,"],",N,");")}}function I(O,T){var x=O.proc("batch",2);O.batchId="0",pn(O,x);var z=!1,X=!0;Object.keys(T.context).forEach(function(ce){z=z||T.context[ce].propDep}),z||(Pn(O,x,T.context),X=!1);var N=T.framebuffer,G=!1;N?(N.propDep?z=G=!0:N.contextDep&&z&&(G=!0),G||Ln(O,x,N)):Ln(O,x,null),T.state.viewport&&T.state.viewport.propDep&&(z=!0);function $(ce){return ce.contextDep&&z||ce.propDep}Gn(O,x,T),Un(O,x,T.state,function(ce){return!$(ce)}),(!T.profile||!$(T.profile))&&vt(O,x,T,!1,"a1"),T.contextDep=z,T.needsContext=X,T.needsFramebuffer=G;var R=T.shader.progVar;if(R.contextDep&&z||R.propDep)Us(O,x,T,null);else{var D=R.append(O,x);if(x(O.shared.gl,".useProgram(",D,".program);"),T.shader.program)Us(O,x,T,T.shader.program);else{x(O.shared.vao,".setVAO(null);");var M=O.global.def("{}"),Y=x.def(D,".id"),W=x.def(M,"[",Y,"]");x(O.cond(W).then(W,".call(this,a0,a1);").else(W,"=",M,"[",Y,"]=",O.link(function(ce){return Pt(Us,O,T,ce,2)}),"(",D,");",W,".call(this,a0,a1);"))}}Object.keys(T.state).length>0&&x(O.shared.current,".dirty=true;"),O.shared.vao&&x(O.shared.vao,".setVAO(null);")}function te(O,T){var x=O.proc("scope",3);O.batchId="a2";var z=O.shared,X=z.current;Pn(O,x,T.context),T.framebuffer&&T.framebuffer.append(O,x),c1(Object.keys(T.state)).forEach(function(G){var $=T.state[G],R=$.append(O,x);sn(R)?R.forEach(function(D,M){x.set(O.next[G],"["+M+"]",D)}):x.set(z.next,"."+G,R)}),vt(O,x,T,!0,!0),[Gs,Da,Ns,Fa,Bs].forEach(function(G){var $=T.draw[G];$&&x.set(z.draw,"."+G,""+$.append(O,x))}),Object.keys(T.uniforms).forEach(function(G){var $=T.uniforms[G].append(O,x);Array.isArray($)&&($="["+$.join()+"]"),x.set(z.uniforms,"["+C.id(G)+"]",$)}),Object.keys(T.attributes).forEach(function(G){var $=T.attributes[G].append(O,x),R=O.scopeAttrib(G);Object.keys(new q).forEach(function(D){x.set(R,"."+D,$[D])})}),T.scopeVAO&&x.set(z.vao,".targetVAO",T.scopeVAO.append(O,x));function N(G){var $=T.shader[G];$&&x.set(z.shader,"."+G,$.append(O,x))}N(po),N(go),Object.keys(T.state).length>0&&(x(X,".dirty=true;"),x.exit(X,".dirty=true;")),x("a1(",O.shared.context,",a0,",O.batchId,");")}function Z(O){if(!(typeof O!="object"||sn(O))){for(var T=Object.keys(O),x=0;x<T.length;++x)if(Zn.isDynamic(O[T[x]]))return!0;return!1}}function qe(O,T,x){var z=T.static[x];if(!z||!Z(z))return;var X=O.global,N=Object.keys(z),G=!1,$=!1,R=!1,D=O.global.def("{}");N.forEach(function(Y){var W=z[Y];if(Zn.isDynamic(W)){typeof W=="function"&&(W=z[Y]=Zn.unbox(W));var ce=sr(W,null);G=G||ce.thisDep,R=R||ce.propDep,$=$||ce.contextDep}else{switch(X(D,".",Y,"="),typeof W){case"number":X(W);break;case"string":X('"',W,'"');break;case"object":Array.isArray(W)&&X("[",W.join(),"]");break;default:X(O.link(W));break}X(";")}});function M(Y,W){N.forEach(function(ce){var me=z[ce];if(Zn.isDynamic(me)){var Re=Y.invoke(W,me);W(D,".",ce,"=",Re,";")}})}T.dynamic[x]=new Zn.DynamicVariable(Ma,{thisDep:G,contextDep:$,propDep:R,ref:D,append:M}),delete T.static[x]}function St(O,T,x,z,X){var N=ft();N.stats=N.link(X),Object.keys(T.static).forEach(function($){qe(N,T,$)}),Sy.forEach(function($){qe(N,O,$)});var G=wn(O,T,x,z,N);return gn(N,G),te(N,G),I(N,G),r(N.compile(),{destroy:function(){G.shader.program.destroy()}})}return{next:Ge,current:Ne,procs:function(){var O=ft(),T=O.proc("poll"),x=O.proc("refresh"),z=O.block();T(z),x(z);var X=O.shared,N=X.gl,G=X.next,$=X.current;z($,".dirty=false;"),Ln(O,T),Ln(O,x,null,!0);var R;we&&(R=O.link(we)),F.oes_vertex_array_object&&x(O.link(F.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var D=0;D<Q.maxAttributes;++D){var M=x.def(X.attributes,"[",D,"]"),Y=O.cond(M,".buffer");Y.then(N,".enableVertexAttribArray(",D,");",N,".bindBuffer(",Ci,",",M,".buffer.buffer);",N,".vertexAttribPointer(",D,",",M,".size,",M,".type,",M,".normalized,",M,".stride,",M,".offset);").else(N,".disableVertexAttribArray(",D,");",N,".vertexAttrib4f(",D,",",M,".x,",M,".y,",M,".z,",M,".w);",M,".buffer=null;"),x(Y),we&&x(R,".vertexAttribDivisorANGLE(",D,",",M,".divisor);")}return x(O.shared.vao,".currentVAO=null;",O.shared.vao,".setVAO(",O.shared.vao,".targetVAO);"),Object.keys(he).forEach(function(W){var ce=he[W],me=z.def(G,".",W),Re=O.block();Re("if(",me,"){",N,".enable(",ce,")}else{",N,".disable(",ce,")}",$,".",W,"=",me,";"),x(Re),T("if(",me,"!==",$,".",W,"){",Re,"}")}),Object.keys(ue).forEach(function(W){var ce=ue[W],me=Ne[W],Re,at,tt=O.block();if(tt(N,".",ce,"("),sn(me)){var je=me.length;Re=O.global.def(G,".",W),at=O.global.def($,".",W),tt(Kn(je,function(pe){return Re+"["+pe+"]"}),");",Kn(je,function(pe){return at+"["+pe+"]="+Re+"["+pe+"];"}).join("")),T("if(",Kn(je,function(pe){return Re+"["+pe+"]!=="+at+"["+pe+"]"}).join("||"),"){",tt,"}")}else Re=z.def(G,".",W),at=z.def($,".",W),tt(Re,");",$,".",W,"=",Re,";"),T("if(",Re,"!==",at,"){",tt,"}");x(tt)}),O.compile()}(),compile:St}}function Uy(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var $y=34918,Hy=34919,u1=35007,zy=function(y,C){if(!C.ext_disjoint_timer_query)return null;var F=[];function Q(){return F.pop()||C.ext_disjoint_timer_query.createQueryEXT()}function de(we){F.push(we)}var K=[];function oe(we){var Ue=Q();C.ext_disjoint_timer_query.beginQueryEXT(u1,Ue),K.push(Ue),ye(K.length-1,K.length,we)}function _e(){C.ext_disjoint_timer_query.endQueryEXT(u1)}function be(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Ce=[];function Le(){return Ce.pop()||new be}function Pe(we){Ce.push(we)}var Me=[];function ye(we,Ue,ge){var Ne=Le();Ne.startQueryIndex=we,Ne.endQueryIndex=Ue,Ne.sum=0,Ne.stats=ge,Me.push(Ne)}var Te=[],q=[];function ie(){var we,Ue,ge=K.length;if(ge!==0){q.length=Math.max(q.length,ge+1),Te.length=Math.max(Te.length,ge+1),Te[0]=0,q[0]=0;var Ne=0;for(we=0,Ue=0;Ue<K.length;++Ue){var Ge=K[Ue];C.ext_disjoint_timer_query.getQueryObjectEXT(Ge,Hy)?(Ne+=C.ext_disjoint_timer_query.getQueryObjectEXT(Ge,$y),de(Ge)):K[we++]=Ge,Te[Ue+1]=Ne,q[Ue+1]=we}for(K.length=we,we=0,Ue=0;Ue<Me.length;++Ue){var nt=Me[Ue],he=nt.startQueryIndex,ue=nt.endQueryIndex;nt.sum+=Te[ue]-Te[he];var Xe=q[he],De=q[ue];De===Xe?(nt.stats.gpuTime+=nt.sum/1e6,Pe(nt)):(nt.startQueryIndex=Xe,nt.endQueryIndex=De,Me[we++]=nt)}Me.length=we}}return{beginQuery:oe,endQuery:_e,pushScopeStats:ye,update:ie,getNumPendingQueries:function(){return K.length},clear:function(){F.push.apply(F,K);for(var we=0;we<F.length;we++)C.ext_disjoint_timer_query.deleteQueryEXT(F[we]);K.length=0,F.length=0},restore:function(){K.length=0,F.length=0}}},jy=16384,qy=256,Xy=1024,Wy=34962,d1="webglcontextlost",h1="webglcontextrestored",m1=1,Yy=2,Zy=3;function p1(y,C){for(var F=0;F<y.length;++F)if(y[F]===C)return F;return-1}function Ky(y){var C=uc(y);if(!C)return null;var F=C.gl,Q=F.getContextAttributes(),de=F.isContextLost(),K=dc(F,C);if(!K)return null;var oe=oc(),_e=Uy(),be=K.extensions,Ce=zy(F,be),Le=ca(),Pe=F.drawingBufferWidth,Me=F.drawingBufferHeight,ye={tick:0,time:0,viewportWidth:Pe,viewportHeight:Me,framebufferWidth:Pe,framebufferHeight:Me,drawingBufferWidth:Pe,drawingBufferHeight:Me,pixelRatio:C.pixelRatio},Te={},q={elements:null,primitive:4,count:-1,offset:0,instances:-1},ie=Gb(F,be),we=Jb(F,_e,C,Ne),Ue=u_(F,be,we,_e),ge=uy(F,be,ie,_e,we,Ue,q);function Ne(st){return ge.destroyBuffer(st)}var Ge=py(F,oe,_e,C),nt=$_(F,be,ie,function(){Xe.procs.poll()},ye,_e,C),he=H_(F,be,ie,_e,C),ue=cy(F,be,ie,nt,he,_e),Xe=Vy(F,oe,be,ie,we,Ue,nt,ue,Te,ge,Ge,q,ye,Ce,C),De=by(F,ue,Xe.procs.poll,ye,Q,be,ie),Se=Xe.next,Fe=F.canvas,ke=[],dt=[],ft=[],Be=[C.onDestroy],Ve=null;function it(){if(ke.length===0){Ce&&Ce.update(),Ve=null;return}Ve=ro.next(it),Un();for(var st=ke.length-1;st>=0;--st){var Pt=ke[st];Pt&&Pt(ye,null,0)}F.flush(),Ce&&Ce.update()}function ht(){!Ve&&ke.length>0&&(Ve=ro.next(it))}function Ct(){Ve&&(ro.cancel(it),Ve=null)}function on(st){st.preventDefault(),de=!0,Ct(),dt.forEach(function(Pt){Pt()})}function fn(st){F.getError(),de=!1,K.restore(),Ge.restore(),we.restore(),nt.restore(),he.restore(),ue.restore(),ge.restore(),Ce&&Ce.restore(),Xe.procs.refresh(),ht(),ft.forEach(function(Pt){Pt()})}Fe&&(Fe.addEventListener(d1,on,!1),Fe.addEventListener(h1,fn,!1));function Ot(){ke.length=0,Ct(),Fe&&(Fe.removeEventListener(d1,on),Fe.removeEventListener(h1,fn)),Ge.clear(),ue.clear(),he.clear(),ge.clear(),nt.clear(),Ue.clear(),we.clear(),Ce&&Ce.clear(),Be.forEach(function(st){st()})}function Cn(st){P(!!st,"invalid args to regl({...})"),P.type(st,"object","invalid args to regl({...})");function Pt(X){var N=r({},X);delete N.uniforms,delete N.attributes,delete N.context,delete N.vao,"stencil"in N&&N.stencil.op&&(N.stencil.opBack=N.stencil.opFront=N.stencil.op,delete N.stencil.op);function G($){if($ in N){var R=N[$];delete N[$],Object.keys(R).forEach(function(D){N[$+"."+D]=R[D]})}}return G("blend"),G("depth"),G("cull"),G("stencil"),G("polygonOffset"),G("scissor"),G("sample"),"vao"in X&&(N.vao=X.vao),N}function Dt(X,N){var G={},$={};return Object.keys(X).forEach(function(R){var D=X[R];if(Zn.isDynamic(D)){$[R]=Zn.unbox(D,R);return}else if(N&&Array.isArray(D)){for(var M=0;M<D.length;++M)if(Zn.isDynamic(D[M])){$[R]=Zn.unbox(D,R);return}}G[R]=D}),{dynamic:$,static:G}}var gn=Dt(st.context||{},!0),Dr=Dt(st.uniforms||{},!0),Us=Dt(st.attributes||{},!1),I=Dt(Pt(st),!1),te={gpuTime:0,cpuTime:0,count:0},Z=Xe.compile(I,Us,Dr,gn,te),qe=Z.draw,St=Z.batch,O=Z.scope,T=[];function x(X){for(;T.length<X;)T.push(null);return T}function z(X,N){var G;if(de&&P.raise("context lost"),typeof X=="function")return O.call(this,null,X,0);if(typeof N=="function")if(typeof X=="number")for(G=0;G<X;++G)O.call(this,null,N,G);else if(Array.isArray(X))for(G=0;G<X.length;++G)O.call(this,X[G],N,G);else return O.call(this,X,N,0);else if(typeof X=="number"){if(X>0)return St.call(this,x(X|0),X|0)}else if(Array.isArray(X)){if(X.length)return St.call(this,X,X.length)}else return qe.call(this,X)}return r(z,{stats:te,destroy:function(){Z.destroy()}})}var Kt=ue.setFBO=Cn({framebuffer:Zn.define.call(null,m1,"framebuffer")});function wn(st,Pt){var Dt=0;Xe.procs.poll();var gn=Pt.color;gn&&(F.clearColor(+gn[0]||0,+gn[1]||0,+gn[2]||0,+gn[3]||0),Dt|=jy),"depth"in Pt&&(F.clearDepth(+Pt.depth),Dt|=qy),"stencil"in Pt&&(F.clearStencil(Pt.stencil|0),Dt|=Xy),P(!!Dt,"called regl.clear with no buffer specified"),F.clear(Dt)}function Pn(st){if(P(typeof st=="object"&&st,"regl.clear() takes an object as input"),"framebuffer"in st)if(st.framebuffer&&st.framebuffer_reglType==="framebufferCube")for(var Pt=0;Pt<6;++Pt)Kt(r({framebuffer:st.framebuffer.faces[Pt]},st),wn);else Kt(st,wn);else wn(null,st)}function Ln(st){P.type(st,"function","regl.frame() callback must be a function"),ke.push(st);function Pt(){var Dt=p1(ke,st);P(Dt>=0,"cannot cancel a frame twice");function gn(){var Dr=p1(ke,gn);ke[Dr]=ke[ke.length-1],ke.length-=1,ke.length<=0&&Ct()}ke[Dt]=gn}return ht(),{cancel:Pt}}function Gn(){var st=Se.viewport,Pt=Se.scissor_box;st[0]=st[1]=Pt[0]=Pt[1]=0,ye.viewportWidth=ye.framebufferWidth=ye.drawingBufferWidth=st[2]=Pt[2]=F.drawingBufferWidth,ye.viewportHeight=ye.framebufferHeight=ye.drawingBufferHeight=st[3]=Pt[3]=F.drawingBufferHeight}function Un(){ye.tick+=1,ye.time=vt(),Gn(),Xe.procs.poll()}function pn(){nt.refresh(),Gn(),Xe.procs.refresh(),Ce&&Ce.update()}function vt(){return(ca()-Le)/1e3}pn();function $n(st,Pt){P.type(Pt,"function","listener callback must be a function");var Dt;switch(st){case"frame":return Ln(Pt);case"lost":Dt=dt;break;case"restore":Dt=ft;break;case"destroy":Dt=Be;break;default:P.raise("invalid event, must be one of frame,lost,restore,destroy")}return Dt.push(Pt),{cancel:function(){for(var gn=0;gn<Dt.length;++gn)if(Dt[gn]===Pt){Dt[gn]=Dt[Dt.length-1],Dt.pop();return}}}}var $t=r(Cn,{clear:Pn,prop:Zn.define.bind(null,m1),context:Zn.define.bind(null,Yy),this:Zn.define.bind(null,Zy),draw:Cn({}),buffer:function(st){return we.create(st,Wy,!1,!1)},elements:function(st){return Ue.create(st,!1)},texture:nt.create2D,cube:nt.createCube,renderbuffer:he.create,framebuffer:ue.create,framebufferCube:ue.createCube,vao:ge.createVAO,attributes:Q,frame:Ln,on:$n,limits:ie,hasExtension:function(st){return ie.extensions.indexOf(st.toLowerCase())>=0},read:De,destroy:Ot,_gl:F,_refresh:pn,poll:function(){Un(),Ce&&Ce.update()},now:vt,stats:_e});return C.onDone(null,$t),$t}return Ky})}(Cf)),Cf.exports}const SA=yA,EA=kl,wA=e=>{const n=Object.assign({},{},e.glOptions,{onDone:(o,a)=>{if(o)throw o}}),r=AA()(n),s=new Map,i=o=>{o.rendering=Object.assign({},EA,o.rendering),SA(r)(o,a=>{r.clear({color:o.rendering.background,depth:1}),o.entities&&o.entities.sort((l,c)=>{const f="transparent"in l.visuals?l.visuals.transparent:!1,u="transparent"in c.visuals?c.visuals.transparent:!1;return f===u?0:f?1:-1}).forEach(l=>{const{visuals:c}=l;if(("show"in c?c.show:!0)&&c.drawCmd&&o.drawCommands[c.drawCmd]){let u;c.cacheId?u=s.get(c.cacheId):(c.cacheId=s.size,u=o.drawCommands[c.drawCmd](r,l),s.set(c.cacheId,u));const h={...l,...c,camera:o.camera};u(h)}})})};return function(a){r.poll(),i(a)}};var TA=wA,Pf,V1;function U1(){if(V1)return Pf;V1=1;const e=Sr;return Pf=(n,r={})=>{const s=[],i={visuals:{color:[0,0,1,1],fadeOut:!1},ticks:1,size:[16,16],centered:!1,lineWidth:2},o=Object.assign({},i.visuals,r.visuals||{}),{fadeOut:a,color:l}=o,{size:c,ticks:f,centered:u,lineWidth:h}=Object.assign({},i,r),d=c[0],g=c[1];if(u){const p=d*.5,m=g*.5,v=p%f,b=-p+v,_=-b,S=m%f,E=-m+S,w=-E,A=0;for(let L=b,U=0;L<=_;L+=f,U+=1)U%A!==0&&(s.push(E,L,0),s.push(w,L,0),s.push(E,L,0));for(let L=E,U=0;L<=w;L+=f,U+=1)U%A!==0&&(s.push(L,b,0),s.push(L,_,0),s.push(L,b,0))}else{for(let p=-d*.5;p<=d*.5;p+=f)s.push(-g*.5,p,0),s.push(g*.5,p,0),s.push(-g*.5,p,0);for(let p=-g*.5;p<=g*.5;p+=f)s.push(p,-d*.5,0),s.push(p,d*.5,0),s.push(p,-d*.5,0)}return n({vert:`precision mediump float;

    uniform float camNear, camFar;
    uniform mat4 model, view, projection;

    attribute vec3 position;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    void main() {
      fragPosition = position;
      worldPosition = model * vec4(position, 1);
      vec4 glPosition = projection * view * worldPosition;
      gl_Position = glPosition;
    }`,frag:`precision mediump float;
    uniform vec4 color;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    uniform vec4 fogColor;
    uniform bool fadeOut;
    void main() {
      float dist = .5;
      if(fadeOut){
        dist = distance( vec2(0.,0.), vec2(worldPosition.x, worldPosition.y));
        dist *= 0.0025;
        dist = sqrt(dist);
      }

      gl_FragColor = mix(color, fogColor, dist);
    }
    `,attributes:{position:n.buffer(s)},count:s.length/3,uniforms:{model:(p,m)=>m&&m.model?m.model:e.identity([]),color:(p,m)=>m&&m.color?m.color:l,fogColor:(p,m)=>m&&m.color?[m.color[0],m.color[1],m.color[2],0]:[l[0],l[1],l[2],0],fadeOut:(p,m)=>m&&m.fadeOut!==void 0?m.fadeOut:a},lineWidth:(p,m)=>Math.min(m&&m.lineWidth?m.lineWidth:h,n.limits.lineWidthDims[1]),primitive:"lines",cull:{enable:!0,face:"front"},polygonOffset:{enable:!0,offset:{factor:1,units:Math.random()*10}},blend:{enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}})},Pf}const CA=(e,t)=>{const n={size:[50,50],ticks:[10,1]},{size:r,ticks:s}=Object.assign({},n,t),i=U1()(e,{size:r,ticks:s[0]}),o=U1()(e,{size:r,ticks:s[1]});return l=>{i(l),o({color:l.subColor,fadeOut:l.fadeOut})}};var PA=CA;const Qn=Sr,LA=(e,t)=>{const n={xColor:[1,0,0,1],yColor:[0,1,0,1],zColor:[0,0,1,1],size:10,lineWidth:3,alwaysVisible:!0};let{size:r,xColor:s,yColor:i,zColor:o,lineWidth:a,alwaysVisible:l}=Object.assign({},n,t);a>e.limits.lineWidthDims[1]&&(a=e.limits.lineWidthDims[1]);const c=[0,0,0,r,0,0],f={frag:`precision mediump float;
    uniform vec4 color;
    void main() {
      gl_FragColor = color;
    }`,vert:`
    precision mediump float;
    attribute vec3 position;
    uniform mat4 model, view, projection;
    void main() {
      gl_Position = projection * view * model * vec4(position, 1);
    }`,uniforms:{model:(p,m)=>m&&m.model?m.model:Qn.identity([]),color:(p,m)=>m.color,angle:(p,m)=>m.angle},attributes:{position:c},count:c.length/3,primitive:"line loop",lineWidth:a,depth:{enable:!l}},u=Qn.identity([]),h=Qn.rotateZ(Qn.create(),Qn.identity([]),Math.PI/2),d=Qn.rotateY(Qn.create(),Qn.identity([]),-Math.PI/2),g=e(f);return p=>{const m={model:Qn.identity([])};return p=Object.assign({},m,p),g([{color:s,model:Qn.multiply(Qn.create(),p.model,u)},{color:i,model:Qn.multiply(Qn.create(),p.model,h)},{color:o,model:Qn.multiply(Qn.create(),p.model,d)}])}};var OA=LA,Lf,$1;function H1(){return $1||($1=1,Lf={frag:`
precision mediump float;
varying vec3 surfaceNormal, surfacePosition;

uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform float specularLightAmount;

uniform vec3 lightDirection;
uniform vec4 lightColor;
uniform vec3 opacity;
uniform float uMaterialShininess;

varying vec4 vColor;
uniform vec4 ucolor;
uniform float vColorToggler;

uniform vec2 printableArea;
vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);//vec4(0.15, 0.15, 0.15, 0.3);
varying vec4 _worldSpacePosition;
varying float ambientAo;

void main () {
  vec4 depth = gl_FragCoord;
  vec4 endColor = vColor * vColorToggler + ucolor * (1.0 - vColorToggler);

  vec3 ambient = ambientLightAmount * endColor.rgb ; //ambientAo * 

  float diffuseWeight = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(diffuseWeight , 0.0, 1.0 );

  //specular
  
  vec4 specularColor = vec4(lightColor);
  vec3 eyeDirection = normalize(surfacePosition.xyz);
  vec3 reflectionDirection = reflect(-lightDirection, -surfaceNormal);
  float specularLightWeight = pow(max(dot(reflectionDirection, eyeDirection), 0.0), uMaterialShininess);
  vec3 specular = specularColor.rgb * specularLightWeight * specularLightAmount;

  gl_FragColor = vec4((ambient + diffuse + specular), endColor.a);
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection, unormal;

attribute vec3 position, normal;
attribute vec4 color;

attribute float ao;
varying float ambientAo;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  surfacePosition = (unormal * vec4(position, 1.0)).xyz;
  surfaceNormal = normalize((unormal * vec4(normal, 1.0)).xyz); //vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;
  //gl_Position = projection * view * worldSpacePosition;

  vColor = color;

  //ambientAo = (1. - ao) * (0.5 * max(normal.x, 0.) + 0.5);

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
  //gl_Position = zBufferAdjust(glPosition, camNear, camFar);
}
`}),Lf}var Of,z1;function j1(){return z1||(z1=1,Of={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;

void main() {
  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Of}const hs=Sr,{meshColor:RA}=kl,MA=(e,t={extras:{}})=>{const n={useVertexColors:!0,dynamicCulling:!0,geometry:void 0,color:RA,visuals:{}},{geometry:r,dynamicCulling:s,useVertexColors:i,color:o,visuals:a}=Object.assign({},n,t),l=e.buffer([]),c=!!(r.indices&&r.indices.length>0),f=!!(r.normals&&r.normals.length>0),u="transparent"in a?a.transparent:!1,h=!!(i&&r.colors&&r.colors.length>0),d=r.transforms||hs.create(),g=hs.determinant(d)<0,p=s&&g?"front":"back",m=h?H1().vert:j1().vert,v=h?H1().frag:j1().frag,b=hs.invert(hs.create(),d);let _={primitive:"triangles",vert:m,frag:v,uniforms:{model:(S,E)=>d,ucolor:(S,E)=>E&&E.color?E.color:o,vColorToggler:(S,E)=>E&&E.useVertexColors&&E.useVertexColors===!0?1:0,unormal:(S,E)=>{const w=hs.invert(hs.create(),E.camera.view);return hs.multiply(w,b,w),hs.transpose(w,w),w}},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions}),ao:l},cull:{enable:!0,face:p}};return u&&(_.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),r.cells?_.elements=r.cells:c?_.elements=e.elements({usage:"static",type:"uint16",data:r.indices}):r.triangles?_.elements=r.triangles:_.count=r.positions.length/3,f&&(_.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),h&&(_.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),_=Object.assign({},_,t.extras),e(_)};var IA=MA,Rf,q1;function X1(){return q1||(q1=1,Rf={frag:`
precision mediump float;
varying vec4 vColor;

void main () {
  gl_FragColor = vColor;
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;
attribute vec4 color;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  vColor = color;

  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`}),Rf}var Mf,W1;function DA(){return W1||(W1=1,Mf={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;


varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;


void main() {


  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Mf}var If,Y1;function FA(){return Y1||(Y1=1,If={frag:`
precision mediump float;
uniform vec4 ucolor;

void main () {
  gl_FragColor = ucolor;
}
`}),If}const kA=Sr,{meshColor:xA}=kl,GA=(e,t={})=>{const n={color:xA,geometry:void 0};let{geometry:r,color:s,transparent:i}=Object.assign({},n,t);"color"in r&&(s=r.color);const o=!!(r.indices&&r.indices.length>0),a=!!(r.normals&&r.normals.length>0),l=!!(r.colors&&r.colors.length>0),c=l?X1().vert:DA().vert,f=l?X1().frag:FA().frag,u={primitive:"lines",vert:c,frag:f,uniforms:{model:(h,d)=>d.model||r.transforms||kA.create(),ucolor:(h,d)=>d&&d.color?d.color:s},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions})}};return i&&(u.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),l&&(u.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),o&&(u.elements=e.elements({usage:"static",type:"uint16",data:r.indices})),a&&(u.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),e(u)};var BA=GA,Xg=1e-6,Wg=NA;function NA(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}var VA=UA;function UA(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}var Yg=$A;function $A(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}var Zg=HA;function HA(e,t){var n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}var Kg=zA;function zA(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}var jA=XA,Z1=Yg,K1=Zg,qA=Kg;function XA(e,t){var n=Z1(e[0],e[1],e[2]),r=Z1(t[0],t[1],t[2]);K1(n,n),K1(r,r);var s=qA(n,r);return s>1?0:Math.acos(s)}var WA=YA;function YA(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}var ZA=KA;function KA(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}var QA=JA,Df=Xg;function JA(e,t){var n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2];return Math.abs(n-i)<=Df*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=Df*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-a)<=Df*Math.max(1,Math.abs(s),Math.abs(a))}var eS=tS;function tS(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var nS=rS;function rS(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var Qg=sS;function sS(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}var iS=Qg,Jg=oS;function oS(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}var aS=Jg,ev=lS;function lS(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}var cS=ev,fS=uS;function uS(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}var dS=hS;function hS(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}var mS=pS;function pS(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}var gS=vS;function vS(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}var bS=_S;function _S(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}var yS=AS;function AS(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}var SS=ES;function ES(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}var tv=wS;function wS(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)}var TS=tv,nv=CS;function CS(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s}var PS=nv,rv=LS;function LS(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}var OS=rv,sv=RS;function RS(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}var MS=sv,IS=DS;function DS(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}var FS=kS;function kS(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}var xS=GS;function GS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e}var BS=NS;function NS(e,t,n,r){var s=t[0],i=t[1],o=t[2];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}var VS=US;function US(e,t){t=t||1;var n=Math.random()*2*Math.PI,r=Math.random()*2-1,s=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=r*t,e}var $S=HS;function HS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e}var zS=jS;function jS(e,t,n){var r=t[0],s=t[1],i=t[2];return e[0]=r*n[0]+s*n[3]+i*n[6],e[1]=r*n[1]+s*n[4]+i*n[7],e[2]=r*n[2]+s*n[5]+i*n[8],e}var qS=XS;function XS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2],c=n[3],f=c*r+a*i-l*s,u=c*s+l*r-o*i,h=c*i+o*s-a*r,d=-o*r-a*s-l*i;return e[0]=f*c+d*-o+u*-l-h*-a,e[1]=u*c+d*-a+h*-o-f*-l,e[2]=h*c+d*-l+f*-a-u*-o,e}var WS=YS;function YS(e,t,n,r){var s=n[1],i=n[2],o=t[1]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=t[0],e[1]=s+o*c-a*l,e[2]=i+o*l+a*c,e}var ZS=KS;function KS(e,t,n,r){var s=n[0],i=n[2],o=t[0]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+a*l+o*c,e[1]=t[1],e[2]=i+a*c-o*l,e}var QS=JS;function JS(e,t,n,r){var s=n[0],i=n[1],o=t[0]-s,a=t[1]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+o*c-a*l,e[1]=i+o*l+a*c,e[2]=t[2],e}var eE=tE,ms=Wg();function tE(e,t,n,r,s,i){var o,a;for(t||(t=3),n||(n=0),r?a=Math.min(r*t+n,e.length):a=e.length,o=n;o<a;o+=t)ms[0]=e[o],ms[1]=e[o+1],ms[2]=e[o+2],s(ms,ms,i),e[o]=ms[0],e[o+1]=ms[1],e[o+2]=ms[2];return e}var Qo={EPSILON:Xg,create:Wg,clone:VA,angle:jA,fromValues:Yg,copy:WA,set:ZA,equals:QA,exactEquals:eS,add:nS,subtract:Qg,sub:iS,multiply:Jg,mul:aS,divide:ev,div:cS,min:fS,max:dS,floor:mS,ceil:gS,round:bS,scale:yS,scaleAndAdd:SS,distance:tv,dist:TS,squaredDistance:nv,sqrDist:PS,length:rv,len:OS,squaredLength:sv,sqrLen:MS,negate:IS,inverse:FS,normalize:Zg,dot:Kg,cross:xS,lerp:BS,random:VS,transformMat4:$S,transformMat3:zS,transformQuat:qS,rotateX:WS,rotateY:ZS,rotateZ:QS,forEach:eE};const oi=Sr,Ff=Qo,iv={view:oi.identity(new Float32Array(16)),projection:oi.identity(new Float32Array(16)),matrix:oi.identity(new Float32Array(16)),near:1,far:18e3,up:[0,0,1],eye:new Float32Array(3),position:[450,550,700],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],projectionType:"perspective"},ov={},nE=Object.assign({},iv,ov),rE=(e,t,n)=>{const r=n.width/n.height,s=oi.perspective(oi.identity([]),t.fov,r,t.near,t.far),i=[0,0,n.width,n.height],o=e||{};return o.projection=s,o.aspect=r,o.viewport=i,o},sE=(e,t)=>{t||(t=e);const{position:n,target:r,up:s}=t,i=Ff.subtract([],n,r),o=Ff.add(Ff.create(),r,i),a=oi.lookAt(oi.create(),o,r,s),l=e||{};return l.position=o,l.view=a,l};var Vu={cameraState:iv,cameraProps:ov,defaults:nE,setProjection:rE,update:sE};const Al=Sr,iE={view:Al.identity(new Float32Array(16)),projection:Al.identity(new Float32Array(16)),matrix:Al.identity(new Float32Array(16)),near:1,far:1300,up:[0,0,1],eye:new Float32Array(3),position:[150,250,200],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],zoom:1,projectionType:"orthographic"},oE={},aE=(e,t)=>{const{width:n,height:r}=t,s=n/r,i=[0,0,n,r],o=e.zoom,a=-n*o,l=n*o,c=-r*o,f=r*o;return{projection:Al.ortho([],a,l,c,f,e.near,e.far),aspect:s,viewport:i}};var Cl={cameraState:iE,cameraProps:oE,setProjection:aE};const zi=Qo,Pl=Sr,lE=e=>{const{near:t,far:n,fov:r,zoom:s}=e,{viewport:i}=e,o=Vu.setProjection(e,{width:i[2],height:i[3]}),{projectionType:a}=Vu.cameraState;return Object.assign({},e,o,{projectionType:a},{near:t,far:n,fov:r})},cE=e=>{const{fov:t,aspect:n}=e,r=zi.length(zi.subtract([],e.position,e.target))*.3,s=Math.tan(t)*r*n,i=Math.tan(t)*r,{near:o,far:a,viewport:l}=e,c={zoom:1,near:o,far:a},f=Cl.cameraState,u=Cl.setProjection(c,{width:s,height:i});return Object.assign({},f,e,u,{projectionType:f.projectionType,viewport:l})},fE=({camera:e})=>{const n=zi.distance(e.position,e.target),r=[n,n,n];return{view:Pl.lookAt(Pl.create(),r,e.target,e.up),position:r}},uE=(e,{camera:t})=>{const n={top:[0,-1e-6,1],bottom:[0,0,-1],front:[0,1,0],back:[0,-1,0],left:[-1,0,0],right:[1,0,0],undefined:[0,0,0]},r=zi.distance(t.position,t.target),s=zi.add(zi.create(),n[e].map(o=>o*r),t.target);return{view:Pl.lookAt(Pl.create(),s,t.target,t.up),position:s}};var dE={toPerspectiveView:fE,toPresetView:uE,fromOrthographicToPerspective:lE,fromPerspectiveToOrthographic:cE};const av=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(av(n)):t.concat(n),[]);var hE=av;const mE=(e,t)=>e-t;var pE=mE;const gE=e=>{if(!(!Array.isArray(e)||e.length===0))return e[0]};var vE=gE;const bE=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}return e.splice(r,0,t),e};var _E=bE;const yE=(e,t)=>{if(!(!Array.isArray(e)||e.length<t))return e[t]};var AE=yE;const SE=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var EE=SE;const wE=e=>Array.isArray(e)?e:e==null?[]:[e];var TE=wE,ed={flatten:hE,fnNumberSort:pE,head:vE,insertSorted:_E,nth:AE,padToLength:EE,toArray:TE};const CE=e=>{if(e.length===0)return[[0,0,0],[0,0,0]];const t=Array.isArray(e)&&Array.isArray(e[0]),n=t?e[0].length:3,r=new Array(n),s=new Array(n);for(let i=0;i<n;i+=1)r[i]=1/0,s[i]=-1/0;if(t)e.forEach(i=>{for(let o=0;o<n;o+=1){const a=t?i[o]:i;s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}});else for(let i=0;i<e.length;i+=n)for(let o=0;o<n;o+=1){const a=e[o+i];s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}return[r,s]};var PE=CE;const hr=Qo,{flatten:LE}=ed,OE=PE,RE=(...e)=>{e=LE(e);let t;e.forEach(l=>{let c=OE(l.positions);c=c.map(f=>hr.transformMat4(f,f,l.transforms)),t?(hr.min(t[0],t[0],c[0]),hr.max(t[1],t[1],c[1])):t=c});const n=hr.min(hr.create(),t[1],t[0]),r=hr.max(hr.create(),t[1],t[0]),s=hr.subtract(hr.create(),r,n);let i=hr.scale(hr.create(),s,.5);return i=hr.add(i,n,i),{dia:hr.distance(i,r),center:[...i],min:[...n],max:[...r],size:[...s]}};var ME=RE,kf,Q1;function IE(){if(Q1)return kf;Q1=1,kf=e;function e(t,n,r){var s=n[0],i=n[1],o=n[2],a=r[0],l=r[1],c=r[2],f=r[3],u=r[4],h=r[5],d=r[6],g=r[7],p=r[8],m=r[9],v=r[10],b=r[11],_=r[12],S=r[13],E=r[14],w=r[15],A=1/(s*f+i*g+o*b+w);return t[0]=(s*a+i*u+o*p+_)*A,t[1]=(s*l+i*h+o*m+S)*A,t[2]=(s*c+i*d+o*v+E)*A,t}return kf}var xf,J1;function DE(){if(J1)return xf;J1=1;var e=IE();xf=t;function t(n,r,s,i){var o=s[0],a=s[1],l=s[2],c=s[3],f=r[0],u=r[1],h=r[2];return f=f-o,u=c-u-1,u=u-a,n[0]=2*f/l-1,n[1]=2*u/c-1,n[2]=2*h-1,e(n,n,i)}return xf}const nr=Qo,Wo=Sr,{max:Gf,min:Bf,sqrt:eh,PI:FE,sin:Ri,cos:Za,atan2:Ka}=Math,kE=ME,td={limits:{minDistance:.01,maxDistance:1e4},drag:.27,EPS:1e-6,zoomToFit:{auto:!0,targets:"all",tightness:1.5},userControl:{zoom:!0,zoomSpeed:1,rotate:!0,rotateSpeed:1,pan:!0,panSpeed:1},autoRotate:{enabled:!1,speed:1},autoAdjustPlanes:!0},lv={thetaDelta:0,phiDelta:0,scale:1},xE=Object.assign({},lv,td),GE=({controls:e,camera:t},n)=>{const{EPS:r,drag:s}=e,{position:i,target:o}=t,a=e.up?e.up:t.up;let l=e.thetaDelta;const c=e.phiDelta,f=e.scale,u=nr.subtract([],i,o);let h,d;a[2]===1?(h=Ka(u[0],u[1]),d=Ka(eh(u[0]*u[0]+u[1]*u[1]),u[2])):(h=Ka(u[0],u[2]),d=Ka(eh(u[0]*u[0]+u[2]*u[2]),u[1])),e.autoRotate.enabled&&e.userControl.rotate&&(l+=2*Math.PI/60/60*e.autoRotate.speed),h+=l,d+=c,d=Gf(r,Bf(FE-r,d));const g=Gf(e.limits.minDistance,Bf(e.limits.maxDistance,nr.length(u)*f));a[2]===1?(u[0]=g*Ri(d)*Ri(h),u[2]=g*Za(d),u[1]=g*Ri(d)*Za(h)):(u[0]=g*Ri(d)*Ri(h),u[1]=g*Za(d),u[2]=g*Ri(d)*Za(h));const p=nr.add(nr.create(),o,u),m=Wo.lookAt(Wo.create(),p,o,a),v=1-Gf(Bf(s,1),.01),b=nr.distance(i,p)>.001;return{controls:{thetaDelta:l*v,phiDelta:c*v,scale:1,changed:b},camera:{position:p,view:m}}},BE=({controls:e,camera:t,speed:n=1},r)=>{let{thetaDelta:s,phiDelta:i}=e;return e.userControl.rotate&&(s+=r[0]*n,i+=r[1]*n),{controls:{thetaDelta:s,phiDelta:i},camera:t}},NE=({controls:e,camera:t,speed:n=1},r=0)=>{let{scale:s}=e;if(e.userControl.zoom&&t&&r!==void 0&&r!==0&&!isNaN(r)){const i=Math.sign(r)===0?1:Math.sign(r);r=r/r*i*n;const o=r+e.scale,a=nr.distance(t.position,t.target)*o;if(a>e.limits.minDistance&&a<e.limits.maxDistance&&(s+=r),t.projectionType==="orthographic"){const l=nr.length(nr.subtract([],t.position,t.target))*.3,c=Math.tan(t.fov)*l*t.aspect,f=Math.tan(t.fov)*l;t=Cl.setProjection(t,{width:c,height:f})}}return{controls:{scale:s},camera:t}},VE=({controls:e,camera:t,speed:n=1},r)=>{const s=DE(),{projection:i,view:o,viewport:a}=t,l=Wo.multiply([],i,o),c=Wo.invert([],l),f=[a[2],a[3],0],u=[a[2]-r[0],a[3]+r[1],0],h=s([],f,a,c),d=s([],u,a,c),g=nr.distance(t.position,t.eye),p=nr.subtract([],h,d).map(m=>m*n*g*e.scale);return{controls:e,camera:{position:nr.add(nr.create(),t.position,p),target:nr.add(nr.create(),t.target,p)}}},UE=({controls:e,camera:t,entities:n})=>{const{zoomToFit:r}=e;if(r.targets!=="all")return{controls:e,camera:t};if(n.length===0)return{controls:e,camera:t};const s=n.map(d=>d.geometry),i=kE(s),{fov:o,target:a,position:l}=t,{tightness:c}=Object.assign({},r,td.zoomToFit),f=i.dia*c/Math.tan(o/2),u=nr.distance(a,l),h=f/u;return{camera:{target:i.center},controls:{scale:h}}},$E=({controls:e,camera:t},n)=>({camera:{position:n.camera.position,target:n.camera.target,projection:Wo.perspective([],t.fov,t.aspect,t.near,t.far),view:n.camera.view},controls:{thetaDelta:n.controls.thetaDelta,phiDelta:n.controls.phiDelta,scale:n.controls.scale}});var HE={controlsProps:td,controlsState:lv,defaults:xE,update:GE,rotate:BE,zoom:NE,pan:VE,zoomToFit:UE,reset:$E};const th=Sr,Nf=Math.floor(65535/2),zE=(e,t)=>{let{color:n}=e;const r=t.sides;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=[],o=Math.floor(r.length/Nf)+1,a=(c,f)=>{i.push(c,f||c)},l=[];for(let c=0;c<o;c++){const f=c*Nf,u=Math.min(f+Nf,r.length),h=[];for(let m=f;m<u;m++){const v=r[m];if(v.color){if(i.length===0&&h.length>0){const b=h.length;for(let _=0;_<b;_++)i.push(n)}a(v.color,v.endColor)}else i.length&&a(n);h.push([v[0][0],v[0][1],0]),h.push([v[1][0],v[1][1],0])}const d=h.map(m=>[0,0,-1]),g=h.map((m,v)=>v),p=t.transforms?th.clone(t.transforms):th.create();l.push({type:"2d",positions:h,normals:d,indices:g,transforms:p,color:n,colors:i,isTransparent:s})}return l};var jE=zE;const ps=Qo,nh=Sr,qE=65535,XE=(e,t)=>{let{color:n,smoothLighting:r}=e;"color"in t&&(n=t.color);const s=t.polygons,i=t.transforms?nh.clone(t.transforms):nh.create(),o=[];let a=0;for(;a<s.length;){let l=0,c=a;for(let m=a;m<s.length&&(l+=s[m].vertices.length,!(l>qE));m++)c++;const f=[],u=[],h=[],d=[],g=n[3]<1;for(let m=a;m<c;m++){const v=s[m],b=v.vertices,_=YE(v),S=WE(v,n),E=[];for(let w=0;w<b.length;w++){const A=b[w];f.push(A),u.push(_),d.push(S);const L=f.length-1;E.push(L)}for(let w=2;w<E.length;w++)h.push([E[0],E[w-1],E[w]])}const p={type:"3d",positions:f,normals:u,indices:h,colors:d,transforms:i,isTransparent:g};o.push(p),a=c}return o},WE=(e,t)=>{let n=t;return e.color&&(n=e.color),n&&n.length<4&&n.push(1),n},YE=e=>{if(e.plane)return ps.clone(e.plane);const t=e.vertices,n=ps.create();ps.subtract(n,t[1],t[0]);const r=ps.create();ps.subtract(r,t[2],t[0]);const s=ps.create();return ps.cross(s,n,r),ps.normalize(s,s),s};var ZE=XE;const rh=Sr,Vf=Math.floor(65535/2)-2,KE=(e,t)=>{let{color:n}=e;const r=t.points;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=Math.floor(r.length/Vf)+1,o=[];for(let a=0;a<i;a++){const l=a*Vf,c=Math.min(l+Vf,r.length),f=[];let u;for(let p=l;p<c;p++){const m=r[p];u&&(f.push([u[0],u[1],0]),f.push([m[0],m[1],0])),u=m}if(a+1===i&&t.isClosed&&u){const p=r[0];f.push([u[0],u[1],0]),f.push([p[0],p[1],0])}const h=f.map(p=>[0,0,-1]),d=f.map((p,m)=>m),g=t.transforms?rh.clone(t.transforms):rh.create();o.push({type:"2d",positions:f,normals:h,indices:d,transforms:g,color:n,isTransparent:s})}return o};var QE=KE;const{flatten:JE,toArray:ew}=ed,{meshColor:tw}=kl,nw=jE,rw=ZE,sw=QE,iw=e=>e.map(n=>{const r={drawCmd:n.type==="2d"?"drawLines":"drawMesh",show:!0,transparent:n.isTransparent,useVertexColors:!0};return{geometry:n,visuals:r}}),ow=(e,...t)=>{const n={color:tw,smoothNormals:!0},{color:r,smoothNormals:s}=Object.assign({},n,e);t=JE(ew(t)),t=t.filter(o=>o&&o instanceof Object);const i=[];return t.forEach(o=>{let a=[];"sides"in o?a=nw({color:r},o):"points"in o?a=sw({color:r},o):"polygons"in o&&(a=rw({smoothLighting:s,normalThreshold:.3,color:r},o)),i.push(...iw(a))}),i};var aw=ow,gs={prepareRender:TA,drawCommands:{drawGrid:PA,drawAxis:OA,drawMesh:IA,drawLines:BA},cameras:{camera:dE,orthographic:Cl,perspective:Vu},controls:{orbit:HE},entitiesFromSolids:aw};function lw(e){let t;return{c(){t=mt("div"),gt(t,"class","svelte-1lbbz30")},m(n,r){Ee(n,t,r),e[4](t)},p:Qt,i:Qt,o:Qt,d(n){n&&Ae(t),e[4](null)}}}function cw(e,t,n){let r,s,{model:i}=t,o;const a=gs.cameras.perspective,l=gs.controls.orbit,c={controls:l.defaults,camera:{...a.defaults,position:[0,0,400]}};Yn(()=>{s.glOptions.container=o;const u=new ResizeObserver(()=>{a.setProjection(c.camera,c.camera,{width:o.clientWidth,height:o.clientHeight}),d=!0});u.observe(o);const h=gs.prepareRender(s);let d=!0;const g=()=>{if(S[0]||S[1]){const j=l.rotate({controls:c.controls,camera:c.camera,speed:v},S);n(2,c.controls={...c.controls,...j.controls},c),d=!0,S=[0,0]}if(E[0]||E[1]){const j=l.pan({controls:c.controls,camera:c.camera,speed:b},E);n(2,c.controls={...c.controls,...j.controls},c),E=[0,0],n(2,c.camera.position=j.camera.position,c),n(2,c.camera.target=j.camera.target,c),d=!0}if(w){const j=l.zoom({controls:c.controls,camera:c.camera,speed:_},w);n(2,c.controls={...c.controls,...j.controls},c),w=0,d=!0}};let p=0,m=0;const v=.002,b=1,_=.08;let S=[0,0],E=[0,0],w=0,A=!1;const L=j=>{if(!A)return;const Ie=p-j.pageX,ne=j.pageY-m;j.shiftKey===!0||j.touches&&j.touches.length>2||j.buttons==2?(E[0]+=Ie,E[1]+=ne):(S[0]-=Ie,S[1]-=ne),p=j.pageX,m=j.pageY,j.preventDefault()},U=j=>{A=!0,p=j.pageX,m=j.pageY,o.setPointerCapture(j.pointerId)},B=j=>{A=!1,o.releasePointerCapture(j.pointerId)},k=j=>{w+=j.deltaY,j.preventDefault()};n(0,o.onpointermove=L,o),n(0,o.onpointerdown=U,o),n(0,o.onpointerup=B,o),n(0,o.onwheel=k,o),n(0,o.oncontextmenu=j=>{j.preventDefault()},o);let se;const V=()=>{if(g(),d){const j=l.update({controls:c.controls,camera:c.camera});n(2,c.controls={...c.controls,...j.controls},c),d=c.controls.changed,n(2,c.camera.position=j.camera.position,c),a.update(c.camera),h(s)}se=window.requestAnimationFrame(V)};return se=window.requestAnimationFrame(V),()=>{typeof se=="number"&&window.cancelAnimationFrame(se),u.disconnect()}});function f(u){rt[u?"unshift":"push"](()=>{o=u,n(0,o)})}return e.$$set=u=>{"model"in u&&n(1,i=u.model)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=gs.entitiesFromSolids({},i)),e.$$.dirty&13&&(s={glOptions:{container:o},camera:c.camera,drawCommands:{drawAxis:gs.drawCommands.drawAxis,drawGrid:gs.drawCommands.drawGrid,drawLines:gs.drawCommands.drawLines,drawMesh:gs.drawCommands.drawMesh},entities:r})},[o,i,c,r,f]}class fw extends Yt{constructor(t){super(),Wt(this,t,cw,lw,Xt,{model:1})}}function uw(e){let t,n,r,s,i,o,a,l,c;return{c(){t=mt("h1"),t.textContent="Honeycomb Key Organizer Designer",n=pt(),r=mt("p"),r.innerHTML=`Inspired by different
    <a href="https://www.printables.com/model/12877-honeycomb-key-organizer">honeycomb key organizer
    </a>.`,s=pt(),i=mt("p"),i.innerHTML=`More details at
    <a href="https://www.printables.com/model/506546-customizable-honeycomb-key-organizer">Printables model page
    </a>.`,o=pt(),a=mt("p"),a.innerHTML=`<a href="https://github.com/zdila/honeycomb-key-organizer-designer">Source code</a>
    is on GitHub. This tool was possible thanks to technologies like
    <a href="https://openjscad.xyz/docs/">JSCAD</a>,
    <a href="https://sveltematerialui.com">Svelte</a>,
    <a href="https://sveltematerialui.com">SMUI</a>,
    <a href="https://vitejs.dev">Vite</a>,
    <a href="https://www.typescriptlang.org">TypeScript</a>,
    <a href="https://code.visualstudio.com">VS code</a>, Linux and others.`,l=pt(),c=mt("p"),c.innerHTML='Author: <a href="mailto:m.zdila@gmail.com">Martin Ždila</a>',gt(t,"class","mdc-typography--headline4"),gt(r,"class","mdc-typography--body1"),gt(i,"class","mdc-typography--body1"),gt(a,"class","mdc-typography--body1"),gt(c,"class","mdc-typography--body1")},m(f,u){Ee(f,t,u),Ee(f,n,u),Ee(f,r,u),Ee(f,s,u),Ee(f,i,u),Ee(f,o,u),Ee(f,a,u),Ee(f,l,u),Ee(f,c,u)},p:Qt,d(f){f&&Ae(t),f&&Ae(n),f&&Ae(r),f&&Ae(s),f&&Ae(i),f&&Ae(o),f&&Ae(a),f&&Ae(l),f&&Ae(c)}}}function dw(e){let t,n;return t=new Fl({props:{variant:"unelevated",$$slots:{default:[uw]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,[s]){const i={};s&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}class hw extends Yt{constructor(t){super(),Wt(this,t,null,dw,Xt,{})}}const cv=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(cv(n)):t.concat(n),[]);var yt=cv;const mw=e=>Object.assign({},e);var pw=mw;const gw=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e);var vw=gw;const bw=()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var nd=bw;const _w=nd,yw=e=>{const t=_w();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var Aw=yw;const Sw=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e);var fv=Sw;const Ew=(e,t)=>{const n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],g=t[12],p=t[13],m=t[14],v=t[15],b=n*a-r*o,_=n*l-s*o,S=n*c-i*o,E=r*l-s*a,w=r*c-i*a,A=s*c-i*l,L=f*p-u*g,U=f*m-h*g,B=f*v-d*g,k=u*m-h*p,se=u*v-d*p,V=h*v-d*m;let j=b*V-_*se+S*k+E*B-w*U+A*L;return j?(j=1/j,e[0]=(a*V-l*se+c*k)*j,e[1]=(s*se-r*V-i*k)*j,e[2]=(p*A-m*w+v*E)*j,e[3]=(h*w-u*A-d*E)*j,e[4]=(l*B-o*V-c*U)*j,e[5]=(n*V-s*B+i*U)*j,e[6]=(m*S-g*A-v*_)*j,e[7]=(f*A-h*S+d*_)*j,e[8]=(o*se-a*B+c*L)*j,e[9]=(r*B-n*se-i*L)*j,e[10]=(g*w-p*S+v*b)*j,e[11]=(u*S-f*w-d*b)*j,e[12]=(a*U-o*k-l*L)*j,e[13]=(n*k-r*U+s*L)*j,e[14]=(p*_-g*E-m*b)*j,e[15]=(f*E-u*_+h*b)*j,e):null};var ww=Ew;const Tw=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15];var Cw=Tw;const Pw=1e5,Lw=1e-5,Ow=1e-13,Rw=Math.PI*2;var Ht={EPS:Lw,NEPS:Ow,TAU:Rw,spatialResolution:Pw};const{NEPS:Mw}=Ht,uv=e=>Math.abs(e)<Mw?0:e,Iw=e=>uv(Math.sin(e)),Dw=e=>uv(Math.cos(e));var qn={sin:Iw,cos:Dw};const Fw=e=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var dv=Fw;const{EPS:kw}=Ht,{sin:xw,cos:Gw}=qn,Bw=dv,Nw=(e,t,n)=>{let[r,s,i]=n;const o=r*r+s*s+i*i;if(Math.abs(o)<kw)return Bw(e);const a=1/Math.sqrt(o);r*=a,s*=a,i*=a;const l=xw(t),c=Gw(t),f=1-c;return e[0]=r*r*f+c,e[1]=s*r*f+i*l,e[2]=i*r*f-s*l,e[3]=0,e[4]=r*s*f-i*l,e[5]=s*s*f+c,e[6]=i*s*f+r*l,e[7]=0,e[8]=r*i*f+s*l,e[9]=s*i*f-r*l,e[10]=i*i*f+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var hv=Nw;const Vw=(e,t)=>(e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var Uw=Vw;const{sin:Uf,cos:$f}=qn,$w=(e,t,n,r)=>{const s=Uf(t),i=$f(t),o=Uf(n),a=$f(n),l=Uf(r),c=$f(r);return e[0]=a*i,e[1]=a*s,e[2]=-o,e[3]=0,e[4]=l*o*i-c*s,e[5]=c*i+l*o*s,e[6]=l*a,e[7]=0,e[8]=l*s+c*o*i,e[9]=c*o*s-l*i,e[10]=c*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Hw=$w;const zw=(e,t)=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e);var jw=zw;const qw=nd,Xw=(e,t,n,r,s,i,o,a,l,c,f,u,h,d,g,p)=>{const m=qw();return m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=s,m[5]=i,m[6]=o,m[7]=a,m[8]=l,m[9]=c,m[10]=f,m[11]=u,m[12]=h,m[13]=d,m[14]=g,m[15]=p,m};var Ww=Xw;const Yw=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e);var mv=Yw;const Zw=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e);var pv=Zw;const Kw=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2];var xl=Kw;const Qw=xl,Jw=(e,t)=>{const n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2],l=Math.sqrt(n*n+r*r+s*s),c=Math.sqrt(i*i+o*o+a*a),f=l*c,u=f&&Qw(e,t)/f;return Math.acos(Math.min(Math.max(u,-1),1))};var e4=Jw;const t4=()=>[0,0,0];var Gl=t4;const n4=Gl,r4=e=>{const t=n4();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var s4=r4;const i4=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var gv=i4;const o4=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e};var Jo=o4;const a4=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)};var vv=a4;const l4=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e);var c4=l4;const f4=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var u4=f4;const d4=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e);var h4=d4;const m4=Gl,p4=(e,t,n)=>{const r=m4();return r[0]=e,r[1]=t,r[2]=n,r};var g4=p4;const v4=(e,t,n=0)=>(e[0]=t[0],e[1]=t[1],e[2]=n,e);var b4=v4;const _4=e=>{const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)};var bv=_4;const y4=(e,t,n,r)=>(e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e[2]=t[2]+r*(n[2]-t[2]),e);var A4=y4;const S4=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e);var _v=S4;const E4=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e);var yv=E4;const w4=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e);var T4=w4;const C4=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e);var P4=C4;const L4=(e,t)=>{const n=t[0],r=t[1],s=t[2];let i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i)),e[0]=n*i,e[1]=r*i,e[2]=s*i,e};var rd=L4;const O4=mv,R4=Gl,M4=Jo,I4=(e,t)=>{const n=O4(R4(),t),r=0+(n[0]<n[1]&&n[0]<n[2]),s=0+(n[1]<=n[0]&&n[1]<n[2]),i=0+(n[2]<=n[0]&&n[2]<=n[1]);return M4(e,t,[r,s,i])};var D4=I4;const F4=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[0],i[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),i[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var k4=F4;const x4=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),i[1]=s[1],i[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var G4=x4;const B4=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],i[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),i[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=t[2],e};var N4=B4;const V4=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e);var Av=V4;const U4=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e[2]=Math.round(t[2]/n)*n+0,e);var $4=U4;const H4=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s};var Sv=H4;const z4=e=>{const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};var Ev=z4;const j4=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e);var Bl=j4;const q4=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)}]`;var X4=q4;const W4=(e,t,n)=>{const r=t[0],s=t[1],i=t[2];let o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e};var Y4=W4,lt={abs:mv,add:pv,angle:e4,clone:s4,copy:gv,create:Gl,cross:Jo,distance:vv,divide:c4,dot:xl,equals:u4,fromScalar:h4,fromValues:g4,fromVec2:b4,length:bv,lerp:A4,max:_v,min:yv,multiply:T4,negate:P4,normalize:rd,orthogonal:D4,rotateX:k4,rotateY:G4,rotateZ:N4,scale:Av,snap:$4,squaredDistance:Sv,squaredLength:Ev,subtract:Bl,toString:X4,transform:Y4};const vs=lt,Z4=hv,K4=(e,t,n)=>{const r=vs.normalize(vs.create(),t),s=vs.normalize(vs.create(),n),i=vs.cross(vs.create(),s,r),o=vs.dot(s,r);if(o===-1)return Z4(e,Math.PI,vs.orthogonal(i,r));const a=1/(1+o);return e[0]=i[0]*i[0]*a+o,e[1]=i[1]*i[0]*a-i[2],e[2]=i[2]*i[0]*a+i[1],e[3]=0,e[4]=i[0]*i[1]*a+i[2],e[5]=i[1]*i[1]*a+o,e[6]=i[2]*i[1]*a-i[0],e[7]=0,e[8]=i[0]*i[2]*a-i[1],e[9]=i[1]*i[2]*a+i[0],e[10]=i[2]*i[2]*a+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Q4=K4;const{sin:J4,cos:eT}=qn,tT=(e,t)=>{const n=J4(t),r=eT(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var nT=tT;const{sin:rT,cos:sT}=qn,iT=(e,t)=>{const n=rT(t),r=sT(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var oT=iT;const{sin:aT,cos:lT}=qn,cT=(e,t)=>{const n=aT(t),r=lT(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var fT=cT;const uT=e=>e[0]===1&&e[1]===0&&e[2]===0&&e[3]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[7]===0&&e[8]===0&&e[9]===0&&e[10]===1&&e[11]===0&&e[12]===0&&e[13]===0&&e[14]===0&&e[15]===1;var dT=uT;const hT=e=>Yr(e[1])&&Yr(e[2])&&Yr(e[3])&&Yr(e[4])&&Yr(e[6])&&Yr(e[7])&&Yr(e[8])&&Yr(e[9])&&Yr(e[11])&&e[15]===1,Yr=e=>Math.abs(e)<Number.EPSILON;var mT=hT;const pT=e=>{const t=e[4]*e[9]-e[8]*e[5],n=e[8]*e[1]-e[0]*e[9],r=e[0]*e[5]-e[4]*e[1];return t*e[2]+n*e[6]+r*e[10]<0};var gT=pT;const vT=(e,t)=>{const[n,r,s,i]=t;return e[0]=1-2*n*n,e[1]=-2*r*n,e[2]=-2*s*n,e[3]=0,e[4]=-2*n*r,e[5]=1-2*r*r,e[6]=-2*s*r,e[7]=0,e[8]=-2*n*s,e[9]=-2*r*s,e[10]=1-2*s*s,e[11]=0,e[12]=2*n*i,e[13]=2*r*i,e[14]=2*s*i,e[15]=1,e};var bT=vT;const _T=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],h=t[9],d=t[10],g=t[11],p=t[12],m=t[13],v=t[14],b=t[15];let _=n[0],S=n[1],E=n[2],w=n[3];return e[0]=_*r+S*a+E*u+w*p,e[1]=_*s+S*l+E*h+w*m,e[2]=_*i+S*c+E*d+w*v,e[3]=_*o+S*f+E*g+w*b,_=n[4],S=n[5],E=n[6],w=n[7],e[4]=_*r+S*a+E*u+w*p,e[5]=_*s+S*l+E*h+w*m,e[6]=_*i+S*c+E*d+w*v,e[7]=_*o+S*f+E*g+w*b,_=n[8],S=n[9],E=n[10],w=n[11],e[8]=_*r+S*a+E*u+w*p,e[9]=_*s+S*l+E*h+w*m,e[10]=_*i+S*c+E*d+w*v,e[11]=_*o+S*f+E*g+w*b,_=n[12],S=n[13],E=n[14],w=n[15],e[12]=_*r+S*a+E*u+w*p,e[13]=_*s+S*l+E*h+w*m,e[14]=_*i+S*c+E*d+w*v,e[15]=_*o+S*f+E*g+w*b,e};var yT=_T;const{EPS:AT}=Ht,{sin:ST,cos:ET}=qn,wT=fv,TT=(e,t,n,r)=>{let[s,i,o]=r;const a=s*s+i*i+o*o;if(Math.abs(a)<AT)return wT(e,t);const l=1/Math.sqrt(a);s*=l,i*=l,o*=l;const c=ST(n),f=ET(n),u=1-f,h=t[0],d=t[1],g=t[2],p=t[3],m=t[4],v=t[5],b=t[6],_=t[7],S=t[8],E=t[9],w=t[10],A=t[11],L=s*s*u+f,U=i*s*u+o*c,B=o*s*u-i*c,k=s*i*u-o*c,se=i*i*u+f,V=o*i*u+s*c,j=s*o*u+i*c,Ie=i*o*u-s*c,ne=o*o*u+f;return e[0]=h*L+m*U+S*B,e[1]=d*L+v*U+E*B,e[2]=g*L+b*U+w*B,e[3]=p*L+_*U+A*B,e[4]=h*k+m*se+S*V,e[5]=d*k+v*se+E*V,e[6]=g*k+b*se+w*V,e[7]=p*k+_*se+A*V,e[8]=h*j+m*Ie+S*ne,e[9]=d*j+v*Ie+E*ne,e[10]=g*j+b*Ie+w*ne,e[11]=p*j+_*Ie+A*ne,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e};var CT=TT;const{sin:PT,cos:LT}=qn,OT=(e,t,n)=>{const r=PT(n),s=LT(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+h*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=h*s-l*r,e};var RT=OT;const{sin:MT,cos:IT}=qn,DT=(e,t,n)=>{const r=MT(n),s=IT(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-h*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+h*s,e};var FT=DT;const{sin:kT,cos:xT}=qn,GT=(e,t,n)=>{const r=kT(n),s=xT(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+h*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=h*s-l*r,e};var BT=GT;const NT=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};var VT=NT;const UT=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e);var $T=UT;const HT=e=>e.map(t=>t.toFixed(7)).toString();var zT=HT;const jT=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];let o,a,l,c,f,u,h,d,g,p,m,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],h=t[6],d=t[7],g=t[8],p=t[9],m=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=h,e[7]=d,e[8]=g,e[9]=p,e[10]=m,e[11]=v,e[12]=o*r+f*s+g*i+t[12],e[13]=a*r+u*s+p*i+t[13],e[14]=l*r+h*s+m*i+t[14],e[15]=c*r+d*s+v*i+t[15]),e};var qT=jT,Jt={add:vw,clone:Aw,copy:fv,create:nd,invert:ww,equals:Cw,fromRotation:hv,fromScaling:Uw,fromTaitBryanRotation:Hw,fromTranslation:jw,fromValues:Ww,fromVectorRotation:Q4,fromXRotation:nT,fromYRotation:oT,fromZRotation:fT,identity:dv,isIdentity:dT,isOnlyTransformScale:mT,isMirroring:gT,mirrorByPlane:bT,multiply:yT,rotate:CT,rotateX:RT,rotateY:FT,rotateZ:BT,scale:VT,subtract:$T,toString:zT,translate:qT};const XT=Jt,WT=e=>(e===void 0&&(e=[]),{sides:e,transforms:XT.create()});var Nl=WT;const YT=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e);var ZT=YT;const KT=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e);var QT=KT;const JT=e=>Math.atan2(e[1],e[0]);var sd=JT,eC=sd;const tC=sd,nC=e=>tC(e)*57.29577951308232;var rC=nC;const sC=()=>[0,0];var Vl=sC;const iC=Vl,oC=e=>{const t=iC();return t[0]=e[0],t[1]=e[1],t};var aC=oC;const lC=(e,t)=>(e[0]=t[0],e[1]=t[1],e);var cC=lC;const fC=(e,t,n)=>(e[0]=0,e[1]=0,e[2]=t[0]*n[1]-t[1]*n[0],e);var uC=fC;const dC=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)};var hC=dC;const mC=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e);var pC=mC;const gC=(e,t)=>e[0]*t[0]+e[1]*t[1];var vC=gC;const bC=(e,t)=>e[0]===t[0]&&e[1]===t[1];var _C=bC;const{sin:yC,cos:AC}=qn,SC=(e,t)=>(e[0]=AC(t),e[1]=yC(t),e);var wv=SC;const EC=wv,wC=(e,t)=>EC(e,t*.017453292519943295);var TC=wC;const CC=(e,t)=>(e[0]=t,e[1]=t,e);var PC=CC;const LC=Vl,OC=(e,t)=>{const n=LC();return n[0]=e,n[1]=t,n};var RC=OC;const MC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]);var IC=MC;const DC=(e,t,n,r)=>{const s=t[0],i=t[1];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e};var FC=DC;const kC=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e);var xC=kC;const GC=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e);var BC=GC;const NC=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e);var VC=NC;const UC=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e);var $C=UC;const HC=(e,t,n,r)=>{const s=t[0]-n[0],i=t[1]-n[1],o=Math.cos(r),a=Math.sin(r);return e[0]=s*o-i*a+n[0],e[1]=s*a+i*o+n[1],e};var Tv=HC;const{TAU:zC}=Ht,jC=Vl,qC=Tv,XC=(e,t)=>qC(e,t,jC(),zC/4);var WC=XC;const YC=(e,t)=>{const n=t[0],r=t[1];let s=n*n+r*r;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e};var ZC=YC;const KC=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e);var QC=KC;const JC=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e);var eP=JC;const tP=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r};var nP=tP;const rP=e=>{const t=e[0],n=e[1];return t*t+n*n};var sP=rP;const iP=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e);var oP=iP;const aP=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}]`;var lP=aP;const cP=(e,t,n)=>{const r=t[0],s=t[1];return e[0]=n[0]*r+n[4]*s+n[12],e[1]=n[1]*r+n[5]*s+n[13],e};var fP=cP,Rt={abs:ZT,add:QT,angle:eC,angleDegrees:rC,angleRadians:sd,clone:aC,copy:cC,create:Vl,cross:uC,distance:hC,divide:pC,dot:vC,equals:_C,fromAngleDegrees:TC,fromAngleRadians:wv,fromScalar:PC,fromValues:RC,length:IC,lerp:FC,max:xC,min:BC,multiply:VC,negate:$C,normal:WC,normalize:ZC,rotate:Tv,scale:QC,snap:eP,squaredDistance:nP,squaredLength:sP,subtract:oP,toString:lP,transform:fP};const Hf=Rt,uP=Nl,dP=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");let t=e.length;if(t<3)throw new Error("the given points must define a closed geometry with three or more points");Hf.equals(e[0],e[t-1])&&--t;const n=[];let r=e[t-1];for(let s=0;s<t;s++){const i=e[s];n.push([Hf.clone(r),Hf.clone(i)]),r=i}return uP(n)};var hP=dP;const mP=Jt,sh=Rt,pP=Nl,gP=e=>{if(e[0]!==0)throw new Error("invalid compact binary data");const t=pP();t.transforms=mP.clone(e.slice(1,17));for(let n=21;n<e.length;n+=4){const r=sh.fromValues(e[n+0],e[n+1]),s=sh.fromValues(e[n+2],e[n+3]);t.sides.push([r,s])}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var vP=gP;const bP=e=>!!(e&&typeof e=="object"&&"sides"in e&&"transforms"in e&&Array.isArray(e.sides)&&"length"in e.transforms);var Cv=bP;const ih=Jt,Qa=Rt,_P=e=>(ih.isIdentity(e.transforms)||(e.sides=e.sides.map(t=>{const n=Qa.transform(Qa.create(),t[0],e.transforms),r=Qa.transform(Qa.create(),t[1],e.transforms);return[n,r]}),e.transforms=ih.create()),e);var yP=_P;const AP=yP,SP=e=>AP(e).sides;var ea=SP;const EP=Nl,wP=ea,TP=e=>{const n=wP(e).map(r=>[r[1],r[0]]);return n.reverse(),EP(n)};var CP=TP;const wo=Rt,PP=ea,LP=e=>{const t=new Map,n=r=>{const s=r.toString();return t.has(s)?t.get(s):(t.set(s,r),r)};return e.map(r=>r.map(n))},OP=e=>{const t=new Map;return LP(e).forEach(r=>{t.has(r[0])?t.get(r[0]).push(r):t.set(r[0],[r])}),t},RP=e=>{const t=OP(PP(e)),n=[];for(;;){let r;for(const[o,a]of t){if(r=a.shift(),!r){t.delete(o);continue}break}if(r===void 0)break;const s=[],i=r[0];for(;;){s.push(r[0]);const o=r[1];if(o===i)break;const a=t.get(o);if(!a)throw new Error(`geometry is not closed at vertex ${o}`);const l=MP(r,a);a.length===0&&t.delete(o),r=l}s.length>0&&s.push(s.shift()),n.push(s)}return t.clear(),n},MP=(e,t)=>{if(t.length===1)return t.pop();const n=wo.create(),r=wo.angleDegrees(wo.subtract(n,e[1],e[0]));let s,i;t.forEach((a,l)=>{let f=wo.angleDegrees(wo.subtract(n,a[1],a[0]))-r;f<-180&&(f+=360),f>=180&&(f-=360),(i===void 0||f>s)&&(i=l,s=f)});const o=t[i];return t.splice(i,1),o};var Pv=RP;const IP=ea,DP=e=>{const n=IP(e).map(r=>r[0]);return n.length>0&&n.push(n.shift()),n};var FP=DP;const oh=Rt,kP=ea,xP=e=>{const t=kP(e);let n="geom2 ("+t.length+` sides):
[
`;return t.forEach(r=>{n+="  ["+oh.toString(r[0])+", "+oh.toString(r[1])+`]
`}),n+=`]
`,n};var GP=xP;const BP=e=>{const t=e.sides,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+4+t.length*4);s[0]=0,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=r[0],s[18]=r[1],s[19]=r[2],s[20]=r[3];for(let i=0;i<t.length;i++){const o=i*4+21,a=t[i][0],l=t[i][1];s[o+0]=a[0],s[o+1]=a[1],s[o+2]=l[0],s[o+3]=l[1]}return s};var NP=BP;const ah=Jt,VP=(e,t)=>{const n=ah.multiply(ah.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var UP=VP;const $P=Rt,HP=Cv,zP=Pv,jP=e=>{if(!HP(e))throw new Error("invalid geom2 structure");if(zP(e),e.sides.forEach(t=>{if($P.equals(t[0],t[1]))throw new Error(`geom2 self-edge ${t[0]}`)}),!e.transforms.every(Number.isFinite))throw new Error(`geom2 invalid transforms ${e.transforms}`)};var qP=jP,wt={clone:pw,create:Nl,fromPoints:hP,fromCompactBinary:vP,isA:Cv,reverse:CP,toOutlines:Pv,toPoints:FP,toSides:ea,toString:GP,toCompactBinary:NP,transform:UP,validate:qP};const XP=e=>Object.assign({},e);var WP=XP;const YP=Jt,ZP=e=>(e===void 0&&(e=[]),{polygons:e,transforms:YP.create()});var Ul=ZP;const KP=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var Ji=KP;const QP=Ji,JP=lt,eL=(...e)=>{let t,n;return e.length===1?(t=QP(),n=e[0]):(t=e[0],n=e[1]),t.vertices=n.vertices.map(r=>JP.clone(r)),t};var tL=eL;const nL=lt,rL=Ji,sL=e=>{const t=e.map(n=>nL.clone(n));return rL(t)};var iL=sL;const oL=Ji,aL=(e,t)=>{const n=oL(e);return n.plane=t,n};var lL=aL;const cL=()=>[0,0,0,0];var $l=cL;const fL=$l,uL=e=>{const t=fL();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};var Lv=uL;const dL=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e);var Ov=dL;const hL=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3];var Rv=hL;const mL=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e);var Mv=mL;const zf=lt,pL=(e,t,n)=>{const r=zf.normalize(zf.create(),t),s=zf.dot(n,r);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=s,e};var gL=pL;const vL=$l,bL=(e,t,n,r)=>{const s=vL();return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s};var Iv=bL;const kr=lt,_L=(e,...t)=>{const n=t.length,r=kr.create(),s=kr.create(),i=o=>{const a=t[o],l=t[(o+1)%n],c=t[(o+2)%n];return kr.subtract(r,l,a),kr.subtract(s,c,a),kr.cross(r,r,s),kr.normalize(r,r),r};return e[0]=0,e[1]=0,e[2]=0,n===3?kr.copy(e,i(0)):(t.forEach((o,a)=>{kr.add(e,e,i(a))}),kr.normalize(e,e)),e[3]=kr.dot(e,t[0]),e};var Dv=_L;const{EPS:jf}=Ht,Jn=lt,yL=(e,t,n,r)=>{let s=Jn.subtract(Jn.create(),n,t),i=Jn.subtract(Jn.create(),r,t);Jn.length(s)<jf&&(s=Jn.orthogonal(s,i)),Jn.length(i)<jf&&(i=Jn.orthogonal(i,s));let o=Jn.cross(Jn.create(),s,i);Jn.length(o)<jf&&(i=Jn.orthogonal(i,s),o=Jn.cross(o,s,i)),o=Jn.normalize(o,o);const a=Jn.dot(o,t);return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=a,e};var AL=yL;const SL=lt,EL=(e,t)=>{const n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]-e[3],r=t[0]-n*e[0],s=t[1]-n*e[1],i=t[2]-n*e[2];return SL.fromValues(r,s,i)};var wL=EL;const TL=lt,CL=(e,t)=>TL.dot(e,t)-e[3];var Fv=CL;const PL=e=>`(${e[0].toFixed(9)}, ${e[1].toFixed(9)}, ${e[2].toFixed(9)}, ${e[3].toFixed(9)})`;var kv=PL;const LL=Jt,er=lt,OL=Dv,RL=Mv,ML=(e,t,n)=>{const r=LL.isMirroring(n),s=er.orthogonal(er.create(),t),i=er.cross(s,t,s),o=er.cross(er.create(),t,i);let a=er.fromScalar(er.create(),t[3]);er.multiply(a,a,t);let l=er.add(er.create(),a,i),c=er.add(er.create(),a,o);return a=er.transform(a,a,n),l=er.transform(l,l,n),c=er.transform(c,c,n),OL(e,a,l,c),r&&RL(e,e),e};var IL=ML,Hr={clone:Lv,copy:Ov,create:$l,equals:Rv,flip:Mv,fromNormalAndPoint:gL,fromValues:Iv,fromPoints:Dv,fromPointsRandom:AL,projectionOfPoint:wL,signedDistanceToPoint:Fv,toString:kv,transform:IL};const lh=Hr,DL=Ji,FL=e=>{const t=e.vertices.slice().reverse(),n=DL(t);return e.plane&&(n.plane=lh.flip(lh.create(),e.plane)),n};var kL=FL;const xL=e=>!!(e&&typeof e=="object"&&"vertices"in e&&Array.isArray(e.vertices));var xv=xL;const ch=Hr,js=lt,GL=e=>BL(e.vertices),BL=e=>{const t=e.length;if(t>2){const n=ch.fromPoints(ch.create(),...e);let r=e[t-2],s=e[t-1];for(let i=0;i<t;i++){const o=e[i];if(!NL(r,s,o,n))return!1;r=s,s=o}}return!0},NL=(e,t,n,r)=>{const s=js.cross(js.create(),js.subtract(js.create(),t,e),js.subtract(js.create(),n,t));return js.dot(s,r)>=0};var Gv=GL;const fh=Hr,VL=e=>(e.plane||(e.plane=fh.fromPoints(fh.create(),...e.vertices)),e.plane);var id=VL;const UL=id,$L=e=>{const t=e.vertices.length;if(t<3)return 0;const n=e.vertices,r=UL(e),s=Math.abs(r[0]),i=Math.abs(r[1]),o=Math.abs(r[2]);if(s+i+o===0)return 0;let a=3;s>i&&s>o?a=1:i>o&&(a=2);let l=0,c=0,f=1,u=2;switch(a){case 1:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][1]*(n[u][2]-n[c][2]);l+=n[0][1]*(n[1][2]-n[t-1][2]),l/=2*r[0];break;case 2:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][2]*(n[u][0]-n[c][0]);l+=n[0][2]*(n[1][0]-n[t-1][0]),l/=2*r[1];break;case 3:default:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][0]*(n[u][1]-n[c][1]);l+=n[0][0]*(n[1][1]-n[t-1][1]),l/=2*r[2];break}return l};var Bv=$L;const To=lt,HL=e=>{const t=e.vertices,n=t.length,r=n===0?To.create():To.clone(t[0]),s=To.clone(r);for(let i=1;i<n;i++)To.min(r,r,t[i]),To.max(s,s,t[i]);return[r,s]};var zL=HL;const jL=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];var qL=jL;const XL=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e[3]=t,e);var WL=XL;const YL=(e,t,n)=>{const[r,s,i,o]=t;return e[0]=n[0]*r+n[4]*s+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*s+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*s+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*s+n[11]*i+n[15]*o,e};var ZL=YL,Nv={clone:Lv,copy:Ov,create:$l,dot:qL,equals:Rv,fromScalar:WL,fromValues:Iv,toString:kv,transform:ZL};const KL=Nv,uh=new WeakMap,QL=e=>{let t=uh.get(e);if(t)return t;const n=e.vertices,r=KL.create();if(n.length===0)return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r;let s=n[0],i=s,o=s,a=s,l=s,c=s;n.forEach(d=>{s[0]>d[0]&&(s=d),i[1]>d[1]&&(i=d),o[2]>d[2]&&(o=d),a[0]<d[0]&&(a=d),l[1]<d[1]&&(l=d),c[2]<d[2]&&(c=d)}),r[0]=(s[0]+a[0])*.5,r[1]=(i[1]+l[1])*.5,r[2]=(o[2]+c[2])*.5;const f=r[0]-a[0],u=r[1]-l[1],h=r[2]-c[2];return r[3]=Math.sqrt(f*f+u*u+h*h),uh.set(e,r),r};var JL=QL;const qf=lt,eO=e=>{let t=0;const n=e.vertices,r=qf.create();for(let s=0;s<n.length-2;s++)qf.cross(r,n[s+1],n[s+2]),t+=qf.dot(n[0],r);return t/=6,t};var tO=eO;const nO=e=>e.vertices;var rO=nO;const sO=lt,iO=e=>{let t="poly3: vertices: [";return e.vertices.forEach(n=>{t+=`${sO.toString(n)}, `}),t+="]",t};var oO=iO;const aO=Jt,dh=lt,lO=Ji,cO=(e,t)=>{const n=t.vertices.map(r=>dh.transform(dh.create(),r,e));return aO.isMirroring(e)&&n.reverse(),lO(n)};var fO=cO;const uO=Fv,{NEPS:dO}=Ht,hO=lt,mO=xv,pO=Gv,gO=Bv,vO=id,bO=e=>{if(!mO(e))throw new Error("invalid poly3 structure");if(e.vertices.length<3)throw new Error(`poly3 not enough vertices ${e.vertices.length}`);if(gO(e)<=0)throw new Error("poly3 area must be greater than zero");for(let t=0;t<e.vertices.length;t++)if(hO.equals(e.vertices[t],e.vertices[(t+1)%e.vertices.length]))throw new Error(`poly3 duplicate vertex ${e.vertices[t]}`);if(!pO(e))throw new Error("poly3 must be convex");if(e.vertices.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`poly3 invalid vertex ${t}`)}),e.vertices.length>3){const t=vO(e);e.vertices.forEach(n=>{const r=Math.abs(uO(t,n));if(r>dO)throw new Error(`poly3 must be coplanar: vertex ${n} distance ${r}`)})}};var _O=bO,Ut={clone:tL,create:Ji,fromPoints:iL,fromPointsAndPlane:lL,invert:kL,isA:xv,isConvex:Gv,measureArea:Bv,measureBoundingBox:zL,measureBoundingSphere:JL,measureSignedVolume:tO,plane:id,toPoints:rO,toString:oO,transform:fO,validate:_O};const yO=Ut,AO=Ul,SO=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const t=e.map((r,s)=>yO.create(r));return AO(t)};var EO=SO;const wO=lt,TO=Jt,CO=Ut,PO=Ul,LO=e=>{if(e[0]!==1)throw new Error("invalid compact binary data");const t=PO();t.transforms=TO.clone(e.slice(1,17));const n=e[21];let r=22,s=e.length-n*3;for(;s<e.length;){const i=e[r];r++;const o=[];for(let a=0;a<i;a++)o.push(wO.fromValues(e[s],e[s+1],e[s+2])),s+=3;t.polygons.push(CO.create(o))}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var OO=LO;const hh=Jt,RO=Ut,MO=e=>(hh.isIdentity(e.transforms)||(e.polygons=e.polygons.map(t=>RO.transform(e.transforms,t)),e.transforms=hh.create()),e);var IO=MO;const DO=IO,FO=e=>DO(e).polygons;var Hl=FO;const kO=Ut,xO=Ul,GO=Hl,BO=e=>{const n=GO(e).map(r=>kO.invert(r));return xO(n)};var NO=BO;const VO=e=>!!(e&&typeof e=="object"&&"polygons"in e&&"transforms"in e&&Array.isArray(e.polygons)&&"length"in e.transforms);var Vv=VO;const UO=Ut,$O=Hl,HO=e=>$O(e).map(r=>UO.toPoints(r));var zO=HO;const jO=Ut,qO=Hl,XO=e=>{const t=qO(e);let n="geom3 ("+t.length+` polygons):
`;return t.forEach(r=>{n+="  "+jO.toString(r)+`
`}),n};var WO=XO;const YO=Ut,ZO=e=>{const t=e.polygons,n=e.transforms,r=t.length,s=t.reduce((c,f)=>c+f.vertices.length,0);let i=[-1,-1,-1,-1];e.color&&(i=e.color);const o=new Float32Array(1+16+4+1+r+s*3);o[0]=1,o[1]=n[0],o[2]=n[1],o[3]=n[2],o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=n[6],o[8]=n[7],o[9]=n[8],o[10]=n[9],o[11]=n[10],o[12]=n[11],o[13]=n[12],o[14]=n[13],o[15]=n[14],o[16]=n[15],o[17]=i[0],o[18]=i[1],o[19]=i[2],o[20]=i[3],o[21]=s;let a=22,l=a+r;return t.forEach(c=>{const f=YO.toPoints(c);o[a]=f.length,a++;for(let u=0;u<f.length;u++){const h=f[u];o[l+0]=h[0],o[l+1]=h[1],o[l+2]=h[2],l+=3}}),o};var KO=ZO;const mh=Jt,QO=(e,t)=>{const n=mh.multiply(mh.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var JO=QO;const e8=Ut,t8=Vv,n8=e=>{if(!t8(e))throw new Error("invalid geom3 structure");if(e.polygons.forEach(e8.validate),r8(e),!e.transforms.every(Number.isFinite))throw new Error(`geom3 invalid transforms ${e.transforms}`)},r8=e=>{const t=new Map;e.polygons.forEach(({vertices:r})=>{r.forEach((s,i)=>{const o=`${s}`,a=`${r[(i+1)%r.length]}`,l=`${o}/${a}`,c=t.has(l)?t.get(l):0;t.set(l,c+1)})});const n=[];if(t.forEach((r,s)=>{const i=s.split("/").reverse().join("/"),o=t.get(i);r!==o&&n.push(s.replace("/"," -> "))}),n.length>0)throw new Error(`non-manifold edges ${n.length}
${n.join(`
`)}`)};var s8=n8,Lt={clone:WP,create:Ul,fromPoints:EO,fromCompactBinary:OO,invert:NO,isA:Vv,toPoints:zO,toPolygons:Hl,toString:WO,toCompactBinary:KO,transform:JO,validate:s8};const i8=e=>Object.assign({},e);var od=i8;const{EPS:ph}=Ht,o8=Rt,a8=od,l8=e=>{if(e.isClosed)return e;const t=a8(e);if(t.isClosed=!0,t.points.length>1){const n=t.points,r=n[0];let s=n[n.length-1];for(;o8.distance(r,s)<ph*ph&&(n.pop(),n.length!==1);)s=n[n.length-1]}return t};var Uv=l8;const c8=Jt,f8=e=>(e===void 0&&(e=[]),{points:e,isClosed:!1,transforms:c8.create()});var zl=f8;const{EPS:gh}=Ht,vh=Rt,u8=Uv,d8=zl,h8=(e,t)=>{const n={closed:!1};let{closed:r}=Object.assign({},n,e),s=d8();if(s.points=t.map(i=>vh.clone(i)),s.points.length>1){const i=s.points[0],o=s.points[s.points.length-1];vh.distance(i,o)<gh*gh&&(r=!0)}return r===!0&&(s=u8(s)),s};var ad=h8;const bh=Jt,_h=Rt,m8=e=>(bh.isIdentity(e.transforms)||(e.points=e.points.map(t=>_h.transform(_h.create(),t,e.transforms)),e.transforms=bh.create()),e);var p8=m8;const g8=p8,v8=e=>g8(e).points;var eo=v8;const{TAU:Ja}=Ht,Fn=Rt,b8=ad,_8=eo,y8=(e,t)=>{const n={radius:[0,0],xaxisrotation:0,clockwise:!1,large:!1,segments:16};let{endpoint:r,radius:s,xaxisrotation:i,clockwise:o,large:a,segments:l}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("endpoint must be an array of X and Y values");if(r.length<2)throw new Error("endpoint must contain X and Y values");if(r=Fn.clone(r),!Array.isArray(s))throw new Error("radius must be an array of X and Y values");if(s.length<2)throw new Error("radius must contain X and Y values");if(l<4)throw new Error("segments must be four or more");const c=1e5;if(t.isClosed)throw new Error("the given path cannot be closed");const f=_8(t);if(f.length<1)throw new Error("the given path must contain one or more points (as the starting point for the arc)");let u=s[0],h=s[1];const d=f[f.length-1];u=Math.round(u*c)/c,h=Math.round(h*c)/c,r=Fn.fromValues(Math.round(r[0]*c)/c,Math.round(r[1]*c)/c);const g=!o;let p=[];if(u===0||h===0)p.push(r);else{u=Math.abs(u),h=Math.abs(h);const v=i,b=Math.cos(v),_=Math.sin(v),S=Fn.subtract(Fn.create(),d,r);Fn.scale(S,S,.5);const E=Math.round((b*S[0]+_*S[1])*c)/c,w=Math.round((-_*S[0]+b*S[1])*c)/c,A=Fn.fromValues(E,w),L=A[0]*A[0]/(u*u)+A[1]*A[1]/(h*h);if(L>1){const fe=Math.sqrt(L);u*=fe,h*=fe,u=Math.round(u*c)/c,h=Math.round(h*c)/c}let U=Math.sqrt((u*u*h*h-u*u*A[1]*A[1]-h*h*A[0]*A[0])/(u*u*A[1]*A[1]+h*h*A[0]*A[0]));g===a&&(U=-U);const B=Fn.fromValues(u*A[1]/h,-h*A[0]/u);Fn.scale(B,B,U);let k=Fn.fromValues(b*B[0]-_*B[1],_*B[0]+b*B[1]);k=Fn.add(k,k,Fn.scale(Fn.create(),Fn.add(Fn.create(),d,r),.5));const se=Fn.fromValues((A[0]-B[0])/u,(A[1]-B[1])/h),V=Fn.fromValues((-A[0]-B[0])/u,(-A[1]-B[1])/h),j=Fn.angleRadians(se);let ne=Fn.angleRadians(V)-j;ne=ne%Ja,!g&&ne>0?ne-=Ja:g&&ne<0&&(ne+=Ja);let H=Math.ceil(Math.abs(ne)/Ja*l)+1;H<1&&(H=1);for(let fe=1;fe<H;fe++){const J=j+fe/H*ne,ve=Math.cos(J),kt=Math.sin(J),xe=Fn.fromValues(b*u*ve-_*h*kt,_*u*ve+b*h*kt);Fn.add(xe,xe,k),p.push(xe)}H&&p.push(e.endpoint)}return p=f.concat(p),b8({},p)};var A8=y8;const S8=ad,E8=eo,{equals:w8}=Rt,T8=(...e)=>{let t=!1,n=[];return e.forEach((r,s)=>{const i=E8(r).slice();if(n.length>0&&i.length>0&&w8(i[0],n[n.length-1])&&i.shift(),i.length>0&&t)throw new Error(`Cannot concatenate to a closed path; check the ${s}th path`);t=r.isClosed,n=n.concat(i)}),S8({closed:t},n)};var $v=T8;const C8=$v,P8=zl,L8=(e,t)=>C8(t,P8(e));var Hv=L8;const{TAU:O8}=Ht,mr=Rt,R8=Rt,M8=Hv,I8=eo,D8=(e,t)=>{const n={segments:16};let{controlPoints:r,segments:s}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("controlPoints must be an array of one or more points");if(r.length<1)throw new Error("controlPoints must be an array of one or more points");if(s<4)throw new Error("segments must be four or more");if(t.isClosed)throw new Error("the given geometry cannot be closed");const i=I8(t);if(i.length<1)throw new Error("the given path must contain one or more points (as the starting point for the bezier curve)");if(r=r.slice(),r[0]===null){if(r.length<2)throw new Error("a null control point must be passed with one more control points");let w=i[i.length-2];if("lastBezierControlPoint"in t&&(w=t.lastBezierControlPoint),!Array.isArray(w))throw new Error("the given path must contain TWO or more points if given a null control point");const A=mr.scale(mr.create(),i[i.length-1],2);mr.subtract(A,A,w),r[0]=A}r.unshift(i[i.length-1]);const a=r.length-1,l=[];let c=1;for(let w=0;w<=a;++w)w>0&&(c*=w),l.push(c);const f=[];for(let w=0;w<=a;++w){const A=l[a]/(l[w]*l[a-w]);f.push(A)}const u=mr.create(),h=mr.create(),d=R8.create(),g=w=>{let A=1,L=Math.pow(1-w,a);const U=w!==1?1/(1-w):1,B=mr.create();for(let k=0;k<=a;++k){k===a&&(L=1);const se=f[k]*A*L,V=mr.scale(u,r[k],se);mr.add(B,B,V),A*=w,L*=U}return B},p=[],m=[],v=a+1;for(let w=0;w<v;++w){const A=w/(v-1),L=g(A);p.push(L),m.push(A)}let b=1;const _=O8/s,S=Math.sin(_);for(;b<p.length-1;){const w=mr.subtract(u,p[b],p[b-1]);mr.normalize(w,w);const A=mr.subtract(h,p[b+1],p[b]);mr.normalize(A,A);const L=mr.cross(d,w,A);if(Math.abs(L[2])>S){const U=m[b-1],B=m[b+1],k=U+(B-U)*1/3,se=U+(B-U)*2/3,V=g(k),j=g(se);p.splice(b,1,V,j),m.splice(b,1,k,se),b--,b<1&&(b=1)}else++b}p.shift();const E=M8(p,t);return E.lastBezierControlPoint=r[r.length-2],E};var F8=D8;const k8=Rt,yh=eo,x8=(e,t)=>{if(e.isClosed!==t.isClosed||e.points.length!==t.points.length)return!1;const n=yh(e),r=yh(t),s=n.length;let i=0;do{let o=!1;for(let a=0;a<s;a++)if(!k8.equals(n[a],r[(a+i)%s])){o=!0;break}if(o===!1)return!0;if(!e.isClosed)return!1}while(++i<s);return!1};var G8=x8;const B8=Jt,N8=Rt,V8=zl,U8=e=>{if(e[0]!==2)throw new Error("invalid compact binary data");const t=V8();t.transforms=B8.clone(e.slice(1,17)),t.isClosed=!!e[17];for(let n=22;n<e.length;n+=2){const r=N8.fromValues(e[n],e[n+1]);t.points.push(r)}return e[18]>=0&&(t.color=[e[18],e[19],e[20],e[21]]),t};var $8=U8;const H8=e=>!!(e&&typeof e=="object"&&"points"in e&&"transforms"in e&&"isClosed"in e&&Array.isArray(e.points)&&"length"in e.transforms);var zv=H8;const z8=od,j8=e=>{const t=z8(e);return t.points=e.points.slice().reverse(),t};var q8=j8;const X8=Rt,W8=eo,Y8=e=>{const t=W8(e);let n="path ("+t.length+" points, "+e.isClosed+`):
[
`;return t.forEach(r=>{n+="  "+X8.toString(r)+`,
`}),n+=`]
`,n};var Z8=Y8;const K8=e=>{const t=e.points,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+1+4+t.length*2);s[0]=2,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=e.isClosed?1:0,s[18]=r[0],s[19]=r[1],s[20]=r[2],s[21]=r[3];for(let i=0;i<t.length;i++){const o=i*2+22,a=t[i];s[o]=a[0],s[o+1]=a[1]}return s};var Q8=K8;const Ah=Jt,J8=(e,t)=>{const n=Ah.multiply(Ah.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var eR=J8;const tR=Rt,nR=zv,rR=e=>{if(!nR(e))throw new Error("invalid path2 structure");if(e.points.length>1){for(let t=0;t<e.points.length;t++)if(tR.equals(e.points[t],e.points[(t+1)%e.points.length]))throw new Error(`path2 duplicate points ${e.points[t]}`)}if(e.points.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`path2 invalid point ${t}`)}),!e.transforms.every(Number.isFinite))throw new Error(`path2 invalid transforms ${e.transforms}`)};var sR=rR,Zt={appendArc:A8,appendBezier:F8,appendPoints:Hv,clone:od,close:Uv,concat:$v,create:zl,equals:G8,fromPoints:ad,fromCompactBinary:$8,isA:zv,reverse:q8,toPoints:eo,toString:Z8,toCompactBinary:Q8,transform:eR,validate:sR};const iR=yt,jv=wt,qv=Lt,Xv=Zt,Wv=Ut,oR=(e,t)=>{const n=jv.clone(t);return n.color=e,n},aR=(e,t)=>{const n=qv.clone(t);return n.color=e,n},lR=(e,t)=>{const n=Xv.clone(t);return n.color=e,n},cR=(e,t)=>{const n=Wv.clone(t);return n.color=e,n},fR=(e,...t)=>{if(!Array.isArray(e))throw new Error("color must be an array");if(e.length<3)throw new Error("color must contain R, G and B values");if(e.length===3&&(e=[e[0],e[1],e[2],1]),t=iR(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>jv.isA(r)?oR(e,r):qv.isA(r)?aR(e,r):Xv.isA(r)?lR(e,r):Wv.isA(r)?cR(e,r):(r.color=e,r));return n.length===1?n[0]:n};var uR=fR;const dR={black:[0/255,0/255,0/255],silver:[192/255,192/255,192/255],gray:[128/255,128/255,128/255],white:[255/255,255/255,255/255],maroon:[128/255,0/255,0/255],red:[255/255,0/255,0/255],purple:[128/255,0/255,128/255],fuchsia:[255/255,0/255,255/255],green:[0/255,128/255,0/255],lime:[0/255,255/255,0/255],olive:[128/255,128/255,0/255],yellow:[255/255,255/255,0/255],navy:[0/255,0/255,128/255],blue:[0/255,0/255,255/255],teal:[0/255,128/255,128/255],aqua:[0/255,255/255,255/255],aliceblue:[240/255,248/255,255/255],antiquewhite:[250/255,235/255,215/255],aquamarine:[127/255,255/255,212/255],azure:[240/255,255/255,255/255],beige:[245/255,245/255,220/255],bisque:[255/255,228/255,196/255],blanchedalmond:[255/255,235/255,205/255],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,255/255,0/255],chocolate:[210/255,105/255,30/255],coral:[255/255,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[255/255,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0/255,255/255,255/255],darkblue:[0/255,0/255,139/255],darkcyan:[0/255,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0/255,100/255,0/255],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0/255,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[255/255,140/255,0/255],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0/255,0/255],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0/255,206/255,209/255],darkviolet:[148/255,0/255,211/255],deeppink:[255/255,20/255,147/255],deepskyblue:[0/255,191/255,255/255],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,255/255],firebrick:[178/255,34/255,34/255],floralwhite:[255/255,250/255,240/255],forestgreen:[34/255,139/255,34/255],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,255/255],gold:[255/255,215/255,0/255],goldenrod:[218/255,165/255,32/255],greenyellow:[173/255,255/255,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,255/255,240/255],hotpink:[255/255,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0/255,130/255],ivory:[255/255,255/255,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[255/255,240/255,245/255],lawngreen:[124/255,252/255,0/255],lemonchiffon:[255/255,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,255/255,255/255],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[255/255,182/255,193/255],lightsalmon:[255/255,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[255/255,255/255,224/255],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[255/255,0/255,255/255],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0/255,0/255,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0/255,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,255/255,250/255],mistyrose:[255/255,228/255,225/255],moccasin:[255/255,228/255,181/255],navajowhite:[255/255,222/255,173/255],oldlace:[253/255,245/255,230/255],olivedrab:[107/255,142/255,35/255],orange:[255/255,165/255,0/255],orangered:[255/255,69/255,0/255],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[255/255,239/255,213/255],peachpuff:[255/255,218/255,185/255],peru:[205/255,133/255,63/255],pink:[255/255,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[255/255,245/255,238/255],sienna:[160/255,82/255,45/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[255/255,250/255,250/255],springgreen:[0/255,255/255,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],thistle:[216/255,191/255,216/255],tomato:[255/255,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],whitesmoke:[245/255,245/255,245/255],yellowgreen:[154/255,205/255,50/255]};var Yv=dR;const hR=Yv,mR=e=>hR[e.toLowerCase()];var pR=mR;const gR=e=>{if(e=e.replace("#",""),e.length<6)throw new Error("the given notation must contain 3 or more hex values");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255;if(e.length>=8){const s=parseInt(e.substring(6,8),16)/255;return[t,n,r,s]}return[t,n,r]};var vR=gR;const bR=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e);var Zv=bR;const _R=yt,Xf=Zv,yR=(...e)=>{if(e=_R(e),e.length<3)throw new Error("values must contain H, S and L values");const t=e[0],n=e[1],r=e[2];let s=r,i=r,o=r;if(n!==0){const a=r<.5?r*(1+n):r+n-r*n,l=2*r-a;s=Xf(l,a,t+1/3),i=Xf(l,a,t),o=Xf(l,a,t-1/3)}if(e.length>3){const a=e[3];return[s,i,o,a]}return[s,i,o]};var AR=yR;const SR=yt,ER=(...e)=>{if(e=SR(e),e.length<3)throw new Error("values must contain H, S and V values");const t=e[0],n=e[1],r=e[2];let s=0,i=0,o=0;const a=Math.floor(t*6),l=t*6-a,c=r*(1-n),f=r*(1-l*n),u=r*(1-(1-l)*n);switch(a%6){case 0:s=r,i=u,o=c;break;case 1:s=f,i=r,o=c;break;case 2:s=c,i=r,o=u;break;case 3:s=c,i=f,o=r;break;case 4:s=u,i=c,o=r;break;case 5:s=r,i=c,o=f;break}if(e.length>3){const h=e[3];return[s,i,o,h]}return[s,i,o]};var wR=ER;const TR=yt,CR=(...e)=>{if(e=TR(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0]*255,n=e[1]*255,r=e[2]*255;let s=`#${Number(16777216+t*65536+n*256+r).toString(16).substring(1,7)}`;return e.length>3&&(s=s+Number(e[3]*255).toString(16)),s};var PR=CR;const LR=yt,OR=(...e)=>{if(e=LR(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o,a;const l=(s+i)/2;if(s===i)o=a=0;else{const c=s-i;switch(a=l>.5?c/(2-s-i):c/(s+i),s){case t:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-t)/c+2;break;case r:o=(t-n)/c+4;break}o/=6}if(e.length>3){const c=e[3];return[o,a,l,c]}return[o,a,l]};var RR=OR;const MR=yt,IR=(...e)=>{if(e=MR(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o;const a=s,l=s-i,c=s===0?0:l/s;if(s===i)o=0;else{switch(s){case t:o=(n-r)/l+(n<r?6:0);break;case n:o=(r-t)/l+2;break;case r:o=(t-n)/l+4;break}o/=6}if(e.length>3){const f=e[3];return[o,c,a,f]}return[o,c,a]};var DR=IR,FR={colorize:uR,colorNameToRgb:pR,cssColors:Yv,hexToRgb:vR,hslToRgb:AR,hsvToRgb:wR,hueToColorComponent:Zv,rgbToHex:PR,rgbToHsl:RR,rgbToHsv:DR};const kR=e=>{if(!Array.isArray(e))throw new Error("Bezier points must be a valid array/");if(e.length<2)throw new Error("Bezier points must contain at least 2 values.");const t=xR(e);return{points:e,pointType:t,dimensions:t==="float_single"?0:e[0].length,permutations:Sh(e.length-1),tangentPermutations:Sh(e.length-2)}},xR=function(e){let t=null;return e.forEach(n=>{let r="";if(Number.isFinite(n))r="float_single";else if(Array.isArray(n))n.forEach(s=>{if(!Number.isFinite(s))throw new Error("Bezier point values must all be numbers.")}),r="float_"+n.length;else throw new Error("Bezier points must all be numbers or arrays of number.");if(t==null)t=r;else if(t!==r)throw new Error("Bezier points must be either all numbers or all arrays of numbers of the same size.")}),t},Sh=function(e){const t=[];for(let n=0;n<=e;n++)t.push(Wf(e)/(Wf(n)*Wf(e-n)));return t},Wf=function(e){let t=1;for(let n=2;n<=e;n++)t*=n;return t};var GR=kR;const BR=(e,t)=>{if(e<0||e>1)throw new Error("Bezier valueAt() input must be between 0 and 1");if(t.pointType==="float_single")return Eh(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(Eh(t,s,e))}return n}},Eh=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<=r;i++)s+=e.permutations[i]*Math.pow(1-n,r-i)*Math.pow(n,i)*t[i];return s};var Kv=BR;const NR=(e,t)=>{if(e<0||e>1)throw new Error("Bezier tangentAt() input must be between 0 and 1");if(t.pointType==="float_single")return wh(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(wh(t,s,e))}return n}},wh=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<r;i++){const o=r*(t[i+1]-t[i]);s+=e.tangentPermutations[i]*Math.pow(1-n,r-1-i)*Math.pow(n,i)*o}return s};var VR=NR;const Th=Kv,UR=(e,t)=>{let n=0,r=[0],s=Th(0,t);for(let i=1;i<=e;i++){const o=Th(i/e,t);n+=$R(o,s),r.push(n),s=o}return r},$R=(e,t)=>{if(Number.isFinite(e)&&Number.isFinite(t))return Math.abs(e-t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)throw new Error("The operands must have the same number of dimensions.");let n=0;for(let r=0;r<e.length;r++)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)}else throw new Error("The operands must be of the same type, either number or array.")};var ld=UR;const HR=ld,zR=(e,t)=>HR(e,t)[e];var jR=zR;const qR=ld,XR=(e,t)=>{const n={distance:0,segments:100},{distance:r,segments:s}=Object.assign({},n,e),i=qR(s,t);let o=0,a=s;for(;o<=a;){const d=Math.floor(o+(a-o)/2),g=i[d]-r;if(g<0)o=d+1;else if(g>0)a=d-1;else{a=d;break}}const l=a;if(i[l]===r)return l/s;const c=i[l],u=i[l+1]-c,h=(r-c)/u;return(l+h)/s};var WR=XR,YR={create:GR,valueAt:Kv,tangentAt:VR,lengths:ld,length:jR,arcLengthToT:WR},ZR={bezier:YR};const KR=e=>{let t=0;for(let n=0;n<e.length;n++){const r=(n+1)%e.length;t+=e[n][0]*e[r][1],t-=e[r][0]*e[n][1]}return t/2};var jl=KR;const QR=jl,JR=e=>QR(e.vertices);var Qv=JR;const e6=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var Jv=e6;const t6=Jv,n6=e=>{const t=e.vertices.slice().reverse();return t6(t)};var e2=n6;const r6=Qv,s6=e2,i6=(e,t)=>{if(e.length===0)return 0;const n=t.vertices;return n.length<3?0:(r6(t)<0&&(t=s6(t)),e.reduce((s,i)=>s+o6(i,n),0)===e.length?1:0)},o6=(e,t)=>{const n=t.length,r=e[0],s=e[1];let i=t[n-1],o=t[0],a=i[1]>s,l=0,c=0;for(let f=n+1;--f;){const u=o[1]>s;if(a!==u){const h=i[0]>r,d=o[0]>r;(h&&d||o[0]-(o[1]-s)*(i[0]-o[0])/(i[1]-o[1])>=r)&&(l=!l)}a=u,i=o,o=t[++c]}return l};var a6=i6,cd={arePointsInside:a6,create:Jv,flip:e2,measureArea:Qv},fd={geom2:wt,geom3:Lt,path2:Zt,poly2:cd,poly3:Ut};const l6=()=>[0,1,0];var ud=l6;const c6=ud,f6=e=>{const t=c6();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var u6=f6;const Yf=Rt,d6=e=>{const t=Yf.normal(Yf.create(),e);return Yf.negate(t,t),t};var dd=d6;const Ch=Rt,h6=e=>Ch.scale(Ch.create(),e,e[2]);var ql=h6;const Co=Rt,m6=dd,p6=ql,g6=(e,t)=>{const n=p6(e),r=m6(e),s=Co.subtract(Co.create(),t,n),i=Co.dot(s,r);return Co.scale(s,r,i),Co.add(s,s,n),s};var v6=g6;const b6=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var t2=b6;const _6=Rt,y6=(e,t)=>{let n=_6.dot(t,e);return n=Math.abs(n-e[2]),n};var A6=y6;const S6=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var E6=S6;const Po=Rt,w6=(e,t,n)=>{const r=Po.subtract(Po.create(),n,t);Po.normal(r,r),Po.normalize(r,r);const s=Po.dot(t,r);return e[0]=r[0],e[1]=r[1],e[2]=s,e};var n2=w6;const T6=ud,C6=(e,t,n)=>{const r=T6();return r[0]=e,r[1]=t,r[2]=n,r};var r2=C6;const{NEPS:Zf}=Ht,P6=(e,t)=>Math.abs(e[0]-t[0])<=Zf&&Math.abs(e[1]-t[1])<=Zf&&Math.abs(e[2]-t[2])<=Zf;var Xl=P6;const L6=(e,t,n)=>{let r=n-e[1],s=t[1]-e[1];s<0&&(r=-r,s=-s);let i;return r<=0?i=0:r>=s?i=1:s<1e-10?i=.5:i=r/s,e[0]+i*(t[0]-e[0])};var s2=L6;const O6=(e,t,n,r)=>{if(e[0]===t[0]&&e[1]===t[1]||n[0]===r[0]&&n[1]===r[1])return;const s=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(Math.abs(s)<Number.MIN_VALUE)return;const i=((r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]))/s,o=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/s;if(i<0||i>1||o<0||o>1)return;const a=e[0]+i*(t[0]-e[0]),l=e[1]+i*(t[1]-e[1]);return[a,l]};var i2=O6;const R6=(e,t,n,r,s,i)=>{const a=1/(e*r-t*n);let l=s*r-t*i,c=-s*n+e*i;return l*=a,c*=a,[l,c]};var M6=R6,ta={aboutEqualNormals:Xl,area:jl,cos:qn.cos,interpolateBetween2DPointsForY:s2,intersect:i2,sin:qn.sin,solve2Linear:M6};const I6=Rt,{solve2Linear:D6}=ta,F6=(e,t)=>{const n=D6(e[0],e[1],t[0],t[1],e[2],t[2]);return I6.clone(n)};var k6=F6;const Ph=Rt,x6=t2,G6=r2,B6=(e,t)=>{const n=Ph.negate(Ph.create(),t),r=-t[2];return x6(e,G6(n[0],n[1],r))};var N6=B6;const V6=e=>`line2: (${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)})`;var U6=V6;const Lh=Rt,$6=n2,H6=ql,z6=dd,j6=(e,t,n)=>{const r=H6(t),s=z6(t);return Lh.transform(r,r,n),Lh.transform(s,s,n),$6(e,r,s)};var q6=j6;const X6=ql,W6=(e,t)=>{let n=(e[2]-e[1]*t)/e[0];return Number.isNaN(n)&&(n=X6(e)[0]),n};var Y6=W6,hd={clone:u6,closestPoint:v6,copy:t2,create:ud,direction:dd,distanceToPoint:A6,equals:E6,fromPoints:n2,fromValues:r2,intersectPointOfLines:k6,origin:ql,reverse:N6,toString:U6,transform:q6,xAtY:Y6};const Oh=lt,Z6=()=>[Oh.fromValues(0,0,0),Oh.fromValues(0,0,1)];var o2=Z6;const Rh=lt,K6=o2,Q6=e=>{const t=K6();return Rh.copy(t[0],e[0]),Rh.copy(t[1],e[1]),t};var J6=Q6;const qs=lt,eM=(e,t)=>{const n=e[0],r=e[1],s=qs.dot(qs.subtract(qs.create(),t,n),r),i=qs.dot(r,r),o=s/i,a=qs.scale(qs.create(),r,o);return qs.add(a,a,n),a};var a2=eM;const Mh=lt,tM=(e,t)=>(Mh.copy(e[0],t[0]),Mh.copy(e[1],t[1]),e);var nM=tM;const rM=e=>e[1];var sM=rM;const Kf=lt,iM=a2,oM=(e,t)=>{const n=iM(e,t),r=Kf.subtract(Kf.create(),t,n);return Kf.length(r)};var aM=oM;const Ih=lt,lM=(e,t)=>!(!Ih.equals(e[1],t[1])||!Ih.equals(e[0],t[0]));var cM=lM;const el=lt,fM=(e,t,n)=>{const r=el.normalize(el.create(),n);return el.copy(e[0],t),el.copy(e[1],r),e};var na=fM;const Xs=lt,{solve2Linear:Qf}=ta,{EPS:uM}=Ht,dM=na,hM=(e,t,n)=>{let r=Xs.cross(Xs.create(),t,n),s=Xs.length(r);if(s<uM)throw new Error("parallel planes do not intersect");s=1/s,r=Xs.scale(r,r,s);const i=Math.abs(r[0]),o=Math.abs(r[1]),a=Math.abs(r[2]);let l,c;return i>=o&&i>=a?(c=Qf(t[1],t[2],n[1],n[2],t[3],n[3]),l=Xs.fromValues(0,c[0],c[1])):o>=i&&o>=a?(c=Qf(t[0],t[2],n[0],n[2],t[3],n[3]),l=Xs.fromValues(c[0],0,c[1])):(c=Qf(t[0],t[1],n[0],n[1],t[3],n[3]),l=Xs.fromValues(c[0],c[1],0)),dM(e,l,r)};var mM=hM;const Dh=lt,pM=na,gM=(e,t,n)=>{const r=Dh.subtract(Dh.create(),n,t);return pM(e,t,r)};var vM=gM;const Mi=lt,bM=(e,t)=>{const n=t,r=t[3],s=e[0],i=e[1],o=(r-Mi.dot(n,s))/Mi.dot(n,i);return Mi.add(Mi.create(),s,Mi.scale(Mi.create(),i,o))};var _M=bM;const yM=e=>e[0];var AM=yM;const Jf=lt,SM=na,EM=(e,t)=>{const n=Jf.clone(t[0]),r=Jf.negate(Jf.create(),t[1]);return SM(e,n,r)};var wM=EM;const TM=e=>{const t=e[0],n=e[1];return`line3: point: (${t[0].toFixed(7)}, ${t[1].toFixed(7)}, ${t[2].toFixed(7)}) direction: (${n[0].toFixed(7)}, ${n[1].toFixed(7)}, ${n[2].toFixed(7)})`};var CM=TM;const Ii=lt,PM=na,LM=(e,t,n)=>{const r=t[0],s=t[1],i=Ii.add(Ii.create(),r,s),o=Ii.transform(Ii.create(),r,n),a=Ii.transform(i,i,n),l=Ii.subtract(a,a,o);return PM(e,o,l)};var OM=LM,RM={clone:J6,closestPoint:a2,copy:nM,create:o2,direction:sM,distanceToPoint:aM,equals:cM,fromPlanes:mM,fromPointAndDirection:na,fromPoints:vM,intersectPointOfLineAndPlane:_M,origin:AM,reverse:wM,toString:CM,transform:OM},MM={constants:Ht,line2:hd,line3:RM,mat4:Jt,plane:Hr,utils:ta,vec2:Rt,vec3:lt,vec4:Nv};const IM=yt,l2=wt,c2=Lt,DM=Zt,FM=Ut,Ll=new WeakMap,kM=()=>0,xM=e=>{let t=Ll.get(e);return t||(t=l2.toSides(e).reduce((r,s)=>r+(s[0][0]*s[1][1]-s[0][1]*s[1][0]),0),t*=.5,Ll.set(e,t),t)},GM=e=>{let t=Ll.get(e);return t||(t=c2.toPolygons(e).reduce((r,s)=>r+FM.measureArea(s),0),Ll.set(e,t),t)},BM=(...e)=>{if(e=IM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>DM.isA(n)?kM():l2.isA(n)?xM(n):c2.isA(n)?GM(n):0);return t.length===1?t[0]:t};var f2=BM;const NM=yt,VM=f2,UM=(...e)=>{if(e=NM(e),e.length===0)throw new Error("measureAggregateArea: no geometries supplied");const t=VM(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var $M=UM;const HM=yt,Ur=Rt,Lo=lt,u2=wt,d2=Lt,h2=Zt,Fh=Ut,Xi=new WeakMap,zM=e=>{let t=Xi.get(e);if(t)return t;const n=h2.toPoints(e);let r;n.length===0?r=Ur.create():r=Ur.clone(n[0]);let s=Ur.clone(r);return n.forEach(i=>{Ur.min(r,r,i),Ur.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],Xi.set(e,t),t},jM=e=>{let t=Xi.get(e);if(t)return t;const n=u2.toPoints(e);let r;n.length===0?r=Ur.create():r=Ur.clone(n[0]);let s=Ur.clone(r);return n.forEach(i=>{Ur.min(r,r,i),Ur.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],Xi.set(e,t),t},qM=e=>{let t=Xi.get(e);if(t)return t;const n=d2.toPolygons(e);let r=Lo.create();if(n.length>0){const i=Fh.toPoints(n[0]);Lo.copy(r,i[0])}let s=Lo.clone(r);return n.forEach(i=>{Fh.toPoints(i).forEach(o=>{Lo.min(r,r,o),Lo.max(s,s,o)})}),r=[r[0],r[1],r[2]],s=[s[0],s[1],s[2]],t=[r,s],Xi.set(e,t),t},XM=(...e)=>{if(e=HM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>h2.isA(n)?zM(n):u2.isA(n)?jM(n):d2.isA(n)?qM(n):[[0,0,0],[0,0,0]]);return t.length===1?t[0]:t};var ci=XM;const WM=yt,YM=yv,ZM=_v,KM=ci,QM=(...e)=>{if(e=WM(e),e.length===0)throw new Error("measureAggregateBoundingBox: no geometries supplied");const t=KM(e);if(e.length===1)return t;const n=[[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]];return t.reduce((r,s)=>(r=[YM(r[0],r[0],s[0]),ZM(r[1],r[1],s[1])],r),n)};var md=QM;const{EPS:JM}=Ht,eI=(e,t)=>{let n=0;for(let r=0;r<t;r++)n+=e[1][r]-e[0][r];return JM*n/t};var m2=eI;const tI=yt,nI=md,rI=m2,{geom2:sI,geom3:iI,path2:oI}=fd,aI=(...e)=>{if(e=tI(e),e.length===0)throw new Error("measureAggregateEpsilon: no geometries supplied");const t=nI(e);let n=0;return n=e.reduce((r,s)=>oI.isA(s)||sI.isA(s)?Math.max(r,2):iI.isA(s)?Math.max(r,3):0,n),rI(t,n)};var lI=aI;const cI=yt,fI=wt,p2=Lt,uI=Zt,dI=Ut,kh=new WeakMap,hI=()=>0,mI=()=>0,pI=e=>{let t=kh.get(e);return t||(t=p2.toPolygons(e).reduce((r,s)=>r+dI.measureSignedVolume(s),0),kh.set(e,t),t)},gI=(...e)=>{if(e=cI(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>uI.isA(n)?hI():fI.isA(n)?mI():p2.isA(n)?pI(n):0);return t.length===1?t[0]:t};var g2=gI;const vI=yt,bI=g2,_I=(...e)=>{if(e=vI(e),e.length===0)throw new Error("measureAggregateVolume: no geometries supplied");const t=bI(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var yI=_I;const AI=yt,v2=Rt,ar=lt,b2=wt,_2=Lt,y2=Zt,xh=Ut,Wi=new WeakMap,SI=e=>{let t=Wi.get(e);if(t!==void 0)return t;const n=ar.create();let r=0;const s=y2.toPoints(e);if(s.length>0){let i=0;const o=ar.create();s.forEach(a=>{ar.add(n,n,ar.fromVec2(o,a,0)),i++}),ar.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,v2.squaredDistance(n,a))}),r=Math.sqrt(r)}return t=[n,r],Wi.set(e,t),t},EI=e=>{let t=Wi.get(e);if(t!==void 0)return t;const n=ar.create();let r=0;const s=b2.toSides(e);if(s.length>0){let i=0;const o=ar.create();s.forEach(a=>{ar.add(n,n,ar.fromVec2(o,a[0],0)),i++}),ar.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,v2.squaredDistance(n,a[0]))}),r=Math.sqrt(r)}return t=[n,r],Wi.set(e,t),t},wI=e=>{let t=Wi.get(e);if(t!==void 0)return t;const n=ar.create();let r=0;const s=_2.toPolygons(e);if(s.length>0){let i=0;s.forEach(o=>{xh.toPoints(o).forEach(a=>{ar.add(n,n,a),i++})}),ar.scale(n,n,1/i),s.forEach(o=>{xh.toPoints(o).forEach(a=>{r=Math.max(r,ar.squaredDistance(n,a))})}),r=Math.sqrt(r)}return t=[n,r],Wi.set(e,t),t},TI=(...e)=>{e=AI(e);const t=e.map(n=>y2.isA(n)?SI(n):b2.isA(n)?EI(n):_2.isA(n)?wI(n):[[0,0,0],0]);return t.length===1?t[0]:t};var CI=TI;const PI=yt,LI=ci,OI=(...e)=>{e=PI(e);const t=e.map(n=>{const r=LI(n);return[r[0][0]+(r[1][0]-r[0][0])/2,r[0][1]+(r[1][1]-r[0][1])/2,r[0][2]+(r[1][2]-r[0][2])/2]});return t.length===1?t[0]:t};var RI=OI;const MI=yt,Br=lt,A2=wt,S2=Lt,Ol=new WeakMap,II=e=>{let t=Ol.get(e);if(t!==void 0)return t;const n=A2.toSides(e);let r=0,s=0,i=0;if(n.length>0){for(let a=0;a<n.length;a++){const l=n[a][0],c=n[a][1],f=l[0]*c[1]-l[1]*c[0];r+=f,s+=(l[0]+c[0])*f,i+=(l[1]+c[1])*f}r/=2;const o=1/(r*6);s*=o,i*=o}return t=Br.fromValues(s,i,0),Ol.set(e,t),t},DI=e=>{let t=Ol.get(e);if(t!==void 0)return t;t=Br.create();const n=S2.toPolygons(e);if(n.length===0)return t;let r=0;const s=Br.create();return n.forEach(i=>{const o=i.vertices;for(let a=0;a<o.length-2;a++){Br.cross(s,o[a+1],o[a+2]);const l=Br.dot(o[0],s)/6;r+=l,Br.add(s,o[0],o[a+1]),Br.add(s,s,o[a+2]);const c=Br.scale(s,s,1/4*l);Br.add(t,t,c)}}),Br.scale(t,t,1/r),Ol.set(e,t),t},FI=(...e)=>{e=MI(e);const t=e.map(n=>A2.isA(n)?II(n):S2.isA(n)?DI(n):[0,0,0]);return t.length===1?t[0]:t};var kI=FI;const xI=yt,GI=ci,BI=(...e)=>{e=xI(e);const t=e.map(n=>{const r=GI(n);return[r[1][0]-r[0][0],r[1][1]-r[0][1],r[1][2]-r[0][2]]});return t.length===1?t[0]:t};var NI=BI;const VI=yt,{geom2:UI,geom3:$I,path2:HI}=fd,pd=m2,gd=ci,zI=e=>pd(gd(e),2),jI=e=>pd(gd(e),2),qI=e=>pd(gd(e),3),XI=(...e)=>{if(e=VI(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>HI.isA(n)?zI(n):UI.isA(n)?jI(n):$I.isA(n)?qI(n):0);return t.length===1?t[0]:t};var Ts=XI,Uu={measureAggregateArea:$M,measureAggregateBoundingBox:md,measureAggregateEpsilon:lI,measureAggregateVolume:yI,measureArea:f2,measureBoundingBox:ci,measureBoundingSphere:CI,measureCenter:RI,measureCenterOfMass:kI,measureDimensions:NI,measureEpsilon:Ts,measureVolume:g2};const WI=(e,t)=>Array.isArray(e)&&e.length>=t?e.every(n=>Number.isFinite(n)):!1,YI=(e,t)=>Number.isFinite(e)&&e>t,ZI=(e,t)=>Number.isFinite(e)&&e>=t;var Nn={isNumberArray:WI,isGT:YI,isGTE:ZI};const{EPS:Gh,TAU:Di}=Ht,Zr=Rt,KI=Zt,{isGT:QI,isGTE:eu,isNumberArray:JI}=Nn,eD=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:Di,makeTangent:!1,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,makeTangent:o,segments:a}=Object.assign({},t,e);if(!JI(n,2))throw new Error("center must be an array of X and Y values");if(!QI(r,0))throw new Error("radius must be greater than zero");if(!eu(s,0))throw new Error("startAngle must be positive");if(!eu(i,0))throw new Error("endAngle must be positive");if(!eu(a,4))throw new Error("segments must be four or more");s=s%Di,i=i%Di;let l=Di;s<i&&(l=i-s),s>i&&(l=i+(Di-s));const c=Math.acos((r*r+r*r-Gh*Gh)/(2*r*r)),f=Zr.clone(n);let u;const h=[];if(l<c)u=Zr.fromAngleRadians(Zr.create(),s),Zr.scale(u,u,r),Zr.add(u,u,f),h.push(u);else{const d=Math.max(1,Math.floor(a*(l/Di)))+1;let g=d*.5/l;g>.25&&(g=.25);const p=o?d+2:d;for(let m=0;m<=p;m++){let v=m;o&&(v=(m-1)*(d-2*g)/d+g,v<0&&(v=0),v>d&&(v=d));const b=s+v*(l/d);u=Zr.fromAngleRadians(Zr.create(),b),Zr.scale(u,u,r),Zr.add(u,u,f),h.push(u)}}return KI.fromPoints({closed:!1},h)};var tD=eD;const{EPS:Bh,TAU:bs}=Ht,tu=Rt,nD=wt,{sin:rD,cos:sD}=qn,{isGTE:nu,isNumberArray:Nh}=Nn,iD=e=>{const t={center:[0,0],radius:[1,1],startAngle:0,endAngle:bs,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!Nh(n,2))throw new Error("center must be an array of X and Y values");if(!Nh(r,2))throw new Error("radius must be an array of X and Y values");if(!r.every(d=>d>0))throw new Error("radius values must be greater than zero");if(!nu(s,0))throw new Error("startAngle must be positive");if(!nu(i,0))throw new Error("endAngle must be positive");if(!nu(o,3))throw new Error("segments must be three or more");s=s%bs,i=i%bs;let a=bs;s<i&&(a=i-s),s>i&&(a=i+(bs-s));const l=Math.min(r[0],r[1]),c=Math.acos((l*l+l*l-Bh*Bh)/(2*l*l));if(a<c)throw new Error("startAngle and endAngle do not define a significant rotation");o=Math.floor(o*(a/bs));const f=tu.clone(n),u=a/o,h=[];o=a<bs?o+1:o;for(let d=0;d<o;d++){const g=u*d+s,p=tu.fromValues(r[0]*sD(g),r[1]*rD(g));tu.add(p,f,p),h.push(p)}return a<bs&&h.push(f),nD.fromPoints(h)};var E2=iD;const{TAU:oD}=Ht,aD=E2,{isGT:lD}=Nn,cD=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:oD,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!lD(r,0))throw new Error("radius must be greater than zero");return r=[r,r],aD({center:n,radius:r,startAngle:s,endAngle:i,segments:o})};var w2=cD;const fD=Lt,uD=Ut,{isNumberArray:Vh}=Nn,dD=e=>{const t={center:[0,0,0],size:[2,2,2]},{center:n,size:r}=Object.assign({},t,e);if(!Vh(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Vh(r,3))throw new Error("size must be an array of width, depth and height values");if(!r.every(i=>i>0))throw new Error("size values must be greater than zero");return fD.create([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(i=>{const o=i[0].map(a=>[n[0]+r[0]/2*(2*!!(a&1)-1),n[1]+r[1]/2*(2*!!(a&2)-1),n[2]+r[2]/2*(2*!!(a&4)-1)]);return uD.create(o)}))};var T2=dD;const hD=T2,{isGT:mD}=Nn,pD=e=>{const t={center:[0,0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!mD(r,0))throw new Error("size must be greater than zero");return r=[r,r,r],hD({center:n,size:r})};var gD=pD;const{EPS:Uh,TAU:_s}=Ht,zn=lt,vD=Lt,bD=Ut,{sin:_D,cos:yD}=qn,{isGT:AD,isGTE:ru,isNumberArray:su}=Nn,SD=e=>{const t={center:[0,0,0],height:2,startRadius:[1,1],startAngle:0,endRadius:[1,1],endAngle:_s,segments:32};let{center:n,height:r,startRadius:s,startAngle:i,endRadius:o,endAngle:a,segments:l}=Object.assign({},t,e);if(!su(n,3))throw new Error("center must be an array of X, Y and Z values");if(!AD(r,0))throw new Error("height must be greater then zero");if(!su(s,2))throw new Error("startRadius must be an array of X and Y values");if(!s.every(U=>U>=0))throw new Error("startRadius values must be positive");if(!su(o,2))throw new Error("endRadius must be an array of X and Y values");if(!o.every(U=>U>=0))throw new Error("endRadius values must be positive");if(o.every(U=>U===0)&&s.every(U=>U===0))throw new Error("at least one radius must be positive");if(!ru(i,0))throw new Error("startAngle must be positive");if(!ru(a,0))throw new Error("endAngle must be positive");if(!ru(l,4))throw new Error("segments must be four or more");i=i%_s,a=a%_s;let c=_s;i<a&&(c=a-i),i>a&&(c=a+(_s-i));const f=Math.min(s[0],s[1],o[0],o[1]),u=Math.acos((f*f+f*f-Uh*Uh)/(2*f*f));if(c<u)throw new Error("startAngle and endAngle do not define a significant rotation");const h=Math.floor(l*(c/_s)),d=zn.fromValues(0,0,-(r/2)),g=zn.fromValues(0,0,r/2),p=zn.subtract(zn.create(),g,d),m=zn.fromValues(1,0,0),v=zn.fromValues(0,1,0),b=zn.create(),_=zn.create(),S=zn.create(),E=(U,B,k)=>{const se=B*c+i;return zn.scale(b,m,k[0]*yD(se)),zn.scale(_,v,k[1]*_D(se)),zn.add(b,b,_),zn.scale(S,p,U),zn.add(S,S,d),zn.add(zn.create(),b,S)},w=(...U)=>{const B=U.map(k=>zn.add(zn.create(),k,n));return bD.create(B)},A=[];for(let U=0;U<h;U++){const B=U/h;let k=(U+1)/h;c===_s&&U===h-1&&(k=0),o[0]===s[0]&&o[1]===s[1]?(A.push(w(d,E(0,k,o),E(0,B,o))),A.push(w(E(0,k,o),E(1,k,o),E(1,B,o),E(0,B,o))),A.push(w(g,E(1,B,o),E(1,k,o)))):(s[0]>0&&s[1]>0&&A.push(w(d,E(0,k,s),E(0,B,s))),(s[0]>0||s[1]>0)&&A.push(w(E(0,B,s),E(0,k,s),E(1,B,o))),o[0]>0&&o[1]>0&&A.push(w(g,E(1,B,o),E(1,k,o))),(o[0]>0||o[1]>0)&&A.push(w(E(1,B,o),E(0,k,s),E(1,k,o))))}return c<_s&&(A.push(w(d,E(0,0,s),g)),A.push(w(E(0,0,s),E(1,0,o),g)),A.push(w(d,g,E(0,1,s))),A.push(w(E(0,1,s),g,E(1,1,o)))),vD.create(A)};var C2=SD;const ED=C2,{isGT:wD}=Nn,TD=e=>{const t={center:[0,0,0],height:2,radius:1,segments:32},{center:n,height:r,radius:s,segments:i}=Object.assign({},t,e);if(!wD(s,0))throw new Error("radius must be greater than zero");return ED({center:n,height:r,startRadius:[s,s],endRadius:[s,s],segments:i})};var CD=TD;const{TAU:$h}=Ht,ct=lt,PD=Lt,Hh=Ut,{sin:zh,cos:jh}=qn,{isGTE:LD,isNumberArray:qh}=Nn,OD=e=>{const t={center:[0,0,0],radius:[1,1,1],segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!qh(n,3))throw new Error("center must be an array of X, Y and Z values");if(!qh(r,3))throw new Error("radius must be an array of X, Y and Z values");if(!r.every(g=>g>0))throw new Error("radius values must be greater than zero");if(!LD(s,4))throw new Error("segments must be four or more");const o=ct.scale(ct.create(),ct.normalize(ct.create(),i[0]),r[0]),a=ct.scale(ct.create(),ct.normalize(ct.create(),i[1]),r[1]),l=ct.scale(ct.create(),ct.normalize(ct.create(),i[2]),r[2]),c=Math.round(s/4);let f;const u=[],h=ct.create(),d=ct.create();for(let g=0;g<=s;g++){const p=$h*g/s,m=ct.add(ct.create(),ct.scale(h,o,jh(p)),ct.scale(d,a,zh(p)));if(g>0){let v,b;for(let _=0;_<=c;_++){const S=$h/4*_/c,E=jh(S),w=zh(S);if(_>0){let A=[],L;L=ct.subtract(ct.create(),ct.scale(h,f,v),ct.scale(d,l,b)),A.push(ct.add(L,L,n)),L=ct.subtract(ct.create(),ct.scale(h,m,v),ct.scale(d,l,b)),A.push(ct.add(L,L,n)),_<c&&(L=ct.subtract(ct.create(),ct.scale(h,m,E),ct.scale(d,l,w)),A.push(ct.add(L,L,n))),L=ct.subtract(ct.create(),ct.scale(h,f,E),ct.scale(d,l,w)),A.push(ct.add(L,L,n)),u.push(Hh.create(A)),A=[],L=ct.add(ct.create(),ct.scale(h,f,v),ct.scale(d,l,b)),A.push(ct.add(ct.create(),n,L)),L=ct.add(L,ct.scale(h,m,v),ct.scale(d,l,b)),A.push(ct.add(ct.create(),n,L)),_<c&&(L=ct.add(L,ct.scale(h,m,E),ct.scale(d,l,w)),A.push(ct.add(ct.create(),n,L))),L=ct.add(L,ct.scale(h,f,E),ct.scale(d,l,w)),A.push(ct.add(ct.create(),n,L)),A.reverse(),u.push(Hh.create(A))}v=E,b=w}}f=m}return PD.create(u)};var P2=OD;const RD=Lt,MD=Ut,{isNumberArray:Xh}=Nn,ID=e=>{const t={points:[],faces:[],colors:void 0,orientation:"outward"},{points:n,faces:r,colors:s,orientation:i}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and faces must be arrays");if(n.length<3)throw new Error("three or more points are required");if(r.length<1)throw new Error("one or more faces are required");if(s){if(!Array.isArray(s))throw new Error("colors must be an array");if(s.length!==r.length)throw new Error("faces and colors must have the same length")}n.forEach((a,l)=>{if(!Xh(a,3))throw new Error(`point ${l} must be an array of X, Y, Z values`)}),r.forEach((a,l)=>{if(a.length<3)throw new Error(`face ${l} must contain 3 or more indexes`);if(!Xh(a,a.length))throw new Error(`face ${l} must be an array of numbers`)}),i!=="outward"&&r.forEach(a=>a.reverse());const o=r.map((a,l)=>{const c=MD.create(a.map(f=>n[f]));return s&&s[l]&&(c.color=s[l]),c});return RD.create(o)};var L2=ID;const Wh=Jt,Yh=lt,DD=Lt,FD=L2,{isGT:kD,isGTE:xD}=Nn,GD=e=>{const t={radius:1,frequency:6};let{radius:n,frequency:r}=Object.assign({},t,e);if(!kD(n,0))throw new Error("radius must be greater than zero");if(!xD(r,6))throw new Error("frequency must be six or more");r=Math.floor(r/6);const s=[[.850651,0,-.525731],[.850651,-0,.525731],[-.850651,-0,.525731],[-.850651,0,-.525731],[0,-.525731,.850651],[0,.525731,.850651],[0,.525731,-.850651],[0,-.525731,-.850651],[-.525731,-.850651,-0],[.525731,-.850651,-0],[.525731,.850651,0],[-.525731,.850651,0]],i=[[0,9,1],[1,10,0],[6,7,0],[10,6,0],[7,9,0],[5,1,4],[4,1,9],[5,10,1],[2,8,3],[3,11,2],[2,5,4],[4,8,2],[2,11,5],[3,7,6],[6,11,3],[8,7,3],[9,8,4],[11,10,5],[10,11,6],[8,9,7]],o=(h,d,g)=>{const p=h[0],m=h[1],v=h[2];let b=g;const _=[],S=[];for(let E=0;E<d;E++)for(let w=0;w<d-E;w++){const A=E/d,L=(E+1)/d,U=w/(d-E),B=(w+1)/(d-E),k=d-E-1?w/(d-E-1):1,se=[];se[0]=a(a(p,m,U),v,A),se[1]=a(a(p,m,B),v,A),se[2]=a(a(p,m,k),v,L);for(let V=0;V<3;V++){const j=Yh.length(se[V]);for(let Ie=0;Ie<3;Ie++)se[V][Ie]/=j}if(_.push(se[0],se[1],se[2]),S.push([b,b+1,b+2]),b+=3,w<d-E-1){const V=d-E-1?(w+1)/(d-E-1):1;se[0]=a(a(p,m,B),v,A),se[1]=a(a(p,m,V),v,L),se[2]=a(a(p,m,k),v,L);for(let j=0;j<3;j++){const Ie=Yh.length(se[j]);for(let ne=0;ne<3;ne++)se[j][ne]/=Ie}_.push(se[0],se[1],se[2]),S.push([b,b+1,b+2]),b+=3}}return{points:_,triangles:S,offset:b}},a=(h,d,g)=>{const p=1-g,m=[];for(let v=0;v<3;v++)m[v]=h[v]*p+d[v]*g;return m};let l=[],c=[],f=0;for(let h=0;h<i.length;h++){const d=o([s[i[h][0]],s[i[h][1]],s[i[h][2]]],r,f);l=l.concat(d.points),c=c.concat(d.triangles),f=d.offset}let u=FD({points:l,faces:c,orientation:"inward"});return n!==1&&(u=DD.transform(Wh.fromScaling(Wh.create(),[n,n,n]),u)),u};var BD=GD;const ND=Zt,VD=e=>{if(!Array.isArray(e))throw new Error("points must be an array");return ND.fromPoints({},e)};var UD=VD;const iu=wt,$D=e=>{const t={points:[],paths:[]},{points:n,paths:r}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and paths must be arrays");let s=n;Array.isArray(n[0])&&(Array.isArray(n[0][0])||(s=[n])),s.forEach((l,c)=>{if(!Array.isArray(l))throw new Error("list of points "+c+" must be an array");if(l.length<3)throw new Error("list of points "+c+" must contain three or more points");l.forEach((f,u)=>{if(!Array.isArray(f))throw new Error("list of points "+c+", point "+u+" must be an array");if(f.length<2)throw new Error("list of points "+c+", point "+u+" must contain by X and Y values")})});let i=r;if(r.length===0){let l=0;i=s.map(c=>c.map(f=>l++))}const o=[];s.forEach(l=>l.forEach(c=>o.push(c)));let a=[];return i.forEach(l=>{const c=l.map(u=>o[u]),f=iu.fromPoints(c);a=a.concat(iu.toSides(f))}),iu.create(a)};var HD=$D;const ys=Rt,zD=wt,{isNumberArray:Zh}=Nn,jD=e=>{const t={center:[0,0],size:[2,2]},{center:n,size:r}=Object.assign({},t,e);if(!Zh(n,2))throw new Error("center must be an array of X and Y values");if(!Zh(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(a=>a>0))throw new Error("size values must be greater than zero");const s=[r[0]/2,r[1]/2],i=[s[0],-s[1]],o=[ys.subtract(ys.create(),n,s),ys.add(ys.create(),n,i),ys.add(ys.create(),n,s),ys.subtract(ys.create(),n,i)];return zD.fromPoints(o)};var O2=jD;const{EPS:Sl,TAU:Oo}=Ht,ou=Rt,On=lt,qD=Lt,Yi=Ut,{sin:XD,cos:WD}=qn,{isGT:YD,isGTE:ZD,isNumberArray:Kh}=Nn,Qh=(e,t,n,r,s,i)=>{const o=Oo/4*s/r,a=WD(o),l=XD(o),c=r-s;let f=n*a,u=t[2]-(n-n*l);i||(u=n-n*l-t[2]),f=f>Sl?f:0;const h=On.add(On.create(),e,[t[0]-n,t[1]-n,u]),d=On.add(On.create(),e,[n-t[0],t[1]-n,u]),g=On.add(On.create(),e,[n-t[0],n-t[1],u]),p=On.add(On.create(),e,[t[0]-n,n-t[1],u]),m=[],v=[],b=[],_=[];for(let S=0;S<=c;S++){const E=c>0?Oo/4*S/c:0,w=ou.fromAngleRadians(ou.create(),E);ou.scale(w,w,f);const A=On.fromVec2(On.create(),w);m.push(On.add(On.create(),h,A)),On.rotateZ(A,A,[0,0,0],Oo/4),v.push(On.add(On.create(),d,A)),On.rotateZ(A,A,[0,0,0],Oo/4),b.push(On.add(On.create(),g,A)),On.rotateZ(A,A,[0,0,0],Oo/4),_.push(On.add(On.create(),p,A))}return i?[m,v,b,_]:(m.reverse(),v.reverse(),b.reverse(),_.reverse(),[_,b,v,m])},Jh=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];for(let o=0;o<s.length-1;o++)n.push(Yi.create([s[o],s[o+1],i[o]])),o<i.length-1&&n.push(Yi.create([i[o],s[o+1],i[o+1]]))}return n},em=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t[r];const o=s[s.length-1],a=i[i.length-1],l=(r+1)%e.length;s=e[l],i=t[l];const c=s[0],f=i[0];n.push(Yi.create([o,c,f,a]))}return n},KD=(e,t)=>{e=[e[3],e[2],e[1],e[0]],e=e.map(i=>i.slice().reverse());const n=[];e.forEach(i=>{i.forEach(o=>n.push(o))});const r=[];t.forEach(i=>{i.forEach(o=>r.push(o))});const s=[];for(let i=0;i<r.length;i++){const o=(i+1)%r.length;s.push(Yi.create([n[i],n[o],r[o],r[i]]))}return s},QD=e=>{const t={center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!Kh(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Kh(r,3))throw new Error("size must be an array of X, Y and Z values");if(!r.every(c=>c>0))throw new Error("size values must be greater than zero");if(!YD(s,0))throw new Error("roundRadius must be greater than zero");if(!ZD(i,4))throw new Error("segments must be four or more");if(r=r.map(c=>c/2),s>r[0]-Sl||s>r[1]-Sl||s>r[2]-Sl)throw new Error("roundRadius must be smaller then the radius of all dimensions");i=Math.floor(i/4);let o=null,a=null,l=[];for(let c=0;c<=i;c++){const f=Qh(n,r,s,i,c,!0),u=Qh(n,r,s,i,c,!1);if(c===0&&(l=l.concat(KD(u,f))),o&&(l=l.concat(Jh(o,f),em(o,f))),a&&(l=l.concat(Jh(a,u),em(a,u))),c===i){let h=f.map(d=>d[0]);l.push(Yi.create(h)),h=u.map(d=>d[0]),l.push(Yi.create(h))}o=f,a=u}return qD.create(l)};var JD=QD;const{EPS:tm,TAU:nm}=Ht,Ye=lt,eF=Lt,tF=Ut,{sin:rm,cos:sm}=qn,{isGT:au,isGTE:nF,isNumberArray:rF}=Nn,sF=e=>{const t={center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},{center:n,height:r,radius:s,roundRadius:i,segments:o}=Object.assign({},t,e);if(!rF(n,3))throw new Error("center must be an array of X, Y and Z values");if(!au(r,0))throw new Error("height must be greater then zero");if(!au(s,0))throw new Error("radius must be greater then zero");if(!au(i,0))throw new Error("roundRadius must be greater then zero");if(i>s-tm)throw new Error("roundRadius must be smaller then the radius");if(!nF(o,4))throw new Error("segments must be four or more");const a=[0,0,-(r/2)],l=[0,0,r/2],c=Ye.subtract(Ye.create(),l,a),f=Ye.length(c);if(2*i>f-tm)throw new Error("height must be larger than twice roundRadius");let u;Math.abs(c[0])>Math.abs(c[1])?u=Ye.fromValues(0,1,0):u=Ye.fromValues(1,0,0);const h=Ye.scale(Ye.create(),Ye.normalize(Ye.create(),c),i),d=Ye.scale(Ye.create(),Ye.normalize(Ye.create(),Ye.cross(Ye.create(),h,u)),s),g=Ye.scale(Ye.create(),Ye.normalize(Ye.create(),Ye.cross(Ye.create(),d,h)),s);Ye.add(a,a,h),Ye.subtract(l,l,h);const p=Math.floor(.25*o),m=w=>{const A=w.map(L=>Ye.add(L,L,n));return tF.create(A)},v=[],b=Ye.create(),_=Ye.create();let S;for(let w=0;w<=o;w++){const A=nm*w/o,L=Ye.add(Ye.create(),Ye.scale(b,d,sm(A)),Ye.scale(_,g,rm(A)));if(w>0){let U=[];U.push(Ye.add(Ye.create(),a,L)),U.push(Ye.add(Ye.create(),a,S)),U.push(Ye.add(Ye.create(),l,S)),U.push(Ye.add(Ye.create(),l,L)),v.push(m(U));let B,k;for(let se=0;se<=p;se++){const V=nm/4*se/p,j=sm(V),Ie=rm(V);if(se>0){U=[];let ne;ne=Ye.add(Ye.create(),a,Ye.subtract(b,Ye.scale(b,S,B),Ye.scale(_,h,k))),U.push(ne),ne=Ye.add(Ye.create(),a,Ye.subtract(b,Ye.scale(b,L,B),Ye.scale(_,h,k))),U.push(ne),se<p&&(ne=Ye.add(Ye.create(),a,Ye.subtract(b,Ye.scale(b,L,j),Ye.scale(_,h,Ie))),U.push(ne)),ne=Ye.add(Ye.create(),a,Ye.subtract(b,Ye.scale(b,S,j),Ye.scale(_,h,Ie))),U.push(ne),v.push(m(U)),U=[],ne=Ye.add(Ye.create(),Ye.scale(b,S,B),Ye.scale(_,h,k)),Ye.add(ne,ne,l),U.push(ne),ne=Ye.add(Ye.create(),Ye.scale(b,L,B),Ye.scale(_,h,k)),Ye.add(ne,ne,l),U.push(ne),se<p&&(ne=Ye.add(Ye.create(),Ye.scale(b,L,j),Ye.scale(_,h,Ie)),Ye.add(ne,ne,l),U.push(ne)),ne=Ye.add(Ye.create(),Ye.scale(b,S,j),Ye.scale(_,h,Ie)),Ye.add(ne,ne,l),U.push(ne),U.reverse(),v.push(m(U))}B=j,k=Ie}}S=L}return eF.create(v)};var iF=sF;const{EPS:im,TAU:tl}=Ht,un=Rt,oF=wt,{isGT:aF,isGTE:lF,isNumberArray:om}=Nn,cF=e=>{const t={center:[0,0],size:[2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!om(n,2))throw new Error("center must be an array of X and Y values");if(!om(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(p=>p>0))throw new Error("size values must be greater than zero");if(!aF(s,0))throw new Error("roundRadius must be greater than zero");if(!lF(i,4))throw new Error("segments must be four or more");if(r=r.map(p=>p/2),s>r[0]-im||s>r[1]-im)throw new Error("roundRadius must be smaller then the radius of all dimensions");const o=Math.floor(i/4),a=un.add(un.create(),n,[r[0]-s,r[1]-s]),l=un.add(un.create(),n,[s-r[0],r[1]-s]),c=un.add(un.create(),n,[s-r[0],s-r[1]]),f=un.add(un.create(),n,[r[0]-s,s-r[1]]),u=[],h=[],d=[],g=[];for(let p=0;p<=o;p++){const m=tl/4*p/o,v=un.fromAngleRadians(un.create(),m);un.scale(v,v,s),u.push(un.add(un.create(),a,v)),un.rotate(v,v,un.create(),tl/4),h.push(un.add(un.create(),l,v)),un.rotate(v,v,un.create(),tl/4),d.push(un.add(un.create(),c,v)),un.rotate(v,v,un.create(),tl/4),g.push(un.add(un.create(),f,v))}return oF.fromPoints(u.concat(h,d,g))};var fF=cF;const uF=P2,{isGT:dF}=Nn,hF=e=>{const t={center:[0,0,0],radius:1,segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]};let{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!dF(r,0))throw new Error("radius must be greater than zero");return r=[r,r,r],uF({center:n,radius:r,segments:s,axes:i})};var R2=hF;const mF=O2,{isGT:pF}=Nn,gF=e=>{const t={center:[0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!pF(r,0))throw new Error("size must be greater than zero");return r=[r,r],mF({center:n,size:r})};var vF=gF;const{TAU:M2}=Ht,Bo=Rt,bF=wt,{isGT:_F,isGTE:nl,isNumberArray:yF}=Nn,AF=(e,t)=>e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0,am=(e,t,n,r)=>{const s=M2/e,i=[];for(let o=0;o<e;o++){const a=Bo.fromAngleRadians(Bo.create(),s*o+n);Bo.scale(a,a,t),Bo.add(a,r,a),i.push(a)}return i},SF=e=>{const t={center:[0,0],vertices:5,outerRadius:1,innerRadius:0,density:2,startAngle:0};let{center:n,vertices:r,outerRadius:s,innerRadius:i,density:o,startAngle:a}=Object.assign({},t,e);if(!yF(n,2))throw new Error("center must be an array of X and Y values");if(!nl(r,2))throw new Error("vertices must be two or more");if(!_F(s,0))throw new Error("outerRadius must be greater than zero");if(!nl(i,0))throw new Error("innerRadius must be greater than zero");if(!nl(a,0))throw new Error("startAngle must be greater than zero");if(r=Math.floor(r),o=Math.floor(o),a=a%M2,i===0){if(!nl(o,2))throw new Error("density must be two or more");i=s*AF(r,o)}const l=Bo.clone(n),c=am(r,s,a,l),f=am(r,i,a+Math.PI/r,l),u=[];for(let h=0;h<r;h++)u.push(c[h]),u.push(f[h]);return bF.fromPoints(u)};var EF=SF;const wF=yt,lm=Jt,cm=Hr,fm=wt,um=Lt,dm=Zt,Wl=(e,...t)=>{const n={origin:[0,0,0],normal:[0,0,1]},{origin:r,normal:s}=Object.assign({},n,e);if(t=wF(t),t.length===0)throw new Error("wrong number of arguments");const i=cm.fromNormalAndPoint(cm.create(),s,r);if(Number.isNaN(i[0]))throw new Error("the given origin and normal do not define a proper plane");const o=lm.mirrorByPlane(lm.create(),i),a=t.map(l=>dm.isA(l)?dm.transform(o,l):fm.isA(l)?fm.transform(o,l):um.isA(l)?um.transform(o,l):l);return a.length===1?a[0]:a},TF=(...e)=>Wl({normal:[1,0,0]},e),CF=(...e)=>Wl({normal:[0,1,0]},e),PF=(...e)=>Wl({normal:[0,0,1]},e);var No={mirror:Wl,mirrorX:TF,mirrorY:CF,mirrorZ:PF};const hm=Hr,Ws=lt,LF=e=>{const t=e.edges;if(t.length<3)throw new Error("slices must have 3 or more edges to calculate a plane");const n=t.reduce((o,a)=>Ws.add(Ws.create(),o,a[0]),Ws.create());Ws.scale(n,n,1/t.length);let r,s=0;t.forEach(o=>{if(!Ws.equals(o[0],o[1])){const a=Ws.squaredDistance(n,o[0]);a>s&&(r=o,s=a)}});const i=t.find(o=>Ws.equals(o[1],r[0]));return hm.fromPoints(hm.create(),i[0],r[0],r[1])};var I2=LF;const OF=e=>(e||(e=[]),{edges:e});var fi=OF;const RF=fi,mm=lt,MF=(...e)=>{let t,n;return e.length===1?(t=RF(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[mm.clone(r[0]),mm.clone(r[1])]),t};var IF=MF;const DF=lt,FF=(e,t)=>{const n=e.edges,r=t.edges;return n.length!==r.length?!1:n.reduce((i,o,a)=>{const l=r[a],c=DF.squaredDistance(o[0],l[0]);return i&&c<Number.EPSILON},!0)};var kF=FF;const rl=lt,xF=fi,GF=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");if(e.length<3)throw new Error("the given points must contain THREE or more points");const t=[];let n=e[e.length-1];return e.forEach(r=>{r.length===2&&t.push([rl.fromVec2(rl.create(),n),rl.fromVec2(rl.create(),r)]),r.length===3&&t.push([n,r]),n=r}),xF(t)};var BF=GF;const sl=lt,NF=fi,VF=e=>{if(!Array.isArray(e))throw new Error("the given sides must be an array");const t=[];return e.forEach(n=>{t.push([sl.fromVec2(sl.create(),n[0]),sl.fromVec2(sl.create(),n[1])])}),NF(t)};var UF=VF;const $F=e=>!!(e&&typeof e=="object"&&"edges"in e&&Array.isArray(e.edges));var HF=$F;const zF=fi,jF=(...e)=>{let t,n;return e.length===1?(t=zF(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[r[1],r[0]]),t};var qF=jF;const XF=e=>e.edges;var WF=XF;const YF=(e,t)=>{let n,r,s,i,o,a=1;do{r=e,e=null;let l=null;for(o=0;r;){o++,s=r;let c=0;for(n=0;n<a&&(c++,s=s.nextZ,!!s);n++);let f=a;for(;c>0||f>0&&s;)c!==0&&(f===0||!s||t(r)<=t(s))?(i=r,r=r.nextZ,c--):(i=s,s=s.nextZ,f--),l?l.nextZ=i:e=i,i.prevZ=l,l=i;r=s}l.nextZ=null,a*=2}while(o>1);return e};var ZF=YF;const KF=ZF;let D2=class{constructor(t,n,r){this.i=t,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}};const QF=(e,t,n,r)=>{const s=new D2(e,t,n);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s},JF=e=>{e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)};var F2={Node:D2,insertNode:QF,removeNode:JF,sortLinked:KF};const e7=(e,t,n,r,s,i,o,a)=>(s-o)*(t-a)-(e-o)*(i-a)>=0&&(e-o)*(r-a)-(n-o)*(t-a)>=0&&(n-o)*(i-a)-(s-o)*(r-a)>=0,t7=(e,t,n)=>(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);var vd={area:t7,pointInTriangle:e7};const{Node:pm,insertNode:gm,removeNode:Rl}=F2,{area:lr}=vd,n7=(e,t,n,r,s)=>{let i;if(s===l7(e,t,n,r)>0)for(let o=t;o<n;o+=r)i=gm(o,e[o],e[o+1],i);else for(let o=n-r;o>=t;o-=r)i=gm(o,e[o],e[o+1],i);return i&&Yl(i,i.next)&&(Rl(i),i=i.next),i},k2=(e,t)=>{if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&(Yl(n,n.next)||lr(n.prev,n,n.next)===0)){if(Rl(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t},r7=(e,t,n)=>{let r=e;do{const s=r.prev,i=r.next.next;!Yl(s,i)&&x2(s,r,r.next,i)&&Yo(s,i)&&Yo(i,s)&&(t.push(s.i/n),t.push(r.i/n),t.push(i.i/n),Rl(r),Rl(r.next),r=e=i),r=r.next}while(r!==e);return k2(r)},s7=(e,t)=>{let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&x2(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1},Yo=(e,t)=>lr(e.prev,e,e.next)<0?lr(e,t,e.next)>=0&&lr(e,e.prev,t)>=0:lr(e,t,e.prev)<0||lr(e,e.next,t)<0,i7=(e,t)=>{let n=e,r=!1;const s=(e.x+t.x)/2,i=(e.y+t.y)/2;do n.y>i!=n.next.y>i&&n.next.y!==n.y&&s<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r},o7=(e,t)=>{const n=new pm(e.i,e.x,e.y),r=new pm(t.i,t.x,t.y),s=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=s,s.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r},a7=(e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!s7(e,t)&&(Yo(e,t)&&Yo(t,e)&&i7(e,t)&&(lr(e.prev,e,t.prev)||lr(e,t.prev,t))||Yl(e,t)&&lr(e.prev,e,e.next)>0&&lr(t.prev,t,t.next)>0),x2=(e,t,n,r)=>{const s=Math.sign(lr(e,t,n)),i=Math.sign(lr(e,t,r)),o=Math.sign(lr(n,r,e)),a=Math.sign(lr(n,r,t));return!!(s!==i&&o!==a||s===0&&il(e,n,t)||i===0&&il(e,r,t)||o===0&&il(n,e,r)||a===0&&il(n,t,r))},il=(e,t,n)=>t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y),l7=(e,t,n,r)=>{let s=0;for(let i=t,o=n-r;i<n;i+=r)s+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return s},Yl=(e,t)=>e.x===t.x&&e.y===t.y;var G2={cureLocalIntersections:r7,filterPoints:k2,isValidDiagonal:a7,linkedPolygon:n7,locallyInside:Yo,splitPolygon:o7};const{filterPoints:$u,linkedPolygon:c7,locallyInside:f7,splitPolygon:u7}=G2,{area:vm,pointInTriangle:d7}=vd,h7=(e,t,n,r)=>{const s=[];for(let i=0,o=t.length;i<o;i++){const a=t[i]*r,l=i<o-1?t[i+1]*r:e.length,c=c7(e,a,l,r,!1);c===c.next&&(c.steiner=!0),s.push(v7(c))}s.sort((i,o)=>i.x-o.x);for(let i=0;i<s.length;i++)n=m7(s[i],n),n=$u(n,n.next);return n},m7=(e,t)=>{const n=p7(e,t);if(!n)return t;const r=u7(n,e),s=$u(n,n.next);return $u(r,r.next),t===n?s:t},p7=(e,t)=>{let n=t;const r=e.x,s=e.y;let i=-1/0,o;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const u=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>i){if(i=u,u===r){if(s===n.y)return n;if(s===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===i)return o;const a=o,l=o.x,c=o.y;let f=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&d7(s<c?r:i,s,l,c,s<c?i:r,s,n.x,n.y)){const u=Math.abs(s-n.y)/(r-n.x);f7(n,e)&&(u<f||u===f&&(n.x>o.x||n.x===o.x&&g7(o,n)))&&(o=n,f=u)}n=n.next}while(n!==a);return o},g7=(e,t)=>vm(e.prev,e,t.prev)<0&&vm(t.next,e,e.next)<0,v7=e=>{let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n};var b7=h7;const _7=b7,{removeNode:y7,sortLinked:A7}=F2,{cureLocalIntersections:S7,filterPoints:Ml,isValidDiagonal:E7,linkedPolygon:w7,splitPolygon:T7}=G2,{area:Js,pointInTriangle:Vo}=vd,C7=(e,t,n=2)=>{const r=t&&t.length,s=r?t[0]*n:e.length;let i=w7(e,0,s,n,!0);const o=[];if(!i||i.next===i.prev)return o;let a,l,c,f,u;if(r&&(i=_7(e,t,i,n)),e.length>80*n){a=c=e[0],l=f=e[1];for(let h=n;h<s;h+=n){const d=e[h],g=e[h+1];d<a&&(a=d),g<l&&(l=g),d>c&&(c=d),g>f&&(f=g)}u=Math.max(c-a,f-l),u=u!==0?1/u:0}return Zo(i,o,n,a,l,u),o},Zo=(e,t,n,r,s,i,o)=>{if(!e)return;!o&&i&&R7(e,r,s,i);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,i?L7(e,r,s,i):P7(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),y7(e),e=c.next,a=c.next;continue}if(e=c,e===a){o?o===1?(e=S7(Ml(e),t,n),Zo(e,t,n,r,s,i,2)):o===2&&O7(e,t,n,r,s,i):Zo(Ml(e),t,n,r,s,i,1);break}}},P7=e=>{const t=e.prev,n=e,r=e.next;if(Js(t,n,r)>=0)return!1;let s=e.next.next;for(;s!==e.prev;){if(Vo(t.x,t.y,n.x,n.y,r.x,r.y,s.x,s.y)&&Js(s.prev,s,s.next)>=0)return!1;s=s.next}return!0},L7=(e,t,n,r)=>{const s=e.prev,i=e,o=e.next;if(Js(s,i,o)>=0)return!1;const a=s.x<i.x?s.x<o.x?s.x:o.x:i.x<o.x?i.x:o.x,l=s.y<i.y?s.y<o.y?s.y:o.y:i.y<o.y?i.y:o.y,c=s.x>i.x?s.x>o.x?s.x:o.x:i.x>o.x?i.x:o.x,f=s.y>i.y?s.y>o.y?s.y:o.y:i.y>o.y?i.y:o.y,u=Hu(a,l,t,n,r),h=Hu(c,f,t,n,r);let d=e.prevZ,g=e.nextZ;for(;d&&d.z>=u&&g&&g.z<=h;){if(d!==e.prev&&d!==e.next&&Vo(s.x,s.y,i.x,i.y,o.x,o.y,d.x,d.y)&&Js(d.prev,d,d.next)>=0||(d=d.prevZ,g!==e.prev&&g!==e.next&&Vo(s.x,s.y,i.x,i.y,o.x,o.y,g.x,g.y)&&Js(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;d&&d.z>=u;){if(d!==e.prev&&d!==e.next&&Vo(s.x,s.y,i.x,i.y,o.x,o.y,d.x,d.y)&&Js(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;g&&g.z<=h;){if(g!==e.prev&&g!==e.next&&Vo(s.x,s.y,i.x,i.y,o.x,o.y,g.x,g.y)&&Js(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0},O7=(e,t,n,r,s,i)=>{let o=e;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&E7(o,a)){let l=T7(o,a);o=Ml(o,o.next),l=Ml(l,l.next),Zo(o,t,n,r,s,i),Zo(l,t,n,r,s,i);return}a=a.next}o=o.next}while(o!==e)},R7=(e,t,n,r)=>{let s=e;do s.z===null&&(s.z=Hu(s.x,s.y,t,n,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,A7(s,i=>i.z)},Hu=(e,t,n,r,s)=>(e=32767*(e-n)*s,t=32767*(t-r)*s,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1);var M7=C7;const{area:I7}=ta,{toOutlines:D7}=wt,{arePointsInside:F7}=cd,k7=e=>{const t=D7(e),n=[],r=[];t.forEach((o,a)=>{const l=I7(o);l<0?r.push(a):l>0&&n.push(a)});const s=[],i=[];return n.forEach((o,a)=>{const l=t[o];s[a]=[],r.forEach((c,f)=>{const u=t[c];F7([u[0]],{vertices:l})&&(s[a].push(c),i[f]||(i[f]=[]),i[f].push(a))})}),r.forEach((o,a)=>{if(i[a]&&i[a].length>1){const l=x7(i[a],c=>s[c].length);i[a].forEach((c,f)=>{f!==l&&(s[c]=s[c].filter(u=>u!==o))})}}),s.map((o,a)=>({solid:t[n[a]],holes:o.map(l=>t[l])}))},x7=(e,t)=>{let n,r;return e.forEach((s,i)=>{const o=t(s);(r===void 0||o<r)&&(n=i,r=o)}),n};var G7=k7;const B7=wt,bm=Hr,N7=Rt,jn=lt,V7=I2,U7=G7;let $7=class{constructor(t){this.plane=V7(t);const n=jn.orthogonal(jn.create(),this.plane),r=jn.cross(jn.create(),this.plane,n);this.v=jn.normalize(r,r),this.u=jn.cross(jn.create(),this.v,this.plane),this.basisMap=new Map;const s=t.edges.map(o=>o.map(a=>this.to2D(a))),i=B7.create(s);this.roots=U7(i)}to2D(t){const n=N7.fromValues(jn.dot(t,this.u),jn.dot(t,this.v));return this.basisMap.set(n,t),n}to3D(t){const n=this.basisMap.get(t);if(n)return n;{console.log("Warning: point not in original slice");const r=jn.scale(jn.create(),this.u,t[0]),s=jn.scale(jn.create(),this.v,t[1]),i=jn.scale(jn.create(),bm,bm[3]),o=jn.add(r,r,i);return jn.add(s,s,o)}}};var H7=$7;const z7=Ut,j7=M7,q7=H7,X7=e=>{const t=new q7(e),n=[];return t.roots.forEach(({solid:r,holes:s})=>{let i=r.length;const o=[];s.forEach((u,h)=>{o.push(i),i+=u.length});const a=[r,...s].flat(),l=a.flat(),c=u=>t.to3D(a[u]),f=j7(l,o);for(let u=0;u<f.length;u+=3){const h=f.slice(u,u+3).map(c);n.push(z7.fromPointsAndPlane(h,t.plane))}}),n};var W7=X7;const _m=lt,Y7=e=>e.reduce((t,n)=>t+=`[${_m.toString(n[0])}, ${_m.toString(n[1])}], `,""),Z7=e=>`[${Y7(e.edges)}]`;var K7=Z7;const ol=lt,Q7=fi,J7=(e,t)=>{const n=t.edges.map(r=>[ol.transform(ol.create(),r[0],e),ol.transform(ol.create(),r[1],e)]);return Q7(n)};var ek=J7,to={calculatePlane:I2,clone:IF,create:fi,equals:kF,fromPoints:BF,fromSides:UF,isA:HF,reverse:qF,toEdges:WF,toPolygons:W7,toString:K7,transform:ek};const ym=lt,tk=fi,nk=e=>{if(!e.edges)return e;let t=e.edges;const n=new Map,r=new Map;t=t.filter(o=>!ym.equals(o[0],o[1])),t.forEach(o=>{const a=o[0].toString(),l=o[1].toString();n.set(a,o[0]),n.set(l,o[1]),r.set(a,(r.get(a)||0)+1),r.set(l,(r.get(l)||0)-1)});const s=[],i=[];return r.forEach((o,a)=>{o<0&&s.push(a),o>0&&i.push(a)}),s.forEach(o=>{const a=n.get(o);let l=1/0,c;i.forEach(f=>{const u=n.get(f),h=ym.distance(a,u);h<l&&(l=h,c=u)}),console.warn(`slice.repair: repairing vertex gap ${a} to ${c} distance ${l}`),t=t.map(f=>f[0].toString()===o?[c,f[1]]:f[1].toString()===o?[f[0],c]:f)}),tk(t)};var rk=nk;const{EPS:Am}=Ht,Fi=lt,al=Ut,Sm=to,zu=(e,t)=>e===t?e:e<t?zu(t,e):t===1?1:t===0?e:zu(t,e%t),sk=(e,t)=>e*t/zu(e,t),Em=(e,t)=>{const n=e/t.length;if(n===1)return t;const r=Fi.fromValues(n,n,n),s=[];return t.forEach(i=>{const o=Fi.subtract(Fi.create(),i[1],i[0]);Fi.divide(o,o,r);let a=i[0];for(let l=1;l<=n;++l){const c=Fi.add(Fi.create(),a,o);s.push([a,c]),a=c}}),s},wm=Am*Am/2*Math.sin(Math.PI/3),ik=(e,t)=>{let n=Sm.toEdges(e),r=Sm.toEdges(t);if(n.length!==r.length){const i=sk(n.length,r.length);i!==n.length&&(n=Em(i,n)),i!==r.length&&(r=Em(i,r))}const s=[];return n.forEach((i,o)=>{const a=r[o],l=al.create([i[0],i[1],a[1]]),c=al.measureArea(l);Number.isFinite(c)&&c>wm&&s.push(l);const f=al.create([i[0],a[1],a[0]]),u=al.measureArea(f);Number.isFinite(u)&&u>wm&&s.push(f)}),s};var ok=ik;const Tm=Jt,Cm=wt,ak=Lt,ju=Ut,Es=to,lk=rk,Pm=ok,ck=(e,t,n)=>{let r=null;return Cm.isA(n)&&(r=Es.fromSides(Cm.toSides(n))),ju.isA(n)&&(r=Es.fromPoints(ju.toPoints(n))),e===0||e===1?Es.transform(Tm.fromTranslation(Tm.create(),[0,0,e]),r):null},fk=(e,t)=>{const n={numberOfSlices:2,capStart:!0,capEnd:!0,close:!1,repair:!0,callback:ck},{numberOfSlices:r,capStart:s,capEnd:i,close:o,repair:a,callback:l}=Object.assign({},n,e);if(r<2)throw new Error("numberOfSlices must be 2 or more");a&&(t=lk(t));const c=r-1;let f=null,u=null,h=null,d=[];for(let g=0;g<r;g++){const p=l(g/c,g,t);if(p){if(!Es.isA(p))throw new Error("the callback function must return slice objects");if(Es.toEdges(p).length===0)throw new Error("the callback function must return slices with one or more edges");h&&(d=d.concat(Pm(h,p))),g===0&&(f=p),g===r-1&&(u=p),h=p}}if(i){const g=Es.toPolygons(u);d=d.concat(g)}if(s){const g=Es.toPolygons(f).map(ju.invert);d=d.concat(g)}return!s&&!i&&o&&!Es.equals(u,f)&&(d=d.concat(Pm(u,f))),ak.create(d)};var Zl=fk;const{TAU:pr}=Ht,Ro=Jt,{mirrorX:uk}=No,Mo=wt,lu=to,dk=Zl,hk=(e,t)=>{const n={segments:12,startAngle:0,angle:pr,overflow:"cap"};let{segments:r,startAngle:s,angle:i,overflow:o}=Object.assign({},n,e);if(r<3)throw new Error("segments must be greater then 3");s=Math.abs(s)>pr?s%pr:s,i=Math.abs(i)>pr?i%pr:i;let a=s+i;if(a=Math.abs(a)>pr?a%pr:a,a<s){const b=s;s=a,a=b}let l=a-s;if(l<=0&&(l=pr),Math.abs(l)<pr){const b=pr/r;r=Math.floor(Math.abs(l)/b),Math.abs(l)>r*b&&r++}let c=Mo.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(b=>b[0][0]<0),u=c.filter(b=>b[0][0]>=0);f.length>0&&u.length>0&&o==="cap"&&(f.length>u.length?(c=c.map(b=>{let _=b[0],S=b[1];return _=[Math.min(_[0],0),_[1]],S=[Math.min(S[0],0),S[1]],[_,S]}),t=Mo.reverse(Mo.create(c)),t=uk(t)):u.length>=f.length&&(c=c.map(b=>{let _=b[0],S=b[1];return _=[Math.max(_[0],0),_[1]],S=[Math.max(S[0],0),S[1]],[_,S]}),t=Mo.create(c)));const d=l/r,g=Math.abs(l)<pr,p=lu.fromSides(Mo.toSides(t));lu.reverse(p,p);const m=Ro.create(),v=(b,_,S)=>{let E=d*_+s;return l===pr&&_===r&&(E=s),Ro.multiply(m,Ro.fromZRotation(m,E),Ro.fromXRotation(Ro.create(),pr/4)),lu.transform(m,S)};return e={numberOfSlices:r+1,capStart:g,capEnd:g,close:!g,callback:v},dk(e,p)};var B2=hk;const mk=yt,Lm=Jt,Om=wt,Rm=Lt,Mm=Zt,Kl=(e,...t)=>{if(!Array.isArray(e))throw new Error("angles must be an array");if(t=mk(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=e[2],r=e[1],s=e[0],i=Lm.fromTaitBryanRotation(Lm.create(),n,r,s),o=t.map(a=>Mm.isA(a)?Mm.transform(i,a):Om.isA(a)?Om.transform(i,a):Rm.isA(a)?Rm.transform(i,a):a);return o.length===1?o[0]:o},pk=(e,...t)=>Kl([e,0,0],t),gk=(e,...t)=>Kl([0,e,0],t),vk=(e,...t)=>Kl([0,0,e],t);var Uo={rotate:Kl,rotateX:pk,rotateY:gk,rotateZ:vk};const bk=yt,Im=Jt,Dm=wt,Fm=Lt,km=Zt,Ql=(e,...t)=>{if(!Array.isArray(e))throw new Error("offset must be an array");if(t=bk(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=Im.fromTranslation(Im.create(),e),r=t.map(s=>km.isA(s)?km.transform(n,s):Dm.isA(s)?Dm.transform(n,s):Fm.isA(s)?Fm.transform(n,s):s);return r.length===1?r[0]:r},_k=(e,...t)=>Ql([e,0,0],t),yk=(e,...t)=>Ql([0,e,0],t),Ak=(e,...t)=>Ql([0,0,e],t);var si={translate:Ql,translateX:_k,translateY:yk,translateZ:Ak};const{TAU:Sk}=Ht,Ek=B2,{rotate:wk}=Uo,{translate:Tk}=si,Ck=w2,{isGT:cu,isGTE:fu}=Nn,Pk=e=>{const t={innerRadius:1,innerSegments:32,outerRadius:4,outerSegments:32,innerRotation:0,startAngle:0,outerRotation:Sk},{innerRadius:n,innerSegments:r,outerRadius:s,outerSegments:i,innerRotation:o,startAngle:a,outerRotation:l}=Object.assign({},t,e);if(!cu(n,0))throw new Error("innerRadius must be greater than zero");if(!fu(r,3))throw new Error("innerSegments must be three or more");if(!cu(s,0))throw new Error("outerRadius must be greater than zero");if(!fu(i,3))throw new Error("outerSegments must be three or more");if(!fu(a,0))throw new Error("startAngle must be positive");if(!cu(l,0))throw new Error("outerRotation must be greater than zero");if(n>=s)throw new Error("inner circle is two large to rotate about the outer circle");let c=Ck({radius:n,segments:r});return o!==0&&(c=wk([0,0,o],c)),c=Tk([s,0],c),Ek({startAngle:a,angle:l,segments:i},c)};var Lk=Pk;const{NEPS:Zi}=Ht,Io=Rt,Ok=wt,{isNumberArray:Rk}=Nn,qu=(e,t,n)=>Math.acos((e*e+t*t-n*n)/(2*e*t)),Mk=(e,t,n)=>t>Zi?Math.sqrt(e*e+n*n-2*e*n*Math.cos(t)):Math.sqrt((e-n)*(e-n)+e*n*t*t*(1-t*t/12)),Ik=e=>{if(Math.abs(e[0]+e[1]+e[2]-Math.PI)>Zi)throw new Error("AAA triangles require angles that sum to PI");const n=e[0],r=e[1],s=Math.PI-n-r,i=1,o=i/Math.sin(s)*Math.sin(n),a=i/Math.sin(s)*Math.sin(r);return no(n,r,s,o,a,i)},Dk=e=>{const t=e[0],n=e[1],r=Math.PI+Zi-t-n;if(r<Zi)throw new Error("AAS triangles require angles that sum to PI");const s=e[2],i=s/Math.sin(t)*Math.sin(n),o=s/Math.sin(t)*Math.sin(r);return no(t,n,r,s,i,o)},Fk=e=>{const t=e[0],n=e[2],r=Math.PI+Zi-t-n;if(r<Zi)throw new Error("ASA triangles require angles that sum to PI");const s=e[1],i=s/Math.sin(r)*Math.sin(t),o=s/Math.sin(r)*Math.sin(n);return no(t,n,r,i,o,s)},kk=e=>{const t=e[0],n=e[1],r=e[2],s=Mk(t,n,r),i=qu(s,t,r),o=Math.PI-i-n;return no(i,n,o,r,s,t)},xk=e=>{const t=e[0],n=e[1],r=e[2],s=Math.asin(n*Math.sin(r)/t),i=Math.PI-s-r,o=t/Math.sin(r)*Math.sin(i);return no(s,i,r,n,o,t)},Gk=e=>{const t=e[1],n=e[2],r=e[0];if(t+n<=r||n+r<=t||r+t<=n)throw new Error("SSS triangle is incorrect, as the longest side is longer than the sum of the other sides");const s=qu(n,r,t),i=qu(r,t,n),o=Math.PI-s-i;return no(s,i,o,t,n,r)},no=(e,t,n,r,s,i)=>{const o=Io.fromValues(0,0),a=Io.fromValues(i,0),l=Io.fromValues(r,0);return Io.add(l,Io.rotate(l,l,[0,0],Math.PI-t),a),Ok.fromPoints([o,a,l])},Bk=e=>{const t={type:"SSS",values:[1,1,1]};let{type:n,values:r}=Object.assign({},t,e);if(typeof n!="string")throw new Error("triangle type must be a string");if(n=n.toUpperCase(),!((n[0]==="A"||n[0]==="S")&&(n[1]==="A"||n[1]==="S")&&(n[2]==="A"||n[2]==="S")))throw new Error("triangle type must contain three letters; A or S");if(!Rk(r,3))throw new Error("triangle values must contain three values");if(!r.every(s=>s>0))throw new Error("triangle values must be greater than zero");switch(n){case"AAA":return Ik(r);case"AAS":return Dk(r);case"ASA":return Fk(r);case"SAS":return kk(r);case"SSA":return xk(r);case"SSS":return Gk(r);default:throw new Error("invalid triangle type, try again")}};var Nk=Bk,N2={arc:tD,circle:w2,cube:gD,cuboid:T2,cylinder:CD,cylinderElliptic:C2,ellipse:E2,ellipsoid:P2,geodesicSphere:BD,line:UD,polygon:HD,polyhedron:L2,rectangle:O2,roundedCuboid:JD,roundedCylinder:iF,roundedRectangle:fF,sphere:R2,square:vF,star:EF,torus:Lk,triangle:Nk},Vk={height:14,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]};const Uk=Vk,$k={xOffset:0,yOffset:0,input:"?",align:"left",font:Uk,height:14,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0},Hk=(e,t)=>{!t&&typeof e=="string"&&(e={input:e}),e=e||{};const n=Object.assign({},$k,e);return n.input=t||n.input,n};var V2=Hk;const zk=V2,jk=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,extrudeOffset:a}=zk(e,t);let l=s.charCodeAt(0);(!l||!i[l])&&(l=63);const c=[].concat(i[l]),f=(o-a)/i.height,u=a/2,h=c.shift()*f,d=[];let g=[];for(let p=0,m=c.length;p<m;p+=2){const v=f*c[p]+n,b=f*c[p+1]+r+u;if(c[p]!==void 0){g.push([v,b]);continue}d.push(g),g=[],p--}return g.length&&d.push(g),{width:h,height:o,segments:d}};var U2=jk;const qk=U2,Xk=V2,xm=(e,t)=>{const{x:n,y:r}=Object.assign({x:0,y:0},e||{}),s=t.segments;let i=null,o=null;for(let a=0,l=s.length;a<l;a++){i=s[a];for(let c=0,f=i.length;c<f;c++)o=i[c],i[c]=[o[0]+n,o[1]+r]}return t},Wk=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,align:a,extrudeOffset:l,lineSpacing:c,letterSpacing:f}=Xk(e,t);let[u,h]=[n,r],d,g,p,m,v,b,_={width:0,segments:[]};const S=[];let E=[],w=0;const A=u,L=()=>{S.push(_),w=Math.max(w,_.width),_={width:0,segments:[]}};for(d=0,g=s.length;d<g;d++){if(p=s[d],m=qk({xOffset:u,yOffset:h,font:i,height:o,extrudeOffset:l},p),p===`
`){u=A,h-=m.height*c,L();continue}v=m.width*f,_.width+=v,u+=v,p!==" "&&(_.segments=_.segments.concat(m.segments))}for(_.segments.length&&L(),d=0,g=S.length;d<g;d++)_=S[d],w>_.width&&(b=w-_.width,a==="right"?_=xm({x:b},_):a==="center"&&(_=xm({x:b/2},_))),E=E.concat(_.segments);return E};var Yk=Wk,Zk={vectorChar:U2,vectorText:Yk};const Kk=wt,Qk=Lt,Jk=Zt,ex=e=>{let t;for(const n of e){let r=0;if(Kk.isA(n)&&(r=1),Qk.isA(n)&&(r=2),Jk.isA(n)&&(r=3),t&&r!==t)return!1;t=r}return!0};var ra=ex;const tx=e=>e*.017453292519943295;var nx=tx;const rx=(e,t)=>e-t;var $2=rx;const sx=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}e.splice(r,0,t)};var ix=sx;const{TAU:Gm}=Ht,ox=(e,t,n)=>{const r=t>0?e*Gm/t:0,s=n>0?Gm/n:0;return Math.ceil(Math.max(r,s,4))};var ax=ox;const lx=e=>e*57.29577951308232;var cx=lx,H2={areAllShapesTheSameType:ra,degToRad:nx,flatten:yt,fnNumberSort:$2,insertSorted:ix,radiusToSegments:ax,radToDeg:cx};const Bm=Rt,fx=wt,ux=(e,t)=>{if(t.vertices.length<4)return null;const n=[],r=t.vertices.filter((o,a)=>o[2]>0?(n.push(a),!0):!1);if(r.length!==2)throw new Error("Assertion failed: fromFakePolygon: not enough points found");const s=r.map(o=>{const a=Math.round(o[0]/e)*e+0,l=Math.round(o[1]/e)*e+0;return Bm.fromValues(a,l)});if(Bm.equals(s[0],s[1]))return null;const i=n[1]-n[0];if(i===1||i===3)i===1&&s.reverse();else throw new Error("Assertion failed: fromFakePolygon: unknown index ordering");return s},dx=(e,t)=>{const n=t.map(r=>ux(e,r)).filter(r=>r!==null);return fx.create(n)};var bd=dx;const As=lt,hx=wt,mx=Lt,px=Ut,gx=(e,t,n)=>{const r=[As.fromVec2(As.create(),n[0],e),As.fromVec2(As.create(),n[1],e),As.fromVec2(As.create(),n[1],t),As.fromVec2(As.create(),n[0],t)];return px.create(r)},vx=(e,t)=>{const r=hx.toSides(t).map(i=>gx(e.z0,e.z1,i));return mx.create(r)};var _d=vx;const Nm=Jt,bx=Rt,kn=lt,ai=function(e,t){arguments.length<2&&(t=kn.orthogonal(kn.create(),e)),this.v=kn.normalize(kn.create(),kn.cross(kn.create(),e,t)),this.u=kn.cross(kn.create(),this.v,e),this.plane=e,this.planeorigin=kn.scale(kn.create(),e,e[3])};ai.GetCartesian=function(e,t){const n=e+"/"+t;let r,s;if(n==="X/Y")r=[0,0,1],s=[1,0,0];else if(n==="Y/-X")r=[0,0,1],s=[0,1,0];else if(n==="-X/-Y")r=[0,0,1],s=[-1,0,0];else if(n==="-Y/X")r=[0,0,1],s=[0,-1,0];else if(n==="-X/Y")r=[0,0,-1],s=[-1,0,0];else if(n==="-Y/-X")r=[0,0,-1],s=[0,-1,0];else if(n==="X/-Y")r=[0,0,-1],s=[1,0,0];else if(n==="Y/X")r=[0,0,-1],s=[0,1,0];else if(n==="X/Z")r=[0,-1,0],s=[1,0,0];else if(n==="Z/-X")r=[0,-1,0],s=[0,0,1];else if(n==="-X/-Z")r=[0,-1,0],s=[-1,0,0];else if(n==="-Z/X")r=[0,-1,0],s=[0,0,-1];else if(n==="-X/Z")r=[0,1,0],s=[-1,0,0];else if(n==="-Z/-X")r=[0,1,0],s=[0,0,-1];else if(n==="X/-Z")r=[0,1,0],s=[1,0,0];else if(n==="Z/X")r=[0,1,0],s=[0,0,1];else if(n==="Y/Z")r=[1,0,0],s=[0,1,0];else if(n==="Z/-Y")r=[1,0,0],s=[0,0,1];else if(n==="-Y/-Z")r=[1,0,0],s=[0,-1,0];else if(n==="-Z/Y")r=[1,0,0],s=[0,0,-1];else if(n==="-Y/Z")r=[-1,0,0],s=[0,-1,0];else if(n==="-Z/-Y")r=[-1,0,0],s=[0,0,-1];else if(n==="Y/-Z")r=[-1,0,0],s=[0,1,0];else if(n==="Z/Y")r=[-1,0,0],s=[0,0,1];else throw new Error("OrthoNormalBasis.GetCartesian: invalid combination of axis identifiers. Should pass two string arguments from [X,Y,Z,-X,-Y,-Z], being two different axes.");return new ai(new Plane(new Vector3D(r),0),new Vector3D(s))};ai.Z0Plane=function(){const e=new Plane(new Vector3D([0,0,1]),0);return new ai(e,new Vector3D([1,0,0]))};ai.prototype={getProjectionMatrix:function(){return Nm.fromValues(this.u[0],this.v[0],this.plane[0],0,this.u[1],this.v[1],this.plane[1],0,this.u[2],this.v[2],this.plane[2],0,0,0,-this.plane[3],1)},getInverseProjectionMatrix:function(){const e=kn.scale(kn.create(),this.plane,this.plane[3]);return Nm.fromValues(this.u[0],this.u[1],this.u[2],0,this.v[0],this.v[1],this.v[2],0,this.plane[0],this.plane[1],this.plane[2],0,e[0],e[1],e[2],1)},to2D:function(e){return bx.fromValues(kn.dot(e,this.u),kn.dot(e,this.v))},to3D:function(e){const t=kn.scale(kn.create(),this.u,e[0]),n=kn.scale(kn.create(),this.v,e[1]),r=kn.add(t,t,this.planeorigin);return kn.add(n,n,r)},line3Dto2D:function(e){const t=e.point,n=e.direction.plus(t),r=this.to2D(t),s=this.to2D(n);return Line2D.fromPoints(r,s)},line2Dto3D:function(e){const t=e.origin(),n=e.direction().plus(t),r=this.to3D(t),s=this.to3D(n);return Line3D.fromPoints(r,s)},transform:function(e){const t=this.plane.transform(e),n=this.u.transform(e),r=new Vector3D(0,0,0).transform(e),s=n.minus(r);return new ai(t,s)}};var _x=ai;const{EPS:Kr}=Ht,Ss=hd,Cr=Rt,yx=_x,ki=s2,{insertSorted:Ax,fnNumberSort:Sx}=H2,Vm=Ut,Ex=e=>{if(e.length<2)return e;const t=[],n=e.length,r=Vm.plane(e[0]),s=new yx(r),i=[],o=[],a=new Map,l=new Map,c=new Map,f=10/Kr;for(let g=0;g<n;g++){const p=e[g];let m=[],v=p.vertices.length,b=-1;if(v>0){let _,S;for(let E=0;E<v;E++){let w=s.to2D(p.vertices[E]);const A=Math.floor(w[1]*f);let L;c.has(A)?L=c.get(A):c.has(A+1)?L=c.get(A+1):c.has(A-1)?L=c.get(A-1):(L=w[1],c.set(A,w[1])),w=Cr.fromValues(w[0],L),m.push(w);const U=w[1];(E===0||U<_)&&(_=U,b=E),(E===0||U>S)&&(S=U);let B=l.get(U);B||(B={},l.set(U,B)),B[g]=!0}if(_>=S)m=[],v=0,b=-1;else{let E=a.get(_);E||(E=[],a.set(_,E)),E.push(g)}}m.reverse(),b=v-b-1,i.push(m),o.push(b)}const u=[];l.forEach((g,p)=>u.push(p)),u.sort(Sx);let h=[],d=[];for(let g=0;g<u.length;g++){const p=[],m=u[g],v=l.get(m);for(let _=0;_<h.length;++_){const S=h[_],E=S.polygonindex;if(v[E]){const w=i[E],A=w.length;let L=S.leftvertexindex,U=S.rightvertexindex;for(;;){let k=L+1;if(k>=A&&(k=0),w[k][1]!==m)break;L=k}let B=U-1;if(B<0&&(B=A-1),w[B][1]===m&&(U=B),L!==S.leftvertexindex&&L===U)h.splice(_,1),--_;else{S.leftvertexindex=L,S.rightvertexindex=U,S.topleft=w[L],S.topright=w[U];let k=L+1;k>=A&&(k=0),S.bottomleft=w[k];let se=U-1;se<0&&(se=A-1),S.bottomright=w[se]}}}let b;if(g>=u.length-1)h=[],b=null;else{b=Number(u[g+1]);const _=.5*(m+b),S=a.get(m);for(const E in S){const w=S[E],A=i[w],L=A.length,U=o[w];let B=U;for(;;){let Ie=B+1;if(Ie>=L&&(Ie=0),A[Ie][1]!==m||Ie===U)break;B=Ie}let k=U;for(;;){let Ie=k-1;if(Ie<0&&(Ie=L-1),A[Ie][1]!==m||Ie===B)break;k=Ie}let se=B+1;se>=L&&(se=0);let V=k-1;V<0&&(V=L-1);const j={polygonindex:w,leftvertexindex:B,rightvertexindex:k,topleft:A[B],topright:A[k],bottomleft:A[se],bottomright:A[V]};Ax(h,j,(Ie,ne)=>{const H=ki(Ie.topleft,Ie.bottomleft,_),fe=ki(ne.topleft,ne.bottomleft,_);return H>fe?1:H<fe?-1:0})}}for(const _ in h){const S=h[_];let E=ki(S.topleft,S.bottomleft,m);const w=Cr.fromValues(E,m);E=ki(S.topright,S.bottomright,m);const A=Cr.fromValues(E,m);E=ki(S.topleft,S.bottomleft,b);const L=Cr.fromValues(E,b);E=ki(S.topright,S.bottomright,b);const U=Cr.fromValues(E,b),B={topleft:w,topright:A,bottomleft:L,bottomright:U,leftline:Ss.fromPoints(Ss.create(),w,L),rightline:Ss.fromPoints(Ss.create(),U,A)};if(p.length>0){const k=p[p.length-1],se=Cr.distance(B.topleft,k.topright),V=Cr.distance(B.bottomleft,k.bottomright);se<Kr&&V<Kr&&(B.topleft=k.topleft,B.leftline=k.leftline,B.bottomleft=k.bottomleft,p.splice(p.length-1,1))}p.push(B)}if(g>0){const _=new Set,S=new Set;for(let E=0;E<p.length;E++){const w=p[E];for(let A=0;A<d.length;A++)if(!S.has(A)){const L=d[A];if(Cr.distance(L.bottomleft,w.topleft)<Kr&&Cr.distance(L.bottomright,w.topright)<Kr){S.add(A);const U=Ss.direction(w.leftline),B=Ss.direction(L.leftline),k=U[0]-B[0],se=Ss.direction(w.rightline),V=Ss.direction(L.rightline),j=se[0]-V[0],Ie=Math.abs(k)<Kr,ne=Math.abs(j)<Kr,H=Ie||k>=0,fe=ne||j>=0;H&&fe&&(w.outpolygon=L.outpolygon,w.leftlinecontinues=Ie,w.rightlinecontinues=ne,_.add(A));break}}}for(let E=0;E<d.length;E++)if(!_.has(E)){const w=d[E];w.outpolygon.rightpoints.push(w.bottomright),Cr.distance(w.bottomright,w.bottomleft)>Kr&&w.outpolygon.leftpoints.push(w.bottomleft),w.outpolygon.leftpoints.reverse();const L=w.outpolygon.rightpoints.concat(w.outpolygon.leftpoints).map(B=>s.to3D(B)),U=Vm.fromPointsAndPlane(L,r);U.vertices.length&&t.push(U)}}for(let _=0;_<p.length;_++){const S=p[_];S.outpolygon?(S.leftlinecontinues||S.outpolygon.leftpoints.push(S.topleft),S.rightlinecontinues||S.outpolygon.rightpoints.push(S.topright)):(S.outpolygon={leftpoints:[],rightpoints:[]},S.outpolygon.leftpoints.push(S.topleft),Cr.distance(S.topleft,S.topright)>Kr&&S.outpolygon.rightpoints.push(S.topright))}d=p}return t};var wx=Ex;const Um=Lt,$m=Ut,Tx=Xl,Cx=wx,Px=(e,t)=>Math.abs(e[3]-t[3])<15e-8?Tx(e,t):!1,Lx=e=>{if(e.isRetesselated)return e;const t=Um.toPolygons(e),n=[];t.forEach(i=>{const o=n.find(a=>Px(a[0],$m.plane(i)));o?o[1].push(i):n.push([$m.plane(i),[i]])});let r=[];n.forEach(i=>{const o=i[1],a=Cx(o);r=r.concat(a)});const s=Um.create(r);return s.isRetesselated=!0,s};var sa=Lx;const{EPS:xi}=Ht,Hm=ci,Ox=(e,t)=>{if(e.polygons.length===0||t.polygons.length===0)return!1;const n=Hm(e),r=n[0],s=n[1],i=Hm(t),o=i[0],a=i[1];return!(o[0]-s[0]>xi||r[0]-a[0]>xi||o[1]-s[1]>xi||r[1]-a[1]>xi||o[2]-s[2]>xi||r[2]-a[2]>xi)};var yd=Ox;const zm=Hr,Rx=Ut;let Mx=class Xu{constructor(t){this.plane=null,this.front=null,this.back=null,this.polygontreenodes=[],this.parent=t}invert(){const t=[this];let n;for(let r=0;r<t.length;r++){n=t[r],n.plane&&(n.plane=zm.flip(zm.create(),n.plane)),n.front&&t.push(n.front),n.back&&t.push(n.back);const s=n.front;n.front=n.back,n.back=s}}clipPolygons(t,n){let r={node:this,polygontreenodes:t},s;const i=[];do{if(s=r.node,t=r.polygontreenodes,s.plane){const o=s.plane,a=[],l=[],c=n?a:l,f=t.length;for(let h=0;h<f;h++){const d=t[h];d.isRemoved()||d.splitByPlane(o,c,a,l,a)}s.front&&l.length>0&&i.push({node:s.front,polygontreenodes:l});const u=a.length;if(s.back&&u>0)i.push({node:s.back,polygontreenodes:a});else for(let h=0;h<u;h++)a[h].remove()}r=i.pop()}while(r!==void 0)}clipTo(t,n){let r=this;const s=[];do r.polygontreenodes.length>0&&t.rootnode.clipPolygons(r.polygontreenodes,n),r.front&&s.push(r.front),r.back&&s.push(r.back),r=s.pop();while(r!==void 0)}addPolygonTreeNodes(t){let n={node:this,polygontreenodes:t};const r=[];do{const s=n.node,i=n.polygontreenodes;if(i.length===0){n=r.pop();continue}if(!s.plane){let c=0;c=Math.floor(i.length/2);const f=i[c].getPolygon();s.plane=Rx.plane(f)}const o=[],a=[],l=i.length;for(let c=0;c<l;++c)i[c].splitByPlane(s.plane,s.polygontreenodes,a,o,a);o.length>0&&(s.front||(s.front=new Xu(s)),l===o.length&&a.length===0?s.front.polygontreenodes=o:r.push({node:s.front,polygontreenodes:o})),a.length>0&&(s.back||(s.back=new Xu(s)),l===a.length&&o.length===0?s.back.polygontreenodes=a:r.push({node:s.back,polygontreenodes:a})),n=r.pop()}while(n!==void 0)}};var Ix=Mx;const Gi=lt,Dx=(e,t,n)=>{const r=Gi.subtract(Gi.create(),n,t);let s=(e[3]-Gi.dot(e,t))/Gi.dot(e,r);return Number.isNaN(s)&&(s=0),s>1&&(s=1),s<0&&(s=0),Gi.scale(r,r,s),Gi.add(r,t,r),r};var Fx=Dx;const{EPS:ll}=Ht,kx=Hr,cl=lt,uu=Ut,xx=Fx,Gx=(e,t)=>{const n={type:null,front:null,back:null},r=t.vertices,s=r.length,i=uu.plane(t);if(kx.equals(i,e))n.type=0;else{let o=!1,a=!1;const l=[],c=-ll;for(let f=0;f<s;f++){const u=cl.dot(e,r[f])-e[3],h=u<c;l.push(h),u>ll&&(o=!0),u<c&&(a=!0)}if(!o&&!a){const f=cl.dot(e,i);n.type=f>=0?0:1}else if(!a)n.type=2;else if(!o)n.type=3;else{n.type=4;const f=[],u=[];let h=l[0];for(let g=0;g<s;g++){const p=r[g];let m=g+1;m>=s&&(m=0);const v=l[m];if(h===v)h?u.push(p):f.push(p);else{const b=r[m],_=xx(e,p,b);h?(u.push(p),u.push(_),f.push(_)):(f.push(p),f.push(_),u.push(_))}h=v}const d=ll*ll;if(u.length>=3){let g=u[u.length-1];for(let p=0;p<u.length;p++){const m=u[p];cl.squaredDistance(m,g)<d&&(u.splice(p,1),p--),g=m}}if(f.length>=3){let g=f[f.length-1];for(let p=0;p<f.length;p++){const m=f[p];cl.squaredDistance(m,g)<d&&(f.splice(p,1),p--),g=m}}f.length>=3&&(n.front=uu.fromPointsAndPlane(f,i)),u.length>=3&&(n.back=uu.fromPointsAndPlane(u,i))}}return n};var Bx=Gx;const{EPS:Nx}=Ht,Vx=lt,jm=Ut,Ux=Bx;let $x=class z2{constructor(t,n){this.parent=t,this.children=[],this.polygon=n,this.removed=!1}addPolygons(t){if(!this.isRootNode())throw new Error("Assertion failed");const n=this;t.forEach(r=>{n.addChild(r)})}remove(){if(!this.removed){this.removed=!0,this.polygon=null;const t=this.parent.children,n=t.indexOf(this);if(n<0)throw new Error("Assertion failed");t.splice(n,1),this.parent.recursivelyInvalidatePolygon()}}isRemoved(){return this.removed}isRootNode(){return!this.parent}invert(){if(!this.isRootNode())throw new Error("Assertion failed");this.invertSub()}getPolygon(){if(!this.polygon)throw new Error("Assertion failed");return this.polygon}getPolygons(t){let n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s)for(n=r[s],i=0,o=n.length;i<o;i++)a=n[i],a.polygon?t.push(a.polygon):a.children.length>0&&r.push(a.children)}splitByPlane(t,n,r,s,i){if(this.children.length){const o=[this.children];let a,l,c,f,u;for(a=0;a<o.length;a++)for(u=o[a],l=0,c=u.length;l<c;l++)f=u[l],f.children.length>0?o.push(f.children):f._splitByPlane(t,n,r,s,i)}else this._splitByPlane(t,n,r,s,i)}_splitByPlane(t,n,r,s,i){const o=this.polygon;if(o){const a=jm.measureBoundingSphere(o),l=a[3]+Nx,c=a,f=Vx.dot(t,c)-t[3];if(f>l)s.push(this);else if(f<-l)i.push(this);else{const u=Ux(t,o);switch(u.type){case 0:n.push(this);break;case 1:r.push(this);break;case 2:s.push(this);break;case 3:i.push(this);break;case 4:if(u.front){const h=this.addChild(u.front);s.push(h)}if(u.back){const h=this.addChild(u.back);i.push(h)}break}}}}addChild(t){const n=new z2(this,t);return this.children.push(n),n}invertSub(){let t=[this];const n=[t];let r,s,i,o;for(r=0;r<n.length;r++)for(t=n[r],s=0,i=t.length;s<i;s++)o=t[s],o.polygon&&(o.polygon=jm.invert(o.polygon)),o.children.length>0&&n.push(o.children)}recursivelyInvalidatePolygon(){this.polygon=null,this.parent&&this.parent.recursivelyInvalidatePolygon()}clear(){let t=[this];const n=[t];for(let r=0;r<n.length;++r){t=n[r];const s=t.length;for(let i=0;i<s;i++){const o=t[i];o.polygon&&(o.polygon=null),o.parent&&(o.parent=null),o.children.length>0&&n.push(o.children),o.children=[]}}}toString(){let t="",n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s){n=r[s];const l=" ".repeat(s);for(i=0,o=n.length;i<o;i++)a=n[i],t+=`${l}PolygonTreeNode (${a.isRootNode()}): ${a.children.length}`,a.polygon?t+=`
 ${l}polygon: ${a.polygon.vertices}
`:t+=`
`,a.children.length>0&&r.push(a.children)}return t}};var Hx=$x;const zx=Ix,jx=Hx;let qx=class{constructor(t){this.polygonTree=new jx,this.rootnode=new zx(null),t&&this.addPolygons(t)}invert(){this.polygonTree.invert(),this.rootnode.invert()}clipTo(t,n=!1){this.rootnode.clipTo(t,n)}allPolygons(){const t=[];return this.polygonTree.getPolygons(t),t}addPolygons(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=this.polygonTree.addChild(t[r]);this.rootnode.addPolygonTreeNodes(n)}clear(){this.polygonTree.clear()}toString(){return"Tree: "+this.polygonTree.toString("")}};var Xx=qx,Ad={Tree:Xx};const fl=Lt,Wx=yd,{Tree:qm}=Ad,Yx=(e,t)=>{if(!Wx(e,t))return fl.create();const n=new qm(fl.toPolygons(e)),r=new qm(fl.toPolygons(t));n.invert(),r.clipTo(n),r.invert(),n.clipTo(r),r.clipTo(n),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return fl.create(s)};var Zx=Yx;const Kx=yt,Qx=sa,Jx=Zx,eG=(...e)=>{e=Kx(e);let t=e.shift();return e.forEach(n=>{t=Jx(t,n)}),t=Qx(t),t};var j2=eG;const tG=yt,nG=Lt,rG=Ts,sG=bd,iG=_d,oG=j2,aG=(...e)=>{e=tG(e);const t=e.map(s=>iG({z0:-1,z1:1},s)),n=oG(t),r=rG(n);return sG(r,nG.toPolygons(n))};var lG=aG;const cG=yt,fG=ra,uG=wt,dG=Lt,hG=lG,mG=j2,pG=(...e)=>{if(e=cG(e),e.length===0)throw new Error("wrong number of arguments");if(!fG(e))throw new Error("only intersect of the types are supported");const t=e[0];return uG.isA(t)?hG(e):dG.isA(t)?mG(e):t};var gG=pG;const du=lt,vG=Ts,Xm=Lt,bG=e=>e.sort((t,n)=>t-n).filter((t,n,r)=>!n||t!==r[n-1]),_G=(e,t,n)=>{const r=`${t}`,s=e.get(r);s===void 0?e.set(r,[n]):s.push(n)},yG=(e,t)=>{const n=`${t}`;return e.get(n)},AG=e=>{const t=vG(e),n=Xm.toPolygons(e),r=n.length,s=new Map,i=du.create();n.forEach((f,u)=>{f.vertices.forEach(h=>{_G(s,du.snap(i,h,t),u)})});const o=n.map(f=>{let u=[];return f.vertices.forEach(h=>{u=u.concat(yG(s,du.snap(i,h,t)))}),{e:1,d:bG(u)}});s.clear();let a=0;const l=o.length;for(let f=0;f<l;f++){const u=o[f];if(u.e>0){const h=new Array(r);h[f]=!0;do a=0,h.forEach((d,g)=>{const p=o[g];if(p.e>0){p.e=-1;for(let m=0;m<p.d.length;m++)h[p.d[m]]=!0;a++}});while(a>0);u.indexes=h}}const c=[];for(let f=0;f<l;f++)if(o[f].indexes){const u=[];o[f].indexes.forEach((h,d)=>u.push(n[d])),c.push(Xm.create(u))}return c};var SG=AG;const EG=yt,wG=Lt,TG=SG,CG=(...e)=>{if(e=EG(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>wG.isA(n)?TG(n):n);return t.length===1?t[0]:t};var PG=CG;const ul=Lt,LG=yd,{Tree:Wm}=Ad,OG=(e,t)=>{if(!LG(e,t))return ul.clone(e);const n=new Wm(ul.toPolygons(e)),r=new Wm(ul.toPolygons(t));n.invert(),n.clipTo(r),r.clipTo(n,!0),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return ul.create(s)};var RG=OG;const MG=yt,IG=sa,DG=RG,FG=(...e)=>{e=MG(e);let t=e.shift();return e.forEach(n=>{t=DG(t,n)}),t=IG(t),t};var q2=FG;const kG=yt,xG=Lt,GG=Ts,BG=bd,NG=_d,VG=q2,UG=(...e)=>{e=kG(e);const t=e.map(s=>NG({z0:-1,z1:1},s)),n=VG(t),r=GG(n);return BG(r,xG.toPolygons(n))};var $G=UG;const HG=yt,zG=ra,jG=wt,qG=Lt,XG=$G,WG=q2,YG=(...e)=>{if(e=HG(e),e.length===0)throw new Error("wrong number of arguments");if(!zG(e))throw new Error("only subtract of the types are supported");const t=e[0];return jG.isA(t)?XG(e):qG.isA(t)?WG(e):t};var ZG=YG;const ji=Lt,KG=yd,{Tree:Ym}=Ad,QG=(e,t)=>{if(!KG(e,t))return JG(e,t);const n=new Ym(ji.toPolygons(e)),r=new Ym(ji.toPolygons(t));n.clipTo(r,!1),r.clipTo(n),r.invert(),r.clipTo(n),r.invert();const s=n.allPolygons().concat(r.allPolygons());return ji.create(s)},JG=(e,t)=>{let n=ji.toPolygons(e);return n=n.concat(ji.toPolygons(t)),ji.create(n)};var X2=QG;const eB=yt,tB=sa,nB=X2,rB=(...e)=>{e=eB(e);let t;for(t=1;t<e.length;t+=2)e.push(nB(e[t-1],e[t]));let n=e[t-1];return n=tB(n),n};var W2=rB;const sB=yt,iB=Lt,oB=Ts,aB=bd,lB=_d,cB=W2,fB=(...e)=>{e=sB(e);const t=e.map(s=>lB({z0:-1,z1:1},s)),n=cB(t),r=oB(n);return aB(r,iB.toPolygons(n))};var Y2=fB;const uB=yt,dB=ra,hB=wt,mB=Lt,pB=Y2,gB=W2,vB=(...e)=>{if(e=uB(e),e.length===0)throw new Error("wrong number of arguments");if(!dB(e))throw new Error("only unions of the same type are supported");const t=e[0];return hB.isA(t)?pB(e):mB.isA(t)?gB(e):t};var Sd=vB,bB={intersect:gG,scission:PG,subtract:ZG,union:Sd};const{EPS:_B,TAU:yB}=Ht,Zm=i2,Do=hd,vn=Rt,AB=jl,SB=(e,t)=>{const n={delta:1,corners:"edge",closed:!1,segments:16};let{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(Math.abs(r)<_B)return t;let a=e.closed?AB(t):1;a===0&&(a=1);const l=a>0&&r>=0||a<0&&r<0;r=Math.abs(r);let c=null,f=[];const u=[],h=vn.create(),d=t.length;for(let g=0;g<d;g++){const p=(g+1)%d,m=t[g],v=t[p];l?vn.subtract(h,m,v):vn.subtract(h,v,m),vn.normal(h,h),vn.normalize(h,h),vn.scale(h,h,r);const b=vn.add(vn.create(),m,h),_=vn.add(vn.create(),v,h),S=[b,_];if(c!=null&&(i||!i&&p!==0)){const E=Zm(c[0],c[1],S[0],S[1]);E?(f.pop(),S[0]=E):u.push({c:m,s0:c,s1:S})}c=[b,_],!(p===0&&!i)&&(f.push(S[0]),f.push(S[1]))}if(i&&c!=null){const g=f[0],p=f[1],m=Zm(c[0],c[1],g,p);if(m)f[0]=m,f.pop();else{const v=t[0],b=[g,p];u.push({c:v,s0:c,s1:b})}}if(s==="edge"){const g=new Map;f.forEach((v,b)=>g.set(v,b));const p=Do.create(),m=Do.create();u.forEach(v=>{Do.fromPoints(p,v.s0[0],v.s0[1]),Do.fromPoints(m,v.s1[0],v.s1[1]);const b=Do.intersectPointOfLines(p,m);if(Number.isFinite(b[0])&&Number.isFinite(b[1])){const _=v.s0[1],S=g.get(_);f[S]=b,f[(S+1)%f.length]=void 0}else{const _=v.s1[0],S=g.get(_);f[S]=void 0}}),f=f.filter(v=>v!==void 0)}if(s==="round"){let g=Math.floor(o/4);const p=vn.create();u.forEach(m=>{let v=vn.angle(vn.subtract(p,m.s1[0],m.c));if(v-=vn.angle(vn.subtract(p,m.s0[1],m.c)),l&&v<0&&(v=v+Math.PI,v<0&&(v=v+Math.PI)),!l&&v>0&&(v=v-Math.PI,v>0&&(v=v-Math.PI)),v!==0){g=Math.floor(o*(Math.abs(v)/yB));const b=v/g,_=vn.angle(vn.subtract(p,m.s0[1],m.c)),S=[];for(let E=1;E<g;E++){const w=_+b*E,A=vn.fromAngleRadians(vn.create(),w);vn.scale(A,A,r),vn.add(A,A,m.c),S.push(A)}if(S.length>0){const E=m.s0[1];let w=f.findIndex(A=>vn.equals(E,A));w=(w+1)%f.length,f.splice(w,0,...S)}}else{const b=m.s1[0],_=f.findIndex(S=>vn.equals(b,S));f.splice(_,1)}})}return f};var Jl=SB;const dl=wt,EB=Jl,wB=(e,t)=>{const n={delta:1,corners:"edge",segments:16},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const l=dl.toOutlines(t).map(c=>(e={delta:r,corners:s,closed:!0,segments:i},EB(e,c))).reduce((c,f)=>c.concat(dl.toSides(dl.fromPoints(f))),[]);return dl.create(l)};var TB=wB;const Km=Jt,CB=lt,PB=Lt,Fo=Ut,LB=(e,t)=>{CB.dot(Fo.plane(t),e)>0&&(t=Fo.invert(t));const r=[t],s=Fo.transform(Km.fromTranslation(Km.create(),e),t),i=t.vertices.length;for(let o=0;o<i;o++){const a=o<i-1?o+1:0,l=Fo.create([t.vertices[o],s.vertices[o],s.vertices[a],t.vertices[a]]);r.push(l)}return r.push(Fo.invert(s)),PB.create(r)};var OB=LB;const{EPS:RB,TAU:hu}=Ht,Qm=Jt,en=lt,MB=$2,mu=Lt,Ys=Ut,IB=R2,DB=sa,pu=X2,FB=OB,kB=(e,t,n)=>{const r=t.toString();if(e.has(r))e.get(r)[1].push(n);else{const s=[t,[n]];e.set(r,s)}},xB=(e,t,n)=>{const r=t[0].toString(),s=t[1].toString(),i=r<s?`${r},${s}`:`${s},${r}`;if(e.has(i))e.get(i)[1].push(n);else{const o=[t,[n]];e.set(i,o)}},gu=(e,t)=>{e.findIndex(r=>r===t)<0&&e.push(t)},GB=(e,t)=>{const n={delta:1,segments:12},{delta:r,segments:s}=Object.assign({},n,e);let i=mu.create();const o=new Map,a=new Map,l=en.create(),c=en.create();return mu.toPolygons(t).forEach((u,h)=>{const d=en.scale(en.create(),Ys.plane(u),2*r),g=Ys.transform(Qm.fromTranslation(Qm.create(),en.scale(en.create(),d,-.5)),u),p=FB(d,g);i=pu(i,p);const m=u.vertices;for(let v=0;v<m.length;v++){kB(o,m[v],Ys.plane(u));const b=(v+1)%m.length,_=[m[v],m[b]];xB(a,_,Ys.plane(u))}}),a.forEach(u=>{const h=u[0],d=u[1],g=h[0],p=h[1],m=en.subtract(en.create(),p,g);en.normalize(m,m);const v=d[0],b=en.cross(en.create(),v,m);let _=[];for(let k=0;k<s;k++)gu(_,k*hu/s);for(let k=0,se=d.length;k<se;k++){const V=d[k],j=en.dot(b,V),Ie=en.dot(v,V);let ne=Math.atan2(j,Ie);ne<0&&(ne+=hu),gu(_,ne),ne=Math.atan2(-j,-Ie),ne<0&&(ne+=hu),gu(_,ne)}_=_.sort(MB);const S=_.length;let E,w;const A=[],L=[],U=[];for(let k=-1;k<S;k++){const se=_[k<0?k+S:k],V=Math.sin(se),j=Math.cos(se);en.scale(l,v,j*r),en.scale(c,b,V*r),en.add(l,l,c);const Ie=en.add(en.create(),g,l),ne=en.add(en.create(),p,l);let H=!1;if(k>=0&&en.distance(Ie,E)<RB&&(H=!0),!H){if(k>=0){A.push(Ie),L.push(ne);const fe=[w,ne,Ie,E],J=Ys.create(fe);U.push(J)}E=Ie,w=ne}}L.reverse(),U.push(Ys.create(A)),U.push(Ys.create(L));const B=mu.create(U);i=pu(i,B)}),o.forEach(u=>{const h=u[0],d=u[1],g=d[0];let p=null,m=0;for(let S=1;S<d.length;S++){const E=d[S],w=en.cross(l,g,E),A=en.length(w);A>.05&&A>m&&(m=A,p=E)}p||(p=en.orthogonal(l,g));const v=en.cross(l,g,p);en.normalize(v,v);const b=en.cross(c,v,g),_=IB({center:[h[0],h[1],h[2]],radius:r,segments:s,axes:[g,v,b]});i=pu(i,_)}),DB(i)};var BB=GB;const NB=Lt,VB=Sd,UB=BB,$B=(e,t)=>{const n={delta:1,corners:"round",segments:12},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(s!=="round")throw new Error('corners must be "round" for 3D geometries');if(NB.toPolygons(t).length===0)throw new Error("the given geometry cannot be empty");e={delta:r,corners:s,segments:i};const a=UB(e,t);return VB(t,a)};var HB=$B;const zB=jl,or=Rt,Ui=wt,$o=Zt,Jm=Jl,jB=e=>{let{external:t,internal:n}=e;zB(t)<0?t=t.reverse():n=n.reverse();const r=$o.fromPoints({closed:!0},t),s=$o.fromPoints({closed:!0},n),i=Ui.toSides(Ui.fromPoints($o.toPoints(r))),o=Ui.toSides(Ui.fromPoints($o.toPoints(s)));return i.push(...o),Ui.create(i)},qB=(e,t,n,r)=>{const{points:s,external:i,internal:o}=e,a=Math.floor(t/2),l=[],c=[];if(n==="round"&&a>0){const u=Math.PI/a,h=s[s.length-1],d=or.angle(or.subtract(or.create(),i[i.length-1],h)),g=s[0],p=or.angle(or.subtract(or.create(),o[0],g));for(let m=1;m<a;m++){let v=d+u*m,b=or.fromAngleRadians(or.create(),v);or.scale(b,b,r),or.add(b,b,h),l.push(b),v=p+u*m,b=or.fromAngleRadians(or.create(),v),or.scale(b,b,r),or.add(b,b,g),c.push(b)}}const f=[];return f.push(...i,...l,...o.reverse(),...c),Ui.fromPoints(f)},XB=(e,t)=>{e=Object.assign({},{delta:1,corners:"edge",segments:16},e);const{delta:r,corners:s,segments:i}=e;if(r<=0)throw new Error("the given delta must be positive for paths");if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=t.isClosed,a=$o.toPoints(t);if(a.length===0)throw new Error("the given geometry cannot be empty");const l={points:a,external:Jm({delta:r,corners:s,segments:i,closed:o},a),internal:Jm({delta:-r,corners:s,segments:i,closed:o},a)};return t.isClosed?jB(l):qB(l,i,s,r)};var WB=XB;const YB=yt,ZB=wt,KB=Lt,QB=Zt,JB=TB,eN=HB,tN=WB,nN=(e,...t)=>{if(t=YB(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>QB.isA(r)?tN(e,r):ZB.isA(r)?JB(e,r):KB.isA(r)?eN(e,r):r);return n.length===1?n[0]:n};var Ed=nN;const hl=wt,ep=cd,rN=Jl,sN=(e,t)=>{const n={delta:1,corners:"edge",segments:0},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=hl.toOutlines(t),l=o.map(c=>(e={delta:o.reduce((h,d)=>h+ep.arePointsInside(c,ep.create(d)),0)%2===0?r:-r,corners:s,closed:!0,segments:i},rN(e,c))).reduce((c,f)=>c.concat(hl.toSides(hl.fromPoints(f))),[]);return hl.create(l)};var iN=sN;const tp=Zt,oN=Jl,aN=(e,t)=>{const n={delta:1,corners:"edge",closed:t.isClosed,segments:16},{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');e={delta:r,corners:s,closed:i,segments:o};const a=oN(e,tp.toPoints(t));return tp.fromPoints({closed:i},a)};var lN=aN;const cN=yt,fN=wt,uN=Zt,dN=iN,hN=lN,mN=(e,...t)=>{if(t=cN(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>uN.isA(r)?hN(e,r):fN.isA(r)?dN(e,r):r);return n.length===1?n[0]:n};var pN=mN,gN={expand:Ed,offset:pN};const ko=Jt,vu=lt,vN=wt,bu=to,bN=Zl,_N=(e,t)=>{const n={offset:[0,0,1],twistAngle:0,twistSteps:12,repair:!0};let{offset:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(i<1)throw new Error("twistSteps must be 1 or more");s===0&&(i=1);const a=vu.clone(r),l=vN.toSides(t);if(l.length===0)throw new Error("the given geometry cannot be empty");const c=bu.fromSides(l);a[2]<0&&bu.reverse(c,c);const f=ko.create(),u=(h,d,g)=>{const p=d/i*s,m=vu.scale(vu.create(),a,d/i);return ko.multiply(f,ko.fromZRotation(f,p),ko.fromTranslation(ko.create(),m)),bu.transform(f,g)};return e={numberOfSlices:i+1,capStart:!0,capEnd:!0,repair:o,callback:u},bN(e,c)};var ec=_N;const yN=wt,AN=Zt,SN=ec,EN=(e,t)=>{if(!t.isClosed)throw new Error("extruded path must be closed");const n=AN.toPoints(t),r=yN.fromPoints(n);return SN(e,r)};var wN=EN;const TN=yt,CN=wt,PN=Zt,LN=ec,ON=wN,RN=(e,...t)=>{const n={height:1,twistAngle:0,twistSteps:1,repair:!0},{height:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(t=TN(t),t.length===0)throw new Error("wrong number of arguments");e={offset:[0,0,r],twistAngle:s,twistSteps:i,repair:o};const a=t.map(l=>PN.isA(l)?ON(e,l):CN.isA(l)?LN(e,l):l);return a.length===1?a[0]:a};var MN=RN;const IN=Zt,DN=Ed,FN=ec,kN=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(e.delta=r,e.offset=[0,0,s],IN.toPoints(t).length===0)throw new Error("the given geometry cannot be empty");const o=DN(e,t);return FN(e,o)};var xN=kN;const{area:GN}=ta,_u=wt,BN=Zt,NN=Ed,VN=ec,UN=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);e.delta=r,e.offset=[0,0,s];const i=_u.toOutlines(t);if(i.length===0)throw new Error("the given geometry cannot be empty");const a=i.map(c=>(GN(c)<0&&c.reverse(),NN(e,BN.fromPoints({closed:!0},c)))).reduce((c,f)=>c.concat(_u.toSides(f)),[]),l=_u.create(a);return VN(e,l)};var $N=UN;const HN=yt,zN=wt,jN=Zt,qN=xN,XN=$N,WN=(e,...t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(t=HN(t),t.length===0)throw new Error("wrong number of arguments");if(r<=0)throw new Error("size must be positive");if(s<=0)throw new Error("height must be positive");const i=t.map(o=>jN.isA(o)?qN(e,o):zN.isA(o)?XN(e,o):o);return i.length===1?i[0]:i};var YN=WN;const{TAU:xo}=Ht,yu=to,xr=Jt,ZN=Zl,KN=wt,QN=(e,t)=>{const n={angle:xo,startAngle:0,pitch:10,endOffset:0,segmentsPerRotation:32},{angle:r,endOffset:s,segmentsPerRotation:i,startAngle:o}=Object.assign({},n,e);let a;if(!e.pitch&&e.height?a=e.height/(r/xo):a=e.pitch?e.pitch:n.pitch,i<3)throw new Error("The number of segments per rotation needs to be at least 3.");let c=KN.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(v=>v[0][0]>=0);let u=yu.fromSides(c);f.length===0&&(u=yu.reverse(u));const h=Math.round(i/xo*Math.abs(r)),d=h>=2?h:2,g=xr.create();let p;const m=(v,b,_)=>{const S=o+r/d*b,E=s/d*b,w=(S-o)/xo*a;return xr.multiply(g,xr.fromTranslation(xr.create(),[E,0,w*Math.sign(r)]),xr.fromXRotation(xr.create(),-xo/4*Math.sign(r))),p=xr.create(),xr.multiply(p,xr.fromZRotation(xr.create(),S),g),yu.transform(p,_)};return ZN({numberOfSlices:d+1,callback:m},u)};var JN=QN;const e9=yt,np=Xl,Au=Hr,rp=Jt,sp=wt,Z2=Lt,Bi=Ut,t9=Ts,n9=Y2,r9=(e,t)=>{const n=Au.fromNormalAndPoint(Au.create(),e.axis,e.origin);if(Number.isNaN(n[0])||Number.isNaN(n[1])||Number.isNaN(n[2])||Number.isNaN(n[3]))throw new Error("project: invalid axis or origin");const r=t9(t),s=r*r*Math.sqrt(3)/4;if(r===0)return sp.create();const i=Z2.toPolygons(t);let o=[];for(let l=0;l<i.length;l++){const c=i[l].vertices.map(h=>Au.projectionOfPoint(n,h)),f=Bi.create(c),u=Bi.plane(f);np(n,u)&&(Bi.measureArea(f)<s||o.push(f))}if(!np(n,[0,0,1])){const l=rp.fromVectorRotation(rp.create(),n,[0,0,1]);o=o.map(c=>Bi.transform(l,c))}o=o.sort((l,c)=>Bi.measureArea(c)-Bi.measureArea(l));const a=o.map(l=>sp.fromPoints(l.vertices));return n9(a)},s9=(e,...t)=>{const n={axis:[0,0,1],origin:[0,0,0]},{axis:r,origin:s}=Object.assign({},n,e);if(t=e9(t),t.length===0)throw new Error("wrong number of arguments");e={axis:r,origin:s};const i=t.map(o=>Z2.isA(o)?r9(e,o):o);return i.length===1?i[0]:i};var i9=s9,o9={extrudeFromSlices:Zl,extrudeLinear:MN,extrudeRectangular:YN,extrudeRotate:B2,extrudeHelical:JN,project:i9,slice:to};const ip=Rt,a9=e=>{let t=ip.fromValues(1/0,1/0);e.forEach(s=>{(s[1]<t[1]||s[1]===t[1]&&s[0]<t[0])&&(t=s)});const n=[];e.forEach(s=>{const i=c9(s[1]-t[1],s[0]-t[0]),o=ip.squaredDistance(s,t);n.push({point:s,angle:i,distSq:o})}),n.sort((s,i)=>s.angle<i.angle?-1:s.angle>i.angle?1:s.distSq<i.distSq?-1:s.distSq>i.distSq?1:0);const r=[];return n.forEach(s=>{let i=r.length;for(;i>1&&l9(r[i-2],r[i-1],s.point)<=Number.EPSILON;)r.pop(),i=r.length;r.push(s.point)}),r},l9=(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]),c9=(e,t)=>e===0&&t===0?-1/0:-t/e;var K2=a9;const op=wt,ap=Lt,lp=Zt,f9=e=>{const t=new Set,n=[],r=s=>{const i=s.toString();t.has(i)||(n.push(s),t.add(i))};return e.forEach(s=>{op.isA(s)?op.toPoints(s).forEach(r):ap.isA(s)?ap.toPoints(s).forEach(i=>i.forEach(r)):lp.isA(s)&&lp.toPoints(s).forEach(r)}),n};var wd=f9;const u9=yt,d9=Zt,h9=K2,m9=wd,p9=(...e)=>{e=u9(e);const t=m9(e),n=h9(t);return d9.fromPoints({closed:!0},n)};var g9=p9;const v9=yt,cp=wt,b9=K2,_9=wd,y9=(...e)=>{e=v9(e);const t=_9(e),n=b9(t);return n.length<3?cp.create():cp.fromPoints(n)};var A9=y9;const S9=Jo,fp=Bl,up=Ev,E9=(e,t,n)=>{const r=[],s=[],i=[];fp(r,n,t),fp(s,e,t);const o=up(S9(i,s,r)),a=up(r);if(a===0)throw Error("a and b are the same point");return o/a},w9=(e,t,n)=>Math.sqrt(E9(e,t,n));var T9=w9;const C9=Jo,P9=rd,dp=Bl,L9=(e,t,n,r)=>{const s=[0,0,0];return dp(e,t,n),dp(s,n,r),C9(e,e,s),P9(e,e)};var O9=L9;let R9=class{constructor(){this.head=null,this.tail=null}clear(){this.head=this.tail=null}insertBefore(t,n){n.prev=t.prev,n.next=t,n.prev?n.prev.next=n:this.head=n,t.prev=n}insertAfter(t,n){n.prev=t,n.next=t.next,n.next?n.next.prev=n:this.tail=n,t.next=n}add(t){this.head?this.tail.next=t:this.head=t,t.prev=this.tail,t.next=null,this.tail=t}addAll(t){for(this.head?this.tail.next=t:this.head=t,t.prev=this.tail;t.next;)t=t.next;this.tail=t}remove(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}removeChain(t,n){t.prev?t.prev.next=n.next:this.head=n.next,n.next?n.next.prev=t.prev:this.tail=t.prev}first(){return this.head}isEmpty(){return!this.head}};var M9=R9;let I9=class{constructor(t,n){this.point=t,this.index=n,this.next=null,this.prev=null,this.face=null}};var D9=I9;const F9=vv,k9=Sv;let x9=class{constructor(t,n){this.vertex=t,this.face=n,this.next=null,this.prev=null,this.opposite=null}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){return this.tail()?F9(this.tail().point,this.head().point):-1}lengthSquared(){return this.tail()?k9(this.tail().point,this.head().point):-1}setOpposite(t){this.opposite=t,t.opposite=this}};var G9=x9;const Su=pv,B9=gv,N9=Jo,Eu=xl,V9=bv,U9=rd,ml=Av,wu=Bl,Tu=G9,Q2=0,$9=1,Wu=2;let H9=class J2{constructor(){this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=Q2,this.edge=null,this.nVertices=0}getEdge(t){if(typeof t!="number")throw Error("requires a number");let n=this.edge;for(;t>0;)n=n.next,t-=1;for(;t<0;)n=n.prev,t+=1;return n}computeNormal(){const t=this.edge,n=t.next;let r=n.next;const s=wu([],n.head().point,t.head().point),i=[],o=[];for(this.nVertices=2,this.normal=[0,0,0];r!==t;)B9(o,s),wu(s,r.head().point,t.head().point),Su(this.normal,this.normal,N9(i,o,s)),r=r.next,this.nVertices+=1;this.area=V9(this.normal),this.normal=ml(this.normal,this.normal,1/this.area)}computeNormalMinArea(t){if(this.computeNormal(),this.area<t){let n,r=0,s=this.edge;do{const f=s.lengthSquared();f>r&&(n=s,r=f),s=s.next}while(s!==this.edge);const i=n.tail().point,o=n.head().point,a=wu([],o,i),l=Math.sqrt(r);ml(a,a,1/l);const c=Eu(this.normal,a);ml(a,a,-c),Su(this.normal,this.normal,a),U9(this.normal,this.normal)}}computeCentroid(){this.centroid=[0,0,0];let t=this.edge;do Su(this.centroid,this.centroid,t.head().point),t=t.next;while(t!==this.edge);ml(this.centroid,this.centroid,1/this.nVertices)}computeNormalAndCentroid(t){typeof t<"u"?this.computeNormalMinArea(t):this.computeNormal(),this.computeCentroid(),this.offset=Eu(this.normal,this.centroid)}distanceToPlane(t){return Eu(this.normal,t)-this.offset}connectHalfEdges(t,n){let r;if(t.opposite.face===n.opposite.face){const s=n.opposite.face;let i;t===this.edge&&(this.edge=n),s.nVertices===3?(i=n.opposite.prev.opposite,s.mark=Wu,r=s):(i=n.opposite.next,s.edge===i.prev&&(s.edge=i),i.prev=i.prev.prev,i.prev.next=i),n.prev=t.prev,n.prev.next=n,n.setOpposite(i),s.computeNormalAndCentroid()}else t.next=n,n.prev=t;return r}mergeAdjacentFaces(t,n){const r=t.opposite,s=r.face;n.push(s),s.mark=Wu;let i=t.prev,o=t.next,a=r.prev,l=r.next;for(;i.opposite.face===s;)i=i.prev,l=l.next;for(;o.opposite.face===s;)o=o.next,a=a.prev;let c;for(c=l;c!==a.next;c=c.next)c.face=this;this.edge=o;let f;return f=this.connectHalfEdges(a,o),f&&n.push(f),f=this.connectHalfEdges(i,l),f&&n.push(f),this.computeNormalAndCentroid(),n}collectIndices(){const t=[];let n=this.edge;do t.push(n.head().index),n=n.next;while(n!==this.edge);return t}static createTriangle(t,n,r,s=0){const i=new J2,o=new Tu(t,i),a=new Tu(n,i),l=new Tu(r,i);return o.next=l.prev=a,a.next=o.prev=l,l.next=a.prev=o,i.edge=o,i.computeNormalAndCentroid(s),i}};var z9={VISIBLE:Q2,NON_CONVEX:$9,DELETED:Wu,Face:H9};const Cu=xl,j9=T9,q9=O9,hp=M9,X9=D9,{Face:Qr,VISIBLE:Ni,NON_CONVEX:mp,DELETED:W9}=z9,Y9=1,pp=2;let Z9=class{constructor(t){if(!Array.isArray(t))throw TypeError("input is not a valid array");if(t.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=t.length,this.faces=[],this.newFaces=[],this.claimed=new hp,this.unclaimed=new hp,this.vertices=[];for(let n=0;n<t.length;n+=1)this.vertices.push(new X9(t[n],n));this.discardedFaces=[],this.vertexPointIndices=[]}addVertexToFace(t,n){t.face=n,n.outside?this.claimed.insertBefore(n.outside,t):this.claimed.add(t),n.outside=t}removeVertexFromFace(t,n){t===n.outside&&(t.next&&t.next.face===n?n.outside=t.next:n.outside=null),this.claimed.remove(t)}removeAllVerticesFromFace(t){if(t.outside){let n=t.outside;for(;n.next&&n.next.face===t;)n=n.next;return this.claimed.removeChain(t.outside,n),n.next=null,t.outside}}deleteFaceVertices(t,n){const r=this.removeAllVerticesFromFace(t);if(r)if(!n)this.unclaimed.addAll(r);else{let s;for(let i=r;i;i=s)s=i.next,n.distanceToPlane(i.point)>this.tolerance?this.addVertexToFace(i,n):this.unclaimed.add(i)}}resolveUnclaimedPoints(t){let n=this.unclaimed.first();for(let r=n;r;r=n){n=r.next;let s=this.tolerance,i;for(let o=0;o<t.length;o+=1){const a=t[o];if(a.mark===Ni){const l=a.distanceToPlane(r.point);if(l>s&&(s=l,i=a),s>1e3*this.tolerance)break}}i&&this.addVertexToFace(r,i)}}computeExtremes(){const t=[],n=[],r=[],s=[];let i,o;for(i=0;i<3;i+=1)r[i]=s[i]=this.vertices[0];for(i=0;i<3;i+=1)t[i]=n[i]=this.vertices[0].point[i];for(i=1;i<this.vertices.length;i+=1){const a=this.vertices[i],l=a.point;for(o=0;o<3;o+=1)l[o]<t[o]&&(t[o]=l[o],r[o]=a);for(o=0;o<3;o+=1)l[o]>n[o]&&(n[o]=l[o],s[o]=a)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(t[0]),Math.abs(n[0]))+Math.max(Math.abs(t[1]),Math.abs(n[1]))+Math.max(Math.abs(t[2]),Math.abs(n[2]))),[r,s]}createInitialSimplex(){const t=this.vertices,[n,r]=this.computeExtremes();let s,i,o,a,l=0,c=0;for(o=0;o<3;o+=1){const p=r[o].point[o]-n[o].point[o];p>l&&(l=p,c=o)}const f=n[c],u=r[c];for(l=0,o=0;o<this.vertices.length;o+=1){const p=this.vertices[o];if(p!==f&&p!==u){const m=j9(p.point,f.point,u.point);m>l&&(l=m,s=p)}}const h=q9([],f.point,u.point,s.point),d=Cu(f.point,h);for(l=-1,o=0;o<this.vertices.length;o+=1){const p=this.vertices[o];if(p!==f&&p!==u&&p!==s){const m=Math.abs(Cu(h,p.point)-d);m>l&&(l=m,i=p)}}const g=[];if(Cu(i.point,h)-d<0)for(g.push(Qr.createTriangle(f,u,s),Qr.createTriangle(i,u,f),Qr.createTriangle(i,s,u),Qr.createTriangle(i,f,s)),o=0;o<3;o+=1){const p=(o+1)%3;g[o+1].getEdge(2).setOpposite(g[0].getEdge(p)),g[o+1].getEdge(1).setOpposite(g[p+1].getEdge(0))}else for(g.push(Qr.createTriangle(f,s,u),Qr.createTriangle(i,f,u),Qr.createTriangle(i,u,s),Qr.createTriangle(i,s,f)),o=0;o<3;o+=1){const p=(o+1)%3;g[o+1].getEdge(2).setOpposite(g[0].getEdge((3-o)%3)),g[o+1].getEdge(0).setOpposite(g[p+1].getEdge(1))}for(o=0;o<4;o+=1)this.faces.push(g[o]);for(o=0;o<t.length;o+=1){const p=t[o];if(p!==f&&p!==u&&p!==s&&p!==i){l=this.tolerance;let m;for(a=0;a<4;a+=1){const v=g[a].distanceToPlane(p.point);v>l&&(l=v,m=g[a])}m&&this.addVertexToFace(p,m)}}}reindexFaceAndVertices(){const t=[];for(let n=0;n<this.faces.length;n+=1){const r=this.faces[n];r.mark===Ni&&t.push(r)}this.faces=t}collectFaces(t){const n=[];for(let r=0;r<this.faces.length;r+=1){if(this.faces[r].mark!==Ni)throw Error("attempt to include a destroyed face in the hull");const s=this.faces[r].collectIndices();if(t)n.push(s);else for(let i=0;i<s.length-2;i+=1)n.push([s[0],s[i+1],s[i+2]])}return n}nextVertexToAdd(){if(!this.claimed.isEmpty()){let t,n,r=0;const s=this.claimed.first().face;for(n=s.outside;n&&n.face===s;n=n.next){const i=s.distanceToPlane(n.point);i>r&&(r=i,t=n)}return t}}computeHorizon(t,n,r,s){this.deleteFaceVertices(r),r.mark=W9;let i;n?i=n.next:i=n=r.getEdge(0);do{const o=i.opposite,a=o.face;a.mark===Ni&&(a.distanceToPlane(t)>this.tolerance?this.computeHorizon(t,o,a,s):s.push(i)),i=i.next}while(i!==n)}addAdjoiningFace(t,n){const r=Qr.createTriangle(t,n.tail(),n.head());return this.faces.push(r),r.getEdge(-1).setOpposite(n.opposite),r.getEdge(0)}addNewFaces(t,n){this.newFaces=[];let r,s;for(let i=0;i<n.length;i+=1){const o=n[i],a=this.addAdjoiningFace(t,o);r?a.next.setOpposite(s):r=a,this.newFaces.push(a.face),s=a}r.next.setOpposite(s)}oppositeFaceDistance(t){return t.face.distanceToPlane(t.opposite.face.centroid)}doAdjacentMerge(t,n){let r=t.edge,s=!0,i=0;do{if(i>=t.nVertices)throw Error("merge recursion limit exceeded");const o=r.opposite.face;let a=!1;if(n===pp?(this.oppositeFaceDistance(r)>-this.tolerance||this.oppositeFaceDistance(r.opposite)>-this.tolerance)&&(a=!0):t.area>o.area?this.oppositeFaceDistance(r)>-this.tolerance?a=!0:this.oppositeFaceDistance(r.opposite)>-this.tolerance&&(s=!1):this.oppositeFaceDistance(r.opposite)>-this.tolerance?a=!0:this.oppositeFaceDistance(r)>-this.tolerance&&(s=!1),a){const l=t.mergeAdjacentFaces(r,[]);for(let c=0;c<l.length;c+=1)this.deleteFaceVertices(l[c],t);return!0}r=r.next,i+=1}while(r!==t.edge);return s||(t.mark=mp),!1}addVertexToHull(t){const n=[];this.unclaimed.clear(),this.removeVertexFromFace(t,t.face),this.computeHorizon(t.point,null,t.face,n),this.addNewFaces(t,n);for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===Ni)for(;this.doAdjacentMerge(s,Y9););}for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===mp)for(s.mark=Ni;this.doAdjacentMerge(s,pp););}this.resolveUnclaimedPoints(this.newFaces)}build(){let t;for(this.createInitialSimplex();t=this.nextVertexToAdd();)this.addVertexToHull(t);this.reindexFaceAndVertices()}};var K9=Z9;const Q9=K9,J9=(e,t={})=>{const n=new Q9(e);return n.build(),n.collectFaces(t.skipTriangulation)};var eV=J9;const tV=yt,nV=Lt,rV=Ut,sV=eV,iV=wd,oV=(...e)=>{if(e=tV(e),e.length===1)return e[0];const t=iV(e),r=sV(t,{skipTriangulation:!0}).map(s=>{const i=s.map(o=>t[o]);return rV.create(i)});return nV.create(r)};var aV=oV;const lV=yt,cV=ra,fV=wt,uV=Lt,dV=Zt,hV=g9,mV=A9,pV=aV,gV=(...e)=>{if(e=lV(e),e.length===0)throw new Error("wrong number of arguments");if(!cV(e))throw new Error("only hulls of the same type are supported");const t=e[0];return dV.isA(t)?hV(e):fV.isA(t)?mV(e):uV.isA(t)?pV(e):t};var eb=gV;const vV=yt,bV=Sd,_V=eb,yV=(...e)=>{if(e=vV(e),e.length<2)throw new Error("wrong number of arguments");const t=[];for(let n=1;n<e.length;n++)t.push(_V(e[n-1],e[n]));return bV(t)};var AV=yV,SV={hull:eb,hullChain:AV};const Pu=lt,tb=Ut,EV=(e,t)=>{const n=Math.abs(tb.measureArea(t));return Number.isFinite(n)&&n>e},wV=(e,t)=>{let n=t.map(s=>{const i=s.vertices.map(l=>Pu.snap(Pu.create(),l,e)),o=[];for(let l=0;l<i.length;l++){const c=(l+1)%i.length;Pu.equals(i[l],i[c])||o.push(i[l])}const a=tb.create(o);return s.color&&(a.color=s.color),a});const r=e*e*Math.sqrt(3)/4;return n=n.filter(s=>EV(r,s)),n};var nb=wV;const TV=Xl,$i=lt,Il=Ut,CV=e=>{const t=Il.toPoints(e),n=[];for(let r=0;r<t.length;r++){const s=(r+1)%t.length,i={v1:t[r],v2:t[s]};n.push(i)}for(let r=0;r<n.length;r++){const s=(r+1)%t.length;n[r].next=n[s],n[s].prev=n[r]}return n},PV=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.set(n,t)},Lu=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.delete(n)},LV=(e,t)=>{const n=`${t.v2}:${t.v1}`;return e.get(n)},OV=(e,t,n)=>{let r=e.prev.v1,s=e.prev.v2,i=t.next.v2;const o=gp(r,s,i,n);r=t.prev.v1,s=t.prev.v2,i=e.next.v2;const a=gp(r,s,i,n);return[o,a]},RV=$i.create(),MV=$i.create(),gp=(e,t,n,r)=>{const s=$i.subtract(RV,t,e),i=$i.subtract(MV,n,t);return $i.cross(s,s,i),$i.dot(s,r)},IV=e=>{let t;const n=[];for(;e.next;){const r=e.next;n.push(e.v1),e.v1=null,e.v2=null,e.next=null,e.prev=null,e=r}return n.length>0&&(t=Il.create(n)),t},DV=e=>{if(e.length<2)return e;const t=e[0].plane,n=e.slice(),r=new Map;for(;n.length>0;){const i=n.shift(),o=CV(i);for(let a=0;a<o.length;a++){const l=o[a],c=LV(r,l);if(c){const f=OV(l,c,t);if(f[0]>=0&&f[1]>=0){const u=c.next,h=l.next;l.prev.next=c.next,l.next.prev=c.prev,c.prev.next=l.next,c.next.prev=l.prev,l.v1=null,l.v2=null,l.next=null,l.prev=null,Lu(r,c),c.v1=null,c.v2=null,c.next=null,c.prev=null;const d=(g,p,m)=>{const v={v1:m.v1,v2:p.v2,next:p.next,prev:m.prev};m.prev.next=v,p.next.prev=v,Lu(g,p),p.v1=null,p.v2=null,p.next=null,p.prev=null,Lu(g,m),m.v1=null,m.v2=null,m.next=null,m.prev=null};f[0]===0&&d(r,u,u.prev),f[1]===0&&d(r,h,h.prev)}}else l.next&&PV(r,l)}}const s=[];return r.forEach(i=>{const o=IV(i);o&&s.push(o)}),r.clear(),s},FV=(e,t)=>Math.abs(e[3]-t[3])<15e-8?TV(e,t):!1,kV=(e,t)=>{const n=[];t.forEach(s=>{const i=n.find(o=>FV(o[0],Il.plane(s)));i?i[1].push(s):n.push([Il.plane(s),[s]])});let r=[];return n.forEach(s=>{const i=s[1],o=DV(i);r=r.concat(o)}),r};var xV=kV;const vp=Ht,Gr=lt,GV=Ut,tr=e=>`${e}`,bp=(e,t,n,r,s,i)=>{const o=tr(r),a=tr(s),l=`${o}/${a}`,c=`${a}/${o}`;if(e.has(c))return El(e,t,n,s,r,null),null;const f={vertex0:r,vertex1:s,polygonindex:i};return e.has(l)?e.get(l).push(f):e.set(l,[f]),t.has(o)?t.get(o).push(l):t.set(o,[l]),n.has(a)?n.get(a).push(l):n.set(a,[l]),l},El=(e,t,n,r,s,i)=>{const o=tr(r),a=tr(s),l=`${o}/${a}`;let c=-1;const f=e.get(l);for(let u=0;u<f.length;u++){const h=f[u];let d=tr(h.vertex0);if(d===o&&(d=tr(h.vertex1),d===a&&!(i!==null&&h.polygonindex!==i))){c=u;break}}f.splice(c,1),f.length===0&&e.delete(l),c=t.get(o).indexOf(l),t.get(o).splice(c,1),t.get(o).length===0&&t.delete(o),c=n.get(a).indexOf(l),n.get(a).splice(c,1),n.get(a).length===0&&n.delete(a)},BV=e=>{const t=new Map;for(let n=0;n<e.length;n++){const r=e[n],s=r.vertices.length;if(s>=3){let i=r.vertices[0],o=tr(i);for(let a=0;a<s;a++){let l=a+1;l===s&&(l=0);const c=r.vertices[l],f=tr(c),u=`${o}/${f}`,h=`${f}/${o}`;if(t.has(h)){const d=t.get(h);d.splice(-1,1),d.length===0&&t.delete(h)}else{const d={vertex0:i,vertex1:c,polygonindex:n};t.has(u)?t.get(u).push(d):t.set(u,[d])}i=c,o=f}}else console.warn("warning: invalid polygon found during insertTjunctions")}if(t.size>0){const n=new Map,r=new Map,s=new Map;for(const[o,a]of t)s.set(o,!0),a.forEach(l=>{const c=tr(l.vertex0),f=tr(l.vertex1);n.has(c)?n.get(c).push(o):n.set(c,[o]),r.has(f)?r.get(f).push(o):r.set(f,[o])});const i=e.slice(0);for(;t.size!==0;){for(const a of t.keys())s.set(a,!0);let o=!1;for(;;){const a=Array.from(s.keys());if(a.length===0)break;const l=a[0];let c=!0;if(t.has(l)){const u=t.get(l)[0];for(let h=0;h<2;h++){const d=h===0?u.vertex0:u.vertex1,g=h===0?u.vertex1:u.vertex0,p=tr(d),m=tr(g);let v=[];h===0?r.has(p)&&(v=r.get(p)):n.has(p)&&(v=n.get(p));for(let b=0;b<v.length;b++){const _=v[b],S=t.get(_)[0],E=h===0?S.vertex0:S.vertex1;if(h===0?S.vertex1:S.vertex0,tr(E)===m){El(t,n,r,d,g,null),El(t,n,r,g,d,null),c=!1,h=2,o=!0;break}else{const A=d,L=g,U=E,B=Gr.subtract(Gr.create(),U,A),k=Gr.dot(Gr.subtract(Gr.create(),L,A),B)/Gr.dot(B,B);if(k>0&&k<1){const se=Gr.scale(Gr.create(),B,k);if(Gr.add(se,se,A),Gr.squaredDistance(se,L)<vp.EPS*vp.EPS){const j=S.polygonindex,Ie=i[j],ne=tr(S.vertex1);let H=-1;for(let xe=0;xe<Ie.vertices.length;xe++)if(tr(Ie.vertices[xe])===ne){H=xe;break}const fe=Ie.vertices.slice(0);fe.splice(H,0,g);const J=GV.create(fe);i[j]=J,El(t,n,r,S.vertex0,S.vertex1,j);const ve=bp(t,n,r,S.vertex0,g,j),kt=bp(t,n,r,g,S.vertex1,j);ve!==null&&s.set(ve,!0),kt!==null&&s.set(kt,!0),c=!1,h=2,o=!0;break}}}}}}c&&s.delete(l)}if(!o)break}e=i}return t.clear(),e};var NV=BV;const Ou=lt,Ru=Ut,VV=(e,t,n)=>{const r=t.vertices.length;if(r>3){if(r>4){const o=[0,0,0];t.vertices.forEach(a=>Ou.add(o,o,a)),Ou.snap(o,Ou.divide(o,o,[r,r,r]),e);for(let a=0;a<r;a++){const l=Ru.create([o,t.vertices[a],t.vertices[(a+1)%r]]);t.color&&(l.color=t.color),n.push(l)}return}const s=Ru.create([t.vertices[0],t.vertices[1],t.vertices[2]]),i=Ru.create([t.vertices[0],t.vertices[2],t.vertices[3]]);t.color&&(s.color=t.color,i.color=t.color),n.push(s,i);return}n.push(t)},UV=(e,t)=>{const n=[];return t.forEach(r=>{VV(e,r,n)}),n};var $V=UV;const HV=yt,zV=Ts,jV=wt,rb=Lt,qV=Zt,XV=nb,WV=xV,YV=NV,ZV=$V,KV=(e,t)=>t,QV=(e,t)=>t,JV=(e,t)=>{const n={snap:!1,simplify:!1,triangulate:!1},{snap:r,simplify:s,triangulate:i}=Object.assign({},n,e),o=zV(t);let a=rb.toPolygons(t);r&&(a=XV(o,a)),s&&(a=WV(o,a)),i&&(a=YV(a),a=ZV(o,a));const l=Object.assign({},t);return l.polygons=a,l},eU=(e,...t)=>{if(t=HV(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>{if(qV.isA(r))return KV(e,r);if(jV.isA(r))return QV(e,r);if(rb.isA(r))return JV(e,r);throw new Error("invalid geometry")});return n.length===1?n[0]:n};var tU=eU;const nU=yt,ei=Rt,Yu=wt,Zu=Lt,Ku=Zt,Td=Ts,rU=nb,sU=e=>{const t=Td(e),r=Ku.toPoints(e).map(s=>ei.snap(ei.create(),s,t));return Ku.create(r)},iU=e=>{const t=Td(e);let r=Yu.toSides(e).map(s=>[ei.snap(ei.create(),s[0],t),ei.snap(ei.create(),s[1],t)]);return r=r.filter(s=>!ei.equals(s[0],s[1])),Yu.create(r)},oU=e=>{const t=Td(e),n=Zu.toPolygons(e),r=rU(t,n);return Zu.create(r)},aU=(...e)=>{if(e=nU(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>Ku.isA(n)?sU(n):Yu.isA(n)?iU(n):Zu.isA(n)?oU(n):n);return t.length===1?t[0]:t};var lU=aU,cU={generalize:tU,snap:lU,retessellate:sa};const fU=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var uU=fU;const dU=yt,_p=uU,sb=md,{translate:hU}=si,mU=e=>{if(!Array.isArray(e.modes)||e.modes.length>3)throw new Error("align(): modes must be an array of length <= 3");if(e.modes=_p(e.modes,"none",3),e.modes.filter(t=>["center","max","min","none"].includes(t)).length!==3)throw new Error('align(): all modes must be one of "center", "max" or "min"');if(!Array.isArray(e.relativeTo)||e.relativeTo.length>3)throw new Error("align(): relativeTo must be an array of length <= 3");if(e.relativeTo=_p(e.relativeTo,0,3),e.relativeTo.filter(t=>Number.isFinite(t)||t==null).length!==3)throw new Error("align(): all relativeTo values must be a number, or null.");if(typeof e.grouped!="boolean")throw new Error("align(): grouped must be a boolean value.");return e},pU=(e,t,n)=>{for(let r=0;r<3;r++)e[r]==null&&(t[r]==="center"?e[r]=(n[0][r]+n[1][r])/2:t[r]==="max"?e[r]=n[1][r]:t[r]==="min"&&(e[r]=n[0][r]));return e},yp=(e,t,n)=>{const r=sb(e),s=[0,0,0];for(let i=0;i<3;i++)t[i]==="center"?s[i]=n[i]-(r[0][i]+r[1][i])/2:t[i]==="max"?s[i]=n[i]-r[1][i]:t[i]==="min"&&(s[i]=n[i]-r[0][i]);return hU(s,e)},gU=(e,...t)=>{e=Object.assign({},{modes:["center","center","min"],relativeTo:[0,0,0],grouped:!1},e),e=mU(e);let{modes:r,relativeTo:s,grouped:i}=e;if(t=dU(t),t.length===0)throw new Error("align(): No geometries were provided to act upon");if(s.filter(o=>o==null).length){const o=sb(t);s=pU(s,r,o)}return i?t=yp(t,r,s):t=t.map(o=>yp(o,r,s)),t.length===1?t[0]:t};var vU=gU;const bU=yt,_U=wt,yU=Lt,AU=Zt,SU=ci,{translate:EU}=si,Mu=(e,t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e),i=SU(t),o=[0,0,0];return r[0]&&(o[0]=s[0]-(i[0][0]+(i[1][0]-i[0][0])/2)),r[1]&&(o[1]=s[1]-(i[0][1]+(i[1][1]-i[0][1])/2)),r[2]&&(o[2]=s[2]-(i[0][2]+(i[1][2]-i[0][2])/2)),EU(o,t)},tc=(e,...t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e);if(t=bU(t),t.length===0)throw new Error("wrong number of arguments");if(s.length!==3)throw new Error("relativeTo must be an array of length 3");e={axes:r,relativeTo:s};const i=t.map(o=>AU.isA(o)||_U.isA(o)||yU.isA(o)?Mu(e,o):o);return i.length===1?i[0]:i},wU=(...e)=>tc({axes:[!0,!1,!1]},e),TU=(...e)=>tc({axes:[!1,!0,!1]},e),CU=(...e)=>tc({axes:[!1,!1,!0]},e);var pl={center:tc,centerX:wU,centerY:TU,centerZ:CU};const PU=yt,Ap=Jt,Sp=wt,Ep=Lt,wp=Zt,nc=(e,...t)=>{if(!Array.isArray(e))throw new Error("factors must be an array");if(t=PU(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(1);if(e[0]<=0||e[1]<=0||e[2]<=0)throw new Error("factors must be positive");const n=Ap.fromScaling(Ap.create(),e),r=t.map(s=>wp.isA(s)?wp.transform(n,s):Sp.isA(s)?Sp.transform(n,s):Ep.isA(s)?Ep.transform(n,s):s);return r.length===1?r[0]:r},LU=(e,...t)=>nc([e,1,1],t),OU=(e,...t)=>nc([1,e,1],t),RU=(e,...t)=>nc([1,1,e],t);var gl={scale:nc,scaleX:LU,scaleY:OU,scaleZ:RU};const MU=yt,Tp=wt,Cp=Lt,Pp=Zt,IU=(e,...t)=>{if(t=MU(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>Pp.isA(r)?Pp.transform(e,r):Tp.isA(r)?Tp.transform(e,r):Cp.isA(r)?Cp.transform(e,r):r);return n.length===1?n[0]:n};var DU=IU,FU={align:vU,center:pl.center,centerX:pl.centerX,centerY:pl.centerY,centerZ:pl.centerZ,mirror:No.mirror,mirrorX:No.mirrorX,mirrorY:No.mirrorY,mirrorZ:No.mirrorZ,rotate:Uo.rotate,rotateX:Uo.rotateX,rotateY:Uo.rotateY,rotateZ:Uo.rotateZ,scale:gl.scale,scaleX:gl.scaleX,scaleY:gl.scaleY,scaleZ:gl.scaleZ,transform:DU,translate:si.translate,translateX:si.translateX,translateY:si.translateY,translateZ:si.translateZ},ns={colors:FR,curves:ZR,geometries:fd,maths:MM,measurements:Uu,primitives:N2,text:Zk,utils:H2,booleans:bB,expansions:gN,extrusions:o9,hulls:SV,modifiers:cU,transforms:FU};const{geometries:Iu}=ns,kU=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=new ArrayBuffer(4),r=new Int32Array(n,0,1),s=new Int8Array(n,0,4);if(r[0]=287454020,s[0]!==68)throw new Error("Binary STL output is currently only supported on little-endian (Intel) processors");let i=0,o=0;e.forEach((m,v)=>{Iu.geom3.toPolygons(m).forEach(_=>{const S=_.vertices.length,E=S>=3?S-2:0;i+=E,o+=1})});const a=new Uint8Array(80);for(let m=0;m<80;m++)a[m]=65;const l=new Uint32Array(1);l[0]=i;const c=new ArrayBuffer(50*i),f=new Int8Array(c),u=new ArrayBuffer(50),h=new Int8Array(u),d=new Float32Array(u,0,12),g=new Uint16Array(u,48,1);let p=0;return e.forEach(m=>{Iu.geom3.toPolygons(m).forEach((b,_)=>{const S=b.vertices,E=S.length,w=Iu.poly3.plane(b);for(let A=0;A<E-2;A++){d[0]=w[0],d[1]=w[1],d[2]=w[2];let L=3;for(let U=0;U<3;U++){const B=U+(U>0?A:0),k=S[B];d[L++]=k[0],d[L++]=k[1],d[L++]=k[2]}g[0]=0,f.set(h,p),p+=50}t.statusCallback&&t.statusCallback({progress:100*_/o})})}),t.statusCallback&&t.statusCallback({progress:100}),[a.buffer,l.buffer,c]};var xU={serializeBinary:kU};const{geometries:ib}=ns,GU=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=`solid JSCAD
${BU(e,t)}
endsolid JSCAD
`;return t.statusCallback&&t.statusCallback({progress:100}),[n]},BU=(e,t)=>{const n=[];return e.forEach((r,s)=>{n.push(NU(r)),t.statusCallback&&t.statusCallback({progress:100*s/e.length})}),n.join(`
`)},NU=(e,t)=>{const n=[];return ib.geom3.toPolygons(e).forEach((s,i)=>{n.push(VU(s))}),n.join(`
`)},ob=e=>`${e[0]} ${e[1]} ${e[2]}`,Du=e=>`vertex ${ob(e)}`,VU=e=>{const t=[];if(e.vertices.length>=3){const n=Du(e.vertices[0]);for(let r=0;r<e.vertices.length-2;r++){const s=`facet normal ${ob(ib.poly3.plane(e))}
outer loop
${n}
${Du(e.vertices[r+1])}
${Du(e.vertices[r+2])}
endloop
endfacet`;t.push(s)}}return t.join(`
`)};var UU={serializeText:GU};const{geometries:$U,modifiers:HU}=ns,{flatten:zU,toArray:jU}=ed,{serializeBinary:qU}=xU,{serializeText:XU}=UU,WU="application/sla",YU=(e,...t)=>{e=Object.assign({},{binary:!0,statusCallback:null},e),t=zU(t);let r=t.filter(s=>$U.geom3.isA(s));if(r.length===0)throw new Error("only 3D geometries can be serialized to STL");return t.length!==r.length&&console.warn("some objects could not be serialized to STL"),r=jU(HU.generalize({snap:!0,triangulate:!0},r)),e.binary?qU(r,e):XU(r,e)};var ZU={mimeType:WU,serialize:YU};const KU=m5(ZU);var ab={exports:{}};(function(e,t){(function(n,r){r()})(Qs,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,u){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,f,u)},h.onerror=function(){console.error("could not download file")},h.send()}function s(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Qs=="object"&&Qs.global===Qs?Qs:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,u){var h=o.URL||o.webkitURL,d=document.createElement("a");f=f||c.name||"download",d.download=f,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?i(d):s(d.href)?r(c,f,u):i(d,d.target="_blank")):(d.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,u){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,u),f);else if(s(c))r(c,f,u);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){i(h)})}}:function(c,f,u,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,u);var d=c.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&g||a)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var _=m.result;_=p?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=_:location=_,h=null},m.readAsDataURL(c)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(c);h?h.location=b:location.href=b,h=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(ab);var QU=ab.exports;const lb={model:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,2,2,1,2,2,2,0,2,2,2,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,0,0,0,0,0,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,0,2,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,3,2,1,2,3,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],cellSize:30,wallWidth:2.25,height:22,radius:1.5,inset:1,keyholeHorizontalSpace:51,keyholeHorizontalOffset:0,keyholeVerticalSpace:0,keyholeVerticalOffset:0,holesEnabled:!0},JU={model:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,2,0,0,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,2,2,3,2,2,2,2,1,3,2,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,1,2,1,2,2,2,2,2,2,2,3,3,2,2,0,2,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,3,2,2,2,2,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,2,2,2,3,2,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,2,1,2,0,2,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,2,2,2,3,2,2,2,2,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,3,2,1,2,3,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,2,2,2,2,1,3,3,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],cellSize:30,wallWidth:2.25,height:22,radius:1.5,inset:1,keyholeHorizontalSpace:54,keyholeHorizontalOffset:0,keyholeVerticalSpace:0,keyholeVerticalOffset:0,holesEnabled:!0},e$={model:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],cellSize:30,wallWidth:2.25,height:22,radius:1.5,inset:1,keyholeHorizontalSpace:49,keyholeHorizontalOffset:0,keyholeVerticalSpace:-31,keyholeVerticalOffset:10,holesEnabled:!0},{rotateY:t$,rotate:n$,scale:vl,translate:Pr,translateY:Lp,translateZ:Ko,rotateX:r$}=ns.transforms,{intersect:s$,subtract:Cd,union:ws}=ns.booleans,{cuboid:Dl,cylinder:jo,polygon:i$,roundedRectangle:o$,torus:a$}=ns.primitives,{extrudeLinear:cb}=ns.extrusions;function l$(e,t,n){const r=Math.min(n,e/2-1e-5,t/2-1e-5);return[0,1,2].map(s=>t$(s*Math.PI/3,Ko(-r-e,cb({height:(e+r)*2},r>0?o$({size:[e,t],roundRadius:r,segments:64}):N2.rectangle({size:[e,t]}))))).reduce((s,i)=>s$(s,i))}function Op(e,t){const n=Math.sqrt(3)*e/4;return cb({height:t},i$({points:[[e/2,0],[e/4,n],[-e/4,n],[-e/2,0],[-e/4,-n],[e/4,-n]]}))}function fb(e,t,n,r,s,i=!1){const o=Ko(t/2-(i?s/2+n/2:s),n$([Math.PI/2,0,Math.PI/6],l$(e*.8658-(i?.5:0),t-(i?n+s:0),r)));return i?o:Cd(o,Ko(n-t/2,Dl({size:[e,e,t]})))}function c$(e,t,n,r,s,i){const o=Cd(Op(e+n*2,t),Ko(i===1?-1e-4:n,Op(e,t+n*4)));return i===3?ws(o,fb(e,t,n,r,s)):o}const ii=7;function Rp(){return ws(jo({height:ii,radius:10+2}),Lp(-20,jo({height:ii,radius:10+2})),Lp(-10,Dl({size:[20+2*2,20,ii]})))}function Mp(){return ws(Pr([0,0,-1.5],jo({height:6+1.5,radius:10})),Pr([0,-20,0],jo({height:6-1.5,radius:10})),Pr([0,-20,-2*1.5],jo({height:2*1.5,radius:5})),Pr([0,-10,-2*1.5],Dl({size:[10,20,6]})),Pr([0,-10,0],Dl({size:[20,20,6-1.5]})))}function f$(e,t,n,r,s,i,o,a,l,c){const f=[];for(let b=0;b<e.length;b++)for(let _=0;_<e[b].length;_++){const S=e[b][_];S&&f.push(Pr([.75*_*(t+n),Math.sqrt(3)*.5*(t+n)*(_%2*.5+b),0],c$(t,r,n,s,i,S)))}const u=ws(fb(t,r,n,s,i,!0),Ko(r-n-i+1,r$(Math.PI/2,a$({innerRadius:1.5,outerRadius:3.5,outerSegments:128,innerSegments:64})))),h=ws(f),d=Uu.measureBoundingBox(h);let g,p,m;if([o,a,l,c].every(b=>!isNaN(b))){const b=(d[1][0]-d[0][0])*(50-o/2)/100,_=d[0][0]+b+a,S=d[1][0]-b+a,E=(d[1][1]-d[0][1])*(50-l/2)/100,w=d[0][1]+E+c,A=d[1][1]-E+c;g=Pr([_,w+5.5,ii/2],vl([.5,.5,1],Rp())),p=Pr([S,A+5.5,ii/2],vl([.5,.5,1],Rp())),m=ws(Pr([_,w+5.5,ii/2],vl([.5,.5,1],Mp())),Pr([S,A+5.5,ii/2],vl([.5,.5,1],Mp())))}const v=Uu.measureBoundingBox(u);return ws(m?Cd(ws(h,g,p),m):h,Pr([d[0][0]+(d[1][0]-d[0][0])/2,d[0][1]-(v[1][1]-v[0][1])*(3/2)],u))}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var u$={ACTIVE:"mdc-tab-indicator--active",FADE:"mdc-tab-indicator--fade",NO_TRANSITION:"mdc-tab-indicator--no-transition"},d$={CONTENT_SELECTOR:".mdc-tab-indicator__content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ts=function(e){Bn(t,e);function t(n){return e.call(this,ln(ln({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return u$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return d$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},computeContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setContentStyleProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.computeContentClientRect=function(){return this.adapter.computeContentClientRect()},t}(Ar);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var h$=function(e){Bn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(){this.adapter.addClass(ts.cssClasses.ACTIVE)},t.prototype.deactivate=function(){this.adapter.removeClass(ts.cssClasses.ACTIVE)},t}(ts);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ip=function(e){Bn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(n){if(!n){this.adapter.addClass(ts.cssClasses.ACTIVE);return}var r=this.computeContentClientRect(),s=n.width/r.width,i=n.left-r.left;this.adapter.addClass(ts.cssClasses.NO_TRANSITION),this.adapter.setContentStyleProperty("transform","translateX("+i+"px) scaleX("+s+")"),this.computeContentClientRect(),this.adapter.removeClass(ts.cssClasses.NO_TRANSITION),this.adapter.addClass(ts.cssClasses.ACTIVE),this.adapter.setContentStyleProperty("transform","")},t.prototype.deactivate=function(){this.adapter.removeClass(ts.cssClasses.ACTIVE)},t}(ts);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var bl={ACTIVE:"mdc-tab--active"},Go={ARIA_SELECTED:"aria-selected",CONTENT_SELECTOR:".mdc-tab__content",INTERACTED_EVENT:"MDCTab:interacted",RIPPLE_SELECTOR:".mdc-tab__ripple",TABINDEX:"tabIndex",TAB_INDICATOR_SELECTOR:".mdc-tab-indicator"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var m$=function(e){Bn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.focusOnActivate=!0,r}return Object.defineProperty(t,"cssClasses",{get:function(){return bl},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Go},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},activateIndicator:function(){},deactivateIndicator:function(){},notifyInteracted:function(){},getOffsetLeft:function(){return 0},getOffsetWidth:function(){return 0},getContentOffsetLeft:function(){return 0},getContentOffsetWidth:function(){return 0},focus:function(){}}},enumerable:!1,configurable:!0}),t.prototype.handleClick=function(){this.adapter.notifyInteracted()},t.prototype.isActive=function(){return this.adapter.hasClass(bl.ACTIVE)},t.prototype.setFocusOnActivate=function(n){this.focusOnActivate=n},t.prototype.activate=function(n){this.adapter.addClass(bl.ACTIVE),this.adapter.setAttr(Go.ARIA_SELECTED,"true"),this.adapter.setAttr(Go.TABINDEX,"0"),this.adapter.activateIndicator(n),this.focusOnActivate&&this.adapter.focus()},t.prototype.deactivate=function(){this.isActive()&&(this.adapter.removeClass(bl.ACTIVE),this.adapter.setAttr(Go.ARIA_SELECTED,"false"),this.adapter.setAttr(Go.TABINDEX,"-1"),this.adapter.deactivateIndicator())},t.prototype.computeDimensions=function(){var n=this.adapter.getOffsetWidth(),r=this.adapter.getOffsetLeft(),s=this.adapter.getContentOffsetWidth(),i=this.adapter.getContentOffsetLeft();return{contentLeft:r+i,contentRight:r+i+s,rootLeft:r,rootRight:r+n}},t}(Ar);function p$(e){let t,n,r,s,i,o,a,l,c,f,u;const h=e[21].default,d=Gt(h,e,e[20],null);let g=[{class:r=ut({[e[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":e[3]==="underline","mdc-tab-indicator__content--icon":e[3]==="icon"})},{style:s=Object.entries(e[10]).map(Dp).join(" ")},{"aria-hidden":i=e[3]==="icon"?"true":void 0},qt(e[12],"content$")],p={};for(let b=0;b<g.length;b+=1)p=$e(p,g[b]);let m=[{class:a=ut({[e[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":e[0],"mdc-tab-indicator--fade":e[4]==="fade",...e[9]})},Wn(e[12],["content$"])],v={};for(let b=0;b<m.length;b+=1)v=$e(v,m[b]);return{c(){t=mt("span"),n=mt("span"),d&&d.c(),At(n,p),At(t,v)},m(b,_){Ee(b,t,_),xt(t,n),d&&d.m(n,null),e[22](n),e[23](t),c=!0,f||(u=[bt(o=an.call(null,n,e[5])),bt(l=an.call(null,t,e[1])),bt(e[11].call(null,t))],f=!0)},p(b,[_]){d&&d.p&&(!c||_&1048576)&&Nt(d,h,b,b[20],c?Bt(h,b[20],_,null):Vt(b[20]),null),At(n,p=Mt(g,[(!c||_&72&&r!==(r=ut({[b[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":b[3]==="underline","mdc-tab-indicator__content--icon":b[3]==="icon"})))&&{class:r},(!c||_&1024&&s!==(s=Object.entries(b[10]).map(Dp).join(" ")))&&{style:s},(!c||_&8&&i!==(i=b[3]==="icon"?"true":void 0))&&{"aria-hidden":i},_&4096&&qt(b[12],"content$")])),o&&jt(o.update)&&_&32&&o.update.call(null,b[5]),At(t,v=Mt(m,[(!c||_&533&&a!==(a=ut({[b[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":b[0],"mdc-tab-indicator--fade":b[4]==="fade",...b[9]})))&&{class:a},_&4096&&Wn(b[12],["content$"])])),l&&jt(l.update)&&_&2&&l.update.call(null,b[1])},i(b){c||(re(d,b),c=!0)},o(b){ae(d,b),c=!1},d(b){b&&Ae(t),d&&d.d(b),e[22](null),e[23](null),f=!1,cn(u)}}}const Dp=([e,t])=>`${e}: ${t};`;function g$(e,t,n){const r=["use","class","active","type","transition","content$use","content$class","activate","deactivate","computeContentClientRect","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{active:f=!1}=t,{type:u="underline"}=t,{transition:h="slide"}=t,{content$use:d=[]}=t,{content$class:g=""}=t,p,m,v,b={},_={},S=[],E=h;Yn(()=>(n(17,m=w()),m.init(),()=>{m.destroy()}));function w(){const H={fade:h$,slide:Ip}[h]||Ip;return new H({addClass:(...fe)=>A(()=>L(...fe)),removeClass:(...fe)=>A(()=>U(...fe)),computeContentClientRect:V,setContentStyleProperty:(...fe)=>A(()=>B(...fe))})}function A(H){S.length?S[S.length-1].push(H):H()}function L(H){b[H]||n(9,b[H]=!0,b)}function U(H){(!(H in b)||b[H])&&n(9,b[H]=!1,b)}function B(H,fe){_[H]!=fe&&(fe===""||fe==null?(delete _[H],n(10,_),n(19,E),n(4,h),n(17,m)):n(10,_[H]=fe,_))}function k(H){n(0,f=!0),m.activate(H)}function se(){n(0,f=!1),m.deactivate()}function V(){return S.push([]),n(18,S),v.getBoundingClientRect()}function j(){return p}function Ie(H){rt[H?"unshift":"push"](()=>{v=H,n(8,v)})}function ne(H){rt[H?"unshift":"push"](()=>{p=H,n(7,p)})}return e.$$set=H=>{t=$e($e({},t),mn(H)),n(12,s=Et(t,r)),"use"in H&&n(1,l=H.use),"class"in H&&n(2,c=H.class),"active"in H&&n(0,f=H.active),"type"in H&&n(3,u=H.type),"transition"in H&&n(4,h=H.transition),"content$use"in H&&n(5,d=H.content$use),"content$class"in H&&n(6,g=H.content$class),"$$scope"in H&&n(20,o=H.$$scope)},e.$$.update=()=>{e.$$.dirty&655376&&E!==h&&(n(19,E=h),m&&m.destroy(),n(9,b={}),n(10,_={}),n(17,m=w()),m.init()),e.$$.dirty&262144&&S.length&&requestAnimationFrame(()=>{var H;const fe=(H=S.shift())!==null&&H!==void 0?H:[];n(18,S);for(const J of fe)J()})},[f,l,c,u,h,d,g,p,v,b,_,a,s,k,se,V,j,m,S,E,o,i,Ie,ne]}class ub extends Yt{constructor(t){super(),Wt(this,t,g$,p$,Xt,{use:1,class:2,active:0,type:3,transition:4,content$use:5,content$class:6,activate:13,deactivate:14,computeContentClientRect:15,getElement:16})}get activate(){return this.$$.ctx[13]}get deactivate(){return this.$$.ctx[14]}get computeContentClientRect(){return this.$$.ctx[15]}get getElement(){return this.$$.ctx[16]}}const v$=e=>({}),Fp=e=>({}),b$=e=>({}),kp=e=>({});function xp(e){let t,n;const r=[{active:e[18]},qt(e[25],"tabIndicator$")];let s={$$slots:{default:[_$]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=$e(s,r[i]);return t=new ub({props:s}),e[33](t),{c(){et(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?Mt(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&hn(qt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){ae(t.$$.fragment,i),n=!1},d(i){e[33](null),Qe(t,i)}}}function _$(e){let t;const n=e[32]["tab-indicator"],r=Gt(n,e,e[37],kp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&Nt(r,n,s,s[37],t?Bt(n,s[37],i,b$):Vt(s[37]),kp)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function Gp(e){let t,n;const r=[{active:e[18]},qt(e[25],"tabIndicator$")];let s={$$slots:{default:[y$]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=$e(s,r[i]);return t=new ub({props:s}),e[35](t),{c(){et(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?Mt(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&hn(qt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){ae(t.$$.fragment,i),n=!1},d(i){e[35](null),Qe(t,i)}}}function y$(e){let t;const n=e[32]["tab-indicator"],r=Gt(n,e,e[37],Fp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&Nt(r,n,s,s[37],t?Bt(n,s[37],i,v$):Vt(s[37]),Fp)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function A$(e){let t,n,r,s,i,o,a,l,c,f;const u=e[32].default,h=Gt(u,e,e[37],null);let d=e[6]&&xp(e),g=[{class:r=ut({[e[9]]:!0,"mdc-tab__content":!0})},qt(e[25],"content$")],p={};for(let v=0;v<g.length;v+=1)p=$e(p,g[v]);let m=!e[6]&&Gp(e);return{c(){t=mt("span"),h&&h.c(),n=pt(),d&&d.c(),i=pt(),m&&m.c(),o=pt(),a=mt("span"),At(t,p),gt(a,"class","mdc-tab__ripple")},m(v,b){Ee(v,t,b),h&&h.m(t,null),xt(t,n),d&&d.m(t,null),e[34](t),Ee(v,i,b),m&&m.m(v,b),Ee(v,o,b),Ee(v,a,b),l=!0,c||(f=bt(s=an.call(null,t,e[8])),c=!0)},p(v,b){h&&h.p&&(!l||b[1]&64)&&Nt(h,u,v,v[37],l?Bt(u,v[37],b,null):Vt(v[37]),null),v[6]?d?(d.p(v,b),b[0]&64&&re(d,1)):(d=xp(v),d.c(),re(d,1),d.m(t,null)):d&&(tn(),ae(d,1,1,()=>{d=null}),nn()),At(t,p=Mt(g,[(!l||b[0]&512&&r!==(r=ut({[v[9]]:!0,"mdc-tab__content":!0})))&&{class:r},b[0]&33554432&&qt(v[25],"content$")])),s&&jt(s.update)&&b[0]&256&&s.update.call(null,v[8]),v[6]?m&&(tn(),ae(m,1,1,()=>{m=null}),nn()):m?(m.p(v,b),b[0]&64&&re(m,1)):(m=Gp(v),m.c(),re(m,1),m.m(o.parentNode,o))},i(v){l||(re(h,v),re(d),re(m),l=!0)},o(v){ae(h,v),ae(d),ae(m),l=!1},d(v){v&&Ae(t),h&&h.d(v),d&&d.d(),e[34](null),v&&Ae(i),m&&m.d(v),v&&Ae(o),v&&Ae(a),c=!1,f()}}}function S$(e){let t,n,r;const s=[{tag:e[11]},{use:[[$r,{ripple:e[3],unbounded:!1,addClass:e[21],removeClass:e[22],addStyle:e[23]}],e[20],...e[0]]},{class:ut({[e[1]]:!0,"mdc-tab":!0,"mdc-tab--active":e[18],"mdc-tab--stacked":e[4],"mdc-tab--min-width":e[5],...e[15]})},{style:Object.entries(e[16]).map(Bp).concat([e[2]]).join(" ")},{role:"tab"},{"aria-selected":e[18]?"true":"false"},{tabindex:e[18]||e[19]?"0":"-1"},{href:e[7]},e[17],Wn(e[25],["content$","tabIndicator$"])];var i=e[10];function o(a){let l={$$slots:{default:[A$]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=$e(l,s[c]);return{props:l}}return i&&(t=_r(i,o(e)),e[36](t),t.$on("click",e[24])),{c(){t&&et(t.$$.fragment),n=bn()},m(a,l){t&&Ke(t,a,l),Ee(a,n,l),r=!0},p(a,l){const c=l[0]&50301119?Mt(s,[l[0]&2048&&{tag:a[11]},l[0]&15728649&&{use:[[$r,{ripple:a[3],unbounded:!1,addClass:a[21],removeClass:a[22],addStyle:a[23]}],a[20],...a[0]]},l[0]&294962&&{class:ut({[a[1]]:!0,"mdc-tab":!0,"mdc-tab--active":a[18],"mdc-tab--stacked":a[4],"mdc-tab--min-width":a[5],...a[15]})},l[0]&65540&&{style:Object.entries(a[16]).map(Bp).concat([a[2]]).join(" ")},s[4],l[0]&262144&&{"aria-selected":a[18]?"true":"false"},l[0]&786432&&{tabindex:a[18]||a[19]?"0":"-1"},l[0]&128&&{href:a[7]},l[0]&131072&&hn(a[17]),l[0]&33554432&&hn(Wn(a[25],["content$","tabIndicator$"]))]):{};if(l[0]&33841984|l[1]&64&&(c.$$scope={dirty:l,ctx:a}),l[0]&1024&&i!==(i=a[10])){if(t){tn();const f=t;ae(f.$$.fragment,1,0,()=>{Qe(f,1)}),nn()}i?(t=_r(i,o(a)),a[36](t),t.$on("click",a[24]),et(t.$$.fragment),re(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&ae(t.$$.fragment,a),r=!1},d(a){e[36](null),a&&Ae(n),t&&Qe(t,a)}}}const Bp=([e,t])=>`${e}: ${t};`;function E$(e,t,n){const r=["use","class","style","tab","ripple","stacked","minWidth","indicatorSpanOnlyContent","href","content$use","content$class","component","tag","activate","deactivate","focus","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{tab:u}=t,{ripple:h=!0}=t,{stacked:d=!1}=t,{minWidth:g=!1}=t,{indicatorSpanOnlyContent:p=!1}=t,{href:m=void 0}=t,{content$use:v=[]}=t,{content$class:b=""}=t,_,S,E,w,A={},L={},U={},B=fr("SMUI:tab:focusOnActivate"),k=u===fr("SMUI:tab:initialActive"),se=!1,{component:V=yr}=t,{tag:j=V===yr?m==null?"button":"a":void 0}=t;if(cr("SMUI:label:context","tab"),cr("SMUI:icon:context","tab"),!u)throw new Error("The tab property is required! It should be passed down from the TabBar to the Tab.");Yn(()=>{n(31,S=new m$({setAttr:J,addClass:ne,removeClass:H,hasClass:Ie,activateIndicator:An=>w.activate(An),deactivateIndicator:()=>w.deactivate(),notifyInteracted:()=>Tn(ze(),"SMUITab:interacted",{tabId:u},void 0,!0),getOffsetLeft:()=>ze().offsetLeft,getOffsetWidth:()=>ze().offsetWidth,getContentOffsetLeft:()=>E.offsetLeft,getContentOffsetWidth:()=>E.offsetWidth,focus:It}));const He={tabId:u,get element(){return ze()},get active(){return k},forceAccessible(An){n(19,se=An)},computeIndicatorClientRect:()=>w.computeContentClientRect(),computeDimensions:()=>S.computeDimensions(),focus:It,activate:kt,deactivate:xe};return Tn(ze(),"SMUITab:mount",He),S.init(),()=>{Tn(ze(),"SMUITab:unmount",He),S.destroy()}});function Ie(He){return He in A?A[He]:ze().classList.contains(He)}function ne(He){A[He]||n(15,A[He]=!0,A)}function H(He){(!(He in A)||A[He])&&n(15,A[He]=!1,A)}function fe(He,An){L[He]!=An&&(An===""||An==null?(delete L[He],n(16,L)):n(16,L[He]=An,L))}function J(He,An){U[He]!==An&&n(17,U[He]=An,U)}function ve(He){!He.defaultPrevented&&S&&S.handleClick()}function kt(He,An){n(18,k=!0),An&&S.setFocusOnActivate(!1),S.activate(He),An&&S.setFocusOnActivate(B)}function xe(){n(18,k=!1),S.deactivate()}function It(){ze().focus()}function ze(){return _.getElement()}function Tt(He){rt[He?"unshift":"push"](()=>{w=He,n(14,w)})}function yn(He){rt[He?"unshift":"push"](()=>{E=He,n(13,E)})}function rr(He){rt[He?"unshift":"push"](()=>{w=He,n(14,w)})}function Je(He){rt[He?"unshift":"push"](()=>{_=He,n(12,_)})}return e.$$set=He=>{t=$e($e({},t),mn(He)),n(25,s=Et(t,r)),"use"in He&&n(0,l=He.use),"class"in He&&n(1,c=He.class),"style"in He&&n(2,f=He.style),"tab"in He&&n(26,u=He.tab),"ripple"in He&&n(3,h=He.ripple),"stacked"in He&&n(4,d=He.stacked),"minWidth"in He&&n(5,g=He.minWidth),"indicatorSpanOnlyContent"in He&&n(6,p=He.indicatorSpanOnlyContent),"href"in He&&n(7,m=He.href),"content$use"in He&&n(8,v=He.content$use),"content$class"in He&&n(9,b=He.content$class),"component"in He&&n(10,V=He.component),"tag"in He&&n(11,j=He.tag),"$$scope"in He&&n(37,o=He.$$scope)},e.$$.update=()=>{e.$$.dirty[1]&1&&S&&S.setFocusOnActivate(B)},[l,c,f,h,d,g,p,m,v,b,V,j,_,E,w,A,L,U,k,se,a,ne,H,fe,ve,s,u,kt,xe,It,ze,S,i,Tt,yn,rr,Je,o]}class w$ extends Yt{constructor(t){super(),Wt(this,t,E$,S$,Xt,{use:0,class:1,style:2,tab:26,ripple:3,stacked:4,minWidth:5,indicatorSpanOnlyContent:6,href:7,content$use:8,content$class:9,component:10,tag:11,activate:27,deactivate:28,focus:29,getElement:30},null,[-1,-1])}get activate(){return this.$$.ctx[27]}get deactivate(){return this.$$.ctx[28]}get focus(){return this.$$.ctx[29]}get getElement(){return this.$$.ctx[30]}}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var db={ANIMATING:"mdc-tab-scroller--animating",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll",SCROLL_TEST:"mdc-tab-scroller__test"},T$={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Pd=function(){function e(t){this.adapter=t}return e}();/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var C$=function(e){Bn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(){var n=this.adapter.getScrollAreaScrollLeft(),r=this.calculateScrollEdges().right;return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.calculateScrollEdges(),s=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(r.right-n);return{finalScrollPosition:i,scrollDelta:i-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n){return n},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t}(Pd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var P$=function(e){Bn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(n-r)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n,r){return n-r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:r-n,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.max(Math.min(r.right,n),r.left)},t}(Pd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var L$=function(e){Bn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r+n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.getAnimatingScrollPosition=function(n,r){return n+r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:n-r,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.right,n),r.left)},t}(Pd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var O$=function(e){Bn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.isAnimating=!1,r}return Object.defineProperty(t,"cssClasses",{get:function(){return db},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return T$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{eventTargetMatchesSelector:function(){return!1},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){return""},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){return 0},getScrollContentOffsetWidth:function(){return 0},getScrollAreaOffsetWidth:function(){return 0},computeScrollAreaClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeScrollContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeHorizontalScrollbarHeight:function(){return 0}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this.adapter.computeHorizontalScrollbarHeight();this.adapter.setScrollAreaStyleProperty("margin-bottom",-n+"px"),this.adapter.addScrollAreaClass(t.cssClasses.SCROLL_AREA_SCROLL)},t.prototype.getScrollPosition=function(){if(this.isRTL())return this.computeCurrentScrollPositionRTL();var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return r-n},t.prototype.handleInteraction=function(){this.isAnimating&&this.stopScrollAnimation()},t.prototype.handleTransitionEnd=function(n){var r=n.target;!this.isAnimating||!this.adapter.eventTargetMatchesSelector(r,t.strings.CONTENT_SELECTOR)||(this.isAnimating=!1,this.adapter.removeClass(t.cssClasses.ANIMATING))},t.prototype.incrementScroll=function(n){n!==0&&this.animate(this.getIncrementScrollOperation(n))},t.prototype.incrementScrollImmediate=function(n){if(n!==0){var r=this.getIncrementScrollOperation(n);r.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(r.finalScrollPosition))}},t.prototype.scrollTo=function(n){if(this.isRTL()){this.scrollToImplRTL(n);return}this.scrollToImpl(n)},t.prototype.getRTLScroller=function(){return this.rtlScrollerInstance||(this.rtlScrollerInstance=this.rtlScrollerFactory()),this.rtlScrollerInstance},t.prototype.calculateCurrentTranslateX=function(){var n=this.adapter.getScrollContentStyleValue("transform");if(n==="none")return 0;var r=/\((.+?)\)/.exec(n);if(!r)return 0;var s=r[1],i=$g(s.split(","),6);i[0],i[1],i[2],i[3];var o=i[4];return i[5],parseFloat(o)},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t.prototype.computeCurrentScrollPositionRTL=function(){var n=this.calculateCurrentTranslateX();return this.getRTLScroller().getScrollPositionRTL(n)},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.scrollToImpl=function(n){var r=this.getScrollPosition(),s=this.clampScrollValue(n),i=s-r;this.animate({finalScrollPosition:s,scrollDelta:i})},t.prototype.scrollToImplRTL=function(n){var r=this.getRTLScroller().scrollToRTL(n);this.animate(r)},t.prototype.getIncrementScrollOperation=function(n){if(this.isRTL())return this.getRTLScroller().incrementScrollRTL(n);var r=this.getScrollPosition(),s=n+r,i=this.clampScrollValue(s),o=i-r;return{finalScrollPosition:i,scrollDelta:o}},t.prototype.animate=function(n){var r=this;n.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(n.finalScrollPosition),this.adapter.setScrollContentStyleProperty("transform","translateX("+n.scrollDelta+"px)"),this.adapter.computeScrollAreaClientRect(),requestAnimationFrame(function(){r.adapter.addClass(t.cssClasses.ANIMATING),r.adapter.setScrollContentStyleProperty("transform","none")}),this.isAnimating=!0)},t.prototype.stopScrollAnimation=function(){this.isAnimating=!1;var n=this.getAnimatingScrollPosition();this.adapter.removeClass(t.cssClasses.ANIMATING),this.adapter.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter.setScrollAreaScrollLeft(n)},t.prototype.getAnimatingScrollPosition=function(){var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return this.isRTL()?this.getRTLScroller().getAnimatingScrollPosition(r,n):r-n},t.prototype.rtlScrollerFactory=function(){var n=this.adapter.getScrollAreaScrollLeft();this.adapter.setScrollAreaScrollLeft(n-1);var r=this.adapter.getScrollAreaScrollLeft();if(r<0)return this.adapter.setScrollAreaScrollLeft(n),new P$(this.adapter);var s=this.adapter.computeScrollAreaClientRect(),i=this.adapter.computeScrollContentClientRect(),o=Math.round(i.right-s.right);return this.adapter.setScrollAreaScrollLeft(n),o===r?new L$(this.adapter):new C$(this.adapter)},t.prototype.isRTL=function(){return this.adapter.getScrollContentStyleValue("direction")==="rtl"},t}(Ar);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Fu;function R$(e,t){if(t===void 0&&(t=!0),t&&typeof Fu<"u")return Fu;var n=e.createElement("div");n.classList.add(db.SCROLL_TEST),e.body.appendChild(n);var r=n.offsetHeight-n.clientHeight;return e.body.removeChild(n),t&&(Fu=r),r}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var xn={ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",ENTER_KEY:"Enter",HOME_KEY:"Home",SPACE_KEY:"Space",TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab"},Lr={ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,ENTER_KEYCODE:13,EXTRA_SCROLL_AMOUNT:20,HOME_KEYCODE:36,SPACE_KEYCODE:32};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ui=new Set;ui.add(xn.ARROW_LEFT_KEY);ui.add(xn.ARROW_RIGHT_KEY);ui.add(xn.END_KEY);ui.add(xn.HOME_KEY);ui.add(xn.ENTER_KEY);ui.add(xn.SPACE_KEY);var di=new Map;di.set(Lr.ARROW_LEFT_KEYCODE,xn.ARROW_LEFT_KEY);di.set(Lr.ARROW_RIGHT_KEYCODE,xn.ARROW_RIGHT_KEY);di.set(Lr.END_KEYCODE,xn.END_KEY);di.set(Lr.HOME_KEYCODE,xn.HOME_KEY);di.set(Lr.ENTER_KEYCODE,xn.ENTER_KEY);di.set(Lr.SPACE_KEYCODE,xn.SPACE_KEY);var M$=function(e){Bn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.useAutomaticActivation=!1,r}return Object.defineProperty(t,"strings",{get:function(){return xn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Lr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){return 0},getScrollContentWidth:function(){return 0},getOffsetWidth:function(){return 0},isRTL:function(){return!1},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabDimensionsAtIndex:function(){return{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:function(){return-1},getFocusedTabIndex:function(){return-1},getIndexOfTabById:function(){return-1},getTabListLength:function(){return 0},notifyTabActivated:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setUseAutomaticActivation=function(n){this.useAutomaticActivation=n},t.prototype.activateTab=function(n){var r=this.adapter.getPreviousActiveTabIndex();if(!(!this.indexIsInRange(n)||n===r)){var s;r!==-1&&(this.adapter.deactivateTabAtIndex(r),s=this.adapter.getTabIndicatorClientRectAtIndex(r)),this.adapter.activateTabAtIndex(n,s),this.scrollIntoView(n),this.adapter.notifyTabActivated(n)}},t.prototype.handleKeyDown=function(n){var r=this.getKeyFromEvent(n);if(r!==void 0)if(this.isActivationKey(r)||n.preventDefault(),this.useAutomaticActivation){if(this.isActivationKey(r))return;var s=this.determineTargetFromKey(this.adapter.getPreviousActiveTabIndex(),r);this.adapter.setActiveTab(s),this.scrollIntoView(s)}else{var i=this.adapter.getFocusedTabIndex();if(this.isActivationKey(r))this.adapter.setActiveTab(i);else{var s=this.determineTargetFromKey(i,r);this.adapter.focusTabAtIndex(s),this.scrollIntoView(s)}}},t.prototype.handleTabInteraction=function(n){this.adapter.setActiveTab(this.adapter.getIndexOfTabById(n.detail.tabId))},t.prototype.scrollIntoView=function(n){if(this.indexIsInRange(n)){if(n===0){this.adapter.scrollTo(0);return}if(n===this.adapter.getTabListLength()-1){this.adapter.scrollTo(this.adapter.getScrollContentWidth());return}if(this.isRTL()){this.scrollIntoViewImplRTL(n);return}this.scrollIntoViewImpl(n)}},t.prototype.determineTargetFromKey=function(n,r){var s=this.isRTL(),i=this.adapter.getTabListLength()-1,o=r===xn.END_KEY,a=r===xn.ARROW_LEFT_KEY&&!s||r===xn.ARROW_RIGHT_KEY&&s,l=r===xn.ARROW_RIGHT_KEY&&!s||r===xn.ARROW_LEFT_KEY&&s,c=n;return o?c=i:a?c-=1:l?c+=1:c=0,c<0?c=i:c>i&&(c=0),c},t.prototype.calculateScrollIncrement=function(n,r,s,i){var o=this.adapter.getTabDimensionsAtIndex(r),a=o.contentLeft-s-i,l=o.contentRight-s,c=l-Lr.EXTRA_SCROLL_AMOUNT,f=a+Lr.EXTRA_SCROLL_AMOUNT;return r<n?Math.min(c,0):Math.max(f,0)},t.prototype.calculateScrollIncrementRTL=function(n,r,s,i,o){var a=this.adapter.getTabDimensionsAtIndex(r),l=o-a.contentLeft-s,c=o-a.contentRight-s-i,f=c+Lr.EXTRA_SCROLL_AMOUNT,u=l-Lr.EXTRA_SCROLL_AMOUNT;return r>n?Math.max(f,0):Math.min(u,0)},t.prototype.findAdjacentTabIndexClosestToEdge=function(n,r,s,i){var o=r.rootLeft-s,a=r.rootRight-s-i,l=o+a,c=o<0||l<0,f=a>0||l>0;return c?n-1:f?n+1:-1},t.prototype.findAdjacentTabIndexClosestToEdgeRTL=function(n,r,s,i,o){var a=o-r.rootLeft-i-s,l=o-r.rootRight-s,c=a+l,f=a>0||c>0,u=l<0||c<0;return f?n+1:u?n-1:-1},t.prototype.getKeyFromEvent=function(n){return ui.has(n.key)?n.key:di.get(n.keyCode)},t.prototype.isActivationKey=function(n){return n===xn.SPACE_KEY||n===xn.ENTER_KEY},t.prototype.indexIsInRange=function(n){return n>=0&&n<this.adapter.getTabListLength()},t.prototype.isRTL=function(){return this.adapter.isRTL()},t.prototype.scrollIntoViewImpl=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.findAdjacentTabIndexClosestToEdge(n,i,r,s);if(this.indexIsInRange(o)){var a=this.calculateScrollIncrement(n,o,r,s);this.adapter.incrementScroll(a)}},t.prototype.scrollIntoViewImplRTL=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.adapter.getScrollContentWidth(),a=this.findAdjacentTabIndexClosestToEdgeRTL(n,i,r,s,o);if(this.indexIsInRange(a)){var l=this.calculateScrollIncrementRTL(n,a,r,s,o);this.adapter.incrementScroll(l)}},t}(Ar);function I$(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g;const p=e[23].default,m=Gt(p,e,e[22],null);let v=[{class:s=ut({[e[6]]:!0,"mdc-tab-scroller__scroll-content":!0})},{style:i=Object.entries(e[14]).map(Np).join(" ")},qt(e[16],"scrollContent$")],b={};for(let A=0;A<v.length;A+=1)b=$e(b,v[A]);let _=[{class:a=ut({[e[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...e[12]})},{style:l=Object.entries(e[13]).map(Vp).join(" ")},qt(e[16],"scrollArea$")],S={};for(let A=0;A<_.length;A+=1)S=$e(S,_[A]);let E=[{class:f=ut({[e[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":e[2]==="start","mdc-tab-scroller--align-end":e[2]==="end","mdc-tab-scroller--align-center":e[2]==="center",...e[11]})},Wn(e[16],["scrollArea$","scrollContent$"])],w={};for(let A=0;A<E.length;A+=1)w=$e(w,E[A]);return{c(){t=mt("div"),n=mt("div"),r=mt("div"),m&&m.c(),At(r,b),At(n,S),At(t,w)},m(A,L){Ee(A,t,L),xt(t,n),xt(n,r),m&&m.m(r,null),e[24](r),e[26](n),e[32](t),h=!0,d||(g=[bt(o=an.call(null,r,e[5])),Ft(r,"transitionend",e[25]),bt(c=an.call(null,n,e[3])),Ft(n,"wheel",e[27],{passive:!0}),Ft(n,"touchstart",e[28],{passive:!0}),Ft(n,"pointerdown",e[29]),Ft(n,"mousedown",e[30]),Ft(n,"keydown",e[31]),bt(u=an.call(null,t,e[0])),bt(e[15].call(null,t))],d=!0)},p(A,L){m&&m.p&&(!h||L[0]&4194304)&&Nt(m,p,A,A[22],h?Bt(p,A[22],L,null):Vt(A[22]),null),At(r,b=Mt(v,[(!h||L[0]&64&&s!==(s=ut({[A[6]]:!0,"mdc-tab-scroller__scroll-content":!0})))&&{class:s},(!h||L[0]&16384&&i!==(i=Object.entries(A[14]).map(Np).join(" ")))&&{style:i},L[0]&65536&&qt(A[16],"scrollContent$")])),o&&jt(o.update)&&L[0]&32&&o.update.call(null,A[5]),At(n,S=Mt(_,[(!h||L[0]&4112&&a!==(a=ut({[A[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...A[12]})))&&{class:a},(!h||L[0]&8192&&l!==(l=Object.entries(A[13]).map(Vp).join(" ")))&&{style:l},L[0]&65536&&qt(A[16],"scrollArea$")])),c&&jt(c.update)&&L[0]&8&&c.update.call(null,A[3]),At(t,w=Mt(E,[(!h||L[0]&2054&&f!==(f=ut({[A[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":A[2]==="start","mdc-tab-scroller--align-end":A[2]==="end","mdc-tab-scroller--align-center":A[2]==="center",...A[11]})))&&{class:f},L[0]&65536&&Wn(A[16],["scrollArea$","scrollContent$"])])),u&&jt(u.update)&&L[0]&1&&u.update.call(null,A[0])},i(A){h||(re(m,A),h=!0)},o(A){ae(m,A),h=!1},d(A){A&&Ae(t),m&&m.d(A),e[24](null),e[26](null),e[32](null),d=!1,cn(g)}}}const Np=([e,t])=>`${e}: ${t};`,Vp=([e,t])=>`${e}: ${t};`;function D$(e,t,n){const r=["use","class","align","scrollArea$use","scrollArea$class","scrollContent$use","scrollContent$class","getScrollPosition","getScrollContentWidth","incrementScroll","scrollTo","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const{matches:a}=jg,l=_n(rn());let{use:c=[]}=t,{class:f=""}=t,{align:u=void 0}=t,{scrollArea$use:h=[]}=t,{scrollArea$class:d=""}=t,{scrollContent$use:g=[]}=t,{scrollContent$class:p=""}=t,m,v,b,_,S={},E={},w={},A={};Yn(()=>(n(8,v=new O$({eventTargetMatchesSelector:(Je,He)=>a(Je,He),addClass:L,removeClass:U,addScrollAreaClass:B,setScrollAreaStyleProperty:k,setScrollContentStyleProperty:se,getScrollContentStyleValue:V,setScrollAreaScrollLeft:Je=>n(9,b.scrollLeft=Je,b),getScrollAreaScrollLeft:()=>b.scrollLeft,getScrollContentOffsetWidth:()=>_.offsetWidth,getScrollAreaOffsetWidth:()=>b.offsetWidth,computeScrollAreaClientRect:()=>b.getBoundingClientRect(),computeScrollContentClientRect:()=>_.getBoundingClientRect(),computeHorizontalScrollbarHeight:()=>R$(document)})),v.init(),()=>{v.destroy()}));function L(Je){S[Je]||n(11,S[Je]=!0,S)}function U(Je){(!(Je in S)||S[Je])&&n(11,S[Je]=!1,S)}function B(Je){E[Je]||n(12,E[Je]=!0,E)}function k(Je,He){w[Je]!=He&&(He===""||He==null?(delete w[Je],n(13,w)):n(13,w[Je]=He,w))}function se(Je,He){A[Je]!=He&&(He===""||He==null?(delete A[Je],n(14,A)):n(14,A[Je]=He,A))}function V(Je){return Je in A?A[Je]:getComputedStyle(_).getPropertyValue(Je)}function j(){return v.getScrollPosition()}function Ie(){return _.offsetWidth}function ne(Je){v.incrementScroll(Je)}function H(Je){v.scrollTo(Je)}function fe(){return m}function J(Je){rt[Je?"unshift":"push"](()=>{_=Je,n(10,_)})}const ve=Je=>v&&v.handleTransitionEnd(Je);function kt(Je){rt[Je?"unshift":"push"](()=>{b=Je,n(9,b)})}const xe=()=>v&&v.handleInteraction(),It=()=>v&&v.handleInteraction(),ze=()=>v&&v.handleInteraction(),Tt=()=>v&&v.handleInteraction(),yn=()=>v&&v.handleInteraction();function rr(Je){rt[Je?"unshift":"push"](()=>{m=Je,n(7,m)})}return e.$$set=Je=>{t=$e($e({},t),mn(Je)),n(16,s=Et(t,r)),"use"in Je&&n(0,c=Je.use),"class"in Je&&n(1,f=Je.class),"align"in Je&&n(2,u=Je.align),"scrollArea$use"in Je&&n(3,h=Je.scrollArea$use),"scrollArea$class"in Je&&n(4,d=Je.scrollArea$class),"scrollContent$use"in Je&&n(5,g=Je.scrollContent$use),"scrollContent$class"in Je&&n(6,p=Je.scrollContent$class),"$$scope"in Je&&n(22,o=Je.$$scope)},[c,f,u,h,d,g,p,m,v,b,_,S,E,w,A,l,s,j,Ie,ne,H,fe,o,i,J,ve,kt,xe,It,ze,Tt,yn,rr]}class F$ extends Yt{constructor(t){super(),Wt(this,t,D$,I$,Xt,{use:0,class:1,align:2,scrollArea$use:3,scrollArea$class:4,scrollContent$use:5,scrollContent$class:6,getScrollPosition:17,getScrollContentWidth:18,incrementScroll:19,scrollTo:20,getElement:21},null,[-1,-1])}get getScrollPosition(){return this.$$.ctx[17]}get getScrollContentWidth(){return this.$$.ctx[18]}get incrementScroll(){return this.$$.ctx[19]}get scrollTo(){return this.$$.ctx[20]}get getElement(){return this.$$.ctx[21]}}function Up(e,t,n){const r=e.slice();return r[29]=t[n],r}const k$=e=>({tab:e[0]&4}),$p=e=>({tab:e[29]});function Hp(e,t){let n,r;const s=t[21].default,i=Gt(s,t,t[24],$p);return{key:e,first:null,c(){n=bn(),i&&i.c(),this.first=n},m(o,a){Ee(o,n,a),i&&i.m(o,a),r=!0},p(o,a){t=o,i&&i.p&&(!r||a[0]&16777220)&&Nt(i,s,t,t[24],r?Bt(s,t[24],a,k$):Vt(t[24]),$p)},i(o){r||(re(i,o),r=!0)},o(o){ae(i,o),r=!1},d(o){o&&Ae(n),i&&i.d(o)}}}function x$(e){let t=[],n=new Map,r,s,i=e[2];const o=a=>a[3](a[29]);for(let a=0;a<i.length;a+=1){let l=Up(e,i,a),c=o(l);n.set(c,t[a]=Hp(c,l))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();r=bn()},m(a,l){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(a,l);Ee(a,r,l),s=!0},p(a,l){l[0]&16777228&&(i=a[2],tn(),t=Bg(t,l,o,1,a,i,n,r.parentNode,Gg,Hp,r,Up),nn())},i(a){if(!s){for(let l=0;l<i.length;l+=1)re(t[l]);s=!0}},o(a){for(let l=0;l<t.length;l+=1)ae(t[l]);s=!1},d(a){for(let l=0;l<t.length;l+=1)t[l].d(a);a&&Ae(r)}}}function G$(e){let t,n,r,s,i,o,a;const l=[qt(e[11],"tabScroller$")];let c={$$slots:{default:[x$]},$$scope:{ctx:e}};for(let h=0;h<l.length;h+=1)c=$e(c,l[h]);n=new F$({props:c}),e[22](n);let f=[{class:r=ut({[e[1]]:!0,"mdc-tab-bar":!0})},{role:"tablist"},{tabindex:e[4]},Wn(e[11],["tabScroller$"])],u={};for(let h=0;h<f.length;h+=1)u=$e(u,f[h]);return{c(){t=mt("div"),et(n.$$.fragment),At(t,u)},m(h,d){Ee(h,t,d),Ke(n,t,null),e[23](t),i=!0,o||(a=[bt(s=an.call(null,t,e[0])),bt(e[8].call(null,t)),Ft(t,"SMUITab:mount",e[9]),Ft(t,"SMUITab:unmount",e[10]),Ft(t,"SMUITab:interacted",function(){jt(e[5]&&e[5].handleTabInteraction.bind(e[5]))&&(e[5]&&e[5].handleTabInteraction.bind(e[5])).apply(this,arguments)}),Ft(t,"keydown",function(){jt(e[5]&&e[5].handleKeyDown.bind(e[5]))&&(e[5]&&e[5].handleKeyDown.bind(e[5])).apply(this,arguments)})],o=!0)},p(h,d){e=h;const g=d[0]&2048?Mt(l,[hn(qt(e[11],"tabScroller$"))]):{};d[0]&16777220&&(g.$$scope={dirty:d,ctx:e}),n.$set(g),At(t,u=Mt(f,[(!i||d[0]&2&&r!==(r=ut({[e[1]]:!0,"mdc-tab-bar":!0})))&&{class:r},{role:"tablist"},(!i||d[0]&16)&&{tabindex:e[4]},d[0]&2048&&Wn(e[11],["tabScroller$"])])),s&&jt(s.update)&&d[0]&1&&s.update.call(null,e[0])},i(h){i||(re(n.$$.fragment,h),i=!0)},o(h){ae(n.$$.fragment,h),i=!1},d(h){h&&Ae(t),e[22](null),Qe(n),e[23](null),o=!1,cn(a)}}}function B$(e,t,n){const r=["use","class","tabs","key","focusOnActivate","focusOnProgrammatic","useAutomaticActivation","active","tabindex","scrollIntoView","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{tabs:f=[]}=t,{key:u=H=>H}=t,{focusOnActivate:h=!0}=t,{focusOnProgrammatic:d=!1}=t,{useAutomaticActivation:g=!0}=t,{active:p=void 0}=t,{tabindex:m=0}=t,v,b,_,S=f.indexOf(p),E={},w=new WeakMap,A=!1;cr("SMUI:tab:focusOnActivate",h),cr("SMUI:tab:initialActive",p),Yn(()=>(n(5,b=new M$({scrollTo:H=>_.scrollTo(H),incrementScroll:H=>_.incrementScroll(H),getScrollPosition:()=>_.getScrollPosition(),getScrollContentWidth:()=>_.getScrollContentWidth(),getOffsetWidth:()=>j().offsetWidth,isRTL:()=>getComputedStyle(j()).getPropertyValue("direction")==="rtl",setActiveTab:H=>{n(12,p=f[H]),n(18,S=H),b.activateTab(H)},activateTabAtIndex:(H,fe)=>{var J;return(J=B(f[H]))===null||J===void 0?void 0:J.activate(fe,A)},deactivateTabAtIndex:H=>{var fe;return(fe=B(f[H]))===null||fe===void 0?void 0:fe.deactivate()},focusTabAtIndex:H=>{var fe;return(fe=B(f[H]))===null||fe===void 0?void 0:fe.focus()},getTabIndicatorClientRectAtIndex:H=>{var fe,J;return(J=(fe=B(f[H]))===null||fe===void 0?void 0:fe.computeIndicatorClientRect())!==null&&J!==void 0?J:new DOMRect},getTabDimensionsAtIndex:H=>{var fe,J;return(J=(fe=B(f[H]))===null||fe===void 0?void 0:fe.computeDimensions())!==null&&J!==void 0?J:{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:()=>{var H;for(let fe=0;fe<f.length;fe++)if(!((H=B(f[fe]))===null||H===void 0)&&H.active)return fe;return-1},getFocusedTabIndex:()=>{const H=f.map(J=>{var ve;return(ve=B(J))===null||ve===void 0?void 0:ve.element}),fe=document.activeElement;return H.indexOf(fe)},getIndexOfTabById:H=>f.indexOf(H),getTabListLength:()=>f.length,notifyTabActivated:H=>Tn(j(),"SMUITabBar:activated",{index:H},void 0,!0)})),b.init(),()=>{b.destroy()}));function L(H){const fe=H.detail;k(fe.tabId,fe)}function U(H){const fe=H.detail;se(fe.tabId)}function B(H){return H instanceof Object?w.get(H):E[H]}function k(H,fe){H instanceof Object?(w.set(H,fe),n(20,w)):(n(19,E[H]=fe,E),n(19,E))}function se(H){H instanceof Object?(w.delete(H),n(20,w)):(delete E[H],n(19,E))}function V(H){b.scrollIntoView(H)}function j(){return v}function Ie(H){rt[H?"unshift":"push"](()=>{_=H,n(7,_)})}function ne(H){rt[H?"unshift":"push"](()=>{v=H,n(6,v)})}return e.$$set=H=>{t=$e($e({},t),mn(H)),n(11,s=Et(t,r)),"use"in H&&n(0,l=H.use),"class"in H&&n(1,c=H.class),"tabs"in H&&n(2,f=H.tabs),"key"in H&&n(3,u=H.key),"focusOnActivate"in H&&n(13,h=H.focusOnActivate),"focusOnProgrammatic"in H&&n(14,d=H.focusOnProgrammatic),"useAutomaticActivation"in H&&n(15,g=H.useAutomaticActivation),"active"in H&&n(12,p=H.active),"tabindex"in H&&n(4,m=H.tabindex),"$$scope"in H&&n(24,o=H.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&282660&&p!==f[S]&&(n(18,S=f.indexOf(p)),b&&(A=!d,b.activateTab(S),A=!1)),e.$$.dirty[0]&1835012&&f.length){const H=f[0]instanceof Object?w.get(f[0]):E[f[0]];H&&H.forceAccessible(S===-1)}e.$$.dirty[0]&32800&&b&&b.setUseAutomaticActivation(g)},[l,c,f,u,m,b,v,_,a,L,U,s,p,h,d,g,V,j,S,E,w,i,Ie,ne,o]}class N$ extends Yt{constructor(t){super(),Wt(this,t,B$,G$,Xt,{use:0,class:1,tabs:2,key:3,focusOnActivate:13,focusOnProgrammatic:14,useAutomaticActivation:15,active:12,tabindex:4,scrollIntoView:16,getElement:17},null,[-1,-1])}get scrollIntoView(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var V$={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var U$=function(e){Bn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.shakeAnimationEndHandler=function(){r.handleShakeAnimationEnd()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return V$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(n){var r=t.cssClasses.LABEL_SHAKE;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.float=function(n){var r=t.cssClasses,s=r.LABEL_FLOAT_ABOVE,i=r.LABEL_SHAKE;n?this.adapter.addClass(s):(this.adapter.removeClass(s),this.adapter.removeClass(i))},t.prototype.setRequired=function(n){var r=t.cssClasses.LABEL_REQUIRED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleShakeAnimationEnd=function(){var n=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(n)},t}(Ar);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Zs={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var $$=function(e){Bn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.transitionEndHandler=function(s){r.handleTransitionEnd(s)},r}return Object.defineProperty(t,"cssClasses",{get:function(){return Zs},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},t.prototype.activate=function(){this.adapter.removeClass(Zs.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(Zs.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(n){this.adapter.setStyle("transform-origin",n+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(Zs.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(n){var r=this.adapter.hasClass(Zs.LINE_RIPPLE_DEACTIVATING);n.propertyName==="opacity"&&r&&(this.adapter.removeClass(Zs.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(Zs.LINE_RIPPLE_DEACTIVATING))},t}(Ar);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var H$={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},zp={NOTCH_ELEMENT_PADDING:8},z$={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var j$=function(e){Bn(t,e);function t(n){return e.call(this,ln(ln({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"strings",{get:function(){return H$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return z$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return zp},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.notch=function(n){var r=t.cssClasses.OUTLINE_NOTCHED;n>0&&(n+=zp.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(n),this.adapter.addClass(r)},t.prototype.closeNotch=function(){var n=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(n),this.adapter.removeNotchWidthProperty()},t}(Ar);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ku={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},q$={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},jp={LABEL_SCALE:.75},X$=["pattern","min","max","required","step","minlength","maxlength"],W$=["color","date","datetime-local","month","range","time","week"];/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var qp=["mousedown","touchstart"],Xp=["click","keydown"],Y$=function(e){Bn(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return s.isFocused=!1,s.receivedUserInput=!1,s.valid=!0,s.useNativeValidation=!0,s.validateOnValueChange=!0,s.helperText=r.helperText,s.characterCounter=r.characterCounter,s.leadingIcon=r.leadingIcon,s.trailingIcon=r.trailingIcon,s.inputFocusHandler=function(){s.activateFocus()},s.inputBlurHandler=function(){s.deactivateFocus()},s.inputInputHandler=function(){s.handleInput()},s.setPointerXOffset=function(i){s.setTransformOrigin(i)},s.textFieldInteractionHandler=function(){s.handleTextFieldInteraction()},s.validationAttributeChangeHandler=function(i){s.handleValidationAttributeChange(i)},s}return Object.defineProperty(t,"cssClasses",{get:function(){return q$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return ku},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return jp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat",{get:function(){var n=this.getNativeInput().type;return W$.indexOf(n)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n,r,s,i;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var o=br(qp),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.registerInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=br(Xp),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.registerTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},t.prototype.destroy=function(){var n,r,s,i;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var o=br(qp),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.deregisterInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=br(Xp),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.deregisterTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},t.prototype.handleTextFieldInteraction=function(){var n=this.adapter.getNativeInput();n&&n.disabled||(this.receivedUserInput=!0)},t.prototype.handleValidationAttributeChange=function(n){var r=this;n.some(function(s){return X$.indexOf(s)>-1?(r.styleValidity(!0),r.adapter.setLabelRequired(r.getNativeInput().required),!0):!1}),n.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},t.prototype.notchOutline=function(n){if(!(!this.adapter.hasOutline()||!this.adapter.hasLabel()))if(n){var r=this.adapter.getLabelWidth()*jp.LABEL_SCALE;this.adapter.notchOutline(r)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.helperText&&(this.helperText.isPersistent()||!this.helperText.isValidation()||!this.valid)&&this.helperText.showToScreenReader()},t.prototype.setTransformOrigin=function(n){if(!(this.isDisabled()||this.adapter.hasOutline())){var r=n.touches,s=r?r[0]:n,i=s.target.getBoundingClientRect(),o=s.clientX-i.left;this.adapter.setLineRippleTransformOrigin(o)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var n=this.isValid();this.styleValidity(n),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},t.prototype.getValue=function(){return this.getNativeInput().value},t.prototype.setValue=function(n){if(this.getValue()!==n&&(this.getNativeInput().value=n),this.setcharacterCounter(n.length),this.validateOnValueChange){var r=this.isValid();this.styleValidity(r)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},t.prototype.setValid=function(n){this.valid=n,this.styleValidity(n);var r=!n&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(r)},t.prototype.setValidateOnValueChange=function(n){this.validateOnValueChange=n},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},t.prototype.setUseNativeValidation=function(n){this.useNativeValidation=n},t.prototype.isDisabled=function(){return this.getNativeInput().disabled},t.prototype.setDisabled=function(n){this.getNativeInput().disabled=n,this.styleDisabled(n)},t.prototype.setHelperTextContent=function(n){this.helperText&&this.helperText.setContent(n)},t.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon&&this.leadingIcon.setAriaLabel(n)},t.prototype.setLeadingIconContent=function(n){this.leadingIcon&&this.leadingIcon.setContent(n)},t.prototype.setTrailingIconAriaLabel=function(n){this.trailingIcon&&this.trailingIcon.setAriaLabel(n)},t.prototype.setTrailingIconContent=function(n){this.trailingIcon&&this.trailingIcon.setContent(n)},t.prototype.setcharacterCounter=function(n){if(this.characterCounter){var r=this.getNativeInput().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(n,r)}},t.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},t.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},t.prototype.styleValidity=function(n){var r=t.cssClasses.INVALID;if(n?this.adapter.removeClass(r):this.adapter.addClass(r),this.helperText){this.helperText.setValidity(n);var s=this.helperText.isValidation();if(!s)return;var i=this.helperText.isVisible(),o=this.helperText.getId();i&&o?this.adapter.setInputAttr(ku.ARIA_DESCRIBEDBY,o):this.adapter.removeInputAttr(ku.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused=function(n){var r=t.cssClasses.FOCUSED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.styleDisabled=function(n){var r=t.cssClasses,s=r.DISABLED,i=r.INVALID;n?(this.adapter.addClass(s),this.adapter.removeClass(i)):this.adapter.removeClass(s),this.leadingIcon&&this.leadingIcon.setDisabled(n),this.trailingIcon&&this.trailingIcon.setDisabled(n)},t.prototype.styleFloating=function(n){var r=t.cssClasses.LABEL_FLOATING;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.getNativeInput=function(){var n=this.adapter?this.adapter.getNativeInput():null;return n||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(Ar);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Nr={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},Jr={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+Nr.ROOT};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Z$=function(e){Bn(t,e);function t(n){return e.call(this,ln(ln({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return Nr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Jr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.adapter.getAttr("id")},t.prototype.isVisible=function(){return this.adapter.getAttr(Jr.ARIA_HIDDEN)!=="true"},t.prototype.setContent=function(n){this.adapter.setContent(n)},t.prototype.isPersistent=function(){return this.adapter.hasClass(Nr.HELPER_TEXT_PERSISTENT)},t.prototype.setPersistent=function(n){n?this.adapter.addClass(Nr.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(Nr.HELPER_TEXT_PERSISTENT)},t.prototype.isValidation=function(){return this.adapter.hasClass(Nr.HELPER_TEXT_VALIDATION_MSG)},t.prototype.setValidation=function(n){n?this.adapter.addClass(Nr.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(Nr.HELPER_TEXT_VALIDATION_MSG)},t.prototype.showToScreenReader=function(){this.adapter.removeAttr(Jr.ARIA_HIDDEN)},t.prototype.setValidity=function(n){var r=this.adapter.hasClass(Nr.HELPER_TEXT_PERSISTENT),s=this.adapter.hasClass(Nr.HELPER_TEXT_VALIDATION_MSG),i=s&&!n;i?(this.showToScreenReader(),this.adapter.getAttr(Jr.ROLE)==="alert"?this.refreshAlertRole():this.adapter.setAttr(Jr.ROLE,"alert")):this.adapter.removeAttr(Jr.ROLE),!r&&!i&&this.hide()},t.prototype.hide=function(){this.adapter.setAttr(Jr.ARIA_HIDDEN,"true")},t.prototype.refreshAlertRole=function(){var n=this;this.adapter.removeAttr(Jr.ROLE),requestAnimationFrame(function(){n.adapter.setAttr(Jr.ROLE,"alert")})},t}(Ar);function K$(e){let t,n,r,s,i,o,a,l;const c=e[22].default,f=Gt(c,e,e[21],null);let u=[{class:n=ut({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(Yp).concat([e[4]]).join(" ")},{for:s=e[5]||(e[11]?e[11].id:void 0)},e[12]],h={};for(let d=0;d<u.length;d+=1)h=$e(h,u[d]);return{c(){t=mt("label"),f&&f.c(),At(t,h)},m(d,g){Ee(d,t,g),f&&f.m(t,null),e[24](t),o=!0,a||(l=[bt(i=an.call(null,t,e[2])),bt(e[10].call(null,t))],a=!0)},p(d,g){f&&f.p&&(!o||g&2097152)&&Nt(f,c,d,d[21],o?Bt(c,d[21],g,null):Vt(d[21]),null),At(t,h=Mt(u,[(!o||g&267&&n!==(n=ut({[d[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":d[0],"mdc-floating-label--required":d[1],...d[8]})))&&{class:n},(!o||g&528&&r!==(r=Object.entries(d[9]).map(Yp).concat([d[4]]).join(" ")))&&{style:r},(!o||g&32&&s!==(s=d[5]||(d[11]?d[11].id:void 0)))&&{for:s},g&4096&&d[12]])),i&&jt(i.update)&&g&4&&i.update.call(null,d[2])},i(d){o||(re(f,d),o=!0)},o(d){ae(f,d),o=!1},d(d){d&&Ae(t),f&&f.d(d),e[24](null),a=!1,cn(l)}}}function Q$(e){let t,n,r,s,i,o,a;const l=e[22].default,c=Gt(l,e,e[21],null);let f=[{class:n=ut({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(Wp).concat([e[4]]).join(" ")},e[12]],u={};for(let h=0;h<f.length;h+=1)u=$e(u,f[h]);return{c(){t=mt("span"),c&&c.c(),At(t,u)},m(h,d){Ee(h,t,d),c&&c.m(t,null),e[23](t),i=!0,o||(a=[bt(s=an.call(null,t,e[2])),bt(e[10].call(null,t))],o=!0)},p(h,d){c&&c.p&&(!i||d&2097152)&&Nt(c,l,h,h[21],i?Bt(l,h[21],d,null):Vt(h[21]),null),At(t,u=Mt(f,[(!i||d&267&&n!==(n=ut({[h[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":h[0],"mdc-floating-label--required":h[1],...h[8]})))&&{class:n},(!i||d&528&&r!==(r=Object.entries(h[9]).map(Wp).concat([h[4]]).join(" ")))&&{style:r},d&4096&&h[12]])),s&&jt(s.update)&&d&4&&s.update.call(null,h[2])},i(h){i||(re(c,h),i=!0)},o(h){ae(c,h),i=!1},d(h){h&&Ae(t),c&&c.d(h),e[23](null),o=!1,cn(a)}}}function J$(e){let t,n,r,s;const i=[Q$,K$],o=[];function a(l,c){return l[6]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=bn()},m(l,c){o[t].m(l,c),Ee(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(tn(),ae(o[f],1,1,()=>{o[f]=null}),nn(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),re(n,1),n.m(r.parentNode,r))},i(l){s||(re(n),s=!0)},o(l){ae(n),s=!1},d(l){o[t].d(l),l&&Ae(r)}}}const Wp=([e,t])=>`${e}: ${t};`,Yp=([e,t])=>`${e}: ${t};`;function eH(e,t,n){const r=["use","class","style","for","floatAbove","required","wrapped","shake","float","setRequired","getWidth","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;var a;const l=_n(rn());let{use:c=[]}=t,{class:f=""}=t,{style:u=""}=t,{for:h=void 0}=t,{floatAbove:d=!1}=t,{required:g=!1}=t,{wrapped:p=!1}=t,m,v,b={},_={},S=(a=fr("SMUI:generic:input:props"))!==null&&a!==void 0?a:{},E=d,w=g;Yn(()=>{n(18,v=new U$({addClass:A,removeClass:L,getWidth:()=>{var J,ve;const kt=Ie(),xe=kt.cloneNode(!0);(J=kt.parentNode)===null||J===void 0||J.appendChild(xe),xe.classList.add("smui-floating-label--remove-transition"),xe.classList.add("smui-floating-label--force-size"),xe.classList.remove("mdc-floating-label--float-above");const It=xe.scrollWidth;return(ve=kt.parentNode)===null||ve===void 0||ve.removeChild(xe),It},registerInteractionHandler:(J,ve)=>Ie().addEventListener(J,ve),deregisterInteractionHandler:(J,ve)=>Ie().removeEventListener(J,ve)}));const fe={get element(){return Ie()},addStyle:U,removeStyle:B};return Tn(m,"SMUIFloatingLabel:mount",fe),v.init(),()=>{Tn(m,"SMUIFloatingLabel:unmount",fe),v.destroy()}});function A(fe){b[fe]||n(8,b[fe]=!0,b)}function L(fe){(!(fe in b)||b[fe])&&n(8,b[fe]=!1,b)}function U(fe,J){_[fe]!=J&&(J===""||J==null?(delete _[fe],n(9,_)):n(9,_[fe]=J,_))}function B(fe){fe in _&&(delete _[fe],n(9,_))}function k(fe){v.shake(fe)}function se(fe){n(0,d=fe)}function V(fe){n(1,g=fe)}function j(){return v.getWidth()}function Ie(){return m}function ne(fe){rt[fe?"unshift":"push"](()=>{m=fe,n(7,m)})}function H(fe){rt[fe?"unshift":"push"](()=>{m=fe,n(7,m)})}return e.$$set=fe=>{t=$e($e({},t),mn(fe)),n(12,s=Et(t,r)),"use"in fe&&n(2,c=fe.use),"class"in fe&&n(3,f=fe.class),"style"in fe&&n(4,u=fe.style),"for"in fe&&n(5,h=fe.for),"floatAbove"in fe&&n(0,d=fe.floatAbove),"required"in fe&&n(1,g=fe.required),"wrapped"in fe&&n(6,p=fe.wrapped),"$$scope"in fe&&n(21,o=fe.$$scope)},e.$$.update=()=>{e.$$.dirty&786433&&v&&E!==d&&(n(19,E=d),v.float(d)),e.$$.dirty&1310722&&v&&w!==g&&(n(20,w=g),v.setRequired(g))},[d,g,c,f,u,h,p,m,b,_,l,S,s,k,se,V,j,Ie,v,E,w,o,i,ne,H]}class hb extends Yt{constructor(t){super(),Wt(this,t,eH,J$,Xt,{use:2,class:3,style:4,for:5,floatAbove:0,required:1,wrapped:6,shake:13,float:14,setRequired:15,getWidth:16,getElement:17})}get shake(){return this.$$.ctx[13]}get float(){return this.$$.ctx[14]}get setRequired(){return this.$$.ctx[15]}get getWidth(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}function tH(e){let t,n,r,s,i,o,a=[{class:n=ut({[e[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":e[3],...e[5]})},{style:r=Object.entries(e[6]).map(Zp).concat([e[2]]).join(" ")},e[8]],l={};for(let c=0;c<a.length;c+=1)l=$e(l,a[c]);return{c(){t=mt("div"),At(t,l)},m(c,f){Ee(c,t,f),e[13](t),i||(o=[bt(s=an.call(null,t,e[0])),bt(e[7].call(null,t))],i=!0)},p(c,[f]){At(t,l=Mt(a,[f&42&&n!==(n=ut({[c[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":c[3],...c[5]}))&&{class:n},f&68&&r!==(r=Object.entries(c[6]).map(Zp).concat([c[2]]).join(" "))&&{style:r},f&256&&c[8]])),s&&jt(s.update)&&f&1&&s.update.call(null,c[0])},i:Qt,o:Qt,d(c){c&&Ae(t),e[13](null),i=!1,cn(o)}}}const Zp=([e,t])=>`${e}: ${t};`;function nH(e,t,n){const r=["use","class","style","active","activate","deactivate","setRippleCenter","getElement"];let s=Et(t,r);const i=_n(rn());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{active:c=!1}=t,f,u,h={},d={};Yn(()=>(u=new $$({addClass:p,removeClass:m,hasClass:g,setStyle:v,registerEventHandler:(A,L)=>E().addEventListener(A,L),deregisterEventHandler:(A,L)=>E().removeEventListener(A,L)}),u.init(),()=>{u.destroy()}));function g(A){return A in h?h[A]:E().classList.contains(A)}function p(A){h[A]||n(5,h[A]=!0,h)}function m(A){(!(A in h)||h[A])&&n(5,h[A]=!1,h)}function v(A,L){d[A]!=L&&(L===""||L==null?(delete d[A],n(6,d)):n(6,d[A]=L,d))}function b(){u.activate()}function _(){u.deactivate()}function S(A){u.setRippleCenter(A)}function E(){return f}function w(A){rt[A?"unshift":"push"](()=>{f=A,n(4,f)})}return e.$$set=A=>{t=$e($e({},t),mn(A)),n(8,s=Et(t,r)),"use"in A&&n(0,o=A.use),"class"in A&&n(1,a=A.class),"style"in A&&n(2,l=A.style),"active"in A&&n(3,c=A.active)},[o,a,l,c,f,h,d,i,s,b,_,S,E,w]}class rH extends Yt{constructor(t){super(),Wt(this,t,nH,tH,Xt,{use:0,class:1,style:2,active:3,activate:9,deactivate:10,setRippleCenter:11,getElement:12})}get activate(){return this.$$.ctx[9]}get deactivate(){return this.$$.ctx[10]}get setRippleCenter(){return this.$$.ctx[11]}get getElement(){return this.$$.ctx[12]}}function Kp(e){let t,n,r;const s=e[15].default,i=Gt(s,e,e[14],null);return{c(){t=mt("div"),i&&i.c(),gt(t,"class","mdc-notched-outline__notch"),gt(t,"style",n=Object.entries(e[7]).map(Qp).join(" "))},m(o,a){Ee(o,t,a),i&&i.m(t,null),r=!0},p(o,a){i&&i.p&&(!r||a&16384)&&Nt(i,s,o,o[14],r?Bt(s,o[14],a,null):Vt(o[14]),null),(!r||a&128&&n!==(n=Object.entries(o[7]).map(Qp).join(" ")))&&gt(t,"style",n)},i(o){r||(re(i,o),r=!0)},o(o){ae(i,o),r=!1},d(o){o&&Ae(t),i&&i.d(o)}}}function sH(e){let t,n,r,s,i,o,a,l,c,f,u=!e[3]&&Kp(e),h=[{class:o=ut({[e[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":e[2],"mdc-notched-outline--no-label":e[3],...e[6]})},e[10]],d={};for(let g=0;g<h.length;g+=1)d=$e(d,h[g]);return{c(){t=mt("div"),n=mt("div"),r=pt(),u&&u.c(),s=pt(),i=mt("div"),gt(n,"class","mdc-notched-outline__leading"),gt(i,"class","mdc-notched-outline__trailing"),At(t,d)},m(g,p){Ee(g,t,p),xt(t,n),xt(t,r),u&&u.m(t,null),xt(t,s),xt(t,i),e[16](t),l=!0,c||(f=[bt(a=an.call(null,t,e[0])),bt(e[8].call(null,t)),Ft(t,"SMUIFloatingLabel:mount",e[9]),Ft(t,"SMUIFloatingLabel:unmount",e[17])],c=!0)},p(g,[p]){g[3]?u&&(tn(),ae(u,1,1,()=>{u=null}),nn()):u?(u.p(g,p),p&8&&re(u,1)):(u=Kp(g),u.c(),re(u,1),u.m(t,s)),At(t,d=Mt(h,[(!l||p&78&&o!==(o=ut({[g[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":g[2],"mdc-notched-outline--no-label":g[3],...g[6]})))&&{class:o},p&1024&&g[10]])),a&&jt(a.update)&&p&1&&a.update.call(null,g[0])},i(g){l||(re(u),l=!0)},o(g){ae(u),l=!1},d(g){g&&Ae(t),u&&u.d(),e[16](null),c=!1,cn(f)}}}const Qp=([e,t])=>`${e}: ${t};`;function iH(e,t,n){const r=["use","class","notched","noLabel","notch","closeNotch","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{notched:f=!1}=t,{noLabel:u=!1}=t,h,d,g,p={},m={};Yn(()=>(d=new j$({addClass:b,removeClass:_,setNotchWidthProperty:k=>S("width",k+"px"),removeNotchWidthProperty:()=>E("width")}),d.init(),()=>{d.destroy()}));function v(k){n(4,g=k.detail)}function b(k){p[k]||n(6,p[k]=!0,p)}function _(k){(!(k in p)||p[k])&&n(6,p[k]=!1,p)}function S(k,se){m[k]!=se&&(se===""||se==null?(delete m[k],n(7,m)):n(7,m[k]=se,m))}function E(k){k in m&&(delete m[k],n(7,m))}function w(k){d.notch(k)}function A(){d.closeNotch()}function L(){return h}function U(k){rt[k?"unshift":"push"](()=>{h=k,n(5,h)})}const B=()=>n(4,g=void 0);return e.$$set=k=>{t=$e($e({},t),mn(k)),n(10,s=Et(t,r)),"use"in k&&n(0,l=k.use),"class"in k&&n(1,c=k.class),"notched"in k&&n(2,f=k.notched),"noLabel"in k&&n(3,u=k.noLabel),"$$scope"in k&&n(14,o=k.$$scope)},e.$$.update=()=>{e.$$.dirty&16&&(g?(g.addStyle("transition-duration","0s"),b("mdc-notched-outline--upgraded"),requestAnimationFrame(()=>{g&&g.removeStyle("transition-duration")})):_("mdc-notched-outline--upgraded"))},[l,c,f,u,g,h,p,m,a,v,s,w,A,L,o,i,U,B]}class oH extends Yt{constructor(t){super(),Wt(this,t,iH,sH,Xt,{use:0,class:1,notched:2,noLabel:3,notch:11,closeNotch:12,getElement:13})}get notch(){return this.$$.ctx[11]}get closeNotch(){return this.$$.ctx[12]}get getElement(){return this.$$.ctx[13]}}const aH=Qi({class:"mdc-text-field-helper-line",tag:"div"}),lH=Qi({class:"mdc-text-field__affix mdc-text-field__affix--prefix",tag:"span"}),cH=Qi({class:"mdc-text-field__affix mdc-text-field__affix--suffix",tag:"span"});function fH(e){let t,n,r,s,i,o=[{class:n=ut({[e[1]]:!0,"mdc-text-field__input":!0})},{type:e[2]},{placeholder:e[3]},e[4],e[6],e[10]],a={};for(let l=0;l<o.length;l+=1)a=$e(a,o[l]);return{c(){t=mt("input"),At(t,a)},m(l,c){Ee(l,t,c),t.autofocus&&t.focus(),e[26](t),s||(i=[bt(r=an.call(null,t,e[0])),bt(e[7].call(null,t)),Ft(t,"input",e[27]),Ft(t,"change",e[9]),Ft(t,"blur",e[24]),Ft(t,"focus",e[25])],s=!0)},p(l,[c]){At(t,a=Mt(o,[c&2&&n!==(n=ut({[l[1]]:!0,"mdc-text-field__input":!0}))&&{class:n},c&4&&{type:l[2]},c&8&&{placeholder:l[3]},c&16&&l[4],c&64&&l[6],c&1024&&l[10]])),r&&jt(r.update)&&c&1&&r.update.call(null,l[0])},i:Qt,o:Qt,d(l){l&&Ae(t),e[26](null),s=!1,cn(i)}}}function uH(e){return e===""?Number.NaN:+e}function dH(e,t,n){const r=["use","class","type","placeholder","value","files","dirty","invalid","updateInvalid","emptyValueNull","emptyValueUndefined","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=Et(t,r);const i=_n(rn());let o=()=>{};function a(J){return J===o}let{use:l=[]}=t,{class:c=""}=t,{type:f="text"}=t,{placeholder:u=" "}=t,{value:h=o}=t;const d=a(h);d&&(h="");let{files:g=null}=t,{dirty:p=!1}=t,{invalid:m=!1}=t,{updateInvalid:v=!0}=t,{emptyValueNull:b=h===null}=t;d&&b&&(h=null);let{emptyValueUndefined:_=h===void 0}=t;d&&_&&(h=void 0);let S,E={},w={};Yn(()=>{v&&n(14,m=S.matches(":invalid"))});function A(J){if(f==="file"){n(12,g=J.currentTarget.files);return}if(J.currentTarget.value===""&&b){n(11,h=null);return}if(J.currentTarget.value===""&&_){n(11,h=void 0);return}switch(f){case"number":case"range":n(11,h=uH(J.currentTarget.value));break;default:n(11,h=J.currentTarget.value);break}}function L(J){(f==="file"||f==="range")&&A(J),n(13,p=!0),v&&n(14,m=S.matches(":invalid"))}function U(J){var ve;return J in E?(ve=E[J])!==null&&ve!==void 0?ve:null:j().getAttribute(J)}function B(J,ve){E[J]!==ve&&n(6,E[J]=ve,E)}function k(J){(!(J in E)||E[J]!=null)&&n(6,E[J]=void 0,E)}function se(){j().focus()}function V(){j().blur()}function j(){return S}function Ie(J){Xo.call(this,e,J)}function ne(J){Xo.call(this,e,J)}function H(J){rt[J?"unshift":"push"](()=>{S=J,n(5,S)})}const fe=J=>f!=="file"&&A(J);return e.$$set=J=>{t=$e($e({},t),mn(J)),n(10,s=Et(t,r)),"use"in J&&n(0,l=J.use),"class"in J&&n(1,c=J.class),"type"in J&&n(2,f=J.type),"placeholder"in J&&n(3,u=J.placeholder),"value"in J&&n(11,h=J.value),"files"in J&&n(12,g=J.files),"dirty"in J&&n(13,p=J.dirty),"invalid"in J&&n(14,m=J.invalid),"updateInvalid"in J&&n(15,v=J.updateInvalid),"emptyValueNull"in J&&n(16,b=J.emptyValueNull),"emptyValueUndefined"in J&&n(17,_=J.emptyValueUndefined)},e.$$.update=()=>{e.$$.dirty&2068&&(f==="file"?(delete w.value,n(4,w),n(2,f),n(11,h)):n(4,w.value=h??"",w))},[l,c,f,u,w,S,E,i,A,L,s,h,g,p,m,v,b,_,U,B,k,se,V,j,Ie,ne,H,fe]}class hH extends Yt{constructor(t){super(),Wt(this,t,dH,fH,Xt,{use:0,class:1,type:2,placeholder:3,value:11,files:12,dirty:13,invalid:14,updateInvalid:15,emptyValueNull:16,emptyValueUndefined:17,getAttr:18,addAttr:19,removeAttr:20,focus:21,blur:22,getElement:23})}get getAttr(){return this.$$.ctx[18]}get addAttr(){return this.$$.ctx[19]}get removeAttr(){return this.$$.ctx[20]}get focus(){return this.$$.ctx[21]}get blur(){return this.$$.ctx[22]}get getElement(){return this.$$.ctx[23]}}function mH(e){let t,n,r,s,i,o,a=[{class:n=ut({[e[2]]:!0,"mdc-text-field__input":!0})},{style:r=`${e[4]?"":"resize: none; "}${e[3]}`},e[6],e[9]],l={};for(let c=0;c<a.length;c+=1)l=$e(l,a[c]);return{c(){t=mt("textarea"),At(t,l)},m(c,f){Ee(c,t,f),t.autofocus&&t.focus(),e[21](t),y1(t,e[0]),i||(o=[bt(s=an.call(null,t,e[1])),bt(e[7].call(null,t)),Ft(t,"change",e[8]),Ft(t,"blur",e[19]),Ft(t,"focus",e[20]),Ft(t,"input",e[22])],i=!0)},p(c,[f]){At(t,l=Mt(a,[f&4&&n!==(n=ut({[c[2]]:!0,"mdc-text-field__input":!0}))&&{class:n},f&24&&r!==(r=`${c[4]?"":"resize: none; "}${c[3]}`)&&{style:r},f&64&&c[6],f&512&&c[9]])),s&&jt(s.update)&&f&2&&s.update.call(null,c[1]),f&1&&y1(t,c[0])},i:Qt,o:Qt,d(c){c&&Ae(t),e[21](null),i=!1,cn(o)}}}function pH(e,t,n){const r=["use","class","style","value","dirty","invalid","updateInvalid","resizable","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=Et(t,r);const i=_n(rn());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{value:c=""}=t,{dirty:f=!1}=t,{invalid:u=!1}=t,{updateInvalid:h=!0}=t,{resizable:d=!0}=t,g,p={};Yn(()=>{h&&n(11,u=g.matches(":invalid"))});function m(){n(10,f=!0),h&&n(11,u=g.matches(":invalid"))}function v(k){var se;return k in p?(se=p[k])!==null&&se!==void 0?se:null:w().getAttribute(k)}function b(k,se){p[k]!==se&&n(6,p[k]=se,p)}function _(k){(!(k in p)||p[k]!=null)&&n(6,p[k]=void 0,p)}function S(){w().focus()}function E(){w().blur()}function w(){return g}function A(k){Xo.call(this,e,k)}function L(k){Xo.call(this,e,k)}function U(k){rt[k?"unshift":"push"](()=>{g=k,n(5,g)})}function B(){c=this.value,n(0,c)}return e.$$set=k=>{t=$e($e({},t),mn(k)),n(9,s=Et(t,r)),"use"in k&&n(1,o=k.use),"class"in k&&n(2,a=k.class),"style"in k&&n(3,l=k.style),"value"in k&&n(0,c=k.value),"dirty"in k&&n(10,f=k.dirty),"invalid"in k&&n(11,u=k.invalid),"updateInvalid"in k&&n(12,h=k.updateInvalid),"resizable"in k&&n(4,d=k.resizable)},[c,o,a,l,d,g,p,i,m,s,f,u,h,v,b,_,S,E,w,A,L,U,B]}class gH extends Yt{constructor(t){super(),Wt(this,t,pH,mH,Xt,{use:1,class:2,style:3,value:0,dirty:10,invalid:11,updateInvalid:12,resizable:4,getAttr:13,addAttr:14,removeAttr:15,focus:16,blur:17,getElement:18})}get getAttr(){return this.$$.ctx[13]}get addAttr(){return this.$$.ctx[14]}get removeAttr(){return this.$$.ctx[15]}get focus(){return this.$$.ctx[16]}get blur(){return this.$$.ctx[17]}get getElement(){return this.$$.ctx[18]}}const vH=e=>({}),Jp=e=>({}),bH=e=>({}),eg=e=>({}),_H=e=>({}),tg=e=>({}),yH=e=>({}),ng=e=>({}),AH=e=>({}),rg=e=>({}),SH=e=>({}),sg=e=>({}),EH=e=>({}),ig=e=>({}),wH=e=>({}),og=e=>({}),TH=e=>({}),ag=e=>({}),CH=e=>({}),lg=e=>({}),PH=e=>({}),cg=e=>({}),LH=e=>({}),fg=e=>({});function OH(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g;const p=e[56].label,m=Gt(p,e,e[87],rg);r=new qi({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[MH]},$$scope:{ctx:e}}});const v=e[56].default,b=Gt(v,e,e[87],null);o=new qi({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[IH]},$$scope:{ctx:e}}});const _=e[56].ripple,S=Gt(_,e,e[87],eg);let E=[{class:l=ut({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||!e[47].label,"mdc-text-field--with-leading-icon":e[47].leadingIcon,"mdc-text-field--with-trailing-icon":e[47].trailingIcon,"mdc-text-field--invalid":e[1],...e[25]})},{style:c=Object.entries(e[26]).map(Ag).concat([e[10]]).join(" ")},Wn(e[46],["input$","label$","ripple$","outline$","helperLine$"])],w={};for(let A=0;A<E.length;A+=1)w=$e(w,E[A]);return{c(){t=mt("div"),m&&m.c(),n=pt(),et(r.$$.fragment),s=pt(),b&&b.c(),i=pt(),et(o.$$.fragment),a=pt(),S&&S.c(),At(t,w)},m(A,L){Ee(A,t,L),m&&m.m(t,null),xt(t,n),Ke(r,t,null),xt(t,s),b&&b.m(t,null),xt(t,i),Ke(o,t,null),xt(t,a),S&&S.m(t,null),e[82](t),h=!0,d||(g=[bt(f=$r.call(null,t,{ripple:e[11],unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45]})),bt(u=an.call(null,t,e[8])),bt(e[34].call(null,t)),Ft(t,"SMUITextfieldLeadingIcon:mount",e[38]),Ft(t,"SMUITextfieldLeadingIcon:unmount",e[83]),Ft(t,"SMUITextfieldTrailingIcon:mount",e[39]),Ft(t,"SMUITextfieldTrailingIcon:unmount",e[84])],d=!0)},p(A,L){m&&m.p&&(!h||L[2]&33554432)&&Nt(m,p,A,A[87],h?Bt(p,A[87],L,AH):Vt(A[87]),rg);const U={};L[2]&33554432&&(U.$$scope={dirty:L,ctx:A}),r.$set(U),b&&b.p&&(!h||L[2]&33554432)&&Nt(b,v,A,A[87],h?Bt(v,A[87],L,null):Vt(A[87]),null);const B={};L[2]&33554432&&(B.$$scope={dirty:L,ctx:A}),o.$set(B),S&&S.p&&(!h||L[2]&33554432)&&Nt(S,_,A,A[87],h?Bt(_,A[87],L,bH):Vt(A[87]),eg),At(t,w=Mt(E,[(!h||L[0]&33673730|L[1]&65536&&l!==(l=ut({[A[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":A[12],"mdc-text-field--textarea":A[14],"mdc-text-field--filled":A[15]==="filled","mdc-text-field--outlined":A[15]==="outlined","smui-text-field--standard":A[15]==="standard"&&!A[14],"mdc-text-field--no-label":A[16]||!A[47].label,"mdc-text-field--with-leading-icon":A[47].leadingIcon,"mdc-text-field--with-trailing-icon":A[47].trailingIcon,"mdc-text-field--invalid":A[1],...A[25]})))&&{class:l},(!h||L[0]&67109888&&c!==(c=Object.entries(A[26]).map(Ag).concat([A[10]]).join(" ")))&&{style:c},L[1]&32768&&Wn(A[46],["input$","label$","ripple$","outline$","helperLine$"])])),f&&jt(f.update)&&L[0]&2048&&f.update.call(null,{ripple:A[11],unbounded:!1,addClass:A[43],removeClass:A[44],addStyle:A[45]}),u&&jt(u.update)&&L[0]&256&&u.update.call(null,A[8])},i(A){h||(re(m,A),re(r.$$.fragment,A),re(b,A),re(o.$$.fragment,A),re(S,A),h=!0)},o(A){ae(m,A),ae(r.$$.fragment,A),ae(b,A),ae(o.$$.fragment,A),ae(S,A),h=!1},d(A){A&&Ae(t),m&&m.d(A),Qe(r),b&&b.d(A),Qe(o),S&&S.d(A),e[82](null),d=!1,cn(g)}}}function RH(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g,p,m,v,b,_=!e[14]&&e[15]!=="outlined"&&ug(e),S=(e[14]||e[15]==="outlined")&&mg(e);s=new qi({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[xH]},$$scope:{ctx:e}}});const E=e[56].default,w=Gt(E,e,e[87],null),A=[BH,GH],L=[];function U(V,j){return V[14]&&typeof V[0]=="string"?0:1}a=U(e),l=L[a]=A[a](e),f=new qi({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[UH]},$$scope:{ctx:e}}});let B=!e[14]&&e[15]!=="outlined"&&e[11]&&bg(e),k=[{class:h=ut({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||e[17]==null&&!e[47].label,"mdc-text-field--label-floating":e[28]||e[0]!=null&&e[0]!=="","mdc-text-field--with-leading-icon":e[35](e[22])?e[47].leadingIcon:e[22],"mdc-text-field--with-trailing-icon":e[35](e[23])?e[47].trailingIcon:e[23],"mdc-text-field--with-internal-counter":e[14]&&e[47].internalCounter,"mdc-text-field--invalid":e[1],...e[25]})},{style:d=Object.entries(e[26]).map(yg).concat([e[10]]).join(" ")},{for:void 0},Wn(e[46],["input$","label$","ripple$","outline$","helperLine$"])],se={};for(let V=0;V<k.length;V+=1)se=$e(se,k[V]);return{c(){t=mt("label"),_&&_.c(),n=pt(),S&&S.c(),r=pt(),et(s.$$.fragment),i=pt(),w&&w.c(),o=pt(),l.c(),c=pt(),et(f.$$.fragment),u=pt(),B&&B.c(),At(t,se)},m(V,j){Ee(V,t,j),_&&_.m(t,null),xt(t,n),S&&S.m(t,null),xt(t,r),Ke(s,t,null),xt(t,i),w&&w.m(t,null),xt(t,o),L[a].m(t,null),xt(t,c),Ke(f,t,null),xt(t,u),B&&B.m(t,null),e[78](t),m=!0,v||(b=[bt(g=$r.call(null,t,{ripple:!e[14]&&e[15]==="filled",unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45],eventTarget:e[33],activeTarget:e[33],initPromise:e[37]})),bt(p=an.call(null,t,e[8])),bt(e[34].call(null,t)),Ft(t,"SMUITextfieldLeadingIcon:mount",e[38]),Ft(t,"SMUITextfieldLeadingIcon:unmount",e[79]),Ft(t,"SMUITextfieldTrailingIcon:mount",e[39]),Ft(t,"SMUITextfieldTrailingIcon:unmount",e[80]),Ft(t,"SMUITextfieldCharacterCounter:mount",e[40]),Ft(t,"SMUITextfieldCharacterCounter:unmount",e[81])],v=!0)},p(V,j){!V[14]&&V[15]!=="outlined"?_?(_.p(V,j),j[0]&49152&&re(_,1)):(_=ug(V),_.c(),re(_,1),_.m(t,n)):_&&(tn(),ae(_,1,1,()=>{_=null}),nn()),V[14]||V[15]==="outlined"?S?(S.p(V,j),j[0]&49152&&re(S,1)):(S=mg(V),S.c(),re(S,1),S.m(t,r)):S&&(tn(),ae(S,1,1,()=>{S=null}),nn());const Ie={};j[2]&33554432&&(Ie.$$scope={dirty:j,ctx:V}),s.$set(Ie),w&&w.p&&(!m||j[2]&33554432)&&Nt(w,E,V,V[87],m?Bt(E,V[87],j,null):Vt(V[87]),null);let ne=a;a=U(V),a===ne?L[a].p(V,j):(tn(),ae(L[ne],1,1,()=>{L[ne]=null}),nn(),l=L[a],l?l.p(V,j):(l=L[a]=A[a](V),l.c()),re(l,1),l.m(t,c));const H={};j[2]&33554432&&(H.$$scope={dirty:j,ctx:V}),f.$set(H),!V[14]&&V[15]!=="outlined"&&V[11]?B?(B.p(V,j),j[0]&51200&&re(B,1)):(B=bg(V),B.c(),re(B,1),B.m(t,null)):B&&(tn(),ae(B,1,1,()=>{B=null}),nn()),At(t,se=Mt(k,[(!m||j[0]&314823171|j[1]&65536&&h!==(h=ut({[V[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":V[12],"mdc-text-field--textarea":V[14],"mdc-text-field--filled":V[15]==="filled","mdc-text-field--outlined":V[15]==="outlined","smui-text-field--standard":V[15]==="standard"&&!V[14],"mdc-text-field--no-label":V[16]||V[17]==null&&!V[47].label,"mdc-text-field--label-floating":V[28]||V[0]!=null&&V[0]!=="","mdc-text-field--with-leading-icon":V[35](V[22])?V[47].leadingIcon:V[22],"mdc-text-field--with-trailing-icon":V[35](V[23])?V[47].trailingIcon:V[23],"mdc-text-field--with-internal-counter":V[14]&&V[47].internalCounter,"mdc-text-field--invalid":V[1],...V[25]})))&&{class:h},(!m||j[0]&67109888&&d!==(d=Object.entries(V[26]).map(yg).concat([V[10]]).join(" ")))&&{style:d},{for:void 0},j[1]&32768&&Wn(V[46],["input$","label$","ripple$","outline$","helperLine$"])])),g&&jt(g.update)&&j[0]&49152|j[1]&4&&g.update.call(null,{ripple:!V[14]&&V[15]==="filled",unbounded:!1,addClass:V[43],removeClass:V[44],addStyle:V[45],eventTarget:V[33],activeTarget:V[33],initPromise:V[37]}),p&&jt(p.update)&&j[0]&256&&p.update.call(null,V[8])},i(V){m||(re(_),re(S),re(s.$$.fragment,V),re(w,V),re(l),re(f.$$.fragment,V),re(B),m=!0)},o(V){ae(_),ae(S),ae(s.$$.fragment,V),ae(w,V),ae(l),ae(f.$$.fragment,V),ae(B),m=!1},d(V){V&&Ae(t),_&&_.d(),S&&S.d(),Qe(s),w&&w.d(V),L[a].d(),Qe(f),B&&B.d(),e[78](null),v=!1,cn(b)}}}function MH(e){let t;const n=e[56].leadingIcon,r=Gt(n,e,e[87],ng);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Bt(n,s[87],i,yH):Vt(s[87]),ng)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function IH(e){let t;const n=e[56].trailingIcon,r=Gt(n,e,e[87],tg);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Bt(n,s[87],i,_H):Vt(s[87]),tg)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function ug(e){let t,n,r,s=e[15]==="filled"&&dg(),i=!e[16]&&(e[17]!=null||e[47].label)&&hg(e);return{c(){s&&s.c(),t=pt(),i&&i.c(),n=bn()},m(o,a){s&&s.m(o,a),Ee(o,t,a),i&&i.m(o,a),Ee(o,n,a),r=!0},p(o,a){o[15]==="filled"?s||(s=dg(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),!o[16]&&(o[17]!=null||o[47].label)?i?(i.p(o,a),a[0]&196608|a[1]&65536&&re(i,1)):(i=hg(o),i.c(),re(i,1),i.m(n.parentNode,n)):i&&(tn(),ae(i,1,1,()=>{i=null}),nn())},i(o){r||(re(i),r=!0)},o(o){ae(i),r=!1},d(o){s&&s.d(o),o&&Ae(t),i&&i.d(o),o&&Ae(n)}}}function dg(e){let t;return{c(){t=mt("span"),gt(t,"class","mdc-text-field__ripple")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function hg(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},qt(e[46],"label$")];let s={$$slots:{default:[DH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=$e(s,r[i]);return t=new hb({props:s}),e[57](t),{c(){et(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?Mt(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&hn(qt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){ae(t.$$.fragment,i),n=!1},d(i){e[57](null),Qe(t,i)}}}function DH(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=Gt(s,e,e[87],fg);return{c(){n=Xn(t),i&&i.c()},m(o,a){Ee(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&li(n,t),i&&i.p&&(!r||a[2]&33554432)&&Nt(i,s,o,o[87],r?Bt(s,o[87],a,LH):Vt(o[87]),fg)},i(o){r||(re(i,o),r=!0)},o(o){ae(i,o),r=!1},d(o){o&&Ae(n),i&&i.d(o)}}}function mg(e){let t,n;const r=[{noLabel:e[16]||e[17]==null&&!e[47].label},qt(e[46],"outline$")];let s={$$slots:{default:[kH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=$e(s,r[i]);return t=new oH({props:s}),e[59](t),{c(){et(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[0]&196608|o[1]&98304?Mt(r,[o[0]&196608|o[1]&65536&&{noLabel:i[16]||i[17]==null&&!i[47].label},o[1]&32768&&hn(qt(i[46],"outline$"))]):{};o[0]&268640289|o[1]&98304|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){ae(t.$$.fragment,i),n=!1},d(i){e[59](null),Qe(t,i)}}}function pg(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},qt(e[46],"label$")];let s={$$slots:{default:[FH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=$e(s,r[i]);return t=new hb({props:s}),e[58](t),{c(){et(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?Mt(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&hn(qt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){ae(t.$$.fragment,i),n=!1},d(i){e[58](null),Qe(t,i)}}}function FH(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=Gt(s,e,e[87],cg);return{c(){n=Xn(t),i&&i.c()},m(o,a){Ee(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&li(n,t),i&&i.p&&(!r||a[2]&33554432)&&Nt(i,s,o,o[87],r?Bt(s,o[87],a,PH):Vt(o[87]),cg)},i(o){r||(re(i,o),r=!0)},o(o){ae(i,o),r=!1},d(o){o&&Ae(n),i&&i.d(o)}}}function kH(e){let t,n,r=!e[16]&&(e[17]!=null||e[47].label)&&pg(e);return{c(){r&&r.c(),t=bn()},m(s,i){r&&r.m(s,i),Ee(s,t,i),n=!0},p(s,i){!s[16]&&(s[17]!=null||s[47].label)?r?(r.p(s,i),i[0]&196608|i[1]&65536&&re(r,1)):(r=pg(s),r.c(),re(r,1),r.m(t.parentNode,t)):r&&(tn(),ae(r,1,1,()=>{r=null}),nn())},i(s){n||(re(r),n=!0)},o(s){ae(r),n=!1},d(s){r&&r.d(s),s&&Ae(t)}}}function xH(e){let t;const n=e[56].leadingIcon,r=Gt(n,e,e[87],lg);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Bt(n,s[87],i,CH):Vt(s[87]),lg)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function GH(e){let t,n,r,s,i,o,a,l,c,f;const u=e[56].prefix,h=Gt(u,e,e[87],og);let d=e[20]!=null&&gg(e);const g=[{type:e[18]},{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},e[16]&&e[17]!=null?{placeholder:e[17]}:{},qt(e[46],"input$")];function p(A){e[69](A)}function m(A){e[70](A)}function v(A){e[71](A)}function b(A){e[72](A)}let _={};for(let A=0;A<g.length;A+=1)_=$e(_,g[A]);e[0]!==void 0&&(_.value=e[0]),e[3]!==void 0&&(_.files=e[3]),e[4]!==void 0&&(_.dirty=e[4]),e[1]!==void 0&&(_.invalid=e[1]),r=new hH({props:_}),e[68](r),rt.push(()=>Mn(r,"value",p)),rt.push(()=>Mn(r,"files",m)),rt.push(()=>Mn(r,"dirty",v)),rt.push(()=>Mn(r,"invalid",b)),r.$on("blur",e[73]),r.$on("focus",e[74]),r.$on("blur",e[75]),r.$on("focus",e[76]);let S=e[21]!=null&&vg(e);const E=e[56].suffix,w=Gt(E,e,e[87],ig);return{c(){h&&h.c(),t=pt(),d&&d.c(),n=pt(),et(r.$$.fragment),l=pt(),S&&S.c(),c=pt(),w&&w.c()},m(A,L){h&&h.m(A,L),Ee(A,t,L),d&&d.m(A,L),Ee(A,n,L),Ke(r,A,L),Ee(A,l,L),S&&S.m(A,L),Ee(A,c,L),w&&w.m(A,L),f=!0},p(A,L){h&&h.p&&(!f||L[2]&33554432)&&Nt(h,u,A,A[87],f?Bt(u,A[87],L,wH):Vt(A[87]),og),A[20]!=null?d?(d.p(A,L),L[0]&1048576&&re(d,1)):(d=gg(A),d.c(),re(d,1),d.m(n.parentNode,n)):d&&(tn(),ae(d,1,1,()=>{d=null}),nn());const U=L[0]&135213056|L[1]&32768?Mt(g,[L[0]&262144&&{type:A[18]},L[0]&4096&&{disabled:A[12]},L[0]&8192&&{required:A[13]},L[0]&524288&&{updateInvalid:A[19]},L[0]&134217728&&{"aria-controls":A[27]},L[0]&134217728&&{"aria-describedby":A[27]},L[0]&196608&&hn(A[16]&&A[17]!=null?{placeholder:A[17]}:{}),L[1]&32768&&hn(qt(A[46],"input$"))]):{};!s&&L[0]&1&&(s=!0,U.value=A[0],Rn(()=>s=!1)),!i&&L[0]&8&&(i=!0,U.files=A[3],Rn(()=>i=!1)),!o&&L[0]&16&&(o=!0,U.dirty=A[4],Rn(()=>o=!1)),!a&&L[0]&2&&(a=!0,U.invalid=A[1],Rn(()=>a=!1)),r.$set(U),A[21]!=null?S?(S.p(A,L),L[0]&2097152&&re(S,1)):(S=vg(A),S.c(),re(S,1),S.m(c.parentNode,c)):S&&(tn(),ae(S,1,1,()=>{S=null}),nn()),w&&w.p&&(!f||L[2]&33554432)&&Nt(w,E,A,A[87],f?Bt(E,A[87],L,EH):Vt(A[87]),ig)},i(A){f||(re(h,A),re(d),re(r.$$.fragment,A),re(S),re(w,A),f=!0)},o(A){ae(h,A),ae(d),ae(r.$$.fragment,A),ae(S),ae(w,A),f=!1},d(A){h&&h.d(A),A&&Ae(t),d&&d.d(A),A&&Ae(n),e[68](null),Qe(r,A),A&&Ae(l),S&&S.d(A),A&&Ae(c),w&&w.d(A)}}}function BH(e){let t,n,r,s,i,o,a,l;const c=[{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},qt(e[46],"input$")];function f(m){e[61](m)}function u(m){e[62](m)}function h(m){e[63](m)}let d={};for(let m=0;m<c.length;m+=1)d=$e(d,c[m]);e[0]!==void 0&&(d.value=e[0]),e[4]!==void 0&&(d.dirty=e[4]),e[1]!==void 0&&(d.invalid=e[1]),n=new gH({props:d}),e[60](n),rt.push(()=>Mn(n,"value",f)),rt.push(()=>Mn(n,"dirty",u)),rt.push(()=>Mn(n,"invalid",h)),n.$on("blur",e[64]),n.$on("focus",e[65]),n.$on("blur",e[66]),n.$on("focus",e[67]);const g=e[56].internalCounter,p=Gt(g,e,e[87],ag);return{c(){t=mt("span"),et(n.$$.fragment),o=pt(),p&&p.c(),gt(t,"class",a=ut({"mdc-text-field__resizer":!("input$resizable"in e[46])||e[46].input$resizable}))},m(m,v){Ee(m,t,v),Ke(n,t,null),xt(t,o),p&&p.m(t,null),l=!0},p(m,v){const b=v[0]&134754304|v[1]&32768?Mt(c,[v[0]&4096&&{disabled:m[12]},v[0]&8192&&{required:m[13]},v[0]&524288&&{updateInvalid:m[19]},v[0]&134217728&&{"aria-controls":m[27]},v[0]&134217728&&{"aria-describedby":m[27]},v[1]&32768&&hn(qt(m[46],"input$"))]):{};!r&&v[0]&1&&(r=!0,b.value=m[0],Rn(()=>r=!1)),!s&&v[0]&16&&(s=!0,b.dirty=m[4],Rn(()=>s=!1)),!i&&v[0]&2&&(i=!0,b.invalid=m[1],Rn(()=>i=!1)),n.$set(b),p&&p.p&&(!l||v[2]&33554432)&&Nt(p,g,m,m[87],l?Bt(g,m[87],v,TH):Vt(m[87]),ag),(!l||v[1]&32768&&a!==(a=ut({"mdc-text-field__resizer":!("input$resizable"in m[46])||m[46].input$resizable})))&&gt(t,"class",a)},i(m){l||(re(n.$$.fragment,m),re(p,m),l=!0)},o(m){ae(n.$$.fragment,m),ae(p,m),l=!1},d(m){m&&Ae(t),e[60](null),Qe(n),p&&p.d(m)}}}function gg(e){let t,n;return t=new lH({props:{$$slots:{default:[NH]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[0]&1048576|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function NH(e){let t;return{c(){t=Xn(e[20])},m(n,r){Ee(n,t,r)},p(n,r){r[0]&1048576&&li(t,n[20])},d(n){n&&Ae(t)}}}function vg(e){let t,n;return t=new cH({props:{$$slots:{default:[VH]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[0]&2097152|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function VH(e){let t;return{c(){t=Xn(e[21])},m(n,r){Ee(n,t,r)},p(n,r){r[0]&2097152&&li(t,n[21])},d(n){n&&Ae(t)}}}function UH(e){let t;const n=e[56].trailingIcon,r=Gt(n,e,e[87],sg);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Bt(n,s[87],i,SH):Vt(s[87]),sg)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function bg(e){let t,n;const r=[qt(e[46],"ripple$")];let s={};for(let i=0;i<r.length;i+=1)s=$e(s,r[i]);return t=new rH({props:s}),e[77](t),{c(){et(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[1]&32768?Mt(r,[hn(qt(i[46],"ripple$"))]):{};t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){ae(t.$$.fragment,i),n=!1},d(i){e[77](null),Qe(t,i)}}}function _g(e){let t,n;const r=[qt(e[46],"helperLine$")];let s={$$slots:{default:[$H]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=$e(s,r[i]);return t=new aH({props:s}),t.$on("SMUITextfieldHelperText:id",e[41]),t.$on("SMUITextfieldHelperText:mount",e[42]),t.$on("SMUITextfieldHelperText:unmount",e[85]),t.$on("SMUITextfieldCharacterCounter:mount",e[40]),t.$on("SMUITextfieldCharacterCounter:unmount",e[86]),{c(){et(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[1]&32768?Mt(r,[hn(qt(i[46],"helperLine$"))]):{};o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){ae(t.$$.fragment,i),n=!1},d(i){Qe(t,i)}}}function $H(e){let t;const n=e[56].helper,r=Gt(n,e,e[87],Jp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Bt(n,s[87],i,vH):Vt(s[87]),Jp)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function HH(e){let t,n,r,s,i;const o=[RH,OH],a=[];function l(f,u){return f[36]?0:1}t=l(e),n=a[t]=o[t](e);let c=e[47].helper&&_g(e);return{c(){n.c(),r=pt(),c&&c.c(),s=bn()},m(f,u){a[t].m(f,u),Ee(f,r,u),c&&c.m(f,u),Ee(f,s,u),i=!0},p(f,u){n.p(f,u),f[47].helper?c?(c.p(f,u),u[1]&65536&&re(c,1)):(c=_g(f),c.c(),re(c,1),c.m(s.parentNode,s)):c&&(tn(),ae(c,1,1,()=>{c=null}),nn())},i(f){i||(re(n),re(c),i=!0)},o(f){ae(n),ae(c),i=!1},d(f){a[t].d(f),f&&Ae(r),c&&c.d(f),f&&Ae(s)}}}const yg=([e,t])=>`${e}: ${t};`,Ag=([e,t])=>`${e}: ${t};`;function zH(e,t,n){let r;const s=["use","class","style","ripple","disabled","required","textarea","variant","noLabel","label","type","value","files","invalid","updateInvalid","dirty","prefix","suffix","validateOnValueChange","useNativeValidation","withLeadingIcon","withTrailingIcon","input","floatingLabel","lineRipple","notchedOutline","focus","blur","layout","getElement"];let i=Et(t,s),{$$slots:o={},$$scope:a}=t;const l=e5(o),{applyPassive:c}=Hg,f=_n(rn());let u=()=>{};function h(ee){return ee===u}let{use:d=[]}=t,{class:g=""}=t,{style:p=""}=t,{ripple:m=!0}=t,{disabled:v=!1}=t,{required:b=!1}=t,{textarea:_=!1}=t,{variant:S=_?"outlined":"standard"}=t,{noLabel:E=!1}=t,{label:w=void 0}=t,{type:A="text"}=t,{value:L=i.input$emptyValueUndefined?void 0:u}=t,{files:U=u}=t;const B=!h(L)||!h(U);h(L)&&(L=void 0),h(U)&&(U=null);let{invalid:k=u}=t,{updateInvalid:se=h(k)}=t;h(k)&&(k=!1);let{dirty:V=!1}=t,{prefix:j=void 0}=t,{suffix:Ie=void 0}=t,{validateOnValueChange:ne=se}=t,{useNativeValidation:H=se}=t,{withLeadingIcon:fe=u}=t,{withTrailingIcon:J=u}=t,{input:ve=void 0}=t,{floatingLabel:kt=void 0}=t,{lineRipple:xe=void 0}=t,{notchedOutline:It=void 0}=t,ze,Tt,yn={},rr={},Je,He=!1,An=fr("SMUI:addLayoutListener"),Cs,rs,Oe=new Promise(ee=>rs=ee),_t,Er,Or,Rr,In=L;An&&(Cs=An(is)),Yn(()=>{if(n(54,Tt=new Y$({addClass:ia,removeClass:oa,hasClass:Os,registerTextFieldInteractionHandler:(ee,Sn)=>Rs().addEventListener(ee,Sn),deregisterTextFieldInteractionHandler:(ee,Sn)=>Rs().removeEventListener(ee,Sn),registerValidationAttributeChangeHandler:ee=>{const Sn=so=>so.map(io=>io.attributeName).filter(io=>io),ma=new MutationObserver(so=>{H&&ee(Sn(so))}),wc={attributes:!0};return ve&&ma.observe(ve.getElement(),wc),ma},deregisterValidationAttributeChangeHandler:ee=>{ee.disconnect()},getNativeInput:()=>{var ee;return(ee=ve==null?void 0:ve.getElement())!==null&&ee!==void 0?ee:null},setInputAttr:(ee,Sn)=>{ve==null||ve.addAttr(ee,Sn)},removeInputAttr:ee=>{ve==null||ve.removeAttr(ee)},isFocused:()=>document.activeElement===(ve==null?void 0:ve.getElement()),registerInputInteractionHandler:(ee,Sn)=>{ve==null||ve.getElement().addEventListener(ee,Sn,c())},deregisterInputInteractionHandler:(ee,Sn)=>{ve==null||ve.getElement().removeEventListener(ee,Sn,c())},floatLabel:ee=>kt&&kt.float(ee),getLabelWidth:()=>kt?kt.getWidth():0,hasLabel:()=>!!kt,shakeLabel:ee=>kt&&kt.shake(ee),setLabelRequired:ee=>kt&&kt.setRequired(ee),activateLineRipple:()=>xe&&xe.activate(),deactivateLineRipple:()=>xe&&xe.deactivate(),setLineRippleTransformOrigin:ee=>xe&&xe.setRippleCenter(ee),closeOutline:()=>It&&It.closeNotch(),hasOutline:()=>!!It,notchOutline:ee=>It&&It.notch(ee)},{get helperText(){return Or},get characterCounter(){return Rr},get leadingIcon(){return _t},get trailingIcon(){return Er}})),B){if(ve==null)throw new Error("SMUI Textfield initialized without Input component.");Tt.init()}else a5().then(()=>{if(ve==null)throw new Error("SMUI Textfield initialized without Input component.");Tt.init()});return rs(),()=>{Tt.destroy()}}),Qu(()=>{Cs&&Cs()});function Ps(ee){n(29,_t=ee.detail)}function zr(ee){n(30,Er=ee.detail)}function ss(ee){n(32,Rr=ee.detail)}function Ls(ee){n(27,Je=ee.detail)}function P(ee){n(31,Or=ee.detail)}function Os(ee){var Sn;return ee in yn?(Sn=yn[ee])!==null&&Sn!==void 0?Sn:null:Rs().classList.contains(ee)}function ia(ee){yn[ee]||n(25,yn[ee]=!0,yn)}function oa(ee){(!(ee in yn)||yn[ee])&&n(25,yn[ee]=!1,yn)}function rc(ee,Sn){rr[ee]!=Sn&&(Sn===""||Sn==null?(delete rr[ee],n(26,rr)):n(26,rr[ee]=Sn,rr))}function jr(){ve==null||ve.focus()}function aa(){ve==null||ve.blur()}function is(){if(Tt){const ee=Tt.shouldFloat;Tt.notchOutline(ee)}}function Rs(){return ze}function sc(ee){rt[ee?"unshift":"push"](()=>{kt=ee,n(5,kt)})}function ic(ee){rt[ee?"unshift":"push"](()=>{kt=ee,n(5,kt)})}function la(ee){rt[ee?"unshift":"push"](()=>{It=ee,n(7,It)})}function Zn(ee){rt[ee?"unshift":"push"](()=>{ve=ee,n(2,ve)})}function ro(ee){L=ee,n(0,L)}function ca(ee){V=ee,n(4,V)}function oc(ee){k=ee,n(1,k),n(54,Tt),n(19,se)}const ac=()=>n(28,He=!1),lc=()=>n(28,He=!0),cc=ee=>Tn(ze,"blur",ee),fc=ee=>Tn(ze,"focus",ee);function fa(ee){rt[ee?"unshift":"push"](()=>{ve=ee,n(2,ve)})}function ua(ee){L=ee,n(0,L)}function uc(ee){U=ee,n(3,U)}function dc(ee){V=ee,n(4,V)}function Kn(ee){k=ee,n(1,k),n(54,Tt),n(19,se)}const hc=()=>n(28,He=!1),mc=()=>n(28,He=!0),pc=ee=>Tn(ze,"blur",ee),gc=ee=>Tn(ze,"focus",ee);function vc(ee){rt[ee?"unshift":"push"](()=>{xe=ee,n(6,xe)})}function bc(ee){rt[ee?"unshift":"push"](()=>{ze=ee,n(24,ze)})}const _c=()=>n(29,_t=void 0),yc=()=>n(30,Er=void 0),da=()=>n(32,Rr=void 0);function ha(ee){rt[ee?"unshift":"push"](()=>{ze=ee,n(24,ze)})}const dn=()=>n(29,_t=void 0),Ac=()=>n(30,Er=void 0),Sc=()=>{n(27,Je=void 0),n(31,Or=void 0)},Ec=()=>n(32,Rr=void 0);return e.$$set=ee=>{t=$e($e({},t),mn(ee)),n(46,i=Et(t,s)),"use"in ee&&n(8,d=ee.use),"class"in ee&&n(9,g=ee.class),"style"in ee&&n(10,p=ee.style),"ripple"in ee&&n(11,m=ee.ripple),"disabled"in ee&&n(12,v=ee.disabled),"required"in ee&&n(13,b=ee.required),"textarea"in ee&&n(14,_=ee.textarea),"variant"in ee&&n(15,S=ee.variant),"noLabel"in ee&&n(16,E=ee.noLabel),"label"in ee&&n(17,w=ee.label),"type"in ee&&n(18,A=ee.type),"value"in ee&&n(0,L=ee.value),"files"in ee&&n(3,U=ee.files),"invalid"in ee&&n(1,k=ee.invalid),"updateInvalid"in ee&&n(19,se=ee.updateInvalid),"dirty"in ee&&n(4,V=ee.dirty),"prefix"in ee&&n(20,j=ee.prefix),"suffix"in ee&&n(21,Ie=ee.suffix),"validateOnValueChange"in ee&&n(48,ne=ee.validateOnValueChange),"useNativeValidation"in ee&&n(49,H=ee.useNativeValidation),"withLeadingIcon"in ee&&n(22,fe=ee.withLeadingIcon),"withTrailingIcon"in ee&&n(23,J=ee.withTrailingIcon),"input"in ee&&n(2,ve=ee.input),"floatingLabel"in ee&&n(5,kt=ee.floatingLabel),"lineRipple"in ee&&n(6,xe=ee.lineRipple),"notchedOutline"in ee&&n(7,It=ee.notchedOutline),"$$scope"in ee&&n(87,a=ee.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&4&&n(33,r=ve&&ve.getElement()),e.$$.dirty[0]&524290|e.$$.dirty[1]&8388608&&Tt&&Tt.isValid()!==!k&&(se?n(1,k=!Tt.isValid()):Tt.setValid(!k)),e.$$.dirty[1]&8519680&&Tt&&Tt.getValidateOnValueChange()!==ne&&Tt.setValidateOnValueChange(h(ne)?!1:ne),e.$$.dirty[1]&8650752&&Tt&&Tt.setUseNativeValidation(h(H)?!0:H),e.$$.dirty[0]&4096|e.$$.dirty[1]&8388608&&Tt&&Tt.setDisabled(v),e.$$.dirty[0]&1|e.$$.dirty[1]&25165824&&Tt&&B&&In!==L){n(55,In=L);const ee=`${L}`;Tt.getValue()!==ee&&Tt.setValue(ee)}},[L,k,ve,U,V,kt,xe,It,d,g,p,m,v,b,_,S,E,w,A,se,j,Ie,fe,J,ze,yn,rr,Je,He,_t,Er,Or,Rr,r,f,h,B,Oe,Ps,zr,ss,Ls,P,ia,oa,rc,i,l,ne,H,jr,aa,is,Rs,Tt,In,o,sc,ic,la,Zn,ro,ca,oc,ac,lc,cc,fc,fa,ua,uc,dc,Kn,hc,mc,pc,gc,vc,bc,_c,yc,da,ha,dn,Ac,Sc,Ec,a]}class Vr extends Yt{constructor(t){super(),Wt(this,t,zH,HH,Xt,{use:8,class:9,style:10,ripple:11,disabled:12,required:13,textarea:14,variant:15,noLabel:16,label:17,type:18,value:0,files:3,invalid:1,updateInvalid:19,dirty:4,prefix:20,suffix:21,validateOnValueChange:48,useNativeValidation:49,withLeadingIcon:22,withTrailingIcon:23,input:2,floatingLabel:5,lineRipple:6,notchedOutline:7,focus:50,blur:51,layout:52,getElement:53},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[50]}get blur(){return this.$$.ctx[51]}get layout(){return this.$$.ctx[52]}get getElement(){return this.$$.ctx[53]}}function jH(e){let t;return{c(){t=Xn(e[8])},m(n,r){Ee(n,t,r)},p(n,r){r&256&&li(t,n[8])},i:Qt,o:Qt,d(n){n&&Ae(t)}}}function qH(e){let t;const n=e[13].default,r=Gt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&Nt(r,n,s,s[12],t?Bt(n,s[12],i,null):Vt(s[12]),null)},i(s){t||(re(r,s),t=!0)},o(s){ae(r,s),t=!1},d(s){r&&r.d(s)}}}function XH(e){let t,n,r,s,i,o,a,l,c;const f=[qH,jH],u=[];function h(p,m){return p[8]==null?0:1}n=h(e),r=u[n]=f[n](e);let d=[{class:s=ut({[e[1]]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":e[3],"mdc-text-field-helper-text--validation-msg":e[4],...e[6]})},{"aria-hidden":i=e[3]?void 0:"true"},{id:e[2]},e[7],e[10]],g={};for(let p=0;p<d.length;p+=1)g=$e(g,d[p]);return{c(){t=mt("div"),r.c(),At(t,g)},m(p,m){Ee(p,t,m),u[n].m(t,null),e[14](t),a=!0,l||(c=[bt(o=an.call(null,t,e[0])),bt(e[9].call(null,t))],l=!0)},p(p,[m]){let v=n;n=h(p),n===v?u[n].p(p,m):(tn(),ae(u[v],1,1,()=>{u[v]=null}),nn(),r=u[n],r?r.p(p,m):(r=u[n]=f[n](p),r.c()),re(r,1),r.m(t,null)),At(t,g=Mt(d,[(!a||m&90&&s!==(s=ut({[p[1]]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":p[3],"mdc-text-field-helper-text--validation-msg":p[4],...p[6]})))&&{class:s},(!a||m&8&&i!==(i=p[3]?void 0:"true"))&&{"aria-hidden":i},(!a||m&4)&&{id:p[2]},m&128&&p[7],m&1024&&p[10]])),o&&jt(o.update)&&m&1&&o.update.call(null,p[0])},i(p){a||(re(r),a=!0)},o(p){ae(r),a=!1},d(p){p&&Ae(t),u[n].d(),e[14](null),l=!1,cn(c)}}}let WH=0;function YH(e,t,n){const r=["use","class","id","persistent","validationMsg","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{id:f="SMUI-textfield-helper-text-"+WH++}=t,{persistent:u=!1}=t,{validationMsg:h=!1}=t,d,g,p={},m={},v;Yn(()=>(g=new Z$({addClass:_,removeClass:S,hasClass:b,getAttr:E,setAttr:w,removeAttr:A,setContent:B=>{n(8,v=B)}}),f.startsWith("SMUI-textfield-helper-text-")&&Tn(L(),"SMUITextfieldHelperText:id",f),Tn(L(),"SMUITextfieldHelperText:mount",g),g.init(),()=>{Tn(L(),"SMUITextfieldHelperText:unmount",g),g.destroy()}));function b(B){return B in p?p[B]:L().classList.contains(B)}function _(B){p[B]||n(6,p[B]=!0,p)}function S(B){(!(B in p)||p[B])&&n(6,p[B]=!1,p)}function E(B){var k;return B in m?(k=m[B])!==null&&k!==void 0?k:null:L().getAttribute(B)}function w(B,k){m[B]!==k&&n(7,m[B]=k,m)}function A(B){(!(B in m)||m[B]!=null)&&n(7,m[B]=void 0,m)}function L(){return d}function U(B){rt[B?"unshift":"push"](()=>{d=B,n(5,d)})}return e.$$set=B=>{t=$e($e({},t),mn(B)),n(10,s=Et(t,r)),"use"in B&&n(0,l=B.use),"class"in B&&n(1,c=B.class),"id"in B&&n(2,f=B.id),"persistent"in B&&n(3,u=B.persistent),"validationMsg"in B&&n(4,h=B.validationMsg),"$$scope"in B&&n(12,o=B.$$scope)},[l,c,f,u,h,d,p,m,v,a,s,L,o,i,U]}class ZH extends Yt{constructor(t){super(),Wt(this,t,YH,XH,Xt,{use:0,class:1,id:2,persistent:3,validationMsg:4,getElement:11})}get getElement(){return this.$$.ctx[11]}}function Sg(e){let t;return{c(){t=mt("div"),gt(t,"class","mdc-fab__focus-ring")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function Eg(e){let t;return{c(){t=mt("div"),gt(t,"class","mdc-fab__touch")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function KH(e){let t,n,r,s,i,o=e[4]&&Sg();const a=e[22].default,l=Gt(a,e,e[24],null);let c=e[9]&&Eg();return{c(){t=mt("div"),n=pt(),o&&o.c(),r=pt(),l&&l.c(),c&&c.c(),s=bn(),gt(t,"class","mdc-fab__ripple")},m(f,u){Ee(f,t,u),Ee(f,n,u),o&&o.m(f,u),Ee(f,r,u),l&&l.m(f,u),c&&c.m(f,u),Ee(f,s,u),i=!0},p(f,u){f[4]?o||(o=Sg(),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),l&&l.p&&(!i||u&16777216)&&Nt(l,a,f,f[24],i?Bt(a,f[24],u,null):Vt(f[24]),null),f[9]?c||(c=Eg(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(f){i||(re(l,f),i=!0)},o(f){ae(l,f),i=!1},d(f){f&&Ae(t),f&&Ae(n),o&&o.d(f),f&&Ae(r),l&&l.d(f),c&&c.d(f),f&&Ae(s)}}}function QH(e){let t,n,r;const s=[{tag:e[12]},{use:[[$r,{ripple:e[3],unbounded:!1,color:e[5],disabled:!!e[20].disabled,addClass:e[17],removeClass:e[18],addStyle:e[19]}],e[16],...e[0]]},{class:ut({[e[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":e[6],"mdc-fab--exited":e[7],"mdc-fab--extended":e[8],"smui-fab--color-primary":e[5]==="primary","mdc-fab--touch":e[9],...e[14]})},{style:Object.entries(e[15]).map(wg).concat([e[2]]).join(" ")},{href:e[10]},e[20]];var i=e[11];function o(a){let l={$$slots:{default:[KH]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=$e(l,s[c]);return{props:l}}return i&&(t=_r(i,o(e)),e[23](t)),{c(){t&&et(t.$$.fragment),n=bn()},m(a,l){t&&Ke(t,a,l),Ee(a,n,l),r=!0},p(a,[l]){const c=l&2086895?Mt(s,[l&4096&&{tag:a[12]},l&2031657&&{use:[[$r,{ripple:a[3],unbounded:!1,color:a[5],disabled:!!a[20].disabled,addClass:a[17],removeClass:a[18],addStyle:a[19]}],a[16],...a[0]]},l&17378&&{class:ut({[a[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":a[6],"mdc-fab--exited":a[7],"mdc-fab--extended":a[8],"smui-fab--color-primary":a[5]==="primary","mdc-fab--touch":a[9],...a[14]})},l&32772&&{style:Object.entries(a[15]).map(wg).concat([a[2]]).join(" ")},l&1024&&{href:a[10]},l&1048576&&hn(a[20])]):{};if(l&16777744&&(c.$$scope={dirty:l,ctx:a}),l&2048&&i!==(i=a[11])){if(t){tn();const f=t;ae(f.$$.fragment,1,0,()=>{Qe(f,1)}),nn()}i?(t=_r(i,o(a)),a[23](t),et(t.$$.fragment),re(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&ae(t.$$.fragment,a),r=!1},d(a){e[23](null),a&&Ae(n),t&&Qe(t,a)}}}const wg=([e,t])=>`${e}: ${t};`;function JH(e,t,n){const r=["use","class","style","ripple","focusRing","color","mini","exited","extended","touch","href","component","tag","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{ripple:u=!0}=t,{focusRing:h=!1}=t,{color:d="secondary"}=t,{mini:g=!1}=t,{exited:p=!1}=t,{extended:m=!1}=t,{touch:v=!1}=t,{href:b=void 0}=t,_,S={},E={},{component:w=yr}=t,{tag:A=w===yr?b==null?"button":"a":void 0}=t;cr("SMUI:label:context","fab"),cr("SMUI:icon:context","fab");function L(V){S[V]||n(14,S[V]=!0,S)}function U(V){(!(V in S)||S[V])&&n(14,S[V]=!1,S)}function B(V,j){E[V]!=j&&(j===""||j==null?(delete E[V],n(15,E)):n(15,E[V]=j,E))}function k(){return _.getElement()}function se(V){rt[V?"unshift":"push"](()=>{_=V,n(13,_)})}return e.$$set=V=>{t=$e($e({},t),mn(V)),n(20,s=Et(t,r)),"use"in V&&n(0,l=V.use),"class"in V&&n(1,c=V.class),"style"in V&&n(2,f=V.style),"ripple"in V&&n(3,u=V.ripple),"focusRing"in V&&n(4,h=V.focusRing),"color"in V&&n(5,d=V.color),"mini"in V&&n(6,g=V.mini),"exited"in V&&n(7,p=V.exited),"extended"in V&&n(8,m=V.extended),"touch"in V&&n(9,v=V.touch),"href"in V&&n(10,b=V.href),"component"in V&&n(11,w=V.component),"tag"in V&&n(12,A=V.tag),"$$scope"in V&&n(24,o=V.$$scope)},[l,c,f,u,h,d,g,p,m,v,b,w,A,_,S,E,a,L,U,B,s,k,i,se,o]}class ez extends Yt{constructor(t){super(),Wt(this,t,JH,QH,Xt,{use:0,class:1,style:2,ripple:3,focusRing:4,color:5,mini:6,exited:7,extended:8,touch:9,href:10,component:11,tag:12,getElement:21})}get getElement(){return this.$$.ctx[21]}}/**
 * @license
 * Copyright 2021 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ti;(function(e){e.PROCESSING="mdc-switch--processing",e.SELECTED="mdc-switch--selected",e.UNSELECTED="mdc-switch--unselected"})(ti||(ti={}));var Tg;(function(e){e.RIPPLE=".mdc-switch__ripple"})(Tg||(Tg={}));/**
 * @license
 * Copyright 2021 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function tz(e,t,n){var r=nz(e,t),s=r.getObservers(t);return s.push(n),function(){s.splice(s.indexOf(n),1)}}var wl=new WeakMap;function nz(e,t){var n=new Map;wl.has(e)||wl.set(e,{isEnabled:!0,getObservers:function(c){var f=n.get(c)||[];return n.has(c)||n.set(c,f),f},installedProperties:new Set});var r=wl.get(e);if(r.installedProperties.has(t))return r;var s=rz(e,t)||{configurable:!0,enumerable:!0,value:e[t],writable:!0},i=ln({},s),o=s.get,a=s.set;if("value"in s){delete i.value,delete i.writable;var l=s.value;o=function(){return l},s.writable&&(a=function(c){l=c})}return o&&(i.get=function(){return o.call(this)}),a&&(i.set=function(c){var f,u,h=o?o.call(this):c;if(a.call(this,c),r.isEnabled&&(!o||c!==h))try{for(var d=br(r.getObservers(t)),g=d.next();!g.done;g=d.next()){var p=g.value;p(c,h)}}catch(m){f={error:m}}finally{try{g&&!g.done&&(u=d.return)&&u.call(d)}finally{if(f)throw f.error}}}),r.installedProperties.add(t),Object.defineProperty(e,t,i),r}function rz(e,t){for(var n=e,r;n&&(r=Object.getOwnPropertyDescriptor(n,t),!r);)n=Object.getPrototypeOf(n);return r}function sz(e,t){var n=wl.get(e);n&&(n.isEnabled=t)}/**
 * @license
 * Copyright 2021 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var iz=function(e){Bn(t,e);function t(n){var r=e.call(this,n)||this;return r.unobserves=new Set,r}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.unobserve()},t.prototype.observe=function(n,r){var s,i,o=this,a=[];try{for(var l=br(Object.keys(r)),c=l.next();!c.done;c=l.next()){var f=c.value,u=r[f].bind(this);a.push(this.observeProperty(n,f,u))}}catch(d){s={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(s)throw s.error}}var h=function(){var d,g;try{for(var p=br(a),m=p.next();!m.done;m=p.next()){var v=m.value;v()}}catch(b){d={error:b}}finally{try{m&&!m.done&&(g=p.return)&&g.call(p)}finally{if(d)throw d.error}}o.unobserves.delete(h)};return this.unobserves.add(h),h},t.prototype.observeProperty=function(n,r,s){return tz(n,r,s)},t.prototype.setObserversEnabled=function(n,r){sz(n,r)},t.prototype.unobserve=function(){var n,r;try{for(var s=br(N5([],$g(this.unobserves))),i=s.next();!i.done;i=s.next()){var o=i.value;o()}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t}(Ar);/**
 * @license
 * Copyright 2021 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var oz=function(e){Bn(t,e);function t(n){var r=e.call(this,n)||this;return r.handleClick=r.handleClick.bind(r),r}return t.prototype.init=function(){this.observe(this.adapter.state,{disabled:this.stopProcessingIfDisabled,processing:this.stopProcessingIfDisabled})},t.prototype.handleClick=function(){this.adapter.state.disabled||(this.adapter.state.selected=!this.adapter.state.selected)},t.prototype.stopProcessingIfDisabled=function(){this.adapter.state.disabled&&(this.adapter.state.processing=!1)},t}(iz),az=function(e){Bn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){e.prototype.init.call(this),this.observe(this.adapter.state,{disabled:this.onDisabledChange,processing:this.onProcessingChange,selected:this.onSelectedChange})},t.prototype.initFromDOM=function(){this.setObserversEnabled(this.adapter.state,!1),this.adapter.state.selected=this.adapter.hasClass(ti.SELECTED),this.onSelectedChange(),this.adapter.state.disabled=this.adapter.isDisabled(),this.adapter.state.processing=this.adapter.hasClass(ti.PROCESSING),this.setObserversEnabled(this.adapter.state,!0),this.stopProcessingIfDisabled()},t.prototype.onDisabledChange=function(){this.adapter.setDisabled(this.adapter.state.disabled)},t.prototype.onProcessingChange=function(){this.toggleClass(this.adapter.state.processing,ti.PROCESSING)},t.prototype.onSelectedChange=function(){this.adapter.setAriaChecked(String(this.adapter.state.selected)),this.toggleClass(this.adapter.state.selected,ti.SELECTED),this.toggleClass(!this.adapter.state.selected,ti.UNSELECTED)},t.prototype.toggleClass=function(n,r){n?this.adapter.addClass(r):this.adapter.removeClass(r)},t}(oz);function Cg(e){let t,n,r,s,i,o,a,l,c,f,u=[{class:a=ut({[e[8]]:!0,"mdc-switch__icons":!0})},qt(e[19],"icons$")],h={};for(let d=0;d<u.length;d+=1)h=$e(h,u[d]);return{c(){t=mt("div"),n=ni("svg"),r=ni("path"),s=pt(),i=ni("svg"),o=ni("path"),gt(r,"d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"),gt(n,"class","mdc-switch__icon mdc-switch__icon--on"),gt(n,"viewBox","0 0 24 24"),gt(o,"d","M20 13H4v-2h16v2z"),gt(i,"class","mdc-switch__icon mdc-switch__icon--off"),gt(i,"viewBox","0 0 24 24"),At(t,h)},m(d,g){Ee(d,t,g),xt(t,n),xt(n,r),xt(t,s),xt(t,i),xt(i,o),c||(f=bt(l=an.call(null,t,e[7])),c=!0)},p(d,g){At(t,h=Mt(u,[g[0]&256&&a!==(a=ut({[d[8]]:!0,"mdc-switch__icons":!0}))&&{class:a},g[0]&524288&&qt(d[19],"icons$")])),l&&jt(l.update)&&g[0]&128&&l.update.call(null,d[7])},d(d){d&&Ae(t),c=!1,f()}}}function Pg(e){let t;return{c(){t=mt("div"),t.innerHTML='<div class="mdc-switch__focus-ring"></div>',gt(t,"class","mdc-switch__focus-ring-wrapper")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function lz(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g,p,m,v=e[6]&&Cg(e),b=e[4]&&Pg(),_=[{class:u=ut({[e[3]]:!0,"mdc-switch":!0,"mdc-switch--unselected":!e[10],"mdc-switch--selected":e[10],"mdc-switch--processing":e[1],"smui-switch--color-secondary":e[5]==="secondary",...e[12]})},{type:"button"},{role:"switch"},{"aria-checked":h=e[10]?"true":"false"},{disabled:e[0]},e[16],Wn(e[19],["icons$"])],S={};for(let E=0;E<_.length;E+=1)S=$e(S,_[E]);return{c(){t=mt("button"),n=mt("div"),r=pt(),s=mt("div"),i=mt("div"),o=mt("div"),o.innerHTML='<div class="mdc-elevation-overlay"></div>',a=pt(),l=mt("div"),c=pt(),v&&v.c(),f=pt(),b&&b.c(),gt(n,"class","mdc-switch__track"),gt(o,"class","mdc-switch__shadow"),gt(l,"class","mdc-switch__ripple"),gt(i,"class","mdc-switch__handle"),gt(s,"class","mdc-switch__handle-track"),At(t,S)},m(E,w){Ee(E,t,w),xt(t,n),xt(t,r),xt(t,s),xt(s,i),xt(i,o),xt(i,a),xt(i,l),e[28](l),xt(i,c),v&&v.m(i,null),xt(t,f),b&&b.m(t,null),t.autofocus&&t.focus(),e[29](t),p||(m=[bt(d=an.call(null,t,e[2])),bt(e[15].call(null,t)),bt(g=$r.call(null,t,{unbounded:!0,color:e[5],active:e[14],rippleElement:e[13],disabled:e[0],addClass:e[17],removeClass:e[18]})),Ft(t,"click",e[30])],p=!0)},p(E,w){E[6]?v?v.p(E,w):(v=Cg(E),v.c(),v.m(i,null)):v&&(v.d(1),v=null),E[4]?b||(b=Pg(),b.c(),b.m(t,null)):b&&(b.d(1),b=null),At(t,S=Mt(_,[w[0]&5162&&u!==(u=ut({[E[3]]:!0,"mdc-switch":!0,"mdc-switch--unselected":!E[10],"mdc-switch--selected":E[10],"mdc-switch--processing":E[1],"smui-switch--color-secondary":E[5]==="secondary",...E[12]}))&&{class:u},{type:"button"},{role:"switch"},w[0]&1024&&h!==(h=E[10]?"true":"false")&&{"aria-checked":h},w[0]&1&&{disabled:E[0]},E[16],w[0]&524288&&Wn(E[19],["icons$"])])),d&&jt(d.update)&&w[0]&4&&d.update.call(null,E[2]),g&&jt(g.update)&&w[0]&24609&&g.update.call(null,{unbounded:!0,color:E[5],active:E[14],rippleElement:E[13],disabled:E[0],addClass:E[17],removeClass:E[18]})},i:Qt,o:Qt,d(E){E&&Ae(t),e[28](null),v&&v.d(),b&&b.d(),e[29](null),p=!1,cn(m)}}}function cz(e,t,n){const r=["use","class","disabled","focusRing","color","group","checked","value","processing","icons","icons$use","icons$class","getId","getElement"];let s=Et(t,r);var i;const o=_n(rn());let a=()=>{};function l(ze){return ze===a}let{use:c=[]}=t,{class:f=""}=t,{disabled:u=!1}=t,{focusRing:h=!1}=t,{color:d="primary"}=t,{group:g=a}=t,{checked:p=a}=t,{value:m=null}=t,{processing:v=!1}=t,{icons:b=!0}=t,{icons$use:_=[]}=t,{icons$class:S=""}=t,E,w,A={},L,U=!1,B=(i=fr("SMUI:generic:input:props"))!==null&&i!==void 0?i:{},k=l(g)?l(p)?!1:p:g.indexOf(m)!==-1,se={get disabled(){return u},set disabled(ze){n(0,u=ze)},get processing(){return v},set processing(ze){n(1,v=ze)},get selected(){return k},set selected(ze){n(10,k=ze)}},V=p,j=l(g)?[]:[...g],Ie=k;Yn(()=>{n(11,w=new az({addClass:H,hasClass:ne,isDisabled:()=>u,removeClass:fe,setAriaChecked:()=>{},setDisabled:Tt=>{n(0,u=Tt)},state:se}));const ze={get element(){return ve()},get checked(){return k},set checked(Tt){k!==Tt&&(se.selected=Tt,E&&Tn(E,"SMUISwitch:change",{selected:Tt,value:m}))},activateRipple(){u||n(14,U=!0)},deactivateRipple(){n(14,U=!1)}};return Tn(E,"SMUIGenericInput:mount",ze),w.init(),w.initFromDOM(),()=>{Tn(E,"SMUIGenericInput:unmount",ze),w.destroy()}});function ne(ze){return ze in A?A[ze]:ve().classList.contains(ze)}function H(ze){A[ze]||n(12,A[ze]=!0,A)}function fe(ze){(!(ze in A)||A[ze])&&n(12,A[ze]=!1,A)}function J(){return B&&B.id}function ve(){return E}function kt(ze){rt[ze?"unshift":"push"](()=>{L=ze,n(13,L)})}function xe(ze){rt[ze?"unshift":"push"](()=>{E=ze,n(9,E)})}const It=()=>w&&w.handleClick();return e.$$set=ze=>{t=$e($e({},t),mn(ze)),n(19,s=Et(t,r)),"use"in ze&&n(2,c=ze.use),"class"in ze&&n(3,f=ze.class),"disabled"in ze&&n(0,u=ze.disabled),"focusRing"in ze&&n(4,h=ze.focusRing),"color"in ze&&n(5,d=ze.color),"group"in ze&&n(20,g=ze.group),"checked"in ze&&n(21,p=ze.checked),"value"in ze&&n(22,m=ze.value),"processing"in ze&&n(1,v=ze.processing),"icons"in ze&&n(6,b=ze.icons),"icons$use"in ze&&n(7,_=ze.icons$use),"icons$class"in ze&&n(8,S=ze.icons$class)},e.$$.update=()=>{if(e.$$.dirty[0]&242222592){let ze=!1;if(!l(g))if(Ie!==k){const Tt=g.indexOf(m);k&&Tt===-1?(g.push(m),n(20,g),n(27,Ie),n(10,k),n(22,m),n(26,j),n(21,p),n(25,V),n(9,E)):!k&&Tt!==-1&&(g.splice(Tt,1),n(20,g),n(27,Ie),n(10,k),n(22,m),n(26,j),n(21,p),n(25,V),n(9,E)),ze=!0}else{const Tt=j.indexOf(m),yn=g.indexOf(m);Tt>-1&&yn===-1?se.selected=!1:yn>-1&&Tt===-1&&(se.selected=!0)}l(p)?Ie!==k&&(ze=!0):p!==k&&(p===V?(n(21,p=k),ze=!0):se.selected=p),n(25,V=p),n(26,j=l(g)?[]:[...g]),n(27,Ie=k),ze&&E&&Tn(E,"SMUISwitch:change",{selected:k,value:m})}},[u,v,c,f,h,d,b,_,S,E,k,w,A,L,U,o,B,H,fe,s,g,p,m,J,ve,V,j,Ie,kt,xe,It]}class fz extends Yt{constructor(t){super(),Wt(this,t,cz,lz,Xt,{use:2,class:3,disabled:0,focusRing:4,color:5,group:20,checked:21,value:22,processing:1,icons:6,icons$use:7,icons$class:8,getId:23,getElement:24},null,[-1,-1])}get getId(){return this.$$.ctx[23]}get getElement(){return this.$$.ctx[24]}}/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var uz={ROOT:"mdc-form-field"},dz={LABEL_SELECTOR:".mdc-form-field > label"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var hz=function(e){Bn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.click=function(){r.handleClick()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return uz},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return dz},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{activateInputRipple:function(){},deactivateInputRipple:function(){},deregisterInteractionHandler:function(){},registerInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("click",this.click)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("click",this.click)},t.prototype.handleClick=function(){var n=this;this.adapter.activateInputRipple(),requestAnimationFrame(function(){n.adapter.deactivateInputRipple()})},t}(Ar);const mz=e=>({}),Lg=e=>({});function pz(e){let t,n,r,s,i,o,a,l,c;const f=e[14].default,u=Gt(f,e,e[13],null),h=e[14].label,d=Gt(h,e,e[13],Lg);let g=[{for:e[4]},qt(e[11],"label$")],p={};for(let b=0;b<g.length;b+=1)p=$e(p,g[b]);let m=[{class:i=ut({[e[1]]:!0,"mdc-form-field":!0,"mdc-form-field--align-end":e[2]==="end","mdc-form-field--nowrap":e[3]})},Wn(e[11],["label$"])],v={};for(let b=0;b<m.length;b+=1)v=$e(v,m[b]);return{c(){t=mt("div"),u&&u.c(),n=pt(),r=mt("label"),d&&d.c(),At(r,p),At(t,v)},m(b,_){Ee(b,t,_),u&&u.m(t,null),xt(t,n),xt(t,r),d&&d.m(r,null),e[15](r),e[16](t),a=!0,l||(c=[bt(s=an.call(null,r,e[5])),bt(o=an.call(null,t,e[0])),bt(e[9].call(null,t)),Ft(t,"SMUIGenericInput:mount",e[10]),Ft(t,"SMUIGenericInput:unmount",e[17])],l=!0)},p(b,[_]){u&&u.p&&(!a||_&8192)&&Nt(u,f,b,b[13],a?Bt(f,b[13],_,null):Vt(b[13]),null),d&&d.p&&(!a||_&8192)&&Nt(d,h,b,b[13],a?Bt(h,b[13],_,mz):Vt(b[13]),Lg),At(r,p=Mt(g,[(!a||_&16)&&{for:b[4]},_&2048&&qt(b[11],"label$")])),s&&jt(s.update)&&_&32&&s.update.call(null,b[5]),At(t,v=Mt(m,[(!a||_&14&&i!==(i=ut({[b[1]]:!0,"mdc-form-field":!0,"mdc-form-field--align-end":b[2]==="end","mdc-form-field--nowrap":b[3]})))&&{class:i},_&2048&&Wn(b[11],["label$"])])),o&&jt(o.update)&&_&1&&o.update.call(null,b[0])},i(b){a||(re(u,b),re(d,b),a=!0)},o(b){ae(u,b),ae(d,b),a=!1},d(b){b&&Ae(t),u&&u.d(b),d&&d.d(b),e[15](null),e[16](null),l=!1,cn(c)}}}let gz=0;function vz(e,t,n){const r=["use","class","align","noWrap","inputId","label$use","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{align:f="start"}=t,{noWrap:u=!1}=t,{inputId:h="SMUI-form-field-"+gz++}=t,{label$use:d=[]}=t,g,p,m,v;cr("SMUI:generic:input:props",{id:h}),Yn(()=>(p=new hz({activateInputRipple:()=>{v&&v.activateRipple()},deactivateInputRipple:()=>{v&&v.deactivateRipple()},deregisterInteractionHandler:(A,L)=>{m.removeEventListener(A,L)},registerInteractionHandler:(A,L)=>{m.addEventListener(A,L)}}),p.init(),()=>{p.destroy()}));function b(A){n(8,v=A.detail)}function _(){return g}function S(A){rt[A?"unshift":"push"](()=>{m=A,n(7,m)})}function E(A){rt[A?"unshift":"push"](()=>{g=A,n(6,g)})}const w=()=>n(8,v=void 0);return e.$$set=A=>{t=$e($e({},t),mn(A)),n(11,s=Et(t,r)),"use"in A&&n(0,l=A.use),"class"in A&&n(1,c=A.class),"align"in A&&n(2,f=A.align),"noWrap"in A&&n(3,u=A.noWrap),"inputId"in A&&n(4,h=A.inputId),"label$use"in A&&n(5,d=A.label$use),"$$scope"in A&&n(13,o=A.$$scope)},[l,c,f,u,h,d,g,m,v,a,b,s,_,o,i,S,E,w]}class bz extends Yt{constructor(t){super(),Wt(this,t,vz,pz,Xt,{use:0,class:1,align:2,noWrap:3,inputId:4,label$use:5,getElement:12})}get getElement(){return this.$$.ctx[12]}}function _z(e){let t;return{c(){t=Xn("download")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function yz(e){let t,n;return t=new Ju({props:{class:"material-icons",$$slots:{default:[_z]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Az(e){let t=e[33]+"",n;return{c(){n=Xn(t)},m(r,s){Ee(r,n,s)},p(r,s){s[1]&4&&t!==(t=r[33]+"")&&li(n,t)},d(r){r&&Ae(n)}}}function Sz(e){let t,n;return t=new Ki({props:{$$slots:{default:[Az]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&12&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Ez(e){let t,n;return t=new w$({props:{tab:e[33],disabled:e[33]==="Preview"&&e[14],$$slots:{default:[Sz]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&4&&(i.tab=r[33]),s[0]&16384|s[1]&4&&(i.disabled=r[33]==="Preview"&&r[14]),s[1]&12&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function wz(e){let t,n;return t=new Fl({props:{variant:"unelevated",style:" height: 100%",$$slots:{default:[Gz]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[0]&8192|s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Tz(e){let t,n,r=e[12]&&Og(e);return{c(){r&&r.c(),t=bn()},m(s,i){r&&r.m(s,i),Ee(s,t,i),n=!0},p(s,i){s[12]?r?(r.p(s,i),i[0]&4096&&re(r,1)):(r=Og(s),r.c(),re(r,1),r.m(t.parentNode,t)):r&&(tn(),ae(r,1,1,()=>{r=null}),nn())},i(s){n||(re(r),n=!0)},o(s){ae(r),n=!1},d(s){r&&r.d(s),s&&Ae(t)}}}function Cz(e){let t,n;return t=new Fl({props:{variant:"unelevated",class:"settings",$$slots:{default:[zz]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[0]&4092|s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Pz(e){let t,n,r;function s(o){e[19](o)}let i={};return e[0]!==void 0&&(i.model=e[0]),t=new m3({props:i}),rt.push(()=>Mn(t,"model",s)),{c(){et(t.$$.fragment)},m(o,a){Ke(t,o,a),r=!0},p(o,a){const l={};!n&&a[0]&1&&(n=!0,l.model=o[0],Rn(()=>n=!1)),t.$set(l)},i(o){r||(re(t.$$.fragment,o),r=!0)},o(o){ae(t.$$.fragment,o),r=!1},d(o){Qe(t,o)}}}function Lz(e){let t,n;return t=new hw({}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p:Qt,i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Oz(e){let t;return{c(){t=Xn("Copy/paste to save/load the state")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function Rz(e){let t,n;return t=new ZH({props:{slot:"helper",$$slots:{default:[Oz]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Mz(e){let t;return{c(){t=Xn("Small")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function Iz(e){let t,n;return t=new Ki({props:{$$slots:{default:[Mz]},$$scope:{ctx:e}}}),t.$on("click",e[17](lb)),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Dz(e){let t;return{c(){t=Xn("Big")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function Fz(e){let t,n;return t=new Ki({props:{$$slots:{default:[Dz]},$$scope:{ctx:e}}}),t.$on("click",e[17](JU)),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function kz(e){let t;return{c(){t=Xn("Snake")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function xz(e){let t,n;return t=new Ki({props:{$$slots:{default:[kz]},$$scope:{ctx:e}}}),t.$on("click",e[17](e$)),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Gz(e){let t,n,r,s,i,o,a,l,c,f;return t=new Vr({props:{style:"width: 100%",input$style:"width: 100%",class:"save-area",textarea:!0,value:e[13],label:"State",input$resizable:!1,input$rows:8,$$slots:{helper:[Rz]},$$scope:{ctx:e}}}),t.$on("input",e[15]),i=new yl({props:{$$slots:{default:[Iz]},$$scope:{ctx:e}}}),a=new yl({props:{$$slots:{default:[Fz]},$$scope:{ctx:e}}}),c=new yl({props:{$$slots:{default:[xz]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment),n=pt(),r=mt("div"),r.textContent="Load predefined model",s=pt(),et(i.$$.fragment),o=pt(),et(a.$$.fragment),l=pt(),et(c.$$.fragment),gt(r,"class","mdc-typography--subtitle1"),Ks(r,"margin-top","1rem")},m(u,h){Ke(t,u,h),Ee(u,n,h),Ee(u,r,h),Ee(u,s,h),Ke(i,u,h),Ee(u,o,h),Ke(a,u,h),Ee(u,l,h),Ke(c,u,h),f=!0},p(u,h){const d={};h[0]&8192&&(d.value=u[13]),h[1]&8&&(d.$$scope={dirty:h,ctx:u}),t.$set(d);const g={};h[1]&8&&(g.$$scope={dirty:h,ctx:u}),i.$set(g);const p={};h[1]&8&&(p.$$scope={dirty:h,ctx:u}),a.$set(p);const m={};h[1]&8&&(m.$$scope={dirty:h,ctx:u}),c.$set(m)},i(u){f||(re(t.$$.fragment,u),re(i.$$.fragment,u),re(a.$$.fragment,u),re(c.$$.fragment,u),f=!0)},o(u){ae(t.$$.fragment,u),ae(i.$$.fragment,u),ae(a.$$.fragment,u),ae(c.$$.fragment,u),f=!1},d(u){Qe(t,u),u&&Ae(n),u&&Ae(r),u&&Ae(s),Qe(i,u),u&&Ae(o),Qe(a,u),u&&Ae(l),Qe(c,u)}}}function Og(e){let t,n;return t=new fw({props:{model:e[12]}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[0]&4096&&(i.model=r[12]),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Bz(e){let t,n,r;function s(o){e[25](o)}let i={};return e[11]!==void 0&&(i.checked=e[11]),t=new fz({props:i}),rt.push(()=>Mn(t,"checked",s)),{c(){et(t.$$.fragment)},m(o,a){Ke(t,o,a),r=!0},p(o,a){const l={};!n&&a[0]&2048&&(n=!0,l.checked=o[11],Rn(()=>n=!1)),t.$set(l)},i(o){r||(re(t.$$.fragment,o),r=!0)},o(o){ae(t.$$.fragment,o),r=!1},d(o){Qe(t,o)}}}function Nz(e){let t;return{c(){t=mt("span"),t.textContent="Wall mount holes",gt(t,"slot","label")},m(n,r){Ee(n,t,r)},p:Qt,d(n){n&&Ae(t)}}}function Vz(e){let t;return{c(){t=Xn("percent")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function Uz(e){let t,n;return t=new Ju({props:{class:"material-icons",slot:"trailingIcon",$$slots:{default:[Vz]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function $z(e){let t;return{c(){t=Xn("percent")},m(n,r){Ee(n,t,r)},d(n){n&&Ae(t)}}}function Hz(e){let t,n;return t=new Ju({props:{class:"material-icons",slot:"trailingIcon",$$slots:{default:[$z]},$$scope:{ctx:e}}}),{c(){et(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){ae(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function zz(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g,p,m,v,b,_,S,E,w,A,L,U,B,k,se,V,j;function Ie(Oe){e[20](Oe)}let ne={label:"Depth",type:"number",min:"0"};e[4]!==void 0&&(ne.value=e[4]),t=new Vr({props:ne}),rt.push(()=>Mn(t,"value",Ie));function H(Oe){e[21](Oe)}let fe={label:"Wall width",type:"number",min:"0"};e[3]!==void 0&&(fe.value=e[3]),s=new Vr({props:fe}),rt.push(()=>Mn(s,"value",H));function J(Oe){e[22](Oe)}let ve={label:"Inner cell perimeter",type:"number",min:"0"};e[2]!==void 0&&(ve.value=e[2]),a=new Vr({props:ve}),rt.push(()=>Mn(a,"value",J));function kt(Oe){e[23](Oe)}let xe={label:"Cap radius",type:"number",min:"0"};e[5]!==void 0&&(xe.value=e[5]),f=new Vr({props:xe}),rt.push(()=>Mn(f,"value",kt));function It(Oe){e[24](Oe)}let ze={label:"Cap inset",type:"number",min:"0"};e[6]!==void 0&&(ze.value=e[6]),d=new Vr({props:ze}),rt.push(()=>Mn(d,"value",It)),v=new bz({props:{$$slots:{label:[Nz],default:[Bz]},$$scope:{ctx:e}}});function Tt(Oe){e[26](Oe)}let yn={label:"Horizontal space",type:"number",disabled:!e[11],$$slots:{trailingIcon:[Uz]},$$scope:{ctx:e}};e[7]!==void 0&&(yn.value=e[7]),_=new Vr({props:yn}),rt.push(()=>Mn(_,"value",Tt));function rr(Oe){e[27](Oe)}let Je={label:"Horizontal offset",type:"number",disabled:!e[11]};e[8]!==void 0&&(Je.value=e[8]),w=new Vr({props:Je}),rt.push(()=>Mn(w,"value",rr));function He(Oe){e[28](Oe)}let An={label:"Vertical space",type:"number",disabled:!e[11],$$slots:{trailingIcon:[Hz]},$$scope:{ctx:e}};e[9]!==void 0&&(An.value=e[9]),U=new Vr({props:An}),rt.push(()=>Mn(U,"value",He));function Cs(Oe){e[29](Oe)}let rs={label:"Vertical offset",type:"number",disabled:!e[11]};return e[10]!==void 0&&(rs.value=e[10]),se=new Vr({props:rs}),rt.push(()=>Mn(se,"value",Cs)),{c(){et(t.$$.fragment),r=pt(),et(s.$$.fragment),o=pt(),et(a.$$.fragment),c=pt(),et(f.$$.fragment),h=pt(),et(d.$$.fragment),p=pt(),m=mt("div"),et(v.$$.fragment),b=pt(),et(_.$$.fragment),E=pt(),et(w.$$.fragment),L=pt(),et(U.$$.fragment),k=pt(),et(se.$$.fragment),gt(m,"class","wrap svelte-190rkjk")},m(Oe,_t){Ke(t,Oe,_t),Ee(Oe,r,_t),Ke(s,Oe,_t),Ee(Oe,o,_t),Ke(a,Oe,_t),Ee(Oe,c,_t),Ke(f,Oe,_t),Ee(Oe,h,_t),Ke(d,Oe,_t),Ee(Oe,p,_t),Ee(Oe,m,_t),Ke(v,m,null),Ee(Oe,b,_t),Ke(_,Oe,_t),Ee(Oe,E,_t),Ke(w,Oe,_t),Ee(Oe,L,_t),Ke(U,Oe,_t),Ee(Oe,k,_t),Ke(se,Oe,_t),j=!0},p(Oe,_t){const Er={};!n&&_t[0]&16&&(n=!0,Er.value=Oe[4],Rn(()=>n=!1)),t.$set(Er);const Or={};!i&&_t[0]&8&&(i=!0,Or.value=Oe[3],Rn(()=>i=!1)),s.$set(Or);const Rr={};!l&&_t[0]&4&&(l=!0,Rr.value=Oe[2],Rn(()=>l=!1)),a.$set(Rr);const In={};!u&&_t[0]&32&&(u=!0,In.value=Oe[5],Rn(()=>u=!1)),f.$set(In);const Ps={};!g&&_t[0]&64&&(g=!0,Ps.value=Oe[6],Rn(()=>g=!1)),d.$set(Ps);const zr={};_t[0]&2048|_t[1]&8&&(zr.$$scope={dirty:_t,ctx:Oe}),v.$set(zr);const ss={};_t[0]&2048&&(ss.disabled=!Oe[11]),_t[1]&8&&(ss.$$scope={dirty:_t,ctx:Oe}),!S&&_t[0]&128&&(S=!0,ss.value=Oe[7],Rn(()=>S=!1)),_.$set(ss);const Ls={};_t[0]&2048&&(Ls.disabled=!Oe[11]),!A&&_t[0]&256&&(A=!0,Ls.value=Oe[8],Rn(()=>A=!1)),w.$set(Ls);const P={};_t[0]&2048&&(P.disabled=!Oe[11]),_t[1]&8&&(P.$$scope={dirty:_t,ctx:Oe}),!B&&_t[0]&512&&(B=!0,P.value=Oe[9],Rn(()=>B=!1)),U.$set(P);const Os={};_t[0]&2048&&(Os.disabled=!Oe[11]),!V&&_t[0]&1024&&(V=!0,Os.value=Oe[10],Rn(()=>V=!1)),se.$set(Os)},i(Oe){j||(re(t.$$.fragment,Oe),re(s.$$.fragment,Oe),re(a.$$.fragment,Oe),re(f.$$.fragment,Oe),re(d.$$.fragment,Oe),re(v.$$.fragment,Oe),re(_.$$.fragment,Oe),re(w.$$.fragment,Oe),re(U.$$.fragment,Oe),re(se.$$.fragment,Oe),j=!0)},o(Oe){ae(t.$$.fragment,Oe),ae(s.$$.fragment,Oe),ae(a.$$.fragment,Oe),ae(f.$$.fragment,Oe),ae(d.$$.fragment,Oe),ae(v.$$.fragment,Oe),ae(_.$$.fragment,Oe),ae(w.$$.fragment,Oe),ae(U.$$.fragment,Oe),ae(se.$$.fragment,Oe),j=!1},d(Oe){Qe(t,Oe),Oe&&Ae(r),Qe(s,Oe),Oe&&Ae(o),Qe(a,Oe),Oe&&Ae(c),Qe(f,Oe),Oe&&Ae(h),Qe(d,Oe),Oe&&Ae(p),Oe&&Ae(m),Qe(v),Oe&&Ae(b),Qe(_,Oe),Oe&&Ae(E),Qe(w,Oe),Oe&&Ae(L),Qe(U,Oe),Oe&&Ae(k),Qe(se,Oe)}}}function jz(e){let t,n,r,s,i,o,a,l,c;t=new ez({props:{color:"primary",style:"position: fixed; right: 1rem; bottom: 1rem; z-index: 1",disabled:e[14],$$slots:{default:[yz]},$$scope:{ctx:e}}}),t.$on("click",e[16]);function f(p){e[18](p)}let u={tabs:["About","Parameters","Design","Preview","Load/Save"],$$slots:{default:[Ez,({tab:p})=>({33:p}),({tab:p})=>[0,p?4:0]]},$$scope:{ctx:e}};e[1]!==void 0&&(u.active=e[1]),r=new N$({props:u}),rt.push(()=>Mn(r,"active",f));const h=[Lz,Pz,Cz,Tz,wz],d=[];function g(p,m){return p[1]==="About"?0:p[1]==="Design"?1:p[1]==="Parameters"?2:p[1]==="Preview"?3:p[1]==="Load/Save"?4:-1}return~(o=g(e))&&(a=d[o]=h[o](e)),{c(){et(t.$$.fragment),n=pt(),et(r.$$.fragment),i=pt(),a&&a.c(),l=bn()},m(p,m){Ke(t,p,m),Ee(p,n,m),Ke(r,p,m),Ee(p,i,m),~o&&d[o].m(p,m),Ee(p,l,m),c=!0},p(p,m){const v={};m[0]&16384&&(v.disabled=p[14]),m[1]&8&&(v.$$scope={dirty:m,ctx:p}),t.$set(v);const b={};m[0]&16384|m[1]&12&&(b.$$scope={dirty:m,ctx:p}),!s&&m[0]&2&&(s=!0,b.active=p[1],Rn(()=>s=!1)),r.$set(b);let _=o;o=g(p),o===_?~o&&d[o].p(p,m):(a&&(tn(),ae(d[_],1,1,()=>{d[_]=null}),nn()),~o?(a=d[o],a?a.p(p,m):(a=d[o]=h[o](p),a.c()),re(a,1),a.m(l.parentNode,l)):a=null)},i(p){c||(re(t.$$.fragment,p),re(r.$$.fragment,p),re(a),c=!0)},o(p){ae(t.$$.fragment,p),ae(r.$$.fragment,p),ae(a),c=!1},d(p){Qe(t,p),p&&Ae(n),Qe(r,p),p&&Ae(i),~o&&d[o].d(p),p&&Ae(l)}}}function qz(e,t,n){let r,s,i=structuredClone(lb.model),o="About",a=30,l=2.25,c=22,f=1.5,u=1,h=50,d=0,g=0,p=0,m=!0;b(localStorage.getItem("state"));function v(ve){n(0,{model:i=i,cellSize:a=a,wallWidth:l=l,height:c=c,radius:f=f,inset:u=u,keyholeHorizontalSpace:h=h,keyholeHorizontalOffset:d=d,keyholeVerticalSpace:g=g,keyholeVerticalOffset:p=p,holesEnabled:m=m}=structuredClone(ve),i,n(2,a),n(3,l),n(4,c),n(5,f),n(6,u),n(7,h),n(8,d),n(9,g),n(10,p),n(11,m))}function b(ve){try{v(JSON.parse(ve))}catch{}}function _(ve){b(ve.target.value)}function S(){QU.saveAs(new Blob(KU.serialize({binary:!0},w())),"model.stl")}let E;function w(){return f$(i,a/2,l,c,f,u,m?h:void 0,m?d:void 0,m?g:void 0,m?p:void 0)}function A(ve){return()=>{v(structuredClone(ve))}}function L(ve){o=ve,n(1,o)}function U(ve){i=ve,n(0,i)}function B(ve){c=ve,n(4,c)}function k(ve){l=ve,n(3,l)}function se(ve){a=ve,n(2,a)}function V(ve){f=ve,n(5,f)}function j(ve){u=ve,n(6,u)}function Ie(ve){m=ve,n(11,m)}function ne(ve){h=ve,n(7,h)}function H(ve){d=ve,n(8,d)}function fe(ve){g=ve,n(9,g)}function J(ve){p=ve,n(10,p)}return e.$$.update=()=>{e.$$.dirty[0]&4093&&n(13,r=JSON.stringify({model:i,cellSize:a,wallWidth:l,height:c,radius:f,inset:u,keyholeHorizontalSpace:h,keyholeHorizontalOffset:d,keyholeVerticalSpace:g,keyholeVerticalOffset:p,holesEnabled:m})),e.$$.dirty[0]&8192&&localStorage.setItem("state",r),e.$$.dirty[0]&4098&&o==="Preview"&&(n(12,E=w()),n(12,E=ns.transforms.rotateZ(Math.PI,ns.transforms.center({},E)))),e.$$.dirty[0]&1&&n(14,s=i.flat().every(ve=>ve===0))},[i,o,a,l,c,f,u,h,d,g,p,m,E,r,s,_,S,A,L,U,B,k,se,V,j,Ie,ne,H,fe,J]}class Xz extends Yt{constructor(t){super(),Wt(this,t,qz,jz,Xt,{},null,[-1,-1])}}new Xz({target:document.getElementById("app")});
