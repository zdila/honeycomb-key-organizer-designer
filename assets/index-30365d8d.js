var g5=Object.defineProperty;var v5=(e,t,n)=>t in e?g5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Sf=(e,t,n)=>(v5(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Zt(){}function Ue(e,t){for(const n in t)e[n]=t[n];return e}function Yg(e){return e()}function w1(){return Object.create(null)}function cn(e){e.forEach(Yg)}function jt(e){return typeof e=="function"}function Xt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function b5(e){return Object.keys(e).length===0}function _5(e,...t){if(e==null){for(const r of t)r(void 0);return Zt}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Xo(e,t,n){e.$$.on_destroy.push(_5(t,n))}function Bt(e,t,n,r){if(e){const s=Zg(e,t,n,r);return e[0](s)}}function Zg(e,t,n,r){return e[1]&&r?Ue(n.ctx.slice(),e[1](r(t))):n.ctx}function Gt(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(t.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=t.dirty[a]|s[a];return i}return t.dirty|s}return t.dirty}function Nt(e,t,n,r,s,i){if(s){const o=Zg(t,n,r,i);e.p(o,s)}}function Vt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function mn(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function wt(e,t){const n={};t=new Set(t);for(const r in e)!t.has(r)&&r[0]!=="$"&&(n[r]=e[r]);return n}function y5(e){const t={};for(const n in e)t[n]=!0;return t}function Kg(e,t,n){return e.set(n),t}function _t(e){return e&&jt(e.destroy)?e.destroy:Zt}function xt(e,t){e.appendChild(t)}function Ae(e,t,n){e.insertBefore(t,n||null)}function _e(e){e.parentNode&&e.parentNode.removeChild(e)}function Ju(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function dt(e){return document.createElement(e)}function Ps(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Xn(e){return document.createTextNode(e)}function gt(){return Xn(" ")}function pn(){return Xn("")}function kt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function A5(e){return function(t){return t.preventDefault(),e.call(this,t)}}function E5(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function pt(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const S5=["width","height"];function At(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)t[r]==null?e.removeAttribute(r):r==="style"?e.style.cssText=t[r]:r==="__value"?e.value=e[r]=t[r]:n[r]&&n[r].set&&S5.indexOf(r)===-1?e[r]=t[r]:pt(e,r,t[r])}function T1(e,t){for(const n in t)pt(e,n,t[n])}function w5(e,t){Object.keys(t).forEach(n=>{T5(e,n,t[n])})}function T5(e,t,n){t in e?e[t]=typeof e[t]=="boolean"&&n===""?!0:n:pt(e,t,n)}function Ol(e){return/-/.test(e)?w5:At}function C5(e){return Array.from(e.childNodes)}function li(e,t){t=""+t,e.data!==t&&(e.data=t)}function C1(e,t){e.value=t??""}function $o(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function yr(e,t){return new e(t)}let Zo;function Wo(e){Zo=e}function rn(){if(!Zo)throw new Error("Function called outside component initialization");return Zo}function Yn(e){rn().$$.on_mount.push(e)}function ed(e){rn().$$.on_destroy.push(e)}function cr(e,t){return rn().$$.context.set(e,t),t}function fr(e){return rn().$$.context.get(e)}function Ko(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Hi=[],rt=[];let qi=[];const Bu=[],Qg=Promise.resolve();let Gu=!1;function Jg(){Gu||(Gu=!0,Qg.then(ev))}function P5(){return Jg(),Qg}function Nu(e){qi.push(e)}function Sn(e){Bu.push(e)}const wf=new Set;let Mi=0;function ev(){if(Mi!==0)return;const e=Zo;do{try{for(;Mi<Hi.length;){const t=Hi[Mi];Mi++,Wo(t),L5(t.$$)}}catch(t){throw Hi.length=0,Mi=0,t}for(Wo(null),Hi.length=0,Mi=0;rt.length;)rt.pop()();for(let t=0;t<qi.length;t+=1){const n=qi[t];wf.has(n)||(wf.add(n),n())}qi.length=0}while(Hi.length);for(;Bu.length;)Bu.pop()();Gu=!1,wf.clear(),Wo(e)}function L5(e){if(e.fragment!==null){e.update(),cn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Nu)}}function O5(e){const t=[],n=[];qi.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),qi=t}const Sl=new Set;let ri;function Wt(){ri={r:0,c:[],p:ri}}function Yt(){ri.r||cn(ri.c),ri=ri.p}function K(e,t){e&&e.i&&(Sl.delete(e),e.i(t))}function oe(e,t,n,r){if(e&&e.o){if(Sl.has(e))return;Sl.add(e),ri.c.push(()=>{Sl.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Ur(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function tv(e,t){oe(e,1,1,()=>{t.delete(e.key)})}function nv(e,t,n,r,s,i,o,a,l,c,f,u){let h=e.length,d=i.length,g=h;const m={};for(;g--;)m[e[g].key]=g;const p=[],v=new Map,b=new Map,_=[];for(g=d;g--;){const A=u(s,i,g),L=n(A);let $=o.get(L);$?r&&_.push(()=>$.p(A,t)):($=c(L,A),$.c()),v.set(L,p[g]=$),L in m&&b.set(L,Math.abs(g-m[L]))}const E=new Set,S=new Set;function w(A){K(A,1),A.m(a,f),o.set(A.key,A),f=A.first,d--}for(;h&&d;){const A=p[d-1],L=e[h-1],$=A.key,G=L.key;A===L?(f=A.first,h--,d--):v.has(G)?!o.has($)||E.has($)?w(A):S.has(G)?h--:b.get($)>b.get(G)?(S.add($),w(A)):(E.add(G),h--):(l(L,o),h--)}for(;h--;){const A=e[h];v.has(A.key)||l(A,o)}for(;d;)w(p[d-1]);return cn(_),p}function It(e,t){const n={},r={},s={$$scope:1};let i=e.length;for(;i--;){const o=e[i],a=t[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);e[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function hn(e){return typeof e=="object"&&e!==null?e:{}}function wn(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Je(e){e&&e.c()}function Ke(e,t,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),Nu(()=>{const i=e.$$.on_mount.map(Yg).filter(jt);e.$$.on_destroy?e.$$.on_destroy.push(...i):cn(i),e.$$.on_mount=[]}),s.forEach(Nu)}function Qe(e,t){const n=e.$$;n.fragment!==null&&(O5(n.after_update),cn(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function R5(e,t){e.$$.dirty[0]===-1&&(Hi.push(e),Jg(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Kt(e,t,n,r,s,i,o,a=[-1]){const l=Zo;Wo(e);const c=e.$$={fragment:null,ctx:[],props:i,update:Zt,not_equal:s,bound:w1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:w1(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(e,t.props||{},(u,h,...d)=>{const g=d.length?d[0]:h;return c.ctx&&s(c.ctx[u],c.ctx[u]=g)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](g),f&&R5(e,u)),h}):[],c.update(),f=!0,cn(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const u=C5(t.target);c.fragment&&c.fragment.l(u),u.forEach(_e)}else c.fragment&&c.fragment.c();t.intro&&K(e.$$.fragment),Ke(e,t.target,t.anchor),ev()}Wo(l)}class Qt{constructor(){Sf(this,"$$");Sf(this,"$$set")}$destroy(){Qe(this,1),this.$destroy=Zt}$on(t,n){if(!jt(n))return Zt;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!b5(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const M5="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(M5);function I5(e){let t,n,r,s,i,o,a,l;return{c(){t=Ps("g"),n=Ps("polygon"),pt(n,"points","300,150 225,280 75,280 0,150 75,20 225,20"),pt(n,"fill",r=["white","#eee","yellow","orange"][e[0]]),pt(n,"stroke",s=e[0]?"black":"silver"),pt(n,"stroke-width",i=e[0]?10:2),pt(t,"transform",o=`translate(${e[3]} ${e[2]})${e[1]?" rotate(30 155 155)":""}`)},m(c,f){Ae(c,t,f),xt(t,n),a||(l=kt(n,"click",e[4]),a=!0)},p(c,[f]){f&1&&r!==(r=["white","#eee","yellow","orange"][c[0]])&&pt(n,"fill",r),f&1&&s!==(s=c[0]?"black":"silver")&&pt(n,"stroke",s),f&1&&i!==(i=c[0]?10:2)&&pt(n,"stroke-width",i),f&14&&o!==(o=`translate(${c[3]} ${c[2]})${c[1]?" rotate(30 155 155)":""}`)&&pt(t,"transform",o)},i:Zt,o:Zt,d(c){c&&_e(t),a=!1,l()}}}function D5(e,t,n){let r,s,{x:i}=t,{y:o}=t,{value:a}=t,{mode:l}=t,{cellsRotated:c}=t;function f(u){n(0,a=u.shiftKey?0:l)}return e.$$set=u=>{"x"in u&&n(5,i=u.x),"y"in u&&n(6,o=u.y),"value"in u&&n(0,a=u.value),"mode"in u&&n(7,l=u.mode),"cellsRotated"in u&&n(1,c=u.cellsRotated)},e.$$.update=()=>{e.$$.dirty&98&&n(3,r=c?i*260+(o%2?130:0):i*225),e.$$.dirty&98&&n(2,s=c?o*225:o*260+(i%2?130:0))},[a,c,s,r,f,i,o,l]}class F5 extends Qt{constructor(t){super(),Kt(this,t,D5,I5,Xt,{x:5,y:6,value:0,mode:7,cellsRotated:1})}}var Js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rv={exports:{}};/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/material-components/material-components-web/blob/master/LICENSE
 */(function(e,t){(function(r,s){e.exports=s()})(Js,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(o&1&&(i=s(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var l in i)s.d(a,l,function(c){return i[c]}.bind(null,l));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s="./packages/mdc-segmented-button/index.ts")}({"./packages/mdc-base/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__read||function(c,f){var u=typeof Symbol=="function"&&c[Symbol.iterator];if(!u)return c;var h=u.call(c),d,g=[],m;try{for(;(f===void 0||f-- >0)&&!(d=h.next()).done;)g.push(d.value)}catch(p){m={error:p}}finally{try{d&&!d.done&&(u=h.return)&&u.call(h)}finally{if(m)throw m.error}}return g},o=this&&this.__spreadArray||function(c,f){for(var u=0,h=f.length,d=c.length;u<h;u++,d++)c[d]=f[u];return c};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCComponent=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=function(){function c(f,u){for(var h=[],d=2;d<arguments.length;d++)h[d-2]=arguments[d];this.root=f,this.initialize.apply(this,o([],i(h))),this.foundation=u===void 0?this.getDefaultFoundation():u,this.foundation.init(),this.initialSyncWithDOM()}return c.attachTo=function(f){return new c(f,new a.MDCFoundation({}))},c.prototype.initialize=function(){},c.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},c.prototype.initialSyncWithDOM=function(){},c.prototype.destroy=function(){this.foundation.destroy()},c.prototype.listen=function(f,u,h){this.root.addEventListener(f,u,h)},c.prototype.unlisten=function(f,u,h){this.root.removeEventListener(f,u,h)},c.prototype.emit=function(f,u,h){h===void 0&&(h=!1);var d;typeof CustomEvent=="function"?d=new CustomEvent(f,{bubbles:h,detail:u}):(d=document.createEvent("CustomEvent"),d.initCustomEvent(f,h,!1,u)),this.root.dispatchEvent(d)},c}();r.MDCComponent=l,r.default=l},"./packages/mdc-base/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.MDCFoundation=void 0;var i=function(){function o(a){a===void 0&&(a={}),this.adapter=a}return Object.defineProperty(o,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.destroy=function(){},o}();r.MDCFoundation=i,r.default=i},"./packages/mdc-dom/events.ts":function(n,r,s){/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.applyPassive=void 0;function i(a){return a===void 0&&(a=window),o(a)?{passive:!0}:!1}r.applyPassive=i;function o(a){a===void 0&&(a=window);var l=!1;try{var c={get passive(){return l=!0,!1}},f=function(){};a.document.addEventListener("test",f,c),a.document.removeEventListener("test",f,c)}catch{l=!1}return l}},"./packages/mdc-dom/ponyfill.ts":function(n,r,s){/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.estimateScrollWidth=r.matches=r.closest=void 0;function i(l,c){if(l.closest)return l.closest(c);for(var f=l;f;){if(o(f,c))return f;f=f.parentElement}return null}r.closest=i;function o(l,c){var f=l.matches||l.webkitMatchesSelector||l.msMatchesSelector;return f.call(l,c)}r.matches=o;function a(l){var c=l;if(c.offsetParent!==null)return c.scrollWidth;var f=c.cloneNode(!0);f.style.setProperty("position","absolute"),f.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(f);var u=f.scrollWidth;return document.documentElement.removeChild(f),u}r.estimateScrollWidth=a},"./packages/mdc-ripple/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var m=function(v,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(_[S]=E[S])},m(v,b)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");m(p,v);function b(){this.constructor=p}p.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__createBinding||(Object.create?function(m,p,v,b){b===void 0&&(b=v),Object.defineProperty(m,b,{enumerable:!0,get:function(){return p[v]}})}:function(m,p,v,b){b===void 0&&(b=v),m[b]=p[v]}),a=this&&this.__setModuleDefault||(Object.create?function(m,p){Object.defineProperty(m,"default",{enumerable:!0,value:p})}:function(m,p){m.default=p}),l=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var p={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&o(p,m,v);return a(p,m),p};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRipple=void 0;var c=s("./packages/mdc-base/component.ts"),f=s("./packages/mdc-dom/events.ts"),u=s("./packages/mdc-dom/ponyfill.ts"),h=s("./packages/mdc-ripple/foundation.ts"),d=l(s("./packages/mdc-ripple/util.ts")),g=function(m){i(p,m);function p(){var v=m!==null&&m.apply(this,arguments)||this;return v.disabled=!1,v}return p.attachTo=function(v,b){b===void 0&&(b={isUnbounded:void 0});var _=new p(v);return b.isUnbounded!==void 0&&(_.unbounded=b.isUnbounded),_},p.createAdapter=function(v){return{addClass:function(_){return v.root.classList.add(_)},browserSupportsCssVars:function(){return d.supportsCssVariables(window)},computeBoundingRect:function(){return v.root.getBoundingClientRect()},containsEventTarget:function(_){return v.root.contains(_)},deregisterDocumentInteractionHandler:function(_,E){return document.documentElement.removeEventListener(_,E,f.applyPassive())},deregisterInteractionHandler:function(_,E){return v.root.removeEventListener(_,E,f.applyPassive())},deregisterResizeHandler:function(_){return window.removeEventListener("resize",_)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return u.matches(v.root,":active")},isSurfaceDisabled:function(){return!!v.disabled},isUnbounded:function(){return!!v.unbounded},registerDocumentInteractionHandler:function(_,E){return document.documentElement.addEventListener(_,E,f.applyPassive())},registerInteractionHandler:function(_,E){return v.root.addEventListener(_,E,f.applyPassive())},registerResizeHandler:function(_){return window.addEventListener("resize",_)},removeClass:function(_){return v.root.classList.remove(_)},updateCssVariable:function(_,E){return v.root.style.setProperty(_,E)}}},Object.defineProperty(p.prototype,"unbounded",{get:function(){return!!this.isUnbounded},set:function(b){this.isUnbounded=!!b,this.setUnbounded()},enumerable:!1,configurable:!0}),p.prototype.activate=function(){this.foundation.activate()},p.prototype.deactivate=function(){this.foundation.deactivate()},p.prototype.layout=function(){this.foundation.layout()},p.prototype.getDefaultFoundation=function(){return new h.MDCRippleFoundation(p.createAdapter(this))},p.prototype.initialSyncWithDOM=function(){var v=this.root;this.isUnbounded="mdcRippleIsUnbounded"in v.dataset},p.prototype.setUnbounded=function(){this.foundation.setUnbounded(!!this.isUnbounded)},p}(c.MDCComponent);r.MDCRipple=g},"./packages/mdc-ripple/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.numbers=r.strings=r.cssClasses=void 0,r.cssClasses={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},r.strings={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},r.numbers={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300}},"./packages/mdc-ripple/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var m=function(v,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(_[S]=E[S])},m(v,b)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");m(p,v);function b(){this.constructor=p}p.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(m){for(var p,v=1,b=arguments.length;v<b;v++){p=arguments[v];for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(m[_]=p[_])}return m},o.apply(this,arguments)},a=this&&this.__values||function(m){var p=typeof Symbol=="function"&&Symbol.iterator,v=p&&m[p],b=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&b>=m.length&&(m=void 0),{value:m&&m[b++],done:!m}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRippleFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-ripple/constants.ts"),f=s("./packages/mdc-ripple/util.ts"),u=["touchstart","pointerdown","mousedown","keydown"],h=["touchend","pointerup","mouseup","contextmenu"],d=[],g=function(m){i(p,m);function p(v){var b=m.call(this,o(o({},p.defaultAdapter),v))||this;return b.activationAnimationHasEnded=!1,b.activationTimer=0,b.fgDeactivationRemovalTimer=0,b.fgScale="0",b.frame={width:0,height:0},b.initialSize=0,b.layoutFrame=0,b.maxRadius=0,b.unboundedCoords={left:0,top:0},b.activationState=b.defaultActivationState(),b.activationTimerCallback=function(){b.activationAnimationHasEnded=!0,b.runDeactivationUXLogicIfReady()},b.activateHandler=function(_){b.activateImpl(_)},b.deactivateHandler=function(){b.deactivateImpl()},b.focusHandler=function(){b.handleFocus()},b.blurHandler=function(){b.handleBlur()},b.resizeHandler=function(){b.layout()},b}return Object.defineProperty(p,"cssClasses",{get:function(){return c.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(p,"strings",{get:function(){return c.strings},enumerable:!1,configurable:!0}),Object.defineProperty(p,"numbers",{get:function(){return c.numbers},enumerable:!1,configurable:!0}),Object.defineProperty(p,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),p.prototype.init=function(){var v=this,b=this.supportsPressRipple();if(this.registerRootHandlers(b),b){var _=p.cssClasses,E=_.ROOT,S=_.UNBOUNDED;requestAnimationFrame(function(){v.adapter.addClass(E),v.adapter.isUnbounded()&&(v.adapter.addClass(S),v.layoutInternal())})}},p.prototype.destroy=function(){var v=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(p.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(p.cssClasses.FG_DEACTIVATION));var b=p.cssClasses,_=b.ROOT,E=b.UNBOUNDED;requestAnimationFrame(function(){v.adapter.removeClass(_),v.adapter.removeClass(E),v.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},p.prototype.activate=function(v){this.activateImpl(v)},p.prototype.deactivate=function(){this.deactivateImpl()},p.prototype.layout=function(){var v=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){v.layoutInternal(),v.layoutFrame=0})},p.prototype.setUnbounded=function(v){var b=p.cssClasses.UNBOUNDED;v?this.adapter.addClass(b):this.adapter.removeClass(b)},p.prototype.handleFocus=function(){var v=this;requestAnimationFrame(function(){return v.adapter.addClass(p.cssClasses.BG_FOCUSED)})},p.prototype.handleBlur=function(){var v=this;requestAnimationFrame(function(){return v.adapter.removeClass(p.cssClasses.BG_FOCUSED)})},p.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},p.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},p.prototype.registerRootHandlers=function(v){var b,_;if(v){try{for(var E=a(u),S=E.next();!S.done;S=E.next()){var w=S.value;this.adapter.registerInteractionHandler(w,this.activateHandler)}}catch(A){b={error:A}}finally{try{S&&!S.done&&(_=E.return)&&_.call(E)}finally{if(b)throw b.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},p.prototype.registerDeactivationHandlers=function(v){var b,_;if(v.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var E=a(h),S=E.next();!S.done;S=E.next()){var w=S.value;this.adapter.registerDocumentInteractionHandler(w,this.deactivateHandler)}}catch(A){b={error:A}}finally{try{S&&!S.done&&(_=E.return)&&_.call(E)}finally{if(b)throw b.error}}},p.prototype.deregisterRootHandlers=function(){var v,b;try{for(var _=a(u),E=_.next();!E.done;E=_.next()){var S=E.value;this.adapter.deregisterInteractionHandler(S,this.activateHandler)}}catch(w){v={error:w}}finally{try{E&&!E.done&&(b=_.return)&&b.call(_)}finally{if(v)throw v.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},p.prototype.deregisterDeactivationHandlers=function(){var v,b;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var _=a(h),E=_.next();!E.done;E=_.next()){var S=E.value;this.adapter.deregisterDocumentInteractionHandler(S,this.deactivateHandler)}}catch(w){v={error:w}}finally{try{E&&!E.done&&(b=_.return)&&b.call(_)}finally{if(v)throw v.error}}},p.prototype.removeCssVars=function(){var v=this,b=p.strings,_=Object.keys(b);_.forEach(function(E){E.indexOf("VAR_")===0&&v.adapter.updateCssVariable(b[E],null)})},p.prototype.activateImpl=function(v){var b=this;if(!this.adapter.isSurfaceDisabled()){var _=this.activationState;if(!_.isActivated){var E=this.previousActivationEvent,S=E&&v!==void 0&&E.type!==v.type;if(!S){_.isActivated=!0,_.isProgrammatic=v===void 0,_.activationEvent=v,_.wasActivatedByPointer=_.isProgrammatic?!1:v!==void 0&&(v.type==="mousedown"||v.type==="touchstart"||v.type==="pointerdown");var w=v!==void 0&&d.length>0&&d.some(function(A){return b.adapter.containsEventTarget(A)});if(w){this.resetActivationState();return}v!==void 0&&(d.push(v.target),this.registerDeactivationHandlers(v)),_.wasElementMadeActive=this.checkElementMadeActive(v),_.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){d=[],!_.wasElementMadeActive&&v!==void 0&&(v.key===" "||v.keyCode===32)&&(_.wasElementMadeActive=b.checkElementMadeActive(v),_.wasElementMadeActive&&b.animateActivation()),_.wasElementMadeActive||(b.activationState=b.defaultActivationState())})}}}},p.prototype.checkElementMadeActive=function(v){return v!==void 0&&v.type==="keydown"?this.adapter.isSurfaceActive():!0},p.prototype.animateActivation=function(){var v=this,b=p.strings,_=b.VAR_FG_TRANSLATE_START,E=b.VAR_FG_TRANSLATE_END,S=p.cssClasses,w=S.FG_DEACTIVATION,A=S.FG_ACTIVATION,L=p.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var $="",G="";if(!this.adapter.isUnbounded()){var k=this.getFgTranslationCoordinates(),se=k.startPoint,V=k.endPoint;$=se.x+"px, "+se.y+"px",G=V.x+"px, "+V.y+"px"}this.adapter.updateCssVariable(_,$),this.adapter.updateCssVariable(E,G),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(w),this.adapter.computeBoundingRect(),this.adapter.addClass(A),this.activationTimer=setTimeout(function(){v.activationTimerCallback()},L)},p.prototype.getFgTranslationCoordinates=function(){var v=this.activationState,b=v.activationEvent,_=v.wasActivatedByPointer,E;_?E=f.getNormalizedEventCoords(b,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):E={x:this.frame.width/2,y:this.frame.height/2},E={x:E.x-this.initialSize/2,y:E.y-this.initialSize/2};var S={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:E,endPoint:S}},p.prototype.runDeactivationUXLogicIfReady=function(){var v=this,b=p.cssClasses.FG_DEACTIVATION,_=this.activationState,E=_.hasDeactivationUXRun,S=_.isActivated,w=E||!S;w&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(b),this.fgDeactivationRemovalTimer=setTimeout(function(){v.adapter.removeClass(b)},c.numbers.FG_DEACTIVATION_MS))},p.prototype.rmBoundedActivationClasses=function(){var v=p.cssClasses.FG_ACTIVATION;this.adapter.removeClass(v),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},p.prototype.resetActivationState=function(){var v=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return v.previousActivationEvent=void 0},p.numbers.TAP_DELAY_MS)},p.prototype.deactivateImpl=function(){var v=this,b=this.activationState;if(b.isActivated){var _=o({},b);b.isProgrammatic?(requestAnimationFrame(function(){v.animateDeactivation(_)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){v.activationState.hasDeactivationUXRun=!0,v.animateDeactivation(_),v.resetActivationState()}))}},p.prototype.animateDeactivation=function(v){var b=v.wasActivatedByPointer,_=v.wasElementMadeActive;(b||_)&&this.runDeactivationUXLogicIfReady()},p.prototype.layoutInternal=function(){var v=this;this.frame=this.adapter.computeBoundingRect();var b=Math.max(this.frame.height,this.frame.width),_=function(){var w=Math.sqrt(Math.pow(v.frame.width,2)+Math.pow(v.frame.height,2));return w+p.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?b:_();var E=Math.floor(b*p.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&E%2!==0?this.initialSize=E-1:this.initialSize=E,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},p.prototype.updateLayoutCssVars=function(){var v=p.strings,b=v.VAR_FG_SIZE,_=v.VAR_LEFT,E=v.VAR_TOP,S=v.VAR_FG_SCALE;this.adapter.updateCssVariable(b,this.initialSize+"px"),this.adapter.updateCssVariable(S,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(_,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(E,this.unboundedCoords.top+"px"))},p}(l.MDCFoundation);r.MDCRippleFoundation=g,r.default=g},"./packages/mdc-ripple/util.ts":function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getNormalizedEventCoords=r.supportsCssVariables=void 0;var i;function o(l,c){c===void 0&&(c=!1);var f=l.CSS,u=i;if(typeof i=="boolean"&&!c)return i;var h=f&&typeof f.supports=="function";if(!h)return!1;var d=f.supports("--css-vars","yes"),g=f.supports("(--css-vars: yes)")&&f.supports("color","#00000000");return u=d||g,c||(i=u),u}r.supportsCssVariables=o;function a(l,c,f){if(!l)return{x:0,y:0};var u=c.x,h=c.y,d=u+f.left,g=h+f.top,m,p;if(l.type==="touchstart"){var v=l;m=v.changedTouches[0].pageX-d,p=v.changedTouches[0].pageY-g}else{var b=l;m=b.pageX-d,p=b.pageY-g}return{x:m,y:p}}r.getNormalizedEventCoords=a},"./packages/mdc-segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/index.ts"),r),o(s("./packages/mdc-segmented-button/segment/index.ts"),r),o(s("./packages/mdc-segmented-button/types.ts"),r)},"./packages/mdc-segmented-button/segment/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segment/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var d=function(m,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(v[_]=b[_])},d(m,p)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(d){for(var g,m=1,p=arguments.length;m<p;m++){g=arguments[m];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(d[v]=g[v])}return d},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegment=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-ripple/component.ts"),c=s("./packages/mdc-ripple/foundation.ts"),f=s("./packages/mdc-segmented-button/segment/constants.ts"),u=s("./packages/mdc-segmented-button/segment/foundation.ts"),h=function(d){i(g,d);function g(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(g.prototype,"ripple",{get:function(){return this.rippleComponent},enumerable:!1,configurable:!0}),g.attachTo=function(m){return new g(m)},g.prototype.initialize=function(m){var p=this;m===void 0&&(m=function(_,E){return new l.MDCRipple(_,E)});var v=o(o({},l.MDCRipple.createAdapter(this)),{computeBoundingRect:function(){return p.foundation.getDimensions()}});this.rippleComponent=m(this.root,new c.MDCRippleFoundation(v))},g.prototype.initialSyncWithDOM=function(){var m=this;this.handleClick=function(){m.foundation.handleClick()},this.listen(f.events.CLICK,this.handleClick)},g.prototype.destroy=function(){this.ripple.destroy(),this.unlisten(f.events.CLICK,this.handleClick),d.prototype.destroy.call(this)},g.prototype.getDefaultFoundation=function(){var m=this,p={isSingleSelect:function(){return m.isSingleSelect},getAttr:function(b){return m.root.getAttribute(b)},setAttr:function(b,_){m.root.setAttribute(b,_)},addClass:function(b){m.root.classList.add(b)},removeClass:function(b){m.root.classList.remove(b)},hasClass:function(b){return m.root.classList.contains(b)},notifySelectedChange:function(b){m.emit(f.events.SELECTED,{index:m.index,selected:b,segmentId:m.getSegmentId()},!0)},getRootBoundingClientRect:function(){return m.root.getBoundingClientRect()}};return new u.MDCSegmentedButtonSegmentFoundation(p)},g.prototype.setIndex=function(m){this.index=m},g.prototype.setIsSingleSelect=function(m){this.isSingleSelect=m},g.prototype.isSelected=function(){return this.foundation.isSelected()},g.prototype.setSelected=function(){this.foundation.setSelected()},g.prototype.setUnselected=function(){this.foundation.setUnselected()},g.prototype.getSegmentId=function(){return this.foundation.getSegmentId()},g}(a.MDCComponent);r.MDCSegmentedButtonSegment=h},"./packages/mdc-segmented-button/segment/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.attributes=r.booleans=void 0,r.booleans={TRUE:"true",FALSE:"false"},r.attributes={ARIA_CHECKED:"aria-checked",ARIA_PRESSED:"aria-pressed",DATA_SEGMENT_ID:"data-segment-id"},r.events={CLICK:"click",SELECTED:"selected"},r.cssClasses={SELECTED:"mdc-segmented-button__segment--selected"}},"./packages/mdc-segmented-button/segment/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(d,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(m[v]=p[v])},u(d,g)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(h,d);function g(){this.constructor=h}h.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var h,d=1,g=arguments.length;d<g;d++){h=arguments[d];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(u[m]=h[m])}return u},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegmentFoundation=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=s("./packages/mdc-segmented-button/segment/constants.ts"),c={bottom:0,height:0,left:0,right:0,top:0,width:0},f=function(u){i(h,u);function h(d){return u.call(this,o(o({},h.defaultAdapter),d))||this}return Object.defineProperty(h,"defaultAdapter",{get:function(){return{isSingleSelect:function(){return!1},getAttr:function(){return""},setAttr:function(){},addClass:function(){},removeClass:function(){},hasClass:function(){return!1},notifySelectedChange:function(){},getRootBoundingClientRect:function(){return c}}},enumerable:!1,configurable:!0}),h.prototype.isSelected=function(){return this.adapter.hasClass(l.cssClasses.SELECTED)},h.prototype.setSelected=function(){this.adapter.addClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.TRUE)},h.prototype.setUnselected=function(){this.adapter.removeClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.FALSE)},h.prototype.getSegmentId=function(){var d;return(d=this.adapter.getAttr(l.attributes.DATA_SEGMENT_ID))!==null&&d!==void 0?d:void 0},h.prototype.handleClick=function(){this.adapter.isSingleSelect()?this.setSelected():this.toggleSelection(),this.adapter.notifySelectedChange(this.isSelected())},h.prototype.getDimensions=function(){return this.adapter.getRootBoundingClientRect()},h.prototype.toggleSelection=function(){this.isSelected()?this.setUnselected():this.setSelected()},h.prototype.setAriaAttr=function(d){this.adapter.isSingleSelect()?this.adapter.setAttr(l.attributes.ARIA_CHECKED,d):this.adapter.setAttr(l.attributes.ARIA_PRESSED,d)},h}(a.MDCFoundation);r.MDCSegmentedButtonSegmentFoundation=f},"./packages/mdc-segmented-button/segment/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segment/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segment/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segment/component.ts"),r)},"./packages/mdc-segmented-button/segmented-button/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segmented-button/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var h=function(g,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(p[b]=v[b])},h(g,m)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(d,g);function m(){this.constructor=d}d.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),o=this&&this.__values||function(h){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&h[d],m=0;if(g)return g.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&m>=h.length&&(h=void 0),{value:h&&h[m++],done:!h}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButton=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-segmented-button/segment/component.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),u=function(h){i(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.attachTo=function(g){return new d(g)},Object.defineProperty(d.prototype,"segments",{get:function(){return this.segmentsList.slice()},enumerable:!1,configurable:!0}),d.prototype.initialize=function(g){g===void 0&&(g=function(p){return new l.MDCSegmentedButtonSegment(p)}),this.segmentFactory=g,this.segmentsList=this.instantiateSegments(this.segmentFactory)},d.prototype.instantiateSegments=function(g){var m=[].slice.call(this.root.querySelectorAll(c.selectors.SEGMENT));return m.map(function(p){return g(p)})},d.prototype.initialSyncWithDOM=function(){var g=this;this.handleSelected=function(_){g.foundation.handleSelected(_.detail)},this.listen(c.events.SELECTED,this.handleSelected);for(var m=this.foundation.isSingleSelect(),p=0;p<this.segmentsList.length;p++){var v=this.segmentsList[p];v.setIndex(p),v.setIsSingleSelect(m)}var b=this.segmentsList.filter(function(_){return _.isSelected()});if(m&&b.length===0&&this.segmentsList.length>0)throw new Error("No segment selected in singleSelect mdc-segmented-button");if(m&&b.length>1)throw new Error("Multiple segments selected in singleSelect mdc-segmented-button")},d.prototype.destroy=function(){var g,m;try{for(var p=o(this.segmentsList),v=p.next();!v.done;v=p.next()){var b=v.value;b.destroy()}}catch(_){g={error:_}}finally{try{v&&!v.done&&(m=p.return)&&m.call(p)}finally{if(g)throw g.error}}this.unlisten(c.events.SELECTED,this.handleSelected),h.prototype.destroy.call(this)},d.prototype.getDefaultFoundation=function(){var g=this,m={hasClass:function(v){return g.root.classList.contains(v)},getSegments:function(){return g.mappedSegments()},selectSegment:function(v){var b=g.mappedSegments().find(function(_){return _.index===v||_.segmentId===v});b&&g.segmentsList[b.index].setSelected()},unselectSegment:function(v){var b=g.mappedSegments().find(function(_){return _.index===v||_.segmentId===v});b&&g.segmentsList[b.index].setUnselected()},notifySelectedChange:function(v){g.emit(c.events.CHANGE,v,!0)}};return new f.MDCSegmentedButtonFoundation(m)},d.prototype.getSelectedSegments=function(){return this.foundation.getSelectedSegments()},d.prototype.selectSegment=function(g){this.foundation.selectSegment(g)},d.prototype.unselectSegment=function(g){this.foundation.unselectSegment(g)},d.prototype.isSegmentSelected=function(g){return this.foundation.isSegmentSelected(g)},d.prototype.mappedSegments=function(){return this.segmentsList.map(function(g,m){return{index:m,selected:g.isSelected(),segmentId:g.getSegmentId()}})},d}(a.MDCComponent);r.MDCSegmentedButton=u},"./packages/mdc-segmented-button/segmented-button/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.selectors=void 0,r.selectors={SEGMENT:".mdc-segmented-button__segment"},r.events={SELECTED:"selected",CHANGE:"change"},r.cssClasses={SINGLE_SELECT:"mdc-segmented-button--single-select"}},"./packages/mdc-segmented-button/segmented-button/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(d,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(m[v]=p[v])},u(d,g)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(h,d);function g(){this.constructor=h}h.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var h,d=1,g=arguments.length;d<g;d++){h=arguments[d];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(u[m]=h[m])}return u},o.apply(this,arguments)},a=this&&this.__values||function(u){var h=typeof Symbol=="function"&&Symbol.iterator,d=h&&u[h],g=0;if(d)return d.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&g>=u.length&&(u=void 0),{value:u&&u[g++],done:!u}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=function(u){i(h,u);function h(d){return u.call(this,o(o({},h.defaultAdapter),d))||this}return Object.defineProperty(h,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},getSegments:function(){return[]},selectSegment:function(){},unselectSegment:function(){},notifySelectedChange:function(){}}},enumerable:!1,configurable:!0}),h.prototype.selectSegment=function(d){this.adapter.selectSegment(d)},h.prototype.unselectSegment=function(d){this.adapter.unselectSegment(d)},h.prototype.getSelectedSegments=function(){return this.adapter.getSegments().filter(function(d){return d.selected})},h.prototype.isSegmentSelected=function(d){return this.adapter.getSegments().some(function(g){return(g.index===d||g.segmentId===d)&&g.selected})},h.prototype.isSingleSelect=function(){return this.adapter.hasClass(c.cssClasses.SINGLE_SELECT)},h.prototype.handleSelected=function(d){this.isSingleSelect()&&this.unselectPrevSelected(d.index),this.adapter.notifySelectedChange(d)},h.prototype.unselectPrevSelected=function(d){var g,m;try{for(var p=a(this.getSelectedSegments()),v=p.next();!v.done;v=p.next()){var b=v.value;b.index!==d&&this.unselectSegment(b.index)}}catch(_){g={error:_}}finally{try{v&&!v.done&&(m=p.return)&&m.call(p)}finally{if(g)throw g.error}}},h}(l.MDCFoundation);r.MDCSegmentedButtonFoundation=f},"./packages/mdc-segmented-button/segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/component.ts"),r)},"./packages/mdc-segmented-button/types.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})}})})})(rv);var sv=rv.exports;const Ii=[];function iv(e,t=Zt){let n;const r=new Set;function s(a){if(Xt(e,a)&&(e=a,n)){const l=!Ii.length;for(const c of r)c[1](),Ii.push(c,e);if(l){for(let c=0;c<Ii.length;c+=2)Ii[c][0](Ii[c+1]);Ii.length=0}}}function i(a){s(a(e))}function o(a,l=Zt){const c=[a,l];return r.add(c),r.size===1&&(n=t(s,i)||Zt),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function ut(e){return Object.entries(e).filter(([t,n])=>t!==""&&n).map(([t])=>t).join(" ")}function Tn(e,t,n,r={bubbles:!0},s=!1){if(typeof Event>"u")throw new Error("Event not defined.");if(!e)throw new Error("Tried to dipatch event without element.");const i=new CustomEvent(t,Object.assign(Object.assign({},r),{detail:n}));if(e==null||e.dispatchEvent(i),s&&t.startsWith("SMUI")){const o=new CustomEvent(t.replace(/^SMUI/g,()=>"MDC"),Object.assign(Object.assign({},r),{detail:n}));e==null||e.dispatchEvent(o),o.defaultPrevented&&i.preventDefault()}return i}function Wn(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s],o=i.indexOf("$");o!==-1&&t.indexOf(i.substring(0,o+1))!==-1||t.indexOf(i)===-1&&(r[i]=e[i])}return r}const P1=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,x5=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function _n(e){let t,n=[];e.$on=(s,i)=>{let o=s,a=()=>{};return t?a=t(o,i):n.push([o,i]),o.match(P1)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',o),()=>{a()}};function r(s){Ko(e,s)}return s=>{const i=[],o={};t=(a,l)=>{let c=a,f=l,u=!1;const h=c.match(P1),d=c.match(x5),g=h||d;if(c.match(/^SMUI:\w+:/)){const v=c.split(":");let b="";for(let _=0;_<v.length;_++)b+=_===v.length-1?":"+v[_]:v[_].split("-").map(E=>E.slice(0,1).toUpperCase()+E.slice(1)).join("");console.warn(`The event ${c.split("$")[0]} has been renamed to ${b.split("$")[0]}.`),c=b}if(g){const v=c.split(h?":":"$");c=v[0];const b=v.slice(1).reduce((_,E)=>(_[E]=!0,_),{});b.passive&&(u=u||{},u.passive=!0),b.nonpassive&&(u=u||{},u.passive=!1),b.capture&&(u=u||{},u.capture=!0),b.once&&(u=u||{},u.once=!0),b.preventDefault&&(f=A5(f)),b.stopPropagation&&(f=E5(f))}const m=kt(s,c,f,u),p=()=>{m();const v=i.indexOf(p);v>-1&&i.splice(v,1)};return i.push(p),c in o||(o[c]=kt(s,c,r)),p};for(let a=0;a<n.length;a++)t(n[a][0],n[a][1]);return{destroy:()=>{for(let a=0;a<i.length;a++)i[a]();for(let a of Object.entries(o))a[1]()}}}}function qt(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s];i.substring(0,t.length)===t&&(r[i.substring(t.length)]=e[i])}return r}function an(e,t){let n=[];if(t)for(let r=0;r<t.length;r++){const s=t[r],i=Array.isArray(s)?s[0]:s;Array.isArray(s)&&s.length>1?n.push(i(e,s[1])):n.push(i(e))}return{update(r){if((r&&r.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(r)for(let s=0;s<r.length;s++){const i=n[s];if(i&&i.update){const o=r[s];Array.isArray(o)&&o.length>1?i.update(o[1]):i.update()}}},destroy(){for(let r=0;r<n.length;r++){const s=n[r];s&&s.destroy&&s.destroy()}}}}function B5(e){let t;const n=e[10].default,r=Bt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&Nt(r,n,s,s[12],t?Gt(n,s[12],i,null):Vt(s[12]),null)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function G5(e){let t,n,r;const s=[{tag:e[3]},{use:[e[5],...e[0]]},{class:ut({[e[1]]:!0,"mdc-button__label":e[6]==="button","mdc-fab__label":e[6]==="fab","mdc-tab__text-label":e[6]==="tab","mdc-image-list__label":e[6]==="image-list","mdc-snackbar__label":e[6]==="snackbar","mdc-banner__text":e[6]==="banner","mdc-segmented-button__label":e[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":e[6]==="data-table:pagination","mdc-data-table__header-cell-label":e[6]==="data-table:sortable-header-cell"})},e[6]==="snackbar"?{"aria-atomic":"false"}:{},{tabindex:e[7]},e[8]];var i=e[2];function o(a){let l={$$slots:{default:[B5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ue(l,s[c]);return{props:l}}return i&&(t=yr(i,o(e)),e[11](t)),{c(){t&&Je(t.$$.fragment),n=pn()},m(a,l){t&&Ke(t,a,l),Ae(a,n,l),r=!0},p(a,[l]){const c=l&491?It(s,[l&8&&{tag:a[3]},l&33&&{use:[a[5],...a[0]]},l&66&&{class:ut({[a[1]]:!0,"mdc-button__label":a[6]==="button","mdc-fab__label":a[6]==="fab","mdc-tab__text-label":a[6]==="tab","mdc-image-list__label":a[6]==="image-list","mdc-snackbar__label":a[6]==="snackbar","mdc-banner__text":a[6]==="banner","mdc-segmented-button__label":a[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":a[6]==="data-table:pagination","mdc-data-table__header-cell-label":a[6]==="data-table:sortable-header-cell"})},l&64&&hn(a[6]==="snackbar"?{"aria-atomic":"false"}:{}),l&128&&{tabindex:a[7]},l&256&&hn(a[8])]):{};if(l&4096&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){Wt();const f=t;oe(f.$$.fragment,1,0,()=>{Qe(f,1)}),Yt()}i?(t=yr(i,o(a)),a[11](t),Je(t.$$.fragment),K(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&K(t.$$.fragment,a),r=!0)},o(a){t&&oe(t.$$.fragment,a),r=!1},d(a){a&&_e(n),e[11](null),t&&Qe(t,a)}}}function N5(e,t,n){const r=["use","class","component","tag","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,f,{component:u=Ar}=t,{tag:h=u===Ar?"span":void 0}=t;const d=fr("SMUI:label:context"),g=fr("SMUI:label:tabindex");function m(){return f.getElement()}function p(v){rt[v?"unshift":"push"](()=>{f=v,n(4,f)})}return e.$$set=v=>{t=Ue(Ue({},t),mn(v)),n(8,s=wt(t,r)),"use"in v&&n(0,l=v.use),"class"in v&&n(1,c=v.class),"component"in v&&n(2,u=v.component),"tag"in v&&n(3,h=v.tag),"$$scope"in v&&n(12,o=v.$$scope)},[l,c,u,h,f,a,d,g,s,m,i,p,o]}class eo extends Qt{constructor(t){super(),Kt(this,t,N5,G5,Xt,{use:0,class:1,component:2,tag:3,getElement:9})}get getElement(){return this.$$.ctx[9]}}function V5(e){let t;const n=e[11].default,r=Bt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&Nt(r,n,s,s[13],t?Gt(n,s[13],i,null):Vt(s[13]),null)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function $5(e){let t,n,r;const s=[{tag:e[4]},{use:[e[6],...e[0]]},{class:ut({[e[1]]:!0,"mdc-button__icon":e[8]==="button","mdc-fab__icon":e[8]==="fab","mdc-icon-button__icon":e[8]==="icon-button","mdc-icon-button__icon--on":e[8]==="icon-button"&&e[2],"mdc-tab__icon":e[8]==="tab","mdc-banner__icon":e[8]==="banner","mdc-segmented-button__icon":e[8]==="segmented-button"})},{"aria-hidden":"true"},e[7]?{focusable:"false",tabindex:"-1"}:{},e[9]];var i=e[3];function o(a){let l={$$slots:{default:[V5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ue(l,s[c]);return{props:l}}return i&&(t=yr(i,o(e)),e[12](t)),{c(){t&&Je(t.$$.fragment),n=pn()},m(a,l){t&&Ke(t,a,l),Ae(a,n,l),r=!0},p(a,[l]){const c=l&983?It(s,[l&16&&{tag:a[4]},l&65&&{use:[a[6],...a[0]]},l&262&&{class:ut({[a[1]]:!0,"mdc-button__icon":a[8]==="button","mdc-fab__icon":a[8]==="fab","mdc-icon-button__icon":a[8]==="icon-button","mdc-icon-button__icon--on":a[8]==="icon-button"&&a[2],"mdc-tab__icon":a[8]==="tab","mdc-banner__icon":a[8]==="banner","mdc-segmented-button__icon":a[8]==="segmented-button"})},s[3],l&128&&hn(a[7]?{focusable:"false",tabindex:"-1"}:{}),l&512&&hn(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&8&&i!==(i=a[3])){if(t){Wt();const f=t;oe(f.$$.fragment,1,0,()=>{Qe(f,1)}),Yt()}i?(t=yr(i,o(a)),a[12](t),Je(t.$$.fragment),K(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&K(t.$$.fragment,a),r=!0)},o(a){t&&oe(t.$$.fragment,a),r=!1},d(a){a&&_e(n),e[12](null),t&&Qe(t,a)}}}function U5(e,t,n){const r=["use","class","on","component","tag","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{on:f=!1}=t,u,{component:h=Ar}=t,{tag:d=h===Ar?"i":void 0}=t;const g=h===Y5,m=fr("SMUI:icon:context");function p(){return u.getElement()}function v(b){rt[b?"unshift":"push"](()=>{u=b,n(5,u)})}return e.$$set=b=>{t=Ue(Ue({},t),mn(b)),n(9,s=wt(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"on"in b&&n(2,f=b.on),"component"in b&&n(3,h=b.component),"tag"in b&&n(4,d=b.tag),"$$scope"in b&&n(13,o=b.$$scope)},[l,c,f,h,d,u,a,g,m,s,p,i,v,o]}class td extends Qt{constructor(t){super(),Kt(this,t,U5,$5,Xt,{use:0,class:1,on:2,component:3,tag:4,getElement:10})}get getElement(){return this.$$.ctx[10]}}function H5(e){let t=e[1],n,r,s=e[1]&&Tf(e);return{c(){s&&s.c(),n=pn()},m(i,o){s&&s.m(i,o),Ae(i,n,o),r=!0},p(i,o){i[1]?t?Xt(t,i[1])?(s.d(1),s=Tf(i),t=i[1],s.c(),s.m(n.parentNode,n)):s.p(i,o):(s=Tf(i),t=i[1],s.c(),s.m(n.parentNode,n)):t&&(s.d(1),s=null,t=i[1])},i(i){r||(K(s,i),r=!0)},o(i){oe(s,i),r=!1},d(i){i&&_e(n),s&&s.d(i)}}}function z5(e){let t=e[1],n,r=e[1]&&Cf(e);return{c(){r&&r.c(),n=pn()},m(s,i){r&&r.m(s,i),Ae(s,n,i)},p(s,i){s[1]?t?Xt(t,s[1])?(r.d(1),r=Cf(s),t=s[1],r.c(),r.m(n.parentNode,n)):r.p(s,i):(r=Cf(s),t=s[1],r.c(),r.m(n.parentNode,n)):t&&(r.d(1),r=null,t=s[1])},i:Zt,o:Zt,d(s){s&&_e(n),r&&r.d(s)}}}function Tf(e){let t,n,r,s,i;const o=e[8].default,a=Bt(o,e,e[7],null);let l=[e[5]],c={};for(let f=0;f<l.length;f+=1)c=Ue(c,l[f]);return{c(){t=dt(e[1]),a&&a.c(),Ol(e[1])(t,c)},m(f,u){Ae(f,t,u),a&&a.m(t,null),e[10](t),r=!0,s||(i=[_t(n=an.call(null,t,e[0])),_t(e[4].call(null,t))],s=!0)},p(f,u){a&&a.p&&(!r||u&128)&&Nt(a,o,f,f[7],r?Gt(o,f[7],u,null):Vt(f[7]),null),Ol(f[1])(t,c=It(l,[u&32&&f[5]])),n&&jt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(K(a,f),r=!0)},o(f){oe(a,f),r=!1},d(f){f&&_e(t),a&&a.d(f),e[10](null),s=!1,cn(i)}}}function Cf(e){let t,n,r,s,i=[e[5]],o={};for(let a=0;a<i.length;a+=1)o=Ue(o,i[a]);return{c(){t=dt(e[1]),Ol(e[1])(t,o)},m(a,l){Ae(a,t,l),e[9](t),r||(s=[_t(n=an.call(null,t,e[0])),_t(e[4].call(null,t))],r=!0)},p(a,l){Ol(a[1])(t,o=It(i,[l&32&&a[5]])),n&&jt(n.update)&&l&1&&n.update.call(null,a[0])},d(a){a&&_e(t),e[9](null),r=!1,cn(s)}}}function j5(e){let t,n,r,s;const i=[z5,H5],o=[];function a(l,c){return l[3]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=pn()},m(l,c){o[t].m(l,c),Ae(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(Wt(),oe(o[f],1,1,()=>{o[f]=null}),Yt(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),K(n,1),n.m(r.parentNode,r))},i(l){s||(K(n),s=!0)},o(l){oe(n),s=!1},d(l){l&&_e(r),o[t].d(l)}}}function q5(e,t,n){let r;const s=["use","tag","getElement"];let i=wt(t,s),{$$slots:o={},$$scope:a}=t,{use:l=[]}=t,{tag:c}=t;const f=_n(rn());let u;function h(){return u}function d(m){rt[m?"unshift":"push"](()=>{u=m,n(2,u)})}function g(m){rt[m?"unshift":"push"](()=>{u=m,n(2,u)})}return e.$$set=m=>{t=Ue(Ue({},t),mn(m)),n(5,i=wt(t,s)),"use"in m&&n(0,l=m.use),"tag"in m&&n(1,c=m.tag),"$$scope"in m&&n(7,a=m.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(c)>-1)},[l,c,u,r,f,i,h,a,o,d,g]}class Ar extends Qt{constructor(t){super(),Kt(this,t,q5,j5,Xt,{use:0,tag:1,getElement:6})}get getElement(){return this.$$.ctx[6]}}function X5(e){let t,n,r,s,i;const o=e[6].default,a=Bt(o,e,e[5],null);let l=[e[3]],c={};for(let f=0;f<l.length;f+=1)c=Ue(c,l[f]);return{c(){t=Ps("svg"),a&&a.c(),T1(t,c)},m(f,u){Ae(f,t,u),a&&a.m(t,null),e[7](t),r=!0,s||(i=[_t(n=an.call(null,t,e[0])),_t(e[2].call(null,t))],s=!0)},p(f,[u]){a&&a.p&&(!r||u&32)&&Nt(a,o,f,f[5],r?Gt(o,f[5],u,null):Vt(f[5]),null),T1(t,c=It(l,[u&8&&f[3]])),n&&jt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(K(a,f),r=!0)},o(f){oe(a,f),r=!1},d(f){f&&_e(t),a&&a.d(f),e[7](null),s=!1,cn(i)}}}function W5(e,t,n){const r=["use","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t;const l=_n(rn());let c;function f(){return c}function u(h){rt[h?"unshift":"push"](()=>{c=h,n(1,c)})}return e.$$set=h=>{t=Ue(Ue({},t),mn(h)),n(3,s=wt(t,r)),"use"in h&&n(0,a=h.use),"$$scope"in h&&n(5,o=h.$$scope)},[a,c,l,s,f,o,i,u]}class Y5 extends Qt{constructor(t){super(),Kt(this,t,W5,X5,Xt,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function Z5(e){let t;const n=e[4].default,r=Bt(n,e,e[3],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,[i]){r&&r.p&&(!t||i&8)&&Nt(r,n,s,s[3],t?Gt(n,s[3],i,null):Vt(s[3]),null)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function K5(e,t,n){let r,{$$slots:s={},$$scope:i}=t,{key:o}=t,{value:a}=t;const l=iv(a);return Xo(e,l,c=>n(5,r=c)),cr(o,l),ed(()=>{l.set(void 0)}),e.$$set=c=>{"key"in c&&n(1,o=c.key),"value"in c&&n(2,a=c.value),"$$scope"in c&&n(3,i=c.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&Kg(l,r=a,r)},[l,o,a,i,s]}class Yi extends Qt{constructor(t){super(),Kt(this,t,K5,Z5,Xt,{key:1,value:2})}}function L1(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}const Q5=e=>({segment:e&4}),O1=e=>({segment:e[28]});function J5(e){let t;const n=e[17].default,r=Bt(n,e,e[19],O1);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&524292)&&Nt(r,n,s,s[19],t?Gt(n,s[19],i,Q5):Vt(s[19]),O1)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function e3(e){let t,n,r;return t=new Yi({props:{key:"SMUI:segmented-button:segment:initialSelected",value:e[7][e[30]],$$slots:{default:[J5]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment),n=gt()},m(s,i){Ke(t,s,i),Ae(s,n,i),r=!0},p(s,i){const o={};i&4&&(o.value=s[7][s[30]]),i&524292&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){r||(K(t.$$.fragment,s),r=!0)},o(s){oe(t.$$.fragment,s),r=!1},d(s){s&&_e(n),Qe(t,s)}}}function R1(e,t){let n,r,s;return r=new Yi({props:{key:"SMUI:segmented-button:segment:index",value:t[30],$$slots:{default:[e3]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=pn(),Je(r.$$.fragment),this.first=n},m(i,o){Ae(i,n,o),Ke(r,i,o),s=!0},p(i,o){t=i;const a={};o&4&&(a.value=t[30]),o&524292&&(a.$$scope={dirty:o,ctx:t}),r.$set(a)},i(i){s||(K(r.$$.fragment,i),s=!0)},o(i){oe(r.$$.fragment,i),s=!1},d(i){i&&_e(n),Qe(r,i)}}}function t3(e){let t,n=[],r=new Map,s,i,o,a,l,c,f=Ur(e[2]);const u=g=>g[3](g[28]);for(let g=0;g<f.length;g+=1){let m=L1(e,f,g),p=u(m);r.set(p,n[g]=R1(p,m))}let h=[{class:s=ut({[e[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":e[4]})},{role:i=e[4]?"radiogroup":"group"},e[12]],d={};for(let g=0;g<h.length;g+=1)d=Ue(d,h[g]);return{c(){t=dt("div");for(let g=0;g<n.length;g+=1)n[g].c();At(t,d)},m(g,m){Ae(g,t,m);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(t,null);e[18](t),a=!0,l||(c=[_t(o=an.call(null,t,e[0])),_t(e[6].call(null,t)),kt(t,"SMUISegmentedButtonSegment:mount",e[9]),kt(t,"SMUISegmentedButtonSegment:unmount",e[10]),kt(t,"selected",e[11])],l=!0)},p(g,[m]){m&524428&&(f=Ur(g[2]),Wt(),n=nv(n,m,u,1,g,f,r,t,tv,R1,null,L1),Yt()),At(t,d=It(h,[(!a||m&18&&s!==(s=ut({[g[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":g[4]})))&&{class:s},(!a||m&16&&i!==(i=g[4]?"radiogroup":"group"))&&{role:i},m&4096&&g[12]])),o&&jt(o.update)&&m&1&&o.update.call(null,g[0])},i(g){if(!a){for(let m=0;m<f.length;m+=1)K(n[m]);a=!0}},o(g){for(let m=0;m<n.length;m+=1)oe(n[m]);a=!1},d(g){g&&_e(t);for(let m=0;m<n.length;m+=1)n[m].d();e[18](null),l=!1,cn(c)}}}function M1(e,t){let n=new Set(e);for(let r of t)n.delete(r);return n}function n3(e,t,n){const r=["use","class","segments","key","singleSelect","selected","getElement"];let s=wt(t,r),i,{$$slots:o={},$$scope:a}=t;const l=_n(rn());let{use:c=[]}=t,{class:f=""}=t,{segments:u=[]}=t,{key:h=ne=>ne}=t,{singleSelect:d=!1}=t,{selected:g=d?void 0:[]}=t,m,p,v={},b=new WeakMap,_=u.map(ne=>d&&g===ne||!d&&g.indexOf(ne)!==-1);cr("SMUI:icon:context","segmented-button"),cr("SMUI:label:context","segmented-button");const E=iv(d);Xo(e,E,ne=>n(21,i=ne)),cr("SMUI:segmented-button:singleSelect",E);let S=d?g:new Set(g);Yn(()=>(n(15,p=new sv.MDCSegmentedButtonFoundation({hasClass:ne=>j().classList.contains(ne),getSegments:()=>u.map((ne,U)=>({index:U,selected:d?g===ne:g.indexOf(ne)!==-1})),selectSegment:se,unselectSegment:V,notifySelectedChange:ne=>{ne.selected?se(ne.index):V(ne.index),Tn(j(),"change",ne)}})),p.init(),()=>{p.destroy()}));function w(ne){const U=ne.detail;G(U.segmentId,U)}function A(ne){const U=ne.detail;k(U.segmentId)}function L(ne){p&&p.handleSelected(ne.detail)}function $(ne){return ne instanceof Object?b.get(ne):v[ne]}function G(ne,U){ne instanceof Object?b.set(ne,U):v[ne]=U}function k(ne){ne instanceof Object?b.delete(ne):delete v[ne]}function se(ne){let U=u.indexOf(ne);U===-1&&(U=ne),d?g!==u[U]&&n(13,g=u[U]):g.indexOf(u[U])===-1&&(g.push(u[U]),n(13,g));const fe=$(u[U]);fe&&(fe.selected=!0)}function V(ne){let U=u.indexOf(ne);if(U===-1&&(U=ne),d)g===u[U]&&n(13,g=null);else{const ee=g.indexOf(u[U]);ee!==-1&&(g.splice(ee,1),n(13,g))}const fe=$(u[U]);fe&&(fe.selected=!1)}function j(){return m}function Oe(ne){rt[ne?"unshift":"push"](()=>{m=ne,n(5,m)})}return e.$$set=ne=>{t=Ue(Ue({},t),mn(ne)),n(12,s=wt(t,r)),"use"in ne&&n(0,c=ne.use),"class"in ne&&n(1,f=ne.class),"segments"in ne&&n(2,u=ne.segments),"key"in ne&&n(3,h=ne.key),"singleSelect"in ne&&n(4,d=ne.singleSelect),"selected"in ne&&n(13,g=ne.selected),"$$scope"in ne&&n(19,a=ne.$$scope)},e.$$.update=()=>{if(e.$$.dirty&16&&Kg(E,i=d,i),e.$$.dirty&106512&&p&&d&&S!==g&&(S!=null&&p.unselectSegment(S),n(16,S=g),g!=null&&p.selectSegment(g)),e.$$.dirty&106516&&p&&!d){const ne=new Set(g),U=M1(S,ne),fe=M1(ne,S);if(U.size||fe.size){n(16,S=ne);for(let ee of U){const He=u.indexOf(ee);He!==-1&&p.unselectSegment(He)}for(let ee of fe)p.selectSegment(u.indexOf(ee))}}},[c,f,u,h,d,m,l,_,E,w,A,L,s,g,j,p,S,o,Oe,a]}class r3 extends Qt{constructor(t){super(),Kt(this,t,n3,t3,Xt,{use:0,class:1,segments:2,key:3,singleSelect:4,selected:13,getElement:14})}get getElement(){return this.$$.ctx[14]}}var Za;function s3(e,t){t===void 0&&(t=!1);var n=e.CSS,r=Za;if(typeof Za=="boolean"&&!t)return Za;var s=n&&typeof n.supports=="function";if(!s)return!1;var i=n.supports("--css-vars","yes"),o=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return r=i||o,t||(Za=r),r}function i3(e,t,n){if(!e)return{x:0,y:0};var r=t.x,s=t.y,i=r+n.left,o=s+n.top,a,l;if(e.type==="touchstart"){var c=e;a=c.changedTouches[0].pageX-i,l=c.changedTouches[0].pageY-o}else{var f=e;a=f.pageX-i,l=f.pageY-o}return{x:a,y:l}}var Vu=function(e,t){return Vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Vu(e,t)};function Gn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ln=function(){return ln=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ln.apply(this,arguments)};function _r(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ov(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function o3(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Er=function(){function e(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function a3(e){return e===void 0&&(e=window),l3(e)?{passive:!0}:!1}function l3(e){e===void 0&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch{t=!1}return t}const av=Object.freeze(Object.defineProperty({__proto__:null,applyPassive:a3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function c3(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(lv(n,t))return n;n=n.parentElement}return null}function lv(e,t){var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return n.call(e,t)}function f3(e){var t=e;if(t.offsetParent!==null)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}const cv=Object.freeze(Object.defineProperty({__proto__:null,closest:c3,estimateScrollWidth:f3,matches:lv},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var u3={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},d3={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},I1={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var D1=["touchstart","pointerdown","mousedown","keydown"],F1=["touchend","pointerup","mouseup","contextmenu"],Ka=[],h3=function(e){Gn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(s){r.activateImpl(s)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return u3},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return d3},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return I1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this,r=this.supportsPressRipple();if(this.registerRootHandlers(r),r){var s=t.cssClasses,i=s.ROOT,o=s.UNBOUNDED;requestAnimationFrame(function(){n.adapter.addClass(i),n.adapter.isUnbounded()&&(n.adapter.addClass(o),n.layoutInternal())})}},t.prototype.destroy=function(){var n=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var r=t.cssClasses,s=r.ROOT,i=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter.removeClass(s),n.adapter.removeClass(i),n.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(n){this.activateImpl(n)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var n=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){n.layoutInternal(),n.layoutFrame=0})},t.prototype.setUnbounded=function(n){var r=t.cssClasses.UNBOUNDED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter.addClass(t.cssClasses.BG_FOCUSED)})},t.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter.removeClass(t.cssClasses.BG_FOCUSED)})},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(n){var r,s;if(n){try{for(var i=_r(D1),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerInteractionHandler(a,this.activateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(n){var r,s;if(n.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var i=_r(F1),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerDocumentInteractionHandler(a,this.deactivateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}},t.prototype.deregisterRootHandlers=function(){var n,r;try{for(var s=_r(D1),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterInteractionHandler(o,this.activateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var n,r;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var s=_r(F1),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterDocumentInteractionHandler(o,this.deactivateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.removeCssVars=function(){var n=this,r=t.strings,s=Object.keys(r);s.forEach(function(i){i.indexOf("VAR_")===0&&n.adapter.updateCssVariable(r[i],null)})},t.prototype.activateImpl=function(n){var r=this;if(!this.adapter.isSurfaceDisabled()){var s=this.activationState;if(!s.isActivated){var i=this.previousActivationEvent,o=i&&n!==void 0&&i.type!==n.type;if(!o){s.isActivated=!0,s.isProgrammatic=n===void 0,s.activationEvent=n,s.wasActivatedByPointer=s.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var a=n!==void 0&&Ka.length>0&&Ka.some(function(l){return r.adapter.containsEventTarget(l)});if(a){this.resetActivationState();return}n!==void 0&&(Ka.push(n.target),this.registerDeactivationHandlers(n)),s.wasElementMadeActive=this.checkElementMadeActive(n),s.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){Ka=[],!s.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(s.wasElementMadeActive=r.checkElementMadeActive(n),s.wasElementMadeActive&&r.animateActivation()),s.wasElementMadeActive||(r.activationState=r.defaultActivationState())})}}}},t.prototype.checkElementMadeActive=function(n){return n!==void 0&&n.type==="keydown"?this.adapter.isSurfaceActive():!0},t.prototype.animateActivation=function(){var n=this,r=t.strings,s=r.VAR_FG_TRANSLATE_START,i=r.VAR_FG_TRANSLATE_END,o=t.cssClasses,a=o.FG_DEACTIVATION,l=o.FG_ACTIVATION,c=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var f="",u="";if(!this.adapter.isUnbounded()){var h=this.getFgTranslationCoordinates(),d=h.startPoint,g=h.endPoint;f=d.x+"px, "+d.y+"px",u=g.x+"px, "+g.y+"px"}this.adapter.updateCssVariable(s,f),this.adapter.updateCssVariable(i,u),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer=setTimeout(function(){n.activationTimerCallback()},c)},t.prototype.getFgTranslationCoordinates=function(){var n=this.activationState,r=n.activationEvent,s=n.wasActivatedByPointer,i;s?i=i3(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):i={x:this.frame.width/2,y:this.frame.height/2},i={x:i.x-this.initialSize/2,y:i.y-this.initialSize/2};var o={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:i,endPoint:o}},t.prototype.runDeactivationUXLogicIfReady=function(){var n=this,r=t.cssClasses.FG_DEACTIVATION,s=this.activationState,i=s.hasDeactivationUXRun,o=s.isActivated,a=i||!o;a&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer=setTimeout(function(){n.adapter.removeClass(r)},I1.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var n=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(n),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var n=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return n.previousActivationEvent=void 0},t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var n=this,r=this.activationState;if(r.isActivated){var s=ln({},r);r.isProgrammatic?(requestAnimationFrame(function(){n.animateDeactivation(s)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){n.activationState.hasDeactivationUXRun=!0,n.animateDeactivation(s),n.resetActivationState()}))}},t.prototype.animateDeactivation=function(n){var r=n.wasActivatedByPointer,s=n.wasElementMadeActive;(r||s)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var n=this;this.frame=this.adapter.computeBoundingRect();var r=Math.max(this.frame.height,this.frame.width),s=function(){var o=Math.sqrt(Math.pow(n.frame.width,2)+Math.pow(n.frame.height,2));return o+t.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?r:s();var i=Math.floor(r*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&i%2!==0?this.initialSize=i-1:this.initialSize=i,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var n=t.strings,r=n.VAR_FG_SIZE,s=n.VAR_LEFT,i=n.VAR_TOP,o=n.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(s,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords.top+"px"))},t}(Er);const{applyPassive:Qa}=av,{matches:m3}=cv;function Hr(e,{ripple:t=!0,surface:n=!1,unbounded:r=!1,disabled:s=!1,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f=g=>e.classList.add(g),removeClass:u=g=>e.classList.remove(g),addStyle:h=(g,m)=>e.style.setProperty(g,m),initPromise:d=Promise.resolve()}={}){let g,m=fr("SMUI:addLayoutListener"),p,v=o,b=l,_=c;function E(){n?(f("mdc-ripple-surface"),i==="primary"?(f("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")):i==="secondary"?(u("smui-ripple-surface--primary"),f("smui-ripple-surface--secondary")):(u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary"))):(u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),g&&v!==o&&(v=o,o?g.activate():o===!1&&g.deactivate()),t&&!g?(g=new h3({addClass:f,browserSupportsCssVars:()=>s3(window),computeBoundingRect:()=>(a||e).getBoundingClientRect(),containsEventTarget:w=>e.contains(w),deregisterDocumentInteractionHandler:(w,A)=>document.documentElement.removeEventListener(w,A,Qa()),deregisterInteractionHandler:(w,A)=>(l||e).removeEventListener(w,A,Qa()),deregisterResizeHandler:w=>window.removeEventListener("resize",w),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>o??m3(c||e,":active"),isSurfaceDisabled:()=>!!s,isUnbounded:()=>!!r,registerDocumentInteractionHandler:(w,A)=>document.documentElement.addEventListener(w,A,Qa()),registerInteractionHandler:(w,A)=>(l||e).addEventListener(w,A,Qa()),registerResizeHandler:w=>window.addEventListener("resize",w),removeClass:u,updateCssVariable:h}),d.then(()=>{g&&(g.init(),g.setUnbounded(r))})):g&&!t&&d.then(()=>{g&&(g.destroy(),g=void 0)}),g&&(b!==l||_!==c)&&(b=l,_=c,g.destroy(),requestAnimationFrame(()=>{g&&(g.init(),g.setUnbounded(r))})),!t&&r&&f("mdc-ripple-upgraded--unbounded")}E(),m&&(p=m(S));function S(){g&&g.layout()}return{update(w){({ripple:t,surface:n,unbounded:r,disabled:s,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f,removeClass:u,addStyle:h,initPromise:d}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:A=>e.classList.add(A),removeClass:A=>e.classList.remove(A),addStyle:(A,L)=>e.style.setProperty(A,L),initPromise:Promise.resolve()},w)),E()},destroy(){g&&(g.destroy(),g=void 0,u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),p&&p()}}}function k1(e){let t;return{c(){t=dt("div"),pt(t,"class","mdc-segmented-button__ripple")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function x1(e){let t;return{c(){t=dt("div"),pt(t,"class","mdc-segmented-button__segment__touch")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function p3(e){let t,n,r,s,i,o,a,l,c,f,u,h,d=e[4]&&k1();const g=e[23].default,m=Bt(g,e,e[22],null);let p=e[5]&&x1(),v=[{class:r=ut({[e[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":e[5],"mdc-segmented-button__segment--selected":e[0],...e[8]})},{style:s=Object.entries(e[9]).map(B1).concat([e[3]]).join(" ")},{role:i=e[14]?"radio":void 0},{"aria-pressed":o=e[14]?void 0:e[0]?"true":"false"},{"aria-checked":a=e[14]?e[0]?"true":"false":void 0},e[10],e[19]],b={};for(let _=0;_<v.length;_+=1)b=Ue(b,v[_]);return{c(){t=dt("button"),d&&d.c(),n=pn(),m&&m.c(),p&&p.c(),At(t,b)},m(_,E){Ae(_,t,E),d&&d.m(t,null),xt(t,n),m&&m.m(t,null),p&&p.m(t,null),t.autofocus&&t.focus(),e[24](t),f=!0,u||(h=[_t(l=Hr.call(null,t,{ripple:e[4],unbounded:!1,addClass:e[16],removeClass:e[17],addStyle:e[18]})),_t(e[11].call(null,t)),_t(c=an.call(null,t,e[1])),kt(t,"click",e[25])],u=!0)},p(_,E){_[4]?d||(d=k1(),d.c(),d.m(t,n)):d&&(d.d(1),d=null),m&&m.p&&(!f||E[0]&4194304)&&Nt(m,g,_,_[22],f?Gt(g,_[22],E,null):Vt(_[22]),null),_[5]?p||(p=x1(),p.c(),p.m(t,null)):p&&(p.d(1),p=null),At(t,b=It(v,[(!f||E[0]&293&&r!==(r=ut({[_[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":_[5],"mdc-segmented-button__segment--selected":_[0],..._[8]})))&&{class:r},(!f||E[0]&520&&s!==(s=Object.entries(_[9]).map(B1).concat([_[3]]).join(" ")))&&{style:s},{role:i},(!f||E[0]&1&&o!==(o=_[14]?void 0:_[0]?"true":"false"))&&{"aria-pressed":o},(!f||E[0]&1&&a!==(a=_[14]?_[0]?"true":"false":void 0))&&{"aria-checked":a},E[0]&1024&&_[10],E[0]&524288&&_[19]])),l&&jt(l.update)&&E[0]&16&&l.update.call(null,{ripple:_[4],unbounded:!1,addClass:_[16],removeClass:_[17],addStyle:_[18]}),c&&jt(c.update)&&E[0]&2&&c.update.call(null,_[1])},i(_){f||(K(m,_),f=!0)},o(_){oe(m,_),f=!1},d(_){_&&_e(t),d&&d.d(),m&&m.d(_),p&&p.d(),e[24](null),u=!1,cn(h)}}}const B1=([e,t])=>`${e}: ${t};`;function g3(e,t,n){const r=["use","class","style","segment","ripple","touch","selected","getElement"];let s=wt(t,r),i,o,a,{$$slots:l={},$$scope:c}=t;const f=_n(rn());let u=()=>{};function h(pe){return pe===u}let{use:d=[]}=t,{class:g=""}=t,{style:m=""}=t,{segment:p}=t,{ripple:v=!0}=t,{touch:b=!1}=t;const _=fr("SMUI:segmented-button:segment:initialSelected");Xo(e,_,pe=>n(28,a=pe));let{selected:E=u}=t,S=!h(E);h(E)&&(E=a);let w,A,L={},$={},G={};const k=fr("SMUI:segmented-button:singleSelect");Xo(e,k,pe=>n(27,o=pe));const se=fr("SMUI:segmented-button:segment:index");if(Xo(e,se,pe=>n(26,i=pe)),!p)throw new Error("The segment property is required! It should be passed down from the SegmentedButton to the Segment.");Yn(()=>{n(6,A=new sv.MDCSegmentedButtonSegmentFoundation({isSingleSelect:()=>o,getAttr:ne,setAttr:U,addClass:j,removeClass:Oe,hasClass:V,notifySelectedChange:Dt=>{n(0,E=Dt),Tn(ee(),"selected",{index:i,selected:E,segmentId:p})},getRootBoundingClientRect:()=>ee().getBoundingClientRect()}));const pe={segmentId:p,get selected(){return E},set selected(Dt){E!==Dt&&n(0,E=Dt)}};return Tn(ee(),"SMUISegmentedButtonSegment:mount",pe),A.init(),()=>{Tn(ee(),"SMUISegmentedButtonSegment:unmount",pe),A.destroy()}});function V(pe){return pe in L?L[pe]:ee().classList.contains(pe)}function j(pe){L[pe]||n(8,L[pe]=!0,L)}function Oe(pe){(!(pe in L)||L[pe])&&n(8,L[pe]=!1,L)}function ne(pe){var Dt;return pe in G?(Dt=G[pe])!==null&&Dt!==void 0?Dt:null:ee().getAttribute(pe)}function U(pe,Dt){G[pe]!==Dt&&n(10,G[pe]=Dt,G)}function fe(pe,Dt){$[pe]!=Dt&&(Dt===""||Dt==null?(delete $[pe],n(9,$)):n(9,$[pe]=Dt,$))}function ee(){return w}function He(pe){rt[pe?"unshift":"push"](()=>{w=pe,n(7,w)})}const Mt=pe=>!pe.defaultPrevented&&A&&!S&&A.handleClick();return e.$$set=pe=>{t=Ue(Ue({},t),mn(pe)),n(19,s=wt(t,r)),"use"in pe&&n(1,d=pe.use),"class"in pe&&n(2,g=pe.class),"style"in pe&&n(3,m=pe.style),"segment"in pe&&n(20,p=pe.segment),"ripple"in pe&&n(4,v=pe.ripple),"touch"in pe&&n(5,b=pe.touch),"selected"in pe&&n(0,E=pe.selected),"$$scope"in pe&&n(22,c=pe.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&65&&A&&A.isSelected()&&!E&&A.setUnselected(),e.$$.dirty[0]&65&&A&&!A.isSelected()&&E&&A.setSelected()},[E,d,g,m,v,b,A,w,L,$,G,f,_,S,k,se,j,Oe,fe,s,p,ee,c,l,He,Mt]}class v3 extends Qt{constructor(t){super(),Kt(this,t,g3,p3,Xt,{use:1,class:2,style:3,segment:20,ripple:4,touch:5,selected:0,getElement:21},null,[-1,-1])}get getElement(){return this.$$.ctx[21]}}function G1(e){let t;return{c(){t=dt("div"),pt(t,"class","mdc-button__touch")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function b3(e){let t,n,r,s;const i=e[28].default,o=Bt(i,e,e[30],null);let a=e[6]&&G1();return{c(){t=dt("div"),n=gt(),o&&o.c(),a&&a.c(),r=pn(),pt(t,"class","mdc-button__ripple")},m(l,c){Ae(l,t,c),Ae(l,n,c),o&&o.m(l,c),a&&a.m(l,c),Ae(l,r,c),s=!0},p(l,c){o&&o.p&&(!s||c[0]&1073741824)&&Nt(o,i,l,l[30],s?Gt(i,l[30],c,null):Vt(l[30]),null),l[6]?a||(a=G1(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(l){s||(K(o,l),s=!0)},o(l){oe(o,l),s=!1},d(l){l&&(_e(t),_e(n),_e(r)),o&&o.d(l),a&&a.d(l)}}}function _3(e){let t,n,r;const s=[{tag:e[10]},{use:[[Hr,{ripple:e[3],unbounded:!1,color:e[4],disabled:!!e[23].disabled,addClass:e[19],removeClass:e[20],addStyle:e[21]}],e[17],...e[0]]},{class:ut({[e[1]]:!0,"mdc-button":!0,"mdc-button--raised":e[5]==="raised","mdc-button--unelevated":e[5]==="unelevated","mdc-button--outlined":e[5]==="outlined","smui-button--color-secondary":e[4]==="secondary","mdc-button--touch":e[6],"mdc-card__action":e[18]==="card:action","mdc-card__action--button":e[18]==="card:action","mdc-dialog__button":e[18]==="dialog:action","mdc-top-app-bar__navigation-icon":e[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":e[18]==="top-app-bar:action","mdc-snackbar__action":e[18]==="snackbar:actions","mdc-banner__secondary-action":e[18]==="banner"&&e[8],"mdc-banner__primary-action":e[18]==="banner"&&!e[8],"mdc-tooltip__action":e[18]==="tooltip:rich-actions",...e[12]})},{style:Object.entries(e[13]).map(N1).concat([e[2]]).join(" ")},e[16],e[15],e[14],{href:e[7]},e[23]];var i=e[9];function o(a){let l={$$slots:{default:[b3]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ue(l,s[c]);return{props:l}}return i&&(t=yr(i,o(e)),e[29](t),t.$on("click",e[22])),{c(){t&&Je(t.$$.fragment),n=pn()},m(a,l){t&&Ke(t,a,l),Ae(a,n,l),r=!0},p(a,l){const c=l[0]&12580351?It(s,[l[0]&1024&&{tag:a[10]},l[0]&12189721&&{use:[[Hr,{ripple:a[3],unbounded:!1,color:a[4],disabled:!!a[23].disabled,addClass:a[19],removeClass:a[20],addStyle:a[21]}],a[17],...a[0]]},l[0]&266610&&{class:ut({[a[1]]:!0,"mdc-button":!0,"mdc-button--raised":a[5]==="raised","mdc-button--unelevated":a[5]==="unelevated","mdc-button--outlined":a[5]==="outlined","smui-button--color-secondary":a[4]==="secondary","mdc-button--touch":a[6],"mdc-card__action":a[18]==="card:action","mdc-card__action--button":a[18]==="card:action","mdc-dialog__button":a[18]==="dialog:action","mdc-top-app-bar__navigation-icon":a[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":a[18]==="top-app-bar:action","mdc-snackbar__action":a[18]==="snackbar:actions","mdc-banner__secondary-action":a[18]==="banner"&&a[8],"mdc-banner__primary-action":a[18]==="banner"&&!a[8],"mdc-tooltip__action":a[18]==="tooltip:rich-actions",...a[12]})},l[0]&8196&&{style:Object.entries(a[13]).map(N1).concat([a[2]]).join(" ")},l[0]&65536&&hn(a[16]),l[0]&32768&&hn(a[15]),l[0]&16384&&hn(a[14]),l[0]&128&&{href:a[7]},l[0]&8388608&&hn(a[23])]):{};if(l[0]&1073741888&&(c.$$scope={dirty:l,ctx:a}),l[0]&512&&i!==(i=a[9])){if(t){Wt();const f=t;oe(f.$$.fragment,1,0,()=>{Qe(f,1)}),Yt()}i?(t=yr(i,o(a)),a[29](t),t.$on("click",a[22]),Je(t.$$.fragment),K(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&K(t.$$.fragment,a),r=!0)},o(a){t&&oe(t.$$.fragment,a),r=!1},d(a){a&&_e(n),e[29](null),t&&Qe(t,a)}}}const N1=([e,t])=>`${e}: ${t};`;function y3(e,t,n){let r,s,i;const o=["use","class","style","ripple","color","variant","touch","href","action","defaultAction","secondary","component","tag","getElement"];let a=wt(t,o),{$$slots:l={},$$scope:c}=t;const f=_n(rn());let{use:u=[]}=t,{class:h=""}=t,{style:d=""}=t,{ripple:g=!0}=t,{color:m="primary"}=t,{variant:p="text"}=t,{touch:v=!1}=t,{href:b=void 0}=t,{action:_="close"}=t,{defaultAction:E=!1}=t,{secondary:S=!1}=t,w,A={},L={},$=fr("SMUI:button:context"),{component:G=Ar}=t,{tag:k=G===Ar?b==null?"button":"a":void 0}=t,se=a.disabled;cr("SMUI:label:context","button"),cr("SMUI:icon:context","button");function V(ee){A[ee]||n(12,A[ee]=!0,A)}function j(ee){(!(ee in A)||A[ee])&&n(12,A[ee]=!1,A)}function Oe(ee,He){L[ee]!=He&&(He===""||He==null?(delete L[ee],n(13,L)):n(13,L[ee]=He,L))}function ne(){$==="banner"&&Tn(U(),S?"SMUIBannerButton:secondaryActionClick":"SMUIBannerButton:primaryActionClick")}function U(){return w.getElement()}function fe(ee){rt[ee?"unshift":"push"](()=>{w=ee,n(11,w)})}return e.$$set=ee=>{n(31,t=Ue(Ue({},t),mn(ee))),n(23,a=wt(t,o)),"use"in ee&&n(0,u=ee.use),"class"in ee&&n(1,h=ee.class),"style"in ee&&n(2,d=ee.style),"ripple"in ee&&n(3,g=ee.ripple),"color"in ee&&n(4,m=ee.color),"variant"in ee&&n(5,p=ee.variant),"touch"in ee&&n(6,v=ee.touch),"href"in ee&&n(7,b=ee.href),"action"in ee&&n(24,_=ee.action),"defaultAction"in ee&&n(25,E=ee.defaultAction),"secondary"in ee&&n(8,S=ee.secondary),"component"in ee&&n(9,G=ee.component),"tag"in ee&&n(10,k=ee.tag),"$$scope"in ee&&n(30,c=ee.$$scope)},e.$$.update=()=>{if(n(16,r=$==="dialog:action"&&_!=null?{"data-mdc-dialog-action":_}:{action:t.action}),n(15,s=$==="dialog:action"&&E?{"data-mdc-dialog-button-default":""}:{default:t.default}),n(14,i=$==="banner"?{}:{secondary:t.secondary}),se!==a.disabled){const ee=U();"blur"in ee&&ee.blur(),n(27,se=a.disabled)}},t=mn(t),[u,h,d,g,m,p,v,b,S,G,k,w,A,L,i,s,r,f,$,V,j,Oe,ne,a,_,E,U,se,l,fe,c]}class wl extends Qt{constructor(t){super(),Kt(this,t,y3,_3,Xt,{use:0,class:1,style:2,ripple:3,color:4,variant:5,touch:6,href:7,action:24,defaultAction:25,secondary:8,component:9,tag:10,getElement:26},null,[-1,-1])}get getElement(){return this.$$.ctx[26]}}function V1(e,t,n){const r=e.slice();return r[9]=t[n],r}function $1(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function U1(e,t,n){const r=e.slice();return r[15]=t[n],r[16]=t,r[17]=n,r}function A3(e){let t=e[18]+"",n;return{c(){n=Xn(t)},m(r,s){Ae(r,n,s)},p(r,s){s&262144&&t!==(t=r[18]+"")&&li(n,t)},d(r){r&&_e(n)}}}function E3(e){let t,n;return t=new eo({props:{$$slots:{default:[A3]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s&786432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function S3(e){let t,n;return t=new v3({props:{segment:e[18],$$slots:{default:[E3]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s&262144&&(i.segment=r[18]),s&786432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function w3(e){let t;return{c(){t=Xn("Clear all")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function T3(e){let t,n;return t=new eo({props:{$$slots:{default:[w3]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s&524288&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function H1(e){let t,n,r;function s(o){e[8](o,e[15],e[16],e[17])}let i={x:e[17],y:e[14],mode:e[3].indexOf(e[2]),cellsRotated:e[1]};return e[15]!==void 0&&(i.value=e[15]),t=new F5({props:i}),rt.push(()=>wn(t,"value",s)),{c(){Je(t.$$.fragment)},m(o,a){Ke(t,o,a),r=!0},p(o,a){e=o;const l={};a&4&&(l.mode=e[3].indexOf(e[2])),a&2&&(l.cellsRotated=e[1]),!n&&a&1&&(n=!0,l.value=e[15],Sn(()=>n=!1)),t.$set(l)},i(o){r||(K(t.$$.fragment,o),r=!0)},o(o){oe(t.$$.fragment,o),r=!1},d(o){Qe(t,o)}}}function z1(e){let t,n,r=!e[15]===e[9]&&H1(e);return{c(){r&&r.c(),t=pn()},m(s,i){r&&r.m(s,i),Ae(s,t,i),n=!0},p(s,i){!s[15]===s[9]?r?(r.p(s,i),i&1&&K(r,1)):(r=H1(s),r.c(),K(r,1),r.m(t.parentNode,t)):r&&(Wt(),oe(r,1,1,()=>{r=null}),Yt())},i(s){n||(K(r),n=!0)},o(s){oe(r),n=!1},d(s){s&&_e(t),r&&r.d(s)}}}function j1(e){let t,n,r=Ur(e[12]),s=[];for(let o=0;o<r.length;o+=1)s[o]=z1(U1(e,r,o));const i=o=>oe(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=pn()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);Ae(o,t,a),n=!0},p(o,a){if(a&15){r=Ur(o[12]);let l;for(l=0;l<r.length;l+=1){const c=U1(o,r,l);s[l]?(s[l].p(c,a),K(s[l],1)):(s[l]=z1(c),s[l].c(),K(s[l],1),s[l].m(t.parentNode,t))}for(Wt(),l=r.length;l<s.length;l+=1)i(l);Yt()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)K(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)oe(s[a]);n=!1},d(o){o&&_e(t),Ju(s,o)}}}function q1(e){let t,n,r=Ur(e[0]),s=[];for(let o=0;o<r.length;o+=1)s[o]=j1($1(e,r,o));const i=o=>oe(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=pn()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);Ae(o,t,a),n=!0},p(o,a){if(a&15){r=Ur(o[0]);let l;for(l=0;l<r.length;l+=1){const c=$1(o,r,l);s[l]?(s[l].p(c,a),K(s[l],1)):(s[l]=j1(c),s[l].c(),K(s[l],1),s[l].m(t.parentNode,t))}for(Wt(),l=r.length;l<s.length;l+=1)i(l);Yt()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)K(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)oe(s[a]);n=!1},d(o){o&&_e(t),Ju(s,o)}}}function C3(e){let t,n,r,s,i,o,a,l,c;function f(m){e[7](m)}let u={segments:e[3],singleSelect:!0,$$slots:{default:[S3,({segment:m})=>({18:m}),({segment:m})=>m?262144:0]},$$scope:{ctx:e}};e[2]!==void 0&&(u.selected=e[2]),n=new r3({props:u}),rt.push(()=>wn(n,"selected",f)),i=new wl({props:{variant:"outlined",$$slots:{default:[T3]},$$scope:{ctx:e}}}),i.$on("click",e[4]);let h=Ur([!0,!1]),d=[];for(let m=0;m<2;m+=1)d[m]=q1(V1(e,h,m));const g=m=>oe(d[m],1,1,()=>{d[m]=null});return{c(){t=dt("div"),Je(n.$$.fragment),s=gt(),Je(i.$$.fragment),o=gt(),a=Ps("svg");for(let m=0;m<2;m+=1)d[m].c();pt(t,"class","toolbar svelte-1u4pgn3"),$o(a,"width",e[5]+"px"),$o(a,"min-width",e[5]+"px"),$o(a,"min-height",e[6]+"px"),$o(a,"height",e[6]+"px"),pt(a,"viewBox",l=e[1]?`-10 -10 ${e[0][0].length*260+180} ${e[0].length*225+100}`:`-10 -10 ${e[0][0].length*225+100} ${e[0].length*260+180}`),pt(a,"class","svelte-1u4pgn3")},m(m,p){Ae(m,t,p),Ke(n,t,null),xt(t,s),Ke(i,t,null),Ae(m,o,p),Ae(m,a,p);for(let v=0;v<2;v+=1)d[v]&&d[v].m(a,null);c=!0},p(m,[p]){const v={};p&786432&&(v.$$scope={dirty:p,ctx:m}),!r&&p&4&&(r=!0,v.selected=m[2],Sn(()=>r=!1)),n.$set(v);const b={};if(p&524288&&(b.$$scope={dirty:p,ctx:m}),i.$set(b),p&15){h=Ur([!0,!1]);let _;for(_=0;_<2;_+=1){const E=V1(m,h,_);d[_]?(d[_].p(E,p),K(d[_],1)):(d[_]=q1(E),d[_].c(),K(d[_],1),d[_].m(a,null))}for(Wt(),_=2;_<2;_+=1)g(_);Yt()}(!c||p&3&&l!==(l=m[1]?`-10 -10 ${m[0][0].length*260+180} ${m[0].length*225+100}`:`-10 -10 ${m[0][0].length*225+100} ${m[0].length*260+180}`))&&pt(a,"viewBox",l)},i(m){if(!c){K(n.$$.fragment,m),K(i.$$.fragment,m);for(let p=0;p<2;p+=1)K(d[p]);c=!0}},o(m){oe(n.$$.fragment,m),oe(i.$$.fragment,m),d=d.filter(Boolean);for(let p=0;p<2;p+=1)oe(d[p]);c=!1},d(m){m&&(_e(t),_e(o),_e(a)),Qe(n),Qe(i),Ju(d,m)}}}function P3(e,t,n){let{model:r}=t,{cellsRotated:s=!1}=t,i="vacant";const o=["clear","hole","vacant","capped"];function a(){window.confirm("Are you sure?")&&n(0,r=Array(20).fill(0).map(()=>Array(30).fill(0)))}let l=(r[0].length*(s?260:225)+180+10)/6,c=(r.length*(s?225:260)+180+10)/6;function f(h){i=h,n(2,i)}function u(h,d,g,m){g[m]=h,n(0,r)}return e.$$set=h=>{"model"in h&&n(0,r=h.model),"cellsRotated"in h&&n(1,s=h.cellsRotated)},[r,s,i,o,a,l,c,f,u]}class L3 extends Qt{constructor(t){super(),Kt(this,t,P3,C3,Xt,{model:0,cellsRotated:1})}}var O3=R3;function R3(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var M3=I3;function I3(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var D3=F3;function F3(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var fv=k3;function k3(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var x3=B3;function B3(e,t){if(e===t){var n=t[1],r=t[2],s=t[3],i=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=s,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}var G3=N3;function N3(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],g=t[12],m=t[13],p=t[14],v=t[15],b=n*a-r*o,_=n*l-s*o,E=n*c-i*o,S=r*l-s*a,w=r*c-i*a,A=s*c-i*l,L=f*m-u*g,$=f*p-h*g,G=f*v-d*g,k=u*p-h*m,se=u*v-d*m,V=h*v-d*p,j=b*V-_*se+E*k+S*G-w*$+A*L;return j?(j=1/j,e[0]=(a*V-l*se+c*k)*j,e[1]=(s*se-r*V-i*k)*j,e[2]=(m*A-p*w+v*S)*j,e[3]=(h*w-u*A-d*S)*j,e[4]=(l*G-o*V-c*$)*j,e[5]=(n*V-s*G+i*$)*j,e[6]=(p*E-g*A-v*_)*j,e[7]=(f*A-h*E+d*_)*j,e[8]=(o*se-a*G+c*L)*j,e[9]=(r*G-n*se-i*L)*j,e[10]=(g*w-m*E+v*b)*j,e[11]=(u*E-f*w-d*b)*j,e[12]=(a*$-o*k-l*L)*j,e[13]=(n*k-r*$+s*L)*j,e[14]=(m*_-g*S-p*b)*j,e[15]=(f*S-u*_+h*b)*j,e):null}var V3=$3;function $3(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],g=t[12],m=t[13],p=t[14],v=t[15];return e[0]=a*(h*v-d*p)-u*(l*v-c*p)+m*(l*d-c*h),e[1]=-(r*(h*v-d*p)-u*(s*v-i*p)+m*(s*d-i*h)),e[2]=r*(l*v-c*p)-a*(s*v-i*p)+m*(s*c-i*l),e[3]=-(r*(l*d-c*h)-a*(s*d-i*h)+u*(s*c-i*l)),e[4]=-(o*(h*v-d*p)-f*(l*v-c*p)+g*(l*d-c*h)),e[5]=n*(h*v-d*p)-f*(s*v-i*p)+g*(s*d-i*h),e[6]=-(n*(l*v-c*p)-o*(s*v-i*p)+g*(s*c-i*l)),e[7]=n*(l*d-c*h)-o*(s*d-i*h)+f*(s*c-i*l),e[8]=o*(u*v-d*m)-f*(a*v-c*m)+g*(a*d-c*u),e[9]=-(n*(u*v-d*m)-f*(r*v-i*m)+g*(r*d-i*u)),e[10]=n*(a*v-c*m)-o*(r*v-i*m)+g*(r*c-i*a),e[11]=-(n*(a*d-c*u)-o*(r*d-i*u)+f*(r*c-i*a)),e[12]=-(o*(u*p-h*m)-f*(a*p-l*m)+g*(a*h-l*u)),e[13]=n*(u*p-h*m)-f*(r*p-s*m)+g*(r*h-s*u),e[14]=-(n*(a*p-l*m)-o*(r*p-s*m)+g*(r*l-s*a)),e[15]=n*(a*h-l*u)-o*(r*h-s*u)+f*(r*l-s*a),e}var U3=H3;function H3(e){var t=e[0],n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],l=e[7],c=e[8],f=e[9],u=e[10],h=e[11],d=e[12],g=e[13],m=e[14],p=e[15],v=t*o-n*i,b=t*a-r*i,_=t*l-s*i,E=n*a-r*o,S=n*l-s*o,w=r*l-s*a,A=c*g-f*d,L=c*m-u*d,$=c*p-h*d,G=f*m-u*g,k=f*p-h*g,se=u*p-h*m;return v*se-b*k+_*G+E*$-S*L+w*A}var z3=j3;function j3(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],h=t[9],d=t[10],g=t[11],m=t[12],p=t[13],v=t[14],b=t[15],_=n[0],E=n[1],S=n[2],w=n[3];return e[0]=_*r+E*a+S*u+w*m,e[1]=_*s+E*l+S*h+w*p,e[2]=_*i+E*c+S*d+w*v,e[3]=_*o+E*f+S*g+w*b,_=n[4],E=n[5],S=n[6],w=n[7],e[4]=_*r+E*a+S*u+w*m,e[5]=_*s+E*l+S*h+w*p,e[6]=_*i+E*c+S*d+w*v,e[7]=_*o+E*f+S*g+w*b,_=n[8],E=n[9],S=n[10],w=n[11],e[8]=_*r+E*a+S*u+w*m,e[9]=_*s+E*l+S*h+w*p,e[10]=_*i+E*c+S*d+w*v,e[11]=_*o+E*f+S*g+w*b,_=n[12],E=n[13],S=n[14],w=n[15],e[12]=_*r+E*a+S*u+w*m,e[13]=_*s+E*l+S*h+w*p,e[14]=_*i+E*c+S*d+w*v,e[15]=_*o+E*f+S*g+w*b,e}var q3=X3;function X3(e,t,n){var r=n[0],s=n[1],i=n[2],o,a,l,c,f,u,h,d,g,m,p,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],h=t[6],d=t[7],g=t[8],m=t[9],p=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=h,e[7]=d,e[8]=g,e[9]=m,e[10]=p,e[11]=v,e[12]=o*r+f*s+g*i+t[12],e[13]=a*r+u*s+m*i+t[13],e[14]=l*r+h*s+p*i+t[14],e[15]=c*r+d*s+v*i+t[15]),e}var W3=Y3;function Y3(e,t,n){var r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var Z3=K3;function K3(e,t,n,r){var s=r[0],i=r[1],o=r[2],a=Math.sqrt(s*s+i*i+o*o),l,c,f,u,h,d,g,m,p,v,b,_,E,S,w,A,L,$,G,k,se,V,j,Oe;return Math.abs(a)<1e-6?null:(a=1/a,s*=a,i*=a,o*=a,l=Math.sin(n),c=Math.cos(n),f=1-c,u=t[0],h=t[1],d=t[2],g=t[3],m=t[4],p=t[5],v=t[6],b=t[7],_=t[8],E=t[9],S=t[10],w=t[11],A=s*s*f+c,L=i*s*f+o*l,$=o*s*f-i*l,G=s*i*f-o*l,k=i*i*f+c,se=o*i*f+s*l,V=s*o*f+i*l,j=i*o*f-s*l,Oe=o*o*f+c,e[0]=u*A+m*L+_*$,e[1]=h*A+p*L+E*$,e[2]=d*A+v*L+S*$,e[3]=g*A+b*L+w*$,e[4]=u*G+m*k+_*se,e[5]=h*G+p*k+E*se,e[6]=d*G+v*k+S*se,e[7]=g*G+b*k+w*se,e[8]=u*V+m*j+_*Oe,e[9]=h*V+p*j+E*Oe,e[10]=d*V+v*j+S*Oe,e[11]=g*V+b*j+w*Oe,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}var Q3=J3;function J3(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+h*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=h*s-l*r,e}var eA=tA;function tA(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-h*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+h*s,e}var nA=rA;function rA(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+h*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=h*s-l*r,e}var sA=iA;function iA(e,t,n){var r,s,i,o=n[0],a=n[1],l=n[2],c=Math.sqrt(o*o+a*a+l*l);return Math.abs(c)<1e-6?null:(c=1/c,o*=c,a*=c,l*=c,r=Math.sin(t),s=Math.cos(t),i=1-s,e[0]=o*o*i+s,e[1]=a*o*i+l*r,e[2]=l*o*i-a*r,e[3]=0,e[4]=o*a*i-l*r,e[5]=a*a*i+s,e[6]=l*a*i+o*r,e[7]=0,e[8]=o*l*i+a*r,e[9]=a*l*i-o*r,e[10]=l*l*i+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}var oA=aA;function aA(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=r+r,l=s+s,c=i+i,f=r*a,u=r*l,h=r*c,d=s*l,g=s*c,m=i*c,p=o*a,v=o*l,b=o*c;return e[0]=1-(d+m),e[1]=u+b,e[2]=h-v,e[3]=0,e[4]=u-b,e[5]=1-(f+m),e[6]=g+p,e[7]=0,e[8]=h+v,e[9]=g-p,e[10]=1-(f+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}var lA=cA;function cA(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var fA=uA;function uA(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}var dA=hA;function hA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var mA=pA;function pA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var gA=vA;function vA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var bA=_A;function _A(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=n+n,a=r+r,l=s+s,c=n*o,f=r*o,u=r*a,h=s*o,d=s*a,g=s*l,m=i*o,p=i*a,v=i*l;return e[0]=1-u-g,e[1]=f+v,e[2]=h-p,e[3]=0,e[4]=f-v,e[5]=1-c-g,e[6]=d+m,e[7]=0,e[8]=h+p,e[9]=d-m,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var yA=AA;function AA(e,t,n,r,s,i,o){var a=1/(n-t),l=1/(s-r),c=1/(i-o);return e[0]=i*2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(s+r)*l,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}var EA=SA;function SA(e,t,n,r,s){var i=1/Math.tan(t/2),o=1/(r-s);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*r*o,e[15]=0,e}var wA=TA;function TA(e,t,n,r){var s=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(s+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((o-a)*l*.5),e[9]=(s-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}var CA=PA;function PA(e,t,n,r,s,i,o){var a=1/(t-n),l=1/(r-s),c=1/(i-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(s+r)*l,e[14]=(o+i)*c,e[15]=1,e}var LA=fv,OA=RA;function RA(e,t,n,r){var s,i,o,a,l,c,f,u,h,d,g=t[0],m=t[1],p=t[2],v=r[0],b=r[1],_=r[2],E=n[0],S=n[1],w=n[2];return Math.abs(g-E)<1e-6&&Math.abs(m-S)<1e-6&&Math.abs(p-w)<1e-6?LA(e):(f=g-E,u=m-S,h=p-w,d=1/Math.sqrt(f*f+u*u+h*h),f*=d,u*=d,h*=d,s=b*h-_*u,i=_*f-v*h,o=v*u-b*f,d=Math.sqrt(s*s+i*i+o*o),d?(d=1/d,s*=d,i*=d,o*=d):(s=0,i=0,o=0),a=u*o-h*i,l=h*s-f*o,c=f*i-u*s,d=Math.sqrt(a*a+l*l+c*c),d?(d=1/d,a*=d,l*=d,c*=d):(a=0,l=0,c=0),e[0]=s,e[1]=a,e[2]=f,e[3]=0,e[4]=i,e[5]=l,e[6]=u,e[7]=0,e[8]=o,e[9]=c,e[10]=h,e[11]=0,e[12]=-(s*g+i*m+o*p),e[13]=-(a*g+l*m+c*p),e[14]=-(f*g+u*m+h*p),e[15]=1,e)}var MA=IA;function IA(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}var Sr={create:O3,clone:M3,copy:D3,identity:fv,transpose:x3,invert:G3,adjoint:V3,determinant:U3,multiply:z3,translate:q3,scale:W3,rotate:Z3,rotateX:Q3,rotateY:eA,rotateZ:nA,fromRotation:sA,fromRotationTranslation:oA,fromScaling:lA,fromTranslation:fA,fromXRotation:dA,fromYRotation:mA,fromZRotation:gA,fromQuat:bA,frustum:yA,perspective:EA,perspectiveFromFieldOfView:wA,ortho:CA,lookAt:OA,str:MA};const Pf=Sr,DA=(e,t={})=>{const{fbo:n}=t,r={cull:{enable:!0},context:{lightDirection:[.2,.2,1]},uniforms:{view:(s,i)=>i.camera.view,eye:(s,i)=>i.camera.position,projection:(s,i)=>i.camera.projection,camNear:(s,i)=>i.camera.near,camFar:(s,i)=>i.camera.far,invertedView:(s,i)=>Pf.invert([],i.camera.view),lightPosition:(s,i)=>i&&i.rendering&&i.rendering.lightPosition?i.rendering.lightPosition:[100,200,100],lightDirection:(s,i)=>i&&i.rendering&&i.rendering.lightDirection?i.rendering.lightDirection:s.lightDirection||[0,0,0],lightView:s=>Pf.lookAt([],s.lightDirection,[0,0,0],[0,0,1]),lightProjection:Pf.ortho([],-25,-25,-20,20,-25,25),lightColor:(s,i)=>i&&i.rendering&&i.rendering.lightColor?i.rendering.lightColor:[1,.8,0],ambientLightAmount:(s,i)=>i&&i.rendering&&i.rendering.ambientLightAmount?i.rendering.ambientLightAmount:.3,diffuseLightAmount:(s,i)=>i&&i.rendering&&i.rendering.diffuseLightAmount?i&&i.rendering&&i.rendering.diffuseLightAmount:.89,specularLightAmount:(s,i)=>i&&i.rendering&&i.rendering.specularLightAmount?i.rendering.specularLightAmount:.16,uMaterialShininess:(s,i)=>i&&i.rendering&&i.rendering.materialShininess?i.rendering.materialShininess:8,materialAmbient:[.5,.8,.3],materialDiffuse:[.5,.8,.3],materialSpecular:[.5,.8,.3]},framebuffer:n};return e(Object.assign({},r,t.extras))};var FA=DA,Gl={background:[1,1,1,1],meshColor:[0,.6,1,1],lightColor:[1,1,1,1],lightDirection:[.2,.2,1],lightPosition:[100,200,100],ambientLightAmount:.3,diffuseLightAmount:.89,specularLightAmount:.16,materialShininess:8},Lf={exports:{}},X1;function kA(){return X1||(X1=1,function(e,t){(function(n,r){e.exports=r()})(Js,function(){var n=function(y){return y instanceof Uint8Array||y instanceof Uint16Array||y instanceof Uint32Array||y instanceof Int8Array||y instanceof Int16Array||y instanceof Int32Array||y instanceof Float32Array||y instanceof Float64Array||y instanceof Uint8ClampedArray},r=function(y,C){for(var F=Object.keys(C),J=0;J<F.length;++J)y[F[J]]=C[F[J]];return y},s=`
`;function i(y){return typeof atob<"u"?atob(y):"base64:"+y}function o(y){var C=new Error("(regl) "+y);throw console.error(C),C}function a(y,C){y||o(C)}function l(y){return y?": "+y:""}function c(y,C,F){y in C||o("unknown parameter ("+y+")"+l(F)+". possible values: "+Object.keys(C).join())}function f(y,C){n(y)||o("invalid parameter type"+l(C)+". must be a typed array")}function u(y,C){switch(C){case"number":return typeof y=="number";case"object":return typeof y=="object";case"string":return typeof y=="string";case"boolean":return typeof y=="boolean";case"function":return typeof y=="function";case"undefined":return typeof y>"u";case"symbol":return typeof y=="symbol"}}function h(y,C,F){u(y,C)||o("invalid parameter type"+l(F)+". expected "+C+", got "+typeof y)}function d(y,C){y>=0&&(y|0)===y||o("invalid parameter type, ("+y+")"+l(C)+". must be a nonnegative integer")}function g(y,C,F){C.indexOf(y)<0&&o("invalid value"+l(F)+". must be one of: "+C)}var m=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(y){Object.keys(y).forEach(function(C){m.indexOf(C)<0&&o('invalid regl constructor argument "'+C+'". must be one of '+m)})}function v(y,C){for(y=y+"";y.length<C;)y=" "+y;return y}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function _(y,C){this.number=y,this.line=C,this.errors=[]}function E(y,C,F){this.file=y,this.line=C,this.message=F}function S(){var y=new Error,C=(y.stack||y).toString(),F=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(C);if(F)return F[1];var J=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(C);return J?J[1]:"unknown"}function w(){var y=new Error,C=(y.stack||y).toString(),F=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(C);if(F)return F[1];var J=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(C);return J?J[1]:"unknown"}function A(y,C){var F=y.split(`
`),J=1,de=0,Q={unknown:new b,0:new b};Q.unknown.name=Q[0].name=C||S(),Q.unknown.lines.push(new _(0,""));for(var ae=0;ae<F.length;++ae){var ye=F[ae],be=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(ye);if(be)switch(be[1]){case"line":var Ce=/(\d+)(\s+\d+)?/.exec(be[2]);Ce&&(J=Ce[1]|0,Ce[2]&&(de=Ce[2]|0,de in Q||(Q[de]=new b)));break;case"define":var Le=/SHADER_NAME(_B64)?\s+(.*)$/.exec(be[2]);Le&&(Q[de].name=Le[1]?i(Le[2]):Le[2]);break}Q[de].lines.push(new _(J++,ye))}return Object.keys(Q).forEach(function(Pe){var Ie=Q[Pe];Ie.lines.forEach(function(Ee){Ie.index[Ee.number]=Ee})}),Q}function L(y){var C=[];return y.split(`
`).forEach(function(F){if(!(F.length<5)){var J=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(F);J?C.push(new E(J[1]|0,J[2]|0,J[3].trim())):F.length>0&&C.push(new E("unknown",0,F))}}),C}function $(y,C){C.forEach(function(F){var J=y[F.file];if(J){var de=J.index[F.line];if(de){de.errors.push(F),J.hasErrors=!0;return}}y.unknown.hasErrors=!0,y.unknown.lines[0].errors.push(F)})}function G(y,C,F,J,de){if(!y.getShaderParameter(C,y.COMPILE_STATUS)){var Q=y.getShaderInfoLog(C),ae=J===y.FRAGMENT_SHADER?"fragment":"vertex";U(F,"string",ae+" shader source must be a string",de);var ye=A(F,de),be=L(Q);$(ye,be),Object.keys(ye).forEach(function(Ce){var Le=ye[Ce];if(!Le.hasErrors)return;var Pe=[""],Ie=[""];function Ee(Te,q){Pe.push(Te),Ie.push(q||"")}Ee("file number "+Ce+": "+Le.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Le.lines.forEach(function(Te){if(Te.errors.length>0){Ee(v(Te.number,4)+"|  ","background-color:yellow; font-weight:bold"),Ee(Te.line+s,"color:red; background-color:yellow; font-weight:bold");var q=0;Te.errors.forEach(function(ie){var we=ie.message,$e=/^\s*'(.*)'\s*:\s*(.*)$/.exec(we);if($e){var ve=$e[1];switch(we=$e[2],ve){case"assign":ve="=";break}q=Math.max(Te.line.indexOf(ve,q),0)}else q=0;Ee(v("| ",6)),Ee(v("^^^",q+3)+s,"font-weight:bold"),Ee(v("| ",6)),Ee(we+s,"font-weight:bold")}),Ee(v("| ",6)+s)}else Ee(v(Te.number,4)+"|  "),Ee(Te.line+s,"color:red")}),typeof document<"u"&&!window.chrome?(Ie[0]=Pe.join("%c"),console.log.apply(console,Ie)):console.log(Pe.join(""))}),a.raise("Error compiling "+ae+" shader, "+ye[0].name)}}function k(y,C,F,J,de){if(!y.getProgramParameter(C,y.LINK_STATUS)){var Q=y.getProgramInfoLog(C),ae=A(F,de),ye=A(J,de),be='Error linking program with vertex shader, "'+ye[0].name+'", and fragment shader "'+ae[0].name+'"';typeof document<"u"?console.log("%c"+be+s+"%c"+Q,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(be+s+Q),a.raise(be)}}function se(y){y._commandRef=S()}function V(y,C,F,J){se(y);function de(be){return be?J.id(be):0}y._fragId=de(y.static.frag),y._vertId=de(y.static.vert);function Q(be,Ce){Object.keys(Ce).forEach(function(Le){be[J.id(Le)]=!0})}var ae=y._uniformSet={};Q(ae,C.static),Q(ae,C.dynamic);var ye=y._attributeSet={};Q(ye,F.static),Q(ye,F.dynamic),y._hasCount="count"in y.static||"count"in y.dynamic||"elements"in y.static||"elements"in y.dynamic}function j(y,C){var F=w();o(y+" in command "+(C||S())+(F==="unknown"?"":" called from "+F))}function Oe(y,C,F){y||j(C,F||S())}function ne(y,C,F,J){y in C||j("unknown parameter ("+y+")"+l(F)+". possible values: "+Object.keys(C).join(),J||S())}function U(y,C,F,J){u(y,C)||j("invalid parameter type"+l(F)+". expected "+C+", got "+typeof y,J||S())}function fe(y){y()}function ee(y,C,F){y.texture?g(y.texture._texture.internalformat,C,"unsupported texture format for attachment"):g(y.renderbuffer._renderbuffer.format,F,"unsupported renderbuffer format for attachment")}var He=33071,Mt=9728,pe=9984,Dt=9985,je=9986,Et=9987,Cn=5120,Zn=5121,et=5122,Ve=5123,Pn=5124,ss=5125,Os=5126,Rs=32819,Rr=32820,wr=33635,Me=34042,vt=36193,In={};In[Cn]=In[Zn]=1,In[et]=In[Ve]=In[vt]=In[wr]=In[Rs]=In[Rr]=2,In[Pn]=In[ss]=In[Os]=In[Me]=4;function Ms(y,C){return y===Rr||y===Rs||y===wr?2:y===Me?4:In[y]*C}function jr(y){return!(y&y-1)&&!!y}function hi(y,C,F){var J,de=C.width,Q=C.height,ae=C.channels;a(de>0&&de<=F.maxTextureSize&&Q>0&&Q<=F.maxTextureSize,"invalid texture shape"),(y.wrapS!==He||y.wrapT!==He)&&a(jr(de)&&jr(Q),"incompatible wrap mode for texture, both width and height must be power of 2"),C.mipmask===1?de!==1&&Q!==1&&a(y.minFilter!==pe&&y.minFilter!==je&&y.minFilter!==Dt&&y.minFilter!==Et,"min filter requires mipmap"):(a(jr(de)&&jr(Q),"texture must be a square power of 2 to support mipmapping"),a(C.mipmask===(de<<1)-1,"missing or incomplete mipmap data")),C.type===Os&&(F.extensions.indexOf("oes_texture_float_linear")<0&&a(y.minFilter===Mt&&y.magFilter===Mt,"filter not supported, must enable oes_texture_float_linear"),a(!y.genMipmaps,"mipmap generation not supported with float textures"));var ye=C.images;for(J=0;J<16;++J)if(ye[J]){var be=de>>J,Ce=Q>>J;a(C.mipmask&1<<J,"missing mipmap data");var Le=ye[J];if(a(Le.width===be&&Le.height===Ce,"invalid shape for mip images"),a(Le.format===C.format&&Le.internalformat===C.internalformat&&Le.type===C.type,"incompatible type for mip image"),!Le.compressed)if(Le.data){var Pe=Math.ceil(Ms(Le.type,ae)*be/Le.unpackAlignment)*Le.unpackAlignment;a(Le.data.byteLength===Pe*Ce,"invalid data for image, buffer size is inconsistent with image format")}else Le.element||Le.copy}else y.genMipmaps||a((C.mipmask&1<<J)===0,"extra mipmap data");C.compressed&&a(!y.genMipmaps,"mipmap generation for compressed images not supported")}function mi(y,C,F,J){var de=y.width,Q=y.height,ae=y.channels;a(de>0&&de<=J.maxTextureSize&&Q>0&&Q<=J.maxTextureSize,"invalid texture shape"),a(de===Q,"cube map must be square"),a(C.wrapS===He&&C.wrapT===He,"wrap mode not supported by cube map");for(var ye=0;ye<F.length;++ye){var be=F[ye];a(be.width===de&&be.height===Q,"inconsistent cube map face shape"),C.genMipmaps&&(a(!be.compressed,"can not generate mipmap for compressed textures"),a(be.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Ce=be.images,Le=0;Le<16;++Le){var Pe=Ce[Le];if(Pe){var Ie=de>>Le,Ee=Q>>Le;a(be.mipmask&1<<Le,"missing mipmap data"),a(Pe.width===Ie&&Pe.height===Ee,"invalid shape for mip images"),a(Pe.format===y.format&&Pe.internalformat===y.internalformat&&Pe.type===y.type,"incompatible type for mip image"),Pe.compressed||(Pe.data?a(Pe.data.byteLength===Ie*Ee*Math.max(Ms(Pe.type,ae),Pe.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Pe.element||Pe.copy)}}}}var P=r(a,{optional:fe,raise:o,commandRaise:j,command:Oe,parameter:c,commandParameter:ne,constructor:p,type:h,commandType:U,isTypedArray:f,nni:d,oneOf:g,shaderError:G,linkError:k,callSite:w,saveCommandRef:se,saveDrawInfo:V,framebufferFormat:ee,guessCommand:S,texture2D:hi,textureCube:mi}),pi=0,qr=0,is=5,os=6;function ur(y,C){this.id=pi++,this.type=y,this.data=C}function fa(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function as(y){if(y.length===0)return[];var C=y.charAt(0),F=y.charAt(y.length-1);if(y.length>1&&C===F&&(C==='"'||C==="'"))return['"'+fa(y.substr(1,y.length-2))+'"'];var J=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(y);if(J)return as(y.substr(0,J.index)).concat(as(J[1])).concat(as(y.substr(J.index+J[0].length)));var de=y.split(".");if(de.length===1)return['"'+fa(y)+'"'];for(var Q=[],ae=0;ae<de.length;++ae)Q=Q.concat(as(de[ae]));return Q}function Is(y){return"["+as(y).join("][")+"]"}function ic(y,C){return new ur(y,Is(C+""))}function oc(y){return typeof y=="function"&&!y._reglType||y instanceof ur}function ua(y,C){if(typeof y=="function")return new ur(qr,y);if(typeof y=="number"||typeof y=="boolean")return new ur(is,y);if(Array.isArray(y))return new ur(os,y.map(function(F,J){return ua(F,C+"["+J+"]")}));if(y instanceof ur)return y;P(!1,"invalid option type in uniform "+C)}var Kn={DynamicVariable:ur,define:ic,isDynamic:oc,unbox:ua,accessor:Is},oo={next:typeof requestAnimationFrame=="function"?function(y){return requestAnimationFrame(y)}:function(y){return setTimeout(y,16)},cancel:typeof cancelAnimationFrame=="function"?function(y){return cancelAnimationFrame(y)}:clearTimeout},da=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function ac(){var y={"":0},C=[""];return{id:function(F){var J=y[F];return J||(J=y[F]=C.length,C.push(F),J)},str:function(F){return C[F]}}}function lc(y,C,F){var J=document.createElement("canvas");r(J.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),y.appendChild(J),y===document.body&&(J.style.position="absolute",r(y.style,{margin:0,padding:0}));function de(){var ye=window.innerWidth,be=window.innerHeight;if(y!==document.body){var Ce=J.getBoundingClientRect();ye=Ce.right-Ce.left,be=Ce.bottom-Ce.top}J.width=F*ye,J.height=F*be}var Q;y!==document.body&&typeof ResizeObserver=="function"?(Q=new ResizeObserver(function(){setTimeout(de)}),Q.observe(y)):window.addEventListener("resize",de,!1);function ae(){Q?Q.disconnect():window.removeEventListener("resize",de),y.removeChild(J)}return de(),{canvas:J,onDestroy:ae}}function cc(y,C){function F(J){try{return y.getContext(J,C)}catch{return null}}return F("webgl")||F("experimental-webgl")||F("webgl-experimental")}function fc(y){return typeof y.nodeName=="string"&&typeof y.appendChild=="function"&&typeof y.getBoundingClientRect=="function"}function uc(y){return typeof y.drawArrays=="function"||typeof y.drawElements=="function"}function ha(y){return typeof y=="string"?y.split():(P(Array.isArray(y),"invalid extension array"),y)}function ma(y){return typeof y=="string"?(P(typeof document<"u","not supported outside of DOM"),document.querySelector(y)):y}function dc(y){var C=y||{},F,J,de,Q,ae={},ye=[],be=[],Ce=typeof window>"u"?1:window.devicePixelRatio,Le=!1,Pe=function(Te){Te&&P.raise(Te)},Ie=function(){};if(typeof C=="string"?(P(typeof document<"u","selector queries only supported in DOM enviroments"),F=document.querySelector(C),P(F,"invalid query string for element")):typeof C=="object"?fc(C)?F=C:uc(C)?(Q=C,de=Q.canvas):(P.constructor(C),"gl"in C?Q=C.gl:"canvas"in C?de=ma(C.canvas):"container"in C&&(J=ma(C.container)),"attributes"in C&&(ae=C.attributes,P.type(ae,"object","invalid context attributes")),"extensions"in C&&(ye=ha(C.extensions)),"optionalExtensions"in C&&(be=ha(C.optionalExtensions)),"onDone"in C&&(P.type(C.onDone,"function","invalid or missing onDone callback"),Pe=C.onDone),"profile"in C&&(Le=!!C.profile),"pixelRatio"in C&&(Ce=+C.pixelRatio,P(Ce>0,"invalid pixel ratio"))):P.raise("invalid arguments to regl"),F&&(F.nodeName.toLowerCase()==="canvas"?de=F:J=F),!Q){if(!de){P(typeof document<"u","must manually specify webgl context outside of DOM environments");var Ee=lc(J||document.body,Pe,Ce);if(!Ee)return null;de=Ee.canvas,Ie=Ee.onDestroy}ae.premultipliedAlpha===void 0&&(ae.premultipliedAlpha=!0),Q=cc(de,ae)}return Q?{gl:Q,canvas:de,container:J,extensions:ye,optionalExtensions:be,pixelRatio:Ce,profile:Le,onDone:Pe,onDestroy:Ie}:(Ie(),Pe("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function hc(y,C){var F={};function J(ae){P.type(ae,"string","extension name must be string");var ye=ae.toLowerCase(),be;try{be=F[ye]=y.getExtension(ye)}catch{}return!!be}for(var de=0;de<C.extensions.length;++de){var Q=C.extensions[de];if(!J(Q))return C.onDestroy(),C.onDone('"'+Q+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return C.optionalExtensions.forEach(J),{extensions:F,restore:function(){Object.keys(F).forEach(function(ae){if(F[ae]&&!J(ae))throw new Error("(regl): error restoring extension "+ae)})}}}function Qn(y,C){for(var F=Array(y),J=0;J<y;++J)F[J]=C(J);return F}var mc=5120,pc=5121,gc=5122,vc=5123,bc=5124,_c=5125,yc=5126;function Ac(y){for(var C=16;C<=1<<28;C*=16)if(y<=C)return C;return 0}function pa(y){var C,F;return C=(y>65535)<<4,y>>>=C,F=(y>255)<<3,y>>>=F,C|=F,F=(y>15)<<2,y>>>=F,C|=F,F=(y>3)<<1,y>>>=F,C|=F,C|y>>1}function ga(){var y=Qn(8,function(){return[]});function C(Q){var ae=Ac(Q),ye=y[pa(ae)>>2];return ye.length>0?ye.pop():new ArrayBuffer(ae)}function F(Q){y[pa(Q.byteLength)>>2].push(Q)}function J(Q,ae){var ye=null;switch(Q){case mc:ye=new Int8Array(C(ae),0,ae);break;case pc:ye=new Uint8Array(C(ae),0,ae);break;case gc:ye=new Int16Array(C(2*ae),0,ae);break;case vc:ye=new Uint16Array(C(2*ae),0,ae);break;case bc:ye=new Int32Array(C(4*ae),0,ae);break;case _c:ye=new Uint32Array(C(4*ae),0,ae);break;case yc:ye=new Float32Array(C(4*ae),0,ae);break;default:return null}return ye.length!==ae?ye.subarray(0,ae):ye}function de(Q){F(Q.buffer)}return{alloc:C,free:F,allocType:J,freeType:de}}var dn=ga();dn.zero=ga();var Ec=3408,Sc=3410,wc=3411,te=3412,yn=3413,va=3414,Tc=3415,ao=33901,lo=33902,Ib=3379,Db=3386,Fb=34921,kb=36347,xb=36348,Bb=35661,Gb=35660,Nb=34930,Vb=36349,$b=34076,Ub=34024,Hb=7936,zb=7937,jb=7938,qb=35724,Xb=34047,Wb=36063,Yb=34852,ba=3553,Fd=34067,Zb=34069,Kb=33984,co=6408,Cc=5126,kd=5121,Pc=36160,Qb=36053,Jb=36064,e_=16384,t_=function(y,C){var F=1;C.ext_texture_filter_anisotropic&&(F=y.getParameter(Xb));var J=1,de=1;C.webgl_draw_buffers&&(J=y.getParameter(Yb),de=y.getParameter(Wb));var Q=!!C.oes_texture_float;if(Q){var ae=y.createTexture();y.bindTexture(ba,ae),y.texImage2D(ba,0,co,1,1,0,co,Cc,null);var ye=y.createFramebuffer();if(y.bindFramebuffer(Pc,ye),y.framebufferTexture2D(Pc,Jb,ba,ae,0),y.bindTexture(ba,null),y.checkFramebufferStatus(Pc)!==Qb)Q=!1;else{y.viewport(0,0,1,1),y.clearColor(1,0,0,1),y.clear(e_);var be=dn.allocType(Cc,4);y.readPixels(0,0,1,1,co,Cc,be),y.getError()?Q=!1:(y.deleteFramebuffer(ye),y.deleteTexture(ae),Q=be[0]===1),dn.freeType(be)}}var Ce=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Le=!0;if(!Ce){var Pe=y.createTexture(),Ie=dn.allocType(kd,36);y.activeTexture(Kb),y.bindTexture(Fd,Pe),y.texImage2D(Zb,0,co,3,3,0,co,kd,Ie),dn.freeType(Ie),y.bindTexture(Fd,null),y.deleteTexture(Pe),Le=!y.getError()}return{colorBits:[y.getParameter(Sc),y.getParameter(wc),y.getParameter(te),y.getParameter(yn)],depthBits:y.getParameter(va),stencilBits:y.getParameter(Tc),subpixelBits:y.getParameter(Ec),extensions:Object.keys(C).filter(function(Ee){return!!C[Ee]}),maxAnisotropic:F,maxDrawbuffers:J,maxColorAttachments:de,pointSizeDims:y.getParameter(ao),lineWidthDims:y.getParameter(lo),maxViewportDims:y.getParameter(Db),maxCombinedTextureUnits:y.getParameter(Bb),maxCubeMapSize:y.getParameter($b),maxRenderbufferSize:y.getParameter(Ub),maxTextureUnits:y.getParameter(Nb),maxTextureSize:y.getParameter(Ib),maxAttributes:y.getParameter(Fb),maxVertexUniforms:y.getParameter(kb),maxVertexTextureUnits:y.getParameter(Gb),maxVaryingVectors:y.getParameter(xb),maxFragmentUniforms:y.getParameter(Vb),glsl:y.getParameter(qb),renderer:y.getParameter(zb),vendor:y.getParameter(Hb),version:y.getParameter(jb),readFloat:Q,npotTextureCube:Le}};function Tr(y){return!!y&&typeof y=="object"&&Array.isArray(y.shape)&&Array.isArray(y.stride)&&typeof y.offset=="number"&&y.shape.length===y.stride.length&&(Array.isArray(y.data)||n(y.data))}var dr=function(y){return Object.keys(y).map(function(C){return y[C]})},_a={shape:i_,flatten:s_};function n_(y,C,F){for(var J=0;J<C;++J)F[J]=y[J]}function r_(y,C,F,J){for(var de=0,Q=0;Q<C;++Q)for(var ae=y[Q],ye=0;ye<F;++ye)J[de++]=ae[ye]}function xd(y,C,F,J,de,Q){for(var ae=Q,ye=0;ye<C;++ye)for(var be=y[ye],Ce=0;Ce<F;++Ce)for(var Le=be[Ce],Pe=0;Pe<J;++Pe)de[ae++]=Le[Pe]}function Bd(y,C,F,J,de){for(var Q=1,ae=F+1;ae<C.length;++ae)Q*=C[ae];var ye=C[F];if(C.length-F===4){var be=C[F+1],Ce=C[F+2],Le=C[F+3];for(ae=0;ae<ye;++ae)xd(y[ae],be,Ce,Le,J,de),de+=Q}else for(ae=0;ae<ye;++ae)Bd(y[ae],C,F+1,J,de),de+=Q}function s_(y,C,F,J){var de=1;if(C.length)for(var Q=0;Q<C.length;++Q)de*=C[Q];else de=0;var ae=J||dn.allocType(F,de);switch(C.length){case 0:break;case 1:n_(y,C[0],ae);break;case 2:r_(y,C[0],C[1],ae);break;case 3:xd(y,C[0],C[1],C[2],ae,0);break;default:Bd(y,C,0,ae,0)}return ae}function i_(y){for(var C=[],F=y;F.length;F=F[0])C.push(F.length);return C}var Lc={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},o_=5120,a_=5122,l_=5124,c_=5121,f_=5123,u_=5125,d_=5126,h_=5126,Ds={int8:o_,int16:a_,int32:l_,uint8:c_,uint16:f_,uint32:u_,float:d_,float32:h_},m_=35048,p_=35040,ya={dynamic:m_,stream:p_,static:35044},Oc=_a.flatten,Gd=_a.shape,Nd=35044,g_=35040,Rc=5121,Mc=5126,ls=[];ls[5120]=1,ls[5122]=2,ls[5124]=4,ls[5121]=1,ls[5123]=2,ls[5125]=4,ls[5126]=4;function Aa(y){return Lc[Object.prototype.toString.call(y)]|0}function Vd(y,C){for(var F=0;F<C.length;++F)y[F]=C[F]}function $d(y,C,F,J,de,Q,ae){for(var ye=0,be=0;be<F;++be)for(var Ce=0;Ce<J;++Ce)y[ye++]=C[de*be+Q*Ce+ae]}function v_(y,C,F,J){var de=0,Q={};function ae(q){this.id=de++,this.buffer=y.createBuffer(),this.type=q,this.usage=Nd,this.byteLength=0,this.dimension=1,this.dtype=Rc,this.persistentData=null,F.profile&&(this.stats={size:0})}ae.prototype.bind=function(){y.bindBuffer(this.type,this.buffer)},ae.prototype.destroy=function(){Ie(this)};var ye=[];function be(q,ie){var we=ye.pop();return we||(we=new ae(q)),we.bind(),Pe(we,ie,g_,0,1,!1),we}function Ce(q){ye.push(q)}function Le(q,ie,we){q.byteLength=ie.byteLength,y.bufferData(q.type,ie,we)}function Pe(q,ie,we,$e,ve,Ge){var xe;if(q.usage=we,Array.isArray(ie)){if(q.dtype=$e||Mc,ie.length>0){var nt;if(Array.isArray(ie[0])){xe=Gd(ie);for(var he=1,ue=1;ue<xe.length;++ue)he*=xe[ue];q.dimension=he,nt=Oc(ie,xe,q.dtype),Le(q,nt,we),Ge?q.persistentData=nt:dn.freeType(nt)}else if(typeof ie[0]=="number"){q.dimension=ve;var Xe=dn.allocType(q.dtype,ie.length);Vd(Xe,ie),Le(q,Xe,we),Ge?q.persistentData=Xe:dn.freeType(Xe)}else n(ie[0])?(q.dimension=ie[0].length,q.dtype=$e||Aa(ie[0])||Mc,nt=Oc(ie,[ie.length,ie[0].length],q.dtype),Le(q,nt,we),Ge?q.persistentData=nt:dn.freeType(nt)):P.raise("invalid buffer data")}}else if(n(ie))q.dtype=$e||Aa(ie),q.dimension=ve,Le(q,ie,we),Ge&&(q.persistentData=new Uint8Array(new Uint8Array(ie.buffer)));else if(Tr(ie)){xe=ie.shape;var De=ie.stride,Se=ie.offset,Fe=0,ke=0,ht=0,ft=0;xe.length===1?(Fe=xe[0],ke=1,ht=De[0],ft=0):xe.length===2?(Fe=xe[0],ke=xe[1],ht=De[0],ft=De[1]):P.raise("invalid shape"),q.dtype=$e||Aa(ie.data)||Mc,q.dimension=ke;var Be=dn.allocType(q.dtype,Fe*ke);$d(Be,ie.data,Fe,ke,ht,ft,Se),Le(q,Be,we),Ge?q.persistentData=Be:dn.freeType(Be)}else ie instanceof ArrayBuffer?(q.dtype=Rc,q.dimension=ve,Le(q,ie,we),Ge&&(q.persistentData=new Uint8Array(new Uint8Array(ie)))):P.raise("invalid buffer data")}function Ie(q){C.bufferCount--,J(q);var ie=q.buffer;P(ie,"buffer must not be deleted already"),y.deleteBuffer(ie),q.buffer=null,delete Q[q.id]}function Ee(q,ie,we,$e){C.bufferCount++;var ve=new ae(ie);Q[ve.id]=ve;function Ge(he){var ue=Nd,Xe=null,De=0,Se=0,Fe=1;return Array.isArray(he)||n(he)||Tr(he)||he instanceof ArrayBuffer?Xe=he:typeof he=="number"?De=he|0:he&&(P.type(he,"object","buffer arguments must be an object, a number or an array"),"data"in he&&(P(Xe===null||Array.isArray(Xe)||n(Xe)||Tr(Xe),"invalid data for buffer"),Xe=he.data),"usage"in he&&(P.parameter(he.usage,ya,"invalid buffer usage"),ue=ya[he.usage]),"type"in he&&(P.parameter(he.type,Ds,"invalid buffer type"),Se=Ds[he.type]),"dimension"in he&&(P.type(he.dimension,"number","invalid dimension"),Fe=he.dimension|0),"length"in he&&(P.nni(De,"buffer length must be a nonnegative integer"),De=he.length|0)),ve.bind(),Xe?Pe(ve,Xe,ue,Se,Fe,$e):(De&&y.bufferData(ve.type,De,ue),ve.dtype=Se||Rc,ve.usage=ue,ve.dimension=Fe,ve.byteLength=De),F.profile&&(ve.stats.size=ve.byteLength*ls[ve.dtype]),Ge}function xe(he,ue){P(ue+he.byteLength<=ve.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+he.byteLength+" starting from offset "+ue+" to a buffer of size "+ve.byteLength),y.bufferSubData(ve.type,ue,he)}function nt(he,ue){var Xe=(ue||0)|0,De;if(ve.bind(),n(he)||he instanceof ArrayBuffer)xe(he,Xe);else if(Array.isArray(he)){if(he.length>0)if(typeof he[0]=="number"){var Se=dn.allocType(ve.dtype,he.length);Vd(Se,he),xe(Se,Xe),dn.freeType(Se)}else if(Array.isArray(he[0])||n(he[0])){De=Gd(he);var Fe=Oc(he,De,ve.dtype);xe(Fe,Xe),dn.freeType(Fe)}else P.raise("invalid buffer data")}else if(Tr(he)){De=he.shape;var ke=he.stride,ht=0,ft=0,Be=0,Ne=0;De.length===1?(ht=De[0],ft=1,Be=ke[0],Ne=0):De.length===2?(ht=De[0],ft=De[1],Be=ke[0],Ne=ke[1]):P.raise("invalid shape");var it=Array.isArray(he.data)?ve.dtype:Aa(he.data),mt=dn.allocType(it,ht*ft);$d(mt,he.data,ht,ft,Be,Ne,he.offset),xe(mt,Xe),dn.freeType(mt)}else P.raise("invalid data for buffer subdata");return Ge}return we||Ge(q),Ge._reglType="buffer",Ge._buffer=ve,Ge.subdata=nt,F.profile&&(Ge.stats=ve.stats),Ge.destroy=function(){Ie(ve)},Ge}function Te(){dr(Q).forEach(function(q){q.buffer=y.createBuffer(),y.bindBuffer(q.type,q.buffer),y.bufferData(q.type,q.persistentData||q.byteLength,q.usage)})}return F.profile&&(C.getTotalBufferSize=function(){var q=0;return Object.keys(Q).forEach(function(ie){q+=Q[ie].stats.size}),q}),{create:Ee,createStream:be,destroyStream:Ce,clear:function(){dr(Q).forEach(Ie),ye.forEach(Ie)},getBuffer:function(q){return q&&q._buffer instanceof ae?q._buffer:null},restore:Te,_initBuffer:Pe}}var b_=0,__=0,y_=1,A_=1,E_=4,S_=4,cs={points:b_,point:__,lines:y_,line:A_,triangles:E_,triangle:S_,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},w_=0,T_=1,fo=4,C_=5120,gi=5121,Ud=5122,vi=5123,Hd=5124,Fs=5125,Ic=34963,P_=35040,L_=35044;function O_(y,C,F,J){var de={},Q=0,ae={uint8:gi,uint16:vi};C.oes_element_index_uint&&(ae.uint32=Fs);function ye(Te){this.id=Q++,de[this.id]=this,this.buffer=Te,this.primType=fo,this.vertCount=0,this.type=0}ye.prototype.bind=function(){this.buffer.bind()};var be=[];function Ce(Te){var q=be.pop();return q||(q=new ye(F.create(null,Ic,!0,!1)._buffer)),Pe(q,Te,P_,-1,-1,0,0),q}function Le(Te){be.push(Te)}function Pe(Te,q,ie,we,$e,ve,Ge){Te.buffer.bind();var xe;if(q){var nt=Ge;!Ge&&(!n(q)||Tr(q)&&!n(q.data))&&(nt=C.oes_element_index_uint?Fs:vi),F._initBuffer(Te.buffer,q,ie,nt,3)}else y.bufferData(Ic,ve,ie),Te.buffer.dtype=xe||gi,Te.buffer.usage=ie,Te.buffer.dimension=3,Te.buffer.byteLength=ve;if(xe=Ge,!Ge){switch(Te.buffer.dtype){case gi:case C_:xe=gi;break;case vi:case Ud:xe=vi;break;case Fs:case Hd:xe=Fs;break;default:P.raise("unsupported type for element array")}Te.buffer.dtype=xe}Te.type=xe,P(xe!==Fs||!!C.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var he=$e;he<0&&(he=Te.buffer.byteLength,xe===vi?he>>=1:xe===Fs&&(he>>=2)),Te.vertCount=he;var ue=we;if(we<0){ue=fo;var Xe=Te.buffer.dimension;Xe===1&&(ue=w_),Xe===2&&(ue=T_),Xe===3&&(ue=fo)}Te.primType=ue}function Ie(Te){J.elementsCount--,P(Te.buffer!==null,"must not double destroy elements"),delete de[Te.id],Te.buffer.destroy(),Te.buffer=null}function Ee(Te,q){var ie=F.create(null,Ic,!0),we=new ye(ie._buffer);J.elementsCount++;function $e(ve){if(!ve)ie(),we.primType=fo,we.vertCount=0,we.type=gi;else if(typeof ve=="number")ie(ve),we.primType=fo,we.vertCount=ve|0,we.type=gi;else{var Ge=null,xe=L_,nt=-1,he=-1,ue=0,Xe=0;Array.isArray(ve)||n(ve)||Tr(ve)?Ge=ve:(P.type(ve,"object","invalid arguments for elements"),"data"in ve&&(Ge=ve.data,P(Array.isArray(Ge)||n(Ge)||Tr(Ge),"invalid data for element buffer")),"usage"in ve&&(P.parameter(ve.usage,ya,"invalid element buffer usage"),xe=ya[ve.usage]),"primitive"in ve&&(P.parameter(ve.primitive,cs,"invalid element buffer primitive"),nt=cs[ve.primitive]),"count"in ve&&(P(typeof ve.count=="number"&&ve.count>=0,"invalid vertex count for elements"),he=ve.count|0),"type"in ve&&(P.parameter(ve.type,ae,"invalid buffer type"),Xe=ae[ve.type]),"length"in ve?ue=ve.length|0:(ue=he,Xe===vi||Xe===Ud?ue*=2:(Xe===Fs||Xe===Hd)&&(ue*=4))),Pe(we,Ge,xe,nt,he,ue,Xe)}return $e}return $e(Te),$e._reglType="elements",$e._elements=we,$e.subdata=function(ve,Ge){return ie.subdata(ve,Ge),$e},$e.destroy=function(){Ie(we)},$e}return{create:Ee,createStream:Ce,destroyStream:Le,getElements:function(Te){return typeof Te=="function"&&Te._elements instanceof ye?Te._elements:null},clear:function(){dr(de).forEach(Ie)}}}var zd=new Float32Array(1),R_=new Uint32Array(zd.buffer),M_=5123;function jd(y){for(var C=dn.allocType(M_,y.length),F=0;F<y.length;++F)if(isNaN(y[F]))C[F]=65535;else if(y[F]===1/0)C[F]=31744;else if(y[F]===-1/0)C[F]=64512;else{zd[0]=y[F];var J=R_[0],de=J>>>31<<15,Q=(J<<1>>>24)-127,ae=J>>13&1024-1;if(Q<-24)C[F]=de;else if(Q<-14){var ye=-14-Q;C[F]=de+(ae+1024>>ye)}else Q>15?C[F]=de+31744:C[F]=de+(Q+15<<10)+ae}return C}function sn(y){return Array.isArray(y)||n(y)}var qd=function(y){return!(y&y-1)&&!!y},I_=34467,Mr=3553,Dc=34067,Ea=34069,ks=6408,Fc=6406,Sa=6407,uo=6409,wa=6410,Xd=32854,kc=32855,Wd=36194,D_=32819,F_=32820,k_=33635,x_=34042,xc=6402,Ta=34041,Bc=35904,Gc=35906,bi=36193,Nc=33776,Vc=33777,$c=33778,Uc=33779,Yd=35986,Zd=35987,Kd=34798,Qd=35840,Jd=35841,e0=35842,t0=35843,n0=36196,_i=5121,Hc=5123,zc=5125,ho=5126,B_=10242,G_=10243,N_=10497,jc=33071,V_=33648,$_=10240,U_=10241,qc=9728,H_=9729,Xc=9984,r0=9985,s0=9986,Wc=9987,z_=33170,Ca=4352,j_=4353,q_=4354,X_=34046,W_=3317,Y_=37440,Z_=37441,K_=37443,i0=37444,mo=33984,Q_=[Xc,s0,r0,Wc],Pa=[0,uo,wa,Sa,ks],vr={};vr[uo]=vr[Fc]=vr[xc]=1,vr[Ta]=vr[wa]=2,vr[Sa]=vr[Bc]=3,vr[ks]=vr[Gc]=4;function yi(y){return"[object "+y+"]"}var o0=yi("HTMLCanvasElement"),a0=yi("OffscreenCanvas"),l0=yi("CanvasRenderingContext2D"),c0=yi("ImageBitmap"),f0=yi("HTMLImageElement"),u0=yi("HTMLVideoElement"),J_=Object.keys(Lc).concat([o0,a0,l0,c0,f0,u0]),Ai=[];Ai[_i]=1,Ai[ho]=4,Ai[bi]=2,Ai[Hc]=2,Ai[zc]=4;var Vn=[];Vn[Xd]=2,Vn[kc]=2,Vn[Wd]=2,Vn[Ta]=4,Vn[Nc]=.5,Vn[Vc]=.5,Vn[$c]=1,Vn[Uc]=1,Vn[Yd]=.5,Vn[Zd]=1,Vn[Kd]=1,Vn[Qd]=.5,Vn[Jd]=.25,Vn[e0]=.5,Vn[t0]=.25,Vn[n0]=.5;function d0(y){return Array.isArray(y)&&(y.length===0||typeof y[0]=="number")}function h0(y){if(!Array.isArray(y))return!1;var C=y.length;return!(C===0||!sn(y[0]))}function xs(y){return Object.prototype.toString.call(y)}function m0(y){return xs(y)===o0}function p0(y){return xs(y)===a0}function ey(y){return xs(y)===l0}function ty(y){return xs(y)===c0}function ny(y){return xs(y)===f0}function ry(y){return xs(y)===u0}function Yc(y){if(!y)return!1;var C=xs(y);return J_.indexOf(C)>=0?!0:d0(y)||h0(y)||Tr(y)}function g0(y){return Lc[Object.prototype.toString.call(y)]|0}function sy(y,C){var F=C.length;switch(y.type){case _i:case Hc:case zc:case ho:var J=dn.allocType(y.type,F);J.set(C),y.data=J;break;case bi:y.data=jd(C);break;default:P.raise("unsupported texture type, must specify a typed array")}}function v0(y,C){return dn.allocType(y.type===bi?ho:y.type,C)}function b0(y,C){y.type===bi?(y.data=jd(C),dn.freeType(C)):y.data=C}function iy(y,C,F,J,de,Q){for(var ae=y.width,ye=y.height,be=y.channels,Ce=ae*ye*be,Le=v0(y,Ce),Pe=0,Ie=0;Ie<ye;++Ie)for(var Ee=0;Ee<ae;++Ee)for(var Te=0;Te<be;++Te)Le[Pe++]=C[F*Ee+J*Ie+de*Te+Q];b0(y,Le)}function La(y,C,F,J,de,Q){var ae;if(typeof Vn[y]<"u"?ae=Vn[y]:ae=vr[y]*Ai[C],Q&&(ae*=6),de){for(var ye=0,be=F;be>=1;)ye+=ae*be*be,be/=2;return ye}else return ae*F*J}function oy(y,C,F,J,de,Q,ae){var ye={"don't care":Ca,"dont care":Ca,nice:q_,fast:j_},be={repeat:N_,clamp:jc,mirror:V_},Ce={nearest:qc,linear:H_},Le=r({mipmap:Wc,"nearest mipmap nearest":Xc,"linear mipmap nearest":r0,"nearest mipmap linear":s0,"linear mipmap linear":Wc},Ce),Pe={none:0,browser:i0},Ie={uint8:_i,rgba4:D_,rgb565:k_,"rgb5 a1":F_},Ee={alpha:Fc,luminance:uo,"luminance alpha":wa,rgb:Sa,rgba:ks,rgba4:Xd,"rgb5 a1":kc,rgb565:Wd},Te={};C.ext_srgb&&(Ee.srgb=Bc,Ee.srgba=Gc),C.oes_texture_float&&(Ie.float32=Ie.float=ho),C.oes_texture_half_float&&(Ie.float16=Ie["half float"]=bi),C.webgl_depth_texture&&(r(Ee,{depth:xc,"depth stencil":Ta}),r(Ie,{uint16:Hc,uint32:zc,"depth stencil":x_})),C.webgl_compressed_texture_s3tc&&r(Te,{"rgb s3tc dxt1":Nc,"rgba s3tc dxt1":Vc,"rgba s3tc dxt3":$c,"rgba s3tc dxt5":Uc}),C.webgl_compressed_texture_atc&&r(Te,{"rgb atc":Yd,"rgba atc explicit alpha":Zd,"rgba atc interpolated alpha":Kd}),C.webgl_compressed_texture_pvrtc&&r(Te,{"rgb pvrtc 4bppv1":Qd,"rgb pvrtc 2bppv1":Jd,"rgba pvrtc 4bppv1":e0,"rgba pvrtc 2bppv1":t0}),C.webgl_compressed_texture_etc1&&(Te["rgb etc1"]=n0);var q=Array.prototype.slice.call(y.getParameter(I_));Object.keys(Te).forEach(function(I){var re=Te[I];q.indexOf(re)>=0&&(Ee[I]=re)});var ie=Object.keys(Ee);F.textureFormats=ie;var we=[];Object.keys(Ee).forEach(function(I){var re=Ee[I];we[re]=I});var $e=[];Object.keys(Ie).forEach(function(I){var re=Ie[I];$e[re]=I});var ve=[];Object.keys(Ce).forEach(function(I){var re=Ce[I];ve[re]=I});var Ge=[];Object.keys(Le).forEach(function(I){var re=Le[I];Ge[re]=I});var xe=[];Object.keys(be).forEach(function(I){var re=be[I];xe[re]=I});var nt=ie.reduce(function(I,re){var Z=Ee[re];return Z===uo||Z===Fc||Z===uo||Z===wa||Z===xc||Z===Ta||C.ext_srgb&&(Z===Bc||Z===Gc)?I[Z]=Z:Z===kc||re.indexOf("rgba")>=0?I[Z]=ks:I[Z]=Sa,I},{});function he(){this.internalformat=ks,this.format=ks,this.type=_i,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=i0,this.width=0,this.height=0,this.channels=0}function ue(I,re){I.internalformat=re.internalformat,I.format=re.format,I.type=re.type,I.compressed=re.compressed,I.premultiplyAlpha=re.premultiplyAlpha,I.flipY=re.flipY,I.unpackAlignment=re.unpackAlignment,I.colorSpace=re.colorSpace,I.width=re.width,I.height=re.height,I.channels=re.channels}function Xe(I,re){if(!(typeof re!="object"||!re)){if("premultiplyAlpha"in re&&(P.type(re.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),I.premultiplyAlpha=re.premultiplyAlpha),"flipY"in re&&(P.type(re.flipY,"boolean","invalid texture flip"),I.flipY=re.flipY),"alignment"in re&&(P.oneOf(re.alignment,[1,2,4,8],"invalid texture unpack alignment"),I.unpackAlignment=re.alignment),"colorSpace"in re&&(P.parameter(re.colorSpace,Pe,"invalid colorSpace"),I.colorSpace=Pe[re.colorSpace]),"type"in re){var Z=re.type;P(C.oes_texture_float||!(Z==="float"||Z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),P(C.oes_texture_half_float||!(Z==="half float"||Z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),P(C.webgl_depth_texture||!(Z==="uint16"||Z==="uint32"||Z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(Z,Ie,"invalid texture type"),I.type=Ie[Z]}var qe=I.width,St=I.height,O=I.channels,T=!1;"shape"in re?(P(Array.isArray(re.shape)&&re.shape.length>=2,"shape must be an array"),qe=re.shape[0],St=re.shape[1],re.shape.length===3&&(O=re.shape[2],P(O>0&&O<=4,"invalid number of channels"),T=!0),P(qe>=0&&qe<=F.maxTextureSize,"invalid width"),P(St>=0&&St<=F.maxTextureSize,"invalid height")):("radius"in re&&(qe=St=re.radius,P(qe>=0&&qe<=F.maxTextureSize,"invalid radius")),"width"in re&&(qe=re.width,P(qe>=0&&qe<=F.maxTextureSize,"invalid width")),"height"in re&&(St=re.height,P(St>=0&&St<=F.maxTextureSize,"invalid height")),"channels"in re&&(O=re.channels,P(O>0&&O<=4,"invalid number of channels"),T=!0)),I.width=qe|0,I.height=St|0,I.channels=O|0;var x=!1;if("format"in re){var z=re.format;P(C.webgl_depth_texture||!(z==="depth"||z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(z,Ee,"invalid texture format");var X=I.internalformat=Ee[z];I.format=nt[X],z in Ie&&("type"in re||(I.type=Ie[z])),z in Te&&(I.compressed=!0),x=!0}!T&&x?I.channels=vr[I.format]:T&&!x?I.channels!==Pa[I.format]&&(I.format=I.internalformat=Pa[I.channels]):x&&T&&P(I.channels===vr[I.format],"number of channels inconsistent with specified format")}}function De(I){y.pixelStorei(Y_,I.flipY),y.pixelStorei(Z_,I.premultiplyAlpha),y.pixelStorei(K_,I.colorSpace),y.pixelStorei(W_,I.unpackAlignment)}function Se(){he.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Fe(I,re){var Z=null;if(Yc(re)?Z=re:re&&(P.type(re,"object","invalid pixel data type"),Xe(I,re),"x"in re&&(I.xOffset=re.x|0),"y"in re&&(I.yOffset=re.y|0),Yc(re.data)&&(Z=re.data)),P(!I.compressed||Z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),re.copy){P(!Z,"can not specify copy and data field for the same texture");var qe=de.viewportWidth,St=de.viewportHeight;I.width=I.width||qe-I.xOffset,I.height=I.height||St-I.yOffset,I.needsCopy=!0,P(I.xOffset>=0&&I.xOffset<qe&&I.yOffset>=0&&I.yOffset<St&&I.width>0&&I.width<=qe&&I.height>0&&I.height<=St,"copy texture read out of bounds")}else if(!Z)I.width=I.width||1,I.height=I.height||1,I.channels=I.channels||4;else if(n(Z))I.channels=I.channels||4,I.data=Z,!("type"in re)&&I.type===_i&&(I.type=g0(Z));else if(d0(Z))I.channels=I.channels||4,sy(I,Z),I.alignment=1,I.needsFree=!0;else if(Tr(Z)){var O=Z.data;!Array.isArray(O)&&I.type===_i&&(I.type=g0(O));var T=Z.shape,x=Z.stride,z,X,N,B,H,R;T.length===3?(N=T[2],R=x[2]):(P(T.length===2,"invalid ndarray pixel data, must be 2 or 3D"),N=1,R=1),z=T[0],X=T[1],B=x[0],H=x[1],I.alignment=1,I.width=z,I.height=X,I.channels=N,I.format=I.internalformat=Pa[N],I.needsFree=!0,iy(I,O,B,H,R,Z.offset)}else if(m0(Z)||p0(Z)||ey(Z))m0(Z)||p0(Z)?I.element=Z:I.element=Z.canvas,I.width=I.element.width,I.height=I.element.height,I.channels=4;else if(ty(Z))I.element=Z,I.width=Z.width,I.height=Z.height,I.channels=4;else if(ny(Z))I.element=Z,I.width=Z.naturalWidth,I.height=Z.naturalHeight,I.channels=4;else if(ry(Z))I.element=Z,I.width=Z.videoWidth,I.height=Z.videoHeight,I.channels=4;else if(h0(Z)){var D=I.width||Z[0].length,M=I.height||Z.length,Y=I.channels;sn(Z[0][0])?Y=Y||Z[0][0].length:Y=Y||1;for(var W=_a.shape(Z),ce=1,me=0;me<W.length;++me)ce*=W[me];var Re=v0(I,ce);_a.flatten(Z,W,"",Re),b0(I,Re),I.alignment=1,I.width=D,I.height=M,I.channels=Y,I.format=I.internalformat=Pa[Y],I.needsFree=!0}I.type===ho?P(F.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):I.type===bi&&P(F.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function ke(I,re,Z){var qe=I.element,St=I.data,O=I.internalformat,T=I.format,x=I.type,z=I.width,X=I.height;De(I),qe?y.texImage2D(re,Z,T,T,x,qe):I.compressed?y.compressedTexImage2D(re,Z,O,z,X,0,St):I.needsCopy?(J(),y.copyTexImage2D(re,Z,T,I.xOffset,I.yOffset,z,X,0)):y.texImage2D(re,Z,T,z,X,0,T,x,St||null)}function ht(I,re,Z,qe,St){var O=I.element,T=I.data,x=I.internalformat,z=I.format,X=I.type,N=I.width,B=I.height;De(I),O?y.texSubImage2D(re,St,Z,qe,z,X,O):I.compressed?y.compressedTexSubImage2D(re,St,Z,qe,x,N,B,T):I.needsCopy?(J(),y.copyTexSubImage2D(re,St,Z,qe,I.xOffset,I.yOffset,N,B)):y.texSubImage2D(re,St,Z,qe,N,B,z,X,T)}var ft=[];function Be(){return ft.pop()||new Se}function Ne(I){I.needsFree&&dn.freeType(I.data),Se.call(I),ft.push(I)}function it(){he.call(this),this.genMipmaps=!1,this.mipmapHint=Ca,this.mipmask=0,this.images=Array(16)}function mt(I,re,Z){var qe=I.images[0]=Be();I.mipmask=1,qe.width=I.width=re,qe.height=I.height=Z,qe.channels=I.channels=4}function Pt(I,re){var Z=null;if(Yc(re))Z=I.images[0]=Be(),ue(Z,I),Fe(Z,re),I.mipmask=1;else if(Xe(I,re),Array.isArray(re.mipmap))for(var qe=re.mipmap,St=0;St<qe.length;++St)Z=I.images[St]=Be(),ue(Z,I),Z.width>>=St,Z.height>>=St,Fe(Z,qe[St]),I.mipmask|=1<<St;else Z=I.images[0]=Be(),ue(Z,I),Fe(Z,re),I.mipmask=1;ue(I,I.images[0]),I.compressed&&(I.internalformat===Nc||I.internalformat===Vc||I.internalformat===$c||I.internalformat===Uc)&&P(I.width%4===0&&I.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function on(I,re){for(var Z=I.images,qe=0;qe<Z.length;++qe){if(!Z[qe])return;ke(Z[qe],re,qe)}}var fn=[];function Ot(){var I=fn.pop()||new it;he.call(I),I.mipmask=0;for(var re=0;re<16;++re)I.images[re]=null;return I}function Ln(I){for(var re=I.images,Z=0;Z<re.length;++Z)re[Z]&&Ne(re[Z]),re[Z]=null;fn.push(I)}function en(){this.minFilter=qc,this.magFilter=qc,this.wrapS=jc,this.wrapT=jc,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Ca}function En(I,re){if("min"in re){var Z=re.min;P.parameter(Z,Le),I.minFilter=Le[Z],Q_.indexOf(I.minFilter)>=0&&!("faces"in re)&&(I.genMipmaps=!0)}if("mag"in re){var qe=re.mag;P.parameter(qe,Ce),I.magFilter=Ce[qe]}var St=I.wrapS,O=I.wrapT;if("wrap"in re){var T=re.wrap;typeof T=="string"?(P.parameter(T,be),St=O=be[T]):Array.isArray(T)&&(P.parameter(T[0],be),P.parameter(T[1],be),St=be[T[0]],O=be[T[1]])}else{if("wrapS"in re){var x=re.wrapS;P.parameter(x,be),St=be[x]}if("wrapT"in re){var z=re.wrapT;P.parameter(z,be),O=be[z]}}if(I.wrapS=St,I.wrapT=O,"anisotropic"in re){var X=re.anisotropic;P(typeof X=="number"&&X>=1&&X<=F.maxAnisotropic,"aniso samples must be between 1 and "),I.anisotropic=re.anisotropic}if("mipmap"in re){var N=!1;switch(typeof re.mipmap){case"string":P.parameter(re.mipmap,ye,"invalid mipmap hint"),I.mipmapHint=ye[re.mipmap],I.genMipmaps=!0,N=!0;break;case"boolean":N=I.genMipmaps=re.mipmap;break;case"object":P(Array.isArray(re.mipmap),"invalid mipmap type"),I.genMipmaps=!1,N=!0;break;default:P.raise("invalid mipmap type")}N&&!("min"in re)&&(I.minFilter=Xc)}}function On(I,re){y.texParameteri(re,U_,I.minFilter),y.texParameteri(re,$_,I.magFilter),y.texParameteri(re,B_,I.wrapS),y.texParameteri(re,G_,I.wrapT),C.ext_texture_filter_anisotropic&&y.texParameteri(re,X_,I.anisotropic),I.genMipmaps&&(y.hint(z_,I.mipmapHint),y.generateMipmap(re))}var Rn=0,Bn={},$n=F.maxTextureUnits,gn=Array($n).map(function(){return null});function bt(I){he.call(this),this.mipmask=0,this.internalformat=ks,this.id=Rn++,this.refCount=1,this.target=I,this.texture=y.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new en,ae.profile&&(this.stats={size:0})}function Un(I){y.activeTexture(mo),y.bindTexture(I.target,I.texture)}function Ht(){var I=gn[0];I?y.bindTexture(I.target,I.texture):y.bindTexture(Mr,null)}function st(I){var re=I.texture;P(re,"must not double destroy texture");var Z=I.unit,qe=I.target;Z>=0&&(y.activeTexture(mo+Z),y.bindTexture(qe,null),gn[Z]=null),y.deleteTexture(re),I.texture=null,I.params=null,I.pixels=null,I.refCount=0,delete Bn[I.id],Q.textureCount--}r(bt.prototype,{bind:function(){var I=this;I.bindCount+=1;var re=I.unit;if(re<0){for(var Z=0;Z<$n;++Z){var qe=gn[Z];if(qe){if(qe.bindCount>0)continue;qe.unit=-1}gn[Z]=I,re=Z;break}re>=$n&&P.raise("insufficient number of texture units"),ae.profile&&Q.maxTextureUnits<re+1&&(Q.maxTextureUnits=re+1),I.unit=re,y.activeTexture(mo+re),y.bindTexture(I.target,I.texture)}return re},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&st(this)}});function Lt(I,re){var Z=new bt(Mr);Bn[Z.id]=Z,Q.textureCount++;function qe(T,x){var z=Z.texInfo;en.call(z);var X=Ot();return typeof T=="number"?typeof x=="number"?mt(X,T|0,x|0):mt(X,T|0,T|0):T?(P.type(T,"object","invalid arguments to regl.texture"),En(z,T),Pt(X,T)):mt(X,1,1),z.genMipmaps&&(X.mipmask=(X.width<<1)-1),Z.mipmask=X.mipmask,ue(Z,X),P.texture2D(z,X,F),Z.internalformat=X.internalformat,qe.width=X.width,qe.height=X.height,Un(Z),on(X,Mr),On(z,Mr),Ht(),Ln(X),ae.profile&&(Z.stats.size=La(Z.internalformat,Z.type,X.width,X.height,z.genMipmaps,!1)),qe.format=we[Z.internalformat],qe.type=$e[Z.type],qe.mag=ve[z.magFilter],qe.min=Ge[z.minFilter],qe.wrapS=xe[z.wrapS],qe.wrapT=xe[z.wrapT],qe}function St(T,x,z,X){P(!!T,"must specify image data");var N=x|0,B=z|0,H=X|0,R=Be();return ue(R,Z),R.width=0,R.height=0,Fe(R,T),R.width=R.width||(Z.width>>H)-N,R.height=R.height||(Z.height>>H)-B,P(Z.type===R.type&&Z.format===R.format&&Z.internalformat===R.internalformat,"incompatible format for texture.subimage"),P(N>=0&&B>=0&&N+R.width<=Z.width&&B+R.height<=Z.height,"texture.subimage write out of bounds"),P(Z.mipmask&1<<H,"missing mipmap data"),P(R.data||R.element||R.needsCopy,"missing image data"),Un(Z),ht(R,Mr,N,B,H),Ht(),Ne(R),qe}function O(T,x){var z=T|0,X=x|0||z;if(z===Z.width&&X===Z.height)return qe;qe.width=Z.width=z,qe.height=Z.height=X,Un(Z);for(var N=0;Z.mipmask>>N;++N){var B=z>>N,H=X>>N;if(!B||!H)break;y.texImage2D(Mr,N,Z.format,B,H,0,Z.format,Z.type,null)}return Ht(),ae.profile&&(Z.stats.size=La(Z.internalformat,Z.type,z,X,!1,!1)),qe}return qe(I,re),qe.subimage=St,qe.resize=O,qe._reglType="texture2d",qe._texture=Z,ae.profile&&(qe.stats=Z.stats),qe.destroy=function(){Z.decRef()},qe}function Ft(I,re,Z,qe,St,O){var T=new bt(Dc);Bn[T.id]=T,Q.cubeCount++;var x=new Array(6);function z(B,H,R,D,M,Y){var W,ce=T.texInfo;for(en.call(ce),W=0;W<6;++W)x[W]=Ot();if(typeof B=="number"||!B){var me=B|0||1;for(W=0;W<6;++W)mt(x[W],me,me)}else if(typeof B=="object")if(H)Pt(x[0],B),Pt(x[1],H),Pt(x[2],R),Pt(x[3],D),Pt(x[4],M),Pt(x[5],Y);else if(En(ce,B),Xe(T,B),"faces"in B){var Re=B.faces;for(P(Array.isArray(Re)&&Re.length===6,"cube faces must be a length 6 array"),W=0;W<6;++W)P(typeof Re[W]=="object"&&!!Re[W],"invalid input for cube map face"),ue(x[W],T),Pt(x[W],Re[W])}else for(W=0;W<6;++W)Pt(x[W],B);else P.raise("invalid arguments to cube map");for(ue(T,x[0]),P.optional(function(){F.npotTextureCube||P(qd(T.width)&&qd(T.height),"your browser does not support non power or two texture dimensions")}),ce.genMipmaps?T.mipmask=(x[0].width<<1)-1:T.mipmask=x[0].mipmask,P.textureCube(T,ce,x,F),T.internalformat=x[0].internalformat,z.width=x[0].width,z.height=x[0].height,Un(T),W=0;W<6;++W)on(x[W],Ea+W);for(On(ce,Dc),Ht(),ae.profile&&(T.stats.size=La(T.internalformat,T.type,z.width,z.height,ce.genMipmaps,!0)),z.format=we[T.internalformat],z.type=$e[T.type],z.mag=ve[ce.magFilter],z.min=Ge[ce.minFilter],z.wrapS=xe[ce.wrapS],z.wrapT=xe[ce.wrapT],W=0;W<6;++W)Ln(x[W]);return z}function X(B,H,R,D,M){P(!!H,"must specify image data"),P(typeof B=="number"&&B===(B|0)&&B>=0&&B<6,"invalid face");var Y=R|0,W=D|0,ce=M|0,me=Be();return ue(me,T),me.width=0,me.height=0,Fe(me,H),me.width=me.width||(T.width>>ce)-Y,me.height=me.height||(T.height>>ce)-W,P(T.type===me.type&&T.format===me.format&&T.internalformat===me.internalformat,"incompatible format for texture.subimage"),P(Y>=0&&W>=0&&Y+me.width<=T.width&&W+me.height<=T.height,"texture.subimage write out of bounds"),P(T.mipmask&1<<ce,"missing mipmap data"),P(me.data||me.element||me.needsCopy,"missing image data"),Un(T),ht(me,Ea+B,Y,W,ce),Ht(),Ne(me),z}function N(B){var H=B|0;if(H!==T.width){z.width=T.width=H,z.height=T.height=H,Un(T);for(var R=0;R<6;++R)for(var D=0;T.mipmask>>D;++D)y.texImage2D(Ea+R,D,T.format,H>>D,H>>D,0,T.format,T.type,null);return Ht(),ae.profile&&(T.stats.size=La(T.internalformat,T.type,z.width,z.height,!1,!0)),z}}return z(I,re,Z,qe,St,O),z.subimage=X,z.resize=N,z._reglType="textureCube",z._texture=T,ae.profile&&(z.stats=T.stats),z.destroy=function(){T.decRef()},z}function vn(){for(var I=0;I<$n;++I)y.activeTexture(mo+I),y.bindTexture(Mr,null),gn[I]=null;dr(Bn).forEach(st),Q.cubeCount=0,Q.textureCount=0}ae.profile&&(Q.getTotalTextureSize=function(){var I=0;return Object.keys(Bn).forEach(function(re){I+=Bn[re].stats.size}),I});function Dr(){for(var I=0;I<$n;++I){var re=gn[I];re&&(re.bindCount=0,re.unit=-1,gn[I]=null)}dr(Bn).forEach(function(Z){Z.texture=y.createTexture(),y.bindTexture(Z.target,Z.texture);for(var qe=0;qe<32;++qe)if(Z.mipmask&1<<qe)if(Z.target===Mr)y.texImage2D(Mr,qe,Z.internalformat,Z.width>>qe,Z.height>>qe,0,Z.internalformat,Z.type,null);else for(var St=0;St<6;++St)y.texImage2D(Ea+St,qe,Z.internalformat,Z.width>>qe,Z.height>>qe,0,Z.internalformat,Z.type,null);On(Z.texInfo,Z.target)})}function Hs(){for(var I=0;I<$n;++I){var re=gn[I];re&&(re.bindCount=0,re.unit=-1,gn[I]=null),y.activeTexture(mo+I),y.bindTexture(Mr,null),y.bindTexture(Dc,null)}}return{create2D:Lt,createCube:Ft,clear:vn,getTexture:function(I){return null},restore:Dr,refresh:Hs}}var fs=36161,Oa=32854,_0=32855,y0=36194,A0=33189,E0=36168,S0=34041,w0=35907,T0=34836,C0=34842,P0=34843,Cr=[];Cr[Oa]=2,Cr[_0]=2,Cr[y0]=2,Cr[A0]=2,Cr[E0]=1,Cr[S0]=4,Cr[w0]=4,Cr[T0]=16,Cr[C0]=8,Cr[P0]=6;function L0(y,C,F){return Cr[y]*C*F}var ay=function(y,C,F,J,de){var Q={rgba4:Oa,rgb565:y0,"rgb5 a1":_0,depth:A0,stencil:E0,"depth stencil":S0};C.ext_srgb&&(Q.srgba=w0),C.ext_color_buffer_half_float&&(Q.rgba16f=C0,Q.rgb16f=P0),C.webgl_color_buffer_float&&(Q.rgba32f=T0);var ae=[];Object.keys(Q).forEach(function(Ee){var Te=Q[Ee];ae[Te]=Ee});var ye=0,be={};function Ce(Ee){this.id=ye++,this.refCount=1,this.renderbuffer=Ee,this.format=Oa,this.width=0,this.height=0,de.profile&&(this.stats={size:0})}Ce.prototype.decRef=function(){--this.refCount<=0&&Le(this)};function Le(Ee){var Te=Ee.renderbuffer;P(Te,"must not double destroy renderbuffer"),y.bindRenderbuffer(fs,null),y.deleteRenderbuffer(Te),Ee.renderbuffer=null,Ee.refCount=0,delete be[Ee.id],J.renderbufferCount--}function Pe(Ee,Te){var q=new Ce(y.createRenderbuffer());be[q.id]=q,J.renderbufferCount++;function ie($e,ve){var Ge=0,xe=0,nt=Oa;if(typeof $e=="object"&&$e){var he=$e;if("shape"in he){var ue=he.shape;P(Array.isArray(ue)&&ue.length>=2,"invalid renderbuffer shape"),Ge=ue[0]|0,xe=ue[1]|0}else"radius"in he&&(Ge=xe=he.radius|0),"width"in he&&(Ge=he.width|0),"height"in he&&(xe=he.height|0);"format"in he&&(P.parameter(he.format,Q,"invalid renderbuffer format"),nt=Q[he.format])}else typeof $e=="number"?(Ge=$e|0,typeof ve=="number"?xe=ve|0:xe=Ge):$e?P.raise("invalid arguments to renderbuffer constructor"):Ge=xe=1;if(P(Ge>0&&xe>0&&Ge<=F.maxRenderbufferSize&&xe<=F.maxRenderbufferSize,"invalid renderbuffer size"),!(Ge===q.width&&xe===q.height&&nt===q.format))return ie.width=q.width=Ge,ie.height=q.height=xe,q.format=nt,y.bindRenderbuffer(fs,q.renderbuffer),y.renderbufferStorage(fs,nt,Ge,xe),P(y.getError()===0,"invalid render buffer format"),de.profile&&(q.stats.size=L0(q.format,q.width,q.height)),ie.format=ae[q.format],ie}function we($e,ve){var Ge=$e|0,xe=ve|0||Ge;return Ge===q.width&&xe===q.height||(P(Ge>0&&xe>0&&Ge<=F.maxRenderbufferSize&&xe<=F.maxRenderbufferSize,"invalid renderbuffer size"),ie.width=q.width=Ge,ie.height=q.height=xe,y.bindRenderbuffer(fs,q.renderbuffer),y.renderbufferStorage(fs,q.format,Ge,xe),P(y.getError()===0,"invalid render buffer format"),de.profile&&(q.stats.size=L0(q.format,q.width,q.height))),ie}return ie(Ee,Te),ie.resize=we,ie._reglType="renderbuffer",ie._renderbuffer=q,de.profile&&(ie.stats=q.stats),ie.destroy=function(){q.decRef()},ie}de.profile&&(J.getTotalRenderbufferSize=function(){var Ee=0;return Object.keys(be).forEach(function(Te){Ee+=be[Te].stats.size}),Ee});function Ie(){dr(be).forEach(function(Ee){Ee.renderbuffer=y.createRenderbuffer(),y.bindRenderbuffer(fs,Ee.renderbuffer),y.renderbufferStorage(fs,Ee.format,Ee.width,Ee.height)}),y.bindRenderbuffer(fs,null)}return{create:Pe,clear:function(){dr(be).forEach(Le)},restore:Ie}},Xr=36160,Zc=36161,Bs=3553,Ra=34069,O0=36064,R0=36096,M0=36128,I0=33306,D0=36053,ly=36054,cy=36055,fy=36057,uy=36061,dy=36193,hy=5121,my=5126,F0=6407,k0=6408,py=6402,gy=[F0,k0],Kc=[];Kc[k0]=4,Kc[F0]=3;var Ma=[];Ma[hy]=1,Ma[my]=4,Ma[dy]=2;var vy=32854,by=32855,_y=36194,yy=33189,Ay=36168,x0=34041,Ey=35907,Sy=34836,wy=34842,Ty=34843,Cy=[vy,by,_y,Ey,wy,Ty,Sy],Ei={};Ei[D0]="complete",Ei[ly]="incomplete attachment",Ei[fy]="incomplete dimensions",Ei[cy]="incomplete, missing attachment",Ei[uy]="unsupported";function Py(y,C,F,J,de,Q){var ae={cur:null,next:null,dirty:!1,setFBO:null},ye=["rgba"],be=["rgba4","rgb565","rgb5 a1"];C.ext_srgb&&be.push("srgba"),C.ext_color_buffer_half_float&&be.push("rgba16f","rgb16f"),C.webgl_color_buffer_float&&be.push("rgba32f");var Ce=["uint8"];C.oes_texture_half_float&&Ce.push("half float","float16"),C.oes_texture_float&&Ce.push("float","float32");function Le(Se,Fe,ke){this.target=Se,this.texture=Fe,this.renderbuffer=ke;var ht=0,ft=0;Fe?(ht=Fe.width,ft=Fe.height):ke&&(ht=ke.width,ft=ke.height),this.width=ht,this.height=ft}function Pe(Se){Se&&(Se.texture&&Se.texture._texture.decRef(),Se.renderbuffer&&Se.renderbuffer._renderbuffer.decRef())}function Ie(Se,Fe,ke){if(Se)if(Se.texture){var ht=Se.texture._texture,ft=Math.max(1,ht.width),Be=Math.max(1,ht.height);P(ft===Fe&&Be===ke,"inconsistent width/height for supplied texture"),ht.refCount+=1}else{var Ne=Se.renderbuffer._renderbuffer;P(Ne.width===Fe&&Ne.height===ke,"inconsistent width/height for renderbuffer"),Ne.refCount+=1}}function Ee(Se,Fe){Fe&&(Fe.texture?y.framebufferTexture2D(Xr,Se,Fe.target,Fe.texture._texture.texture,0):y.framebufferRenderbuffer(Xr,Se,Zc,Fe.renderbuffer._renderbuffer.renderbuffer))}function Te(Se){var Fe=Bs,ke=null,ht=null,ft=Se;typeof Se=="object"&&(ft=Se.data,"target"in Se&&(Fe=Se.target|0)),P.type(ft,"function","invalid attachment data");var Be=ft._reglType;return Be==="texture2d"?(ke=ft,P(Fe===Bs)):Be==="textureCube"?(ke=ft,P(Fe>=Ra&&Fe<Ra+6,"invalid cube map target")):Be==="renderbuffer"?(ht=ft,Fe=Zc):P.raise("invalid regl object for attachment"),new Le(Fe,ke,ht)}function q(Se,Fe,ke,ht,ft){if(ke){var Be=J.create2D({width:Se,height:Fe,format:ht,type:ft});return Be._texture.refCount=0,new Le(Bs,Be,null)}else{var Ne=de.create({width:Se,height:Fe,format:ht});return Ne._renderbuffer.refCount=0,new Le(Zc,null,Ne)}}function ie(Se){return Se&&(Se.texture||Se.renderbuffer)}function we(Se,Fe,ke){Se&&(Se.texture?Se.texture.resize(Fe,ke):Se.renderbuffer&&Se.renderbuffer.resize(Fe,ke),Se.width=Fe,Se.height=ke)}var $e=0,ve={};function Ge(){this.id=$e++,ve[this.id]=this,this.framebuffer=y.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function xe(Se){Se.colorAttachments.forEach(Pe),Pe(Se.depthAttachment),Pe(Se.stencilAttachment),Pe(Se.depthStencilAttachment)}function nt(Se){var Fe=Se.framebuffer;P(Fe,"must not double destroy framebuffer"),y.deleteFramebuffer(Fe),Se.framebuffer=null,Q.framebufferCount--,delete ve[Se.id]}function he(Se){var Fe;y.bindFramebuffer(Xr,Se.framebuffer);var ke=Se.colorAttachments;for(Fe=0;Fe<ke.length;++Fe)Ee(O0+Fe,ke[Fe]);for(Fe=ke.length;Fe<F.maxColorAttachments;++Fe)y.framebufferTexture2D(Xr,O0+Fe,Bs,null,0);y.framebufferTexture2D(Xr,I0,Bs,null,0),y.framebufferTexture2D(Xr,R0,Bs,null,0),y.framebufferTexture2D(Xr,M0,Bs,null,0),Ee(R0,Se.depthAttachment),Ee(M0,Se.stencilAttachment),Ee(I0,Se.depthStencilAttachment);var ht=y.checkFramebufferStatus(Xr);!y.isContextLost()&&ht!==D0&&P.raise("framebuffer configuration not supported, status = "+Ei[ht]),y.bindFramebuffer(Xr,ae.next?ae.next.framebuffer:null),ae.cur=ae.next,y.getError()}function ue(Se,Fe){var ke=new Ge;Q.framebufferCount++;function ht(Be,Ne){var it;P(ae.next!==ke,"can not update framebuffer which is currently in use");var mt=0,Pt=0,on=!0,fn=!0,Ot=null,Ln=!0,en="rgba",En="uint8",On=1,Rn=null,Bn=null,$n=null,gn=!1;if(typeof Be=="number")mt=Be|0,Pt=Ne|0||mt;else if(!Be)mt=Pt=1;else{P.type(Be,"object","invalid arguments for framebuffer");var bt=Be;if("shape"in bt){var Un=bt.shape;P(Array.isArray(Un)&&Un.length>=2,"invalid shape for framebuffer"),mt=Un[0],Pt=Un[1]}else"radius"in bt&&(mt=Pt=bt.radius),"width"in bt&&(mt=bt.width),"height"in bt&&(Pt=bt.height);("color"in bt||"colors"in bt)&&(Ot=bt.color||bt.colors,Array.isArray(Ot)&&P(Ot.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),Ot||("colorCount"in bt&&(On=bt.colorCount|0,P(On>0,"invalid color buffer count")),"colorTexture"in bt&&(Ln=!!bt.colorTexture,en="rgba4"),"colorType"in bt&&(En=bt.colorType,Ln?(P(C.oes_texture_float||!(En==="float"||En==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),P(C.oes_texture_half_float||!(En==="half float"||En==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):En==="half float"||En==="float16"?(P(C.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),en="rgba16f"):(En==="float"||En==="float32")&&(P(C.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),en="rgba32f"),P.oneOf(En,Ce,"invalid color type")),"colorFormat"in bt&&(en=bt.colorFormat,ye.indexOf(en)>=0?Ln=!0:be.indexOf(en)>=0?Ln=!1:P.optional(function(){Ln?P.oneOf(bt.colorFormat,ye,"invalid color format for texture"):P.oneOf(bt.colorFormat,be,"invalid color format for renderbuffer")}))),("depthTexture"in bt||"depthStencilTexture"in bt)&&(gn=!!(bt.depthTexture||bt.depthStencilTexture),P(!gn||C.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in bt&&(typeof bt.depth=="boolean"?on=bt.depth:(Rn=bt.depth,fn=!1)),"stencil"in bt&&(typeof bt.stencil=="boolean"?fn=bt.stencil:(Bn=bt.stencil,on=!1)),"depthStencil"in bt&&(typeof bt.depthStencil=="boolean"?on=fn=bt.depthStencil:($n=bt.depthStencil,on=!1,fn=!1))}var Ht=null,st=null,Lt=null,Ft=null;if(Array.isArray(Ot))Ht=Ot.map(Te);else if(Ot)Ht=[Te(Ot)];else for(Ht=new Array(On),it=0;it<On;++it)Ht[it]=q(mt,Pt,Ln,en,En);P(C.webgl_draw_buffers||Ht.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),P(Ht.length<=F.maxColorAttachments,"too many color attachments, not supported"),mt=mt||Ht[0].width,Pt=Pt||Ht[0].height,Rn?st=Te(Rn):on&&!fn&&(st=q(mt,Pt,gn,"depth","uint32")),Bn?Lt=Te(Bn):fn&&!on&&(Lt=q(mt,Pt,!1,"stencil","uint8")),$n?Ft=Te($n):!Rn&&!Bn&&fn&&on&&(Ft=q(mt,Pt,gn,"depth stencil","depth stencil")),P(!!Rn+!!Bn+!!$n<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var vn=null;for(it=0;it<Ht.length;++it)if(Ie(Ht[it],mt,Pt),P(!Ht[it]||Ht[it].texture&&gy.indexOf(Ht[it].texture._texture.format)>=0||Ht[it].renderbuffer&&Cy.indexOf(Ht[it].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+it+" is invalid"),Ht[it]&&Ht[it].texture){var Dr=Kc[Ht[it].texture._texture.format]*Ma[Ht[it].texture._texture.type];vn===null?vn=Dr:P(vn===Dr,"all color attachments much have the same number of bits per pixel.")}return Ie(st,mt,Pt),P(!st||st.texture&&st.texture._texture.format===py||st.renderbuffer&&st.renderbuffer._renderbuffer.format===yy,"invalid depth attachment for framebuffer object"),Ie(Lt,mt,Pt),P(!Lt||Lt.renderbuffer&&Lt.renderbuffer._renderbuffer.format===Ay,"invalid stencil attachment for framebuffer object"),Ie(Ft,mt,Pt),P(!Ft||Ft.texture&&Ft.texture._texture.format===x0||Ft.renderbuffer&&Ft.renderbuffer._renderbuffer.format===x0,"invalid depth-stencil attachment for framebuffer object"),xe(ke),ke.width=mt,ke.height=Pt,ke.colorAttachments=Ht,ke.depthAttachment=st,ke.stencilAttachment=Lt,ke.depthStencilAttachment=Ft,ht.color=Ht.map(ie),ht.depth=ie(st),ht.stencil=ie(Lt),ht.depthStencil=ie(Ft),ht.width=ke.width,ht.height=ke.height,he(ke),ht}function ft(Be,Ne){P(ae.next!==ke,"can not resize a framebuffer which is currently in use");var it=Math.max(Be|0,1),mt=Math.max(Ne|0||it,1);if(it===ke.width&&mt===ke.height)return ht;for(var Pt=ke.colorAttachments,on=0;on<Pt.length;++on)we(Pt[on],it,mt);return we(ke.depthAttachment,it,mt),we(ke.stencilAttachment,it,mt),we(ke.depthStencilAttachment,it,mt),ke.width=ht.width=it,ke.height=ht.height=mt,he(ke),ht}return ht(Se,Fe),r(ht,{resize:ft,_reglType:"framebuffer",_framebuffer:ke,destroy:function(){nt(ke),xe(ke)},use:function(Be){ae.setFBO({framebuffer:ht},Be)}})}function Xe(Se){var Fe=Array(6);function ke(ft){var Be;P(Fe.indexOf(ae.next)<0,"can not update framebuffer which is currently in use");var Ne={color:null},it=0,mt=null,Pt="rgba",on="uint8",fn=1;if(typeof ft=="number")it=ft|0;else if(!ft)it=1;else{P.type(ft,"object","invalid arguments for framebuffer");var Ot=ft;if("shape"in Ot){var Ln=Ot.shape;P(Array.isArray(Ln)&&Ln.length>=2,"invalid shape for framebuffer"),P(Ln[0]===Ln[1],"cube framebuffer must be square"),it=Ln[0]}else"radius"in Ot&&(it=Ot.radius|0),"width"in Ot?(it=Ot.width|0,"height"in Ot&&P(Ot.height===it,"must be square")):"height"in Ot&&(it=Ot.height|0);("color"in Ot||"colors"in Ot)&&(mt=Ot.color||Ot.colors,Array.isArray(mt)&&P(mt.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),mt||("colorCount"in Ot&&(fn=Ot.colorCount|0,P(fn>0,"invalid color buffer count")),"colorType"in Ot&&(P.oneOf(Ot.colorType,Ce,"invalid color type"),on=Ot.colorType),"colorFormat"in Ot&&(Pt=Ot.colorFormat,P.oneOf(Ot.colorFormat,ye,"invalid color format for texture"))),"depth"in Ot&&(Ne.depth=Ot.depth),"stencil"in Ot&&(Ne.stencil=Ot.stencil),"depthStencil"in Ot&&(Ne.depthStencil=Ot.depthStencil)}var en;if(mt)if(Array.isArray(mt))for(en=[],Be=0;Be<mt.length;++Be)en[Be]=mt[Be];else en=[mt];else{en=Array(fn);var En={radius:it,format:Pt,type:on};for(Be=0;Be<fn;++Be)en[Be]=J.createCube(En)}for(Ne.color=Array(en.length),Be=0;Be<en.length;++Be){var On=en[Be];P(typeof On=="function"&&On._reglType==="textureCube","invalid cube map"),it=it||On.width,P(On.width===it&&On.height===it,"invalid cube map shape"),Ne.color[Be]={target:Ra,data:en[Be]}}for(Be=0;Be<6;++Be){for(var Rn=0;Rn<en.length;++Rn)Ne.color[Rn].target=Ra+Be;Be>0&&(Ne.depth=Fe[0].depth,Ne.stencil=Fe[0].stencil,Ne.depthStencil=Fe[0].depthStencil),Fe[Be]?Fe[Be](Ne):Fe[Be]=ue(Ne)}return r(ke,{width:it,height:it,color:en})}function ht(ft){var Be,Ne=ft|0;if(P(Ne>0&&Ne<=F.maxCubeMapSize,"invalid radius for cube fbo"),Ne===ke.width)return ke;var it=ke.color;for(Be=0;Be<it.length;++Be)it[Be].resize(Ne);for(Be=0;Be<6;++Be)Fe[Be].resize(Ne);return ke.width=ke.height=Ne,ke}return ke(Se),r(ke,{faces:Fe,resize:ht,_reglType:"framebufferCube",destroy:function(){Fe.forEach(function(ft){ft.destroy()})}})}function De(){ae.cur=null,ae.next=null,ae.dirty=!0,dr(ve).forEach(function(Se){Se.framebuffer=y.createFramebuffer(),he(Se)})}return r(ae,{getFramebuffer:function(Se){if(typeof Se=="function"&&Se._reglType==="framebuffer"){var Fe=Se._framebuffer;if(Fe instanceof Ge)return Fe}return null},create:ue,createCube:Xe,clear:function(){dr(ve).forEach(nt)},restore:De})}var Ly=5126,B0=34962,Ia=34963,G0=["attributes","elements","offset","count","primitive","instances"];function Qc(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Ly,this.offset=0,this.stride=0,this.divisor=0}function Oy(y,C,F,J,de,Q,ae){for(var ye=F.maxAttributes,be=new Array(ye),Ce=0;Ce<ye;++Ce)be[Ce]=new Qc;var Le=0,Pe={},Ie={Record:Qc,scope:{},state:be,currentVAO:null,targetVAO:null,restore:Te()?xe:function(){},createVAO:nt,getVAO:ie,destroyBuffer:Ee,setVAO:Te()?we:$e,clear:Te()?ve:function(){}};function Ee(he){for(var ue=0;ue<be.length;++ue){var Xe=be[ue];Xe.buffer===he&&(y.disableVertexAttribArray(ue),Xe.buffer=null)}}function Te(){return C.oes_vertex_array_object}function q(){return C.angle_instanced_arrays}function ie(he){return typeof he=="function"&&he._vao?he._vao:null}function we(he){if(he!==Ie.currentVAO){var ue=Te();he?ue.bindVertexArrayOES(he.vao):ue.bindVertexArrayOES(null),Ie.currentVAO=he}}function $e(he){if(he!==Ie.currentVAO){if(he)he.bindAttrs();else{for(var ue=q(),Xe=0;Xe<be.length;++Xe){var De=be[Xe];De.buffer?(y.enableVertexAttribArray(Xe),De.buffer.bind(),y.vertexAttribPointer(Xe,De.size,De.type,De.normalized,De.stride,De.offfset),ue&&De.divisor&&ue.vertexAttribDivisorANGLE(Xe,De.divisor)):(y.disableVertexAttribArray(Xe),y.vertexAttrib4f(Xe,De.x,De.y,De.z,De.w))}ae.elements?y.bindBuffer(Ia,ae.elements.buffer.buffer):y.bindBuffer(Ia,null)}Ie.currentVAO=he}}function ve(){dr(Pe).forEach(function(he){he.destroy()})}function Ge(){this.id=++Le,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var he=Te();he?this.vao=he.createVertexArrayOES():this.vao=null,Pe[this.id]=this,this.buffers=[]}Ge.prototype.bindAttrs=function(){for(var he=q(),ue=this.attributes,Xe=0;Xe<ue.length;++Xe){var De=ue[Xe];De.buffer?(y.enableVertexAttribArray(Xe),y.bindBuffer(B0,De.buffer.buffer),y.vertexAttribPointer(Xe,De.size,De.type,De.normalized,De.stride,De.offset),he&&De.divisor&&he.vertexAttribDivisorANGLE(Xe,De.divisor)):(y.disableVertexAttribArray(Xe),y.vertexAttrib4f(Xe,De.x,De.y,De.z,De.w))}for(var Se=ue.length;Se<ye;++Se)y.disableVertexAttribArray(Se);var Fe=Q.getElements(this.elements);Fe?y.bindBuffer(Ia,Fe.buffer.buffer):y.bindBuffer(Ia,null)},Ge.prototype.refresh=function(){var he=Te();he&&(he.bindVertexArrayOES(this.vao),this.bindAttrs(),Ie.currentVAO=null,he.bindVertexArrayOES(null))},Ge.prototype.destroy=function(){if(this.vao){var he=Te();this===Ie.currentVAO&&(Ie.currentVAO=null,he.bindVertexArrayOES(null)),he.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Pe[this.id]&&(delete Pe[this.id],J.vaoCount-=1)};function xe(){var he=Te();he&&dr(Pe).forEach(function(ue){ue.refresh()})}function nt(he){var ue=new Ge;J.vaoCount+=1;function Xe(De){var Se;if(Array.isArray(De))Se=De,ue.elements&&ue.ownsElements&&ue.elements.destroy(),ue.elements=null,ue.ownsElements=!1,ue.offset=0,ue.count=0,ue.instances=-1,ue.primitive=4;else{if(P(typeof De=="object","invalid arguments for create vao"),P("attributes"in De,"must specify attributes for vao"),De.elements){var Fe=De.elements;ue.ownsElements?typeof Fe=="function"&&Fe._reglType==="elements"?(ue.elements.destroy(),ue.ownsElements=!1):(ue.elements(Fe),ue.ownsElements=!1):Q.getElements(De.elements)?(ue.elements=De.elements,ue.ownsElements=!1):(ue.elements=Q.create(De.elements),ue.ownsElements=!0)}else ue.elements=null,ue.ownsElements=!1;Se=De.attributes,ue.offset=0,ue.count=-1,ue.instances=-1,ue.primitive=4,ue.elements&&(ue.count=ue.elements._elements.vertCount,ue.primitive=ue.elements._elements.primType),"offset"in De&&(ue.offset=De.offset|0),"count"in De&&(ue.count=De.count|0),"instances"in De&&(ue.instances=De.instances|0),"primitive"in De&&(P(De.primitive in cs,"bad primitive type: "+De.primitive),ue.primitive=cs[De.primitive]),P.optional(()=>{for(var on=Object.keys(De),fn=0;fn<on.length;++fn)P(G0.indexOf(on[fn])>=0,'invalid option for vao: "'+on[fn]+'" valid options are '+G0)}),P(Array.isArray(Se),"attributes must be an array")}P(Se.length<ye,"too many attributes"),P(Se.length>0,"must specify at least one attribute");var ke={},ht=ue.attributes;ht.length=Se.length;for(var ft=0;ft<Se.length;++ft){var Be=Se[ft],Ne=ht[ft]=new Qc,it=Be.data||Be;if(Array.isArray(it)||n(it)||Tr(it)){var mt;ue.buffers[ft]&&(mt=ue.buffers[ft],n(it)&&mt._buffer.byteLength>=it.byteLength?mt.subdata(it):(mt.destroy(),ue.buffers[ft]=null)),ue.buffers[ft]||(mt=ue.buffers[ft]=de.create(Be,B0,!1,!0)),Ne.buffer=de.getBuffer(mt),Ne.size=Ne.buffer.dimension|0,Ne.normalized=!1,Ne.type=Ne.buffer.dtype,Ne.offset=0,Ne.stride=0,Ne.divisor=0,Ne.state=1,ke[ft]=1}else de.getBuffer(Be)?(Ne.buffer=de.getBuffer(Be),Ne.size=Ne.buffer.dimension|0,Ne.normalized=!1,Ne.type=Ne.buffer.dtype,Ne.offset=0,Ne.stride=0,Ne.divisor=0,Ne.state=1):de.getBuffer(Be.buffer)?(Ne.buffer=de.getBuffer(Be.buffer),Ne.size=(+Be.size||Ne.buffer.dimension)|0,Ne.normalized=!!Be.normalized||!1,"type"in Be?(P.parameter(Be.type,Ds,"invalid buffer type"),Ne.type=Ds[Be.type]):Ne.type=Ne.buffer.dtype,Ne.offset=(Be.offset||0)|0,Ne.stride=(Be.stride||0)|0,Ne.divisor=(Be.divisor||0)|0,Ne.state=1,P(Ne.size>=1&&Ne.size<=4,"size must be between 1 and 4"),P(Ne.offset>=0,"invalid offset"),P(Ne.stride>=0&&Ne.stride<=255,"stride must be between 0 and 255"),P(Ne.divisor>=0,"divisor must be positive"),P(!Ne.divisor||!!C.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Be?(P(ft>0,"first attribute must not be a constant"),Ne.x=+Be.x||0,Ne.y=+Be.y||0,Ne.z=+Be.z||0,Ne.w=+Be.w||0,Ne.state=2):P(!1,"invalid attribute spec for location "+ft)}for(var Pt=0;Pt<ue.buffers.length;++Pt)!ke[Pt]&&ue.buffers[Pt]&&(ue.buffers[Pt].destroy(),ue.buffers[Pt]=null);return ue.refresh(),Xe}return Xe.destroy=function(){for(var De=0;De<ue.buffers.length;++De)ue.buffers[De]&&ue.buffers[De].destroy();ue.buffers.length=0,ue.ownsElements&&(ue.elements.destroy(),ue.elements=null,ue.ownsElements=!1),ue.destroy()},Xe._vao=ue,Xe._reglType="vao",Xe(he)}return Ie}var N0=35632,Ry=35633,My=35718,Iy=35721;function Dy(y,C,F,J){var de={},Q={};function ae(q,ie,we,$e){this.name=q,this.id=ie,this.location=we,this.info=$e}function ye(q,ie){for(var we=0;we<q.length;++we)if(q[we].id===ie.id){q[we].location=ie.location;return}q.push(ie)}function be(q,ie,we){var $e=q===N0?de:Q,ve=$e[ie];if(!ve){var Ge=C.str(ie);ve=y.createShader(q),y.shaderSource(ve,Ge),y.compileShader(ve),P.shaderError(y,ve,Ge,q,we),$e[ie]=ve}return ve}var Ce={},Le=[],Pe=0;function Ie(q,ie){this.id=Pe++,this.fragId=q,this.vertId=ie,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,J.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ee(q,ie,we){var $e,ve,Ge=be(N0,q.fragId),xe=be(Ry,q.vertId),nt=q.program=y.createProgram();if(y.attachShader(nt,Ge),y.attachShader(nt,xe),we)for($e=0;$e<we.length;++$e){var he=we[$e];y.bindAttribLocation(nt,he[0],he[1])}y.linkProgram(nt),P.linkError(y,nt,C.str(q.fragId),C.str(q.vertId),ie);var ue=y.getProgramParameter(nt,My);J.profile&&(q.stats.uniformsCount=ue);var Xe=q.uniforms;for($e=0;$e<ue;++$e)if(ve=y.getActiveUniform(nt,$e),ve){if(ve.size>1)for(var De=0;De<ve.size;++De){var Se=ve.name.replace("[0]","["+De+"]");ye(Xe,new ae(Se,C.id(Se),y.getUniformLocation(nt,Se),ve))}var Fe=ve.name;ve.size>1&&(Fe=Fe.replace("[0]","")),ye(Xe,new ae(Fe,C.id(Fe),y.getUniformLocation(nt,Fe),ve))}var ke=y.getProgramParameter(nt,Iy);J.profile&&(q.stats.attributesCount=ke);var ht=q.attributes;for($e=0;$e<ke;++$e)ve=y.getActiveAttrib(nt,$e),ve&&ye(ht,new ae(ve.name,C.id(ve.name),y.getAttribLocation(nt,ve.name),ve))}J.profile&&(F.getMaxUniformsCount=function(){var q=0;return Le.forEach(function(ie){ie.stats.uniformsCount>q&&(q=ie.stats.uniformsCount)}),q},F.getMaxAttributesCount=function(){var q=0;return Le.forEach(function(ie){ie.stats.attributesCount>q&&(q=ie.stats.attributesCount)}),q});function Te(){de={},Q={};for(var q=0;q<Le.length;++q)Ee(Le[q],null,Le[q].attributes.map(function(ie){return[ie.location,ie.name]}))}return{clear:function(){var q=y.deleteShader.bind(y);dr(de).forEach(q),de={},dr(Q).forEach(q),Q={},Le.forEach(function(ie){y.deleteProgram(ie.program)}),Le.length=0,Ce={},F.shaderCount=0},program:function(q,ie,we,$e){P.command(q>=0,"missing vertex shader",we),P.command(ie>=0,"missing fragment shader",we);var ve=Ce[ie];ve||(ve=Ce[ie]={});var Ge=ve[q];if(Ge&&(Ge.refCount++,!$e))return Ge;var xe=new Ie(ie,q);return F.shaderCount++,Ee(xe,we,$e),Ge||(ve[q]=xe),Le.push(xe),r(xe,{destroy:function(){if(xe.refCount--,xe.refCount<=0){y.deleteProgram(xe.program);var nt=Le.indexOf(xe);Le.splice(nt,1),F.shaderCount--}ve[xe.vertId].refCount<=0&&(y.deleteShader(Q[xe.vertId]),delete Q[xe.vertId],delete Ce[xe.fragId][xe.vertId]),Object.keys(Ce[xe.fragId]).length||(y.deleteShader(de[xe.fragId]),delete de[xe.fragId],delete Ce[xe.fragId])}})},restore:Te,shader:be,frag:-1,vert:-1}}var Fy=6408,po=5121,ky=3333,Da=5126;function xy(y,C,F,J,de,Q,ae){function ye(Le){var Pe;C.next===null?(P(de.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Pe=po):(P(C.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Pe=C.next.colorAttachments[0].texture._texture.type,P.optional(function(){Q.oes_texture_float?(P(Pe===po||Pe===Da,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Pe===Da&&P(ae.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):P(Pe===po,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Ie=0,Ee=0,Te=J.framebufferWidth,q=J.framebufferHeight,ie=null;n(Le)?ie=Le:Le&&(P.type(Le,"object","invalid arguments to regl.read()"),Ie=Le.x|0,Ee=Le.y|0,P(Ie>=0&&Ie<J.framebufferWidth,"invalid x offset for regl.read"),P(Ee>=0&&Ee<J.framebufferHeight,"invalid y offset for regl.read"),Te=(Le.width||J.framebufferWidth-Ie)|0,q=(Le.height||J.framebufferHeight-Ee)|0,ie=Le.data||null),ie&&(Pe===po?P(ie instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Pe===Da&&P(ie instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),P(Te>0&&Te+Ie<=J.framebufferWidth,"invalid width for read pixels"),P(q>0&&q+Ee<=J.framebufferHeight,"invalid height for read pixels"),F();var we=Te*q*4;return ie||(Pe===po?ie=new Uint8Array(we):Pe===Da&&(ie=ie||new Float32Array(we))),P.isTypedArray(ie,"data buffer for regl.read() must be a typedarray"),P(ie.byteLength>=we,"data buffer for regl.read() too small"),y.pixelStorei(ky,4),y.readPixels(Ie,Ee,Te,q,Fy,Pe,ie),ie}function be(Le){var Pe;return C.setFBO({framebuffer:Le.framebuffer},function(){Pe=ye(Le)}),Pe}function Ce(Le){return!Le||!("framebuffer"in Le)?ye(Le):be(Le)}return Ce}function Si(y){return Array.prototype.slice.call(y)}function wi(y){return Si(y).join("")}function By(){var y=0,C=[],F=[];function J(Pe){for(var Ie=0;Ie<F.length;++Ie)if(F[Ie]===Pe)return C[Ie];var Ee="g"+y++;return C.push(Ee),F.push(Pe),Ee}function de(){var Pe=[];function Ie(){Pe.push.apply(Pe,Si(arguments))}var Ee=[];function Te(){var q="v"+y++;return Ee.push(q),arguments.length>0&&(Pe.push(q,"="),Pe.push.apply(Pe,Si(arguments)),Pe.push(";")),q}return r(Ie,{def:Te,toString:function(){return wi([Ee.length>0?"var "+Ee.join(",")+";":"",wi(Pe)])}})}function Q(){var Pe=de(),Ie=de(),Ee=Pe.toString,Te=Ie.toString;function q(ie,we){Ie(ie,we,"=",Pe.def(ie,we),";")}return r(function(){Pe.apply(Pe,Si(arguments))},{def:Pe.def,entry:Pe,exit:Ie,save:q,set:function(ie,we,$e){q(ie,we),Pe(ie,we,"=",$e,";")},toString:function(){return Ee()+Te()}})}function ae(){var Pe=wi(arguments),Ie=Q(),Ee=Q(),Te=Ie.toString,q=Ee.toString;return r(Ie,{then:function(){return Ie.apply(Ie,Si(arguments)),this},else:function(){return Ee.apply(Ee,Si(arguments)),this},toString:function(){var ie=q();return ie&&(ie="else{"+ie+"}"),wi(["if(",Pe,"){",Te(),"}",ie])}})}var ye=de(),be={};function Ce(Pe,Ie){var Ee=[];function Te(){var ve="a"+Ee.length;return Ee.push(ve),ve}Ie=Ie||0;for(var q=0;q<Ie;++q)Te();var ie=Q(),we=ie.toString,$e=be[Pe]=r(ie,{arg:Te,toString:function(){return wi(["function(",Ee.join(),"){",we(),"}"])}});return $e}function Le(){var Pe=['"use strict";',ye,"return {"];Object.keys(be).forEach(function(Te){Pe.push('"',Te,'":',be[Te].toString(),",")}),Pe.push("}");var Ie=wi(Pe).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ee=Function.apply(null,C.concat(Ie));return Ee.apply(null,F)}return{global:ye,link:J,block:de,proc:Ce,scope:Q,cond:ae,compile:Le}}var Ti="xyzw".split(""),V0=5121,Ci=1,Jc=2,ef=0,tf=1,nf=2,rf=3,Fa=4,$0=5,U0=6,H0="dither",z0="blend.enable",j0="blend.color",sf="blend.equation",of="blend.func",q0="depth.enable",X0="depth.func",W0="depth.range",Y0="depth.mask",af="colorMask",Z0="cull.enable",K0="cull.face",lf="frontFace",cf="lineWidth",Q0="polygonOffset.enable",ff="polygonOffset.offset",J0="sample.alpha",e1="sample.enable",uf="sample.coverage",t1="stencil.enable",n1="stencil.mask",df="stencil.func",hf="stencil.opFront",go="stencil.opBack",r1="scissor.enable",ka="scissor.box",Wr="viewport",vo="profile",Gs="framebuffer",bo="vert",_o="frag",Ns="elements",Vs="primitive",$s="count",xa="offset",Ba="instances",yo="vao",mf="Width",pf="Height",Pi=Gs+mf,Li=Gs+pf,Gy=Wr+mf,Ny=Wr+pf,s1="drawingBuffer",i1=s1+mf,o1=s1+pf,Vy=[of,sf,df,hf,go,uf,Wr,ka,ff],Oi=34962,gf=34963,$y=35632,Uy=35633,a1=3553,Hy=34067,zy=2884,jy=3042,qy=3024,Xy=2960,Wy=2929,Yy=3089,Zy=32823,Ky=32926,Qy=32928,vf=5126,Ga=35664,Na=35665,Va=35666,bf=5124,$a=35667,Ua=35668,Ha=35669,_f=35670,za=35671,ja=35672,qa=35673,Ao=35674,Eo=35675,So=35676,wo=35678,To=35680,yf=4,Co=1028,Us=1029,l1=2304,Af=2305,Jy=32775,e5=32776,t5=519,us=7680,c1=0,f1=1,u1=32774,n5=513,d1=36160,r5=36064,Ir={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},h1=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ri={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ds={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},m1={frag:$y,vert:Uy},Ef={cw:l1,ccw:Af};function Xa(y){return Array.isArray(y)||n(y)||Tr(y)}function p1(y){return y.sort(function(C,F){return C===Wr?-1:F===Wr?1:C<F?-1:1})}function Dn(y,C,F,J){this.thisDep=y,this.contextDep=C,this.propDep=F,this.append=J}function hs(y){return y&&!(y.thisDep||y.contextDep||y.propDep)}function An(y){return new Dn(!1,!1,!1,y)}function sr(y,C){var F=y.type;if(F===ef){var J=y.data.length;return new Dn(!0,J>=1,J>=2,C)}else if(F===Fa){var de=y.data;return new Dn(de.thisDep,de.contextDep,de.propDep,C)}else{if(F===$0)return new Dn(!1,!1,!1,C);if(F===U0){for(var Q=!1,ae=!1,ye=!1,be=0;be<y.data.length;++be){var Ce=y.data[be];if(Ce.type===tf)ye=!0;else if(Ce.type===nf)ae=!0;else if(Ce.type===rf)Q=!0;else if(Ce.type===ef){Q=!0;var Le=Ce.data;Le>=1&&(ae=!0),Le>=2&&(ye=!0)}else Ce.type===Fa&&(Q=Q||Ce.data.thisDep,ae=ae||Ce.data.contextDep,ye=ye||Ce.data.propDep)}return new Dn(Q,ae,ye,C)}else return new Dn(F===rf,F===nf,F===tf,C)}}var g1=new Dn(!1,!1,!1,function(){});function s5(y,C,F,J,de,Q,ae,ye,be,Ce,Le,Pe,Ie,Ee,Te){var q=Ce.Record,ie={add:32774,subtract:32778,"reverse subtract":32779};F.ext_blend_minmax&&(ie.min=Jy,ie.max=e5);var we=F.angle_instanced_arrays,$e=F.webgl_draw_buffers,ve=F.oes_vertex_array_object,Ge={dirty:!0,profile:Te.profile},xe={},nt=[],he={},ue={};function Xe(O){return O.replace(".","_")}function De(O,T,x){var z=Xe(O);nt.push(O),xe[z]=Ge[z]=!!x,he[z]=T}function Se(O,T,x){var z=Xe(O);nt.push(O),Array.isArray(x)?(Ge[z]=x.slice(),xe[z]=x.slice()):Ge[z]=xe[z]=x,ue[z]=T}De(H0,qy),De(z0,jy),Se(j0,"blendColor",[0,0,0,0]),Se(sf,"blendEquationSeparate",[u1,u1]),Se(of,"blendFuncSeparate",[f1,c1,f1,c1]),De(q0,Wy,!0),Se(X0,"depthFunc",n5),Se(W0,"depthRange",[0,1]),Se(Y0,"depthMask",!0),Se(af,af,[!0,!0,!0,!0]),De(Z0,zy),Se(K0,"cullFace",Us),Se(lf,lf,Af),Se(cf,cf,1),De(Q0,Zy),Se(ff,"polygonOffset",[0,0]),De(J0,Ky),De(e1,Qy),Se(uf,"sampleCoverage",[1,!1]),De(t1,Xy),Se(n1,"stencilMask",-1),Se(df,"stencilFunc",[t5,0,-1]),Se(hf,"stencilOpSeparate",[Co,us,us,us]),Se(go,"stencilOpSeparate",[Us,us,us,us]),De(r1,Yy),Se(ka,"scissor",[0,0,y.drawingBufferWidth,y.drawingBufferHeight]),Se(Wr,Wr,[0,0,y.drawingBufferWidth,y.drawingBufferHeight]);var Fe={gl:y,context:Ie,strings:C,next:xe,current:Ge,draw:Pe,elements:Q,buffer:de,shader:Le,attributes:Ce.state,vao:Ce,uniforms:be,framebuffer:ye,extensions:F,timer:Ee,isBufferArgs:Xa},ke={primTypes:cs,compareFuncs:Ri,blendFuncs:Ir,blendEquations:ie,stencilOps:ds,glTypes:Ds,orientationType:Ef};P.optional(function(){Fe.isArrayLike=sn}),$e&&(ke.backBuffer=[Us],ke.drawBuffer=Qn(J.maxDrawbuffers,function(O){return O===0?[0]:Qn(O,function(T){return r5+T})}));var ht=0;function ft(){var O=By(),T=O.link,x=O.global;O.id=ht++,O.batchId="0";var z=T(Fe),X=O.shared={props:"a0"};Object.keys(Fe).forEach(function(D){X[D]=x.def(z,".",D)}),P.optional(function(){O.CHECK=T(P),O.commandStr=P.guessCommand(),O.command=T(O.commandStr),O.assert=function(D,M,Y){D("if(!(",M,"))",this.CHECK,".commandRaise(",T(Y),",",this.command,");")},ke.invalidBlendCombinations=h1});var N=O.next={},B=O.current={};Object.keys(ue).forEach(function(D){Array.isArray(Ge[D])&&(N[D]=x.def(X.next,".",D),B[D]=x.def(X.current,".",D))});var H=O.constants={};Object.keys(ke).forEach(function(D){H[D]=x.def(JSON.stringify(ke[D]))}),O.invoke=function(D,M){switch(M.type){case ef:var Y=["this",X.context,X.props,O.batchId];return D.def(T(M.data),".call(",Y.slice(0,Math.max(M.data.length+1,4)),")");case tf:return D.def(X.props,M.data);case nf:return D.def(X.context,M.data);case rf:return D.def("this",M.data);case Fa:return M.data.append(O,D),M.data.ref;case $0:return M.data.toString();case U0:return M.data.map(function(W){return O.invoke(D,W)})}},O.attribCache={};var R={};return O.scopeAttrib=function(D){var M=C.id(D);if(M in R)return R[M];var Y=Ce.scope[M];Y||(Y=Ce.scope[M]=new q);var W=R[M]=T(Y);return W},O}function Be(O){var T=O.static,x=O.dynamic,z;if(vo in T){var X=!!T[vo];z=An(function(B,H){return X}),z.enable=X}else if(vo in x){var N=x[vo];z=sr(N,function(B,H){return B.invoke(H,N)})}return z}function Ne(O,T){var x=O.static,z=O.dynamic;if(Gs in x){var X=x[Gs];return X?(X=ye.getFramebuffer(X),P.command(X,"invalid framebuffer object"),An(function(B,H){var R=B.link(X),D=B.shared;H.set(D.framebuffer,".next",R);var M=D.context;return H.set(M,"."+Pi,R+".width"),H.set(M,"."+Li,R+".height"),R})):An(function(B,H){var R=B.shared;H.set(R.framebuffer,".next","null");var D=R.context;return H.set(D,"."+Pi,D+"."+i1),H.set(D,"."+Li,D+"."+o1),"null"})}else if(Gs in z){var N=z[Gs];return sr(N,function(B,H){var R=B.invoke(H,N),D=B.shared,M=D.framebuffer,Y=H.def(M,".getFramebuffer(",R,")");P.optional(function(){B.assert(H,"!"+R+"||"+Y,"invalid framebuffer object")}),H.set(M,".next",Y);var W=D.context;return H.set(W,"."+Pi,Y+"?"+Y+".width:"+W+"."+i1),H.set(W,"."+Li,Y+"?"+Y+".height:"+W+"."+o1),Y})}else return null}function it(O,T,x){var z=O.static,X=O.dynamic;function N(R){if(R in z){var D=z[R];P.commandType(D,"object","invalid "+R,x.commandStr);var M=!0,Y=D.x|0,W=D.y|0,ce,me;return"width"in D?(ce=D.width|0,P.command(ce>=0,"invalid "+R,x.commandStr)):M=!1,"height"in D?(me=D.height|0,P.command(me>=0,"invalid "+R,x.commandStr)):M=!1,new Dn(!M&&T&&T.thisDep,!M&&T&&T.contextDep,!M&&T&&T.propDep,function(tt,ze){var ge=tt.shared.context,le=ce;"width"in D||(le=ze.def(ge,".",Pi,"-",Y));var Ze=me;return"height"in D||(Ze=ze.def(ge,".",Li,"-",W)),[Y,W,le,Ze]})}else if(R in X){var Re=X[R],at=sr(Re,function(tt,ze){var ge=tt.invoke(ze,Re);P.optional(function(){tt.assert(ze,ge+"&&typeof "+ge+'==="object"',"invalid "+R)});var le=tt.shared.context,Ze=ze.def(ge,".x|0"),We=ze.def(ge,".y|0"),ot=ze.def('"width" in ',ge,"?",ge,".width|0:","(",le,".",Pi,"-",Ze,")"),zt=ze.def('"height" in ',ge,"?",ge,".height|0:","(",le,".",Li,"-",We,")");return P.optional(function(){tt.assert(ze,ot+">=0&&"+zt+">=0","invalid "+R)}),[Ze,We,ot,zt]});return T&&(at.thisDep=at.thisDep||T.thisDep,at.contextDep=at.contextDep||T.contextDep,at.propDep=at.propDep||T.propDep),at}else return T?new Dn(T.thisDep,T.contextDep,T.propDep,function(tt,ze){var ge=tt.shared.context;return[0,0,ze.def(ge,".",Pi),ze.def(ge,".",Li)]}):null}var B=N(Wr);if(B){var H=B;B=new Dn(B.thisDep,B.contextDep,B.propDep,function(R,D){var M=H.append(R,D),Y=R.shared.context;return D.set(Y,"."+Gy,M[2]),D.set(Y,"."+Ny,M[3]),M})}return{viewport:B,scissor_box:N(ka)}}function mt(O,T){var x=O.static,z=typeof x[_o]=="string"&&typeof x[bo]=="string";if(z){if(Object.keys(T.dynamic).length>0)return null;var X=T.static,N=Object.keys(X);if(N.length>0&&typeof X[N[0]]=="number"){for(var B=[],H=0;H<N.length;++H)P(typeof X[N[H]]=="number","must specify all vertex attribute locations when using vaos"),B.push([X[N[H]]|0,N[H]]);return B}}return null}function Pt(O,T,x){var z=O.static,X=O.dynamic;function N(M){if(M in z){var Y=C.id(z[M]);P.optional(function(){Le.shader(m1[M],Y,P.guessCommand())});var W=An(function(){return Y});return W.id=Y,W}else if(M in X){var ce=X[M];return sr(ce,function(me,Re){var at=me.invoke(Re,ce),tt=Re.def(me.shared.strings,".id(",at,")");return P.optional(function(){Re(me.shared.shader,".shader(",m1[M],",",tt,",",me.command,");")}),tt})}return null}var B=N(_o),H=N(bo),R=null,D;return hs(B)&&hs(H)?(R=Le.program(H.id,B.id,null,x),D=An(function(M,Y){return M.link(R)})):D=new Dn(B&&B.thisDep||H&&H.thisDep,B&&B.contextDep||H&&H.contextDep,B&&B.propDep||H&&H.propDep,function(M,Y){var W=M.shared.shader,ce;B?ce=B.append(M,Y):ce=Y.def(W,".",_o);var me;H?me=H.append(M,Y):me=Y.def(W,".",bo);var Re=W+".program("+me+","+ce;return P.optional(function(){Re+=","+M.command}),Y.def(Re+")")}),{frag:B,vert:H,progVar:D,program:R}}function on(O,T){var x=O.static,z=O.dynamic,X={},N=!1;function B(){if(yo in x){var ze=x[yo];return ze!==null&&Ce.getVAO(ze)===null&&(ze=Ce.createVAO(ze)),N=!0,X.vao=ze,An(function(le){var Ze=Ce.getVAO(ze);return Ze?le.link(Ze):"null"})}else if(yo in z){N=!0;var ge=z[yo];return sr(ge,function(le,Ze){var We=le.invoke(Ze,ge);return Ze.def(le.shared.vao+".getVAO("+We+")")})}return null}var H=B(),R=!1;function D(){if(Ns in x){var ze=x[Ns];if(X.elements=ze,Xa(ze)){var ge=X.elements=Q.create(ze,!0);ze=Q.getElements(ge),R=!0}else ze&&(ze=Q.getElements(ze),R=!0,P.command(ze,"invalid elements",T.commandStr));var le=An(function(We,ot){if(ze){var zt=We.link(ze);return We.ELEMENTS=zt,zt}return We.ELEMENTS=null,null});return le.value=ze,le}else if(Ns in z){R=!0;var Ze=z[Ns];return sr(Ze,function(We,ot){var zt=We.shared,Hn=zt.isBufferArgs,zs=zt.elements,Yr=We.invoke(ot,Ze),Fr=ot.def("null"),ms=ot.def(Hn,"(",Yr,")"),js=We.cond(ms).then(Fr,"=",zs,".createStream(",Yr,");").else(Fr,"=",zs,".getElements(",Yr,");");return P.optional(function(){We.assert(js.else,"!"+Yr+"||"+Fr,"invalid elements")}),ot.entry(js),ot.exit(We.cond(ms).then(zs,".destroyStream(",Fr,");")),We.ELEMENTS=Fr,Fr})}else if(N)return new Dn(H.thisDep,H.contextDep,H.propDep,function(We,ot){return ot.def(We.shared.vao+".currentVAO?"+We.shared.elements+".getElements("+We.shared.vao+".currentVAO.elements):null")});return null}var M=D();function Y(){if(Vs in x){var ze=x[Vs];return X.primitive=ze,P.commandParameter(ze,cs,"invalid primitve",T.commandStr),An(function(le,Ze){return cs[ze]})}else if(Vs in z){var ge=z[Vs];return sr(ge,function(le,Ze){var We=le.constants.primTypes,ot=le.invoke(Ze,ge);return P.optional(function(){le.assert(Ze,ot+" in "+We,"invalid primitive, must be one of "+Object.keys(cs))}),Ze.def(We,"[",ot,"]")})}else{if(R)return hs(M)?M.value?An(function(le,Ze){return Ze.def(le.ELEMENTS,".primType")}):An(function(){return yf}):new Dn(M.thisDep,M.contextDep,M.propDep,function(le,Ze){var We=le.ELEMENTS;return Ze.def(We,"?",We,".primType:",yf)});if(N)return new Dn(H.thisDep,H.contextDep,H.propDep,function(le,Ze){return Ze.def(le.shared.vao+".currentVAO?"+le.shared.vao+".currentVAO.primitive:"+yf)})}return null}function W(ze,ge){if(ze in x){var le=x[ze]|0;return ge?X.offset=le:X.instances=le,P.command(!ge||le>=0,"invalid "+ze,T.commandStr),An(function(We,ot){return ge&&(We.OFFSET=le),le})}else if(ze in z){var Ze=z[ze];return sr(Ze,function(We,ot){var zt=We.invoke(ot,Ze);return ge&&(We.OFFSET=zt,P.optional(function(){We.assert(ot,zt+">=0","invalid "+ze)})),zt})}else if(ge){if(R)return An(function(We,ot){return We.OFFSET=0,0});if(N)return new Dn(H.thisDep,H.contextDep,H.propDep,function(We,ot){return ot.def(We.shared.vao+".currentVAO?"+We.shared.vao+".currentVAO.offset:0")})}else if(N)return new Dn(H.thisDep,H.contextDep,H.propDep,function(We,ot){return ot.def(We.shared.vao+".currentVAO?"+We.shared.vao+".currentVAO.instances:-1")});return null}var ce=W(xa,!0);function me(){if($s in x){var ze=x[$s]|0;return X.count=ze,P.command(typeof ze=="number"&&ze>=0,"invalid vertex count",T.commandStr),An(function(){return ze})}else if($s in z){var ge=z[$s];return sr(ge,function(ot,zt){var Hn=ot.invoke(zt,ge);return P.optional(function(){ot.assert(zt,"typeof "+Hn+'==="number"&&'+Hn+">=0&&"+Hn+"===("+Hn+"|0)","invalid vertex count")}),Hn})}else if(R)if(hs(M)){if(M)return ce?new Dn(ce.thisDep,ce.contextDep,ce.propDep,function(ot,zt){var Hn=zt.def(ot.ELEMENTS,".vertCount-",ot.OFFSET);return P.optional(function(){ot.assert(zt,Hn+">=0","invalid vertex offset/element buffer too small")}),Hn}):An(function(ot,zt){return zt.def(ot.ELEMENTS,".vertCount")});var le=An(function(){return-1});return P.optional(function(){le.MISSING=!0}),le}else{var Ze=new Dn(M.thisDep||ce.thisDep,M.contextDep||ce.contextDep,M.propDep||ce.propDep,function(ot,zt){var Hn=ot.ELEMENTS;return ot.OFFSET?zt.def(Hn,"?",Hn,".vertCount-",ot.OFFSET,":-1"):zt.def(Hn,"?",Hn,".vertCount:-1")});return P.optional(function(){Ze.DYNAMIC=!0}),Ze}else if(N){var We=new Dn(H.thisDep,H.contextDep,H.propDep,function(ot,zt){return zt.def(ot.shared.vao,".currentVAO?",ot.shared.vao,".currentVAO.count:-1")});return We}return null}var Re=Y(),at=me(),tt=W(Ba,!1);return{elements:M,primitive:Re,count:at,instances:tt,offset:ce,vao:H,vaoActive:N,elementsActive:R,static:X}}function fn(O,T){var x=O.static,z=O.dynamic,X={};return nt.forEach(function(N){var B=Xe(N);function H(R,D){if(N in x){var M=R(x[N]);X[B]=An(function(){return M})}else if(N in z){var Y=z[N];X[B]=sr(Y,function(W,ce){return D(W,ce,W.invoke(ce,Y))})}}switch(N){case Z0:case z0:case H0:case t1:case q0:case r1:case Q0:case J0:case e1:case Y0:return H(function(R){return P.commandType(R,"boolean",N,T.commandStr),R},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="boolean"',"invalid flag "+N,R.commandStr)}),M});case X0:return H(function(R){return P.commandParameter(R,Ri,"invalid "+N,T.commandStr),Ri[R]},function(R,D,M){var Y=R.constants.compareFuncs;return P.optional(function(){R.assert(D,M+" in "+Y,"invalid "+N+", must be one of "+Object.keys(Ri))}),D.def(Y,"[",M,"]")});case W0:return H(function(R){return P.command(sn(R)&&R.length===2&&typeof R[0]=="number"&&typeof R[1]=="number"&&R[0]<=R[1],"depth range is 2d array",T.commandStr),R},function(R,D,M){P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===2&&typeof "+M+'[0]==="number"&&typeof '+M+'[1]==="number"&&'+M+"[0]<="+M+"[1]","depth range must be a 2d array")});var Y=D.def("+",M,"[0]"),W=D.def("+",M,"[1]");return[Y,W]});case of:return H(function(R){P.commandType(R,"object","blend.func",T.commandStr);var D="srcRGB"in R?R.srcRGB:R.src,M="srcAlpha"in R?R.srcAlpha:R.src,Y="dstRGB"in R?R.dstRGB:R.dst,W="dstAlpha"in R?R.dstAlpha:R.dst;return P.commandParameter(D,Ir,B+".srcRGB",T.commandStr),P.commandParameter(M,Ir,B+".srcAlpha",T.commandStr),P.commandParameter(Y,Ir,B+".dstRGB",T.commandStr),P.commandParameter(W,Ir,B+".dstAlpha",T.commandStr),P.command(h1.indexOf(D+", "+Y)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+D+", "+Y+")",T.commandStr),[Ir[D],Ir[Y],Ir[M],Ir[W]]},function(R,D,M){var Y=R.constants.blendFuncs;P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid blend func, must be an object")});function W(ge,le){var Ze=D.def('"',ge,le,'" in ',M,"?",M,".",ge,le,":",M,".",ge);return P.optional(function(){R.assert(D,Ze+" in "+Y,"invalid "+N+"."+ge+le+", must be one of "+Object.keys(Ir))}),Ze}var ce=W("src","RGB"),me=W("dst","RGB");P.optional(function(){var ge=R.constants.invalidBlendCombinations;R.assert(D,ge+".indexOf("+ce+'+", "+'+me+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Re=D.def(Y,"[",ce,"]"),at=D.def(Y,"[",W("src","Alpha"),"]"),tt=D.def(Y,"[",me,"]"),ze=D.def(Y,"[",W("dst","Alpha"),"]");return[Re,tt,at,ze]});case sf:return H(function(R){if(typeof R=="string")return P.commandParameter(R,ie,"invalid "+N,T.commandStr),[ie[R],ie[R]];if(typeof R=="object")return P.commandParameter(R.rgb,ie,N+".rgb",T.commandStr),P.commandParameter(R.alpha,ie,N+".alpha",T.commandStr),[ie[R.rgb],ie[R.alpha]];P.commandRaise("invalid blend.equation",T.commandStr)},function(R,D,M){var Y=R.constants.blendEquations,W=D.def(),ce=D.def(),me=R.cond("typeof ",M,'==="string"');return P.optional(function(){function Re(at,tt,ze){R.assert(at,ze+" in "+Y,"invalid "+tt+", must be one of "+Object.keys(ie))}Re(me.then,N,M),R.assert(me.else,M+"&&typeof "+M+'==="object"',"invalid "+N),Re(me.else,N+".rgb",M+".rgb"),Re(me.else,N+".alpha",M+".alpha")}),me.then(W,"=",ce,"=",Y,"[",M,"];"),me.else(W,"=",Y,"[",M,".rgb];",ce,"=",Y,"[",M,".alpha];"),D(me),[W,ce]});case j0:return H(function(R){return P.command(sn(R)&&R.length===4,"blend.color must be a 4d array",T.commandStr),Qn(4,function(D){return+R[D]})},function(R,D,M){return P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===4","blend.color must be a 4d array")}),Qn(4,function(Y){return D.def("+",M,"[",Y,"]")})});case n1:return H(function(R){return P.commandType(R,"number",B,T.commandStr),R|0},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="number"',"invalid stencil.mask")}),D.def(M,"|0")});case df:return H(function(R){P.commandType(R,"object",B,T.commandStr);var D=R.cmp||"keep",M=R.ref||0,Y="mask"in R?R.mask:-1;return P.commandParameter(D,Ri,N+".cmp",T.commandStr),P.commandType(M,"number",N+".ref",T.commandStr),P.commandType(Y,"number",N+".mask",T.commandStr),[Ri[D],M,Y]},function(R,D,M){var Y=R.constants.compareFuncs;P.optional(function(){function Re(){R.assert(D,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Re(M+"&&typeof ",M,'==="object"'),Re('!("cmp" in ',M,")||(",M,".cmp in ",Y,")")});var W=D.def('"cmp" in ',M,"?",Y,"[",M,".cmp]",":",us),ce=D.def(M,".ref|0"),me=D.def('"mask" in ',M,"?",M,".mask|0:-1");return[W,ce,me]});case hf:case go:return H(function(R){P.commandType(R,"object",B,T.commandStr);var D=R.fail||"keep",M=R.zfail||"keep",Y=R.zpass||"keep";return P.commandParameter(D,ds,N+".fail",T.commandStr),P.commandParameter(M,ds,N+".zfail",T.commandStr),P.commandParameter(Y,ds,N+".zpass",T.commandStr),[N===go?Us:Co,ds[D],ds[M],ds[Y]]},function(R,D,M){var Y=R.constants.stencilOps;P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid "+N)});function W(ce){return P.optional(function(){R.assert(D,'!("'+ce+'" in '+M+")||("+M+"."+ce+" in "+Y+")","invalid "+N+"."+ce+", must be one of "+Object.keys(ds))}),D.def('"',ce,'" in ',M,"?",Y,"[",M,".",ce,"]:",us)}return[N===go?Us:Co,W("fail"),W("zfail"),W("zpass")]});case ff:return H(function(R){P.commandType(R,"object",B,T.commandStr);var D=R.factor|0,M=R.units|0;return P.commandType(D,"number",B+".factor",T.commandStr),P.commandType(M,"number",B+".units",T.commandStr),[D,M]},function(R,D,M){P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid "+N)});var Y=D.def(M,".factor|0"),W=D.def(M,".units|0");return[Y,W]});case K0:return H(function(R){var D=0;return R==="front"?D=Co:R==="back"&&(D=Us),P.command(!!D,B,T.commandStr),D},function(R,D,M){return P.optional(function(){R.assert(D,M+'==="front"||'+M+'==="back"',"invalid cull.face")}),D.def(M,'==="front"?',Co,":",Us)});case cf:return H(function(R){return P.command(typeof R=="number"&&R>=J.lineWidthDims[0]&&R<=J.lineWidthDims[1],"invalid line width, must be a positive number between "+J.lineWidthDims[0]+" and "+J.lineWidthDims[1],T.commandStr),R},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="number"&&'+M+">="+J.lineWidthDims[0]+"&&"+M+"<="+J.lineWidthDims[1],"invalid line width")}),M});case lf:return H(function(R){return P.commandParameter(R,Ef,B,T.commandStr),Ef[R]},function(R,D,M){return P.optional(function(){R.assert(D,M+'==="cw"||'+M+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),D.def(M+'==="cw"?'+l1+":"+Af)});case af:return H(function(R){return P.command(sn(R)&&R.length===4,"color.mask must be length 4 array",T.commandStr),R.map(function(D){return!!D})},function(R,D,M){return P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===4","invalid color.mask")}),Qn(4,function(Y){return"!!"+M+"["+Y+"]"})});case uf:return H(function(R){P.command(typeof R=="object"&&R,B,T.commandStr);var D="value"in R?R.value:1,M=!!R.invert;return P.command(typeof D=="number"&&D>=0&&D<=1,"sample.coverage.value must be a number between 0 and 1",T.commandStr),[D,M]},function(R,D,M){P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid sample.coverage")});var Y=D.def('"value" in ',M,"?+",M,".value:1"),W=D.def("!!",M,".invert");return[Y,W]})}}),X}function Ot(O,T){var x=O.static,z=O.dynamic,X={};return Object.keys(x).forEach(function(N){var B=x[N],H;if(typeof B=="number"||typeof B=="boolean")H=An(function(){return B});else if(typeof B=="function"){var R=B._reglType;R==="texture2d"||R==="textureCube"?H=An(function(D){return D.link(B)}):R==="framebuffer"||R==="framebufferCube"?(P.command(B.color.length>0,'missing color attachment for framebuffer sent to uniform "'+N+'"',T.commandStr),H=An(function(D){return D.link(B.color[0])})):P.commandRaise('invalid data for uniform "'+N+'"',T.commandStr)}else sn(B)?H=An(function(D){var M=D.global.def("[",Qn(B.length,function(Y){return P.command(typeof B[Y]=="number"||typeof B[Y]=="boolean","invalid uniform "+N,D.commandStr),B[Y]}),"]");return M}):P.commandRaise('invalid or missing data for uniform "'+N+'"',T.commandStr);H.value=B,X[N]=H}),Object.keys(z).forEach(function(N){var B=z[N];X[N]=sr(B,function(H,R){return H.invoke(R,B)})}),X}function Ln(O,T){var x=O.static,z=O.dynamic,X={};return Object.keys(x).forEach(function(N){var B=x[N],H=C.id(N),R=new q;if(Xa(B))R.state=Ci,R.buffer=de.getBuffer(de.create(B,Oi,!1,!0)),R.type=0;else{var D=de.getBuffer(B);if(D)R.state=Ci,R.buffer=D,R.type=0;else if(P.command(typeof B=="object"&&B,"invalid data for attribute "+N,T.commandStr),"constant"in B){var M=B.constant;R.buffer="null",R.state=Jc,typeof M=="number"?R.x=M:(P.command(sn(M)&&M.length>0&&M.length<=4,"invalid constant for attribute "+N,T.commandStr),Ti.forEach(function(tt,ze){ze<M.length&&(R[tt]=M[ze])}))}else{Xa(B.buffer)?D=de.getBuffer(de.create(B.buffer,Oi,!1,!0)):D=de.getBuffer(B.buffer),P.command(!!D,'missing buffer for attribute "'+N+'"',T.commandStr);var Y=B.offset|0;P.command(Y>=0,'invalid offset for attribute "'+N+'"',T.commandStr);var W=B.stride|0;P.command(W>=0&&W<256,'invalid stride for attribute "'+N+'", must be integer betweeen [0, 255]',T.commandStr);var ce=B.size|0;P.command(!("size"in B)||ce>0&&ce<=4,'invalid size for attribute "'+N+'", must be 1,2,3,4',T.commandStr);var me=!!B.normalized,Re=0;"type"in B&&(P.commandParameter(B.type,Ds,"invalid type for attribute "+N,T.commandStr),Re=Ds[B.type]);var at=B.divisor|0;P.optional(function(){"divisor"in B&&(P.command(at===0||we,'cannot specify divisor for attribute "'+N+'", instancing not supported',T.commandStr),P.command(at>=0,'invalid divisor for attribute "'+N+'"',T.commandStr));var tt=T.commandStr,ze=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(B).forEach(function(ge){P.command(ze.indexOf(ge)>=0,'unknown parameter "'+ge+'" for attribute pointer "'+N+'" (valid parameters are '+ze+")",tt)})}),R.buffer=D,R.state=Ci,R.size=ce,R.normalized=me,R.type=Re||D.dtype,R.offset=Y,R.stride=W,R.divisor=at}}X[N]=An(function(tt,ze){var ge=tt.attribCache;if(H in ge)return ge[H];var le={isStream:!1};return Object.keys(R).forEach(function(Ze){le[Ze]=R[Ze]}),R.buffer&&(le.buffer=tt.link(R.buffer),le.type=le.type||le.buffer+".dtype"),ge[H]=le,le})}),Object.keys(z).forEach(function(N){var B=z[N];function H(R,D){var M=R.invoke(D,B),Y=R.shared,W=R.constants,ce=Y.isBufferArgs,me=Y.buffer;P.optional(function(){R.assert(D,M+"&&(typeof "+M+'==="object"||typeof '+M+'==="function")&&('+ce+"("+M+")||"+me+".getBuffer("+M+")||"+me+".getBuffer("+M+".buffer)||"+ce+"("+M+'.buffer)||("constant" in '+M+"&&(typeof "+M+'.constant==="number"||'+Y.isArrayLike+"("+M+".constant))))",'invalid dynamic attribute "'+N+'"')});var Re={isStream:D.def(!1)},at=new q;at.state=Ci,Object.keys(at).forEach(function(le){Re[le]=D.def(""+at[le])});var tt=Re.buffer,ze=Re.type;D("if(",ce,"(",M,")){",Re.isStream,"=true;",tt,"=",me,".createStream(",Oi,",",M,");",ze,"=",tt,".dtype;","}else{",tt,"=",me,".getBuffer(",M,");","if(",tt,"){",ze,"=",tt,".dtype;",'}else if("constant" in ',M,"){",Re.state,"=",Jc,";","if(typeof "+M+'.constant === "number"){',Re[Ti[0]],"=",M,".constant;",Ti.slice(1).map(function(le){return Re[le]}).join("="),"=0;","}else{",Ti.map(function(le,Ze){return Re[le]+"="+M+".constant.length>"+Ze+"?"+M+".constant["+Ze+"]:0;"}).join(""),"}}else{","if(",ce,"(",M,".buffer)){",tt,"=",me,".createStream(",Oi,",",M,".buffer);","}else{",tt,"=",me,".getBuffer(",M,".buffer);","}",ze,'="type" in ',M,"?",W.glTypes,"[",M,".type]:",tt,".dtype;",Re.normalized,"=!!",M,".normalized;");function ge(le){D(Re[le],"=",M,".",le,"|0;")}return ge("size"),ge("offset"),ge("stride"),ge("divisor"),D("}}"),D.exit("if(",Re.isStream,"){",me,".destroyStream(",tt,");","}"),Re}X[N]=sr(B,H)}),X}function en(O){var T=O.static,x=O.dynamic,z={};return Object.keys(T).forEach(function(X){var N=T[X];z[X]=An(function(B,H){return typeof N=="number"||typeof N=="boolean"?""+N:B.link(N)})}),Object.keys(x).forEach(function(X){var N=x[X];z[X]=sr(N,function(B,H){return B.invoke(H,N)})}),z}function En(O,T,x,z,X){var N=O.static,B=O.dynamic;P.optional(function(){var ge=[Gs,bo,_o,Ns,Vs,xa,$s,Ba,vo,yo].concat(nt);function le(Ze){Object.keys(Ze).forEach(function(We){P.command(ge.indexOf(We)>=0,'unknown parameter "'+We+'"',X.commandStr)})}le(N),le(B)});var H=mt(O,T),R=Ne(O),D=it(O,R,X),M=on(O,X),Y=fn(O,X),W=Pt(O,X,H);function ce(ge){var le=D[ge];le&&(Y[ge]=le)}ce(Wr),ce(Xe(ka));var me=Object.keys(Y).length>0,Re={framebuffer:R,draw:M,shader:W,state:Y,dirty:me,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Re.profile=Be(O),Re.uniforms=Ot(x,X),Re.drawVAO=Re.scopeVAO=M.vao,!Re.drawVAO&&W.program&&!H&&F.angle_instanced_arrays&&M.static.elements){var at=!0,tt=W.program.attributes.map(function(ge){var le=T.static[ge];return at=at&&!!le,le});if(at&&tt.length>0){var ze=Ce.getVAO(Ce.createVAO({attributes:tt,elements:M.static.elements}));Re.drawVAO=new Dn(null,null,null,function(ge,le){return ge.link(ze)}),Re.useVAO=!0}}return H?Re.useVAO=!0:Re.attributes=Ln(T,X),Re.context=en(z),Re}function On(O,T,x){var z=O.shared,X=z.context,N=O.scope();Object.keys(x).forEach(function(B){T.save(X,"."+B);var H=x[B],R=H.append(O,T);Array.isArray(R)?N(X,".",B,"=[",R.join(),"];"):N(X,".",B,"=",R,";")}),T(N)}function Rn(O,T,x,z){var X=O.shared,N=X.gl,B=X.framebuffer,H;$e&&(H=T.def(X.extensions,".webgl_draw_buffers"));var R=O.constants,D=R.drawBuffer,M=R.backBuffer,Y;x?Y=x.append(O,T):Y=T.def(B,".next"),z||T("if(",Y,"!==",B,".cur){"),T("if(",Y,"){",N,".bindFramebuffer(",d1,",",Y,".framebuffer);"),$e&&T(H,".drawBuffersWEBGL(",D,"[",Y,".colorAttachments.length]);"),T("}else{",N,".bindFramebuffer(",d1,",null);"),$e&&T(H,".drawBuffersWEBGL(",M,");"),T("}",B,".cur=",Y,";"),z||T("}")}function Bn(O,T,x){var z=O.shared,X=z.gl,N=O.current,B=O.next,H=z.current,R=z.next,D=O.cond(H,".dirty");nt.forEach(function(M){var Y=Xe(M);if(!(Y in x.state)){var W,ce;if(Y in B){W=B[Y],ce=N[Y];var me=Qn(Ge[Y].length,function(at){return D.def(W,"[",at,"]")});D(O.cond(me.map(function(at,tt){return at+"!=="+ce+"["+tt+"]"}).join("||")).then(X,".",ue[Y],"(",me,");",me.map(function(at,tt){return ce+"["+tt+"]="+at}).join(";"),";"))}else{W=D.def(R,".",Y);var Re=O.cond(W,"!==",H,".",Y);D(Re),Y in he?Re(O.cond(W).then(X,".enable(",he[Y],");").else(X,".disable(",he[Y],");"),H,".",Y,"=",W,";"):Re(X,".",ue[Y],"(",W,");",H,".",Y,"=",W,";")}}}),Object.keys(x.state).length===0&&D(H,".dirty=false;"),T(D)}function $n(O,T,x,z){var X=O.shared,N=O.current,B=X.current,H=X.gl;p1(Object.keys(x)).forEach(function(R){var D=x[R];if(!(z&&!z(D))){var M=D.append(O,T);if(he[R]){var Y=he[R];hs(D)?M?T(H,".enable(",Y,");"):T(H,".disable(",Y,");"):T(O.cond(M).then(H,".enable(",Y,");").else(H,".disable(",Y,");")),T(B,".",R,"=",M,";")}else if(sn(M)){var W=N[R];T(H,".",ue[R],"(",M,");",M.map(function(ce,me){return W+"["+me+"]="+ce}).join(";"),";")}else T(H,".",ue[R],"(",M,");",B,".",R,"=",M,";")}})}function gn(O,T){we&&(O.instancing=T.def(O.shared.extensions,".angle_instanced_arrays"))}function bt(O,T,x,z,X){var N=O.shared,B=O.stats,H=N.current,R=N.timer,D=x.profile;function M(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Y,W;function ce(ge){Y=T.def(),ge(Y,"=",M(),";"),typeof X=="string"?ge(B,".count+=",X,";"):ge(B,".count++;"),Ee&&(z?(W=T.def(),ge(W,"=",R,".getNumPendingQueries();")):ge(R,".beginQuery(",B,");"))}function me(ge){ge(B,".cpuTime+=",M(),"-",Y,";"),Ee&&(z?ge(R,".pushScopeStats(",W,",",R,".getNumPendingQueries(),",B,");"):ge(R,".endQuery();"))}function Re(ge){var le=T.def(H,".profile");T(H,".profile=",ge,";"),T.exit(H,".profile=",le,";")}var at;if(D){if(hs(D)){D.enable?(ce(T),me(T.exit),Re("true")):Re("false");return}at=D.append(O,T),Re(at)}else at=T.def(H,".profile");var tt=O.block();ce(tt),T("if(",at,"){",tt,"}");var ze=O.block();me(ze),T.exit("if(",at,"){",ze,"}")}function Un(O,T,x,z,X){var N=O.shared;function B(R){switch(R){case Ga:case $a:case za:return 2;case Na:case Ua:case ja:return 3;case Va:case Ha:case qa:return 4;default:return 1}}function H(R,D,M){var Y=N.gl,W=T.def(R,".location"),ce=T.def(N.attributes,"[",W,"]"),me=M.state,Re=M.buffer,at=[M.x,M.y,M.z,M.w],tt=["buffer","normalized","offset","stride"];function ze(){T("if(!",ce,".buffer){",Y,".enableVertexAttribArray(",W,");}");var le=M.type,Ze;if(M.size?Ze=T.def(M.size,"||",D):Ze=D,T("if(",ce,".type!==",le,"||",ce,".size!==",Ze,"||",tt.map(function(ot){return ce+"."+ot+"!=="+M[ot]}).join("||"),"){",Y,".bindBuffer(",Oi,",",Re,".buffer);",Y,".vertexAttribPointer(",[W,Ze,le,M.normalized,M.stride,M.offset],");",ce,".type=",le,";",ce,".size=",Ze,";",tt.map(function(ot){return ce+"."+ot+"="+M[ot]+";"}).join(""),"}"),we){var We=M.divisor;T("if(",ce,".divisor!==",We,"){",O.instancing,".vertexAttribDivisorANGLE(",[W,We],");",ce,".divisor=",We,";}")}}function ge(){T("if(",ce,".buffer){",Y,".disableVertexAttribArray(",W,");",ce,".buffer=null;","}if(",Ti.map(function(le,Ze){return ce+"."+le+"!=="+at[Ze]}).join("||"),"){",Y,".vertexAttrib4f(",W,",",at,");",Ti.map(function(le,Ze){return ce+"."+le+"="+at[Ze]+";"}).join(""),"}")}me===Ci?ze():me===Jc?ge():(T("if(",me,"===",Ci,"){"),ze(),T("}else{"),ge(),T("}"))}z.forEach(function(R){var D=R.name,M=x.attributes[D],Y;if(M){if(!X(M))return;Y=M.append(O,T)}else{if(!X(g1))return;var W=O.scopeAttrib(D);P.optional(function(){O.assert(T,W+".state","missing attribute "+D)}),Y={},Object.keys(new q).forEach(function(ce){Y[ce]=T.def(W,".",ce)})}H(O.link(R),B(R.info.type),Y)})}function Ht(O,T,x,z,X,N){for(var B=O.shared,H=B.gl,R={},D,M=0;M<z.length;++M){var Y=z[M],W=Y.name,ce=Y.info.type,me=Y.info.size,Re=x.uniforms[W];if(me>1){if(!Re)continue;var at=W.replace("[0]","");if(R[at])continue;R[at]=1}var tt=O.link(Y),ze=tt+".location",ge;if(Re){if(!X(Re))continue;if(hs(Re)){var le=Re.value;if(P.command(le!==null&&typeof le<"u",'missing uniform "'+W+'"',O.commandStr),ce===wo||ce===To){P.command(typeof le=="function"&&(ce===wo&&(le._reglType==="texture2d"||le._reglType==="framebuffer")||ce===To&&(le._reglType==="textureCube"||le._reglType==="framebufferCube")),"invalid texture for uniform "+W,O.commandStr);var Ze=O.link(le._texture||le.color[0]._texture);T(H,".uniform1i(",ze,",",Ze+".bind());"),T.exit(Ze,".unbind();")}else if(ce===Ao||ce===Eo||ce===So){P.optional(function(){P.command(sn(le),"invalid matrix for uniform "+W,O.commandStr),P.command(ce===Ao&&le.length===4||ce===Eo&&le.length===9||ce===So&&le.length===16,"invalid length for matrix uniform "+W,O.commandStr)});var We=O.global.def("new Float32Array(["+Array.prototype.slice.call(le)+"])"),ot=2;ce===Eo?ot=3:ce===So&&(ot=4),T(H,".uniformMatrix",ot,"fv(",ze,",false,",We,");")}else{switch(ce){case vf:me===1?P.commandType(le,"number","uniform "+W,O.commandStr):P.command(sn(le)&&le.length===me,"uniform "+W,O.commandStr),D="1f";break;case Ga:P.command(sn(le)&&le.length&&le.length%2===0&&le.length<=me*2,"uniform "+W,O.commandStr),D="2f";break;case Na:P.command(sn(le)&&le.length&&le.length%3===0&&le.length<=me*3,"uniform "+W,O.commandStr),D="3f";break;case Va:P.command(sn(le)&&le.length&&le.length%4===0&&le.length<=me*4,"uniform "+W,O.commandStr),D="4f";break;case _f:me===1?P.commandType(le,"boolean","uniform "+W,O.commandStr):P.command(sn(le)&&le.length===me,"uniform "+W,O.commandStr),D="1i";break;case bf:me===1?P.commandType(le,"number","uniform "+W,O.commandStr):P.command(sn(le)&&le.length===me,"uniform "+W,O.commandStr),D="1i";break;case za:P.command(sn(le)&&le.length&&le.length%2===0&&le.length<=me*2,"uniform "+W,O.commandStr),D="2i";break;case $a:P.command(sn(le)&&le.length&&le.length%2===0&&le.length<=me*2,"uniform "+W,O.commandStr),D="2i";break;case ja:P.command(sn(le)&&le.length&&le.length%3===0&&le.length<=me*3,"uniform "+W,O.commandStr),D="3i";break;case Ua:P.command(sn(le)&&le.length&&le.length%3===0&&le.length<=me*3,"uniform "+W,O.commandStr),D="3i";break;case qa:P.command(sn(le)&&le.length&&le.length%4===0&&le.length<=me*4,"uniform "+W,O.commandStr),D="4i";break;case Ha:P.command(sn(le)&&le.length&&le.length%4===0&&le.length<=me*4,"uniform "+W,O.commandStr),D="4i";break}me>1?(D+="v",le=O.global.def("["+Array.prototype.slice.call(le)+"]")):le=sn(le)?Array.prototype.slice.call(le):le,T(H,".uniform",D,"(",ze,",",le,");")}continue}else ge=Re.append(O,T)}else{if(!X(g1))continue;ge=T.def(B.uniforms,"[",C.id(W),"]")}ce===wo?(P(!Array.isArray(ge),"must specify a scalar prop for textures"),T("if(",ge,"&&",ge,'._reglType==="framebuffer"){',ge,"=",ge,".color[0];","}")):ce===To&&(P(!Array.isArray(ge),"must specify a scalar prop for cube maps"),T("if(",ge,"&&",ge,'._reglType==="framebufferCube"){',ge,"=",ge,".color[0];","}")),P.optional(function(){function hr(ir,Wa){O.assert(T,ir,'bad data or missing for uniform "'+W+'".  '+Wa)}function qs(ir,Wa){Wa===1&&P(!Array.isArray(ge),"must not specify an array type for uniform"),hr("Array.isArray("+ge+") && typeof "+ge+'[0]===" '+ir+'" || typeof '+ge+'==="'+ir+'"',"invalid type, expected "+ir)}function br(ir,Wa,Ya){Array.isArray(ge)?P(ge.length&&ge.length%ir===0&&ge.length<=ir*Ya,"must have length of "+(Ya===1?"":"n * ")+ir):hr(B.isArrayLike+"("+ge+")&&"+ge+".length && "+ge+".length % "+ir+" === 0 && "+ge+".length<="+ir*Ya,"invalid vector, should have length of "+(Ya===1?"":"n * ")+ir,O.commandStr)}function S1(ir){P(!Array.isArray(ge),"must not specify a value type"),hr("typeof "+ge+'==="function"&&'+ge+'._reglType==="texture'+(ir===a1?"2d":"Cube")+'"',"invalid texture type",O.commandStr)}switch(ce){case bf:qs("number",me);break;case $a:br(2,"number",me);break;case Ua:br(3,"number",me);break;case Ha:br(4,"number",me);break;case vf:qs("number",me);break;case Ga:br(2,"number",me);break;case Na:br(3,"number",me);break;case Va:br(4,"number",me);break;case _f:qs("boolean",me);break;case za:br(2,"boolean",me);break;case ja:br(3,"boolean",me);break;case qa:br(4,"boolean",me);break;case Ao:br(4,"number",me);break;case Eo:br(9,"number",me);break;case So:br(16,"number",me);break;case wo:S1(a1);break;case To:S1(Hy);break}});var zt=1;switch(ce){case wo:case To:var Hn=T.def(ge,"._texture");T(H,".uniform1i(",ze,",",Hn,".bind());"),T.exit(Hn,".unbind();");continue;case bf:case _f:D="1i";break;case $a:case za:D="2i",zt=2;break;case Ua:case ja:D="3i",zt=3;break;case Ha:case qa:D="4i",zt=4;break;case vf:D="1f";break;case Ga:D="2f",zt=2;break;case Na:D="3f",zt=3;break;case Va:D="4f",zt=4;break;case Ao:D="Matrix2fv";break;case Eo:D="Matrix3fv";break;case So:D="Matrix4fv";break}if(D.indexOf("Matrix")===-1&&me>1&&(D+="v",zt=1),D.charAt(0)==="M"){T(H,".uniform",D,"(",ze,",");var zs=Math.pow(ce-Ao+2,2),Yr=O.global.def("new Float32Array(",zs,")");Array.isArray(ge)?T("false,(",Qn(zs,function(hr){return Yr+"["+hr+"]="+ge[hr]}),",",Yr,")"):T("false,(Array.isArray(",ge,")||",ge," instanceof Float32Array)?",ge,":(",Qn(zs,function(hr){return Yr+"["+hr+"]="+ge+"["+hr+"]"}),",",Yr,")"),T(");")}else if(zt>1){for(var Fr=[],ms=[],js=0;js<zt;++js)Array.isArray(ge)?ms.push(ge[js]):ms.push(T.def(ge+"["+js+"]")),N&&Fr.push(T.def());N&&T("if(!",O.batchId,"||",Fr.map(function(hr,qs){return hr+"!=="+ms[qs]}).join("||"),"){",Fr.map(function(hr,qs){return hr+"="+ms[qs]+";"}).join("")),T(H,".uniform",D,"(",ze,",",ms.join(","),");"),N&&T("}")}else{if(P(!Array.isArray(ge),"uniform value must not be an array"),N){var E1=T.def();T("if(!",O.batchId,"||",E1,"!==",ge,"){",E1,"=",ge,";")}T(H,".uniform",D,"(",ze,",",ge,");"),N&&T("}")}}}function st(O,T,x,z){var X=O.shared,N=X.gl,B=X.draw,H=z.draw;function R(){var Ze=H.elements,We,ot=T;return Ze?((Ze.contextDep&&z.contextDynamic||Ze.propDep)&&(ot=x),We=Ze.append(O,ot),H.elementsActive&&ot("if("+We+")"+N+".bindBuffer("+gf+","+We+".buffer.buffer);")):(We=ot.def(),ot(We,"=",B,".",Ns,";","if(",We,"){",N,".bindBuffer(",gf,",",We,".buffer.buffer);}","else if(",X.vao,".currentVAO){",We,"=",O.shared.elements+".getElements("+X.vao,".currentVAO.elements);",ve?"":"if("+We+")"+N+".bindBuffer("+gf+","+We+".buffer.buffer);","}")),We}function D(){var Ze=H.count,We,ot=T;return Ze?((Ze.contextDep&&z.contextDynamic||Ze.propDep)&&(ot=x),We=Ze.append(O,ot),P.optional(function(){Ze.MISSING&&O.assert(T,"false","missing vertex count"),Ze.DYNAMIC&&O.assert(ot,We+">=0","missing vertex count")})):(We=ot.def(B,".",$s),P.optional(function(){O.assert(ot,We+">=0","missing vertex count")})),We}var M=R();function Y(Ze){var We=H[Ze];return We?We.contextDep&&z.contextDynamic||We.propDep?We.append(O,x):We.append(O,T):T.def(B,".",Ze)}var W=Y(Vs),ce=Y(xa),me=D();if(typeof me=="number"){if(me===0)return}else x("if(",me,"){"),x.exit("}");var Re,at;we&&(Re=Y(Ba),at=O.instancing);var tt=M+".type",ze=H.elements&&hs(H.elements)&&!H.vaoActive;function ge(){function Ze(){x(at,".drawElementsInstancedANGLE(",[W,me,tt,ce+"<<(("+tt+"-"+V0+")>>1)",Re],");")}function We(){x(at,".drawArraysInstancedANGLE(",[W,ce,me,Re],");")}M&&M!=="null"?ze?Ze():(x("if(",M,"){"),Ze(),x("}else{"),We(),x("}")):We()}function le(){function Ze(){x(N+".drawElements("+[W,me,tt,ce+"<<(("+tt+"-"+V0+")>>1)"]+");")}function We(){x(N+".drawArrays("+[W,ce,me]+");")}M&&M!=="null"?ze?Ze():(x("if(",M,"){"),Ze(),x("}else{"),We(),x("}")):We()}we&&(typeof Re!="number"||Re>=0)?typeof Re=="string"?(x("if(",Re,">0){"),ge(),x("}else if(",Re,"<0){"),le(),x("}")):ge():le()}function Lt(O,T,x,z,X){var N=ft(),B=N.proc("body",X);return P.optional(function(){N.commandStr=T.commandStr,N.command=N.link(T.commandStr)}),we&&(N.instancing=B.def(N.shared.extensions,".angle_instanced_arrays")),O(N,B,x,z),N.compile().body}function Ft(O,T,x,z){gn(O,T),x.useVAO?x.drawVAO?T(O.shared.vao,".setVAO(",x.drawVAO.append(O,T),");"):T(O.shared.vao,".setVAO(",O.shared.vao,".targetVAO);"):(T(O.shared.vao,".setVAO(null);"),Un(O,T,x,z.attributes,function(){return!0})),Ht(O,T,x,z.uniforms,function(){return!0},!1),st(O,T,T,x)}function vn(O,T){var x=O.proc("draw",1);gn(O,x),On(O,x,T.context),Rn(O,x,T.framebuffer),Bn(O,x,T),$n(O,x,T.state),bt(O,x,T,!1,!0);var z=T.shader.progVar.append(O,x);if(x(O.shared.gl,".useProgram(",z,".program);"),T.shader.program)Ft(O,x,T,T.shader.program);else{x(O.shared.vao,".setVAO(null);");var X=O.global.def("{}"),N=x.def(z,".id"),B=x.def(X,"[",N,"]");x(O.cond(B).then(B,".call(this,a0);").else(B,"=",X,"[",N,"]=",O.link(function(H){return Lt(Ft,O,T,H,1)}),"(",z,");",B,".call(this,a0);"))}Object.keys(T.state).length>0&&x(O.shared.current,".dirty=true;"),O.shared.vao&&x(O.shared.vao,".setVAO(null);")}function Dr(O,T,x,z){O.batchId="a1",gn(O,T);function X(){return!0}Un(O,T,x,z.attributes,X),Ht(O,T,x,z.uniforms,X,!1),st(O,T,T,x)}function Hs(O,T,x,z){gn(O,T);var X=x.contextDep,N=T.def(),B="a0",H="a1",R=T.def();O.shared.props=R,O.batchId=N;var D=O.scope(),M=O.scope();T(D.entry,"for(",N,"=0;",N,"<",H,";++",N,"){",R,"=",B,"[",N,"];",M,"}",D.exit);function Y(tt){return tt.contextDep&&X||tt.propDep}function W(tt){return!Y(tt)}if(x.needsContext&&On(O,M,x.context),x.needsFramebuffer&&Rn(O,M,x.framebuffer),$n(O,M,x.state,Y),x.profile&&Y(x.profile)&&bt(O,M,x,!1,!0),z)x.useVAO?x.drawVAO?Y(x.drawVAO)?M(O.shared.vao,".setVAO(",x.drawVAO.append(O,M),");"):D(O.shared.vao,".setVAO(",x.drawVAO.append(O,D),");"):D(O.shared.vao,".setVAO(",O.shared.vao,".targetVAO);"):(D(O.shared.vao,".setVAO(null);"),Un(O,D,x,z.attributes,W),Un(O,M,x,z.attributes,Y)),Ht(O,D,x,z.uniforms,W,!1),Ht(O,M,x,z.uniforms,Y,!0),st(O,D,M,x);else{var ce=O.global.def("{}"),me=x.shader.progVar.append(O,M),Re=M.def(me,".id"),at=M.def(ce,"[",Re,"]");M(O.shared.gl,".useProgram(",me,".program);","if(!",at,"){",at,"=",ce,"[",Re,"]=",O.link(function(tt){return Lt(Dr,O,x,tt,2)}),"(",me,");}",at,".call(this,a0[",N,"],",N,");")}}function I(O,T){var x=O.proc("batch",2);O.batchId="0",gn(O,x);var z=!1,X=!0;Object.keys(T.context).forEach(function(ce){z=z||T.context[ce].propDep}),z||(On(O,x,T.context),X=!1);var N=T.framebuffer,B=!1;N?(N.propDep?z=B=!0:N.contextDep&&z&&(B=!0),B||Rn(O,x,N)):Rn(O,x,null),T.state.viewport&&T.state.viewport.propDep&&(z=!0);function H(ce){return ce.contextDep&&z||ce.propDep}Bn(O,x,T),$n(O,x,T.state,function(ce){return!H(ce)}),(!T.profile||!H(T.profile))&&bt(O,x,T,!1,"a1"),T.contextDep=z,T.needsContext=X,T.needsFramebuffer=B;var R=T.shader.progVar;if(R.contextDep&&z||R.propDep)Hs(O,x,T,null);else{var D=R.append(O,x);if(x(O.shared.gl,".useProgram(",D,".program);"),T.shader.program)Hs(O,x,T,T.shader.program);else{x(O.shared.vao,".setVAO(null);");var M=O.global.def("{}"),Y=x.def(D,".id"),W=x.def(M,"[",Y,"]");x(O.cond(W).then(W,".call(this,a0,a1);").else(W,"=",M,"[",Y,"]=",O.link(function(ce){return Lt(Hs,O,T,ce,2)}),"(",D,");",W,".call(this,a0,a1);"))}}Object.keys(T.state).length>0&&x(O.shared.current,".dirty=true;"),O.shared.vao&&x(O.shared.vao,".setVAO(null);")}function re(O,T){var x=O.proc("scope",3);O.batchId="a2";var z=O.shared,X=z.current;On(O,x,T.context),T.framebuffer&&T.framebuffer.append(O,x),p1(Object.keys(T.state)).forEach(function(B){var H=T.state[B],R=H.append(O,x);sn(R)?R.forEach(function(D,M){x.set(O.next[B],"["+M+"]",D)}):x.set(z.next,"."+B,R)}),bt(O,x,T,!0,!0),[Ns,xa,$s,Ba,Vs].forEach(function(B){var H=T.draw[B];H&&x.set(z.draw,"."+B,""+H.append(O,x))}),Object.keys(T.uniforms).forEach(function(B){var H=T.uniforms[B].append(O,x);Array.isArray(H)&&(H="["+H.join()+"]"),x.set(z.uniforms,"["+C.id(B)+"]",H)}),Object.keys(T.attributes).forEach(function(B){var H=T.attributes[B].append(O,x),R=O.scopeAttrib(B);Object.keys(new q).forEach(function(D){x.set(R,"."+D,H[D])})}),T.scopeVAO&&x.set(z.vao,".targetVAO",T.scopeVAO.append(O,x));function N(B){var H=T.shader[B];H&&x.set(z.shader,"."+B,H.append(O,x))}N(bo),N(_o),Object.keys(T.state).length>0&&(x(X,".dirty=true;"),x.exit(X,".dirty=true;")),x("a1(",O.shared.context,",a0,",O.batchId,");")}function Z(O){if(!(typeof O!="object"||sn(O))){for(var T=Object.keys(O),x=0;x<T.length;++x)if(Kn.isDynamic(O[T[x]]))return!0;return!1}}function qe(O,T,x){var z=T.static[x];if(!z||!Z(z))return;var X=O.global,N=Object.keys(z),B=!1,H=!1,R=!1,D=O.global.def("{}");N.forEach(function(Y){var W=z[Y];if(Kn.isDynamic(W)){typeof W=="function"&&(W=z[Y]=Kn.unbox(W));var ce=sr(W,null);B=B||ce.thisDep,R=R||ce.propDep,H=H||ce.contextDep}else{switch(X(D,".",Y,"="),typeof W){case"number":X(W);break;case"string":X('"',W,'"');break;case"object":Array.isArray(W)&&X("[",W.join(),"]");break;default:X(O.link(W));break}X(";")}});function M(Y,W){N.forEach(function(ce){var me=z[ce];if(Kn.isDynamic(me)){var Re=Y.invoke(W,me);W(D,".",ce,"=",Re,";")}})}T.dynamic[x]=new Kn.DynamicVariable(Fa,{thisDep:B,contextDep:H,propDep:R,ref:D,append:M}),delete T.static[x]}function St(O,T,x,z,X){var N=ft();N.stats=N.link(X),Object.keys(T.static).forEach(function(H){qe(N,T,H)}),Vy.forEach(function(H){qe(N,O,H)});var B=En(O,T,x,z,N);return vn(N,B),re(N,B),I(N,B),r(N.compile(),{destroy:function(){B.shader.program.destroy()}})}return{next:xe,current:Ge,procs:function(){var O=ft(),T=O.proc("poll"),x=O.proc("refresh"),z=O.block();T(z),x(z);var X=O.shared,N=X.gl,B=X.next,H=X.current;z(H,".dirty=false;"),Rn(O,T),Rn(O,x,null,!0);var R;we&&(R=O.link(we)),F.oes_vertex_array_object&&x(O.link(F.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var D=0;D<J.maxAttributes;++D){var M=x.def(X.attributes,"[",D,"]"),Y=O.cond(M,".buffer");Y.then(N,".enableVertexAttribArray(",D,");",N,".bindBuffer(",Oi,",",M,".buffer.buffer);",N,".vertexAttribPointer(",D,",",M,".size,",M,".type,",M,".normalized,",M,".stride,",M,".offset);").else(N,".disableVertexAttribArray(",D,");",N,".vertexAttrib4f(",D,",",M,".x,",M,".y,",M,".z,",M,".w);",M,".buffer=null;"),x(Y),we&&x(R,".vertexAttribDivisorANGLE(",D,",",M,".divisor);")}return x(O.shared.vao,".currentVAO=null;",O.shared.vao,".setVAO(",O.shared.vao,".targetVAO);"),Object.keys(he).forEach(function(W){var ce=he[W],me=z.def(B,".",W),Re=O.block();Re("if(",me,"){",N,".enable(",ce,")}else{",N,".disable(",ce,")}",H,".",W,"=",me,";"),x(Re),T("if(",me,"!==",H,".",W,"){",Re,"}")}),Object.keys(ue).forEach(function(W){var ce=ue[W],me=Ge[W],Re,at,tt=O.block();if(tt(N,".",ce,"("),sn(me)){var ze=me.length;Re=O.global.def(B,".",W),at=O.global.def(H,".",W),tt(Qn(ze,function(ge){return Re+"["+ge+"]"}),");",Qn(ze,function(ge){return at+"["+ge+"]="+Re+"["+ge+"];"}).join("")),T("if(",Qn(ze,function(ge){return Re+"["+ge+"]!=="+at+"["+ge+"]"}).join("||"),"){",tt,"}")}else Re=z.def(B,".",W),at=z.def(H,".",W),tt(Re,");",H,".",W,"=",Re,";"),T("if(",Re,"!==",at,"){",tt,"}");x(tt)}),O.compile()}(),compile:St}}function i5(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var o5=34918,a5=34919,v1=35007,l5=function(y,C){if(!C.ext_disjoint_timer_query)return null;var F=[];function J(){return F.pop()||C.ext_disjoint_timer_query.createQueryEXT()}function de(we){F.push(we)}var Q=[];function ae(we){var $e=J();C.ext_disjoint_timer_query.beginQueryEXT(v1,$e),Q.push($e),Ee(Q.length-1,Q.length,we)}function ye(){C.ext_disjoint_timer_query.endQueryEXT(v1)}function be(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Ce=[];function Le(){return Ce.pop()||new be}function Pe(we){Ce.push(we)}var Ie=[];function Ee(we,$e,ve){var Ge=Le();Ge.startQueryIndex=we,Ge.endQueryIndex=$e,Ge.sum=0,Ge.stats=ve,Ie.push(Ge)}var Te=[],q=[];function ie(){var we,$e,ve=Q.length;if(ve!==0){q.length=Math.max(q.length,ve+1),Te.length=Math.max(Te.length,ve+1),Te[0]=0,q[0]=0;var Ge=0;for(we=0,$e=0;$e<Q.length;++$e){var xe=Q[$e];C.ext_disjoint_timer_query.getQueryObjectEXT(xe,a5)?(Ge+=C.ext_disjoint_timer_query.getQueryObjectEXT(xe,o5),de(xe)):Q[we++]=xe,Te[$e+1]=Ge,q[$e+1]=we}for(Q.length=we,we=0,$e=0;$e<Ie.length;++$e){var nt=Ie[$e],he=nt.startQueryIndex,ue=nt.endQueryIndex;nt.sum+=Te[ue]-Te[he];var Xe=q[he],De=q[ue];De===Xe?(nt.stats.gpuTime+=nt.sum/1e6,Pe(nt)):(nt.startQueryIndex=Xe,nt.endQueryIndex=De,Ie[we++]=nt)}Ie.length=we}}return{beginQuery:ae,endQuery:ye,pushScopeStats:Ee,update:ie,getNumPendingQueries:function(){return Q.length},clear:function(){F.push.apply(F,Q);for(var we=0;we<F.length;we++)C.ext_disjoint_timer_query.deleteQueryEXT(F[we]);Q.length=0,F.length=0},restore:function(){Q.length=0,F.length=0}}},c5=16384,f5=256,u5=1024,d5=34962,b1="webglcontextlost",_1="webglcontextrestored",y1=1,h5=2,m5=3;function A1(y,C){for(var F=0;F<y.length;++F)if(y[F]===C)return F;return-1}function p5(y){var C=dc(y);if(!C)return null;var F=C.gl,J=F.getContextAttributes(),de=F.isContextLost(),Q=hc(F,C);if(!Q)return null;var ae=ac(),ye=i5(),be=Q.extensions,Ce=l5(F,be),Le=da(),Pe=F.drawingBufferWidth,Ie=F.drawingBufferHeight,Ee={tick:0,time:0,viewportWidth:Pe,viewportHeight:Ie,framebufferWidth:Pe,framebufferHeight:Ie,drawingBufferWidth:Pe,drawingBufferHeight:Ie,pixelRatio:C.pixelRatio},Te={},q={elements:null,primitive:4,count:-1,offset:0,instances:-1},ie=t_(F,be),we=v_(F,ye,C,Ge),$e=O_(F,be,we,ye),ve=Oy(F,be,ie,ye,we,$e,q);function Ge(st){return ve.destroyBuffer(st)}var xe=Dy(F,ae,ye,C),nt=oy(F,be,ie,function(){Xe.procs.poll()},Ee,ye,C),he=ay(F,be,ie,ye,C),ue=Py(F,be,ie,nt,he,ye),Xe=s5(F,ae,be,ie,we,$e,nt,ue,Te,ve,xe,q,Ee,Ce,C),De=xy(F,ue,Xe.procs.poll,Ee,J,be,ie),Se=Xe.next,Fe=F.canvas,ke=[],ht=[],ft=[],Be=[C.onDestroy],Ne=null;function it(){if(ke.length===0){Ce&&Ce.update(),Ne=null;return}Ne=oo.next(it),$n();for(var st=ke.length-1;st>=0;--st){var Lt=ke[st];Lt&&Lt(Ee,null,0)}F.flush(),Ce&&Ce.update()}function mt(){!Ne&&ke.length>0&&(Ne=oo.next(it))}function Pt(){Ne&&(oo.cancel(it),Ne=null)}function on(st){st.preventDefault(),de=!0,Pt(),ht.forEach(function(Lt){Lt()})}function fn(st){F.getError(),de=!1,Q.restore(),xe.restore(),we.restore(),nt.restore(),he.restore(),ue.restore(),ve.restore(),Ce&&Ce.restore(),Xe.procs.refresh(),mt(),ft.forEach(function(Lt){Lt()})}Fe&&(Fe.addEventListener(b1,on,!1),Fe.addEventListener(_1,fn,!1));function Ot(){ke.length=0,Pt(),Fe&&(Fe.removeEventListener(b1,on),Fe.removeEventListener(_1,fn)),xe.clear(),ue.clear(),he.clear(),ve.clear(),nt.clear(),$e.clear(),we.clear(),Ce&&Ce.clear(),Be.forEach(function(st){st()})}function Ln(st){P(!!st,"invalid args to regl({...})"),P.type(st,"object","invalid args to regl({...})");function Lt(X){var N=r({},X);delete N.uniforms,delete N.attributes,delete N.context,delete N.vao,"stencil"in N&&N.stencil.op&&(N.stencil.opBack=N.stencil.opFront=N.stencil.op,delete N.stencil.op);function B(H){if(H in N){var R=N[H];delete N[H],Object.keys(R).forEach(function(D){N[H+"."+D]=R[D]})}}return B("blend"),B("depth"),B("cull"),B("stencil"),B("polygonOffset"),B("scissor"),B("sample"),"vao"in X&&(N.vao=X.vao),N}function Ft(X,N){var B={},H={};return Object.keys(X).forEach(function(R){var D=X[R];if(Kn.isDynamic(D)){H[R]=Kn.unbox(D,R);return}else if(N&&Array.isArray(D)){for(var M=0;M<D.length;++M)if(Kn.isDynamic(D[M])){H[R]=Kn.unbox(D,R);return}}B[R]=D}),{dynamic:H,static:B}}var vn=Ft(st.context||{},!0),Dr=Ft(st.uniforms||{},!0),Hs=Ft(st.attributes||{},!1),I=Ft(Lt(st),!1),re={gpuTime:0,cpuTime:0,count:0},Z=Xe.compile(I,Hs,Dr,vn,re),qe=Z.draw,St=Z.batch,O=Z.scope,T=[];function x(X){for(;T.length<X;)T.push(null);return T}function z(X,N){var B;if(de&&P.raise("context lost"),typeof X=="function")return O.call(this,null,X,0);if(typeof N=="function")if(typeof X=="number")for(B=0;B<X;++B)O.call(this,null,N,B);else if(Array.isArray(X))for(B=0;B<X.length;++B)O.call(this,X[B],N,B);else return O.call(this,X,N,0);else if(typeof X=="number"){if(X>0)return St.call(this,x(X|0),X|0)}else if(Array.isArray(X)){if(X.length)return St.call(this,X,X.length)}else return qe.call(this,X)}return r(z,{stats:re,destroy:function(){Z.destroy()}})}var en=ue.setFBO=Ln({framebuffer:Kn.define.call(null,y1,"framebuffer")});function En(st,Lt){var Ft=0;Xe.procs.poll();var vn=Lt.color;vn&&(F.clearColor(+vn[0]||0,+vn[1]||0,+vn[2]||0,+vn[3]||0),Ft|=c5),"depth"in Lt&&(F.clearDepth(+Lt.depth),Ft|=f5),"stencil"in Lt&&(F.clearStencil(Lt.stencil|0),Ft|=u5),P(!!Ft,"called regl.clear with no buffer specified"),F.clear(Ft)}function On(st){if(P(typeof st=="object"&&st,"regl.clear() takes an object as input"),"framebuffer"in st)if(st.framebuffer&&st.framebuffer_reglType==="framebufferCube")for(var Lt=0;Lt<6;++Lt)en(r({framebuffer:st.framebuffer.faces[Lt]},st),En);else en(st,En);else En(null,st)}function Rn(st){P.type(st,"function","regl.frame() callback must be a function"),ke.push(st);function Lt(){var Ft=A1(ke,st);P(Ft>=0,"cannot cancel a frame twice");function vn(){var Dr=A1(ke,vn);ke[Dr]=ke[ke.length-1],ke.length-=1,ke.length<=0&&Pt()}ke[Ft]=vn}return mt(),{cancel:Lt}}function Bn(){var st=Se.viewport,Lt=Se.scissor_box;st[0]=st[1]=Lt[0]=Lt[1]=0,Ee.viewportWidth=Ee.framebufferWidth=Ee.drawingBufferWidth=st[2]=Lt[2]=F.drawingBufferWidth,Ee.viewportHeight=Ee.framebufferHeight=Ee.drawingBufferHeight=st[3]=Lt[3]=F.drawingBufferHeight}function $n(){Ee.tick+=1,Ee.time=bt(),Bn(),Xe.procs.poll()}function gn(){nt.refresh(),Bn(),Xe.procs.refresh(),Ce&&Ce.update()}function bt(){return(da()-Le)/1e3}gn();function Un(st,Lt){P.type(Lt,"function","listener callback must be a function");var Ft;switch(st){case"frame":return Rn(Lt);case"lost":Ft=ht;break;case"restore":Ft=ft;break;case"destroy":Ft=Be;break;default:P.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ft.push(Lt),{cancel:function(){for(var vn=0;vn<Ft.length;++vn)if(Ft[vn]===Lt){Ft[vn]=Ft[Ft.length-1],Ft.pop();return}}}}var Ht=r(Ln,{clear:On,prop:Kn.define.bind(null,y1),context:Kn.define.bind(null,h5),this:Kn.define.bind(null,m5),draw:Ln({}),buffer:function(st){return we.create(st,d5,!1,!1)},elements:function(st){return $e.create(st,!1)},texture:nt.create2D,cube:nt.createCube,renderbuffer:he.create,framebuffer:ue.create,framebufferCube:ue.createCube,vao:ve.createVAO,attributes:J,frame:Rn,on:Un,limits:ie,hasExtension:function(st){return ie.extensions.indexOf(st.toLowerCase())>=0},read:De,destroy:Ot,_gl:F,_refresh:gn,poll:function(){$n(),Ce&&Ce.update()},now:bt,stats:ye});return C.onDone(null,Ht),Ht}return p5})}(Lf)),Lf.exports}const xA=FA,BA=Gl,GA=e=>{const n=Object.assign({},{},e.glOptions,{onDone:(o,a)=>{if(o)throw o}}),r=kA()(n),s=new Map,i=o=>{o.rendering=Object.assign({},BA,o.rendering),xA(r)(o,a=>{r.clear({color:o.rendering.background,depth:1}),o.entities&&o.entities.sort((l,c)=>{const f="transparent"in l.visuals?l.visuals.transparent:!1,u="transparent"in c.visuals?c.visuals.transparent:!1;return f===u?0:f?1:-1}).forEach(l=>{const{visuals:c}=l;if(("show"in c?c.show:!0)&&c.drawCmd&&o.drawCommands[c.drawCmd]){let u;c.cacheId?u=s.get(c.cacheId):(c.cacheId=s.size,u=o.drawCommands[c.drawCmd](r,l),s.set(c.cacheId,u));const h={...l,...c,camera:o.camera};u(h)}})})};return function(a){r.poll(),i(a)}};var NA=GA,Of,W1;function Y1(){if(W1)return Of;W1=1;const e=Sr;return Of=(n,r={})=>{const s=[],i={visuals:{color:[0,0,1,1],fadeOut:!1},ticks:1,size:[16,16],centered:!1,lineWidth:2},o=Object.assign({},i.visuals,r.visuals||{}),{fadeOut:a,color:l}=o,{size:c,ticks:f,centered:u,lineWidth:h}=Object.assign({},i,r),d=c[0],g=c[1];if(u){const m=d*.5,p=g*.5,v=m%f,b=-m+v,_=-b,E=p%f,S=-p+E,w=-S,A=0;for(let L=b,$=0;L<=_;L+=f,$+=1)$%A!==0&&(s.push(S,L,0),s.push(w,L,0),s.push(S,L,0));for(let L=S,$=0;L<=w;L+=f,$+=1)$%A!==0&&(s.push(L,b,0),s.push(L,_,0),s.push(L,b,0))}else{for(let m=-d*.5;m<=d*.5;m+=f)s.push(-g*.5,m,0),s.push(g*.5,m,0),s.push(-g*.5,m,0);for(let m=-g*.5;m<=g*.5;m+=f)s.push(m,-d*.5,0),s.push(m,d*.5,0),s.push(m,-d*.5,0)}return n({vert:`precision mediump float;

    uniform float camNear, camFar;
    uniform mat4 model, view, projection;

    attribute vec3 position;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    void main() {
      fragPosition = position;
      worldPosition = model * vec4(position, 1);
      vec4 glPosition = projection * view * worldPosition;
      gl_Position = glPosition;
    }`,frag:`precision mediump float;
    uniform vec4 color;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    uniform vec4 fogColor;
    uniform bool fadeOut;
    void main() {
      float dist = .5;
      if(fadeOut){
        dist = distance( vec2(0.,0.), vec2(worldPosition.x, worldPosition.y));
        dist *= 0.0025;
        dist = sqrt(dist);
      }

      gl_FragColor = mix(color, fogColor, dist);
    }
    `,attributes:{position:n.buffer(s)},count:s.length/3,uniforms:{model:(m,p)=>p&&p.model?p.model:e.identity([]),color:(m,p)=>p&&p.color?p.color:l,fogColor:(m,p)=>p&&p.color?[p.color[0],p.color[1],p.color[2],0]:[l[0],l[1],l[2],0],fadeOut:(m,p)=>p&&p.fadeOut!==void 0?p.fadeOut:a},lineWidth:(m,p)=>Math.min(p&&p.lineWidth?p.lineWidth:h,n.limits.lineWidthDims[1]),primitive:"lines",cull:{enable:!0,face:"front"},polygonOffset:{enable:!0,offset:{factor:1,units:Math.random()*10}},blend:{enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}})},Of}const VA=(e,t)=>{const n={size:[50,50],ticks:[10,1]},{size:r,ticks:s}=Object.assign({},n,t),i=Y1()(e,{size:r,ticks:s[0]}),o=Y1()(e,{size:r,ticks:s[1]});return l=>{i(l),o({color:l.subColor,fadeOut:l.fadeOut})}};var $A=VA;const Jn=Sr,UA=(e,t)=>{const n={xColor:[1,0,0,1],yColor:[0,1,0,1],zColor:[0,0,1,1],size:10,lineWidth:3,alwaysVisible:!0};let{size:r,xColor:s,yColor:i,zColor:o,lineWidth:a,alwaysVisible:l}=Object.assign({},n,t);a>e.limits.lineWidthDims[1]&&(a=e.limits.lineWidthDims[1]);const c=[0,0,0,r,0,0],f={frag:`precision mediump float;
    uniform vec4 color;
    void main() {
      gl_FragColor = color;
    }`,vert:`
    precision mediump float;
    attribute vec3 position;
    uniform mat4 model, view, projection;
    void main() {
      gl_Position = projection * view * model * vec4(position, 1);
    }`,uniforms:{model:(m,p)=>p&&p.model?p.model:Jn.identity([]),color:(m,p)=>p.color,angle:(m,p)=>p.angle},attributes:{position:c},count:c.length/3,primitive:"line loop",lineWidth:a,depth:{enable:!l}},u=Jn.identity([]),h=Jn.rotateZ(Jn.create(),Jn.identity([]),Math.PI/2),d=Jn.rotateY(Jn.create(),Jn.identity([]),-Math.PI/2),g=e(f);return m=>{const p={model:Jn.identity([])};return m=Object.assign({},p,m),g([{color:s,model:Jn.multiply(Jn.create(),m.model,u)},{color:i,model:Jn.multiply(Jn.create(),m.model,h)},{color:o,model:Jn.multiply(Jn.create(),m.model,d)}])}};var HA=UA,Rf,Z1;function K1(){return Z1||(Z1=1,Rf={frag:`
precision mediump float;
varying vec3 surfaceNormal, surfacePosition;

uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform float specularLightAmount;

uniform vec3 lightDirection;
uniform vec4 lightColor;
uniform vec3 opacity;
uniform float uMaterialShininess;

varying vec4 vColor;
uniform vec4 ucolor;
uniform float vColorToggler;

uniform vec2 printableArea;
vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);//vec4(0.15, 0.15, 0.15, 0.3);
varying vec4 _worldSpacePosition;
varying float ambientAo;

void main () {
  vec4 depth = gl_FragCoord;
  vec4 endColor = vColor * vColorToggler + ucolor * (1.0 - vColorToggler);

  vec3 ambient = ambientLightAmount * endColor.rgb ; //ambientAo * 

  float diffuseWeight = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(diffuseWeight , 0.0, 1.0 );

  //specular
  
  vec4 specularColor = vec4(lightColor);
  vec3 eyeDirection = normalize(surfacePosition.xyz);
  vec3 reflectionDirection = reflect(-lightDirection, -surfaceNormal);
  float specularLightWeight = pow(max(dot(reflectionDirection, eyeDirection), 0.0), uMaterialShininess);
  vec3 specular = specularColor.rgb * specularLightWeight * specularLightAmount;

  gl_FragColor = vec4((ambient + diffuse + specular), endColor.a);
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection, unormal;

attribute vec3 position, normal;
attribute vec4 color;

attribute float ao;
varying float ambientAo;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  surfacePosition = (unormal * vec4(position, 1.0)).xyz;
  surfaceNormal = normalize((unormal * vec4(normal, 1.0)).xyz); //vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;
  //gl_Position = projection * view * worldSpacePosition;

  vColor = color;

  //ambientAo = (1. - ao) * (0.5 * max(normal.x, 0.) + 0.5);

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
  //gl_Position = zBufferAdjust(glPosition, camNear, camFar);
}
`}),Rf}var Mf,Q1;function J1(){return Q1||(Q1=1,Mf={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;

void main() {
  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Mf}const ps=Sr,{meshColor:zA}=Gl,jA=(e,t={extras:{}})=>{const n={useVertexColors:!0,dynamicCulling:!0,geometry:void 0,color:zA,visuals:{}},{geometry:r,dynamicCulling:s,useVertexColors:i,color:o,visuals:a}=Object.assign({},n,t),l=e.buffer([]),c=!!(r.indices&&r.indices.length>0),f=!!(r.normals&&r.normals.length>0),u="transparent"in a?a.transparent:!1,h=!!(i&&r.colors&&r.colors.length>0),d=r.transforms||ps.create(),g=ps.determinant(d)<0,m=s&&g?"front":"back",p=h?K1().vert:J1().vert,v=h?K1().frag:J1().frag,b=ps.invert(ps.create(),d);let _={primitive:"triangles",vert:p,frag:v,uniforms:{model:(E,S)=>d,ucolor:(E,S)=>S&&S.color?S.color:o,vColorToggler:(E,S)=>S&&S.useVertexColors&&S.useVertexColors===!0?1:0,unormal:(E,S)=>{const w=ps.invert(ps.create(),S.camera.view);return ps.multiply(w,b,w),ps.transpose(w,w),w}},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions}),ao:l},cull:{enable:!0,face:m}};return u&&(_.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),r.cells?_.elements=r.cells:c?_.elements=e.elements({usage:"static",type:"uint16",data:r.indices}):r.triangles?_.elements=r.triangles:_.count=r.positions.length/3,f&&(_.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),h&&(_.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),_=Object.assign({},_,t.extras),e(_)};var qA=jA,If,eh;function th(){return eh||(eh=1,If={frag:`
precision mediump float;
varying vec4 vColor;

void main () {
  gl_FragColor = vColor;
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;
attribute vec4 color;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  vColor = color;

  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`}),If}var Df,nh;function XA(){return nh||(nh=1,Df={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;


varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;


void main() {


  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Df}var Ff,rh;function WA(){return rh||(rh=1,Ff={frag:`
precision mediump float;
uniform vec4 ucolor;

void main () {
  gl_FragColor = ucolor;
}
`}),Ff}const YA=Sr,{meshColor:ZA}=Gl,KA=(e,t={})=>{const n={color:ZA,geometry:void 0};let{geometry:r,color:s,transparent:i}=Object.assign({},n,t);"color"in r&&(s=r.color);const o=!!(r.indices&&r.indices.length>0),a=!!(r.normals&&r.normals.length>0),l=!!(r.colors&&r.colors.length>0),c=l?th().vert:XA().vert,f=l?th().frag:WA().frag,u={primitive:"lines",vert:c,frag:f,uniforms:{model:(h,d)=>d.model||r.transforms||YA.create(),ucolor:(h,d)=>d&&d.color?d.color:s},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions})}};return i&&(u.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),l&&(u.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),o&&(u.elements=e.elements({usage:"static",type:"uint16",data:r.indices})),a&&(u.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),e(u)};var QA=KA,uv=1e-6,dv=JA;function JA(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}var eE=tE;function tE(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}var hv=nE;function nE(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}var mv=rE;function rE(e,t){var n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}var pv=sE;function sE(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}var iE=aE,sh=hv,ih=mv,oE=pv;function aE(e,t){var n=sh(e[0],e[1],e[2]),r=sh(t[0],t[1],t[2]);ih(n,n),ih(r,r);var s=oE(n,r);return s>1?0:Math.acos(s)}var lE=cE;function cE(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}var fE=uE;function uE(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}var dE=hE,kf=uv;function hE(e,t){var n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2];return Math.abs(n-i)<=kf*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=kf*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-a)<=kf*Math.max(1,Math.abs(s),Math.abs(a))}var mE=pE;function pE(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var gE=vE;function vE(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var gv=bE;function bE(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}var _E=gv,vv=yE;function yE(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}var AE=vv,bv=EE;function EE(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}var SE=bv,wE=TE;function TE(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}var CE=PE;function PE(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}var LE=OE;function OE(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}var RE=ME;function ME(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}var IE=DE;function DE(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}var FE=kE;function kE(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}var xE=BE;function BE(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}var _v=GE;function GE(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)}var NE=_v,yv=VE;function VE(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s}var $E=yv,Av=UE;function UE(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}var HE=Av,Ev=zE;function zE(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}var jE=Ev,qE=XE;function XE(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}var WE=YE;function YE(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}var ZE=KE;function KE(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e}var QE=JE;function JE(e,t,n,r){var s=t[0],i=t[1],o=t[2];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}var eS=tS;function tS(e,t){t=t||1;var n=Math.random()*2*Math.PI,r=Math.random()*2-1,s=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=r*t,e}var nS=rS;function rS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e}var sS=iS;function iS(e,t,n){var r=t[0],s=t[1],i=t[2];return e[0]=r*n[0]+s*n[3]+i*n[6],e[1]=r*n[1]+s*n[4]+i*n[7],e[2]=r*n[2]+s*n[5]+i*n[8],e}var oS=aS;function aS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2],c=n[3],f=c*r+a*i-l*s,u=c*s+l*r-o*i,h=c*i+o*s-a*r,d=-o*r-a*s-l*i;return e[0]=f*c+d*-o+u*-l-h*-a,e[1]=u*c+d*-a+h*-o-f*-l,e[2]=h*c+d*-l+f*-a-u*-o,e}var lS=cS;function cS(e,t,n,r){var s=n[1],i=n[2],o=t[1]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=t[0],e[1]=s+o*c-a*l,e[2]=i+o*l+a*c,e}var fS=uS;function uS(e,t,n,r){var s=n[0],i=n[2],o=t[0]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+a*l+o*c,e[1]=t[1],e[2]=i+a*c-o*l,e}var dS=hS;function hS(e,t,n,r){var s=n[0],i=n[1],o=t[0]-s,a=t[1]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+o*c-a*l,e[1]=i+o*l+a*c,e[2]=t[2],e}var mS=pS,gs=dv();function pS(e,t,n,r,s,i){var o,a;for(t||(t=3),n||(n=0),r?a=Math.min(r*t+n,e.length):a=e.length,o=n;o<a;o+=t)gs[0]=e[o],gs[1]=e[o+1],gs[2]=e[o+2],s(gs,gs,i),e[o]=gs[0],e[o+1]=gs[1],e[o+2]=gs[2];return e}var ra={EPSILON:uv,create:dv,clone:eE,angle:iE,fromValues:hv,copy:lE,set:fE,equals:dE,exactEquals:mE,add:gE,subtract:gv,sub:_E,multiply:vv,mul:AE,divide:bv,div:SE,min:wE,max:CE,floor:LE,ceil:RE,round:IE,scale:FE,scaleAndAdd:xE,distance:_v,dist:NE,squaredDistance:yv,sqrDist:$E,length:Av,len:HE,squaredLength:Ev,sqrLen:jE,negate:qE,inverse:WE,normalize:mv,dot:pv,cross:ZE,lerp:QE,random:eS,transformMat4:nS,transformMat3:sS,transformQuat:oS,rotateX:lS,rotateY:fS,rotateZ:dS,forEach:mS};const oi=Sr,xf=ra,Sv={view:oi.identity(new Float32Array(16)),projection:oi.identity(new Float32Array(16)),matrix:oi.identity(new Float32Array(16)),near:1,far:18e3,up:[0,0,1],eye:new Float32Array(3),position:[450,550,700],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],projectionType:"perspective"},wv={},gS=Object.assign({},Sv,wv),vS=(e,t,n)=>{const r=n.width/n.height,s=oi.perspective(oi.identity([]),t.fov,r,t.near,t.far),i=[0,0,n.width,n.height],o=e||{};return o.projection=s,o.aspect=r,o.viewport=i,o},bS=(e,t)=>{t||(t=e);const{position:n,target:r,up:s}=t,i=xf.subtract([],n,r),o=xf.add(xf.create(),r,i),a=oi.lookAt(oi.create(),o,r,s),l=e||{};return l.position=o,l.view=a,l};var $u={cameraState:Sv,cameraProps:wv,defaults:gS,setProjection:vS,update:bS};const Tl=Sr,_S={view:Tl.identity(new Float32Array(16)),projection:Tl.identity(new Float32Array(16)),matrix:Tl.identity(new Float32Array(16)),near:1,far:1300,up:[0,0,1],eye:new Float32Array(3),position:[150,250,200],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],zoom:1,projectionType:"orthographic"},yS={},AS=(e,t)=>{const{width:n,height:r}=t,s=n/r,i=[0,0,n,r],o=e.zoom,a=-n*o,l=n*o,c=-r*o,f=r*o;return{projection:Tl.ortho([],a,l,c,f,e.near,e.far),aspect:s,viewport:i}};var Rl={cameraState:_S,cameraProps:yS,setProjection:AS};const Xi=ra,Ml=Sr,ES=e=>{const{near:t,far:n,fov:r,zoom:s}=e,{viewport:i}=e,o=$u.setProjection(e,{width:i[2],height:i[3]}),{projectionType:a}=$u.cameraState;return Object.assign({},e,o,{projectionType:a},{near:t,far:n,fov:r})},SS=e=>{const{fov:t,aspect:n}=e,r=Xi.length(Xi.subtract([],e.position,e.target))*.3,s=Math.tan(t)*r*n,i=Math.tan(t)*r,{near:o,far:a,viewport:l}=e,c={zoom:1,near:o,far:a},f=Rl.cameraState,u=Rl.setProjection(c,{width:s,height:i});return Object.assign({},f,e,u,{projectionType:f.projectionType,viewport:l})},wS=({camera:e})=>{const n=Xi.distance(e.position,e.target),r=[n,n,n];return{view:Ml.lookAt(Ml.create(),r,e.target,e.up),position:r}},TS=(e,{camera:t})=>{const n={top:[0,-1e-6,1],bottom:[0,0,-1],front:[0,1,0],back:[0,-1,0],left:[-1,0,0],right:[1,0,0],undefined:[0,0,0]},r=Xi.distance(t.position,t.target),s=Xi.add(Xi.create(),n[e].map(o=>o*r),t.target);return{view:Ml.lookAt(Ml.create(),s,t.target,t.up),position:s}};var CS={toPerspectiveView:wS,toPresetView:TS,fromOrthographicToPerspective:ES,fromPerspectiveToOrthographic:SS};const Tv=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Tv(n)):t.concat(n),[]);var PS=Tv;const LS=(e,t)=>e-t;var OS=LS;const RS=e=>{if(!(!Array.isArray(e)||e.length===0))return e[0]};var MS=RS;const IS=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}return e.splice(r,0,t),e};var DS=IS;const FS=(e,t)=>{if(!(!Array.isArray(e)||e.length<t))return e[t]};var kS=FS;const xS=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var BS=xS;const GS=e=>Array.isArray(e)?e:e==null?[]:[e];var NS=GS,nd={flatten:PS,fnNumberSort:OS,head:MS,insertSorted:DS,nth:kS,padToLength:BS,toArray:NS};const VS=e=>{if(e.length===0)return[[0,0,0],[0,0,0]];const t=Array.isArray(e)&&Array.isArray(e[0]),n=t?e[0].length:3,r=new Array(n),s=new Array(n);for(let i=0;i<n;i+=1)r[i]=1/0,s[i]=-1/0;if(t)e.forEach(i=>{for(let o=0;o<n;o+=1){const a=t?i[o]:i;s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}});else for(let i=0;i<e.length;i+=n)for(let o=0;o<n;o+=1){const a=e[o+i];s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}return[r,s]};var $S=VS;const mr=ra,{flatten:US}=nd,HS=$S,zS=(...e)=>{e=US(e);let t;e.forEach(l=>{let c=HS(l.positions);c=c.map(f=>mr.transformMat4(f,f,l.transforms)),t?(mr.min(t[0],t[0],c[0]),mr.max(t[1],t[1],c[1])):t=c});const n=mr.min(mr.create(),t[1],t[0]),r=mr.max(mr.create(),t[1],t[0]),s=mr.subtract(mr.create(),r,n);let i=mr.scale(mr.create(),s,.5);return i=mr.add(i,n,i),{dia:mr.distance(i,r),center:[...i],min:[...n],max:[...r],size:[...s]}};var jS=zS,Bf,oh;function qS(){if(oh)return Bf;oh=1,Bf=e;function e(t,n,r){var s=n[0],i=n[1],o=n[2],a=r[0],l=r[1],c=r[2],f=r[3],u=r[4],h=r[5],d=r[6],g=r[7],m=r[8],p=r[9],v=r[10],b=r[11],_=r[12],E=r[13],S=r[14],w=r[15],A=1/(s*f+i*g+o*b+w);return t[0]=(s*a+i*u+o*m+_)*A,t[1]=(s*l+i*h+o*p+E)*A,t[2]=(s*c+i*d+o*v+S)*A,t}return Bf}var Gf,ah;function XS(){if(ah)return Gf;ah=1;var e=qS();Gf=t;function t(n,r,s,i){var o=s[0],a=s[1],l=s[2],c=s[3],f=r[0],u=r[1],h=r[2];return f=f-o,u=c-u-1,u=u-a,n[0]=2*f/l-1,n[1]=2*u/c-1,n[2]=2*h-1,e(n,n,i)}return Gf}const rr=ra,Qo=Sr,{max:Nf,min:Vf,sqrt:lh,PI:WS,sin:Di,cos:Ja,atan2:el}=Math,YS=jS,rd={limits:{minDistance:.01,maxDistance:1e4},drag:.27,EPS:1e-6,zoomToFit:{auto:!0,targets:"all",tightness:1.5},userControl:{zoom:!0,zoomSpeed:1,rotate:!0,rotateSpeed:1,pan:!0,panSpeed:1},autoRotate:{enabled:!1,speed:1},autoAdjustPlanes:!0},Cv={thetaDelta:0,phiDelta:0,scale:1},ZS=Object.assign({},Cv,rd),KS=({controls:e,camera:t},n)=>{const{EPS:r,drag:s}=e,{position:i,target:o}=t,a=e.up?e.up:t.up;let l=e.thetaDelta;const c=e.phiDelta,f=e.scale,u=rr.subtract([],i,o);let h,d;a[2]===1?(h=el(u[0],u[1]),d=el(lh(u[0]*u[0]+u[1]*u[1]),u[2])):(h=el(u[0],u[2]),d=el(lh(u[0]*u[0]+u[2]*u[2]),u[1])),e.autoRotate.enabled&&e.userControl.rotate&&(l+=2*Math.PI/60/60*e.autoRotate.speed),h+=l,d+=c,d=Nf(r,Vf(WS-r,d));const g=Nf(e.limits.minDistance,Vf(e.limits.maxDistance,rr.length(u)*f));a[2]===1?(u[0]=g*Di(d)*Di(h),u[2]=g*Ja(d),u[1]=g*Di(d)*Ja(h)):(u[0]=g*Di(d)*Di(h),u[1]=g*Ja(d),u[2]=g*Di(d)*Ja(h));const m=rr.add(rr.create(),o,u),p=Qo.lookAt(Qo.create(),m,o,a),v=1-Nf(Vf(s,1),.01),b=rr.distance(i,m)>.001;return{controls:{thetaDelta:l*v,phiDelta:c*v,scale:1,changed:b},camera:{position:m,view:p}}},QS=({controls:e,camera:t,speed:n=1},r)=>{let{thetaDelta:s,phiDelta:i}=e;return e.userControl.rotate&&(s+=r[0]*n,i+=r[1]*n),{controls:{thetaDelta:s,phiDelta:i},camera:t}},JS=({controls:e,camera:t,speed:n=1},r=0)=>{let{scale:s}=e;if(e.userControl.zoom&&t&&r!==void 0&&r!==0&&!isNaN(r)){const i=Math.sign(r)===0?1:Math.sign(r);r=r/r*i*n;const o=r+e.scale,a=rr.distance(t.position,t.target)*o;if(a>e.limits.minDistance&&a<e.limits.maxDistance&&(s+=r),t.projectionType==="orthographic"){const l=rr.length(rr.subtract([],t.position,t.target))*.3,c=Math.tan(t.fov)*l*t.aspect,f=Math.tan(t.fov)*l;t=Rl.setProjection(t,{width:c,height:f})}}return{controls:{scale:s},camera:t}},ew=({controls:e,camera:t,speed:n=1},r)=>{const s=XS(),{projection:i,view:o,viewport:a}=t,l=Qo.multiply([],i,o),c=Qo.invert([],l),f=[a[2],a[3],0],u=[a[2]-r[0],a[3]+r[1],0],h=s([],f,a,c),d=s([],u,a,c),g=rr.distance(t.position,t.eye),m=rr.subtract([],h,d).map(p=>p*n*g*e.scale);return{controls:e,camera:{position:rr.add(rr.create(),t.position,m),target:rr.add(rr.create(),t.target,m)}}},tw=({controls:e,camera:t,entities:n})=>{const{zoomToFit:r}=e;if(r.targets!=="all")return{controls:e,camera:t};if(n.length===0)return{controls:e,camera:t};const s=n.map(d=>d.geometry),i=YS(s),{fov:o,target:a,position:l}=t,{tightness:c}=Object.assign({},r,rd.zoomToFit),f=i.dia*c/Math.tan(o/2),u=rr.distance(a,l),h=f/u;return{camera:{target:i.center},controls:{scale:h}}},nw=({controls:e,camera:t},n)=>({camera:{position:n.camera.position,target:n.camera.target,projection:Qo.perspective([],t.fov,t.aspect,t.near,t.far),view:n.camera.view},controls:{thetaDelta:n.controls.thetaDelta,phiDelta:n.controls.phiDelta,scale:n.controls.scale}});var rw={controlsProps:rd,controlsState:Cv,defaults:ZS,update:KS,rotate:QS,zoom:JS,pan:ew,zoomToFit:tw,reset:nw};const ch=Sr,$f=Math.floor(65535/2),sw=(e,t)=>{let{color:n}=e;const r=t.sides;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=[],o=Math.floor(r.length/$f)+1,a=(c,f)=>{i.push(c,f||c)},l=[];for(let c=0;c<o;c++){const f=c*$f,u=Math.min(f+$f,r.length),h=[];for(let p=f;p<u;p++){const v=r[p];if(v.color){if(i.length===0&&h.length>0){const b=h.length;for(let _=0;_<b;_++)i.push(n)}a(v.color,v.endColor)}else i.length&&a(n);h.push([v[0][0],v[0][1],0]),h.push([v[1][0],v[1][1],0])}const d=h.map(p=>[0,0,-1]),g=h.map((p,v)=>v),m=t.transforms?ch.clone(t.transforms):ch.create();l.push({type:"2d",positions:h,normals:d,indices:g,transforms:m,color:n,colors:i,isTransparent:s})}return l};var iw=sw;const vs=ra,fh=Sr,ow=65535,aw=(e,t)=>{let{color:n,smoothLighting:r}=e;"color"in t&&(n=t.color);const s=t.polygons,i=t.transforms?fh.clone(t.transforms):fh.create(),o=[];let a=0;for(;a<s.length;){let l=0,c=a;for(let p=a;p<s.length&&(l+=s[p].vertices.length,!(l>ow));p++)c++;const f=[],u=[],h=[],d=[],g=n[3]<1;for(let p=a;p<c;p++){const v=s[p],b=v.vertices,_=cw(v),E=lw(v,n),S=[];for(let w=0;w<b.length;w++){const A=b[w];f.push(A),u.push(_),d.push(E);const L=f.length-1;S.push(L)}for(let w=2;w<S.length;w++)h.push([S[0],S[w-1],S[w]])}const m={type:"3d",positions:f,normals:u,indices:h,colors:d,transforms:i,isTransparent:g};o.push(m),a=c}return o},lw=(e,t)=>{let n=t;return e.color&&(n=e.color),n&&n.length<4&&n.push(1),n},cw=e=>{if(e.plane)return vs.clone(e.plane);const t=e.vertices,n=vs.create();vs.subtract(n,t[1],t[0]);const r=vs.create();vs.subtract(r,t[2],t[0]);const s=vs.create();return vs.cross(s,n,r),vs.normalize(s,s),s};var fw=aw;const uh=Sr,Uf=Math.floor(65535/2)-2,uw=(e,t)=>{let{color:n}=e;const r=t.points;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=Math.floor(r.length/Uf)+1,o=[];for(let a=0;a<i;a++){const l=a*Uf,c=Math.min(l+Uf,r.length),f=[];let u;for(let m=l;m<c;m++){const p=r[m];u&&(f.push([u[0],u[1],0]),f.push([p[0],p[1],0])),u=p}if(a+1===i&&t.isClosed&&u){const m=r[0];f.push([u[0],u[1],0]),f.push([m[0],m[1],0])}const h=f.map(m=>[0,0,-1]),d=f.map((m,p)=>p),g=t.transforms?uh.clone(t.transforms):uh.create();o.push({type:"2d",positions:f,normals:h,indices:d,transforms:g,color:n,isTransparent:s})}return o};var dw=uw;const{flatten:hw,toArray:mw}=nd,{meshColor:pw}=Gl,gw=iw,vw=fw,bw=dw,_w=e=>e.map(n=>{const r={drawCmd:n.type==="2d"?"drawLines":"drawMesh",show:!0,transparent:n.isTransparent,useVertexColors:!0};return{geometry:n,visuals:r}}),yw=(e,...t)=>{const n={color:pw,smoothNormals:!0},{color:r,smoothNormals:s}=Object.assign({},n,e);t=hw(mw(t)),t=t.filter(o=>o&&o instanceof Object);const i=[];return t.forEach(o=>{let a=[];"sides"in o?a=gw({color:r},o):"points"in o?a=bw({color:r},o):"polygons"in o&&(a=vw({smoothLighting:s,normalThreshold:.3,color:r},o)),i.push(..._w(a))}),i};var Aw=yw,bs={prepareRender:NA,drawCommands:{drawGrid:$A,drawAxis:HA,drawMesh:qA,drawLines:QA},cameras:{camera:CS,orthographic:Rl,perspective:$u},controls:{orbit:rw},entitiesFromSolids:Aw};function Ew(e){let t;return{c(){t=dt("div"),pt(t,"class","svelte-1lbbz30")},m(n,r){Ae(n,t,r),e[4](t)},p:Zt,i:Zt,o:Zt,d(n){n&&_e(t),e[4](null)}}}function Sw(e,t,n){let r,s,{model:i}=t,o;const a=bs.cameras.perspective,l=bs.controls.orbit,c={controls:l.defaults,camera:{...a.defaults,position:[0,0,400]}};Yn(()=>{s.glOptions.container=o;const u=new ResizeObserver(()=>{a.setProjection(c.camera,c.camera,{width:o.clientWidth,height:o.clientHeight}),d=!0});u.observe(o);const h=bs.prepareRender(s);let d=!0;const g=()=>{if(E[0]||E[1]){const j=l.rotate({controls:c.controls,camera:c.camera,speed:v},E);n(2,c.controls={...c.controls,...j.controls},c),d=!0,E=[0,0]}if(S[0]||S[1]){const j=l.pan({controls:c.controls,camera:c.camera,speed:b},S);n(2,c.controls={...c.controls,...j.controls},c),S=[0,0],n(2,c.camera.position=j.camera.position,c),n(2,c.camera.target=j.camera.target,c),d=!0}if(w){const j=l.zoom({controls:c.controls,camera:c.camera,speed:_},w);n(2,c.controls={...c.controls,...j.controls},c),w=0,d=!0}};let m=0,p=0;const v=.002,b=1,_=.08;let E=[0,0],S=[0,0],w=0,A=!1;const L=j=>{if(!A)return;const Oe=m-j.pageX,ne=j.pageY-p;j.shiftKey===!0||j.touches&&j.touches.length>2||j.buttons==2?(S[0]+=Oe,S[1]+=ne):(E[0]-=Oe,E[1]-=ne),m=j.pageX,p=j.pageY,j.preventDefault()},$=j=>{A=!0,m=j.pageX,p=j.pageY,o.setPointerCapture(j.pointerId)},G=j=>{A=!1,o.releasePointerCapture(j.pointerId)},k=j=>{w+=j.deltaY,j.preventDefault()};n(0,o.onpointermove=L,o),n(0,o.onpointerdown=$,o),n(0,o.onpointerup=G,o),n(0,o.onwheel=k,o),n(0,o.oncontextmenu=j=>{j.preventDefault()},o);let se;const V=()=>{if(g(),d){const j=l.update({controls:c.controls,camera:c.camera});n(2,c.controls={...c.controls,...j.controls},c),d=c.controls.changed,n(2,c.camera.position=j.camera.position,c),a.update(c.camera),h(s)}se=window.requestAnimationFrame(V)};return se=window.requestAnimationFrame(V),()=>{typeof se=="number"&&window.cancelAnimationFrame(se),u.disconnect()}});function f(u){rt[u?"unshift":"push"](()=>{o=u,n(0,o)})}return e.$$set=u=>{"model"in u&&n(1,i=u.model)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=bs.entitiesFromSolids({},i)),e.$$.dirty&13&&(s={glOptions:{container:o},camera:c.camera,drawCommands:{drawAxis:bs.drawCommands.drawAxis,drawGrid:bs.drawCommands.drawGrid,drawLines:bs.drawCommands.drawLines,drawMesh:bs.drawCommands.drawMesh},entities:r})},[o,i,c,r,f]}class ww extends Qt{constructor(t){super(),Kt(this,t,Sw,Ew,Xt,{model:1})}}function Tw(e){let t,n,r,s,i,o;const a=e[12].default,l=Bt(a,e,e[11],null);let c=[{class:n=ut({[e[1]]:!0,"smui-paper":!0,"smui-paper--raised":e[2]==="raised","smui-paper--unelevated":e[2]==="unelevated","smui-paper--outlined":e[2]==="outlined",["smui-paper--elevation-z"+e[5]]:e[5]!==0&&e[2]==="raised","smui-paper--rounded":!e[3],["smui-paper--color-"+e[4]]:e[4]!=="default","smui-paper-transition":e[6]})},e[9]],f={};for(let u=0;u<c.length;u+=1)f=Ue(f,c[u]);return{c(){t=dt("div"),l&&l.c(),At(t,f)},m(u,h){Ae(u,t,h),l&&l.m(t,null),e[13](t),s=!0,i||(o=[_t(r=an.call(null,t,e[0])),_t(e[8].call(null,t))],i=!0)},p(u,[h]){l&&l.p&&(!s||h&2048)&&Nt(l,a,u,u[11],s?Gt(a,u[11],h,null):Vt(u[11]),null),At(t,f=It(c,[(!s||h&126&&n!==(n=ut({[u[1]]:!0,"smui-paper":!0,"smui-paper--raised":u[2]==="raised","smui-paper--unelevated":u[2]==="unelevated","smui-paper--outlined":u[2]==="outlined",["smui-paper--elevation-z"+u[5]]:u[5]!==0&&u[2]==="raised","smui-paper--rounded":!u[3],["smui-paper--color-"+u[4]]:u[4]!=="default","smui-paper-transition":u[6]})))&&{class:n},h&512&&u[9]])),r&&jt(r.update)&&h&1&&r.update.call(null,u[0])},i(u){s||(K(l,u),s=!0)},o(u){oe(l,u),s=!1},d(u){u&&_e(t),l&&l.d(u),e[13](null),i=!1,cn(o)}}}function Cw(e,t,n){const r=["use","class","variant","square","color","elevation","transition","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{variant:f="raised"}=t,{square:u=!1}=t,{color:h="default"}=t,{elevation:d=1}=t,{transition:g=!1}=t,m;function p(){return m}function v(b){rt[b?"unshift":"push"](()=>{m=b,n(7,m)})}return e.$$set=b=>{t=Ue(Ue({},t),mn(b)),n(9,s=wt(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"variant"in b&&n(2,f=b.variant),"square"in b&&n(3,u=b.square),"color"in b&&n(4,h=b.color),"elevation"in b&&n(5,d=b.elevation),"transition"in b&&n(6,g=b.transition),"$$scope"in b&&n(11,o=b.$$scope)},[l,c,f,u,h,d,g,m,a,s,p,o,i,v]}class sd extends Qt{constructor(t){super(),Kt(this,t,Cw,Tw,Xt,{use:0,class:1,variant:2,square:3,color:4,elevation:5,transition:6,getElement:10})}get getElement(){return this.$$.ctx[10]}}function Pw(e){let t;const n=e[11].default,r=Bt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&Nt(r,n,s,s[13],t?Gt(n,s[13],i,null):Vt(s[13]),null)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function Lw(e){let t,n,r;const s=[{tag:e[3]},{use:[e[8],...e[0]]},{class:ut({[e[1]]:!0,[e[6]]:!0,...e[5]})},e[7],e[9]];var i=e[2];function o(a){let l={$$slots:{default:[Pw]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ue(l,s[c]);return{props:l}}return i&&(t=yr(i,o(e)),e[12](t)),{c(){t&&Je(t.$$.fragment),n=pn()},m(a,l){t&&Ke(t,a,l),Ae(a,n,l),r=!0},p(a,[l]){const c=l&1003?It(s,[l&8&&{tag:a[3]},l&257&&{use:[a[8],...a[0]]},l&98&&{class:ut({[a[1]]:!0,[a[6]]:!0,...a[5]})},l&128&&hn(a[7]),l&512&&hn(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){Wt();const f=t;oe(f.$$.fragment,1,0,()=>{Qe(f,1)}),Yt()}i?(t=yr(i,o(a)),a[12](t),Je(t.$$.fragment),K(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&K(t.$$.fragment,a),r=!0)},o(a){t&&oe(t.$$.fragment,a),r=!1},d(a){a&&_e(n),e[12](null),t&&Qe(t,a)}}}const ts={component:Ar,tag:"div",class:"",classMap:{},contexts:{},props:{}};function Ow(e,t,n){const r=["use","class","component","tag","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t,{class:l=""}=t,c;const f=ts.class,u={},h=[],d=ts.contexts,g=ts.props;let{component:m=ts.component}=t,{tag:p=m===Ar?ts.tag:void 0}=t;Object.entries(ts.classMap).forEach(([E,S])=>{const w=fr(S);w&&"subscribe"in w&&h.push(w.subscribe(A=>{n(5,u[E]=A,u)}))});const v=_n(rn());for(let E in d)d.hasOwnProperty(E)&&cr(E,d[E]);ed(()=>{for(const E of h)E()});function b(){return c.getElement()}function _(E){rt[E?"unshift":"push"](()=>{c=E,n(4,c)})}return e.$$set=E=>{t=Ue(Ue({},t),mn(E)),n(9,s=wt(t,r)),"use"in E&&n(0,a=E.use),"class"in E&&n(1,l=E.class),"component"in E&&n(2,m=E.component),"tag"in E&&n(3,p=E.tag),"$$scope"in E&&n(13,o=E.$$scope)},[a,l,m,p,c,u,f,g,v,s,b,i,_,o]}class Rw extends Qt{constructor(t){super(),Kt(this,t,Ow,Lw,Xt,{use:0,class:1,component:2,tag:3,getElement:10})}get getElement(){return this.$$.ctx[10]}}const dh=Object.assign({},ts);function to(e){return new Proxy(Rw,{construct:function(t,n){return Object.assign(ts,dh,e),new t(...n)},get:function(t,n){return Object.assign(ts,dh,e),t[n]}})}to({class:"smui-paper__content",tag:"div"});to({class:"smui-paper__title",tag:"h5"});to({class:"smui-paper__subtitle",tag:"h6"});function Mw(e){let t,n,r,s,i,o,a,l,c;return{c(){t=dt("h1"),t.textContent="Honeycomb Key Organizer Designer",n=gt(),r=dt("p"),r.innerHTML=`Inspired by different
    <a href="https://www.printables.com/model/12877-honeycomb-key-organizer">honeycomb key organizer
    </a>.`,s=gt(),i=dt("p"),i.innerHTML=`More details at
    <a href="https://www.printables.com/model/506546-customizable-honeycomb-key-organizer">Printables model page
    </a>.`,o=gt(),a=dt("p"),a.innerHTML=`<a href="https://github.com/zdila/honeycomb-key-organizer-designer">Source code</a>
    is on GitHub. This tool was possible thanks to technologies like
    <a href="https://openjscad.xyz/docs/">JSCAD</a>,
    <a href="https://sveltematerialui.com">Svelte</a>,
    <a href="https://sveltematerialui.com">SMUI</a>,
    <a href="https://vitejs.dev">Vite</a>,
    <a href="https://www.typescriptlang.org">TypeScript</a>,
    <a href="https://code.visualstudio.com">VS code</a>, Linux and others.`,l=gt(),c=dt("p"),c.innerHTML='Author: <a href="mailto:m.zdila@gmail.com">Martin Ždila</a>',pt(t,"class","mdc-typography--headline4"),pt(r,"class","mdc-typography--body1"),pt(i,"class","mdc-typography--body1"),pt(a,"class","mdc-typography--body1"),pt(c,"class","mdc-typography--body1")},m(f,u){Ae(f,t,u),Ae(f,n,u),Ae(f,r,u),Ae(f,s,u),Ae(f,i,u),Ae(f,o,u),Ae(f,a,u),Ae(f,l,u),Ae(f,c,u)},p:Zt,d(f){f&&(_e(t),_e(n),_e(r),_e(s),_e(i),_e(o),_e(a),_e(l),_e(c))}}}function Iw(e){let t,n;return t=new sd({props:{variant:"unelevated",$$slots:{default:[Mw]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,[s]){const i={};s&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}class Dw extends Qt{constructor(t){super(),Kt(this,t,null,Iw,Xt,{})}}const Pv=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Pv(n)):t.concat(n),[]);var yt=Pv;const Fw=e=>Object.assign({},e);var kw=Fw;const xw=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e);var Bw=xw;const Gw=()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var id=Gw;const Nw=id,Vw=e=>{const t=Nw();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var $w=Vw;const Uw=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e);var Lv=Uw;const Hw=(e,t)=>{const n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],g=t[12],m=t[13],p=t[14],v=t[15],b=n*a-r*o,_=n*l-s*o,E=n*c-i*o,S=r*l-s*a,w=r*c-i*a,A=s*c-i*l,L=f*m-u*g,$=f*p-h*g,G=f*v-d*g,k=u*p-h*m,se=u*v-d*m,V=h*v-d*p;let j=b*V-_*se+E*k+S*G-w*$+A*L;return j?(j=1/j,e[0]=(a*V-l*se+c*k)*j,e[1]=(s*se-r*V-i*k)*j,e[2]=(m*A-p*w+v*S)*j,e[3]=(h*w-u*A-d*S)*j,e[4]=(l*G-o*V-c*$)*j,e[5]=(n*V-s*G+i*$)*j,e[6]=(p*E-g*A-v*_)*j,e[7]=(f*A-h*E+d*_)*j,e[8]=(o*se-a*G+c*L)*j,e[9]=(r*G-n*se-i*L)*j,e[10]=(g*w-m*E+v*b)*j,e[11]=(u*E-f*w-d*b)*j,e[12]=(a*$-o*k-l*L)*j,e[13]=(n*k-r*$+s*L)*j,e[14]=(m*_-g*S-p*b)*j,e[15]=(f*S-u*_+h*b)*j,e):null};var zw=Hw;const jw=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15];var qw=jw;const Xw=1e5,Ww=1e-5,Yw=1e-13,Zw=Math.PI*2;var $t={EPS:Ww,NEPS:Yw,TAU:Zw,spatialResolution:Xw};const{NEPS:Kw}=$t,Ov=e=>Math.abs(e)<Kw?0:e,Qw=e=>Ov(Math.sin(e)),Jw=e=>Ov(Math.cos(e));var qn={sin:Qw,cos:Jw};const e4=e=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var Rv=e4;const{EPS:t4}=$t,{sin:n4,cos:r4}=qn,s4=Rv,i4=(e,t,n)=>{let[r,s,i]=n;const o=r*r+s*s+i*i;if(Math.abs(o)<t4)return s4(e);const a=1/Math.sqrt(o);r*=a,s*=a,i*=a;const l=n4(t),c=r4(t),f=1-c;return e[0]=r*r*f+c,e[1]=s*r*f+i*l,e[2]=i*r*f-s*l,e[3]=0,e[4]=r*s*f-i*l,e[5]=s*s*f+c,e[6]=i*s*f+r*l,e[7]=0,e[8]=r*i*f+s*l,e[9]=s*i*f-r*l,e[10]=i*i*f+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Mv=i4;const o4=(e,t)=>(e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var a4=o4;const{sin:Hf,cos:zf}=qn,l4=(e,t,n,r)=>{const s=Hf(t),i=zf(t),o=Hf(n),a=zf(n),l=Hf(r),c=zf(r);return e[0]=a*i,e[1]=a*s,e[2]=-o,e[3]=0,e[4]=l*o*i-c*s,e[5]=c*i+l*o*s,e[6]=l*a,e[7]=0,e[8]=l*s+c*o*i,e[9]=c*o*s-l*i,e[10]=c*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var c4=l4;const f4=(e,t)=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e);var u4=f4;const d4=id,h4=(e,t,n,r,s,i,o,a,l,c,f,u,h,d,g,m)=>{const p=d4();return p[0]=e,p[1]=t,p[2]=n,p[3]=r,p[4]=s,p[5]=i,p[6]=o,p[7]=a,p[8]=l,p[9]=c,p[10]=f,p[11]=u,p[12]=h,p[13]=d,p[14]=g,p[15]=m,p};var m4=h4;const p4=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e);var Iv=p4;const g4=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e);var Dv=g4;const v4=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2];var Nl=v4;const b4=Nl,_4=(e,t)=>{const n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2],l=Math.sqrt(n*n+r*r+s*s),c=Math.sqrt(i*i+o*o+a*a),f=l*c,u=f&&b4(e,t)/f;return Math.acos(Math.min(Math.max(u,-1),1))};var y4=_4;const A4=()=>[0,0,0];var Vl=A4;const E4=Vl,S4=e=>{const t=E4();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var w4=S4;const T4=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var Fv=T4;const C4=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e};var sa=C4;const P4=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)};var kv=P4;const L4=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e);var O4=L4;const R4=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var M4=R4;const I4=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e);var D4=I4;const F4=Vl,k4=(e,t,n)=>{const r=F4();return r[0]=e,r[1]=t,r[2]=n,r};var x4=k4;const B4=(e,t,n=0)=>(e[0]=t[0],e[1]=t[1],e[2]=n,e);var G4=B4;const N4=e=>{const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)};var xv=N4;const V4=(e,t,n,r)=>(e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e[2]=t[2]+r*(n[2]-t[2]),e);var $4=V4;const U4=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e);var Bv=U4;const H4=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e);var Gv=H4;const z4=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e);var j4=z4;const q4=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e);var X4=q4;const W4=(e,t)=>{const n=t[0],r=t[1],s=t[2];let i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i)),e[0]=n*i,e[1]=r*i,e[2]=s*i,e};var od=W4;const Y4=Iv,Z4=Vl,K4=sa,Q4=(e,t)=>{const n=Y4(Z4(),t),r=0+(n[0]<n[1]&&n[0]<n[2]),s=0+(n[1]<=n[0]&&n[1]<n[2]),i=0+(n[2]<=n[0]&&n[2]<=n[1]);return K4(e,t,[r,s,i])};var J4=Q4;const eT=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[0],i[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),i[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var tT=eT;const nT=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),i[1]=s[1],i[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var rT=nT;const sT=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],i[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),i[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=t[2],e};var iT=sT;const oT=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e);var Nv=oT;const aT=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e[2]=Math.round(t[2]/n)*n+0,e);var lT=aT;const cT=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s};var Vv=cT;const fT=e=>{const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};var $v=fT;const uT=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e);var $l=uT;const dT=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)}]`;var hT=dT;const mT=(e,t,n)=>{const r=t[0],s=t[1],i=t[2];let o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e};var pT=mT,lt={abs:Iv,add:Dv,angle:y4,clone:w4,copy:Fv,create:Vl,cross:sa,distance:kv,divide:O4,dot:Nl,equals:M4,fromScalar:D4,fromValues:x4,fromVec2:G4,length:xv,lerp:$4,max:Bv,min:Gv,multiply:j4,negate:X4,normalize:od,orthogonal:J4,rotateX:tT,rotateY:rT,rotateZ:iT,scale:Nv,snap:lT,squaredDistance:Vv,squaredLength:$v,subtract:$l,toString:hT,transform:pT};const _s=lt,gT=Mv,vT=(e,t,n)=>{const r=_s.normalize(_s.create(),t),s=_s.normalize(_s.create(),n),i=_s.cross(_s.create(),s,r),o=_s.dot(s,r);if(o===-1)return gT(e,Math.PI,_s.orthogonal(i,r));const a=1/(1+o);return e[0]=i[0]*i[0]*a+o,e[1]=i[1]*i[0]*a-i[2],e[2]=i[2]*i[0]*a+i[1],e[3]=0,e[4]=i[0]*i[1]*a+i[2],e[5]=i[1]*i[1]*a+o,e[6]=i[2]*i[1]*a-i[0],e[7]=0,e[8]=i[0]*i[2]*a-i[1],e[9]=i[1]*i[2]*a+i[0],e[10]=i[2]*i[2]*a+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var bT=vT;const{sin:_T,cos:yT}=qn,AT=(e,t)=>{const n=_T(t),r=yT(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var ET=AT;const{sin:ST,cos:wT}=qn,TT=(e,t)=>{const n=ST(t),r=wT(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var CT=TT;const{sin:PT,cos:LT}=qn,OT=(e,t)=>{const n=PT(t),r=LT(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var RT=OT;const MT=e=>e[0]===1&&e[1]===0&&e[2]===0&&e[3]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[7]===0&&e[8]===0&&e[9]===0&&e[10]===1&&e[11]===0&&e[12]===0&&e[13]===0&&e[14]===0&&e[15]===1;var IT=MT;const DT=e=>Zr(e[1])&&Zr(e[2])&&Zr(e[3])&&Zr(e[4])&&Zr(e[6])&&Zr(e[7])&&Zr(e[8])&&Zr(e[9])&&Zr(e[11])&&e[15]===1,Zr=e=>Math.abs(e)<Number.EPSILON;var FT=DT;const kT=e=>{const t=e[4]*e[9]-e[8]*e[5],n=e[8]*e[1]-e[0]*e[9],r=e[0]*e[5]-e[4]*e[1];return t*e[2]+n*e[6]+r*e[10]<0};var xT=kT;const BT=(e,t)=>{const[n,r,s,i]=t;return e[0]=1-2*n*n,e[1]=-2*r*n,e[2]=-2*s*n,e[3]=0,e[4]=-2*n*r,e[5]=1-2*r*r,e[6]=-2*s*r,e[7]=0,e[8]=-2*n*s,e[9]=-2*r*s,e[10]=1-2*s*s,e[11]=0,e[12]=2*n*i,e[13]=2*r*i,e[14]=2*s*i,e[15]=1,e};var GT=BT;const NT=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],h=t[9],d=t[10],g=t[11],m=t[12],p=t[13],v=t[14],b=t[15];let _=n[0],E=n[1],S=n[2],w=n[3];return e[0]=_*r+E*a+S*u+w*m,e[1]=_*s+E*l+S*h+w*p,e[2]=_*i+E*c+S*d+w*v,e[3]=_*o+E*f+S*g+w*b,_=n[4],E=n[5],S=n[6],w=n[7],e[4]=_*r+E*a+S*u+w*m,e[5]=_*s+E*l+S*h+w*p,e[6]=_*i+E*c+S*d+w*v,e[7]=_*o+E*f+S*g+w*b,_=n[8],E=n[9],S=n[10],w=n[11],e[8]=_*r+E*a+S*u+w*m,e[9]=_*s+E*l+S*h+w*p,e[10]=_*i+E*c+S*d+w*v,e[11]=_*o+E*f+S*g+w*b,_=n[12],E=n[13],S=n[14],w=n[15],e[12]=_*r+E*a+S*u+w*m,e[13]=_*s+E*l+S*h+w*p,e[14]=_*i+E*c+S*d+w*v,e[15]=_*o+E*f+S*g+w*b,e};var VT=NT;const{EPS:$T}=$t,{sin:UT,cos:HT}=qn,zT=Lv,jT=(e,t,n,r)=>{let[s,i,o]=r;const a=s*s+i*i+o*o;if(Math.abs(a)<$T)return zT(e,t);const l=1/Math.sqrt(a);s*=l,i*=l,o*=l;const c=UT(n),f=HT(n),u=1-f,h=t[0],d=t[1],g=t[2],m=t[3],p=t[4],v=t[5],b=t[6],_=t[7],E=t[8],S=t[9],w=t[10],A=t[11],L=s*s*u+f,$=i*s*u+o*c,G=o*s*u-i*c,k=s*i*u-o*c,se=i*i*u+f,V=o*i*u+s*c,j=s*o*u+i*c,Oe=i*o*u-s*c,ne=o*o*u+f;return e[0]=h*L+p*$+E*G,e[1]=d*L+v*$+S*G,e[2]=g*L+b*$+w*G,e[3]=m*L+_*$+A*G,e[4]=h*k+p*se+E*V,e[5]=d*k+v*se+S*V,e[6]=g*k+b*se+w*V,e[7]=m*k+_*se+A*V,e[8]=h*j+p*Oe+E*ne,e[9]=d*j+v*Oe+S*ne,e[10]=g*j+b*Oe+w*ne,e[11]=m*j+_*Oe+A*ne,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e};var qT=jT;const{sin:XT,cos:WT}=qn,YT=(e,t,n)=>{const r=XT(n),s=WT(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+h*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=h*s-l*r,e};var ZT=YT;const{sin:KT,cos:QT}=qn,JT=(e,t,n)=>{const r=KT(n),s=QT(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-h*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+h*s,e};var eC=JT;const{sin:tC,cos:nC}=qn,rC=(e,t,n)=>{const r=tC(n),s=nC(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+h*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=h*s-l*r,e};var sC=rC;const iC=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};var oC=iC;const aC=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e);var lC=aC;const cC=e=>e.map(t=>t.toFixed(7)).toString();var fC=cC;const uC=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];let o,a,l,c,f,u,h,d,g,m,p,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],h=t[6],d=t[7],g=t[8],m=t[9],p=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=h,e[7]=d,e[8]=g,e[9]=m,e[10]=p,e[11]=v,e[12]=o*r+f*s+g*i+t[12],e[13]=a*r+u*s+m*i+t[13],e[14]=l*r+h*s+p*i+t[14],e[15]=c*r+d*s+v*i+t[15]),e};var dC=uC,tn={add:Bw,clone:$w,copy:Lv,create:id,invert:zw,equals:qw,fromRotation:Mv,fromScaling:a4,fromTaitBryanRotation:c4,fromTranslation:u4,fromValues:m4,fromVectorRotation:bT,fromXRotation:ET,fromYRotation:CT,fromZRotation:RT,identity:Rv,isIdentity:IT,isOnlyTransformScale:FT,isMirroring:xT,mirrorByPlane:GT,multiply:VT,rotate:qT,rotateX:ZT,rotateY:eC,rotateZ:sC,scale:oC,subtract:lC,toString:fC,translate:dC};const hC=tn,mC=e=>(e===void 0&&(e=[]),{sides:e,transforms:hC.create()});var Ul=mC;const pC=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e);var gC=pC;const vC=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e);var bC=vC;const _C=e=>Math.atan2(e[1],e[0]);var ad=_C,yC=ad;const AC=ad,EC=e=>AC(e)*57.29577951308232;var SC=EC;const wC=()=>[0,0];var Hl=wC;const TC=Hl,CC=e=>{const t=TC();return t[0]=e[0],t[1]=e[1],t};var PC=CC;const LC=(e,t)=>(e[0]=t[0],e[1]=t[1],e);var OC=LC;const RC=(e,t,n)=>(e[0]=0,e[1]=0,e[2]=t[0]*n[1]-t[1]*n[0],e);var MC=RC;const IC=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)};var DC=IC;const FC=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e);var kC=FC;const xC=(e,t)=>e[0]*t[0]+e[1]*t[1];var BC=xC;const GC=(e,t)=>e[0]===t[0]&&e[1]===t[1];var NC=GC;const{sin:VC,cos:$C}=qn,UC=(e,t)=>(e[0]=$C(t),e[1]=VC(t),e);var Uv=UC;const HC=Uv,zC=(e,t)=>HC(e,t*.017453292519943295);var jC=zC;const qC=(e,t)=>(e[0]=t,e[1]=t,e);var XC=qC;const WC=Hl,YC=(e,t)=>{const n=WC();return n[0]=e,n[1]=t,n};var ZC=YC;const KC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]);var QC=KC;const JC=(e,t,n,r)=>{const s=t[0],i=t[1];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e};var eP=JC;const tP=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e);var nP=tP;const rP=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e);var sP=rP;const iP=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e);var oP=iP;const aP=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e);var lP=aP;const cP=(e,t,n,r)=>{const s=t[0]-n[0],i=t[1]-n[1],o=Math.cos(r),a=Math.sin(r);return e[0]=s*o-i*a+n[0],e[1]=s*a+i*o+n[1],e};var Hv=cP;const{TAU:fP}=$t,uP=Hl,dP=Hv,hP=(e,t)=>dP(e,t,uP(),fP/4);var mP=hP;const pP=(e,t)=>{const n=t[0],r=t[1];let s=n*n+r*r;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e};var gP=pP;const vP=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e);var bP=vP;const _P=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e);var yP=_P;const AP=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r};var EP=AP;const SP=e=>{const t=e[0],n=e[1];return t*t+n*n};var wP=SP;const TP=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e);var CP=TP;const PP=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}]`;var LP=PP;const OP=(e,t,n)=>{const r=t[0],s=t[1];return e[0]=n[0]*r+n[4]*s+n[12],e[1]=n[1]*r+n[5]*s+n[13],e};var RP=OP,Rt={abs:gC,add:bC,angle:yC,angleDegrees:SC,angleRadians:ad,clone:PC,copy:OC,create:Hl,cross:MC,distance:DC,divide:kC,dot:BC,equals:NC,fromAngleDegrees:jC,fromAngleRadians:Uv,fromScalar:XC,fromValues:ZC,length:QC,lerp:eP,max:nP,min:sP,multiply:oP,negate:lP,normal:mP,normalize:gP,rotate:Hv,scale:bP,snap:yP,squaredDistance:EP,squaredLength:wP,subtract:CP,toString:LP,transform:RP};const jf=Rt,MP=Ul,IP=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");let t=e.length;if(t<3)throw new Error("the given points must define a closed geometry with three or more points");jf.equals(e[0],e[t-1])&&--t;const n=[];let r=e[t-1];for(let s=0;s<t;s++){const i=e[s];n.push([jf.clone(r),jf.clone(i)]),r=i}return MP(n)};var DP=IP;const FP=tn,hh=Rt,kP=Ul,xP=e=>{if(e[0]!==0)throw new Error("invalid compact binary data");const t=kP();t.transforms=FP.clone(e.slice(1,17));for(let n=21;n<e.length;n+=4){const r=hh.fromValues(e[n+0],e[n+1]),s=hh.fromValues(e[n+2],e[n+3]);t.sides.push([r,s])}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var BP=xP;const GP=e=>!!(e&&typeof e=="object"&&"sides"in e&&"transforms"in e&&Array.isArray(e.sides)&&"length"in e.transforms);var zv=GP;const mh=tn,tl=Rt,NP=e=>(mh.isIdentity(e.transforms)||(e.sides=e.sides.map(t=>{const n=tl.transform(tl.create(),t[0],e.transforms),r=tl.transform(tl.create(),t[1],e.transforms);return[n,r]}),e.transforms=mh.create()),e);var VP=NP;const $P=VP,UP=e=>$P(e).sides;var ia=UP;const HP=Ul,zP=ia,jP=e=>{const n=zP(e).map(r=>[r[1],r[0]]);return n.reverse(),HP(n)};var qP=jP;const Po=Rt,XP=ia,WP=e=>{const t=new Map,n=r=>{const s=r.toString();return t.has(s)?t.get(s):(t.set(s,r),r)};return e.map(r=>r.map(n))},YP=e=>{const t=new Map;return WP(e).forEach(r=>{t.has(r[0])?t.get(r[0]).push(r):t.set(r[0],[r])}),t},ZP=e=>{const t=YP(XP(e)),n=[];for(;;){let r;for(const[o,a]of t){if(r=a.shift(),!r){t.delete(o);continue}break}if(r===void 0)break;const s=[],i=r[0];for(;;){s.push(r[0]);const o=r[1];if(o===i)break;const a=t.get(o);if(!a)throw new Error(`geometry is not closed at vertex ${o}`);const l=KP(r,a);a.length===0&&t.delete(o),r=l}s.length>0&&s.push(s.shift()),n.push(s)}return t.clear(),n},KP=(e,t)=>{if(t.length===1)return t.pop();const n=Po.create(),r=Po.angleDegrees(Po.subtract(n,e[1],e[0]));let s,i;t.forEach((a,l)=>{let f=Po.angleDegrees(Po.subtract(n,a[1],a[0]))-r;f<-180&&(f+=360),f>=180&&(f-=360),(i===void 0||f>s)&&(i=l,s=f)});const o=t[i];return t.splice(i,1),o};var jv=ZP;const QP=ia,JP=e=>{const n=QP(e).map(r=>r[0]);return n.length>0&&n.push(n.shift()),n};var eL=JP;const ph=Rt,tL=ia,nL=e=>{const t=tL(e);let n="geom2 ("+t.length+` sides):
[
`;return t.forEach(r=>{n+="  ["+ph.toString(r[0])+", "+ph.toString(r[1])+`]
`}),n+=`]
`,n};var rL=nL;const sL=e=>{const t=e.sides,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+4+t.length*4);s[0]=0,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=r[0],s[18]=r[1],s[19]=r[2],s[20]=r[3];for(let i=0;i<t.length;i++){const o=i*4+21,a=t[i][0],l=t[i][1];s[o+0]=a[0],s[o+1]=a[1],s[o+2]=l[0],s[o+3]=l[1]}return s};var iL=sL;const gh=tn,oL=(e,t)=>{const n=gh.multiply(gh.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var aL=oL;const lL=Rt,cL=zv,fL=jv,uL=e=>{if(!cL(e))throw new Error("invalid geom2 structure");if(fL(e),e.sides.forEach(t=>{if(lL.equals(t[0],t[1]))throw new Error(`geom2 self-edge ${t[0]}`)}),!e.transforms.every(Number.isFinite))throw new Error(`geom2 invalid transforms ${e.transforms}`)};var dL=uL,Tt={clone:kw,create:Ul,fromPoints:DP,fromCompactBinary:BP,isA:zv,reverse:qP,toOutlines:jv,toPoints:eL,toSides:ia,toString:rL,toCompactBinary:iL,transform:aL,validate:dL};const hL=e=>Object.assign({},e);var mL=hL;const pL=tn,gL=e=>(e===void 0&&(e=[]),{polygons:e,transforms:pL.create()});var zl=gL;const vL=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var no=vL;const bL=no,_L=lt,yL=(...e)=>{let t,n;return e.length===1?(t=bL(),n=e[0]):(t=e[0],n=e[1]),t.vertices=n.vertices.map(r=>_L.clone(r)),t};var AL=yL;const EL=lt,SL=no,wL=e=>{const t=e.map(n=>EL.clone(n));return SL(t)};var TL=wL;const CL=no,PL=(e,t)=>{const n=CL(e);return n.plane=t,n};var LL=PL;const OL=()=>[0,0,0,0];var jl=OL;const RL=jl,ML=e=>{const t=RL();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};var qv=ML;const IL=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e);var Xv=IL;const DL=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3];var Wv=DL;const FL=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e);var Yv=FL;const qf=lt,kL=(e,t,n)=>{const r=qf.normalize(qf.create(),t),s=qf.dot(n,r);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=s,e};var xL=kL;const BL=jl,GL=(e,t,n,r)=>{const s=BL();return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s};var Zv=GL;const kr=lt,NL=(e,...t)=>{const n=t.length,r=kr.create(),s=kr.create(),i=o=>{const a=t[o],l=t[(o+1)%n],c=t[(o+2)%n];return kr.subtract(r,l,a),kr.subtract(s,c,a),kr.cross(r,r,s),kr.normalize(r,r),r};return e[0]=0,e[1]=0,e[2]=0,n===3?kr.copy(e,i(0)):(t.forEach((o,a)=>{kr.add(e,e,i(a))}),kr.normalize(e,e)),e[3]=kr.dot(e,t[0]),e};var Kv=NL;const{EPS:Xf}=$t,er=lt,VL=(e,t,n,r)=>{let s=er.subtract(er.create(),n,t),i=er.subtract(er.create(),r,t);er.length(s)<Xf&&(s=er.orthogonal(s,i)),er.length(i)<Xf&&(i=er.orthogonal(i,s));let o=er.cross(er.create(),s,i);er.length(o)<Xf&&(i=er.orthogonal(i,s),o=er.cross(o,s,i)),o=er.normalize(o,o);const a=er.dot(o,t);return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=a,e};var $L=VL;const UL=lt,HL=(e,t)=>{const n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]-e[3],r=t[0]-n*e[0],s=t[1]-n*e[1],i=t[2]-n*e[2];return UL.fromValues(r,s,i)};var zL=HL;const jL=lt,qL=(e,t)=>jL.dot(e,t)-e[3];var Qv=qL;const XL=e=>`(${e[0].toFixed(9)}, ${e[1].toFixed(9)}, ${e[2].toFixed(9)}, ${e[3].toFixed(9)})`;var Jv=XL;const WL=tn,tr=lt,YL=Kv,ZL=Yv,KL=(e,t,n)=>{const r=WL.isMirroring(n),s=tr.orthogonal(tr.create(),t),i=tr.cross(s,t,s),o=tr.cross(tr.create(),t,i);let a=tr.fromScalar(tr.create(),t[3]);tr.multiply(a,a,t);let l=tr.add(tr.create(),a,i),c=tr.add(tr.create(),a,o);return a=tr.transform(a,a,n),l=tr.transform(l,l,n),c=tr.transform(c,c,n),YL(e,a,l,c),r&&ZL(e,e),e};var QL=KL,zr={clone:qv,copy:Xv,create:jl,equals:Wv,flip:Yv,fromNormalAndPoint:xL,fromValues:Zv,fromPoints:Kv,fromPointsRandom:$L,projectionOfPoint:zL,signedDistanceToPoint:Qv,toString:Jv,transform:QL};const vh=zr,JL=no,eO=e=>{const t=e.vertices.slice().reverse(),n=JL(t);return e.plane&&(n.plane=vh.flip(vh.create(),e.plane)),n};var tO=eO;const nO=e=>!!(e&&typeof e=="object"&&"vertices"in e&&Array.isArray(e.vertices));var e2=nO;const bh=zr,Xs=lt,rO=e=>sO(e.vertices),sO=e=>{const t=e.length;if(t>2){const n=bh.fromPoints(bh.create(),...e);let r=e[t-2],s=e[t-1];for(let i=0;i<t;i++){const o=e[i];if(!iO(r,s,o,n))return!1;r=s,s=o}}return!0},iO=(e,t,n,r)=>{const s=Xs.cross(Xs.create(),Xs.subtract(Xs.create(),t,e),Xs.subtract(Xs.create(),n,t));return Xs.dot(s,r)>=0};var t2=rO;const _h=zr,oO=e=>(e.plane||(e.plane=_h.fromPoints(_h.create(),...e.vertices)),e.plane);var ld=oO;const aO=ld,lO=e=>{const t=e.vertices.length;if(t<3)return 0;const n=e.vertices,r=aO(e),s=Math.abs(r[0]),i=Math.abs(r[1]),o=Math.abs(r[2]);if(s+i+o===0)return 0;let a=3;s>i&&s>o?a=1:i>o&&(a=2);let l=0,c=0,f=1,u=2;switch(a){case 1:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][1]*(n[u][2]-n[c][2]);l+=n[0][1]*(n[1][2]-n[t-1][2]),l/=2*r[0];break;case 2:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][2]*(n[u][0]-n[c][0]);l+=n[0][2]*(n[1][0]-n[t-1][0]),l/=2*r[1];break;case 3:default:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][0]*(n[u][1]-n[c][1]);l+=n[0][0]*(n[1][1]-n[t-1][1]),l/=2*r[2];break}return l};var n2=lO;const Lo=lt,cO=e=>{const t=e.vertices,n=t.length,r=n===0?Lo.create():Lo.clone(t[0]),s=Lo.clone(r);for(let i=1;i<n;i++)Lo.min(r,r,t[i]),Lo.max(s,s,t[i]);return[r,s]};var fO=cO;const uO=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];var dO=uO;const hO=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e[3]=t,e);var mO=hO;const pO=(e,t,n)=>{const[r,s,i,o]=t;return e[0]=n[0]*r+n[4]*s+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*s+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*s+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*s+n[11]*i+n[15]*o,e};var gO=pO,r2={clone:qv,copy:Xv,create:jl,dot:dO,equals:Wv,fromScalar:mO,fromValues:Zv,toString:Jv,transform:gO};const vO=r2,yh=new WeakMap,bO=e=>{const t=yh.get(e);if(t)return t;const n=e.vertices,r=vO.create();if(n.length===0)return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r;let s=n[0],i=s,o=s,a=s,l=s,c=s;n.forEach(d=>{s[0]>d[0]&&(s=d),i[1]>d[1]&&(i=d),o[2]>d[2]&&(o=d),a[0]<d[0]&&(a=d),l[1]<d[1]&&(l=d),c[2]<d[2]&&(c=d)}),r[0]=(s[0]+a[0])*.5,r[1]=(i[1]+l[1])*.5,r[2]=(o[2]+c[2])*.5;const f=r[0]-a[0],u=r[1]-l[1],h=r[2]-c[2];return r[3]=Math.sqrt(f*f+u*u+h*h),yh.set(e,r),r};var _O=bO;const Wf=lt,yO=e=>{let t=0;const n=e.vertices,r=Wf.create();for(let s=0;s<n.length-2;s++)Wf.cross(r,n[s+1],n[s+2]),t+=Wf.dot(n[0],r);return t/=6,t};var AO=yO;const EO=e=>e.vertices;var SO=EO;const wO=lt,TO=e=>{let t="poly3: vertices: [";return e.vertices.forEach(n=>{t+=`${wO.toString(n)}, `}),t+="]",t};var CO=TO;const PO=tn,Ah=lt,LO=no,OO=(e,t)=>{const n=t.vertices.map(r=>Ah.transform(Ah.create(),r,e));return PO.isMirroring(e)&&n.reverse(),LO(n)};var RO=OO;const MO=Qv,{NEPS:IO}=$t,DO=lt,FO=e2,kO=t2,xO=n2,BO=ld,GO=e=>{if(!FO(e))throw new Error("invalid poly3 structure");if(e.vertices.length<3)throw new Error(`poly3 not enough vertices ${e.vertices.length}`);if(xO(e)<=0)throw new Error("poly3 area must be greater than zero");for(let t=0;t<e.vertices.length;t++)if(DO.equals(e.vertices[t],e.vertices[(t+1)%e.vertices.length]))throw new Error(`poly3 duplicate vertex ${e.vertices[t]}`);if(!kO(e))throw new Error("poly3 must be convex");if(e.vertices.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`poly3 invalid vertex ${t}`)}),e.vertices.length>3){const t=BO(e);e.vertices.forEach(n=>{const r=Math.abs(MO(t,n));if(r>IO)throw new Error(`poly3 must be coplanar: vertex ${n} distance ${r}`)})}};var NO=GO,Ut={clone:AL,create:no,fromPoints:TL,fromPointsAndPlane:LL,invert:tO,isA:e2,isConvex:t2,measureArea:n2,measureBoundingBox:fO,measureBoundingSphere:_O,measureSignedVolume:AO,plane:ld,toPoints:SO,toString:CO,transform:RO,validate:NO};const VO=Ut,$O=zl,UO=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const t=e.map((r,s)=>VO.create(r));return $O(t)};var HO=UO;const zO=lt,jO=tn,qO=Ut,XO=zl,WO=e=>{if(e[0]!==1)throw new Error("invalid compact binary data");const t=XO();t.transforms=jO.clone(e.slice(1,17));const n=e[21];let r=22,s=e.length-n*3;for(;s<e.length;){const i=e[r];r++;const o=[];for(let a=0;a<i;a++)o.push(zO.fromValues(e[s],e[s+1],e[s+2])),s+=3;t.polygons.push(qO.create(o))}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var YO=WO;const Eh=tn,ZO=Ut,KO=e=>(Eh.isIdentity(e.transforms)||(e.polygons=e.polygons.map(t=>ZO.transform(e.transforms,t)),e.transforms=Eh.create()),e);var QO=KO;const JO=QO,e8=e=>JO(e).polygons;var ql=e8;const t8=Ut,n8=zl,r8=ql,s8=e=>{const n=r8(e).map(r=>t8.invert(r));return n8(n)};var i8=s8;const o8=e=>!!(e&&typeof e=="object"&&"polygons"in e&&"transforms"in e&&Array.isArray(e.polygons)&&"length"in e.transforms);var s2=o8;const a8=Ut,l8=ql,c8=e=>l8(e).map(r=>a8.toPoints(r));var f8=c8;const u8=Ut,d8=ql,h8=e=>{const t=d8(e);let n="geom3 ("+t.length+` polygons):
`;return t.forEach(r=>{n+="  "+u8.toString(r)+`
`}),n};var m8=h8;const p8=Ut,g8=e=>{const t=e.polygons,n=e.transforms,r=t.length,s=t.reduce((c,f)=>c+f.vertices.length,0);let i=[-1,-1,-1,-1];e.color&&(i=e.color);const o=new Float32Array(1+16+4+1+r+s*3);o[0]=1,o[1]=n[0],o[2]=n[1],o[3]=n[2],o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=n[6],o[8]=n[7],o[9]=n[8],o[10]=n[9],o[11]=n[10],o[12]=n[11],o[13]=n[12],o[14]=n[13],o[15]=n[14],o[16]=n[15],o[17]=i[0],o[18]=i[1],o[19]=i[2],o[20]=i[3],o[21]=s;let a=22,l=a+r;return t.forEach(c=>{const f=p8.toPoints(c);o[a]=f.length,a++;for(let u=0;u<f.length;u++){const h=f[u];o[l+0]=h[0],o[l+1]=h[1],o[l+2]=h[2],l+=3}}),o};var v8=g8;const Sh=tn,b8=(e,t)=>{const n=Sh.multiply(Sh.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var _8=b8;const y8=Ut,A8=s2,E8=e=>{if(!A8(e))throw new Error("invalid geom3 structure");if(e.polygons.forEach(y8.validate),S8(e),!e.transforms.every(Number.isFinite))throw new Error(`geom3 invalid transforms ${e.transforms}`)},S8=e=>{const t=new Map;e.polygons.forEach(({vertices:r})=>{r.forEach((s,i)=>{const o=`${s}`,a=`${r[(i+1)%r.length]}`,l=`${o}/${a}`,c=t.has(l)?t.get(l):0;t.set(l,c+1)})});const n=[];if(t.forEach((r,s)=>{const i=s.split("/").reverse().join("/"),o=t.get(i);r!==o&&n.push(s.replace("/"," -> "))}),n.length>0)throw new Error(`non-manifold edges ${n.length}
${n.join(`
`)}`)};var w8=E8,Ct={clone:mL,create:zl,fromPoints:HO,fromCompactBinary:YO,invert:i8,isA:s2,toPoints:f8,toPolygons:ql,toString:m8,toCompactBinary:v8,transform:_8,validate:w8};const T8=e=>Object.assign({},e);var cd=T8;const{EPS:wh}=$t,C8=Rt,P8=cd,L8=e=>{if(e.isClosed)return e;const t=P8(e);if(t.isClosed=!0,t.points.length>1){const n=t.points,r=n[0];let s=n[n.length-1];for(;C8.distance(r,s)<wh*wh&&(n.pop(),n.length!==1);)s=n[n.length-1]}return t};var i2=L8;const O8=tn,R8=e=>(e===void 0&&(e=[]),{points:e,isClosed:!1,transforms:O8.create()});var Xl=R8;const{EPS:Th}=$t,Ch=Rt,M8=i2,I8=Xl,D8=(e,t)=>{const n={closed:!1};let{closed:r}=Object.assign({},n,e),s=I8();if(s.points=t.map(i=>Ch.clone(i)),s.points.length>1){const i=s.points[0],o=s.points[s.points.length-1];Ch.distance(i,o)<Th*Th&&(r=!0)}return r===!0&&(s=M8(s)),s};var fd=D8;const Ph=tn,Lh=Rt,F8=e=>(Ph.isIdentity(e.transforms)||(e.points=e.points.map(t=>Lh.transform(Lh.create(),t,e.transforms)),e.transforms=Ph.create()),e);var k8=F8;const x8=k8,B8=e=>x8(e).points;var ro=B8;const{TAU:nl}=$t,Fn=Rt,G8=fd,N8=ro,V8=(e,t)=>{const n={radius:[0,0],xaxisrotation:0,clockwise:!1,large:!1,segments:16};let{endpoint:r,radius:s,xaxisrotation:i,clockwise:o,large:a,segments:l}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("endpoint must be an array of X and Y values");if(r.length<2)throw new Error("endpoint must contain X and Y values");if(r=Fn.clone(r),!Array.isArray(s))throw new Error("radius must be an array of X and Y values");if(s.length<2)throw new Error("radius must contain X and Y values");if(l<4)throw new Error("segments must be four or more");const c=1e5;if(t.isClosed)throw new Error("the given path cannot be closed");const f=N8(t);if(f.length<1)throw new Error("the given path must contain one or more points (as the starting point for the arc)");let u=s[0],h=s[1];const d=f[f.length-1];u=Math.round(u*c)/c,h=Math.round(h*c)/c,r=Fn.fromValues(Math.round(r[0]*c)/c,Math.round(r[1]*c)/c);const g=!o;let m=[];if(u===0||h===0)m.push(r);else{u=Math.abs(u),h=Math.abs(h);const v=i,b=Math.cos(v),_=Math.sin(v),E=Fn.subtract(Fn.create(),d,r);Fn.scale(E,E,.5);const S=Math.round((b*E[0]+_*E[1])*c)/c,w=Math.round((-_*E[0]+b*E[1])*c)/c,A=Fn.fromValues(S,w),L=A[0]*A[0]/(u*u)+A[1]*A[1]/(h*h);if(L>1){const fe=Math.sqrt(L);u*=fe,h*=fe,u=Math.round(u*c)/c,h=Math.round(h*c)/c}let $=Math.sqrt((u*u*h*h-u*u*A[1]*A[1]-h*h*A[0]*A[0])/(u*u*A[1]*A[1]+h*h*A[0]*A[0]));g===a&&($=-$);const G=Fn.fromValues(u*A[1]/h,-h*A[0]/u);Fn.scale(G,G,$);let k=Fn.fromValues(b*G[0]-_*G[1],_*G[0]+b*G[1]);k=Fn.add(k,k,Fn.scale(Fn.create(),Fn.add(Fn.create(),d,r),.5));const se=Fn.fromValues((A[0]-G[0])/u,(A[1]-G[1])/h),V=Fn.fromValues((-A[0]-G[0])/u,(-A[1]-G[1])/h),j=Fn.angleRadians(se);let ne=Fn.angleRadians(V)-j;ne=ne%nl,!g&&ne>0?ne-=nl:g&&ne<0&&(ne+=nl);let U=Math.ceil(Math.abs(ne)/nl*l)+1;U<1&&(U=1);for(let fe=1;fe<U;fe++){const ee=j+fe/U*ne,He=Math.cos(ee),Mt=Math.sin(ee),pe=Fn.fromValues(b*u*He-_*h*Mt,_*u*He+b*h*Mt);Fn.add(pe,pe,k),m.push(pe)}U&&m.push(e.endpoint)}return m=f.concat(m),G8({},m)};var $8=V8;const U8=fd,H8=ro,{equals:z8}=Rt,j8=(...e)=>{let t=!1,n=[];return e.forEach((r,s)=>{const i=H8(r).slice();if(n.length>0&&i.length>0&&z8(i[0],n[n.length-1])&&i.shift(),i.length>0&&t)throw new Error(`Cannot concatenate to a closed path; check the ${s}th path`);t=r.isClosed,n=n.concat(i)}),U8({closed:t},n)};var o2=j8;const q8=o2,X8=Xl,W8=(e,t)=>q8(t,X8(e));var a2=W8;const{TAU:Y8}=$t,pr=Rt,Z8=Rt,K8=a2,Q8=ro,J8=(e,t)=>{const n={segments:16};let{controlPoints:r,segments:s}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("controlPoints must be an array of one or more points");if(r.length<1)throw new Error("controlPoints must be an array of one or more points");if(s<4)throw new Error("segments must be four or more");if(t.isClosed)throw new Error("the given geometry cannot be closed");const i=Q8(t);if(i.length<1)throw new Error("the given path must contain one or more points (as the starting point for the bezier curve)");if(r=r.slice(),r[0]===null){if(r.length<2)throw new Error("a null control point must be passed with one more control points");let w=i[i.length-2];if("lastBezierControlPoint"in t&&(w=t.lastBezierControlPoint),!Array.isArray(w))throw new Error("the given path must contain TWO or more points if given a null control point");const A=pr.scale(pr.create(),i[i.length-1],2);pr.subtract(A,A,w),r[0]=A}r.unshift(i[i.length-1]);const a=r.length-1,l=[];let c=1;for(let w=0;w<=a;++w)w>0&&(c*=w),l.push(c);const f=[];for(let w=0;w<=a;++w){const A=l[a]/(l[w]*l[a-w]);f.push(A)}const u=pr.create(),h=pr.create(),d=Z8.create(),g=w=>{let A=1,L=Math.pow(1-w,a);const $=w!==1?1/(1-w):1,G=pr.create();for(let k=0;k<=a;++k){k===a&&(L=1);const se=f[k]*A*L,V=pr.scale(u,r[k],se);pr.add(G,G,V),A*=w,L*=$}return G},m=[],p=[],v=a+1;for(let w=0;w<v;++w){const A=w/(v-1),L=g(A);m.push(L),p.push(A)}let b=1;const _=Y8/s,E=Math.sin(_);for(;b<m.length-1;){const w=pr.subtract(u,m[b],m[b-1]);pr.normalize(w,w);const A=pr.subtract(h,m[b+1],m[b]);pr.normalize(A,A);const L=pr.cross(d,w,A);if(Math.abs(L[2])>E){const $=p[b-1],G=p[b+1],k=$+(G-$)*1/3,se=$+(G-$)*2/3,V=g(k),j=g(se);m.splice(b,1,V,j),p.splice(b,1,k,se),b--,b<1&&(b=1)}else++b}m.shift();const S=K8(m,t);return S.lastBezierControlPoint=r[r.length-2],S};var eR=J8;const tR=Rt,Oh=ro,nR=(e,t)=>{if(e.isClosed!==t.isClosed||e.points.length!==t.points.length)return!1;const n=Oh(e),r=Oh(t),s=n.length;let i=0;do{let o=!1;for(let a=0;a<s;a++)if(!tR.equals(n[a],r[(a+i)%s])){o=!0;break}if(o===!1)return!0;if(!e.isClosed)return!1}while(++i<s);return!1};var rR=nR;const sR=tn,iR=Rt,oR=Xl,aR=e=>{if(e[0]!==2)throw new Error("invalid compact binary data");const t=oR();t.transforms=sR.clone(e.slice(1,17)),t.isClosed=!!e[17];for(let n=22;n<e.length;n+=2){const r=iR.fromValues(e[n],e[n+1]);t.points.push(r)}return e[18]>=0&&(t.color=[e[18],e[19],e[20],e[21]]),t};var lR=aR;const cR=e=>!!(e&&typeof e=="object"&&"points"in e&&"transforms"in e&&"isClosed"in e&&Array.isArray(e.points)&&"length"in e.transforms);var l2=cR;const fR=cd,uR=e=>{const t=fR(e);return t.points=e.points.slice().reverse(),t};var dR=uR;const hR=Rt,mR=ro,pR=e=>{const t=mR(e);let n="path ("+t.length+" points, "+e.isClosed+`):
[
`;return t.forEach(r=>{n+="  "+hR.toString(r)+`,
`}),n+=`]
`,n};var gR=pR;const vR=e=>{const t=e.points,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+1+4+t.length*2);s[0]=2,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=e.isClosed?1:0,s[18]=r[0],s[19]=r[1],s[20]=r[2],s[21]=r[3];for(let i=0;i<t.length;i++){const o=i*2+22,a=t[i];s[o]=a[0],s[o+1]=a[1]}return s};var bR=vR;const Rh=tn,_R=(e,t)=>{const n=Rh.multiply(Rh.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var yR=_R;const AR=Rt,ER=l2,SR=e=>{if(!ER(e))throw new Error("invalid path2 structure");if(e.points.length>1){for(let t=0;t<e.points.length;t++)if(AR.equals(e.points[t],e.points[(t+1)%e.points.length]))throw new Error(`path2 duplicate points ${e.points[t]}`)}if(e.points.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`path2 invalid point ${t}`)}),!e.transforms.every(Number.isFinite))throw new Error(`path2 invalid transforms ${e.transforms}`)};var wR=SR,Jt={appendArc:$8,appendBezier:eR,appendPoints:a2,clone:cd,close:i2,concat:o2,create:Xl,equals:rR,fromPoints:fd,fromCompactBinary:lR,isA:l2,reverse:dR,toPoints:ro,toString:gR,toCompactBinary:bR,transform:yR,validate:wR};const TR=yt,c2=Tt,f2=Ct,u2=Jt,d2=Ut,CR=(e,t)=>{const n=c2.clone(t);return n.color=e,n},PR=(e,t)=>{const n=f2.clone(t);return n.color=e,n},LR=(e,t)=>{const n=u2.clone(t);return n.color=e,n},OR=(e,t)=>{const n=d2.clone(t);return n.color=e,n},RR=(e,...t)=>{if(!Array.isArray(e))throw new Error("color must be an array");if(e.length<3)throw new Error("color must contain R, G and B values");if(e.length===3&&(e=[e[0],e[1],e[2],1]),t=TR(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>c2.isA(r)?CR(e,r):f2.isA(r)?PR(e,r):u2.isA(r)?LR(e,r):d2.isA(r)?OR(e,r):(r.color=e,r));return n.length===1?n[0]:n};var MR=RR;const IR={black:[0/255,0/255,0/255],silver:[192/255,192/255,192/255],gray:[128/255,128/255,128/255],white:[255/255,255/255,255/255],maroon:[128/255,0/255,0/255],red:[255/255,0/255,0/255],purple:[128/255,0/255,128/255],fuchsia:[255/255,0/255,255/255],green:[0/255,128/255,0/255],lime:[0/255,255/255,0/255],olive:[128/255,128/255,0/255],yellow:[255/255,255/255,0/255],navy:[0/255,0/255,128/255],blue:[0/255,0/255,255/255],teal:[0/255,128/255,128/255],aqua:[0/255,255/255,255/255],aliceblue:[240/255,248/255,255/255],antiquewhite:[250/255,235/255,215/255],aquamarine:[127/255,255/255,212/255],azure:[240/255,255/255,255/255],beige:[245/255,245/255,220/255],bisque:[255/255,228/255,196/255],blanchedalmond:[255/255,235/255,205/255],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,255/255,0/255],chocolate:[210/255,105/255,30/255],coral:[255/255,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[255/255,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0/255,255/255,255/255],darkblue:[0/255,0/255,139/255],darkcyan:[0/255,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0/255,100/255,0/255],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0/255,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[255/255,140/255,0/255],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0/255,0/255],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0/255,206/255,209/255],darkviolet:[148/255,0/255,211/255],deeppink:[255/255,20/255,147/255],deepskyblue:[0/255,191/255,255/255],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,255/255],firebrick:[178/255,34/255,34/255],floralwhite:[255/255,250/255,240/255],forestgreen:[34/255,139/255,34/255],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,255/255],gold:[255/255,215/255,0/255],goldenrod:[218/255,165/255,32/255],greenyellow:[173/255,255/255,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,255/255,240/255],hotpink:[255/255,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0/255,130/255],ivory:[255/255,255/255,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[255/255,240/255,245/255],lawngreen:[124/255,252/255,0/255],lemonchiffon:[255/255,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,255/255,255/255],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[255/255,182/255,193/255],lightsalmon:[255/255,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[255/255,255/255,224/255],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[255/255,0/255,255/255],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0/255,0/255,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0/255,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,255/255,250/255],mistyrose:[255/255,228/255,225/255],moccasin:[255/255,228/255,181/255],navajowhite:[255/255,222/255,173/255],oldlace:[253/255,245/255,230/255],olivedrab:[107/255,142/255,35/255],orange:[255/255,165/255,0/255],orangered:[255/255,69/255,0/255],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[255/255,239/255,213/255],peachpuff:[255/255,218/255,185/255],peru:[205/255,133/255,63/255],pink:[255/255,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[255/255,245/255,238/255],sienna:[160/255,82/255,45/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[255/255,250/255,250/255],springgreen:[0/255,255/255,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],thistle:[216/255,191/255,216/255],tomato:[255/255,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],whitesmoke:[245/255,245/255,245/255],yellowgreen:[154/255,205/255,50/255]};var h2=IR;const DR=h2,FR=e=>DR[e.toLowerCase()];var kR=FR;const xR=e=>{if(e=e.replace("#",""),e.length<6)throw new Error("the given notation must contain 3 or more hex values");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255;if(e.length>=8){const s=parseInt(e.substring(6,8),16)/255;return[t,n,r,s]}return[t,n,r]};var BR=xR;const GR=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e);var m2=GR;const NR=yt,Yf=m2,VR=(...e)=>{if(e=NR(e),e.length<3)throw new Error("values must contain H, S and L values");const t=e[0],n=e[1],r=e[2];let s=r,i=r,o=r;if(n!==0){const a=r<.5?r*(1+n):r+n-r*n,l=2*r-a;s=Yf(l,a,t+1/3),i=Yf(l,a,t),o=Yf(l,a,t-1/3)}if(e.length>3){const a=e[3];return[s,i,o,a]}return[s,i,o]};var $R=VR;const UR=yt,HR=(...e)=>{if(e=UR(e),e.length<3)throw new Error("values must contain H, S and V values");const t=e[0],n=e[1],r=e[2];let s=0,i=0,o=0;const a=Math.floor(t*6),l=t*6-a,c=r*(1-n),f=r*(1-l*n),u=r*(1-(1-l)*n);switch(a%6){case 0:s=r,i=u,o=c;break;case 1:s=f,i=r,o=c;break;case 2:s=c,i=r,o=u;break;case 3:s=c,i=f,o=r;break;case 4:s=u,i=c,o=r;break;case 5:s=r,i=c,o=f;break}if(e.length>3){const h=e[3];return[s,i,o,h]}return[s,i,o]};var zR=HR;const jR=yt,qR=(...e)=>{if(e=jR(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0]*255,n=e[1]*255,r=e[2]*255;let s=`#${Number(16777216+t*65536+n*256+r).toString(16).substring(1,7)}`;return e.length>3&&(s=s+Number(e[3]*255).toString(16)),s};var XR=qR;const WR=yt,YR=(...e)=>{if(e=WR(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o,a;const l=(s+i)/2;if(s===i)o=a=0;else{const c=s-i;switch(a=l>.5?c/(2-s-i):c/(s+i),s){case t:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-t)/c+2;break;case r:o=(t-n)/c+4;break}o/=6}if(e.length>3){const c=e[3];return[o,a,l,c]}return[o,a,l]};var ZR=YR;const KR=yt,QR=(...e)=>{if(e=KR(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o;const a=s,l=s-i,c=s===0?0:l/s;if(s===i)o=0;else{switch(s){case t:o=(n-r)/l+(n<r?6:0);break;case n:o=(r-t)/l+2;break;case r:o=(t-n)/l+4;break}o/=6}if(e.length>3){const f=e[3];return[o,c,a,f]}return[o,c,a]};var JR=QR,e6={colorize:MR,colorNameToRgb:kR,cssColors:h2,hexToRgb:BR,hslToRgb:$R,hsvToRgb:zR,hueToColorComponent:m2,rgbToHex:XR,rgbToHsl:ZR,rgbToHsv:JR};const t6=e=>{if(!Array.isArray(e))throw new Error("Bezier points must be a valid array/");if(e.length<2)throw new Error("Bezier points must contain at least 2 values.");const t=n6(e);return{points:e,pointType:t,dimensions:t==="float_single"?0:e[0].length,permutations:Mh(e.length-1),tangentPermutations:Mh(e.length-2)}},n6=function(e){let t=null;return e.forEach(n=>{let r="";if(Number.isFinite(n))r="float_single";else if(Array.isArray(n))n.forEach(s=>{if(!Number.isFinite(s))throw new Error("Bezier point values must all be numbers.")}),r="float_"+n.length;else throw new Error("Bezier points must all be numbers or arrays of number.");if(t==null)t=r;else if(t!==r)throw new Error("Bezier points must be either all numbers or all arrays of numbers of the same size.")}),t},Mh=function(e){const t=[];for(let n=0;n<=e;n++)t.push(Zf(e)/(Zf(n)*Zf(e-n)));return t},Zf=function(e){let t=1;for(let n=2;n<=e;n++)t*=n;return t};var r6=t6;const s6=(e,t)=>{if(e<0||e>1)throw new Error("Bezier valueAt() input must be between 0 and 1");if(t.pointType==="float_single")return Ih(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(Ih(t,s,e))}return n}},Ih=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<=r;i++)s+=e.permutations[i]*Math.pow(1-n,r-i)*Math.pow(n,i)*t[i];return s};var p2=s6;const i6=(e,t)=>{if(e<0||e>1)throw new Error("Bezier tangentAt() input must be between 0 and 1");if(t.pointType==="float_single")return Dh(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(Dh(t,s,e))}return n}},Dh=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<r;i++){const o=r*(t[i+1]-t[i]);s+=e.tangentPermutations[i]*Math.pow(1-n,r-1-i)*Math.pow(n,i)*o}return s};var o6=i6;const Fh=p2,a6=(e,t)=>{let n=0;const r=[0];let s=Fh(0,t);for(let i=1;i<=e;i++){const o=Fh(i/e,t);n+=l6(o,s),r.push(n),s=o}return r},l6=(e,t)=>{if(Number.isFinite(e)&&Number.isFinite(t))return Math.abs(e-t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)throw new Error("The operands must have the same number of dimensions.");let n=0;for(let r=0;r<e.length;r++)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)}else throw new Error("The operands must be of the same type, either number or array.")};var ud=a6;const c6=ud,f6=(e,t)=>c6(e,t)[e];var u6=f6;const d6=ud,h6=(e,t)=>{const n={distance:0,segments:100},{distance:r,segments:s}=Object.assign({},n,e),i=d6(s,t);let o=0,a=s;for(;o<=a;){const d=Math.floor(o+(a-o)/2),g=i[d]-r;if(g<0)o=d+1;else if(g>0)a=d-1;else{a=d;break}}const l=a;if(i[l]===r)return l/s;const c=i[l],u=i[l+1]-c,h=(r-c)/u;return(l+h)/s};var m6=h6,p6={create:r6,valueAt:p2,tangentAt:o6,lengths:ud,length:u6,arcLengthToT:m6},g6={bezier:p6};const v6=e=>{let t=0;for(let n=0;n<e.length;n++){const r=(n+1)%e.length;t+=e[n][0]*e[r][1],t-=e[r][0]*e[n][1]}return t/2};var Wl=v6;const b6=Wl,_6=e=>b6(e.vertices);var g2=_6;const y6=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var v2=y6;const A6=v2,E6=e=>{const t=e.vertices.slice().reverse();return A6(t)};var b2=E6;const S6=g2,w6=b2,T6=(e,t)=>{if(e.length===0)return 0;const n=t.vertices;return n.length<3?0:(S6(t)<0&&(t=w6(t)),e.reduce((s,i)=>s+C6(i,n),0)===e.length?1:0)},C6=(e,t)=>{const n=t.length,r=e[0],s=e[1];let i=t[n-1],o=t[0],a=i[1]>s,l=0,c=0;for(let f=n+1;--f;){const u=o[1]>s;if(a!==u){const h=i[0]>r,d=o[0]>r;(h&&d||o[0]-(o[1]-s)*(i[0]-o[0])/(i[1]-o[1])>=r)&&(l=!l)}a=u,i=o,o=t[++c]}return l};var P6=T6,dd={arePointsInside:P6,create:v2,flip:b2,measureArea:g2},hd={geom2:Tt,geom3:Ct,path2:Jt,poly2:dd,poly3:Ut};const L6=()=>[0,1,0];var md=L6;const O6=md,R6=e=>{const t=O6();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var M6=R6;const Kf=Rt,I6=e=>{const t=Kf.normal(Kf.create(),e);return Kf.negate(t,t),t};var pd=I6;const kh=Rt,D6=e=>kh.scale(kh.create(),e,e[2]);var Yl=D6;const Oo=Rt,F6=pd,k6=Yl,x6=(e,t)=>{const n=k6(e),r=F6(e),s=Oo.subtract(Oo.create(),t,n),i=Oo.dot(s,r);return Oo.scale(s,r,i),Oo.add(s,s,n),s};var B6=x6;const G6=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var _2=G6;const N6=Rt,V6=(e,t)=>{let n=N6.dot(t,e);return n=Math.abs(n-e[2]),n};var $6=V6;const U6=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var H6=U6;const Ro=Rt,z6=(e,t,n)=>{const r=Ro.subtract(Ro.create(),n,t);Ro.normal(r,r),Ro.normalize(r,r);const s=Ro.dot(t,r);return e[0]=r[0],e[1]=r[1],e[2]=s,e};var y2=z6;const j6=md,q6=(e,t,n)=>{const r=j6();return r[0]=e,r[1]=t,r[2]=n,r};var A2=q6;const{NEPS:Qf}=$t,X6=(e,t)=>Math.abs(e[0]-t[0])<=Qf&&Math.abs(e[1]-t[1])<=Qf&&Math.abs(e[2]-t[2])<=Qf;var gd=X6;const W6=(e,t,n)=>{let r=n-e[1],s=t[1]-e[1];s<0&&(r=-r,s=-s);let i;return r<=0?i=0:r>=s?i=1:s<1e-10?i=.5:i=r/s,e[0]+i*(t[0]-e[0])};var E2=W6;const Y6=(e,t,n,r)=>{if(e[0]===t[0]&&e[1]===t[1]||n[0]===r[0]&&n[1]===r[1])return;const s=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(Math.abs(s)<Number.MIN_VALUE)return;const i=((r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]))/s,o=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/s;if(i<0||i>1||o<0||o>1)return;const a=e[0]+i*(t[0]-e[0]),l=e[1]+i*(t[1]-e[1]);return[a,l]};var S2=Y6;const Z6=(e,t,n,r,s,i)=>{const a=1/(e*r-t*n);let l=s*r-t*i,c=-s*n+e*i;return l*=a,c*=a,[l,c]};var K6=Z6,oa={aboutEqualNormals:gd,area:Wl,cos:qn.cos,interpolateBetween2DPointsForY:E2,intersect:S2,sin:qn.sin,solve2Linear:K6};const Q6=Rt,{solve2Linear:J6}=oa,eM=(e,t)=>{const n=J6(e[0],e[1],t[0],t[1],e[2],t[2]);return Q6.clone(n)};var tM=eM;const xh=Rt,nM=_2,rM=A2,sM=(e,t)=>{const n=xh.negate(xh.create(),t),r=-t[2];return nM(e,rM(n[0],n[1],r))};var iM=sM;const oM=e=>`line2: (${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)})`;var aM=oM;const Bh=Rt,lM=y2,cM=Yl,fM=pd,uM=(e,t,n)=>{const r=cM(t),s=fM(t);return Bh.transform(r,r,n),Bh.transform(s,s,n),lM(e,r,s)};var dM=uM;const hM=Yl,mM=(e,t)=>{let n=(e[2]-e[1]*t)/e[0];return Number.isNaN(n)&&(n=hM(e)[0]),n};var pM=mM,vd={clone:M6,closestPoint:B6,copy:_2,create:md,direction:pd,distanceToPoint:$6,equals:H6,fromPoints:y2,fromValues:A2,intersectPointOfLines:tM,origin:Yl,reverse:iM,toString:aM,transform:dM,xAtY:pM};const Gh=lt,gM=()=>[Gh.fromValues(0,0,0),Gh.fromValues(0,0,1)];var w2=gM;const Nh=lt,vM=w2,bM=e=>{const t=vM();return Nh.copy(t[0],e[0]),Nh.copy(t[1],e[1]),t};var _M=bM;const Ws=lt,yM=(e,t)=>{const n=e[0],r=e[1],s=Ws.dot(Ws.subtract(Ws.create(),t,n),r),i=Ws.dot(r,r),o=s/i,a=Ws.scale(Ws.create(),r,o);return Ws.add(a,a,n),a};var T2=yM;const Vh=lt,AM=(e,t)=>(Vh.copy(e[0],t[0]),Vh.copy(e[1],t[1]),e);var EM=AM;const SM=e=>e[1];var wM=SM;const Jf=lt,TM=T2,CM=(e,t)=>{const n=TM(e,t),r=Jf.subtract(Jf.create(),t,n);return Jf.length(r)};var PM=CM;const $h=lt,LM=(e,t)=>!(!$h.equals(e[1],t[1])||!$h.equals(e[0],t[0]));var OM=LM;const rl=lt,RM=(e,t,n)=>{const r=rl.normalize(rl.create(),n);return rl.copy(e[0],t),rl.copy(e[1],r),e};var aa=RM;const Ys=lt,{solve2Linear:eu}=oa,{EPS:MM}=$t,IM=aa,DM=(e,t,n)=>{let r=Ys.cross(Ys.create(),t,n),s=Ys.length(r);if(s<MM)throw new Error("parallel planes do not intersect");s=1/s,r=Ys.scale(r,r,s);const i=Math.abs(r[0]),o=Math.abs(r[1]),a=Math.abs(r[2]);let l,c;return i>=o&&i>=a?(c=eu(t[1],t[2],n[1],n[2],t[3],n[3]),l=Ys.fromValues(0,c[0],c[1])):o>=i&&o>=a?(c=eu(t[0],t[2],n[0],n[2],t[3],n[3]),l=Ys.fromValues(c[0],0,c[1])):(c=eu(t[0],t[1],n[0],n[1],t[3],n[3]),l=Ys.fromValues(c[0],c[1],0)),IM(e,l,r)};var FM=DM;const Uh=lt,kM=aa,xM=(e,t,n)=>{const r=Uh.subtract(Uh.create(),n,t);return kM(e,t,r)};var BM=xM;const Fi=lt,GM=(e,t)=>{const n=t,r=t[3],s=e[0],i=e[1],o=(r-Fi.dot(n,s))/Fi.dot(n,i);return Fi.add(Fi.create(),s,Fi.scale(Fi.create(),i,o))};var NM=GM;const VM=e=>e[0];var $M=VM;const tu=lt,UM=aa,HM=(e,t)=>{const n=tu.clone(t[0]),r=tu.negate(tu.create(),t[1]);return UM(e,n,r)};var zM=HM;const jM=e=>{const t=e[0],n=e[1];return`line3: point: (${t[0].toFixed(7)}, ${t[1].toFixed(7)}, ${t[2].toFixed(7)}) direction: (${n[0].toFixed(7)}, ${n[1].toFixed(7)}, ${n[2].toFixed(7)})`};var qM=jM;const ki=lt,XM=aa,WM=(e,t,n)=>{const r=t[0],s=t[1],i=ki.add(ki.create(),r,s),o=ki.transform(ki.create(),r,n),a=ki.transform(i,i,n),l=ki.subtract(a,a,o);return XM(e,o,l)};var YM=WM,ZM={clone:_M,closestPoint:T2,copy:EM,create:w2,direction:wM,distanceToPoint:PM,equals:OM,fromPlanes:FM,fromPointAndDirection:aa,fromPoints:BM,intersectPointOfLineAndPlane:NM,origin:$M,reverse:zM,toString:qM,transform:YM},KM={constants:$t,line2:vd,line3:ZM,mat4:tn,plane:zr,utils:oa,vec2:Rt,vec3:lt,vec4:r2};const QM=yt,C2=Tt,P2=Ct,JM=Jt,eI=Ut,Il=new WeakMap,tI=()=>0,nI=e=>{let t=Il.get(e);return t||(t=C2.toSides(e).reduce((r,s)=>r+(s[0][0]*s[1][1]-s[0][1]*s[1][0]),0),t*=.5,Il.set(e,t),t)},rI=e=>{let t=Il.get(e);return t||(t=P2.toPolygons(e).reduce((r,s)=>r+eI.measureArea(s),0),Il.set(e,t),t)},sI=(...e)=>{if(e=QM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>JM.isA(n)?tI():C2.isA(n)?nI(n):P2.isA(n)?rI(n):0);return t.length===1?t[0]:t};var L2=sI;const iI=yt,oI=L2,aI=(...e)=>{if(e=iI(e),e.length===0)throw new Error("measureAggregateArea: no geometries supplied");const t=oI(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var lI=aI;const cI=yt,$r=Rt,Mo=lt,O2=Tt,R2=Ct,M2=Jt,Hh=Ut,Zi=new WeakMap,fI=e=>{let t=Zi.get(e);if(t)return t;const n=M2.toPoints(e);let r;n.length===0?r=$r.create():r=$r.clone(n[0]);let s=$r.clone(r);return n.forEach(i=>{$r.min(r,r,i),$r.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],Zi.set(e,t),t},uI=e=>{let t=Zi.get(e);if(t)return t;const n=O2.toPoints(e);let r;n.length===0?r=$r.create():r=$r.clone(n[0]);let s=$r.clone(r);return n.forEach(i=>{$r.min(r,r,i),$r.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],Zi.set(e,t),t},dI=e=>{let t=Zi.get(e);if(t)return t;const n=R2.toPolygons(e);let r=Mo.create();if(n.length>0){const i=Hh.toPoints(n[0]);Mo.copy(r,i[0])}let s=Mo.clone(r);return n.forEach(i=>{Hh.toPoints(i).forEach(o=>{Mo.min(r,r,o),Mo.max(s,s,o)})}),r=[r[0],r[1],r[2]],s=[s[0],s[1],s[2]],t=[r,s],Zi.set(e,t),t},hI=(...e)=>{if(e=cI(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>M2.isA(n)?fI(n):O2.isA(n)?uI(n):R2.isA(n)?dI(n):[[0,0,0],[0,0,0]]);return t.length===1?t[0]:t};var ci=hI;const mI=yt,pI=Gv,gI=Bv,vI=ci,bI=(...e)=>{if(e=mI(e),e.length===0)throw new Error("measureAggregateBoundingBox: no geometries supplied");const t=vI(e);if(e.length===1)return t;const n=[[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]];return t.reduce((r,s)=>(r=[pI(r[0],r[0],s[0]),gI(r[1],r[1],s[1])],r),n)};var bd=bI;const{EPS:_I}=$t,yI=(e,t)=>{let n=0;for(let r=0;r<t;r++)n+=e[1][r]-e[0][r];return _I*n/t};var I2=yI;const AI=yt,EI=bd,SI=I2,{geom2:wI,geom3:TI,path2:CI}=hd,PI=(...e)=>{if(e=AI(e),e.length===0)throw new Error("measureAggregateEpsilon: no geometries supplied");const t=EI(e);let n=0;return n=e.reduce((r,s)=>CI.isA(s)||wI.isA(s)?Math.max(r,2):TI.isA(s)?Math.max(r,3):0,n),SI(t,n)};var LI=PI;const OI=yt,RI=Tt,D2=Ct,MI=Jt,II=Ut,zh=new WeakMap,DI=()=>0,FI=()=>0,kI=e=>{let t=zh.get(e);return t||(t=D2.toPolygons(e).reduce((r,s)=>r+II.measureSignedVolume(s),0),zh.set(e,t),t)},xI=(...e)=>{if(e=OI(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>MI.isA(n)?DI():RI.isA(n)?FI():D2.isA(n)?kI(n):0);return t.length===1?t[0]:t};var F2=xI;const BI=yt,GI=F2,NI=(...e)=>{if(e=BI(e),e.length===0)throw new Error("measureAggregateVolume: no geometries supplied");const t=GI(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var VI=NI;const $I=yt,k2=Rt,ar=lt,x2=Tt,B2=Ct,G2=Jt,jh=Ut,Ki=new WeakMap,UI=e=>{let t=Ki.get(e);if(t!==void 0)return t;const n=ar.create();let r=0;const s=G2.toPoints(e);if(s.length>0){let i=0;const o=ar.create();s.forEach(a=>{ar.add(n,n,ar.fromVec2(o,a,0)),i++}),ar.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,k2.squaredDistance(n,a))}),r=Math.sqrt(r)}return t=[n,r],Ki.set(e,t),t},HI=e=>{let t=Ki.get(e);if(t!==void 0)return t;const n=ar.create();let r=0;const s=x2.toSides(e);if(s.length>0){let i=0;const o=ar.create();s.forEach(a=>{ar.add(n,n,ar.fromVec2(o,a[0],0)),i++}),ar.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,k2.squaredDistance(n,a[0]))}),r=Math.sqrt(r)}return t=[n,r],Ki.set(e,t),t},zI=e=>{let t=Ki.get(e);if(t!==void 0)return t;const n=ar.create();let r=0;const s=B2.toPolygons(e);if(s.length>0){let i=0;s.forEach(o=>{jh.toPoints(o).forEach(a=>{ar.add(n,n,a),i++})}),ar.scale(n,n,1/i),s.forEach(o=>{jh.toPoints(o).forEach(a=>{r=Math.max(r,ar.squaredDistance(n,a))})}),r=Math.sqrt(r)}return t=[n,r],Ki.set(e,t),t},jI=(...e)=>{e=$I(e);const t=e.map(n=>G2.isA(n)?UI(n):x2.isA(n)?HI(n):B2.isA(n)?zI(n):[[0,0,0],0]);return t.length===1?t[0]:t};var qI=jI;const XI=yt,WI=ci,YI=(...e)=>{e=XI(e);const t=e.map(n=>{const r=WI(n);return[r[0][0]+(r[1][0]-r[0][0])/2,r[0][1]+(r[1][1]-r[0][1])/2,r[0][2]+(r[1][2]-r[0][2])/2]});return t.length===1?t[0]:t};var ZI=YI;const KI=yt,Gr=lt,N2=Tt,V2=Ct,Dl=new WeakMap,QI=e=>{let t=Dl.get(e);if(t!==void 0)return t;const n=N2.toSides(e);let r=0,s=0,i=0;if(n.length>0){for(let a=0;a<n.length;a++){const l=n[a][0],c=n[a][1],f=l[0]*c[1]-l[1]*c[0];r+=f,s+=(l[0]+c[0])*f,i+=(l[1]+c[1])*f}r/=2;const o=1/(r*6);s*=o,i*=o}return t=Gr.fromValues(s,i,0),Dl.set(e,t),t},JI=e=>{let t=Dl.get(e);if(t!==void 0)return t;t=Gr.create();const n=V2.toPolygons(e);if(n.length===0)return t;let r=0;const s=Gr.create();return n.forEach(i=>{const o=i.vertices;for(let a=0;a<o.length-2;a++){Gr.cross(s,o[a+1],o[a+2]);const l=Gr.dot(o[0],s)/6;r+=l,Gr.add(s,o[0],o[a+1]),Gr.add(s,s,o[a+2]);const c=Gr.scale(s,s,1/4*l);Gr.add(t,t,c)}}),Gr.scale(t,t,1/r),Dl.set(e,t),t},eD=(...e)=>{e=KI(e);const t=e.map(n=>N2.isA(n)?QI(n):V2.isA(n)?JI(n):[0,0,0]);return t.length===1?t[0]:t};var tD=eD;const nD=yt,rD=ci,sD=(...e)=>{e=nD(e);const t=e.map(n=>{const r=rD(n);return[r[1][0]-r[0][0],r[1][1]-r[0][1],r[1][2]-r[0][2]]});return t.length===1?t[0]:t};var iD=sD;const oD=yt,{geom2:aD,geom3:lD,path2:cD}=hd,_d=I2,yd=ci,fD=e=>_d(yd(e),2),uD=e=>_d(yd(e),2),dD=e=>_d(yd(e),3),hD=(...e)=>{if(e=oD(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>cD.isA(n)?fD(n):aD.isA(n)?uD(n):lD.isA(n)?dD(n):0);return t.length===1?t[0]:t};var Ls=hD,Uu={measureAggregateArea:lI,measureAggregateBoundingBox:bd,measureAggregateEpsilon:LI,measureAggregateVolume:VI,measureArea:L2,measureBoundingBox:ci,measureBoundingSphere:qI,measureCenter:ZI,measureCenterOfMass:tD,measureDimensions:iD,measureEpsilon:Ls,measureVolume:F2};const mD=(e,t)=>Array.isArray(e)&&e.length>=t?e.every(n=>Number.isFinite(n)):!1,pD=(e,t)=>Number.isFinite(e)&&e>t,gD=(e,t)=>Number.isFinite(e)&&e>=t;var Nn={isNumberArray:mD,isGT:pD,isGTE:gD};const{EPS:qh,TAU:xi}=$t,Kr=Rt,vD=Jt,{isGT:bD,isGTE:nu,isNumberArray:_D}=Nn,yD=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:xi,makeTangent:!1,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,makeTangent:o,segments:a}=Object.assign({},t,e);if(!_D(n,2))throw new Error("center must be an array of X and Y values");if(!bD(r,0))throw new Error("radius must be greater than zero");if(!nu(s,0))throw new Error("startAngle must be positive");if(!nu(i,0))throw new Error("endAngle must be positive");if(!nu(a,4))throw new Error("segments must be four or more");s=s%xi,i=i%xi;let l=xi;s<i&&(l=i-s),s>i&&(l=i+(xi-s));const c=Math.acos((r*r+r*r-qh*qh)/(2*r*r)),f=Kr.clone(n);let u;const h=[];if(l<c)u=Kr.fromAngleRadians(Kr.create(),s),Kr.scale(u,u,r),Kr.add(u,u,f),h.push(u);else{const d=Math.max(1,Math.floor(a*(l/xi)))+1;let g=d*.5/l;g>.25&&(g=.25);const m=o?d+2:d;for(let p=0;p<=m;p++){let v=p;o&&(v=(p-1)*(d-2*g)/d+g,v<0&&(v=0),v>d&&(v=d));const b=s+v*(l/d);u=Kr.fromAngleRadians(Kr.create(),b),Kr.scale(u,u,r),Kr.add(u,u,f),h.push(u)}}return vD.fromPoints({closed:!1},h)};var AD=yD;const{EPS:Xh,TAU:ys}=$t,ru=Rt,Wh=Tt,{sin:ED,cos:SD}=qn,{isGTE:su,isNumberArray:Yh}=Nn,wD=e=>{const t={center:[0,0],radius:[1,1],startAngle:0,endAngle:ys,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!Yh(n,2))throw new Error("center must be an array of X and Y values");if(!Yh(r,2))throw new Error("radius must be an array of X and Y values");if(!r.every(d=>d>=0))throw new Error("radius values must be positive");if(!su(s,0))throw new Error("startAngle must be positive");if(!su(i,0))throw new Error("endAngle must be positive");if(!su(o,3))throw new Error("segments must be three or more");if(r[0]===0||r[1]===0)return Wh.create();s=s%ys,i=i%ys;let a=ys;s<i&&(a=i-s),s>i&&(a=i+(ys-s));const l=Math.min(r[0],r[1]),c=Math.acos((l*l+l*l-Xh*Xh)/(2*l*l));if(a<c)throw new Error("startAngle and endAngle do not define a significant rotation");o=Math.floor(o*(a/ys));const f=ru.clone(n),u=a/o,h=[];o=a<ys?o+1:o;for(let d=0;d<o;d++){const g=u*d+s,m=ru.fromValues(r[0]*SD(g),r[1]*ED(g));ru.add(m,f,m),h.push(m)}return a<ys&&h.push(f),Wh.fromPoints(h)};var $2=wD;const{TAU:TD}=$t,CD=$2,{isGTE:PD}=Nn,LD=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:TD,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!PD(r,0))throw new Error("radius must be positive");return r=[r,r],CD({center:n,radius:r,startAngle:s,endAngle:i,segments:o})};var U2=LD;const Zh=Ct,OD=Ut,{isNumberArray:Kh}=Nn,RD=e=>{const t={center:[0,0,0],size:[2,2,2]},{center:n,size:r}=Object.assign({},t,e);if(!Kh(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Kh(r,3))throw new Error("size must be an array of width, depth and height values");if(!r.every(i=>i>=0))throw new Error("size values must be positive");return r[0]===0||r[1]===0||r[2]===0?Zh.create():Zh.create([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(i=>{const o=i[0].map(a=>[n[0]+r[0]/2*(2*!!(a&1)-1),n[1]+r[1]/2*(2*!!(a&2)-1),n[2]+r[2]/2*(2*!!(a&4)-1)]);return OD.create(o)}))};var Ad=RD;const MD=Ad,{isGTE:ID}=Nn,DD=e=>{const t={center:[0,0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!ID(r,0))throw new Error("size must be positive");return r=[r,r,r],MD({center:n,size:r})};var FD=DD;const{EPS:Qh,TAU:As}=$t,zn=lt,kD=Ct,xD=Ut,{sin:BD,cos:GD}=qn,{isGT:ND,isGTE:iu,isNumberArray:ou}=Nn,VD=e=>{const t={center:[0,0,0],height:2,startRadius:[1,1],startAngle:0,endRadius:[1,1],endAngle:As,segments:32};let{center:n,height:r,startRadius:s,startAngle:i,endRadius:o,endAngle:a,segments:l}=Object.assign({},t,e);if(!ou(n,3))throw new Error("center must be an array of X, Y and Z values");if(!ND(r,0))throw new Error("height must be greater then zero");if(!ou(s,2))throw new Error("startRadius must be an array of X and Y values");if(!s.every($=>$>=0))throw new Error("startRadius values must be positive");if(!ou(o,2))throw new Error("endRadius must be an array of X and Y values");if(!o.every($=>$>=0))throw new Error("endRadius values must be positive");if(o.every($=>$===0)&&s.every($=>$===0))throw new Error("at least one radius must be positive");if(!iu(i,0))throw new Error("startAngle must be positive");if(!iu(a,0))throw new Error("endAngle must be positive");if(!iu(l,4))throw new Error("segments must be four or more");i=i%As,a=a%As;let c=As;i<a&&(c=a-i),i>a&&(c=a+(As-i));const f=Math.min(s[0],s[1],o[0],o[1]),u=Math.acos((f*f+f*f-Qh*Qh)/(2*f*f));if(c<u)throw new Error("startAngle and endAngle do not define a significant rotation");const h=Math.floor(l*(c/As)),d=zn.fromValues(0,0,-(r/2)),g=zn.fromValues(0,0,r/2),m=zn.subtract(zn.create(),g,d),p=zn.fromValues(1,0,0),v=zn.fromValues(0,1,0),b=zn.create(),_=zn.create(),E=zn.create(),S=($,G,k)=>{const se=G*c+i;return zn.scale(b,p,k[0]*GD(se)),zn.scale(_,v,k[1]*BD(se)),zn.add(b,b,_),zn.scale(E,m,$),zn.add(E,E,d),zn.add(zn.create(),b,E)},w=(...$)=>{const G=$.map(k=>zn.add(zn.create(),k,n));return xD.create(G)},A=[];for(let $=0;$<h;$++){const G=$/h;let k=($+1)/h;c===As&&$===h-1&&(k=0),o[0]===s[0]&&o[1]===s[1]?(A.push(w(d,S(0,k,o),S(0,G,o))),A.push(w(S(0,k,o),S(1,k,o),S(1,G,o),S(0,G,o))),A.push(w(g,S(1,G,o),S(1,k,o)))):(s[0]>0&&s[1]>0&&A.push(w(d,S(0,k,s),S(0,G,s))),(s[0]>0||s[1]>0)&&A.push(w(S(0,G,s),S(0,k,s),S(1,G,o))),o[0]>0&&o[1]>0&&A.push(w(g,S(1,G,o),S(1,k,o))),(o[0]>0||o[1]>0)&&A.push(w(S(1,G,o),S(0,k,s),S(1,k,o))))}return c<As&&(A.push(w(d,S(0,0,s),g)),A.push(w(S(0,0,s),S(1,0,o),g)),A.push(w(d,g,S(0,1,s))),A.push(w(S(0,1,s),g,S(1,1,o)))),kD.create(A)};var H2=VD;const $D=Ct,UD=H2,{isGTE:HD}=Nn,zD=e=>{const t={center:[0,0,0],height:2,radius:1,segments:32},{center:n,height:r,radius:s,segments:i}=Object.assign({},t,e);if(!HD(s,0))throw new Error("radius must be positive");return r===0||s===0?$D.create():UD({center:n,height:r,startRadius:[s,s],endRadius:[s,s],segments:i})};var z2=zD;const{TAU:Jh}=$t,ct=lt,em=Ct,tm=Ut,{sin:nm,cos:rm}=qn,{isGTE:jD,isNumberArray:sm}=Nn,qD=e=>{const t={center:[0,0,0],radius:[1,1,1],segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!sm(n,3))throw new Error("center must be an array of X, Y and Z values");if(!sm(r,3))throw new Error("radius must be an array of X, Y and Z values");if(!r.every(g=>g>=0))throw new Error("radius values must be positive");if(!jD(s,4))throw new Error("segments must be four or more");if(r[0]===0||r[1]===0||r[2]===0)return em.create();const o=ct.scale(ct.create(),ct.normalize(ct.create(),i[0]),r[0]),a=ct.scale(ct.create(),ct.normalize(ct.create(),i[1]),r[1]),l=ct.scale(ct.create(),ct.normalize(ct.create(),i[2]),r[2]),c=Math.round(s/4);let f;const u=[],h=ct.create(),d=ct.create();for(let g=0;g<=s;g++){const m=Jh*g/s,p=ct.add(ct.create(),ct.scale(h,o,rm(m)),ct.scale(d,a,nm(m)));if(g>0){let v,b;for(let _=0;_<=c;_++){const E=Jh/4*_/c,S=rm(E),w=nm(E);if(_>0){let A=[],L;L=ct.subtract(ct.create(),ct.scale(h,f,v),ct.scale(d,l,b)),A.push(ct.add(L,L,n)),L=ct.subtract(ct.create(),ct.scale(h,p,v),ct.scale(d,l,b)),A.push(ct.add(L,L,n)),_<c&&(L=ct.subtract(ct.create(),ct.scale(h,p,S),ct.scale(d,l,w)),A.push(ct.add(L,L,n))),L=ct.subtract(ct.create(),ct.scale(h,f,S),ct.scale(d,l,w)),A.push(ct.add(L,L,n)),u.push(tm.create(A)),A=[],L=ct.add(ct.create(),ct.scale(h,f,v),ct.scale(d,l,b)),A.push(ct.add(ct.create(),n,L)),L=ct.add(L,ct.scale(h,p,v),ct.scale(d,l,b)),A.push(ct.add(ct.create(),n,L)),_<c&&(L=ct.add(L,ct.scale(h,p,S),ct.scale(d,l,w)),A.push(ct.add(ct.create(),n,L))),L=ct.add(L,ct.scale(h,f,S),ct.scale(d,l,w)),A.push(ct.add(ct.create(),n,L)),A.reverse(),u.push(tm.create(A))}v=S,b=w}}f=p}return em.create(u)};var j2=qD;const XD=Ct,WD=Ut,{isNumberArray:im}=Nn,YD=e=>{const t={points:[],faces:[],colors:void 0,orientation:"outward"},{points:n,faces:r,colors:s,orientation:i}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and faces must be arrays");if(n.length<3)throw new Error("three or more points are required");if(r.length<1)throw new Error("one or more faces are required");if(s){if(!Array.isArray(s))throw new Error("colors must be an array");if(s.length!==r.length)throw new Error("faces and colors must have the same length")}n.forEach((a,l)=>{if(!im(a,3))throw new Error(`point ${l} must be an array of X, Y, Z values`)}),r.forEach((a,l)=>{if(a.length<3)throw new Error(`face ${l} must contain 3 or more indexes`);if(!im(a,a.length))throw new Error(`face ${l} must be an array of numbers`)}),i!=="outward"&&r.forEach(a=>a.reverse());const o=r.map((a,l)=>{const c=WD.create(a.map(f=>n[f]));return s&&s[l]&&(c.color=s[l]),c});return XD.create(o)};var q2=YD;const om=tn,am=lt,lm=Ct,ZD=q2,{isGTE:cm}=Nn,KD=e=>{const t={radius:1,frequency:6};let{radius:n,frequency:r}=Object.assign({},t,e);if(!cm(n,0))throw new Error("radius must be positive");if(!cm(r,6))throw new Error("frequency must be six or more");if(n===0)return lm.create();r=Math.floor(r/6);const s=[[.850651,0,-.525731],[.850651,-0,.525731],[-.850651,-0,.525731],[-.850651,0,-.525731],[0,-.525731,.850651],[0,.525731,.850651],[0,.525731,-.850651],[0,-.525731,-.850651],[-.525731,-.850651,-0],[.525731,-.850651,-0],[.525731,.850651,0],[-.525731,.850651,0]],i=[[0,9,1],[1,10,0],[6,7,0],[10,6,0],[7,9,0],[5,1,4],[4,1,9],[5,10,1],[2,8,3],[3,11,2],[2,5,4],[4,8,2],[2,11,5],[3,7,6],[6,11,3],[8,7,3],[9,8,4],[11,10,5],[10,11,6],[8,9,7]],o=(h,d,g)=>{const m=h[0],p=h[1],v=h[2];let b=g;const _=[],E=[];for(let S=0;S<d;S++)for(let w=0;w<d-S;w++){const A=S/d,L=(S+1)/d,$=w/(d-S),G=(w+1)/(d-S),k=d-S-1?w/(d-S-1):1,se=[];se[0]=a(a(m,p,$),v,A),se[1]=a(a(m,p,G),v,A),se[2]=a(a(m,p,k),v,L);for(let V=0;V<3;V++){const j=am.length(se[V]);for(let Oe=0;Oe<3;Oe++)se[V][Oe]/=j}if(_.push(se[0],se[1],se[2]),E.push([b,b+1,b+2]),b+=3,w<d-S-1){const V=d-S-1?(w+1)/(d-S-1):1;se[0]=a(a(m,p,G),v,A),se[1]=a(a(m,p,V),v,L),se[2]=a(a(m,p,k),v,L);for(let j=0;j<3;j++){const Oe=am.length(se[j]);for(let ne=0;ne<3;ne++)se[j][ne]/=Oe}_.push(se[0],se[1],se[2]),E.push([b,b+1,b+2]),b+=3}}return{points:_,triangles:E,offset:b}},a=(h,d,g)=>{const m=1-g,p=[];for(let v=0;v<3;v++)p[v]=h[v]*m+d[v]*g;return p};let l=[],c=[],f=0;for(let h=0;h<i.length;h++){const d=o([s[i[h][0]],s[i[h][1]],s[i[h][2]]],r,f);l=l.concat(d.points),c=c.concat(d.triangles),f=d.offset}let u=ZD({points:l,faces:c,orientation:"inward"});return n!==1&&(u=lm.transform(om.fromScaling(om.create(),[n,n,n]),u)),u};var QD=KD;const JD=Jt,eF=e=>{if(!Array.isArray(e))throw new Error("points must be an array");return JD.fromPoints({},e)};var tF=eF;const au=Tt,nF=e=>{const t={points:[],paths:[]},{points:n,paths:r}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and paths must be arrays");let s=n;Array.isArray(n[0])&&(Array.isArray(n[0][0])||(s=[n])),s.forEach((l,c)=>{if(!Array.isArray(l))throw new Error("list of points "+c+" must be an array");if(l.length<3)throw new Error("list of points "+c+" must contain three or more points");l.forEach((f,u)=>{if(!Array.isArray(f))throw new Error("list of points "+c+", point "+u+" must be an array");if(f.length<2)throw new Error("list of points "+c+", point "+u+" must contain by X and Y values")})});let i=r;if(r.length===0){let l=0;i=s.map(c=>c.map(f=>l++))}const o=[];s.forEach(l=>l.forEach(c=>o.push(c)));let a=[];return i.forEach(l=>{const c=l.map(u=>o[u]),f=au.fromPoints(c);a=a.concat(au.toSides(f))}),au.create(a)};var rF=nF;const Es=Rt,fm=Tt,{isNumberArray:um}=Nn,sF=e=>{const t={center:[0,0],size:[2,2]},{center:n,size:r}=Object.assign({},t,e);if(!um(n,2))throw new Error("center must be an array of X and Y values");if(!um(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(a=>a>=0))throw new Error("size values must be positive");if(r[0]===0||r[1]===0)return fm.create();const s=[r[0]/2,r[1]/2],i=[s[0],-s[1]],o=[Es.subtract(Es.create(),n,s),Es.add(Es.create(),n,i),Es.add(Es.create(),n,s),Es.subtract(Es.create(),n,i)];return fm.fromPoints(o)};var Ed=sF;const{EPS:Cl,TAU:Io}=$t,lu=Rt,Mn=lt,dm=Ct,Qi=Ut,{sin:iF,cos:oF}=qn,{isGTE:hm,isNumberArray:mm}=Nn,aF=Ad,pm=(e,t,n,r,s,i)=>{const o=Io/4*s/r,a=oF(o),l=iF(o),c=r-s;let f=n*a,u=t[2]-(n-n*l);i||(u=n-n*l-t[2]),f=f>Cl?f:0;const h=Mn.add(Mn.create(),e,[t[0]-n,t[1]-n,u]),d=Mn.add(Mn.create(),e,[n-t[0],t[1]-n,u]),g=Mn.add(Mn.create(),e,[n-t[0],n-t[1],u]),m=Mn.add(Mn.create(),e,[t[0]-n,n-t[1],u]),p=[],v=[],b=[],_=[];for(let E=0;E<=c;E++){const S=c>0?Io/4*E/c:0,w=lu.fromAngleRadians(lu.create(),S);lu.scale(w,w,f);const A=Mn.fromVec2(Mn.create(),w);p.push(Mn.add(Mn.create(),h,A)),Mn.rotateZ(A,A,[0,0,0],Io/4),v.push(Mn.add(Mn.create(),d,A)),Mn.rotateZ(A,A,[0,0,0],Io/4),b.push(Mn.add(Mn.create(),g,A)),Mn.rotateZ(A,A,[0,0,0],Io/4),_.push(Mn.add(Mn.create(),m,A))}return i?[p,v,b,_]:(p.reverse(),v.reverse(),b.reverse(),_.reverse(),[_,b,v,p])},gm=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];for(let o=0;o<s.length-1;o++)n.push(Qi.create([s[o],s[o+1],i[o]])),o<i.length-1&&n.push(Qi.create([i[o],s[o+1],i[o+1]]))}return n},vm=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t[r];const o=s[s.length-1],a=i[i.length-1],l=(r+1)%e.length;s=e[l],i=t[l];const c=s[0],f=i[0];n.push(Qi.create([o,c,f,a]))}return n},lF=(e,t)=>{e=[e[3],e[2],e[1],e[0]],e=e.map(i=>i.slice().reverse());const n=[];e.forEach(i=>{i.forEach(o=>n.push(o))});const r=[];t.forEach(i=>{i.forEach(o=>r.push(o))});const s=[];for(let i=0;i<r.length;i++){const o=(i+1)%r.length;s.push(Qi.create([n[i],n[o],r[o],r[i]]))}return s},cF=e=>{const t={center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!mm(n,3))throw new Error("center must be an array of X, Y and Z values");if(!mm(r,3))throw new Error("size must be an array of X, Y and Z values");if(!r.every(c=>c>=0))throw new Error("size values must be positive");if(!hm(s,0))throw new Error("roundRadius must be positive");if(!hm(i,4))throw new Error("segments must be four or more");if(r[0]===0||r[1]===0||r[2]===0)return dm.create();if(s===0)return aF({center:n,size:r});if(r=r.map(c=>c/2),s>r[0]-Cl||s>r[1]-Cl||s>r[2]-Cl)throw new Error("roundRadius must be smaller then the radius of all dimensions");i=Math.floor(i/4);let o=null,a=null,l=[];for(let c=0;c<=i;c++){const f=pm(n,r,s,i,c,!0),u=pm(n,r,s,i,c,!1);if(c===0&&(l=l.concat(lF(u,f))),o&&(l=l.concat(gm(o,f),vm(o,f))),a&&(l=l.concat(gm(a,u),vm(a,u))),c===i){let h=f.map(d=>d[0]);l.push(Qi.create(h)),h=u.map(d=>d[0]),l.push(Qi.create(h))}o=f,a=u}return dm.create(l)};var fF=cF;const{EPS:uF,TAU:bm}=$t,Ye=lt,_m=Ct,dF=Ut,{sin:ym,cos:Am}=qn,{isGTE:sl,isNumberArray:hF}=Nn,mF=z2,pF=e=>{const t={center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},{center:n,height:r,radius:s,roundRadius:i,segments:o}=Object.assign({},t,e);if(!hF(n,3))throw new Error("center must be an array of X, Y and Z values");if(!sl(r,0))throw new Error("height must be positive");if(!sl(s,0))throw new Error("radius must be positive");if(!sl(i,0))throw new Error("roundRadius must be positive");if(i>s)throw new Error("roundRadius must be smaller then the radius");if(!sl(o,4))throw new Error("segments must be four or more");if(r===0||s===0)return _m.create();if(i===0)return mF({center:n,height:r,radius:s});const a=[0,0,-(r/2)],l=[0,0,r/2],c=Ye.subtract(Ye.create(),l,a),f=Ye.length(c);if(2*i>f-uF)throw new Error("height must be larger than twice roundRadius");let u;Math.abs(c[0])>Math.abs(c[1])?u=Ye.fromValues(0,1,0):u=Ye.fromValues(1,0,0);const h=Ye.scale(Ye.create(),Ye.normalize(Ye.create(),c),i),d=Ye.scale(Ye.create(),Ye.normalize(Ye.create(),Ye.cross(Ye.create(),h,u)),s),g=Ye.scale(Ye.create(),Ye.normalize(Ye.create(),Ye.cross(Ye.create(),d,h)),s);Ye.add(a,a,h),Ye.subtract(l,l,h);const m=Math.floor(.25*o),p=w=>{const A=w.map(L=>Ye.add(L,L,n));return dF.create(A)},v=[],b=Ye.create(),_=Ye.create();let E;for(let w=0;w<=o;w++){const A=bm*w/o,L=Ye.add(Ye.create(),Ye.scale(b,d,Am(A)),Ye.scale(_,g,ym(A)));if(w>0){let $=[];$.push(Ye.add(Ye.create(),a,L)),$.push(Ye.add(Ye.create(),a,E)),$.push(Ye.add(Ye.create(),l,E)),$.push(Ye.add(Ye.create(),l,L)),v.push(p($));let G,k;for(let se=0;se<=m;se++){const V=bm/4*se/m,j=Am(V),Oe=ym(V);if(se>0){$=[];let ne;ne=Ye.add(Ye.create(),a,Ye.subtract(b,Ye.scale(b,E,G),Ye.scale(_,h,k))),$.push(ne),ne=Ye.add(Ye.create(),a,Ye.subtract(b,Ye.scale(b,L,G),Ye.scale(_,h,k))),$.push(ne),se<m&&(ne=Ye.add(Ye.create(),a,Ye.subtract(b,Ye.scale(b,L,j),Ye.scale(_,h,Oe))),$.push(ne)),ne=Ye.add(Ye.create(),a,Ye.subtract(b,Ye.scale(b,E,j),Ye.scale(_,h,Oe))),$.push(ne),v.push(p($)),$=[],ne=Ye.add(Ye.create(),Ye.scale(b,E,G),Ye.scale(_,h,k)),Ye.add(ne,ne,l),$.push(ne),ne=Ye.add(Ye.create(),Ye.scale(b,L,G),Ye.scale(_,h,k)),Ye.add(ne,ne,l),$.push(ne),se<m&&(ne=Ye.add(Ye.create(),Ye.scale(b,L,j),Ye.scale(_,h,Oe)),Ye.add(ne,ne,l),$.push(ne)),ne=Ye.add(Ye.create(),Ye.scale(b,E,j),Ye.scale(_,h,Oe)),Ye.add(ne,ne,l),$.push(ne),$.reverse(),v.push(p($))}G=j,k=Oe}}E=L}return _m.create(v)};var gF=pF;const{EPS:Em,TAU:il}=$t,un=Rt,Sm=Tt,{isGTE:wm,isNumberArray:Tm}=Nn,vF=Ed,bF=e=>{const t={center:[0,0],size:[2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!Tm(n,2))throw new Error("center must be an array of X and Y values");if(!Tm(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(m=>m>=0))throw new Error("size values must be positive");if(!wm(s,0))throw new Error("roundRadius must be positive");if(!wm(i,4))throw new Error("segments must be four or more");if(r[0]===0||r[1]===0)return Sm.create();if(s===0)return vF({center:n,size:r});if(r=r.map(m=>m/2),s>r[0]-Em||s>r[1]-Em)throw new Error("roundRadius must be smaller then the radius of all dimensions");const o=Math.floor(i/4),a=un.add(un.create(),n,[r[0]-s,r[1]-s]),l=un.add(un.create(),n,[s-r[0],r[1]-s]),c=un.add(un.create(),n,[s-r[0],s-r[1]]),f=un.add(un.create(),n,[r[0]-s,s-r[1]]),u=[],h=[],d=[],g=[];for(let m=0;m<=o;m++){const p=il/4*m/o,v=un.fromAngleRadians(un.create(),p);un.scale(v,v,s),u.push(un.add(un.create(),a,v)),un.rotate(v,v,un.create(),il/4),h.push(un.add(un.create(),l,v)),un.rotate(v,v,un.create(),il/4),d.push(un.add(un.create(),c,v)),un.rotate(v,v,un.create(),il/4),g.push(un.add(un.create(),f,v))}return Sm.fromPoints(u.concat(h,d,g))};var _F=bF;const yF=j2,{isGTE:AF}=Nn,EF=e=>{const t={center:[0,0,0],radius:1,segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]};let{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!AF(r,0))throw new Error("radius must be positive");return r=[r,r,r],yF({center:n,radius:r,segments:s,axes:i})};var X2=EF;const SF=Ed,{isGTE:wF}=Nn,TF=e=>{const t={center:[0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!wF(r,0))throw new Error("size must be positive");return r=[r,r],SF({center:n,size:r})};var CF=TF;const{TAU:W2}=$t,Uo=Rt,PF=Tt,{isGT:LF,isGTE:ol,isNumberArray:OF}=Nn,RF=(e,t)=>e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0,Cm=(e,t,n,r)=>{const s=W2/e,i=[];for(let o=0;o<e;o++){const a=Uo.fromAngleRadians(Uo.create(),s*o+n);Uo.scale(a,a,t),Uo.add(a,r,a),i.push(a)}return i},MF=e=>{const t={center:[0,0],vertices:5,outerRadius:1,innerRadius:0,density:2,startAngle:0};let{center:n,vertices:r,outerRadius:s,innerRadius:i,density:o,startAngle:a}=Object.assign({},t,e);if(!OF(n,2))throw new Error("center must be an array of X and Y values");if(!ol(r,2))throw new Error("vertices must be two or more");if(!LF(s,0))throw new Error("outerRadius must be greater than zero");if(!ol(i,0))throw new Error("innerRadius must be greater than zero");if(!ol(a,0))throw new Error("startAngle must be greater than zero");if(r=Math.floor(r),o=Math.floor(o),a=a%W2,i===0){if(!ol(o,2))throw new Error("density must be two or more");i=s*RF(r,o)}const l=Uo.clone(n),c=Cm(r,s,a,l),f=Cm(r,i,a+Math.PI/r,l),u=[];for(let h=0;h<r;h++)u.push(c[h]),u.push(f[h]);return PF.fromPoints(u)};var IF=MF;const DF=yt,Pm=tn,Lm=zr,Om=Tt,Rm=Ct,Mm=Jt,Zl=(e,...t)=>{const n={origin:[0,0,0],normal:[0,0,1]},{origin:r,normal:s}=Object.assign({},n,e);if(t=DF(t),t.length===0)throw new Error("wrong number of arguments");const i=Lm.fromNormalAndPoint(Lm.create(),s,r);if(Number.isNaN(i[0]))throw new Error("the given origin and normal do not define a proper plane");const o=Pm.mirrorByPlane(Pm.create(),i),a=t.map(l=>Mm.isA(l)?Mm.transform(o,l):Om.isA(l)?Om.transform(o,l):Rm.isA(l)?Rm.transform(o,l):l);return a.length===1?a[0]:a},FF=(...e)=>Zl({normal:[1,0,0]},e),kF=(...e)=>Zl({normal:[0,1,0]},e),xF=(...e)=>Zl({normal:[0,0,1]},e);var Ho={mirror:Zl,mirrorX:FF,mirrorY:kF,mirrorZ:xF};const Im=zr,Zs=lt,BF=e=>{const t=e.edges;if(t.length<3)throw new Error("slices must have 3 or more edges to calculate a plane");const n=t.reduce((o,a)=>Zs.add(Zs.create(),o,a[0]),Zs.create());Zs.scale(n,n,1/t.length);let r,s=0;t.forEach(o=>{if(!Zs.equals(o[0],o[1])){const a=Zs.squaredDistance(n,o[0]);a>s&&(r=o,s=a)}});const i=t.find(o=>Zs.equals(o[1],r[0]));return Im.fromPoints(Im.create(),i[0],r[0],r[1])};var Y2=BF;const GF=e=>(e||(e=[]),{edges:e});var fi=GF;const NF=fi,Dm=lt,VF=(...e)=>{let t,n;return e.length===1?(t=NF(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[Dm.clone(r[0]),Dm.clone(r[1])]),t};var $F=VF;const UF=lt,HF=(e,t)=>{const n=e.edges,r=t.edges;return n.length!==r.length?!1:n.reduce((i,o,a)=>{const l=r[a],c=UF.squaredDistance(o[0],l[0]);return i&&c<Number.EPSILON},!0)};var zF=HF;const al=lt,jF=fi,qF=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");if(e.length<3)throw new Error("the given points must contain THREE or more points");const t=[];let n=e[e.length-1];return e.forEach(r=>{r.length===2&&t.push([al.fromVec2(al.create(),n),al.fromVec2(al.create(),r)]),r.length===3&&t.push([n,r]),n=r}),jF(t)};var XF=qF;const ll=lt,WF=fi,YF=e=>{if(!Array.isArray(e))throw new Error("the given sides must be an array");const t=[];return e.forEach(n=>{t.push([ll.fromVec2(ll.create(),n[0]),ll.fromVec2(ll.create(),n[1])])}),WF(t)};var ZF=YF;const KF=e=>!!(e&&typeof e=="object"&&"edges"in e&&Array.isArray(e.edges));var QF=KF;const JF=fi,e7=(...e)=>{let t,n;return e.length===1?(t=JF(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[r[1],r[0]]),t};var t7=e7;const n7=e=>e.edges;var r7=n7;const s7=(e,t)=>{let n,r,s,i,o,a=1;do{r=e,e=null;let l=null;for(o=0;r;){o++,s=r;let c=0;for(n=0;n<a&&(c++,s=s.nextZ,!!s);n++);let f=a;for(;c>0||f>0&&s;)c!==0&&(f===0||!s||t(r)<=t(s))?(i=r,r=r.nextZ,c--):(i=s,s=s.nextZ,f--),l?l.nextZ=i:e=i,i.prevZ=l,l=i;r=s}l.nextZ=null,a*=2}while(o>1);return e};var i7=s7;const o7=i7;let Z2=class{constructor(t,n,r){this.i=t,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}};const a7=(e,t,n,r)=>{const s=new Z2(e,t,n);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s},l7=e=>{e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)};var K2={Node:Z2,insertNode:a7,removeNode:l7,sortLinked:o7};const c7=(e,t,n,r,s,i,o,a)=>(s-o)*(t-a)-(e-o)*(i-a)>=0&&(e-o)*(r-a)-(n-o)*(t-a)>=0&&(n-o)*(i-a)-(s-o)*(r-a)>=0,f7=(e,t,n)=>(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);var Sd={area:f7,pointInTriangle:c7};const{Node:Fm,insertNode:km,removeNode:Fl}=K2,{area:lr}=Sd,u7=(e,t,n,r,s)=>{let i;if(s===v7(e,t,n,r)>0)for(let o=t;o<n;o+=r)i=km(o,e[o],e[o+1],i);else for(let o=n-r;o>=t;o-=r)i=km(o,e[o],e[o+1],i);return i&&Kl(i,i.next)&&(Fl(i),i=i.next),i},Q2=(e,t)=>{if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&(Kl(n,n.next)||lr(n.prev,n,n.next)===0)){if(Fl(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t},d7=(e,t,n)=>{let r=e;do{const s=r.prev,i=r.next.next;!Kl(s,i)&&J2(s,r,r.next,i)&&Jo(s,i)&&Jo(i,s)&&(t.push(s.i/n),t.push(r.i/n),t.push(i.i/n),Fl(r),Fl(r.next),r=e=i),r=r.next}while(r!==e);return Q2(r)},h7=(e,t)=>{let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&J2(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1},Jo=(e,t)=>lr(e.prev,e,e.next)<0?lr(e,t,e.next)>=0&&lr(e,e.prev,t)>=0:lr(e,t,e.prev)<0||lr(e,e.next,t)<0,m7=(e,t)=>{let n=e,r=!1;const s=(e.x+t.x)/2,i=(e.y+t.y)/2;do n.y>i!=n.next.y>i&&n.next.y!==n.y&&s<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r},p7=(e,t)=>{const n=new Fm(e.i,e.x,e.y),r=new Fm(t.i,t.x,t.y),s=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=s,s.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r},g7=(e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!h7(e,t)&&(Jo(e,t)&&Jo(t,e)&&m7(e,t)&&(lr(e.prev,e,t.prev)||lr(e,t.prev,t))||Kl(e,t)&&lr(e.prev,e,e.next)>0&&lr(t.prev,t,t.next)>0),J2=(e,t,n,r)=>{const s=Math.sign(lr(e,t,n)),i=Math.sign(lr(e,t,r)),o=Math.sign(lr(n,r,e)),a=Math.sign(lr(n,r,t));return!!(s!==i&&o!==a||s===0&&cl(e,n,t)||i===0&&cl(e,r,t)||o===0&&cl(n,e,r)||a===0&&cl(n,t,r))},cl=(e,t,n)=>t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y),v7=(e,t,n,r)=>{let s=0;for(let i=t,o=n-r;i<n;i+=r)s+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return s},Kl=(e,t)=>e.x===t.x&&e.y===t.y;var eb={cureLocalIntersections:d7,filterPoints:Q2,isValidDiagonal:g7,linkedPolygon:u7,locallyInside:Jo,splitPolygon:p7};const{filterPoints:Hu,linkedPolygon:b7,locallyInside:_7,splitPolygon:y7}=eb,{area:xm,pointInTriangle:A7}=Sd,E7=(e,t,n,r)=>{const s=[];for(let i=0,o=t.length;i<o;i++){const a=t[i]*r,l=i<o-1?t[i+1]*r:e.length,c=b7(e,a,l,r,!1);c===c.next&&(c.steiner=!0),s.push(C7(c))}s.sort((i,o)=>i.x-o.x);for(let i=0;i<s.length;i++)n=S7(s[i],n),n=Hu(n,n.next);return n},S7=(e,t)=>{const n=w7(e,t);if(!n)return t;const r=y7(n,e),s=Hu(n,n.next);return Hu(r,r.next),t===n?s:t},w7=(e,t)=>{let n=t;const r=e.x,s=e.y;let i=-1/0,o;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const u=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>i){if(i=u,u===r){if(s===n.y)return n;if(s===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===i)return o;const a=o,l=o.x,c=o.y;let f=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&A7(s<c?r:i,s,l,c,s<c?i:r,s,n.x,n.y)){const u=Math.abs(s-n.y)/(r-n.x);_7(n,e)&&(u<f||u===f&&(n.x>o.x||n.x===o.x&&T7(o,n)))&&(o=n,f=u)}n=n.next}while(n!==a);return o},T7=(e,t)=>xm(e.prev,e,t.prev)<0&&xm(t.next,e,e.next)<0,C7=e=>{let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n};var P7=E7;const L7=P7,{removeNode:O7,sortLinked:R7}=K2,{cureLocalIntersections:M7,filterPoints:kl,isValidDiagonal:I7,linkedPolygon:D7,splitPolygon:F7}=eb,{area:ei,pointInTriangle:zo}=Sd,k7=(e,t,n=2)=>{const r=t&&t.length,s=r?t[0]*n:e.length;let i=D7(e,0,s,n,!0);const o=[];if(!i||i.next===i.prev)return o;let a,l,c,f,u;if(r&&(i=L7(e,t,i,n)),e.length>80*n){a=c=e[0],l=f=e[1];for(let h=n;h<s;h+=n){const d=e[h],g=e[h+1];d<a&&(a=d),g<l&&(l=g),d>c&&(c=d),g>f&&(f=g)}u=Math.max(c-a,f-l),u=u!==0?1/u:0}return ea(i,o,n,a,l,u),o},ea=(e,t,n,r,s,i,o)=>{if(!e)return;!o&&i&&N7(e,r,s,i);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,i?B7(e,r,s,i):x7(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),O7(e),e=c.next,a=c.next;continue}if(e=c,e===a){o?o===1?(e=M7(kl(e),t,n),ea(e,t,n,r,s,i,2)):o===2&&G7(e,t,n,r,s,i):ea(kl(e),t,n,r,s,i,1);break}}},x7=e=>{const t=e.prev,n=e,r=e.next;if(ei(t,n,r)>=0)return!1;let s=e.next.next;for(;s!==e.prev;){if(zo(t.x,t.y,n.x,n.y,r.x,r.y,s.x,s.y)&&ei(s.prev,s,s.next)>=0)return!1;s=s.next}return!0},B7=(e,t,n,r)=>{const s=e.prev,i=e,o=e.next;if(ei(s,i,o)>=0)return!1;const a=s.x<i.x?s.x<o.x?s.x:o.x:i.x<o.x?i.x:o.x,l=s.y<i.y?s.y<o.y?s.y:o.y:i.y<o.y?i.y:o.y,c=s.x>i.x?s.x>o.x?s.x:o.x:i.x>o.x?i.x:o.x,f=s.y>i.y?s.y>o.y?s.y:o.y:i.y>o.y?i.y:o.y,u=zu(a,l,t,n,r),h=zu(c,f,t,n,r);let d=e.prevZ,g=e.nextZ;for(;d&&d.z>=u&&g&&g.z<=h;){if(d!==e.prev&&d!==e.next&&zo(s.x,s.y,i.x,i.y,o.x,o.y,d.x,d.y)&&ei(d.prev,d,d.next)>=0||(d=d.prevZ,g!==e.prev&&g!==e.next&&zo(s.x,s.y,i.x,i.y,o.x,o.y,g.x,g.y)&&ei(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;d&&d.z>=u;){if(d!==e.prev&&d!==e.next&&zo(s.x,s.y,i.x,i.y,o.x,o.y,d.x,d.y)&&ei(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;g&&g.z<=h;){if(g!==e.prev&&g!==e.next&&zo(s.x,s.y,i.x,i.y,o.x,o.y,g.x,g.y)&&ei(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0},G7=(e,t,n,r,s,i)=>{let o=e;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&I7(o,a)){let l=F7(o,a);o=kl(o,o.next),l=kl(l,l.next),ea(o,t,n,r,s,i),ea(l,t,n,r,s,i);return}a=a.next}o=o.next}while(o!==e)},N7=(e,t,n,r)=>{let s=e;do s.z===null&&(s.z=zu(s.x,s.y,t,n,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,R7(s,i=>i.z)},zu=(e,t,n,r,s)=>(e=32767*(e-n)*s,t=32767*(t-r)*s,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1);var V7=k7;const{area:$7}=oa,{toOutlines:U7}=Tt,{arePointsInside:H7}=dd,z7=e=>{const t=U7(e),n=[],r=[];t.forEach((o,a)=>{const l=$7(o);l<0?r.push(a):l>0&&n.push(a)});const s=[],i=[];return n.forEach((o,a)=>{const l=t[o];s[a]=[],r.forEach((c,f)=>{const u=t[c];H7([u[0]],{vertices:l})&&(s[a].push(c),i[f]||(i[f]=[]),i[f].push(a))})}),r.forEach((o,a)=>{if(i[a]&&i[a].length>1){const l=j7(i[a],c=>s[c].length);i[a].forEach((c,f)=>{f!==l&&(s[c]=s[c].filter(u=>u!==o))})}}),s.map((o,a)=>({solid:t[n[a]],holes:o.map(l=>t[l])}))},j7=(e,t)=>{let n,r;return e.forEach((s,i)=>{const o=t(s);(r===void 0||o<r)&&(n=i,r=o)}),n};var q7=z7;const X7=Tt,Bm=zr,W7=Rt,jn=lt,Y7=Y2,Z7=q7;let K7=class{constructor(t){this.plane=Y7(t);const n=jn.orthogonal(jn.create(),this.plane),r=jn.cross(jn.create(),this.plane,n);this.v=jn.normalize(r,r),this.u=jn.cross(jn.create(),this.v,this.plane),this.basisMap=new Map;const s=t.edges.map(o=>o.map(a=>this.to2D(a))),i=X7.create(s);this.roots=Z7(i)}to2D(t){const n=W7.fromValues(jn.dot(t,this.u),jn.dot(t,this.v));return this.basisMap.set(n,t),n}to3D(t){const n=this.basisMap.get(t);if(n)return n;{console.log("Warning: point not in original slice");const r=jn.scale(jn.create(),this.u,t[0]),s=jn.scale(jn.create(),this.v,t[1]),i=jn.scale(jn.create(),Bm,Bm[3]),o=jn.add(r,r,i);return jn.add(s,s,o)}}};var Q7=K7;const J7=Ut,ek=V7,tk=Q7,nk=e=>{const t=new tk(e),n=[];return t.roots.forEach(({solid:r,holes:s})=>{let i=r.length;const o=[];s.forEach((u,h)=>{o.push(i),i+=u.length});const a=[r,...s].flat(),l=a.flat(),c=u=>t.to3D(a[u]),f=ek(l,o);for(let u=0;u<f.length;u+=3){const h=f.slice(u,u+3).map(c);n.push(J7.fromPointsAndPlane(h,t.plane))}}),n};var rk=nk;const Gm=lt,sk=e=>e.reduce((t,n)=>t+=`[${Gm.toString(n[0])}, ${Gm.toString(n[1])}], `,""),ik=e=>`[${sk(e.edges)}]`;var ok=ik;const fl=lt,ak=fi,lk=(e,t)=>{const n=t.edges.map(r=>[fl.transform(fl.create(),r[0],e),fl.transform(fl.create(),r[1],e)]);return ak(n)};var ck=lk,so={calculatePlane:Y2,clone:$F,create:fi,equals:zF,fromPoints:XF,fromSides:ZF,isA:QF,reverse:t7,toEdges:r7,toPolygons:rk,toString:ok,transform:ck};const Nm=lt,fk=fi,uk=e=>{if(!e.edges)return e;let t=e.edges;const n=new Map,r=new Map;t=t.filter(o=>!Nm.equals(o[0],o[1])),t.forEach(o=>{const a=o[0].toString(),l=o[1].toString();n.set(a,o[0]),n.set(l,o[1]),r.set(a,(r.get(a)||0)+1),r.set(l,(r.get(l)||0)-1)});const s=[],i=[];return r.forEach((o,a)=>{o<0&&s.push(a),o>0&&i.push(a)}),s.forEach(o=>{const a=n.get(o);let l=1/0,c;i.forEach(f=>{const u=n.get(f),h=Nm.distance(a,u);h<l&&(l=h,c=u)}),console.warn(`slice.repair: repairing vertex gap ${a} to ${c} distance ${l}`),t=t.map(f=>f[0].toString()===o?[c,f[1]]:f[1].toString()===o?[f[0],c]:f)}),fk(t)};var dk=uk;const{EPS:Vm}=$t,Bi=lt,ul=Ut,$m=so,ju=(e,t)=>e===t?e:e<t?ju(t,e):t===1?1:t===0?e:ju(t,e%t),hk=(e,t)=>e*t/ju(e,t),Um=(e,t)=>{const n=e/t.length;if(n===1)return t;const r=Bi.fromValues(n,n,n),s=[];return t.forEach(i=>{const o=Bi.subtract(Bi.create(),i[1],i[0]);Bi.divide(o,o,r);let a=i[0];for(let l=1;l<=n;++l){const c=Bi.add(Bi.create(),a,o);s.push([a,c]),a=c}}),s},Hm=Vm*Vm/2*Math.sin(Math.PI/3),mk=(e,t)=>{let n=$m.toEdges(e),r=$m.toEdges(t);if(n.length!==r.length){const i=hk(n.length,r.length);i!==n.length&&(n=Um(i,n)),i!==r.length&&(r=Um(i,r))}const s=[];return n.forEach((i,o)=>{const a=r[o],l=ul.create([i[0],i[1],a[1]]),c=ul.measureArea(l);Number.isFinite(c)&&c>Hm&&s.push(l);const f=ul.create([i[0],a[1],a[0]]),u=ul.measureArea(f);Number.isFinite(u)&&u>Hm&&s.push(f)}),s};var pk=mk;const zm=tn,jm=Tt,gk=Ct,qu=Ut,Ts=so,vk=dk,qm=pk,bk=(e,t,n)=>{let r=null;return jm.isA(n)&&(r=Ts.fromSides(jm.toSides(n))),qu.isA(n)&&(r=Ts.fromPoints(qu.toPoints(n))),e===0||e===1?Ts.transform(zm.fromTranslation(zm.create(),[0,0,e]),r):null},_k=(e,t)=>{const n={numberOfSlices:2,capStart:!0,capEnd:!0,close:!1,repair:!0,callback:bk},{numberOfSlices:r,capStart:s,capEnd:i,close:o,repair:a,callback:l}=Object.assign({},n,e);if(r<2)throw new Error("numberOfSlices must be 2 or more");a&&(t=vk(t));const c=r-1;let f=null,u=null,h=null,d=[];for(let g=0;g<r;g++){const m=l(g/c,g,t);if(m){if(!Ts.isA(m))throw new Error("the callback function must return slice objects");if(Ts.toEdges(m).length===0)throw new Error("the callback function must return slices with one or more edges");h&&(d=d.concat(qm(h,m))),g===0&&(f=m),g===r-1&&(u=m),h=m}}if(i){const g=Ts.toPolygons(u);d=d.concat(g)}if(s){const g=Ts.toPolygons(f).map(qu.invert);d=d.concat(g)}return!s&&!i&&o&&!Ts.equals(u,f)&&(d=d.concat(qm(u,f))),gk.create(d)};var Ql=_k;const{TAU:gr}=$t,Do=tn,{mirrorX:yk}=Ho,Fo=Tt,cu=so,Ak=Ql,Ek=(e,t)=>{const n={segments:12,startAngle:0,angle:gr,overflow:"cap"};let{segments:r,startAngle:s,angle:i,overflow:o}=Object.assign({},n,e);if(r<3)throw new Error("segments must be greater then 3");s=Math.abs(s)>gr?s%gr:s,i=Math.abs(i)>gr?i%gr:i;let a=s+i;if(a=Math.abs(a)>gr?a%gr:a,a<s){const b=s;s=a,a=b}let l=a-s;if(l<=0&&(l=gr),Math.abs(l)<gr){const b=gr/r;r=Math.floor(Math.abs(l)/b),Math.abs(l)>r*b&&r++}let c=Fo.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(b=>b[0][0]<0),u=c.filter(b=>b[0][0]>=0);f.length>0&&u.length>0&&o==="cap"&&(f.length>u.length?(c=c.map(b=>{let _=b[0],E=b[1];return _=[Math.min(_[0],0),_[1]],E=[Math.min(E[0],0),E[1]],[_,E]}),t=Fo.reverse(Fo.create(c)),t=yk(t)):u.length>=f.length&&(c=c.map(b=>{let _=b[0],E=b[1];return _=[Math.max(_[0],0),_[1]],E=[Math.max(E[0],0),E[1]],[_,E]}),t=Fo.create(c)));const d=l/r,g=Math.abs(l)<gr,m=cu.fromSides(Fo.toSides(t));cu.reverse(m,m);const p=Do.create(),v=(b,_,E)=>{let S=d*_+s;return l===gr&&_===r&&(S=s),Do.multiply(p,Do.fromZRotation(p,S),Do.fromXRotation(Do.create(),gr/4)),cu.transform(p,E)};return e={numberOfSlices:r+1,capStart:g,capEnd:g,close:!g,callback:v},Ak(e,m)};var tb=Ek;const Sk=yt,Xm=tn,Wm=Tt,Ym=Ct,Zm=Jt,Jl=(e,...t)=>{if(!Array.isArray(e))throw new Error("angles must be an array");if(t=Sk(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=e[2],r=e[1],s=e[0],i=Xm.fromTaitBryanRotation(Xm.create(),n,r,s),o=t.map(a=>Zm.isA(a)?Zm.transform(i,a):Wm.isA(a)?Wm.transform(i,a):Ym.isA(a)?Ym.transform(i,a):a);return o.length===1?o[0]:o},wk=(e,...t)=>Jl([e,0,0],t),Tk=(e,...t)=>Jl([0,e,0],t),Ck=(e,...t)=>Jl([0,0,e],t);var jo={rotate:Jl,rotateX:wk,rotateY:Tk,rotateZ:Ck};const Pk=yt,Km=tn,Qm=Tt,Jm=Ct,ep=Jt,ec=(e,...t)=>{if(!Array.isArray(e))throw new Error("offset must be an array");if(t=Pk(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=Km.fromTranslation(Km.create(),e),r=t.map(s=>ep.isA(s)?ep.transform(n,s):Qm.isA(s)?Qm.transform(n,s):Jm.isA(s)?Jm.transform(n,s):s);return r.length===1?r[0]:r},Lk=(e,...t)=>ec([e,0,0],t),Ok=(e,...t)=>ec([0,e,0],t),Rk=(e,...t)=>ec([0,0,e],t);var si={translate:ec,translateX:Lk,translateY:Ok,translateZ:Rk};const{TAU:Mk}=$t,Ik=tb,{rotate:Dk}=jo,{translate:Fk}=si,kk=U2,{isGT:fu,isGTE:uu}=Nn,xk=e=>{const t={innerRadius:1,innerSegments:32,outerRadius:4,outerSegments:32,innerRotation:0,startAngle:0,outerRotation:Mk},{innerRadius:n,innerSegments:r,outerRadius:s,outerSegments:i,innerRotation:o,startAngle:a,outerRotation:l}=Object.assign({},t,e);if(!fu(n,0))throw new Error("innerRadius must be greater than zero");if(!uu(r,3))throw new Error("innerSegments must be three or more");if(!fu(s,0))throw new Error("outerRadius must be greater than zero");if(!uu(i,3))throw new Error("outerSegments must be three or more");if(!uu(a,0))throw new Error("startAngle must be positive");if(!fu(l,0))throw new Error("outerRotation must be greater than zero");if(n>=s)throw new Error("inner circle is two large to rotate about the outer circle");let c=kk({radius:n,segments:r});return o!==0&&(c=Dk([0,0,o],c)),c=Fk([s,0],c),Ik({startAngle:a,angle:l,segments:i},c)};var Bk=xk;const{NEPS:Ji}=$t,ko=Rt,Gk=Tt,{isNumberArray:Nk}=Nn,Xu=(e,t,n)=>Math.acos((e*e+t*t-n*n)/(2*e*t)),Vk=(e,t,n)=>t>Ji?Math.sqrt(e*e+n*n-2*e*n*Math.cos(t)):Math.sqrt((e-n)*(e-n)+e*n*t*t*(1-t*t/12)),$k=e=>{if(Math.abs(e[0]+e[1]+e[2]-Math.PI)>Ji)throw new Error("AAA triangles require angles that sum to PI");const n=e[0],r=e[1],s=Math.PI-n-r,i=1,o=i/Math.sin(s)*Math.sin(n),a=i/Math.sin(s)*Math.sin(r);return io(n,r,s,o,a,i)},Uk=e=>{const t=e[0],n=e[1],r=Math.PI+Ji-t-n;if(r<Ji)throw new Error("AAS triangles require angles that sum to PI");const s=e[2],i=s/Math.sin(t)*Math.sin(n),o=s/Math.sin(t)*Math.sin(r);return io(t,n,r,s,i,o)},Hk=e=>{const t=e[0],n=e[2],r=Math.PI+Ji-t-n;if(r<Ji)throw new Error("ASA triangles require angles that sum to PI");const s=e[1],i=s/Math.sin(r)*Math.sin(t),o=s/Math.sin(r)*Math.sin(n);return io(t,n,r,i,o,s)},zk=e=>{const t=e[0],n=e[1],r=e[2],s=Vk(t,n,r),i=Xu(s,t,r),o=Math.PI-i-n;return io(i,n,o,r,s,t)},jk=e=>{const t=e[0],n=e[1],r=e[2],s=Math.asin(n*Math.sin(r)/t),i=Math.PI-s-r,o=t/Math.sin(r)*Math.sin(i);return io(s,i,r,n,o,t)},qk=e=>{const t=e[1],n=e[2],r=e[0];if(t+n<=r||n+r<=t||r+t<=n)throw new Error("SSS triangle is incorrect, as the longest side is longer than the sum of the other sides");const s=Xu(n,r,t),i=Xu(r,t,n),o=Math.PI-s-i;return io(s,i,o,t,n,r)},io=(e,t,n,r,s,i)=>{const o=ko.fromValues(0,0),a=ko.fromValues(i,0),l=ko.fromValues(r,0);return ko.add(l,ko.rotate(l,l,[0,0],Math.PI-t),a),Gk.fromPoints([o,a,l])},Xk=e=>{const t={type:"SSS",values:[1,1,1]};let{type:n,values:r}=Object.assign({},t,e);if(typeof n!="string")throw new Error("triangle type must be a string");if(n=n.toUpperCase(),!((n[0]==="A"||n[0]==="S")&&(n[1]==="A"||n[1]==="S")&&(n[2]==="A"||n[2]==="S")))throw new Error("triangle type must contain three letters; A or S");if(!Nk(r,3))throw new Error("triangle values must contain three values");if(!r.every(s=>s>0))throw new Error("triangle values must be greater than zero");switch(n){case"AAA":return $k(r);case"AAS":return Uk(r);case"ASA":return Hk(r);case"SAS":return zk(r);case"SSA":return jk(r);case"SSS":return qk(r);default:throw new Error("invalid triangle type, try again")}};var Wk=Xk,nb={arc:AD,circle:U2,cube:FD,cuboid:Ad,cylinder:z2,cylinderElliptic:H2,ellipse:$2,ellipsoid:j2,geodesicSphere:QD,line:tF,polygon:rF,polyhedron:q2,rectangle:Ed,roundedCuboid:fF,roundedCylinder:gF,roundedRectangle:_F,sphere:X2,square:CF,star:IF,torus:Bk,triangle:Wk},Yk={height:14,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]};const Zk=Yk,Kk={xOffset:0,yOffset:0,input:"?",align:"left",font:Zk,height:14,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0},Qk=(e,t)=>{!t&&typeof e=="string"&&(e={input:e}),e=e||{};const n=Object.assign({},Kk,e);return n.input=t||n.input,n};var rb=Qk;const Jk=rb,ex=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,extrudeOffset:a}=Jk(e,t);let l=s.charCodeAt(0);(!l||!i[l])&&(l=63);const c=[].concat(i[l]),f=(o-a)/i.height,u=a/2,h=c.shift()*f,d=[];let g=[];for(let m=0,p=c.length;m<p;m+=2){const v=f*c[m]+n,b=f*c[m+1]+r+u;if(c[m]!==void 0){g.push([v,b]);continue}d.push(g),g=[],m--}return g.length&&d.push(g),{width:h,height:o,segments:d}};var sb=ex;const tx=sb,nx=rb,tp=(e,t)=>{const{x:n,y:r}=Object.assign({x:0,y:0},e||{}),s=t.segments;let i=null,o=null;for(let a=0,l=s.length;a<l;a++){i=s[a];for(let c=0,f=i.length;c<f;c++)o=i[c],i[c]=[o[0]+n,o[1]+r]}return t},rx=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,align:a,extrudeOffset:l,lineSpacing:c,letterSpacing:f}=nx(e,t);let[u,h]=[n,r],d,g,m,p,v,b,_={width:0,segments:[]};const E=[];let S=[],w=0;const A=u,L=()=>{E.push(_),w=Math.max(w,_.width),_={width:0,segments:[]}};for(d=0,g=s.length;d<g;d++){if(m=s[d],p=tx({xOffset:u,yOffset:h,font:i,height:o,extrudeOffset:l},m),m===`
`){u=A,h-=p.height*c,L();continue}v=p.width*f,_.width+=v,u+=v,m!==" "&&(_.segments=_.segments.concat(p.segments))}for(_.segments.length&&L(),d=0,g=E.length;d<g;d++)_=E[d],w>_.width&&(b=w-_.width,a==="right"?_=tp({x:b},_):a==="center"&&(_=tp({x:b/2},_))),S=S.concat(_.segments);return S};var sx=rx,ix={vectorChar:sb,vectorText:sx};const ox=Tt,ax=Ct,lx=Jt,cx=e=>{let t;for(const n of e){let r=0;if(ox.isA(n)&&(r=1),ax.isA(n)&&(r=2),lx.isA(n)&&(r=3),t&&r!==t)return!1;t=r}return!0};var la=cx;const fx=e=>e*.017453292519943295;var ux=fx;const dx=(e,t)=>e-t;var ib=dx;const hx=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}e.splice(r,0,t)};var mx=hx;const{TAU:np}=$t,px=(e,t,n)=>{const r=t>0?e*np/t:0,s=n>0?np/n:0;return Math.ceil(Math.max(r,s,4))};var gx=px;const vx=e=>e*57.29577951308232;var bx=vx,ob={areAllShapesTheSameType:la,degToRad:ux,flatten:yt,fnNumberSort:ib,insertSorted:mx,radiusToSegments:gx,radToDeg:bx};const rp=Rt,_x=Tt,yx=(e,t)=>{if(t.vertices.length<4)return null;const n=[],r=t.vertices.filter((o,a)=>o[2]>0?(n.push(a),!0):!1);if(r.length!==2)throw new Error("Assertion failed: fromFakePolygon: not enough points found");const s=r.map(o=>{const a=Math.round(o[0]/e)*e+0,l=Math.round(o[1]/e)*e+0;return rp.fromValues(a,l)});if(rp.equals(s[0],s[1]))return null;const i=n[1]-n[0];if(i===1||i===3)i===1&&s.reverse();else throw new Error("Assertion failed: fromFakePolygon: unknown index ordering");return s},Ax=(e,t)=>{const n=t.map(r=>yx(e,r)).filter(r=>r!==null);return _x.create(n)};var wd=Ax;const Ss=lt,Ex=Tt,Sx=Ct,wx=Ut,Tx=(e,t,n)=>{const r=[Ss.fromVec2(Ss.create(),n[0],e),Ss.fromVec2(Ss.create(),n[1],e),Ss.fromVec2(Ss.create(),n[1],t),Ss.fromVec2(Ss.create(),n[0],t)];return wx.create(r)},Cx=(e,t)=>{const r=Ex.toSides(t).map(i=>Tx(e.z0,e.z1,i));return Sx.create(r)};var Td=Cx;const sp=tn,Px=Rt,kn=lt,ai=function(e,t){arguments.length<2&&(t=kn.orthogonal(kn.create(),e)),this.v=kn.normalize(kn.create(),kn.cross(kn.create(),e,t)),this.u=kn.cross(kn.create(),this.v,e),this.plane=e,this.planeorigin=kn.scale(kn.create(),e,e[3])};ai.GetCartesian=function(e,t){const n=e+"/"+t;let r,s;if(n==="X/Y")r=[0,0,1],s=[1,0,0];else if(n==="Y/-X")r=[0,0,1],s=[0,1,0];else if(n==="-X/-Y")r=[0,0,1],s=[-1,0,0];else if(n==="-Y/X")r=[0,0,1],s=[0,-1,0];else if(n==="-X/Y")r=[0,0,-1],s=[-1,0,0];else if(n==="-Y/-X")r=[0,0,-1],s=[0,-1,0];else if(n==="X/-Y")r=[0,0,-1],s=[1,0,0];else if(n==="Y/X")r=[0,0,-1],s=[0,1,0];else if(n==="X/Z")r=[0,-1,0],s=[1,0,0];else if(n==="Z/-X")r=[0,-1,0],s=[0,0,1];else if(n==="-X/-Z")r=[0,-1,0],s=[-1,0,0];else if(n==="-Z/X")r=[0,-1,0],s=[0,0,-1];else if(n==="-X/Z")r=[0,1,0],s=[-1,0,0];else if(n==="-Z/-X")r=[0,1,0],s=[0,0,-1];else if(n==="X/-Z")r=[0,1,0],s=[1,0,0];else if(n==="Z/X")r=[0,1,0],s=[0,0,1];else if(n==="Y/Z")r=[1,0,0],s=[0,1,0];else if(n==="Z/-Y")r=[1,0,0],s=[0,0,1];else if(n==="-Y/-Z")r=[1,0,0],s=[0,-1,0];else if(n==="-Z/Y")r=[1,0,0],s=[0,0,-1];else if(n==="-Y/Z")r=[-1,0,0],s=[0,-1,0];else if(n==="-Z/-Y")r=[-1,0,0],s=[0,0,-1];else if(n==="Y/-Z")r=[-1,0,0],s=[0,1,0];else if(n==="Z/Y")r=[-1,0,0],s=[0,0,1];else throw new Error("OrthoNormalBasis.GetCartesian: invalid combination of axis identifiers. Should pass two string arguments from [X,Y,Z,-X,-Y,-Z], being two different axes.");return new ai(new Plane(new Vector3D(r),0),new Vector3D(s))};ai.Z0Plane=function(){const e=new Plane(new Vector3D([0,0,1]),0);return new ai(e,new Vector3D([1,0,0]))};ai.prototype={getProjectionMatrix:function(){return sp.fromValues(this.u[0],this.v[0],this.plane[0],0,this.u[1],this.v[1],this.plane[1],0,this.u[2],this.v[2],this.plane[2],0,0,0,-this.plane[3],1)},getInverseProjectionMatrix:function(){const e=kn.scale(kn.create(),this.plane,this.plane[3]);return sp.fromValues(this.u[0],this.u[1],this.u[2],0,this.v[0],this.v[1],this.v[2],0,this.plane[0],this.plane[1],this.plane[2],0,e[0],e[1],e[2],1)},to2D:function(e){return Px.fromValues(kn.dot(e,this.u),kn.dot(e,this.v))},to3D:function(e){const t=kn.scale(kn.create(),this.u,e[0]),n=kn.scale(kn.create(),this.v,e[1]),r=kn.add(t,t,this.planeorigin);return kn.add(n,n,r)},line3Dto2D:function(e){const t=e.point,n=e.direction.plus(t),r=this.to2D(t),s=this.to2D(n);return Line2D.fromPoints(r,s)},line2Dto3D:function(e){const t=e.origin(),n=e.direction().plus(t),r=this.to3D(t),s=this.to3D(n);return Line3D.fromPoints(r,s)},transform:function(e){const t=this.plane.transform(e),n=this.u.transform(e),r=new Vector3D(0,0,0).transform(e),s=n.minus(r);return new ai(t,s)}};var Lx=ai;const{EPS:Qr}=$t,ws=vd,Pr=Rt,Ox=Lx,Gi=E2,{insertSorted:Rx,fnNumberSort:Mx}=ob,ip=Ut,Ix=e=>{if(e.length<2)return e;const t=[],n=e.length,r=ip.plane(e[0]),s=new Ox(r),i=[],o=[],a=new Map,l=new Map,c=new Map,f=10/Qr;for(let g=0;g<n;g++){const m=e[g];let p=[],v=m.vertices.length,b=-1;if(v>0){let _,E;for(let S=0;S<v;S++){let w=s.to2D(m.vertices[S]);const A=Math.floor(w[1]*f);let L;c.has(A)?L=c.get(A):c.has(A+1)?L=c.get(A+1):c.has(A-1)?L=c.get(A-1):(L=w[1],c.set(A,w[1])),w=Pr.fromValues(w[0],L),p.push(w);const $=w[1];(S===0||$<_)&&(_=$,b=S),(S===0||$>E)&&(E=$);let G=l.get($);G||(G={},l.set($,G)),G[g]=!0}if(_>=E)p=[],v=0,b=-1;else{let S=a.get(_);S||(S=[],a.set(_,S)),S.push(g)}}p.reverse(),b=v-b-1,i.push(p),o.push(b)}const u=[];l.forEach((g,m)=>u.push(m)),u.sort(Mx);let h=[],d=[];for(let g=0;g<u.length;g++){const m=[],p=u[g],v=l.get(p);for(let _=0;_<h.length;++_){const E=h[_],S=E.polygonindex;if(v[S]){const w=i[S],A=w.length;let L=E.leftvertexindex,$=E.rightvertexindex;for(;;){let k=L+1;if(k>=A&&(k=0),w[k][1]!==p)break;L=k}let G=$-1;if(G<0&&(G=A-1),w[G][1]===p&&($=G),L!==E.leftvertexindex&&L===$)h.splice(_,1),--_;else{E.leftvertexindex=L,E.rightvertexindex=$,E.topleft=w[L],E.topright=w[$];let k=L+1;k>=A&&(k=0),E.bottomleft=w[k];let se=$-1;se<0&&(se=A-1),E.bottomright=w[se]}}}let b;if(g>=u.length-1)h=[],b=null;else{b=Number(u[g+1]);const _=.5*(p+b),E=a.get(p);for(const S in E){const w=E[S],A=i[w],L=A.length,$=o[w];let G=$;for(;;){let Oe=G+1;if(Oe>=L&&(Oe=0),A[Oe][1]!==p||Oe===$)break;G=Oe}let k=$;for(;;){let Oe=k-1;if(Oe<0&&(Oe=L-1),A[Oe][1]!==p||Oe===G)break;k=Oe}let se=G+1;se>=L&&(se=0);let V=k-1;V<0&&(V=L-1);const j={polygonindex:w,leftvertexindex:G,rightvertexindex:k,topleft:A[G],topright:A[k],bottomleft:A[se],bottomright:A[V]};Rx(h,j,(Oe,ne)=>{const U=Gi(Oe.topleft,Oe.bottomleft,_),fe=Gi(ne.topleft,ne.bottomleft,_);return U>fe?1:U<fe?-1:0})}}for(const _ in h){const E=h[_];let S=Gi(E.topleft,E.bottomleft,p);const w=Pr.fromValues(S,p);S=Gi(E.topright,E.bottomright,p);const A=Pr.fromValues(S,p);S=Gi(E.topleft,E.bottomleft,b);const L=Pr.fromValues(S,b);S=Gi(E.topright,E.bottomright,b);const $=Pr.fromValues(S,b),G={topleft:w,topright:A,bottomleft:L,bottomright:$,leftline:ws.fromPoints(ws.create(),w,L),rightline:ws.fromPoints(ws.create(),$,A)};if(m.length>0){const k=m[m.length-1],se=Pr.distance(G.topleft,k.topright),V=Pr.distance(G.bottomleft,k.bottomright);se<Qr&&V<Qr&&(G.topleft=k.topleft,G.leftline=k.leftline,G.bottomleft=k.bottomleft,m.splice(m.length-1,1))}m.push(G)}if(g>0){const _=new Set,E=new Set;for(let S=0;S<m.length;S++){const w=m[S];for(let A=0;A<d.length;A++)if(!E.has(A)){const L=d[A];if(Pr.distance(L.bottomleft,w.topleft)<Qr&&Pr.distance(L.bottomright,w.topright)<Qr){E.add(A);const $=ws.direction(w.leftline),G=ws.direction(L.leftline),k=$[0]-G[0],se=ws.direction(w.rightline),V=ws.direction(L.rightline),j=se[0]-V[0],Oe=Math.abs(k)<Qr,ne=Math.abs(j)<Qr,U=Oe||k>=0,fe=ne||j>=0;U&&fe&&(w.outpolygon=L.outpolygon,w.leftlinecontinues=Oe,w.rightlinecontinues=ne,_.add(A));break}}}for(let S=0;S<d.length;S++)if(!_.has(S)){const w=d[S];w.outpolygon.rightpoints.push(w.bottomright),Pr.distance(w.bottomright,w.bottomleft)>Qr&&w.outpolygon.leftpoints.push(w.bottomleft),w.outpolygon.leftpoints.reverse();const L=w.outpolygon.rightpoints.concat(w.outpolygon.leftpoints).map(G=>s.to3D(G)),$=ip.fromPointsAndPlane(L,r);$.vertices.length&&t.push($)}}for(let _=0;_<m.length;_++){const E=m[_];E.outpolygon?(E.leftlinecontinues||E.outpolygon.leftpoints.push(E.topleft),E.rightlinecontinues||E.outpolygon.rightpoints.push(E.topright)):(E.outpolygon={leftpoints:[],rightpoints:[]},E.outpolygon.leftpoints.push(E.topleft),Pr.distance(E.topleft,E.topright)>Qr&&E.outpolygon.rightpoints.push(E.topright))}d=m}return t};var Dx=Ix;const op=Ct,Fx=Ut,{NEPS:kx}=$t,xx=Dx,Bx=e=>{if(e.isRetesselated)return e;const t=op.toPolygons(e).map((i,o)=>({vertices:i.vertices,plane:Fx.plane(i),index:o})),n=Gx(t),r=[];n.forEach(i=>{if(Array.isArray(i)){const o=xx(i);r.push(...o)}else r.push(i)});const s=op.create(r);return s.isRetesselated=!0,s},Gx=e=>{let t=[e];const n=[];for(let s=3;s>=0;s--){const i=[],o=s===3?15e-9:kx;t.forEach(a=>{a.sort(Nx(s,o));let l=0;for(let c=1;c<a.length;c++)a[c].plane[s]-a[l].plane[s]>o&&(c-l===1?n.push(a[l]):i.push(a.slice(l,c)),l=c);a.length-l===1?n.push(a[l]):i.push(a.slice(l))}),t=i}const r=[];return t.forEach(s=>{s[0]&&(r[s[0].index]=s)}),n.forEach(s=>{r[s.index]=s}),r},Nx=(e,t)=>(n,r)=>n.plane[e]-r.plane[e]>t?1:r.plane[e]-n.plane[e]>t?-1:0;var ca=Bx;const{EPS:Ni}=$t,ap=ci,Vx=(e,t)=>{if(e.polygons.length===0||t.polygons.length===0)return!1;const n=ap(e),r=n[0],s=n[1],i=ap(t),o=i[0],a=i[1];return!(o[0]-s[0]>Ni||r[0]-a[0]>Ni||o[1]-s[1]>Ni||r[1]-a[1]>Ni||o[2]-s[2]>Ni||r[2]-a[2]>Ni)};var Cd=Vx;const lp=zr,$x=Ut;let Ux=class Wu{constructor(t){this.plane=null,this.front=null,this.back=null,this.polygontreenodes=[],this.parent=t}invert(){const t=[this];let n;for(let r=0;r<t.length;r++){n=t[r],n.plane&&(n.plane=lp.flip(lp.create(),n.plane)),n.front&&t.push(n.front),n.back&&t.push(n.back);const s=n.front;n.front=n.back,n.back=s}}clipPolygons(t,n){let r={node:this,polygontreenodes:t},s;const i=[];do{if(s=r.node,t=r.polygontreenodes,s.plane){const o=s.plane,a=[],l=[],c=n?a:l,f=t.length;for(let h=0;h<f;h++){const d=t[h];d.isRemoved()||d.splitByPlane(o,c,a,l,a)}s.front&&l.length>0&&i.push({node:s.front,polygontreenodes:l});const u=a.length;if(s.back&&u>0)i.push({node:s.back,polygontreenodes:a});else for(let h=0;h<u;h++)a[h].remove()}r=i.pop()}while(r!==void 0)}clipTo(t,n){let r=this;const s=[];do r.polygontreenodes.length>0&&t.rootnode.clipPolygons(r.polygontreenodes,n),r.front&&s.push(r.front),r.back&&s.push(r.back),r=s.pop();while(r!==void 0)}addPolygonTreeNodes(t){let n={node:this,polygontreenodes:t};const r=[];do{const s=n.node,i=n.polygontreenodes;if(i.length===0){n=r.pop();continue}if(!s.plane){let c=0;c=Math.floor(i.length/2);const f=i[c].getPolygon();s.plane=$x.plane(f)}const o=[],a=[],l=i.length;for(let c=0;c<l;++c)i[c].splitByPlane(s.plane,s.polygontreenodes,a,o,a);o.length>0&&(s.front||(s.front=new Wu(s)),l===o.length&&a.length===0?s.front.polygontreenodes=o:r.push({node:s.front,polygontreenodes:o})),a.length>0&&(s.back||(s.back=new Wu(s)),l===a.length&&o.length===0?s.back.polygontreenodes=a:r.push({node:s.back,polygontreenodes:a})),n=r.pop()}while(n!==void 0)}};var Hx=Ux;const Vi=lt,zx=(e,t,n)=>{const r=Vi.subtract(Vi.create(),n,t);let s=(e[3]-Vi.dot(e,t))/Vi.dot(e,r);return Number.isNaN(s)&&(s=0),s>1&&(s=1),s<0&&(s=0),Vi.scale(r,r,s),Vi.add(r,t,r),r};var jx=zx;const{EPS:dl}=$t,qx=zr,hl=lt,du=Ut,Xx=jx,Wx=(e,t)=>{const n={type:null,front:null,back:null},r=t.vertices,s=r.length,i=du.plane(t);if(qx.equals(i,e))n.type=0;else{let o=!1,a=!1;const l=[],c=-dl;for(let f=0;f<s;f++){const u=hl.dot(e,r[f])-e[3],h=u<c;l.push(h),u>dl&&(o=!0),u<c&&(a=!0)}if(!o&&!a){const f=hl.dot(e,i);n.type=f>=0?0:1}else if(!a)n.type=2;else if(!o)n.type=3;else{n.type=4;const f=[],u=[];let h=l[0];for(let g=0;g<s;g++){const m=r[g];let p=g+1;p>=s&&(p=0);const v=l[p];if(h===v)h?u.push(m):f.push(m);else{const b=r[p],_=Xx(e,m,b);h?(u.push(m),u.push(_),f.push(_)):(f.push(m),f.push(_),u.push(_))}h=v}const d=dl*dl;if(u.length>=3){let g=u[u.length-1];for(let m=0;m<u.length;m++){const p=u[m];hl.squaredDistance(p,g)<d&&(u.splice(m,1),m--),g=p}}if(f.length>=3){let g=f[f.length-1];for(let m=0;m<f.length;m++){const p=f[m];hl.squaredDistance(p,g)<d&&(f.splice(m,1),m--),g=p}}f.length>=3&&(n.front=du.fromPointsAndPlane(f,i)),u.length>=3&&(n.back=du.fromPointsAndPlane(u,i))}}return n};var Yx=Wx;const{EPS:Zx}=$t,Kx=lt,cp=Ut,Qx=Yx;let Jx=class ab{constructor(t,n){this.parent=t,this.children=[],this.polygon=n,this.removed=!1}addPolygons(t){if(!this.isRootNode())throw new Error("Assertion failed");const n=this;t.forEach(r=>{n.addChild(r)})}remove(){if(!this.removed){this.removed=!0,this.polygon=null;const t=this.parent.children,n=t.indexOf(this);if(n<0)throw new Error("Assertion failed");t.splice(n,1),this.parent.recursivelyInvalidatePolygon()}}isRemoved(){return this.removed}isRootNode(){return!this.parent}invert(){if(!this.isRootNode())throw new Error("Assertion failed");this.invertSub()}getPolygon(){if(!this.polygon)throw new Error("Assertion failed");return this.polygon}getPolygons(t){let n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s)for(n=r[s],i=0,o=n.length;i<o;i++)a=n[i],a.polygon?t.push(a.polygon):a.children.length>0&&r.push(a.children)}splitByPlane(t,n,r,s,i){if(this.children.length){const o=[this.children];let a,l,c,f,u;for(a=0;a<o.length;a++)for(u=o[a],l=0,c=u.length;l<c;l++)f=u[l],f.children.length>0?o.push(f.children):f._splitByPlane(t,n,r,s,i)}else this._splitByPlane(t,n,r,s,i)}_splitByPlane(t,n,r,s,i){const o=this.polygon;if(o){const a=cp.measureBoundingSphere(o),l=a[3]+Zx,c=a,f=Kx.dot(t,c)-t[3];if(f>l)s.push(this);else if(f<-l)i.push(this);else{const u=Qx(t,o);switch(u.type){case 0:n.push(this);break;case 1:r.push(this);break;case 2:s.push(this);break;case 3:i.push(this);break;case 4:if(u.front){const h=this.addChild(u.front);s.push(h)}if(u.back){const h=this.addChild(u.back);i.push(h)}break}}}}addChild(t){const n=new ab(this,t);return this.children.push(n),n}invertSub(){let t=[this];const n=[t];let r,s,i,o;for(r=0;r<n.length;r++)for(t=n[r],s=0,i=t.length;s<i;s++)o=t[s],o.polygon&&(o.polygon=cp.invert(o.polygon)),o.children.length>0&&n.push(o.children)}recursivelyInvalidatePolygon(){this.polygon=null,this.parent&&this.parent.recursivelyInvalidatePolygon()}clear(){let t=[this];const n=[t];for(let r=0;r<n.length;++r){t=n[r];const s=t.length;for(let i=0;i<s;i++){const o=t[i];o.polygon&&(o.polygon=null),o.parent&&(o.parent=null),o.children.length>0&&n.push(o.children),o.children=[]}}}toString(){let t="",n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s){n=r[s];const l=" ".repeat(s);for(i=0,o=n.length;i<o;i++)a=n[i],t+=`${l}PolygonTreeNode (${a.isRootNode()}): ${a.children.length}`,a.polygon?t+=`
 ${l}polygon: ${a.polygon.vertices}
`:t+=`
`,a.children.length>0&&r.push(a.children)}return t}};var eB=Jx;const tB=Hx,nB=eB;let rB=class{constructor(t){this.polygonTree=new nB,this.rootnode=new tB(null),t&&this.addPolygons(t)}invert(){this.polygonTree.invert(),this.rootnode.invert()}clipTo(t,n=!1){this.rootnode.clipTo(t,n)}allPolygons(){const t=[];return this.polygonTree.getPolygons(t),t}addPolygons(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=this.polygonTree.addChild(t[r]);this.rootnode.addPolygonTreeNodes(n)}clear(){this.polygonTree.clear()}toString(){return"Tree: "+this.polygonTree.toString("")}};var sB=rB,Pd={Tree:sB};const ml=Ct,iB=Cd,{Tree:fp}=Pd,oB=(e,t)=>{if(!iB(e,t))return ml.create();const n=new fp(ml.toPolygons(e)),r=new fp(ml.toPolygons(t));n.invert(),r.clipTo(n),r.invert(),n.clipTo(r),r.clipTo(n),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return ml.create(s)};var aB=oB;const lB=yt,cB=ca,fB=aB,uB=(...e)=>{e=lB(e);let t=e.shift();return e.forEach(n=>{t=fB(t,n)}),t=cB(t),t};var lb=uB;const dB=yt,hB=Ct,mB=Ls,pB=wd,gB=Td,vB=lb,bB=(...e)=>{e=dB(e);const t=e.map(s=>gB({z0:-1,z1:1},s)),n=vB(t),r=mB(n);return pB(r,hB.toPolygons(n))};var _B=bB;const yB=yt,AB=la,EB=Tt,SB=Ct,wB=_B,TB=lb,CB=(...e)=>{if(e=yB(e),e.length===0)throw new Error("wrong number of arguments");if(!AB(e))throw new Error("only intersect of the types are supported");const t=e[0];return EB.isA(t)?wB(e):SB.isA(t)?TB(e):t};var PB=CB;const hu=lt,LB=Ls,up=Ct,OB=e=>e.sort((t,n)=>t-n).filter((t,n,r)=>!n||t!==r[n-1]),RB=(e,t,n)=>{const r=`${t}`,s=e.get(r);s===void 0?e.set(r,[n]):s.push(n)},MB=(e,t)=>{const n=`${t}`;return e.get(n)},IB=e=>{const t=LB(e),n=up.toPolygons(e),r=n.length,s=new Map,i=hu.create();n.forEach((f,u)=>{f.vertices.forEach(h=>{RB(s,hu.snap(i,h,t),u)})});const o=n.map(f=>{let u=[];return f.vertices.forEach(h=>{u=u.concat(MB(s,hu.snap(i,h,t)))}),{e:1,d:OB(u)}});s.clear();let a=0;const l=o.length;for(let f=0;f<l;f++){const u=o[f];if(u.e>0){const h=new Array(r);h[f]=!0;do a=0,h.forEach((d,g)=>{const m=o[g];if(m.e>0){m.e=-1;for(let p=0;p<m.d.length;p++)h[m.d[p]]=!0;a++}});while(a>0);u.indexes=h}}const c=[];for(let f=0;f<l;f++)if(o[f].indexes){const u=[];o[f].indexes.forEach((h,d)=>u.push(n[d])),c.push(up.create(u))}return c};var DB=IB;const FB=yt,kB=Ct,xB=DB,BB=(...e)=>{if(e=FB(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>kB.isA(n)?xB(n):n);return t.length===1?t[0]:t};var GB=BB;const pl=Ct,NB=Cd,{Tree:dp}=Pd,VB=(e,t)=>{if(!NB(e,t))return pl.clone(e);const n=new dp(pl.toPolygons(e)),r=new dp(pl.toPolygons(t));n.invert(),n.clipTo(r),r.clipTo(n,!0),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return pl.create(s)};var $B=VB;const UB=yt,HB=ca,zB=$B,jB=(...e)=>{e=UB(e);let t=e.shift();return e.forEach(n=>{t=zB(t,n)}),t=HB(t),t};var cb=jB;const qB=yt,XB=Ct,WB=Ls,YB=wd,ZB=Td,KB=cb,QB=(...e)=>{e=qB(e);const t=e.map(s=>ZB({z0:-1,z1:1},s)),n=KB(t),r=WB(n);return YB(r,XB.toPolygons(n))};var JB=QB;const eG=yt,tG=la,nG=Tt,rG=Ct,sG=JB,iG=cb,oG=(...e)=>{if(e=eG(e),e.length===0)throw new Error("wrong number of arguments");if(!tG(e))throw new Error("only subtract of the types are supported");const t=e[0];return nG.isA(t)?sG(e):rG.isA(t)?iG(e):t};var aG=oG;const Wi=Ct,lG=Cd,{Tree:hp}=Pd,cG=(e,t)=>{if(!lG(e,t))return fG(e,t);const n=new hp(Wi.toPolygons(e)),r=new hp(Wi.toPolygons(t));n.clipTo(r,!1),r.clipTo(n),r.invert(),r.clipTo(n),r.invert();const s=n.allPolygons().concat(r.allPolygons());return Wi.create(s)},fG=(e,t)=>{let n=Wi.toPolygons(e);return n=n.concat(Wi.toPolygons(t)),Wi.create(n)};var fb=cG;const uG=yt,dG=ca,hG=fb,mG=(...e)=>{e=uG(e);let t;for(t=1;t<e.length;t+=2)e.push(hG(e[t-1],e[t]));let n=e[t-1];return n=dG(n),n};var ub=mG;const pG=yt,gG=Ct,vG=Ls,bG=wd,_G=Td,yG=ub,AG=(...e)=>{e=pG(e);const t=e.map(s=>_G({z0:-1,z1:1},s)),n=yG(t),r=vG(n);return bG(r,gG.toPolygons(n))};var db=AG;const EG=yt,SG=la,wG=Tt,TG=Ct,CG=db,PG=ub,LG=(...e)=>{if(e=EG(e),e.length===0)throw new Error("wrong number of arguments");if(!SG(e))throw new Error("only unions of the same type are supported");const t=e[0];return wG.isA(t)?CG(e):TG.isA(t)?PG(e):t};var Ld=LG,OG={intersect:PB,scission:GB,subtract:aG,union:Ld};const{EPS:RG,TAU:MG}=$t,mp=S2,xo=vd,bn=Rt,IG=Wl,DG=(e,t)=>{const n={delta:1,corners:"edge",closed:!1,segments:16};let{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(Math.abs(r)<RG)return t;let a=e.closed?IG(t):1;a===0&&(a=1);const l=a>0&&r>=0||a<0&&r<0;r=Math.abs(r);let c=null,f=[];const u=[],h=bn.create(),d=t.length;for(let g=0;g<d;g++){const m=(g+1)%d,p=t[g],v=t[m];l?bn.subtract(h,p,v):bn.subtract(h,v,p),bn.normal(h,h),bn.normalize(h,h),bn.scale(h,h,r);const b=bn.add(bn.create(),p,h),_=bn.add(bn.create(),v,h),E=[b,_];if(c!=null&&(i||!i&&m!==0)){const S=mp(c[0],c[1],E[0],E[1]);S?(f.pop(),E[0]=S):u.push({c:p,s0:c,s1:E})}c=[b,_],!(m===0&&!i)&&(f.push(E[0]),f.push(E[1]))}if(i&&c!=null){const g=f[0],m=f[1],p=mp(c[0],c[1],g,m);if(p)f[0]=p,f.pop();else{const v=t[0],b=[g,m];u.push({c:v,s0:c,s1:b})}}if(s==="edge"){const g=new Map;f.forEach((v,b)=>g.set(v,b));const m=xo.create(),p=xo.create();u.forEach(v=>{xo.fromPoints(m,v.s0[0],v.s0[1]),xo.fromPoints(p,v.s1[0],v.s1[1]);const b=xo.intersectPointOfLines(m,p);if(Number.isFinite(b[0])&&Number.isFinite(b[1])){const _=v.s0[1],E=g.get(_);f[E]=b,f[(E+1)%f.length]=void 0}else{const _=v.s1[0],E=g.get(_);f[E]=void 0}}),f=f.filter(v=>v!==void 0)}if(s==="round"){let g=Math.floor(o/4);const m=bn.create();u.forEach(p=>{let v=bn.angle(bn.subtract(m,p.s1[0],p.c));if(v-=bn.angle(bn.subtract(m,p.s0[1],p.c)),l&&v<0&&(v=v+Math.PI,v<0&&(v=v+Math.PI)),!l&&v>0&&(v=v-Math.PI,v>0&&(v=v-Math.PI)),v!==0){g=Math.floor(o*(Math.abs(v)/MG));const b=v/g,_=bn.angle(bn.subtract(m,p.s0[1],p.c)),E=[];for(let S=1;S<g;S++){const w=_+b*S,A=bn.fromAngleRadians(bn.create(),w);bn.scale(A,A,r),bn.add(A,A,p.c),E.push(A)}if(E.length>0){const S=p.s0[1];let w=f.findIndex(A=>bn.equals(S,A));w=(w+1)%f.length,f.splice(w,0,...E)}}else{const b=p.s1[0],_=f.findIndex(E=>bn.equals(b,E));f.splice(_,1)}})}return f};var tc=DG;const gl=Tt,FG=tc,kG=(e,t)=>{const n={delta:1,corners:"edge",segments:16},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const l=gl.toOutlines(t).map(c=>(e={delta:r,corners:s,closed:!0,segments:i},FG(e,c))).reduce((c,f)=>c.concat(gl.toSides(gl.fromPoints(f))),[]);return gl.create(l)};var xG=kG;const pp=tn,BG=lt,GG=Ct,Bo=Ut,NG=(e,t)=>{BG.dot(Bo.plane(t),e)>0&&(t=Bo.invert(t));const r=[t],s=Bo.transform(pp.fromTranslation(pp.create(),e),t),i=t.vertices.length;for(let o=0;o<i;o++){const a=o<i-1?o+1:0,l=Bo.create([t.vertices[o],s.vertices[o],s.vertices[a],t.vertices[a]]);r.push(l)}return r.push(Bo.invert(s)),GG.create(r)};var VG=NG;const{EPS:$G,TAU:mu}=$t,gp=tn,nn=lt,UG=ib,pu=Ct,Ks=Ut,HG=X2,zG=ca,gu=fb,jG=VG,qG=(e,t,n)=>{const r=t.toString();if(e.has(r))e.get(r)[1].push(n);else{const s=[t,[n]];e.set(r,s)}},XG=(e,t,n)=>{const r=t[0].toString(),s=t[1].toString(),i=r<s?`${r},${s}`:`${s},${r}`;if(e.has(i))e.get(i)[1].push(n);else{const o=[t,[n]];e.set(i,o)}},vu=(e,t)=>{e.findIndex(r=>r===t)<0&&e.push(t)},WG=(e,t)=>{const n={delta:1,segments:12},{delta:r,segments:s}=Object.assign({},n,e);let i=pu.create();const o=new Map,a=new Map,l=nn.create(),c=nn.create();return pu.toPolygons(t).forEach((u,h)=>{const d=nn.scale(nn.create(),Ks.plane(u),2*r),g=Ks.transform(gp.fromTranslation(gp.create(),nn.scale(nn.create(),d,-.5)),u),m=jG(d,g);i=gu(i,m);const p=u.vertices;for(let v=0;v<p.length;v++){qG(o,p[v],Ks.plane(u));const b=(v+1)%p.length,_=[p[v],p[b]];XG(a,_,Ks.plane(u))}}),a.forEach(u=>{const h=u[0],d=u[1],g=h[0],m=h[1],p=nn.subtract(nn.create(),m,g);nn.normalize(p,p);const v=d[0],b=nn.cross(nn.create(),v,p);let _=[];for(let k=0;k<s;k++)vu(_,k*mu/s);for(let k=0,se=d.length;k<se;k++){const V=d[k],j=nn.dot(b,V),Oe=nn.dot(v,V);let ne=Math.atan2(j,Oe);ne<0&&(ne+=mu),vu(_,ne),ne=Math.atan2(-j,-Oe),ne<0&&(ne+=mu),vu(_,ne)}_=_.sort(UG);const E=_.length;let S,w;const A=[],L=[],$=[];for(let k=-1;k<E;k++){const se=_[k<0?k+E:k],V=Math.sin(se),j=Math.cos(se);nn.scale(l,v,j*r),nn.scale(c,b,V*r),nn.add(l,l,c);const Oe=nn.add(nn.create(),g,l),ne=nn.add(nn.create(),m,l);let U=!1;if(k>=0&&nn.distance(Oe,S)<$G&&(U=!0),!U){if(k>=0){A.push(Oe),L.push(ne);const fe=[w,ne,Oe,S],ee=Ks.create(fe);$.push(ee)}S=Oe,w=ne}}L.reverse(),$.push(Ks.create(A)),$.push(Ks.create(L));const G=pu.create($);i=gu(i,G)}),o.forEach(u=>{const h=u[0],d=u[1],g=d[0];let m=null,p=0;for(let E=1;E<d.length;E++){const S=d[E],w=nn.cross(l,g,S),A=nn.length(w);A>.05&&A>p&&(p=A,m=S)}m||(m=nn.orthogonal(l,g));const v=nn.cross(l,g,m);nn.normalize(v,v);const b=nn.cross(c,v,g),_=HG({center:[h[0],h[1],h[2]],radius:r,segments:s,axes:[g,v,b]});i=gu(i,_)}),zG(i)};var YG=WG;const ZG=Ct,KG=Ld,QG=YG,JG=(e,t)=>{const n={delta:1,corners:"round",segments:12},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(s!=="round")throw new Error('corners must be "round" for 3D geometries');if(ZG.toPolygons(t).length===0)throw new Error("the given geometry cannot be empty");e={delta:r,corners:s,segments:i};const a=QG(e,t);return KG(t,a)};var eN=JG;const tN=Wl,or=Rt,zi=Tt,qo=Jt,vp=tc,nN=e=>{let{external:t,internal:n}=e;tN(t)<0?t=t.reverse():n=n.reverse();const r=qo.fromPoints({closed:!0},t),s=qo.fromPoints({closed:!0},n),i=zi.toSides(zi.fromPoints(qo.toPoints(r))),o=zi.toSides(zi.fromPoints(qo.toPoints(s)));return i.push(...o),zi.create(i)},rN=(e,t,n,r)=>{const{points:s,external:i,internal:o}=e,a=Math.floor(t/2),l=[],c=[];if(n==="round"&&a>0){const u=Math.PI/a,h=s[s.length-1],d=or.angle(or.subtract(or.create(),i[i.length-1],h)),g=s[0],m=or.angle(or.subtract(or.create(),o[0],g));for(let p=1;p<a;p++){let v=d+u*p,b=or.fromAngleRadians(or.create(),v);or.scale(b,b,r),or.add(b,b,h),l.push(b),v=m+u*p,b=or.fromAngleRadians(or.create(),v),or.scale(b,b,r),or.add(b,b,g),c.push(b)}}const f=[];return f.push(...i,...l,...o.reverse(),...c),zi.fromPoints(f)},sN=(e,t)=>{e=Object.assign({},{delta:1,corners:"edge",segments:16},e);const{delta:r,corners:s,segments:i}=e;if(r<=0)throw new Error("the given delta must be positive for paths");if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=t.isClosed,a=qo.toPoints(t);if(a.length===0)throw new Error("the given geometry cannot be empty");const l={points:a,external:vp({delta:r,corners:s,segments:i,closed:o},a),internal:vp({delta:-r,corners:s,segments:i,closed:o},a)};return t.isClosed?nN(l):rN(l,i,s,r)};var iN=sN;const oN=yt,aN=Tt,lN=Ct,cN=Jt,fN=xG,uN=eN,dN=iN,hN=(e,...t)=>{if(t=oN(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>cN.isA(r)?dN(e,r):aN.isA(r)?fN(e,r):lN.isA(r)?uN(e,r):r);return n.length===1?n[0]:n};var Od=hN;const vl=Tt,bp=dd,mN=tc,pN=(e,t)=>{const n={delta:1,corners:"edge",segments:0},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=vl.toOutlines(t),l=o.map(c=>(e={delta:o.reduce((h,d)=>h+bp.arePointsInside(c,bp.create(d)),0)%2===0?r:-r,corners:s,closed:!0,segments:i},mN(e,c))).reduce((c,f)=>c.concat(vl.toSides(vl.fromPoints(f))),[]);return vl.create(l)};var gN=pN;const _p=Jt,vN=tc,bN=(e,t)=>{const n={delta:1,corners:"edge",closed:t.isClosed,segments:16},{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');e={delta:r,corners:s,closed:i,segments:o};const a=vN(e,_p.toPoints(t));return _p.fromPoints({closed:i},a)};var _N=bN;const yN=yt,AN=Tt,EN=Jt,SN=gN,wN=_N,TN=(e,...t)=>{if(t=yN(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>EN.isA(r)?wN(e,r):AN.isA(r)?SN(e,r):r);return n.length===1?n[0]:n};var CN=TN,PN={expand:Od,offset:CN};const Go=tn,bu=lt,LN=Tt,_u=so,ON=Ql,RN=(e,t)=>{const n={offset:[0,0,1],twistAngle:0,twistSteps:12,repair:!0};let{offset:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(i<1)throw new Error("twistSteps must be 1 or more");s===0&&(i=1);const a=bu.clone(r),l=LN.toSides(t);if(l.length===0)throw new Error("the given geometry cannot be empty");const c=_u.fromSides(l);a[2]<0&&_u.reverse(c,c);const f=Go.create(),u=(h,d,g)=>{const m=d/i*s,p=bu.scale(bu.create(),a,d/i);return Go.multiply(f,Go.fromZRotation(f,m),Go.fromTranslation(Go.create(),p)),_u.transform(f,g)};return e={numberOfSlices:i+1,capStart:!0,capEnd:!0,repair:o,callback:u},ON(e,c)};var nc=RN;const MN=Tt,IN=Jt,DN=nc,FN=(e,t)=>{if(!t.isClosed)throw new Error("extruded path must be closed");const n=IN.toPoints(t),r=MN.fromPoints(n);return DN(e,r)};var kN=FN;const xN=yt,BN=Tt,GN=Jt,NN=nc,VN=kN,$N=(e,...t)=>{const n={height:1,twistAngle:0,twistSteps:1,repair:!0},{height:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(t=xN(t),t.length===0)throw new Error("wrong number of arguments");e={offset:[0,0,r],twistAngle:s,twistSteps:i,repair:o};const a=t.map(l=>GN.isA(l)?VN(e,l):BN.isA(l)?NN(e,l):l);return a.length===1?a[0]:a};var UN=$N;const HN=Jt,zN=Od,jN=nc,qN=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(e.delta=r,e.offset=[0,0,s],HN.toPoints(t).length===0)throw new Error("the given geometry cannot be empty");const o=zN(e,t);return jN(e,o)};var XN=qN;const{area:WN}=oa,yu=Tt,YN=Jt,ZN=Od,KN=nc,QN=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);e.delta=r,e.offset=[0,0,s];const i=yu.toOutlines(t);if(i.length===0)throw new Error("the given geometry cannot be empty");const a=i.map(c=>(WN(c)<0&&c.reverse(),ZN(e,YN.fromPoints({closed:!0},c)))).reduce((c,f)=>c.concat(yu.toSides(f)),[]),l=yu.create(a);return KN(e,l)};var JN=QN;const e9=yt,t9=Tt,n9=Jt,r9=XN,s9=JN,i9=(e,...t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(t=e9(t),t.length===0)throw new Error("wrong number of arguments");if(r<=0)throw new Error("size must be positive");if(s<=0)throw new Error("height must be positive");const i=t.map(o=>n9.isA(o)?r9(e,o):t9.isA(o)?s9(e,o):o);return i.length===1?i[0]:i};var o9=i9;const{TAU:No}=$t,Au=so,xr=tn,a9=Ql,l9=Tt,c9=(e,t)=>{const n={angle:No,startAngle:0,pitch:10,endOffset:0,segmentsPerRotation:32},{angle:r,endOffset:s,segmentsPerRotation:i,startAngle:o}=Object.assign({},n,e);let a;if(!e.pitch&&e.height?a=e.height/(r/No):a=e.pitch?e.pitch:n.pitch,i<3)throw new Error("The number of segments per rotation needs to be at least 3.");const c=l9.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(v=>v[0][0]>=0);let u=Au.fromSides(c);f.length===0&&(u=Au.reverse(u));const h=Math.round(i/No*Math.abs(r)),d=h>=2?h:2,g=xr.create();let m;const p=(v,b,_)=>{const E=o+r/d*b,S=s/d*b,w=(E-o)/No*a;return xr.multiply(g,xr.fromTranslation(xr.create(),[S,0,w*Math.sign(r)]),xr.fromXRotation(xr.create(),-No/4*Math.sign(r))),m=xr.create(),xr.multiply(m,xr.fromZRotation(xr.create(),E),g),Au.transform(m,_)};return a9({numberOfSlices:d+1,callback:p},u)};var f9=c9;const u9=yt,yp=gd,Eu=zr,Ap=tn,Ep=Tt,hb=Ct,$i=Ut,d9=Ls,h9=db,m9=(e,t)=>{const n=Eu.fromNormalAndPoint(Eu.create(),e.axis,e.origin);if(Number.isNaN(n[0])||Number.isNaN(n[1])||Number.isNaN(n[2])||Number.isNaN(n[3]))throw new Error("project: invalid axis or origin");const r=d9(t),s=r*r*Math.sqrt(3)/4;if(r===0)return Ep.create();const i=hb.toPolygons(t);let o=[];for(let l=0;l<i.length;l++){const c=i[l].vertices.map(h=>Eu.projectionOfPoint(n,h)),f=$i.create(c),u=$i.plane(f);yp(n,u)&&($i.measureArea(f)<s||o.push(f))}if(!yp(n,[0,0,1])){const l=Ap.fromVectorRotation(Ap.create(),n,[0,0,1]);o=o.map(c=>$i.transform(l,c))}o=o.sort((l,c)=>$i.measureArea(c)-$i.measureArea(l));const a=o.map(l=>Ep.fromPoints(l.vertices));return h9(a)},p9=(e,...t)=>{const n={axis:[0,0,1],origin:[0,0,0]},{axis:r,origin:s}=Object.assign({},n,e);if(t=u9(t),t.length===0)throw new Error("wrong number of arguments");e={axis:r,origin:s};const i=t.map(o=>hb.isA(o)?m9(e,o):o);return i.length===1?i[0]:i};var g9=p9,v9={extrudeFromSlices:Ql,extrudeLinear:UN,extrudeRectangular:o9,extrudeRotate:tb,extrudeHelical:f9,project:g9,slice:so};const Sp=Rt,b9=e=>{let t=Sp.fromValues(1/0,1/0);e.forEach(s=>{(s[1]<t[1]||s[1]===t[1]&&s[0]<t[0])&&(t=s)});const n=[];e.forEach(s=>{const i=y9(s[1]-t[1],s[0]-t[0]),o=Sp.squaredDistance(s,t);n.push({point:s,angle:i,distSq:o})}),n.sort((s,i)=>s.angle!==i.angle?s.angle-i.angle:s.distSq-i.distSq);const r=[];return n.forEach(s=>{let i=r.length;for(;i>1&&_9(r[i-2],r[i-1],s.point)<=Number.EPSILON;)r.pop(),i=r.length;r.push(s.point)}),r},_9=(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]),y9=(e,t)=>e===0&&t===0?-1/0:-t/e;var mb=b9;const wp=Tt,Tp=Ct,Cp=Jt,A9=e=>{const t=new Set,n=[],r=s=>{const i=s.toString();t.has(i)||(n.push(s),t.add(i))};return e.forEach(s=>{wp.isA(s)?wp.toPoints(s).forEach(r):Tp.isA(s)?Tp.toPoints(s).forEach(i=>i.forEach(r)):Cp.isA(s)&&Cp.toPoints(s).forEach(r)}),n};var Rd=A9;const E9=yt,S9=Jt,w9=mb,T9=Rd,C9=(...e)=>{e=E9(e);const t=T9(e),n=w9(t);return S9.fromPoints({closed:!0},n)};var P9=C9;const L9=yt,Pp=Tt,O9=mb,R9=Rd,M9=(...e)=>{e=L9(e);const t=R9(e),n=O9(t);return n.length<3?Pp.create():Pp.fromPoints(n)};var I9=M9;const D9=sa,Lp=$l,Op=$v,F9=(e,t,n)=>{const r=[],s=[],i=[];Lp(r,n,t),Lp(s,e,t);const o=Op(D9(i,s,r)),a=Op(r);if(a===0)throw Error("a and b are the same point");return o/a},k9=(e,t,n)=>Math.sqrt(F9(e,t,n));var x9=k9;const B9=sa,G9=od,Rp=$l,N9=(e,t,n,r)=>{const s=[0,0,0];return Rp(e,t,n),Rp(s,n,r),B9(e,e,s),G9(e,e)};var V9=N9;let $9=class{constructor(){this.head=null,this.tail=null}clear(){this.head=this.tail=null}insertBefore(t,n){n.prev=t.prev,n.next=t,n.prev?n.prev.next=n:this.head=n,t.prev=n}insertAfter(t,n){n.prev=t,n.next=t.next,n.next?n.next.prev=n:this.tail=n,t.next=n}add(t){this.head?this.tail.next=t:this.head=t,t.prev=this.tail,t.next=null,this.tail=t}addAll(t){for(this.head?this.tail.next=t:this.head=t,t.prev=this.tail;t.next;)t=t.next;this.tail=t}remove(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}removeChain(t,n){t.prev?t.prev.next=n.next:this.head=n.next,n.next?n.next.prev=t.prev:this.tail=t.prev}first(){return this.head}isEmpty(){return!this.head}};var U9=$9;let H9=class{constructor(t,n){this.point=t,this.index=n,this.next=null,this.prev=null,this.face=null}};var z9=H9;const j9=kv,q9=Vv;let X9=class{constructor(t,n){this.vertex=t,this.face=n,this.next=null,this.prev=null,this.opposite=null}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){return this.tail()?j9(this.tail().point,this.head().point):-1}lengthSquared(){return this.tail()?q9(this.tail().point,this.head().point):-1}setOpposite(t){this.opposite=t,t.opposite=this}};var W9=X9;const Su=Dv,Y9=Fv,Z9=sa,wu=Nl,K9=xv,Q9=od,bl=Nv,Tu=$l,Cu=W9,pb=0,J9=1,Yu=2;let eV=class gb{constructor(){this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=pb,this.edge=null,this.nVertices=0}getEdge(t){if(typeof t!="number")throw Error("requires a number");let n=this.edge;for(;t>0;)n=n.next,t-=1;for(;t<0;)n=n.prev,t+=1;return n}computeNormal(){const t=this.edge,n=t.next;let r=n.next;const s=Tu([],n.head().point,t.head().point),i=[],o=[];for(this.nVertices=2,this.normal=[0,0,0];r!==t;)Y9(o,s),Tu(s,r.head().point,t.head().point),Su(this.normal,this.normal,Z9(i,o,s)),r=r.next,this.nVertices+=1;this.area=K9(this.normal),this.normal=bl(this.normal,this.normal,1/this.area)}computeNormalMinArea(t){if(this.computeNormal(),this.area<t){let n,r=0,s=this.edge;do{const f=s.lengthSquared();f>r&&(n=s,r=f),s=s.next}while(s!==this.edge);const i=n.tail().point,o=n.head().point,a=Tu([],o,i),l=Math.sqrt(r);bl(a,a,1/l);const c=wu(this.normal,a);bl(a,a,-c),Su(this.normal,this.normal,a),Q9(this.normal,this.normal)}}computeCentroid(){this.centroid=[0,0,0];let t=this.edge;do Su(this.centroid,this.centroid,t.head().point),t=t.next;while(t!==this.edge);bl(this.centroid,this.centroid,1/this.nVertices)}computeNormalAndCentroid(t){typeof t<"u"?this.computeNormalMinArea(t):this.computeNormal(),this.computeCentroid(),this.offset=wu(this.normal,this.centroid)}distanceToPlane(t){return wu(this.normal,t)-this.offset}connectHalfEdges(t,n){let r;if(t.opposite.face===n.opposite.face){const s=n.opposite.face;let i;t===this.edge&&(this.edge=n),s.nVertices===3?(i=n.opposite.prev.opposite,s.mark=Yu,r=s):(i=n.opposite.next,s.edge===i.prev&&(s.edge=i),i.prev=i.prev.prev,i.prev.next=i),n.prev=t.prev,n.prev.next=n,n.setOpposite(i),s.computeNormalAndCentroid()}else t.next=n,n.prev=t;return r}mergeAdjacentFaces(t,n){const r=t.opposite,s=r.face;n.push(s),s.mark=Yu;let i=t.prev,o=t.next,a=r.prev,l=r.next;for(;i.opposite.face===s;)i=i.prev,l=l.next;for(;o.opposite.face===s;)o=o.next,a=a.prev;let c;for(c=l;c!==a.next;c=c.next)c.face=this;this.edge=o;let f;return f=this.connectHalfEdges(a,o),f&&n.push(f),f=this.connectHalfEdges(i,l),f&&n.push(f),this.computeNormalAndCentroid(),n}collectIndices(){const t=[];let n=this.edge;do t.push(n.head().index),n=n.next;while(n!==this.edge);return t}static createTriangle(t,n,r,s=0){const i=new gb,o=new Cu(t,i),a=new Cu(n,i),l=new Cu(r,i);return o.next=l.prev=a,a.next=o.prev=l,l.next=a.prev=o,i.edge=o,i.computeNormalAndCentroid(s),i}};var tV={VISIBLE:pb,NON_CONVEX:J9,DELETED:Yu,Face:eV};const Pu=Nl,nV=x9,rV=V9,Mp=U9,sV=z9,{Face:Jr,VISIBLE:Ui,NON_CONVEX:Ip,DELETED:iV}=tV,oV=1,Dp=2;let aV=class{constructor(t){if(!Array.isArray(t))throw TypeError("input is not a valid array");if(t.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=t.length,this.faces=[],this.newFaces=[],this.claimed=new Mp,this.unclaimed=new Mp,this.vertices=[];for(let n=0;n<t.length;n+=1)this.vertices.push(new sV(t[n],n));this.discardedFaces=[],this.vertexPointIndices=[]}addVertexToFace(t,n){t.face=n,n.outside?this.claimed.insertBefore(n.outside,t):this.claimed.add(t),n.outside=t}removeVertexFromFace(t,n){t===n.outside&&(t.next&&t.next.face===n?n.outside=t.next:n.outside=null),this.claimed.remove(t)}removeAllVerticesFromFace(t){if(t.outside){let n=t.outside;for(;n.next&&n.next.face===t;)n=n.next;return this.claimed.removeChain(t.outside,n),n.next=null,t.outside}}deleteFaceVertices(t,n){const r=this.removeAllVerticesFromFace(t);if(r)if(!n)this.unclaimed.addAll(r);else{let s;for(let i=r;i;i=s)s=i.next,n.distanceToPlane(i.point)>this.tolerance?this.addVertexToFace(i,n):this.unclaimed.add(i)}}resolveUnclaimedPoints(t){let n=this.unclaimed.first();for(let r=n;r;r=n){n=r.next;let s=this.tolerance,i;for(let o=0;o<t.length;o+=1){const a=t[o];if(a.mark===Ui){const l=a.distanceToPlane(r.point);if(l>s&&(s=l,i=a),s>1e3*this.tolerance)break}}i&&this.addVertexToFace(r,i)}}computeExtremes(){const t=[],n=[],r=[],s=[];let i,o;for(i=0;i<3;i+=1)r[i]=s[i]=this.vertices[0];for(i=0;i<3;i+=1)t[i]=n[i]=this.vertices[0].point[i];for(i=1;i<this.vertices.length;i+=1){const a=this.vertices[i],l=a.point;for(o=0;o<3;o+=1)l[o]<t[o]&&(t[o]=l[o],r[o]=a);for(o=0;o<3;o+=1)l[o]>n[o]&&(n[o]=l[o],s[o]=a)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(t[0]),Math.abs(n[0]))+Math.max(Math.abs(t[1]),Math.abs(n[1]))+Math.max(Math.abs(t[2]),Math.abs(n[2]))),[r,s]}createInitialSimplex(){const t=this.vertices,[n,r]=this.computeExtremes();let s,i,o,a,l=0,c=0;for(o=0;o<3;o+=1){const m=r[o].point[o]-n[o].point[o];m>l&&(l=m,c=o)}const f=n[c],u=r[c];for(l=0,o=0;o<this.vertices.length;o+=1){const m=this.vertices[o];if(m!==f&&m!==u){const p=nV(m.point,f.point,u.point);p>l&&(l=p,s=m)}}const h=rV([],f.point,u.point,s.point),d=Pu(f.point,h);for(l=-1,o=0;o<this.vertices.length;o+=1){const m=this.vertices[o];if(m!==f&&m!==u&&m!==s){const p=Math.abs(Pu(h,m.point)-d);p>l&&(l=p,i=m)}}const g=[];if(Pu(i.point,h)-d<0)for(g.push(Jr.createTriangle(f,u,s),Jr.createTriangle(i,u,f),Jr.createTriangle(i,s,u),Jr.createTriangle(i,f,s)),o=0;o<3;o+=1){const m=(o+1)%3;g[o+1].getEdge(2).setOpposite(g[0].getEdge(m)),g[o+1].getEdge(1).setOpposite(g[m+1].getEdge(0))}else for(g.push(Jr.createTriangle(f,s,u),Jr.createTriangle(i,f,u),Jr.createTriangle(i,u,s),Jr.createTriangle(i,s,f)),o=0;o<3;o+=1){const m=(o+1)%3;g[o+1].getEdge(2).setOpposite(g[0].getEdge((3-o)%3)),g[o+1].getEdge(0).setOpposite(g[m+1].getEdge(1))}for(o=0;o<4;o+=1)this.faces.push(g[o]);for(o=0;o<t.length;o+=1){const m=t[o];if(m!==f&&m!==u&&m!==s&&m!==i){l=this.tolerance;let p;for(a=0;a<4;a+=1){const v=g[a].distanceToPlane(m.point);v>l&&(l=v,p=g[a])}p&&this.addVertexToFace(m,p)}}}reindexFaceAndVertices(){const t=[];for(let n=0;n<this.faces.length;n+=1){const r=this.faces[n];r.mark===Ui&&t.push(r)}this.faces=t}collectFaces(t){const n=[];for(let r=0;r<this.faces.length;r+=1){if(this.faces[r].mark!==Ui)throw Error("attempt to include a destroyed face in the hull");const s=this.faces[r].collectIndices();if(t)n.push(s);else for(let i=0;i<s.length-2;i+=1)n.push([s[0],s[i+1],s[i+2]])}return n}nextVertexToAdd(){if(!this.claimed.isEmpty()){let t,n,r=0;const s=this.claimed.first().face;for(n=s.outside;n&&n.face===s;n=n.next){const i=s.distanceToPlane(n.point);i>r&&(r=i,t=n)}return t}}computeHorizon(t,n,r,s){this.deleteFaceVertices(r),r.mark=iV;let i;n?i=n.next:i=n=r.getEdge(0);do{const o=i.opposite,a=o.face;a.mark===Ui&&(a.distanceToPlane(t)>this.tolerance?this.computeHorizon(t,o,a,s):s.push(i)),i=i.next}while(i!==n)}addAdjoiningFace(t,n){const r=Jr.createTriangle(t,n.tail(),n.head());return this.faces.push(r),r.getEdge(-1).setOpposite(n.opposite),r.getEdge(0)}addNewFaces(t,n){this.newFaces=[];let r,s;for(let i=0;i<n.length;i+=1){const o=n[i],a=this.addAdjoiningFace(t,o);r?a.next.setOpposite(s):r=a,this.newFaces.push(a.face),s=a}r.next.setOpposite(s)}oppositeFaceDistance(t){return t.face.distanceToPlane(t.opposite.face.centroid)}doAdjacentMerge(t,n){let r=t.edge,s=!0,i=0;do{if(i>=t.nVertices)throw Error("merge recursion limit exceeded");const o=r.opposite.face;let a=!1;if(n===Dp?(this.oppositeFaceDistance(r)>-this.tolerance||this.oppositeFaceDistance(r.opposite)>-this.tolerance)&&(a=!0):t.area>o.area?this.oppositeFaceDistance(r)>-this.tolerance?a=!0:this.oppositeFaceDistance(r.opposite)>-this.tolerance&&(s=!1):this.oppositeFaceDistance(r.opposite)>-this.tolerance?a=!0:this.oppositeFaceDistance(r)>-this.tolerance&&(s=!1),a){const l=t.mergeAdjacentFaces(r,[]);for(let c=0;c<l.length;c+=1)this.deleteFaceVertices(l[c],t);return!0}r=r.next,i+=1}while(r!==t.edge);return s||(t.mark=Ip),!1}addVertexToHull(t){const n=[];this.unclaimed.clear(),this.removeVertexFromFace(t,t.face),this.computeHorizon(t.point,null,t.face,n),this.addNewFaces(t,n);for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===Ui)for(;this.doAdjacentMerge(s,oV););}for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===Ip)for(s.mark=Ui;this.doAdjacentMerge(s,Dp););}this.resolveUnclaimedPoints(this.newFaces)}build(){let t;for(this.createInitialSimplex();t=this.nextVertexToAdd();)this.addVertexToHull(t);this.reindexFaceAndVertices()}};var lV=aV;const cV=lV,fV=(e,t={})=>{const n=new cV(e);return n.build(),n.collectFaces(t.skipTriangulation)};var uV=fV;const dV=yt,hV=Ct,mV=Ut,pV=uV,gV=Rd,vV=(...e)=>{if(e=dV(e),e.length===1)return e[0];const t=gV(e),r=pV(t,{skipTriangulation:!0}).map(s=>{const i=s.map(o=>t[o]);return mV.create(i)});return hV.create(r)};var bV=vV;const _V=yt,yV=la,AV=Tt,EV=Ct,SV=Jt,wV=P9,TV=I9,CV=bV,PV=(...e)=>{if(e=_V(e),e.length===0)throw new Error("wrong number of arguments");if(!yV(e))throw new Error("only hulls of the same type are supported");const t=e[0];return SV.isA(t)?wV(e):AV.isA(t)?TV(e):EV.isA(t)?CV(e):t};var vb=PV;const LV=yt,OV=Ld,RV=vb,MV=(...e)=>{if(e=LV(e),e.length<2)throw new Error("wrong number of arguments");const t=[];for(let n=1;n<e.length;n++)t.push(RV(e[n-1],e[n]));return OV(t)};var IV=MV,DV={hull:vb,hullChain:IV};const Lu=lt,bb=Ut,FV=(e,t)=>{const n=Math.abs(bb.measureArea(t));return Number.isFinite(n)&&n>e},kV=(e,t)=>{let n=t.map(s=>{const i=s.vertices.map(l=>Lu.snap(Lu.create(),l,e)),o=[];for(let l=0;l<i.length;l++){const c=(l+1)%i.length;Lu.equals(i[l],i[c])||o.push(i[l])}const a=bb.create(o);return s.color&&(a.color=s.color),a});const r=e*e*Math.sqrt(3)/4;return n=n.filter(s=>FV(r,s)),n};var _b=kV;const xV=gd,ji=lt,xl=Ut,BV=e=>{const t=xl.toPoints(e),n=[];for(let r=0;r<t.length;r++){const s=(r+1)%t.length,i={v1:t[r],v2:t[s]};n.push(i)}for(let r=0;r<n.length;r++){const s=(r+1)%t.length;n[r].next=n[s],n[s].prev=n[r]}return n},GV=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.set(n,t)},Ou=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.delete(n)},NV=(e,t)=>{const n=`${t.v2}:${t.v1}`;return e.get(n)},VV=(e,t,n)=>{let r=e.prev.v1,s=e.prev.v2,i=t.next.v2;const o=Fp(r,s,i,n);r=t.prev.v1,s=t.prev.v2,i=e.next.v2;const a=Fp(r,s,i,n);return[o,a]},$V=ji.create(),UV=ji.create(),Fp=(e,t,n,r)=>{const s=ji.subtract($V,t,e),i=ji.subtract(UV,n,t);return ji.cross(s,s,i),ji.dot(s,r)},HV=e=>{let t;const n=[];for(;e.next;){const r=e.next;n.push(e.v1),e.v1=null,e.v2=null,e.next=null,e.prev=null,e=r}return n.length>0&&(t=xl.create(n)),t},zV=e=>{if(e.length<2)return e;const t=e[0].plane,n=e.slice(),r=new Map;for(;n.length>0;){const i=n.shift(),o=BV(i);for(let a=0;a<o.length;a++){const l=o[a],c=NV(r,l);if(c){const f=VV(l,c,t);if(f[0]>=0&&f[1]>=0){const u=c.next,h=l.next;l.prev.next=c.next,l.next.prev=c.prev,c.prev.next=l.next,c.next.prev=l.prev,l.v1=null,l.v2=null,l.next=null,l.prev=null,Ou(r,c),c.v1=null,c.v2=null,c.next=null,c.prev=null;const d=(g,m,p)=>{const v={v1:p.v1,v2:m.v2,next:m.next,prev:p.prev};p.prev.next=v,m.next.prev=v,Ou(g,m),m.v1=null,m.v2=null,m.next=null,m.prev=null,Ou(g,p),p.v1=null,p.v2=null,p.next=null,p.prev=null};f[0]===0&&d(r,u,u.prev),f[1]===0&&d(r,h,h.prev)}}else l.next&&GV(r,l)}}const s=[];return r.forEach(i=>{const o=HV(i);o&&s.push(o)}),r.clear(),s},jV=(e,t)=>Math.abs(e[3]-t[3])<15e-8?xV(e,t):!1,qV=(e,t)=>{const n=[];t.forEach(s=>{const i=n.find(o=>jV(o[0],xl.plane(s)));i?i[1].push(s):n.push([xl.plane(s),[s]])});let r=[];return n.forEach(s=>{const i=s[1],o=zV(i);r=r.concat(o)}),r};var XV=qV;const kp=$t,Br=lt,WV=Ut,nr=e=>`${e}`,xp=(e,t,n,r,s,i)=>{const o=nr(r),a=nr(s),l=`${o}/${a}`,c=`${a}/${o}`;if(e.has(c))return Pl(e,t,n,s,r,null),null;const f={vertex0:r,vertex1:s,polygonindex:i};return e.has(l)?e.get(l).push(f):e.set(l,[f]),t.has(o)?t.get(o).push(l):t.set(o,[l]),n.has(a)?n.get(a).push(l):n.set(a,[l]),l},Pl=(e,t,n,r,s,i)=>{const o=nr(r),a=nr(s),l=`${o}/${a}`;let c=-1;const f=e.get(l);for(let u=0;u<f.length;u++){const h=f[u];let d=nr(h.vertex0);if(d===o&&(d=nr(h.vertex1),d===a&&!(i!==null&&h.polygonindex!==i))){c=u;break}}f.splice(c,1),f.length===0&&e.delete(l),c=t.get(o).indexOf(l),t.get(o).splice(c,1),t.get(o).length===0&&t.delete(o),c=n.get(a).indexOf(l),n.get(a).splice(c,1),n.get(a).length===0&&n.delete(a)},YV=e=>{const t=new Map;for(let n=0;n<e.length;n++){const r=e[n],s=r.vertices.length;if(s>=3){let i=r.vertices[0],o=nr(i);for(let a=0;a<s;a++){let l=a+1;l===s&&(l=0);const c=r.vertices[l],f=nr(c),u=`${o}/${f}`,h=`${f}/${o}`;if(t.has(h)){const d=t.get(h);d.splice(-1,1),d.length===0&&t.delete(h)}else{const d={vertex0:i,vertex1:c,polygonindex:n};t.has(u)?t.get(u).push(d):t.set(u,[d])}i=c,o=f}}else console.warn("warning: invalid polygon found during insertTjunctions")}if(t.size>0){const n=new Map,r=new Map,s=new Map;for(const[o,a]of t)s.set(o,!0),a.forEach(l=>{const c=nr(l.vertex0),f=nr(l.vertex1);n.has(c)?n.get(c).push(o):n.set(c,[o]),r.has(f)?r.get(f).push(o):r.set(f,[o])});const i=e.slice(0);for(;t.size!==0;){for(const a of t.keys())s.set(a,!0);let o=!1;for(;;){const a=Array.from(s.keys());if(a.length===0)break;const l=a[0];let c=!0;if(t.has(l)){const u=t.get(l)[0];for(let h=0;h<2;h++){const d=h===0?u.vertex0:u.vertex1,g=h===0?u.vertex1:u.vertex0,m=nr(d),p=nr(g);let v=[];h===0?r.has(m)&&(v=r.get(m)):n.has(m)&&(v=n.get(m));for(let b=0;b<v.length;b++){const _=v[b],E=t.get(_)[0],S=h===0?E.vertex0:E.vertex1;if(h===0?E.vertex1:E.vertex0,nr(S)===p){Pl(t,n,r,d,g,null),Pl(t,n,r,g,d,null),c=!1,h=2,o=!0;break}else{const A=d,L=g,$=S,G=Br.subtract(Br.create(),$,A),k=Br.dot(Br.subtract(Br.create(),L,A),G)/Br.dot(G,G);if(k>0&&k<1){const se=Br.scale(Br.create(),G,k);if(Br.add(se,se,A),Br.squaredDistance(se,L)<kp.EPS*kp.EPS){const j=E.polygonindex,Oe=i[j],ne=nr(E.vertex1);let U=-1;for(let pe=0;pe<Oe.vertices.length;pe++)if(nr(Oe.vertices[pe])===ne){U=pe;break}const fe=Oe.vertices.slice(0);fe.splice(U,0,g);const ee=WV.create(fe);i[j]=ee,Pl(t,n,r,E.vertex0,E.vertex1,j);const He=xp(t,n,r,E.vertex0,g,j),Mt=xp(t,n,r,g,E.vertex1,j);He!==null&&s.set(He,!0),Mt!==null&&s.set(Mt,!0),c=!1,h=2,o=!0;break}}}}}}c&&s.delete(l)}if(!o)break}e=i}return t.clear(),e};var ZV=YV;const Ru=lt,Mu=Ut,KV=(e,t,n)=>{const r=t.vertices.length;if(r>3){if(r>4){const o=[0,0,0];t.vertices.forEach(a=>Ru.add(o,o,a)),Ru.snap(o,Ru.divide(o,o,[r,r,r]),e);for(let a=0;a<r;a++){const l=Mu.create([o,t.vertices[a],t.vertices[(a+1)%r]]);t.color&&(l.color=t.color),n.push(l)}return}const s=Mu.create([t.vertices[0],t.vertices[1],t.vertices[2]]),i=Mu.create([t.vertices[0],t.vertices[2],t.vertices[3]]);t.color&&(s.color=t.color,i.color=t.color),n.push(s,i);return}n.push(t)},QV=(e,t)=>{const n=[];return t.forEach(r=>{KV(e,r,n)}),n};var JV=QV;const e$=yt,t$=Ls,n$=Tt,yb=Ct,r$=Jt,s$=_b,i$=XV,o$=ZV,a$=JV,l$=(e,t)=>t,c$=(e,t)=>t,f$=(e,t)=>{const n={snap:!1,simplify:!1,triangulate:!1},{snap:r,simplify:s,triangulate:i}=Object.assign({},n,e),o=t$(t);let a=yb.toPolygons(t);r&&(a=s$(o,a)),s&&(a=i$(o,a)),i&&(a=o$(a),a=a$(o,a));const l=Object.assign({},t);return l.polygons=a,l},u$=(e,...t)=>{if(t=e$(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>{if(r$.isA(r))return l$(e,r);if(n$.isA(r))return c$(e,r);if(yb.isA(r))return f$(e,r);throw new Error("invalid geometry")});return n.length===1?n[0]:n};var d$=u$;const h$=yt,ti=Rt,Zu=Tt,Ku=Ct,Qu=Jt,Md=Ls,m$=_b,p$=e=>{const t=Md(e),r=Qu.toPoints(e).map(s=>ti.snap(ti.create(),s,t));return Qu.create(r)},g$=e=>{const t=Md(e);let r=Zu.toSides(e).map(s=>[ti.snap(ti.create(),s[0],t),ti.snap(ti.create(),s[1],t)]);return r=r.filter(s=>!ti.equals(s[0],s[1])),Zu.create(r)},v$=e=>{const t=Md(e),n=Ku.toPolygons(e),r=m$(t,n);return Ku.create(r)},b$=(...e)=>{if(e=h$(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>Qu.isA(n)?p$(n):Zu.isA(n)?g$(n):Ku.isA(n)?v$(n):n);return t.length===1?t[0]:t};var _$=b$,y$={generalize:d$,snap:_$,retessellate:ca};const A$=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var E$=A$;const S$=yt,Bp=E$,Ab=bd,{translate:w$}=si,T$=e=>{if(!Array.isArray(e.modes)||e.modes.length>3)throw new Error("align(): modes must be an array of length <= 3");if(e.modes=Bp(e.modes,"none",3),e.modes.filter(t=>["center","max","min","none"].includes(t)).length!==3)throw new Error('align(): all modes must be one of "center", "max" or "min"');if(!Array.isArray(e.relativeTo)||e.relativeTo.length>3)throw new Error("align(): relativeTo must be an array of length <= 3");if(e.relativeTo=Bp(e.relativeTo,0,3),e.relativeTo.filter(t=>Number.isFinite(t)||t==null).length!==3)throw new Error("align(): all relativeTo values must be a number, or null.");if(typeof e.grouped!="boolean")throw new Error("align(): grouped must be a boolean value.");return e},C$=(e,t,n)=>{for(let r=0;r<3;r++)e[r]==null&&(t[r]==="center"?e[r]=(n[0][r]+n[1][r])/2:t[r]==="max"?e[r]=n[1][r]:t[r]==="min"&&(e[r]=n[0][r]));return e},Gp=(e,t,n)=>{const r=Ab(e),s=[0,0,0];for(let i=0;i<3;i++)t[i]==="center"?s[i]=n[i]-(r[0][i]+r[1][i])/2:t[i]==="max"?s[i]=n[i]-r[1][i]:t[i]==="min"&&(s[i]=n[i]-r[0][i]);return w$(s,e)},P$=(e,...t)=>{e=Object.assign({},{modes:["center","center","min"],relativeTo:[0,0,0],grouped:!1},e),e=T$(e);let{modes:r,relativeTo:s,grouped:i}=e;if(t=S$(t),t.length===0)throw new Error("align(): No geometries were provided to act upon");if(s.filter(o=>o==null).length){const o=Ab(t);s=C$(s,r,o)}return i?t=Gp(t,r,s):t=t.map(o=>Gp(o,r,s)),t.length===1?t[0]:t};var L$=P$;const O$=yt,R$=Tt,M$=Ct,I$=Jt,D$=ci,{translate:F$}=si,Iu=(e,t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e),i=D$(t),o=[0,0,0];return r[0]&&(o[0]=s[0]-(i[0][0]+(i[1][0]-i[0][0])/2)),r[1]&&(o[1]=s[1]-(i[0][1]+(i[1][1]-i[0][1])/2)),r[2]&&(o[2]=s[2]-(i[0][2]+(i[1][2]-i[0][2])/2)),F$(o,t)},rc=(e,...t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e);if(t=O$(t),t.length===0)throw new Error("wrong number of arguments");if(s.length!==3)throw new Error("relativeTo must be an array of length 3");e={axes:r,relativeTo:s};const i=t.map(o=>I$.isA(o)||R$.isA(o)||M$.isA(o)?Iu(e,o):o);return i.length===1?i[0]:i},k$=(...e)=>rc({axes:[!0,!1,!1]},e),x$=(...e)=>rc({axes:[!1,!0,!1]},e),B$=(...e)=>rc({axes:[!1,!1,!0]},e);var _l={center:rc,centerX:k$,centerY:x$,centerZ:B$};const G$=yt,Np=tn,Vp=Tt,$p=Ct,Up=Jt,sc=(e,...t)=>{if(!Array.isArray(e))throw new Error("factors must be an array");if(t=G$(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(1);if(e[0]<=0||e[1]<=0||e[2]<=0)throw new Error("factors must be positive");const n=Np.fromScaling(Np.create(),e),r=t.map(s=>Up.isA(s)?Up.transform(n,s):Vp.isA(s)?Vp.transform(n,s):$p.isA(s)?$p.transform(n,s):s);return r.length===1?r[0]:r},N$=(e,...t)=>sc([e,1,1],t),V$=(e,...t)=>sc([1,e,1],t),$$=(e,...t)=>sc([1,1,e],t);var yl={scale:sc,scaleX:N$,scaleY:V$,scaleZ:$$};const U$=yt,Hp=Tt,zp=Ct,jp=Jt,H$=(e,...t)=>{if(t=U$(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>jp.isA(r)?jp.transform(e,r):Hp.isA(r)?Hp.transform(e,r):zp.isA(r)?zp.transform(e,r):r);return n.length===1?n[0]:n};var z$=H$,ta={align:L$,center:_l.center,centerX:_l.centerX,centerY:_l.centerY,centerZ:_l.centerZ,mirror:Ho.mirror,mirrorX:Ho.mirrorX,mirrorY:Ho.mirrorY,mirrorZ:Ho.mirrorZ,rotate:jo.rotate,rotateX:jo.rotateX,rotateY:jo.rotateY,rotateZ:jo.rotateZ,scale:yl.scale,scaleX:yl.scaleX,scaleY:yl.scaleY,scaleZ:yl.scaleZ,transform:z$,translate:si.translate,translateX:si.translateX,translateY:si.translateY,translateZ:si.translateZ},rs={colors:e6,curves:g6,geometries:hd,maths:KM,measurements:Uu,primitives:nb,text:ix,utils:ob,booleans:OG,expansions:PN,extrusions:v9,hulls:DV,modifiers:y$,transforms:ta};const{geometries:Du}=rs,j$=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=new ArrayBuffer(4),r=new Int32Array(n,0,1),s=new Int8Array(n,0,4);if(r[0]=287454020,s[0]!==68)throw new Error("Binary STL output is currently only supported on little-endian (Intel) processors");let i=0,o=0;e.forEach((p,v)=>{Du.geom3.toPolygons(p).forEach(_=>{const E=_.vertices.length,S=E>=3?E-2:0;i+=S,o+=1})});const a=new Uint8Array(80);for(let p=0;p<80;p++)a[p]=65;const l=new Uint32Array(1);l[0]=i;const c=new ArrayBuffer(50*i),f=new Int8Array(c),u=new ArrayBuffer(50),h=new Int8Array(u),d=new Float32Array(u,0,12),g=new Uint16Array(u,48,1);let m=0;return e.forEach(p=>{Du.geom3.toPolygons(p).forEach((b,_)=>{const E=b.vertices,S=E.length,w=Du.poly3.plane(b);for(let A=0;A<S-2;A++){d[0]=w[0],d[1]=w[1],d[2]=w[2];let L=3;for(let $=0;$<3;$++){const G=$+($>0?A:0),k=E[G];d[L++]=k[0],d[L++]=k[1],d[L++]=k[2]}g[0]=0,f.set(h,m),m+=50}t.statusCallback&&t.statusCallback({progress:100*_/o})})}),t.statusCallback&&t.statusCallback({progress:100}),[a.buffer,l.buffer,c]};var q$={serializeBinary:j$};const{geometries:Eb}=rs,X$=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=`solid JSCAD
${W$(e,t)}
endsolid JSCAD
`;return t.statusCallback&&t.statusCallback({progress:100}),[n]},W$=(e,t)=>{const n=[];return e.forEach((r,s)=>{n.push(Y$(r)),t.statusCallback&&t.statusCallback({progress:100*s/e.length})}),n.join(`
`)},Y$=(e,t)=>{const n=[];return Eb.geom3.toPolygons(e).forEach((s,i)=>{n.push(Z$(s))}),n.join(`
`)},Sb=e=>`${e[0]} ${e[1]} ${e[2]}`,Fu=e=>`vertex ${Sb(e)}`,Z$=e=>{const t=[];if(e.vertices.length>=3){const n=Fu(e.vertices[0]);for(let r=0;r<e.vertices.length-2;r++){const s=`facet normal ${Sb(Eb.poly3.plane(e))}
outer loop
${n}
${Fu(e.vertices[r+1])}
${Fu(e.vertices[r+2])}
endloop
endfacet`;t.push(s)}}return t.join(`
`)};var K$={serializeText:X$};const{geometries:Q$,modifiers:J$}=rs,{flatten:eU,toArray:tU}=nd,{serializeBinary:nU}=q$,{serializeText:rU}=K$,sU="application/sla",iU=(e,...t)=>{e=Object.assign({},{binary:!0,statusCallback:null},e),t=eU(t);let r=t.filter(s=>Q$.geom3.isA(s));if(r.length===0)throw new Error("only 3D geometries can be serialized to STL");return t.length!==r.length&&console.warn("some objects could not be serialized to STL"),r=tU(J$.generalize({snap:!0,triangulate:!0},r)),e.binary?nU(r,e):rU(r,e)};var oU={mimeType:sU,serialize:iU};const aU=k5(oU);var wb={exports:{}};(function(e,t){(function(n,r){r()})(Js,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,u){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,f,u)},h.onerror=function(){console.error("could not download file")},h.send()}function s(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Js=="object"&&Js.global===Js?Js:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,u){var h=o.URL||o.webkitURL,d=document.createElement("a");f=f||c.name||"download",d.download=f,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?i(d):s(d.href)?r(c,f,u):i(d,d.target="_blank")):(d.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,u){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,u),f);else if(s(c))r(c,f,u);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){i(h)})}}:function(c,f,u,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,u);var d=c.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||d&&g||a)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var _=p.result;_=m?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=_:location=_,h=null},p.readAsDataURL(c)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(c);h?h.location=b:location.href=b,h=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(wb);var lU=wb.exports;const Tb={model:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,2,2,1,2,2,2,0,2,2,2,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,0,0,0,0,0,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,0,2,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,3,2,1,2,3,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],cellSize:30,wallWidth:2.25,height:22,radius:1.5,inset:1,keyholeHorizontalSpace:50,keyholeHorizontalOffset:0,keyholeVerticalSpace:0,keyholeVerticalOffset:0,holesEnabled:!0,cellsRotated:!1},cU={model:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,2,0,0,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,2,2,3,2,2,2,2,1,3,2,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,1,2,1,2,2,2,2,2,2,2,3,3,2,2,0,2,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,3,2,2,2,2,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,2,2,2,3,2,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,2,1,2,0,2,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,2,2,2,3,2,2,2,2,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,3,2,1,2,3,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,2,2,2,2,1,3,3,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],cellSize:30,wallWidth:2.25,height:22,radius:1.5,inset:1,keyholeHorizontalSpace:54,keyholeHorizontalOffset:0,keyholeVerticalSpace:0,keyholeVerticalOffset:0,holesEnabled:!0,cellsRotated:!1},fU={model:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],cellSize:30,wallWidth:2.25,height:22,radius:1.5,inset:1,keyholeHorizontalSpace:50,keyholeHorizontalOffset:0,keyholeVerticalSpace:-31,keyholeVerticalOffset:10,holesEnabled:!0,cellsRotated:!1},{rotateY:uU,rotate:dU,scale:Al,translate:Lr,translateY:qp,translateZ:na,rotateX:hU}=rs.transforms,{intersect:mU,subtract:Id,union:Cs}=rs.booleans,{cuboid:Bl,cylinder:Yo,polygon:pU,roundedRectangle:gU,torus:vU}=rs.primitives,{extrudeLinear:Cb}=rs.extrusions;function bU(e,t,n){const r=Math.min(n,e/2-1e-5,t/2-1e-5);return[0,1,2].map(s=>uU(s*Math.PI/3,na(-r-e,Cb({height:(e+r)*2},r>0?gU({size:[e,t],roundRadius:r,segments:64}):nb.rectangle({size:[e,t]}))))).reduce((s,i)=>mU(s,i))}function Xp(e,t){const n=Math.sqrt(3)*e/4;return Cb({height:t},pU({points:[[e/2,0],[e/4,n],[-e/4,n],[-e/2,0],[-e/4,-n],[e/4,-n]]}))}function Pb(e,t,n,r,s,i=!1){const o=na(t/2-(i?s/2+n/2:s),dU([Math.PI/2,0,Math.PI/6],bU(e*.8658-(i?.5:0),t-(i?n+s:0),r)));return i?o:Id(o,na(n-t/2,Bl({size:[e,e,t]})))}function _U(e,t,n,r,s,i){const o=Id(Xp(e+n*2,t),na(i===1?-1e-4:n,Xp(e,t+n*4)));return i===3?Cs(o,Pb(e,t,n,r,s)):o}const ii=7;function Wp(){return ta.rotateZ(Math.PI,Cs(Yo({height:ii,radius:10+2}),qp(-20,Yo({height:ii,radius:10+2})),qp(-10,Bl({size:[20+2*2,20,ii]}))))}function Yp(){return ta.rotateZ(Math.PI,Cs(Lr([0,0,-1.5],Yo({height:6+1.5,radius:10})),Lr([0,-20,0],Yo({height:6-1.5,radius:10})),Lr([0,-20,-2*1.5],Yo({height:2*1.5,radius:5})),Lr([0,-10,-2*1.5],Bl({size:[10,20,6]})),Lr([0,-10,0],Bl({size:[20,20,6-1.5]}))))}function yU(e,t,n,r,s,i,o,a,l,c,f){const u=[];for(let E=0;E<e.length;E++)for(let S=0;S<e[E].length;S++){const w=e[E][S];if(!w)continue;const A=_U(n,s,r,i,o,w);u.push(Lr(t?[Math.sqrt(3)*.5*(n+r)*(E%2*.5+S),.75*E*(n+r),0]:[.75*S*(n+r),Math.sqrt(3)*.5*(n+r)*(S%2*.5+E),0],t?ta.rotateZ(Math.PI/6,A):A))}const h=Pb(n,s,r,i,o,!0),d=Cs(t?ta.rotateZ(Math.PI/6,h):h,na(s-r-o+1,hU(Math.PI/2,vU({innerRadius:1.5,outerRadius:3.5,outerSegments:128,innerSegments:64})))),g=Cs(u),m=Uu.measureBoundingBox(g);let p,v,b;if([a,l,c,f].every(E=>!isNaN(E))){const E=(m[1][0]-m[0][0])*(50-a/2)/100,S=m[0][0]+E+l,w=m[1][0]-E+l,A=(m[1][1]-m[0][1])*(50-c/2)/100,L=m[0][1]+A+f,$=m[1][1]-A+f;p=Lr([S,L-5,ii/2],Al([.5,.5,1],Wp())),v=Lr([w,$-5,ii/2],Al([.5,.5,1],Wp())),b=Cs(Lr([S,L-5,ii/2],Al([.5,.5,1],Yp())),Lr([w,$-5,ii/2],Al([.5,.5,1],Yp())))}const _=Uu.measureBoundingBox(d);return Cs(b?Id(Cs(g,p,v),b):g,Lr([m[0][0]+(m[1][0]-m[0][0])/2,m[0][1]-(_[1][1]-_[0][1])*(3/2)],d))}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var AU={ACTIVE:"mdc-tab-indicator--active",FADE:"mdc-tab-indicator--fade",NO_TRANSITION:"mdc-tab-indicator--no-transition"},EU={CONTENT_SELECTOR:".mdc-tab-indicator__content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ns=function(e){Gn(t,e);function t(n){return e.call(this,ln(ln({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return AU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return EU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},computeContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setContentStyleProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.computeContentClientRect=function(){return this.adapter.computeContentClientRect()},t}(Er);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var SU=function(e){Gn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(){this.adapter.addClass(ns.cssClasses.ACTIVE)},t.prototype.deactivate=function(){this.adapter.removeClass(ns.cssClasses.ACTIVE)},t}(ns);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Zp=function(e){Gn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(n){if(!n){this.adapter.addClass(ns.cssClasses.ACTIVE);return}var r=this.computeContentClientRect(),s=n.width/r.width,i=n.left-r.left;this.adapter.addClass(ns.cssClasses.NO_TRANSITION),this.adapter.setContentStyleProperty("transform","translateX("+i+"px) scaleX("+s+")"),this.computeContentClientRect(),this.adapter.removeClass(ns.cssClasses.NO_TRANSITION),this.adapter.addClass(ns.cssClasses.ACTIVE),this.adapter.setContentStyleProperty("transform","")},t.prototype.deactivate=function(){this.adapter.removeClass(ns.cssClasses.ACTIVE)},t}(ns);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var El={ACTIVE:"mdc-tab--active"},Vo={ARIA_SELECTED:"aria-selected",CONTENT_SELECTOR:".mdc-tab__content",INTERACTED_EVENT:"MDCTab:interacted",RIPPLE_SELECTOR:".mdc-tab__ripple",TABINDEX:"tabIndex",TAB_INDICATOR_SELECTOR:".mdc-tab-indicator"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var wU=function(e){Gn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.focusOnActivate=!0,r}return Object.defineProperty(t,"cssClasses",{get:function(){return El},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Vo},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},activateIndicator:function(){},deactivateIndicator:function(){},notifyInteracted:function(){},getOffsetLeft:function(){return 0},getOffsetWidth:function(){return 0},getContentOffsetLeft:function(){return 0},getContentOffsetWidth:function(){return 0},focus:function(){}}},enumerable:!1,configurable:!0}),t.prototype.handleClick=function(){this.adapter.notifyInteracted()},t.prototype.isActive=function(){return this.adapter.hasClass(El.ACTIVE)},t.prototype.setFocusOnActivate=function(n){this.focusOnActivate=n},t.prototype.activate=function(n){this.adapter.addClass(El.ACTIVE),this.adapter.setAttr(Vo.ARIA_SELECTED,"true"),this.adapter.setAttr(Vo.TABINDEX,"0"),this.adapter.activateIndicator(n),this.focusOnActivate&&this.adapter.focus()},t.prototype.deactivate=function(){this.isActive()&&(this.adapter.removeClass(El.ACTIVE),this.adapter.setAttr(Vo.ARIA_SELECTED,"false"),this.adapter.setAttr(Vo.TABINDEX,"-1"),this.adapter.deactivateIndicator())},t.prototype.computeDimensions=function(){var n=this.adapter.getOffsetWidth(),r=this.adapter.getOffsetLeft(),s=this.adapter.getContentOffsetWidth(),i=this.adapter.getContentOffsetLeft();return{contentLeft:r+i,contentRight:r+i+s,rootLeft:r,rootRight:r+n}},t}(Er);function TU(e){let t,n,r,s,i,o,a,l,c,f,u;const h=e[21].default,d=Bt(h,e,e[20],null);let g=[{class:r=ut({[e[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":e[3]==="underline","mdc-tab-indicator__content--icon":e[3]==="icon"})},{style:s=Object.entries(e[10]).map(Kp).join(" ")},{"aria-hidden":i=e[3]==="icon"?"true":void 0},qt(e[12],"content$")],m={};for(let b=0;b<g.length;b+=1)m=Ue(m,g[b]);let p=[{class:a=ut({[e[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":e[0],"mdc-tab-indicator--fade":e[4]==="fade",...e[9]})},Wn(e[12],["content$"])],v={};for(let b=0;b<p.length;b+=1)v=Ue(v,p[b]);return{c(){t=dt("span"),n=dt("span"),d&&d.c(),At(n,m),At(t,v)},m(b,_){Ae(b,t,_),xt(t,n),d&&d.m(n,null),e[22](n),e[23](t),c=!0,f||(u=[_t(o=an.call(null,n,e[5])),_t(l=an.call(null,t,e[1])),_t(e[11].call(null,t))],f=!0)},p(b,[_]){d&&d.p&&(!c||_&1048576)&&Nt(d,h,b,b[20],c?Gt(h,b[20],_,null):Vt(b[20]),null),At(n,m=It(g,[(!c||_&72&&r!==(r=ut({[b[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":b[3]==="underline","mdc-tab-indicator__content--icon":b[3]==="icon"})))&&{class:r},(!c||_&1024&&s!==(s=Object.entries(b[10]).map(Kp).join(" ")))&&{style:s},(!c||_&8&&i!==(i=b[3]==="icon"?"true":void 0))&&{"aria-hidden":i},_&4096&&qt(b[12],"content$")])),o&&jt(o.update)&&_&32&&o.update.call(null,b[5]),At(t,v=It(p,[(!c||_&533&&a!==(a=ut({[b[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":b[0],"mdc-tab-indicator--fade":b[4]==="fade",...b[9]})))&&{class:a},_&4096&&Wn(b[12],["content$"])])),l&&jt(l.update)&&_&2&&l.update.call(null,b[1])},i(b){c||(K(d,b),c=!0)},o(b){oe(d,b),c=!1},d(b){b&&_e(t),d&&d.d(b),e[22](null),e[23](null),f=!1,cn(u)}}}const Kp=([e,t])=>`${e}: ${t};`;function CU(e,t,n){const r=["use","class","active","type","transition","content$use","content$class","activate","deactivate","computeContentClientRect","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{active:f=!1}=t,{type:u="underline"}=t,{transition:h="slide"}=t,{content$use:d=[]}=t,{content$class:g=""}=t,m,p,v,b={},_={},E=[],S=h;Yn(()=>(n(17,p=w()),p.init(),()=>{p.destroy()}));function w(){const U={fade:SU,slide:Zp}[h]||Zp;return new U({addClass:(...fe)=>A(()=>L(...fe)),removeClass:(...fe)=>A(()=>$(...fe)),computeContentClientRect:V,setContentStyleProperty:(...fe)=>A(()=>G(...fe))})}function A(U){E.length?E[E.length-1].push(U):U()}function L(U){b[U]||n(9,b[U]=!0,b)}function $(U){(!(U in b)||b[U])&&n(9,b[U]=!1,b)}function G(U,fe){_[U]!=fe&&(fe===""||fe==null?(delete _[U],n(10,_),n(19,S),n(4,h),n(17,p)):n(10,_[U]=fe,_))}function k(U){n(0,f=!0),p.activate(U)}function se(){n(0,f=!1),p.deactivate()}function V(){return E.push([]),n(18,E),v.getBoundingClientRect()}function j(){return m}function Oe(U){rt[U?"unshift":"push"](()=>{v=U,n(8,v)})}function ne(U){rt[U?"unshift":"push"](()=>{m=U,n(7,m)})}return e.$$set=U=>{t=Ue(Ue({},t),mn(U)),n(12,s=wt(t,r)),"use"in U&&n(1,l=U.use),"class"in U&&n(2,c=U.class),"active"in U&&n(0,f=U.active),"type"in U&&n(3,u=U.type),"transition"in U&&n(4,h=U.transition),"content$use"in U&&n(5,d=U.content$use),"content$class"in U&&n(6,g=U.content$class),"$$scope"in U&&n(20,o=U.$$scope)},e.$$.update=()=>{e.$$.dirty&655376&&S!==h&&(n(19,S=h),p&&p.destroy(),n(9,b={}),n(10,_={}),n(17,p=w()),p.init()),e.$$.dirty&262144&&E.length&&requestAnimationFrame(()=>{var U;const fe=(U=E.shift())!==null&&U!==void 0?U:[];n(18,E);for(const ee of fe)ee()})},[f,l,c,u,h,d,g,m,v,b,_,a,s,k,se,V,j,p,E,S,o,i,Oe,ne]}class Lb extends Qt{constructor(t){super(),Kt(this,t,CU,TU,Xt,{use:1,class:2,active:0,type:3,transition:4,content$use:5,content$class:6,activate:13,deactivate:14,computeContentClientRect:15,getElement:16})}get activate(){return this.$$.ctx[13]}get deactivate(){return this.$$.ctx[14]}get computeContentClientRect(){return this.$$.ctx[15]}get getElement(){return this.$$.ctx[16]}}const PU=e=>({}),Qp=e=>({}),LU=e=>({}),Jp=e=>({});function eg(e){let t,n;const r=[{active:e[18]},qt(e[25],"tabIndicator$")];let s={$$slots:{default:[OU]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ue(s,r[i]);return t=new Lb({props:s}),e[33](t),{c(){Je(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?It(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&hn(qt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){oe(t.$$.fragment,i),n=!1},d(i){e[33](null),Qe(t,i)}}}function OU(e){let t;const n=e[32]["tab-indicator"],r=Bt(n,e,e[37],Jp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&Nt(r,n,s,s[37],t?Gt(n,s[37],i,LU):Vt(s[37]),Jp)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function tg(e){let t,n;const r=[{active:e[18]},qt(e[25],"tabIndicator$")];let s={$$slots:{default:[RU]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ue(s,r[i]);return t=new Lb({props:s}),e[35](t),{c(){Je(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?It(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&hn(qt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){oe(t.$$.fragment,i),n=!1},d(i){e[35](null),Qe(t,i)}}}function RU(e){let t;const n=e[32]["tab-indicator"],r=Bt(n,e,e[37],Qp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&Nt(r,n,s,s[37],t?Gt(n,s[37],i,PU):Vt(s[37]),Qp)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function MU(e){let t,n,r,s,i,o,a,l,c,f;const u=e[32].default,h=Bt(u,e,e[37],null);let d=e[6]&&eg(e),g=[{class:r=ut({[e[9]]:!0,"mdc-tab__content":!0})},qt(e[25],"content$")],m={};for(let v=0;v<g.length;v+=1)m=Ue(m,g[v]);let p=!e[6]&&tg(e);return{c(){t=dt("span"),h&&h.c(),n=gt(),d&&d.c(),i=gt(),p&&p.c(),o=gt(),a=dt("span"),At(t,m),pt(a,"class","mdc-tab__ripple")},m(v,b){Ae(v,t,b),h&&h.m(t,null),xt(t,n),d&&d.m(t,null),e[34](t),Ae(v,i,b),p&&p.m(v,b),Ae(v,o,b),Ae(v,a,b),l=!0,c||(f=_t(s=an.call(null,t,e[8])),c=!0)},p(v,b){h&&h.p&&(!l||b[1]&64)&&Nt(h,u,v,v[37],l?Gt(u,v[37],b,null):Vt(v[37]),null),v[6]?d?(d.p(v,b),b[0]&64&&K(d,1)):(d=eg(v),d.c(),K(d,1),d.m(t,null)):d&&(Wt(),oe(d,1,1,()=>{d=null}),Yt()),At(t,m=It(g,[(!l||b[0]&512&&r!==(r=ut({[v[9]]:!0,"mdc-tab__content":!0})))&&{class:r},b[0]&33554432&&qt(v[25],"content$")])),s&&jt(s.update)&&b[0]&256&&s.update.call(null,v[8]),v[6]?p&&(Wt(),oe(p,1,1,()=>{p=null}),Yt()):p?(p.p(v,b),b[0]&64&&K(p,1)):(p=tg(v),p.c(),K(p,1),p.m(o.parentNode,o))},i(v){l||(K(h,v),K(d),K(p),l=!0)},o(v){oe(h,v),oe(d),oe(p),l=!1},d(v){v&&(_e(t),_e(i),_e(o),_e(a)),h&&h.d(v),d&&d.d(),e[34](null),p&&p.d(v),c=!1,f()}}}function IU(e){let t,n,r;const s=[{tag:e[11]},{use:[[Hr,{ripple:e[3],unbounded:!1,addClass:e[21],removeClass:e[22],addStyle:e[23]}],e[20],...e[0]]},{class:ut({[e[1]]:!0,"mdc-tab":!0,"mdc-tab--active":e[18],"mdc-tab--stacked":e[4],"mdc-tab--min-width":e[5],...e[15]})},{style:Object.entries(e[16]).map(ng).concat([e[2]]).join(" ")},{role:"tab"},{"aria-selected":e[18]?"true":"false"},{tabindex:e[18]||e[19]?"0":"-1"},{href:e[7]},e[17],Wn(e[25],["content$","tabIndicator$"])];var i=e[10];function o(a){let l={$$slots:{default:[MU]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ue(l,s[c]);return{props:l}}return i&&(t=yr(i,o(e)),e[36](t),t.$on("click",e[24])),{c(){t&&Je(t.$$.fragment),n=pn()},m(a,l){t&&Ke(t,a,l),Ae(a,n,l),r=!0},p(a,l){const c=l[0]&50301119?It(s,[l[0]&2048&&{tag:a[11]},l[0]&15728649&&{use:[[Hr,{ripple:a[3],unbounded:!1,addClass:a[21],removeClass:a[22],addStyle:a[23]}],a[20],...a[0]]},l[0]&294962&&{class:ut({[a[1]]:!0,"mdc-tab":!0,"mdc-tab--active":a[18],"mdc-tab--stacked":a[4],"mdc-tab--min-width":a[5],...a[15]})},l[0]&65540&&{style:Object.entries(a[16]).map(ng).concat([a[2]]).join(" ")},s[4],l[0]&262144&&{"aria-selected":a[18]?"true":"false"},l[0]&786432&&{tabindex:a[18]||a[19]?"0":"-1"},l[0]&128&&{href:a[7]},l[0]&131072&&hn(a[17]),l[0]&33554432&&hn(Wn(a[25],["content$","tabIndicator$"]))]):{};if(l[0]&33841984|l[1]&64&&(c.$$scope={dirty:l,ctx:a}),l[0]&1024&&i!==(i=a[10])){if(t){Wt();const f=t;oe(f.$$.fragment,1,0,()=>{Qe(f,1)}),Yt()}i?(t=yr(i,o(a)),a[36](t),t.$on("click",a[24]),Je(t.$$.fragment),K(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&K(t.$$.fragment,a),r=!0)},o(a){t&&oe(t.$$.fragment,a),r=!1},d(a){a&&_e(n),e[36](null),t&&Qe(t,a)}}}const ng=([e,t])=>`${e}: ${t};`;function DU(e,t,n){const r=["use","class","style","tab","ripple","stacked","minWidth","indicatorSpanOnlyContent","href","content$use","content$class","component","tag","activate","deactivate","focus","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{tab:u}=t,{ripple:h=!0}=t,{stacked:d=!1}=t,{minWidth:g=!1}=t,{indicatorSpanOnlyContent:m=!1}=t,{href:p=void 0}=t,{content$use:v=[]}=t,{content$class:b=""}=t,_,E,S,w,A={},L={},$={},G=fr("SMUI:tab:focusOnActivate"),k=u===fr("SMUI:tab:initialActive"),se=!1,{component:V=Ar}=t,{tag:j=V===Ar?p==null?"button":"a":void 0}=t;if(cr("SMUI:label:context","tab"),cr("SMUI:icon:context","tab"),!u)throw new Error("The tab property is required! It should be passed down from the TabBar to the Tab.");Yn(()=>{n(31,E=new wU({setAttr:ee,addClass:ne,removeClass:U,hasClass:Oe,activateIndicator:Pn=>w.activate(Pn),deactivateIndicator:()=>w.deactivate(),notifyInteracted:()=>Tn(je(),"SMUITab:interacted",{tabId:u},void 0,!0),getOffsetLeft:()=>je().offsetLeft,getOffsetWidth:()=>je().offsetWidth,getContentOffsetLeft:()=>S.offsetLeft,getContentOffsetWidth:()=>S.offsetWidth,focus:Dt}));const Ve={tabId:u,get element(){return je()},get active(){return k},forceAccessible(Pn){n(19,se=Pn)},computeIndicatorClientRect:()=>w.computeContentClientRect(),computeDimensions:()=>E.computeDimensions(),focus:Dt,activate:Mt,deactivate:pe};return Tn(je(),"SMUITab:mount",Ve),E.init(),()=>{Tn(je(),"SMUITab:unmount",Ve),E.destroy()}});function Oe(Ve){return Ve in A?A[Ve]:je().classList.contains(Ve)}function ne(Ve){A[Ve]||n(15,A[Ve]=!0,A)}function U(Ve){(!(Ve in A)||A[Ve])&&n(15,A[Ve]=!1,A)}function fe(Ve,Pn){L[Ve]!=Pn&&(Pn===""||Pn==null?(delete L[Ve],n(16,L)):n(16,L[Ve]=Pn,L))}function ee(Ve,Pn){$[Ve]!==Pn&&n(17,$[Ve]=Pn,$)}function He(Ve){!Ve.defaultPrevented&&E&&E.handleClick()}function Mt(Ve,Pn){n(18,k=!0),Pn&&E.setFocusOnActivate(!1),E.activate(Ve),Pn&&E.setFocusOnActivate(G)}function pe(){n(18,k=!1),E.deactivate()}function Dt(){je().focus()}function je(){return _.getElement()}function Et(Ve){rt[Ve?"unshift":"push"](()=>{w=Ve,n(14,w)})}function Cn(Ve){rt[Ve?"unshift":"push"](()=>{S=Ve,n(13,S)})}function Zn(Ve){rt[Ve?"unshift":"push"](()=>{w=Ve,n(14,w)})}function et(Ve){rt[Ve?"unshift":"push"](()=>{_=Ve,n(12,_)})}return e.$$set=Ve=>{t=Ue(Ue({},t),mn(Ve)),n(25,s=wt(t,r)),"use"in Ve&&n(0,l=Ve.use),"class"in Ve&&n(1,c=Ve.class),"style"in Ve&&n(2,f=Ve.style),"tab"in Ve&&n(26,u=Ve.tab),"ripple"in Ve&&n(3,h=Ve.ripple),"stacked"in Ve&&n(4,d=Ve.stacked),"minWidth"in Ve&&n(5,g=Ve.minWidth),"indicatorSpanOnlyContent"in Ve&&n(6,m=Ve.indicatorSpanOnlyContent),"href"in Ve&&n(7,p=Ve.href),"content$use"in Ve&&n(8,v=Ve.content$use),"content$class"in Ve&&n(9,b=Ve.content$class),"component"in Ve&&n(10,V=Ve.component),"tag"in Ve&&n(11,j=Ve.tag),"$$scope"in Ve&&n(37,o=Ve.$$scope)},e.$$.update=()=>{e.$$.dirty[1]&1&&E&&E.setFocusOnActivate(G)},[l,c,f,h,d,g,m,p,v,b,V,j,_,S,w,A,L,$,k,se,a,ne,U,fe,He,s,u,Mt,pe,Dt,je,E,i,Et,Cn,Zn,et,o]}class FU extends Qt{constructor(t){super(),Kt(this,t,DU,IU,Xt,{use:0,class:1,style:2,tab:26,ripple:3,stacked:4,minWidth:5,indicatorSpanOnlyContent:6,href:7,content$use:8,content$class:9,component:10,tag:11,activate:27,deactivate:28,focus:29,getElement:30},null,[-1,-1])}get activate(){return this.$$.ctx[27]}get deactivate(){return this.$$.ctx[28]}get focus(){return this.$$.ctx[29]}get getElement(){return this.$$.ctx[30]}}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ob={ANIMATING:"mdc-tab-scroller--animating",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll",SCROLL_TEST:"mdc-tab-scroller__test"},kU={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Dd=function(){function e(t){this.adapter=t}return e}();/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var xU=function(e){Gn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(){var n=this.adapter.getScrollAreaScrollLeft(),r=this.calculateScrollEdges().right;return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.calculateScrollEdges(),s=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(r.right-n);return{finalScrollPosition:i,scrollDelta:i-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n){return n},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t}(Dd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var BU=function(e){Gn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(n-r)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n,r){return n-r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:r-n,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.max(Math.min(r.right,n),r.left)},t}(Dd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var GU=function(e){Gn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r+n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.getAnimatingScrollPosition=function(n,r){return n+r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:n-r,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.right,n),r.left)},t}(Dd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var NU=function(e){Gn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.isAnimating=!1,r}return Object.defineProperty(t,"cssClasses",{get:function(){return Ob},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return kU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{eventTargetMatchesSelector:function(){return!1},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){return""},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){return 0},getScrollContentOffsetWidth:function(){return 0},getScrollAreaOffsetWidth:function(){return 0},computeScrollAreaClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeScrollContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeHorizontalScrollbarHeight:function(){return 0}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this.adapter.computeHorizontalScrollbarHeight();this.adapter.setScrollAreaStyleProperty("margin-bottom",-n+"px"),this.adapter.addScrollAreaClass(t.cssClasses.SCROLL_AREA_SCROLL)},t.prototype.getScrollPosition=function(){if(this.isRTL())return this.computeCurrentScrollPositionRTL();var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return r-n},t.prototype.handleInteraction=function(){this.isAnimating&&this.stopScrollAnimation()},t.prototype.handleTransitionEnd=function(n){var r=n.target;!this.isAnimating||!this.adapter.eventTargetMatchesSelector(r,t.strings.CONTENT_SELECTOR)||(this.isAnimating=!1,this.adapter.removeClass(t.cssClasses.ANIMATING))},t.prototype.incrementScroll=function(n){n!==0&&this.animate(this.getIncrementScrollOperation(n))},t.prototype.incrementScrollImmediate=function(n){if(n!==0){var r=this.getIncrementScrollOperation(n);r.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(r.finalScrollPosition))}},t.prototype.scrollTo=function(n){if(this.isRTL()){this.scrollToImplRTL(n);return}this.scrollToImpl(n)},t.prototype.getRTLScroller=function(){return this.rtlScrollerInstance||(this.rtlScrollerInstance=this.rtlScrollerFactory()),this.rtlScrollerInstance},t.prototype.calculateCurrentTranslateX=function(){var n=this.adapter.getScrollContentStyleValue("transform");if(n==="none")return 0;var r=/\((.+?)\)/.exec(n);if(!r)return 0;var s=r[1],i=ov(s.split(","),6);i[0],i[1],i[2],i[3];var o=i[4];return i[5],parseFloat(o)},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t.prototype.computeCurrentScrollPositionRTL=function(){var n=this.calculateCurrentTranslateX();return this.getRTLScroller().getScrollPositionRTL(n)},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.scrollToImpl=function(n){var r=this.getScrollPosition(),s=this.clampScrollValue(n),i=s-r;this.animate({finalScrollPosition:s,scrollDelta:i})},t.prototype.scrollToImplRTL=function(n){var r=this.getRTLScroller().scrollToRTL(n);this.animate(r)},t.prototype.getIncrementScrollOperation=function(n){if(this.isRTL())return this.getRTLScroller().incrementScrollRTL(n);var r=this.getScrollPosition(),s=n+r,i=this.clampScrollValue(s),o=i-r;return{finalScrollPosition:i,scrollDelta:o}},t.prototype.animate=function(n){var r=this;n.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(n.finalScrollPosition),this.adapter.setScrollContentStyleProperty("transform","translateX("+n.scrollDelta+"px)"),this.adapter.computeScrollAreaClientRect(),requestAnimationFrame(function(){r.adapter.addClass(t.cssClasses.ANIMATING),r.adapter.setScrollContentStyleProperty("transform","none")}),this.isAnimating=!0)},t.prototype.stopScrollAnimation=function(){this.isAnimating=!1;var n=this.getAnimatingScrollPosition();this.adapter.removeClass(t.cssClasses.ANIMATING),this.adapter.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter.setScrollAreaScrollLeft(n)},t.prototype.getAnimatingScrollPosition=function(){var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return this.isRTL()?this.getRTLScroller().getAnimatingScrollPosition(r,n):r-n},t.prototype.rtlScrollerFactory=function(){var n=this.adapter.getScrollAreaScrollLeft();this.adapter.setScrollAreaScrollLeft(n-1);var r=this.adapter.getScrollAreaScrollLeft();if(r<0)return this.adapter.setScrollAreaScrollLeft(n),new BU(this.adapter);var s=this.adapter.computeScrollAreaClientRect(),i=this.adapter.computeScrollContentClientRect(),o=Math.round(i.right-s.right);return this.adapter.setScrollAreaScrollLeft(n),o===r?new GU(this.adapter):new xU(this.adapter)},t.prototype.isRTL=function(){return this.adapter.getScrollContentStyleValue("direction")==="rtl"},t}(Er);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ku;function VU(e,t){if(t===void 0&&(t=!0),t&&typeof ku<"u")return ku;var n=e.createElement("div");n.classList.add(Ob.SCROLL_TEST),e.body.appendChild(n);var r=n.offsetHeight-n.clientHeight;return e.body.removeChild(n),t&&(ku=r),r}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var xn={ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",ENTER_KEY:"Enter",HOME_KEY:"Home",SPACE_KEY:"Space",TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab"},Or={ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,ENTER_KEYCODE:13,EXTRA_SCROLL_AMOUNT:20,HOME_KEYCODE:36,SPACE_KEYCODE:32};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ui=new Set;ui.add(xn.ARROW_LEFT_KEY);ui.add(xn.ARROW_RIGHT_KEY);ui.add(xn.END_KEY);ui.add(xn.HOME_KEY);ui.add(xn.ENTER_KEY);ui.add(xn.SPACE_KEY);var di=new Map;di.set(Or.ARROW_LEFT_KEYCODE,xn.ARROW_LEFT_KEY);di.set(Or.ARROW_RIGHT_KEYCODE,xn.ARROW_RIGHT_KEY);di.set(Or.END_KEYCODE,xn.END_KEY);di.set(Or.HOME_KEYCODE,xn.HOME_KEY);di.set(Or.ENTER_KEYCODE,xn.ENTER_KEY);di.set(Or.SPACE_KEYCODE,xn.SPACE_KEY);var $U=function(e){Gn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.useAutomaticActivation=!1,r}return Object.defineProperty(t,"strings",{get:function(){return xn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Or},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){return 0},getScrollContentWidth:function(){return 0},getOffsetWidth:function(){return 0},isRTL:function(){return!1},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabDimensionsAtIndex:function(){return{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:function(){return-1},getFocusedTabIndex:function(){return-1},getIndexOfTabById:function(){return-1},getTabListLength:function(){return 0},notifyTabActivated:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setUseAutomaticActivation=function(n){this.useAutomaticActivation=n},t.prototype.activateTab=function(n){var r=this.adapter.getPreviousActiveTabIndex();if(!(!this.indexIsInRange(n)||n===r)){var s;r!==-1&&(this.adapter.deactivateTabAtIndex(r),s=this.adapter.getTabIndicatorClientRectAtIndex(r)),this.adapter.activateTabAtIndex(n,s),this.scrollIntoView(n),this.adapter.notifyTabActivated(n)}},t.prototype.handleKeyDown=function(n){var r=this.getKeyFromEvent(n);if(r!==void 0)if(this.isActivationKey(r)||n.preventDefault(),this.useAutomaticActivation){if(this.isActivationKey(r))return;var s=this.determineTargetFromKey(this.adapter.getPreviousActiveTabIndex(),r);this.adapter.setActiveTab(s),this.scrollIntoView(s)}else{var i=this.adapter.getFocusedTabIndex();if(this.isActivationKey(r))this.adapter.setActiveTab(i);else{var s=this.determineTargetFromKey(i,r);this.adapter.focusTabAtIndex(s),this.scrollIntoView(s)}}},t.prototype.handleTabInteraction=function(n){this.adapter.setActiveTab(this.adapter.getIndexOfTabById(n.detail.tabId))},t.prototype.scrollIntoView=function(n){if(this.indexIsInRange(n)){if(n===0){this.adapter.scrollTo(0);return}if(n===this.adapter.getTabListLength()-1){this.adapter.scrollTo(this.adapter.getScrollContentWidth());return}if(this.isRTL()){this.scrollIntoViewImplRTL(n);return}this.scrollIntoViewImpl(n)}},t.prototype.determineTargetFromKey=function(n,r){var s=this.isRTL(),i=this.adapter.getTabListLength()-1,o=r===xn.END_KEY,a=r===xn.ARROW_LEFT_KEY&&!s||r===xn.ARROW_RIGHT_KEY&&s,l=r===xn.ARROW_RIGHT_KEY&&!s||r===xn.ARROW_LEFT_KEY&&s,c=n;return o?c=i:a?c-=1:l?c+=1:c=0,c<0?c=i:c>i&&(c=0),c},t.prototype.calculateScrollIncrement=function(n,r,s,i){var o=this.adapter.getTabDimensionsAtIndex(r),a=o.contentLeft-s-i,l=o.contentRight-s,c=l-Or.EXTRA_SCROLL_AMOUNT,f=a+Or.EXTRA_SCROLL_AMOUNT;return r<n?Math.min(c,0):Math.max(f,0)},t.prototype.calculateScrollIncrementRTL=function(n,r,s,i,o){var a=this.adapter.getTabDimensionsAtIndex(r),l=o-a.contentLeft-s,c=o-a.contentRight-s-i,f=c+Or.EXTRA_SCROLL_AMOUNT,u=l-Or.EXTRA_SCROLL_AMOUNT;return r>n?Math.max(f,0):Math.min(u,0)},t.prototype.findAdjacentTabIndexClosestToEdge=function(n,r,s,i){var o=r.rootLeft-s,a=r.rootRight-s-i,l=o+a,c=o<0||l<0,f=a>0||l>0;return c?n-1:f?n+1:-1},t.prototype.findAdjacentTabIndexClosestToEdgeRTL=function(n,r,s,i,o){var a=o-r.rootLeft-i-s,l=o-r.rootRight-s,c=a+l,f=a>0||c>0,u=l<0||c<0;return f?n+1:u?n-1:-1},t.prototype.getKeyFromEvent=function(n){return ui.has(n.key)?n.key:di.get(n.keyCode)},t.prototype.isActivationKey=function(n){return n===xn.SPACE_KEY||n===xn.ENTER_KEY},t.prototype.indexIsInRange=function(n){return n>=0&&n<this.adapter.getTabListLength()},t.prototype.isRTL=function(){return this.adapter.isRTL()},t.prototype.scrollIntoViewImpl=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.findAdjacentTabIndexClosestToEdge(n,i,r,s);if(this.indexIsInRange(o)){var a=this.calculateScrollIncrement(n,o,r,s);this.adapter.incrementScroll(a)}},t.prototype.scrollIntoViewImplRTL=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.adapter.getScrollContentWidth(),a=this.findAdjacentTabIndexClosestToEdgeRTL(n,i,r,s,o);if(this.indexIsInRange(a)){var l=this.calculateScrollIncrementRTL(n,a,r,s,o);this.adapter.incrementScroll(l)}},t}(Er);function UU(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g;const m=e[23].default,p=Bt(m,e,e[22],null);let v=[{class:s=ut({[e[6]]:!0,"mdc-tab-scroller__scroll-content":!0})},{style:i=Object.entries(e[14]).map(rg).join(" ")},qt(e[16],"scrollContent$")],b={};for(let A=0;A<v.length;A+=1)b=Ue(b,v[A]);let _=[{class:a=ut({[e[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...e[12]})},{style:l=Object.entries(e[13]).map(sg).join(" ")},qt(e[16],"scrollArea$")],E={};for(let A=0;A<_.length;A+=1)E=Ue(E,_[A]);let S=[{class:f=ut({[e[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":e[2]==="start","mdc-tab-scroller--align-end":e[2]==="end","mdc-tab-scroller--align-center":e[2]==="center",...e[11]})},Wn(e[16],["scrollArea$","scrollContent$"])],w={};for(let A=0;A<S.length;A+=1)w=Ue(w,S[A]);return{c(){t=dt("div"),n=dt("div"),r=dt("div"),p&&p.c(),At(r,b),At(n,E),At(t,w)},m(A,L){Ae(A,t,L),xt(t,n),xt(n,r),p&&p.m(r,null),e[24](r),e[26](n),e[32](t),h=!0,d||(g=[_t(o=an.call(null,r,e[5])),kt(r,"transitionend",e[25]),_t(c=an.call(null,n,e[3])),kt(n,"wheel",e[27],{passive:!0}),kt(n,"touchstart",e[28],{passive:!0}),kt(n,"pointerdown",e[29]),kt(n,"mousedown",e[30]),kt(n,"keydown",e[31]),_t(u=an.call(null,t,e[0])),_t(e[15].call(null,t))],d=!0)},p(A,L){p&&p.p&&(!h||L[0]&4194304)&&Nt(p,m,A,A[22],h?Gt(m,A[22],L,null):Vt(A[22]),null),At(r,b=It(v,[(!h||L[0]&64&&s!==(s=ut({[A[6]]:!0,"mdc-tab-scroller__scroll-content":!0})))&&{class:s},(!h||L[0]&16384&&i!==(i=Object.entries(A[14]).map(rg).join(" ")))&&{style:i},L[0]&65536&&qt(A[16],"scrollContent$")])),o&&jt(o.update)&&L[0]&32&&o.update.call(null,A[5]),At(n,E=It(_,[(!h||L[0]&4112&&a!==(a=ut({[A[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...A[12]})))&&{class:a},(!h||L[0]&8192&&l!==(l=Object.entries(A[13]).map(sg).join(" ")))&&{style:l},L[0]&65536&&qt(A[16],"scrollArea$")])),c&&jt(c.update)&&L[0]&8&&c.update.call(null,A[3]),At(t,w=It(S,[(!h||L[0]&2054&&f!==(f=ut({[A[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":A[2]==="start","mdc-tab-scroller--align-end":A[2]==="end","mdc-tab-scroller--align-center":A[2]==="center",...A[11]})))&&{class:f},L[0]&65536&&Wn(A[16],["scrollArea$","scrollContent$"])])),u&&jt(u.update)&&L[0]&1&&u.update.call(null,A[0])},i(A){h||(K(p,A),h=!0)},o(A){oe(p,A),h=!1},d(A){A&&_e(t),p&&p.d(A),e[24](null),e[26](null),e[32](null),d=!1,cn(g)}}}const rg=([e,t])=>`${e}: ${t};`,sg=([e,t])=>`${e}: ${t};`;function HU(e,t,n){const r=["use","class","align","scrollArea$use","scrollArea$class","scrollContent$use","scrollContent$class","getScrollPosition","getScrollContentWidth","incrementScroll","scrollTo","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const{matches:a}=cv,l=_n(rn());let{use:c=[]}=t,{class:f=""}=t,{align:u=void 0}=t,{scrollArea$use:h=[]}=t,{scrollArea$class:d=""}=t,{scrollContent$use:g=[]}=t,{scrollContent$class:m=""}=t,p,v,b,_,E={},S={},w={},A={};Yn(()=>(n(8,v=new NU({eventTargetMatchesSelector:(et,Ve)=>a(et,Ve),addClass:L,removeClass:$,addScrollAreaClass:G,setScrollAreaStyleProperty:k,setScrollContentStyleProperty:se,getScrollContentStyleValue:V,setScrollAreaScrollLeft:et=>n(9,b.scrollLeft=et,b),getScrollAreaScrollLeft:()=>b.scrollLeft,getScrollContentOffsetWidth:()=>_.offsetWidth,getScrollAreaOffsetWidth:()=>b.offsetWidth,computeScrollAreaClientRect:()=>b.getBoundingClientRect(),computeScrollContentClientRect:()=>_.getBoundingClientRect(),computeHorizontalScrollbarHeight:()=>VU(document)})),v.init(),()=>{v.destroy()}));function L(et){E[et]||n(11,E[et]=!0,E)}function $(et){(!(et in E)||E[et])&&n(11,E[et]=!1,E)}function G(et){S[et]||n(12,S[et]=!0,S)}function k(et,Ve){w[et]!=Ve&&(Ve===""||Ve==null?(delete w[et],n(13,w)):n(13,w[et]=Ve,w))}function se(et,Ve){A[et]!=Ve&&(Ve===""||Ve==null?(delete A[et],n(14,A)):n(14,A[et]=Ve,A))}function V(et){return et in A?A[et]:getComputedStyle(_).getPropertyValue(et)}function j(){return v.getScrollPosition()}function Oe(){return _.offsetWidth}function ne(et){v.incrementScroll(et)}function U(et){v.scrollTo(et)}function fe(){return p}function ee(et){rt[et?"unshift":"push"](()=>{_=et,n(10,_)})}const He=et=>v&&v.handleTransitionEnd(et);function Mt(et){rt[et?"unshift":"push"](()=>{b=et,n(9,b)})}const pe=()=>v&&v.handleInteraction(),Dt=()=>v&&v.handleInteraction(),je=()=>v&&v.handleInteraction(),Et=()=>v&&v.handleInteraction(),Cn=()=>v&&v.handleInteraction();function Zn(et){rt[et?"unshift":"push"](()=>{p=et,n(7,p)})}return e.$$set=et=>{t=Ue(Ue({},t),mn(et)),n(16,s=wt(t,r)),"use"in et&&n(0,c=et.use),"class"in et&&n(1,f=et.class),"align"in et&&n(2,u=et.align),"scrollArea$use"in et&&n(3,h=et.scrollArea$use),"scrollArea$class"in et&&n(4,d=et.scrollArea$class),"scrollContent$use"in et&&n(5,g=et.scrollContent$use),"scrollContent$class"in et&&n(6,m=et.scrollContent$class),"$$scope"in et&&n(22,o=et.$$scope)},[c,f,u,h,d,g,m,p,v,b,_,E,S,w,A,l,s,j,Oe,ne,U,fe,o,i,ee,He,Mt,pe,Dt,je,Et,Cn,Zn]}class zU extends Qt{constructor(t){super(),Kt(this,t,HU,UU,Xt,{use:0,class:1,align:2,scrollArea$use:3,scrollArea$class:4,scrollContent$use:5,scrollContent$class:6,getScrollPosition:17,getScrollContentWidth:18,incrementScroll:19,scrollTo:20,getElement:21},null,[-1,-1])}get getScrollPosition(){return this.$$.ctx[17]}get getScrollContentWidth(){return this.$$.ctx[18]}get incrementScroll(){return this.$$.ctx[19]}get scrollTo(){return this.$$.ctx[20]}get getElement(){return this.$$.ctx[21]}}function ig(e,t,n){const r=e.slice();return r[29]=t[n],r}const jU=e=>({tab:e[0]&4}),og=e=>({tab:e[29]});function ag(e,t){let n,r;const s=t[21].default,i=Bt(s,t,t[24],og);return{key:e,first:null,c(){n=pn(),i&&i.c(),this.first=n},m(o,a){Ae(o,n,a),i&&i.m(o,a),r=!0},p(o,a){t=o,i&&i.p&&(!r||a[0]&16777220)&&Nt(i,s,t,t[24],r?Gt(s,t[24],a,jU):Vt(t[24]),og)},i(o){r||(K(i,o),r=!0)},o(o){oe(i,o),r=!1},d(o){o&&_e(n),i&&i.d(o)}}}function qU(e){let t=[],n=new Map,r,s,i=Ur(e[2]);const o=a=>a[3](a[29]);for(let a=0;a<i.length;a+=1){let l=ig(e,i,a),c=o(l);n.set(c,t[a]=ag(c,l))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();r=pn()},m(a,l){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(a,l);Ae(a,r,l),s=!0},p(a,l){l[0]&16777228&&(i=Ur(a[2]),Wt(),t=nv(t,l,o,1,a,i,n,r.parentNode,tv,ag,r,ig),Yt())},i(a){if(!s){for(let l=0;l<i.length;l+=1)K(t[l]);s=!0}},o(a){for(let l=0;l<t.length;l+=1)oe(t[l]);s=!1},d(a){a&&_e(r);for(let l=0;l<t.length;l+=1)t[l].d(a)}}}function XU(e){let t,n,r,s,i,o,a;const l=[qt(e[11],"tabScroller$")];let c={$$slots:{default:[qU]},$$scope:{ctx:e}};for(let h=0;h<l.length;h+=1)c=Ue(c,l[h]);n=new zU({props:c}),e[22](n);let f=[{class:r=ut({[e[1]]:!0,"mdc-tab-bar":!0})},{role:"tablist"},{tabindex:e[4]},Wn(e[11],["tabScroller$"])],u={};for(let h=0;h<f.length;h+=1)u=Ue(u,f[h]);return{c(){t=dt("div"),Je(n.$$.fragment),At(t,u)},m(h,d){Ae(h,t,d),Ke(n,t,null),e[23](t),i=!0,o||(a=[_t(s=an.call(null,t,e[0])),_t(e[8].call(null,t)),kt(t,"SMUITab:mount",e[9]),kt(t,"SMUITab:unmount",e[10]),kt(t,"SMUITab:interacted",function(){jt(e[5]&&e[5].handleTabInteraction.bind(e[5]))&&(e[5]&&e[5].handleTabInteraction.bind(e[5])).apply(this,arguments)}),kt(t,"keydown",function(){jt(e[5]&&e[5].handleKeyDown.bind(e[5]))&&(e[5]&&e[5].handleKeyDown.bind(e[5])).apply(this,arguments)})],o=!0)},p(h,d){e=h;const g=d[0]&2048?It(l,[hn(qt(e[11],"tabScroller$"))]):{};d[0]&16777220&&(g.$$scope={dirty:d,ctx:e}),n.$set(g),At(t,u=It(f,[(!i||d[0]&2&&r!==(r=ut({[e[1]]:!0,"mdc-tab-bar":!0})))&&{class:r},{role:"tablist"},(!i||d[0]&16)&&{tabindex:e[4]},d[0]&2048&&Wn(e[11],["tabScroller$"])])),s&&jt(s.update)&&d[0]&1&&s.update.call(null,e[0])},i(h){i||(K(n.$$.fragment,h),i=!0)},o(h){oe(n.$$.fragment,h),i=!1},d(h){h&&_e(t),e[22](null),Qe(n),e[23](null),o=!1,cn(a)}}}function WU(e,t,n){const r=["use","class","tabs","key","focusOnActivate","focusOnProgrammatic","useAutomaticActivation","active","tabindex","scrollIntoView","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{tabs:f=[]}=t,{key:u=U=>U}=t,{focusOnActivate:h=!0}=t,{focusOnProgrammatic:d=!1}=t,{useAutomaticActivation:g=!0}=t,{active:m=void 0}=t,{tabindex:p=0}=t,v,b,_,E=f.indexOf(m),S={},w=new WeakMap,A=!1;cr("SMUI:tab:focusOnActivate",h),cr("SMUI:tab:initialActive",m),Yn(()=>(n(5,b=new $U({scrollTo:U=>_.scrollTo(U),incrementScroll:U=>_.incrementScroll(U),getScrollPosition:()=>_.getScrollPosition(),getScrollContentWidth:()=>_.getScrollContentWidth(),getOffsetWidth:()=>j().offsetWidth,isRTL:()=>getComputedStyle(j()).getPropertyValue("direction")==="rtl",setActiveTab:U=>{n(12,m=f[U]),n(18,E=U),b.activateTab(U)},activateTabAtIndex:(U,fe)=>{var ee;return(ee=G(f[U]))===null||ee===void 0?void 0:ee.activate(fe,A)},deactivateTabAtIndex:U=>{var fe;return(fe=G(f[U]))===null||fe===void 0?void 0:fe.deactivate()},focusTabAtIndex:U=>{var fe;return(fe=G(f[U]))===null||fe===void 0?void 0:fe.focus()},getTabIndicatorClientRectAtIndex:U=>{var fe,ee;return(ee=(fe=G(f[U]))===null||fe===void 0?void 0:fe.computeIndicatorClientRect())!==null&&ee!==void 0?ee:new DOMRect},getTabDimensionsAtIndex:U=>{var fe,ee;return(ee=(fe=G(f[U]))===null||fe===void 0?void 0:fe.computeDimensions())!==null&&ee!==void 0?ee:{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:()=>{var U;for(let fe=0;fe<f.length;fe++)if(!((U=G(f[fe]))===null||U===void 0)&&U.active)return fe;return-1},getFocusedTabIndex:()=>{const U=f.map(ee=>{var He;return(He=G(ee))===null||He===void 0?void 0:He.element}),fe=document.activeElement;return U.indexOf(fe)},getIndexOfTabById:U=>f.indexOf(U),getTabListLength:()=>f.length,notifyTabActivated:U=>Tn(j(),"SMUITabBar:activated",{index:U},void 0,!0)})),b.init(),()=>{b.destroy()}));function L(U){const fe=U.detail;k(fe.tabId,fe)}function $(U){const fe=U.detail;se(fe.tabId)}function G(U){return U instanceof Object?w.get(U):S[U]}function k(U,fe){U instanceof Object?(w.set(U,fe),n(20,w)):(n(19,S[U]=fe,S),n(19,S))}function se(U){U instanceof Object?(w.delete(U),n(20,w)):(delete S[U],n(19,S))}function V(U){b.scrollIntoView(U)}function j(){return v}function Oe(U){rt[U?"unshift":"push"](()=>{_=U,n(7,_)})}function ne(U){rt[U?"unshift":"push"](()=>{v=U,n(6,v)})}return e.$$set=U=>{t=Ue(Ue({},t),mn(U)),n(11,s=wt(t,r)),"use"in U&&n(0,l=U.use),"class"in U&&n(1,c=U.class),"tabs"in U&&n(2,f=U.tabs),"key"in U&&n(3,u=U.key),"focusOnActivate"in U&&n(13,h=U.focusOnActivate),"focusOnProgrammatic"in U&&n(14,d=U.focusOnProgrammatic),"useAutomaticActivation"in U&&n(15,g=U.useAutomaticActivation),"active"in U&&n(12,m=U.active),"tabindex"in U&&n(4,p=U.tabindex),"$$scope"in U&&n(24,o=U.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&282660&&m!==f[E]&&(n(18,E=f.indexOf(m)),b&&(A=!d,b.activateTab(E),A=!1)),e.$$.dirty[0]&1835012&&f.length){const U=f[0]instanceof Object?w.get(f[0]):S[f[0]];U&&U.forceAccessible(E===-1)}e.$$.dirty[0]&32800&&b&&b.setUseAutomaticActivation(g)},[l,c,f,u,p,b,v,_,a,L,$,s,m,h,d,g,V,j,E,S,w,i,Oe,ne,o]}class YU extends Qt{constructor(t){super(),Kt(this,t,WU,XU,Xt,{use:0,class:1,tabs:2,key:3,focusOnActivate:13,focusOnProgrammatic:14,useAutomaticActivation:15,active:12,tabindex:4,scrollIntoView:16,getElement:17},null,[-1,-1])}get scrollIntoView(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ZU={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var KU=function(e){Gn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.shakeAnimationEndHandler=function(){r.handleShakeAnimationEnd()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return ZU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(n){var r=t.cssClasses.LABEL_SHAKE;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.float=function(n){var r=t.cssClasses,s=r.LABEL_FLOAT_ABOVE,i=r.LABEL_SHAKE;n?this.adapter.addClass(s):(this.adapter.removeClass(s),this.adapter.removeClass(i))},t.prototype.setRequired=function(n){var r=t.cssClasses.LABEL_REQUIRED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleShakeAnimationEnd=function(){var n=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(n)},t}(Er);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Qs={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var QU=function(e){Gn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.transitionEndHandler=function(s){r.handleTransitionEnd(s)},r}return Object.defineProperty(t,"cssClasses",{get:function(){return Qs},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},t.prototype.activate=function(){this.adapter.removeClass(Qs.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(Qs.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(n){this.adapter.setStyle("transform-origin",n+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(Qs.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(n){var r=this.adapter.hasClass(Qs.LINE_RIPPLE_DEACTIVATING);n.propertyName==="opacity"&&r&&(this.adapter.removeClass(Qs.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(Qs.LINE_RIPPLE_DEACTIVATING))},t}(Er);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var JU={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},lg={NOTCH_ELEMENT_PADDING:8},eH={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var tH=function(e){Gn(t,e);function t(n){return e.call(this,ln(ln({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"strings",{get:function(){return JU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return eH},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return lg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.notch=function(n){var r=t.cssClasses.OUTLINE_NOTCHED;n>0&&(n+=lg.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(n),this.adapter.addClass(r)},t.prototype.closeNotch=function(){var n=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(n),this.adapter.removeNotchWidthProperty()},t}(Er);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var xu={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},nH={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},cg={LABEL_SCALE:.75},rH=["pattern","min","max","required","step","minlength","maxlength"],sH=["color","date","datetime-local","month","range","time","week"];/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var fg=["mousedown","touchstart"],ug=["click","keydown"],iH=function(e){Gn(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return s.isFocused=!1,s.receivedUserInput=!1,s.valid=!0,s.useNativeValidation=!0,s.validateOnValueChange=!0,s.helperText=r.helperText,s.characterCounter=r.characterCounter,s.leadingIcon=r.leadingIcon,s.trailingIcon=r.trailingIcon,s.inputFocusHandler=function(){s.activateFocus()},s.inputBlurHandler=function(){s.deactivateFocus()},s.inputInputHandler=function(){s.handleInput()},s.setPointerXOffset=function(i){s.setTransformOrigin(i)},s.textFieldInteractionHandler=function(){s.handleTextFieldInteraction()},s.validationAttributeChangeHandler=function(i){s.handleValidationAttributeChange(i)},s}return Object.defineProperty(t,"cssClasses",{get:function(){return nH},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return xu},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return cg},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat",{get:function(){var n=this.getNativeInput().type;return sH.indexOf(n)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n,r,s,i;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var o=_r(fg),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.registerInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=_r(ug),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.registerTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},t.prototype.destroy=function(){var n,r,s,i;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var o=_r(fg),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.deregisterInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=_r(ug),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.deregisterTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},t.prototype.handleTextFieldInteraction=function(){var n=this.adapter.getNativeInput();n&&n.disabled||(this.receivedUserInput=!0)},t.prototype.handleValidationAttributeChange=function(n){var r=this;n.some(function(s){return rH.indexOf(s)>-1?(r.styleValidity(!0),r.adapter.setLabelRequired(r.getNativeInput().required),!0):!1}),n.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},t.prototype.notchOutline=function(n){if(!(!this.adapter.hasOutline()||!this.adapter.hasLabel()))if(n){var r=this.adapter.getLabelWidth()*cg.LABEL_SCALE;this.adapter.notchOutline(r)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.helperText&&(this.helperText.isPersistent()||!this.helperText.isValidation()||!this.valid)&&this.helperText.showToScreenReader()},t.prototype.setTransformOrigin=function(n){if(!(this.isDisabled()||this.adapter.hasOutline())){var r=n.touches,s=r?r[0]:n,i=s.target.getBoundingClientRect(),o=s.clientX-i.left;this.adapter.setLineRippleTransformOrigin(o)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var n=this.isValid();this.styleValidity(n),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},t.prototype.getValue=function(){return this.getNativeInput().value},t.prototype.setValue=function(n){if(this.getValue()!==n&&(this.getNativeInput().value=n),this.setcharacterCounter(n.length),this.validateOnValueChange){var r=this.isValid();this.styleValidity(r)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},t.prototype.setValid=function(n){this.valid=n,this.styleValidity(n);var r=!n&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(r)},t.prototype.setValidateOnValueChange=function(n){this.validateOnValueChange=n},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},t.prototype.setUseNativeValidation=function(n){this.useNativeValidation=n},t.prototype.isDisabled=function(){return this.getNativeInput().disabled},t.prototype.setDisabled=function(n){this.getNativeInput().disabled=n,this.styleDisabled(n)},t.prototype.setHelperTextContent=function(n){this.helperText&&this.helperText.setContent(n)},t.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon&&this.leadingIcon.setAriaLabel(n)},t.prototype.setLeadingIconContent=function(n){this.leadingIcon&&this.leadingIcon.setContent(n)},t.prototype.setTrailingIconAriaLabel=function(n){this.trailingIcon&&this.trailingIcon.setAriaLabel(n)},t.prototype.setTrailingIconContent=function(n){this.trailingIcon&&this.trailingIcon.setContent(n)},t.prototype.setcharacterCounter=function(n){if(this.characterCounter){var r=this.getNativeInput().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(n,r)}},t.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},t.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},t.prototype.styleValidity=function(n){var r=t.cssClasses.INVALID;if(n?this.adapter.removeClass(r):this.adapter.addClass(r),this.helperText){this.helperText.setValidity(n);var s=this.helperText.isValidation();if(!s)return;var i=this.helperText.isVisible(),o=this.helperText.getId();i&&o?this.adapter.setInputAttr(xu.ARIA_DESCRIBEDBY,o):this.adapter.removeInputAttr(xu.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused=function(n){var r=t.cssClasses.FOCUSED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.styleDisabled=function(n){var r=t.cssClasses,s=r.DISABLED,i=r.INVALID;n?(this.adapter.addClass(s),this.adapter.removeClass(i)):this.adapter.removeClass(s),this.leadingIcon&&this.leadingIcon.setDisabled(n),this.trailingIcon&&this.trailingIcon.setDisabled(n)},t.prototype.styleFloating=function(n){var r=t.cssClasses.LABEL_FLOATING;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.getNativeInput=function(){var n=this.adapter?this.adapter.getNativeInput():null;return n||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(Er);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Nr={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},es={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+Nr.ROOT};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var oH=function(e){Gn(t,e);function t(n){return e.call(this,ln(ln({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return Nr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return es},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.adapter.getAttr("id")},t.prototype.isVisible=function(){return this.adapter.getAttr(es.ARIA_HIDDEN)!=="true"},t.prototype.setContent=function(n){this.adapter.setContent(n)},t.prototype.isPersistent=function(){return this.adapter.hasClass(Nr.HELPER_TEXT_PERSISTENT)},t.prototype.setPersistent=function(n){n?this.adapter.addClass(Nr.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(Nr.HELPER_TEXT_PERSISTENT)},t.prototype.isValidation=function(){return this.adapter.hasClass(Nr.HELPER_TEXT_VALIDATION_MSG)},t.prototype.setValidation=function(n){n?this.adapter.addClass(Nr.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(Nr.HELPER_TEXT_VALIDATION_MSG)},t.prototype.showToScreenReader=function(){this.adapter.removeAttr(es.ARIA_HIDDEN)},t.prototype.setValidity=function(n){var r=this.adapter.hasClass(Nr.HELPER_TEXT_PERSISTENT),s=this.adapter.hasClass(Nr.HELPER_TEXT_VALIDATION_MSG),i=s&&!n;i?(this.showToScreenReader(),this.adapter.getAttr(es.ROLE)==="alert"?this.refreshAlertRole():this.adapter.setAttr(es.ROLE,"alert")):this.adapter.removeAttr(es.ROLE),!r&&!i&&this.hide()},t.prototype.hide=function(){this.adapter.setAttr(es.ARIA_HIDDEN,"true")},t.prototype.refreshAlertRole=function(){var n=this;this.adapter.removeAttr(es.ROLE),requestAnimationFrame(function(){n.adapter.setAttr(es.ROLE,"alert")})},t}(Er);function aH(e){let t,n,r,s,i,o,a,l;const c=e[22].default,f=Bt(c,e,e[21],null);let u=[{class:n=ut({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(hg).concat([e[4]]).join(" ")},{for:s=e[5]||(e[11]?e[11].id:void 0)},e[12]],h={};for(let d=0;d<u.length;d+=1)h=Ue(h,u[d]);return{c(){t=dt("label"),f&&f.c(),At(t,h)},m(d,g){Ae(d,t,g),f&&f.m(t,null),e[24](t),o=!0,a||(l=[_t(i=an.call(null,t,e[2])),_t(e[10].call(null,t))],a=!0)},p(d,g){f&&f.p&&(!o||g&2097152)&&Nt(f,c,d,d[21],o?Gt(c,d[21],g,null):Vt(d[21]),null),At(t,h=It(u,[(!o||g&267&&n!==(n=ut({[d[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":d[0],"mdc-floating-label--required":d[1],...d[8]})))&&{class:n},(!o||g&528&&r!==(r=Object.entries(d[9]).map(hg).concat([d[4]]).join(" ")))&&{style:r},(!o||g&32&&s!==(s=d[5]||(d[11]?d[11].id:void 0)))&&{for:s},g&4096&&d[12]])),i&&jt(i.update)&&g&4&&i.update.call(null,d[2])},i(d){o||(K(f,d),o=!0)},o(d){oe(f,d),o=!1},d(d){d&&_e(t),f&&f.d(d),e[24](null),a=!1,cn(l)}}}function lH(e){let t,n,r,s,i,o,a;const l=e[22].default,c=Bt(l,e,e[21],null);let f=[{class:n=ut({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(dg).concat([e[4]]).join(" ")},e[12]],u={};for(let h=0;h<f.length;h+=1)u=Ue(u,f[h]);return{c(){t=dt("span"),c&&c.c(),At(t,u)},m(h,d){Ae(h,t,d),c&&c.m(t,null),e[23](t),i=!0,o||(a=[_t(s=an.call(null,t,e[2])),_t(e[10].call(null,t))],o=!0)},p(h,d){c&&c.p&&(!i||d&2097152)&&Nt(c,l,h,h[21],i?Gt(l,h[21],d,null):Vt(h[21]),null),At(t,u=It(f,[(!i||d&267&&n!==(n=ut({[h[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":h[0],"mdc-floating-label--required":h[1],...h[8]})))&&{class:n},(!i||d&528&&r!==(r=Object.entries(h[9]).map(dg).concat([h[4]]).join(" ")))&&{style:r},d&4096&&h[12]])),s&&jt(s.update)&&d&4&&s.update.call(null,h[2])},i(h){i||(K(c,h),i=!0)},o(h){oe(c,h),i=!1},d(h){h&&_e(t),c&&c.d(h),e[23](null),o=!1,cn(a)}}}function cH(e){let t,n,r,s;const i=[lH,aH],o=[];function a(l,c){return l[6]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=pn()},m(l,c){o[t].m(l,c),Ae(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(Wt(),oe(o[f],1,1,()=>{o[f]=null}),Yt(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),K(n,1),n.m(r.parentNode,r))},i(l){s||(K(n),s=!0)},o(l){oe(n),s=!1},d(l){l&&_e(r),o[t].d(l)}}}const dg=([e,t])=>`${e}: ${t};`,hg=([e,t])=>`${e}: ${t};`;function fH(e,t,n){const r=["use","class","style","for","floatAbove","required","wrapped","shake","float","setRequired","getWidth","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;var a;const l=_n(rn());let{use:c=[]}=t,{class:f=""}=t,{style:u=""}=t,{for:h=void 0}=t,{floatAbove:d=!1}=t,{required:g=!1}=t,{wrapped:m=!1}=t,p,v,b={},_={},E=(a=fr("SMUI:generic:input:props"))!==null&&a!==void 0?a:{},S=d,w=g;Yn(()=>{n(18,v=new KU({addClass:A,removeClass:L,getWidth:()=>{var ee,He;const Mt=Oe(),pe=Mt.cloneNode(!0);(ee=Mt.parentNode)===null||ee===void 0||ee.appendChild(pe),pe.classList.add("smui-floating-label--remove-transition"),pe.classList.add("smui-floating-label--force-size"),pe.classList.remove("mdc-floating-label--float-above");const Dt=pe.scrollWidth;return(He=Mt.parentNode)===null||He===void 0||He.removeChild(pe),Dt},registerInteractionHandler:(ee,He)=>Oe().addEventListener(ee,He),deregisterInteractionHandler:(ee,He)=>Oe().removeEventListener(ee,He)}));const fe={get element(){return Oe()},addStyle:$,removeStyle:G};return Tn(p,"SMUIFloatingLabel:mount",fe),v.init(),()=>{Tn(p,"SMUIFloatingLabel:unmount",fe),v.destroy()}});function A(fe){b[fe]||n(8,b[fe]=!0,b)}function L(fe){(!(fe in b)||b[fe])&&n(8,b[fe]=!1,b)}function $(fe,ee){_[fe]!=ee&&(ee===""||ee==null?(delete _[fe],n(9,_)):n(9,_[fe]=ee,_))}function G(fe){fe in _&&(delete _[fe],n(9,_))}function k(fe){v.shake(fe)}function se(fe){n(0,d=fe)}function V(fe){n(1,g=fe)}function j(){return v.getWidth()}function Oe(){return p}function ne(fe){rt[fe?"unshift":"push"](()=>{p=fe,n(7,p)})}function U(fe){rt[fe?"unshift":"push"](()=>{p=fe,n(7,p)})}return e.$$set=fe=>{t=Ue(Ue({},t),mn(fe)),n(12,s=wt(t,r)),"use"in fe&&n(2,c=fe.use),"class"in fe&&n(3,f=fe.class),"style"in fe&&n(4,u=fe.style),"for"in fe&&n(5,h=fe.for),"floatAbove"in fe&&n(0,d=fe.floatAbove),"required"in fe&&n(1,g=fe.required),"wrapped"in fe&&n(6,m=fe.wrapped),"$$scope"in fe&&n(21,o=fe.$$scope)},e.$$.update=()=>{e.$$.dirty&786433&&v&&S!==d&&(n(19,S=d),v.float(d)),e.$$.dirty&1310722&&v&&w!==g&&(n(20,w=g),v.setRequired(g))},[d,g,c,f,u,h,m,p,b,_,l,E,s,k,se,V,j,Oe,v,S,w,o,i,ne,U]}class Rb extends Qt{constructor(t){super(),Kt(this,t,fH,cH,Xt,{use:2,class:3,style:4,for:5,floatAbove:0,required:1,wrapped:6,shake:13,float:14,setRequired:15,getWidth:16,getElement:17})}get shake(){return this.$$.ctx[13]}get float(){return this.$$.ctx[14]}get setRequired(){return this.$$.ctx[15]}get getWidth(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}function uH(e){let t,n,r,s,i,o,a=[{class:n=ut({[e[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":e[3],...e[5]})},{style:r=Object.entries(e[6]).map(mg).concat([e[2]]).join(" ")},e[8]],l={};for(let c=0;c<a.length;c+=1)l=Ue(l,a[c]);return{c(){t=dt("div"),At(t,l)},m(c,f){Ae(c,t,f),e[13](t),i||(o=[_t(s=an.call(null,t,e[0])),_t(e[7].call(null,t))],i=!0)},p(c,[f]){At(t,l=It(a,[f&42&&n!==(n=ut({[c[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":c[3],...c[5]}))&&{class:n},f&68&&r!==(r=Object.entries(c[6]).map(mg).concat([c[2]]).join(" "))&&{style:r},f&256&&c[8]])),s&&jt(s.update)&&f&1&&s.update.call(null,c[0])},i:Zt,o:Zt,d(c){c&&_e(t),e[13](null),i=!1,cn(o)}}}const mg=([e,t])=>`${e}: ${t};`;function dH(e,t,n){const r=["use","class","style","active","activate","deactivate","setRippleCenter","getElement"];let s=wt(t,r);const i=_n(rn());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{active:c=!1}=t,f,u,h={},d={};Yn(()=>(u=new QU({addClass:m,removeClass:p,hasClass:g,setStyle:v,registerEventHandler:(A,L)=>S().addEventListener(A,L),deregisterEventHandler:(A,L)=>S().removeEventListener(A,L)}),u.init(),()=>{u.destroy()}));function g(A){return A in h?h[A]:S().classList.contains(A)}function m(A){h[A]||n(5,h[A]=!0,h)}function p(A){(!(A in h)||h[A])&&n(5,h[A]=!1,h)}function v(A,L){d[A]!=L&&(L===""||L==null?(delete d[A],n(6,d)):n(6,d[A]=L,d))}function b(){u.activate()}function _(){u.deactivate()}function E(A){u.setRippleCenter(A)}function S(){return f}function w(A){rt[A?"unshift":"push"](()=>{f=A,n(4,f)})}return e.$$set=A=>{t=Ue(Ue({},t),mn(A)),n(8,s=wt(t,r)),"use"in A&&n(0,o=A.use),"class"in A&&n(1,a=A.class),"style"in A&&n(2,l=A.style),"active"in A&&n(3,c=A.active)},[o,a,l,c,f,h,d,i,s,b,_,E,S,w]}class hH extends Qt{constructor(t){super(),Kt(this,t,dH,uH,Xt,{use:0,class:1,style:2,active:3,activate:9,deactivate:10,setRippleCenter:11,getElement:12})}get activate(){return this.$$.ctx[9]}get deactivate(){return this.$$.ctx[10]}get setRippleCenter(){return this.$$.ctx[11]}get getElement(){return this.$$.ctx[12]}}function pg(e){let t,n,r;const s=e[15].default,i=Bt(s,e,e[14],null);return{c(){t=dt("div"),i&&i.c(),pt(t,"class","mdc-notched-outline__notch"),pt(t,"style",n=Object.entries(e[7]).map(gg).join(" "))},m(o,a){Ae(o,t,a),i&&i.m(t,null),r=!0},p(o,a){i&&i.p&&(!r||a&16384)&&Nt(i,s,o,o[14],r?Gt(s,o[14],a,null):Vt(o[14]),null),(!r||a&128&&n!==(n=Object.entries(o[7]).map(gg).join(" ")))&&pt(t,"style",n)},i(o){r||(K(i,o),r=!0)},o(o){oe(i,o),r=!1},d(o){o&&_e(t),i&&i.d(o)}}}function mH(e){let t,n,r,s,i,o,a,l,c,f,u=!e[3]&&pg(e),h=[{class:o=ut({[e[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":e[2],"mdc-notched-outline--no-label":e[3],...e[6]})},e[10]],d={};for(let g=0;g<h.length;g+=1)d=Ue(d,h[g]);return{c(){t=dt("div"),n=dt("div"),r=gt(),u&&u.c(),s=gt(),i=dt("div"),pt(n,"class","mdc-notched-outline__leading"),pt(i,"class","mdc-notched-outline__trailing"),At(t,d)},m(g,m){Ae(g,t,m),xt(t,n),xt(t,r),u&&u.m(t,null),xt(t,s),xt(t,i),e[16](t),l=!0,c||(f=[_t(a=an.call(null,t,e[0])),_t(e[8].call(null,t)),kt(t,"SMUIFloatingLabel:mount",e[9]),kt(t,"SMUIFloatingLabel:unmount",e[17])],c=!0)},p(g,[m]){g[3]?u&&(Wt(),oe(u,1,1,()=>{u=null}),Yt()):u?(u.p(g,m),m&8&&K(u,1)):(u=pg(g),u.c(),K(u,1),u.m(t,s)),At(t,d=It(h,[(!l||m&78&&o!==(o=ut({[g[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":g[2],"mdc-notched-outline--no-label":g[3],...g[6]})))&&{class:o},m&1024&&g[10]])),a&&jt(a.update)&&m&1&&a.update.call(null,g[0])},i(g){l||(K(u),l=!0)},o(g){oe(u),l=!1},d(g){g&&_e(t),u&&u.d(),e[16](null),c=!1,cn(f)}}}const gg=([e,t])=>`${e}: ${t};`;function pH(e,t,n){const r=["use","class","notched","noLabel","notch","closeNotch","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{notched:f=!1}=t,{noLabel:u=!1}=t,h,d,g,m={},p={};Yn(()=>(d=new tH({addClass:b,removeClass:_,setNotchWidthProperty:k=>E("width",k+"px"),removeNotchWidthProperty:()=>S("width")}),d.init(),()=>{d.destroy()}));function v(k){n(4,g=k.detail)}function b(k){m[k]||n(6,m[k]=!0,m)}function _(k){(!(k in m)||m[k])&&n(6,m[k]=!1,m)}function E(k,se){p[k]!=se&&(se===""||se==null?(delete p[k],n(7,p)):n(7,p[k]=se,p))}function S(k){k in p&&(delete p[k],n(7,p))}function w(k){d.notch(k)}function A(){d.closeNotch()}function L(){return h}function $(k){rt[k?"unshift":"push"](()=>{h=k,n(5,h)})}const G=()=>n(4,g=void 0);return e.$$set=k=>{t=Ue(Ue({},t),mn(k)),n(10,s=wt(t,r)),"use"in k&&n(0,l=k.use),"class"in k&&n(1,c=k.class),"notched"in k&&n(2,f=k.notched),"noLabel"in k&&n(3,u=k.noLabel),"$$scope"in k&&n(14,o=k.$$scope)},e.$$.update=()=>{e.$$.dirty&16&&(g?(g.addStyle("transition-duration","0s"),b("mdc-notched-outline--upgraded"),requestAnimationFrame(()=>{g&&g.removeStyle("transition-duration")})):_("mdc-notched-outline--upgraded"))},[l,c,f,u,g,h,m,p,a,v,s,w,A,L,o,i,$,G]}class gH extends Qt{constructor(t){super(),Kt(this,t,pH,mH,Xt,{use:0,class:1,notched:2,noLabel:3,notch:11,closeNotch:12,getElement:13})}get notch(){return this.$$.ctx[11]}get closeNotch(){return this.$$.ctx[12]}get getElement(){return this.$$.ctx[13]}}const vH=to({class:"mdc-text-field-helper-line",tag:"div"}),bH=to({class:"mdc-text-field__affix mdc-text-field__affix--prefix",tag:"span"}),_H=to({class:"mdc-text-field__affix mdc-text-field__affix--suffix",tag:"span"});function yH(e){let t,n,r,s,i,o=[{class:n=ut({[e[1]]:!0,"mdc-text-field__input":!0})},{type:e[2]},{placeholder:e[3]},e[4],e[6],e[10]],a={};for(let l=0;l<o.length;l+=1)a=Ue(a,o[l]);return{c(){t=dt("input"),At(t,a)},m(l,c){Ae(l,t,c),t.autofocus&&t.focus(),e[26](t),s||(i=[_t(r=an.call(null,t,e[0])),_t(e[7].call(null,t)),kt(t,"input",e[27]),kt(t,"change",e[9]),kt(t,"blur",e[24]),kt(t,"focus",e[25])],s=!0)},p(l,[c]){At(t,a=It(o,[c&2&&n!==(n=ut({[l[1]]:!0,"mdc-text-field__input":!0}))&&{class:n},c&4&&{type:l[2]},c&8&&{placeholder:l[3]},c&16&&l[4],c&64&&l[6],c&1024&&l[10]])),r&&jt(r.update)&&c&1&&r.update.call(null,l[0])},i:Zt,o:Zt,d(l){l&&_e(t),e[26](null),s=!1,cn(i)}}}function AH(e){return e===""?Number.NaN:+e}function EH(e,t,n){const r=["use","class","type","placeholder","value","files","dirty","invalid","updateInvalid","emptyValueNull","emptyValueUndefined","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=wt(t,r);const i=_n(rn());let o=()=>{};function a(ee){return ee===o}let{use:l=[]}=t,{class:c=""}=t,{type:f="text"}=t,{placeholder:u=" "}=t,{value:h=o}=t;const d=a(h);d&&(h="");let{files:g=null}=t,{dirty:m=!1}=t,{invalid:p=!1}=t,{updateInvalid:v=!0}=t,{emptyValueNull:b=h===null}=t;d&&b&&(h=null);let{emptyValueUndefined:_=h===void 0}=t;d&&_&&(h=void 0);let E,S={},w={};Yn(()=>{v&&n(14,p=E.matches(":invalid"))});function A(ee){if(f==="file"){n(12,g=ee.currentTarget.files);return}if(ee.currentTarget.value===""&&b){n(11,h=null);return}if(ee.currentTarget.value===""&&_){n(11,h=void 0);return}switch(f){case"number":case"range":n(11,h=AH(ee.currentTarget.value));break;default:n(11,h=ee.currentTarget.value);break}}function L(ee){(f==="file"||f==="range")&&A(ee),n(13,m=!0),v&&n(14,p=E.matches(":invalid"))}function $(ee){var He;return ee in S?(He=S[ee])!==null&&He!==void 0?He:null:j().getAttribute(ee)}function G(ee,He){S[ee]!==He&&n(6,S[ee]=He,S)}function k(ee){(!(ee in S)||S[ee]!=null)&&n(6,S[ee]=void 0,S)}function se(){j().focus()}function V(){j().blur()}function j(){return E}function Oe(ee){Ko.call(this,e,ee)}function ne(ee){Ko.call(this,e,ee)}function U(ee){rt[ee?"unshift":"push"](()=>{E=ee,n(5,E)})}const fe=ee=>f!=="file"&&A(ee);return e.$$set=ee=>{t=Ue(Ue({},t),mn(ee)),n(10,s=wt(t,r)),"use"in ee&&n(0,l=ee.use),"class"in ee&&n(1,c=ee.class),"type"in ee&&n(2,f=ee.type),"placeholder"in ee&&n(3,u=ee.placeholder),"value"in ee&&n(11,h=ee.value),"files"in ee&&n(12,g=ee.files),"dirty"in ee&&n(13,m=ee.dirty),"invalid"in ee&&n(14,p=ee.invalid),"updateInvalid"in ee&&n(15,v=ee.updateInvalid),"emptyValueNull"in ee&&n(16,b=ee.emptyValueNull),"emptyValueUndefined"in ee&&n(17,_=ee.emptyValueUndefined)},e.$$.update=()=>{e.$$.dirty&2068&&(f==="file"?(delete w.value,n(4,w),n(2,f),n(11,h)):n(4,w.value=h??"",w))},[l,c,f,u,w,E,S,i,A,L,s,h,g,m,p,v,b,_,$,G,k,se,V,j,Oe,ne,U,fe]}class SH extends Qt{constructor(t){super(),Kt(this,t,EH,yH,Xt,{use:0,class:1,type:2,placeholder:3,value:11,files:12,dirty:13,invalid:14,updateInvalid:15,emptyValueNull:16,emptyValueUndefined:17,getAttr:18,addAttr:19,removeAttr:20,focus:21,blur:22,getElement:23})}get getAttr(){return this.$$.ctx[18]}get addAttr(){return this.$$.ctx[19]}get removeAttr(){return this.$$.ctx[20]}get focus(){return this.$$.ctx[21]}get blur(){return this.$$.ctx[22]}get getElement(){return this.$$.ctx[23]}}function wH(e){let t,n,r,s,i,o,a=[{class:n=ut({[e[2]]:!0,"mdc-text-field__input":!0})},{style:r=`${e[4]?"":"resize: none; "}${e[3]}`},e[6],e[9]],l={};for(let c=0;c<a.length;c+=1)l=Ue(l,a[c]);return{c(){t=dt("textarea"),At(t,l)},m(c,f){Ae(c,t,f),t.autofocus&&t.focus(),e[21](t),C1(t,e[0]),i||(o=[_t(s=an.call(null,t,e[1])),_t(e[7].call(null,t)),kt(t,"change",e[8]),kt(t,"blur",e[19]),kt(t,"focus",e[20]),kt(t,"input",e[22])],i=!0)},p(c,[f]){At(t,l=It(a,[f&4&&n!==(n=ut({[c[2]]:!0,"mdc-text-field__input":!0}))&&{class:n},f&24&&r!==(r=`${c[4]?"":"resize: none; "}${c[3]}`)&&{style:r},f&64&&c[6],f&512&&c[9]])),s&&jt(s.update)&&f&2&&s.update.call(null,c[1]),f&1&&C1(t,c[0])},i:Zt,o:Zt,d(c){c&&_e(t),e[21](null),i=!1,cn(o)}}}function TH(e,t,n){const r=["use","class","style","value","dirty","invalid","updateInvalid","resizable","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=wt(t,r);const i=_n(rn());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{value:c=""}=t,{dirty:f=!1}=t,{invalid:u=!1}=t,{updateInvalid:h=!0}=t,{resizable:d=!0}=t,g,m={};Yn(()=>{h&&n(11,u=g.matches(":invalid"))});function p(){n(10,f=!0),h&&n(11,u=g.matches(":invalid"))}function v(k){var se;return k in m?(se=m[k])!==null&&se!==void 0?se:null:w().getAttribute(k)}function b(k,se){m[k]!==se&&n(6,m[k]=se,m)}function _(k){(!(k in m)||m[k]!=null)&&n(6,m[k]=void 0,m)}function E(){w().focus()}function S(){w().blur()}function w(){return g}function A(k){Ko.call(this,e,k)}function L(k){Ko.call(this,e,k)}function $(k){rt[k?"unshift":"push"](()=>{g=k,n(5,g)})}function G(){c=this.value,n(0,c)}return e.$$set=k=>{t=Ue(Ue({},t),mn(k)),n(9,s=wt(t,r)),"use"in k&&n(1,o=k.use),"class"in k&&n(2,a=k.class),"style"in k&&n(3,l=k.style),"value"in k&&n(0,c=k.value),"dirty"in k&&n(10,f=k.dirty),"invalid"in k&&n(11,u=k.invalid),"updateInvalid"in k&&n(12,h=k.updateInvalid),"resizable"in k&&n(4,d=k.resizable)},[c,o,a,l,d,g,m,i,p,s,f,u,h,v,b,_,E,S,w,A,L,$,G]}class CH extends Qt{constructor(t){super(),Kt(this,t,TH,wH,Xt,{use:1,class:2,style:3,value:0,dirty:10,invalid:11,updateInvalid:12,resizable:4,getAttr:13,addAttr:14,removeAttr:15,focus:16,blur:17,getElement:18})}get getAttr(){return this.$$.ctx[13]}get addAttr(){return this.$$.ctx[14]}get removeAttr(){return this.$$.ctx[15]}get focus(){return this.$$.ctx[16]}get blur(){return this.$$.ctx[17]}get getElement(){return this.$$.ctx[18]}}const PH=e=>({}),vg=e=>({}),LH=e=>({}),bg=e=>({}),OH=e=>({}),_g=e=>({}),RH=e=>({}),yg=e=>({}),MH=e=>({}),Ag=e=>({}),IH=e=>({}),Eg=e=>({}),DH=e=>({}),Sg=e=>({}),FH=e=>({}),wg=e=>({}),kH=e=>({}),Tg=e=>({}),xH=e=>({}),Cg=e=>({}),BH=e=>({}),Pg=e=>({}),GH=e=>({}),Lg=e=>({});function NH(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g;const m=e[56].label,p=Bt(m,e,e[87],Ag);r=new Yi({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[$H]},$$scope:{ctx:e}}});const v=e[56].default,b=Bt(v,e,e[87],null);o=new Yi({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[UH]},$$scope:{ctx:e}}});const _=e[56].ripple,E=Bt(_,e,e[87],bg);let S=[{class:l=ut({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||!e[47].label,"mdc-text-field--with-leading-icon":e[47].leadingIcon,"mdc-text-field--with-trailing-icon":e[47].trailingIcon,"mdc-text-field--invalid":e[1],...e[25]})},{style:c=Object.entries(e[26]).map(Ng).concat([e[10]]).join(" ")},Wn(e[46],["input$","label$","ripple$","outline$","helperLine$"])],w={};for(let A=0;A<S.length;A+=1)w=Ue(w,S[A]);return{c(){t=dt("div"),p&&p.c(),n=gt(),Je(r.$$.fragment),s=gt(),b&&b.c(),i=gt(),Je(o.$$.fragment),a=gt(),E&&E.c(),At(t,w)},m(A,L){Ae(A,t,L),p&&p.m(t,null),xt(t,n),Ke(r,t,null),xt(t,s),b&&b.m(t,null),xt(t,i),Ke(o,t,null),xt(t,a),E&&E.m(t,null),e[82](t),h=!0,d||(g=[_t(f=Hr.call(null,t,{ripple:e[11],unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45]})),_t(u=an.call(null,t,e[8])),_t(e[34].call(null,t)),kt(t,"SMUITextfieldLeadingIcon:mount",e[38]),kt(t,"SMUITextfieldLeadingIcon:unmount",e[83]),kt(t,"SMUITextfieldTrailingIcon:mount",e[39]),kt(t,"SMUITextfieldTrailingIcon:unmount",e[84])],d=!0)},p(A,L){p&&p.p&&(!h||L[2]&33554432)&&Nt(p,m,A,A[87],h?Gt(m,A[87],L,MH):Vt(A[87]),Ag);const $={};L[2]&33554432&&($.$$scope={dirty:L,ctx:A}),r.$set($),b&&b.p&&(!h||L[2]&33554432)&&Nt(b,v,A,A[87],h?Gt(v,A[87],L,null):Vt(A[87]),null);const G={};L[2]&33554432&&(G.$$scope={dirty:L,ctx:A}),o.$set(G),E&&E.p&&(!h||L[2]&33554432)&&Nt(E,_,A,A[87],h?Gt(_,A[87],L,LH):Vt(A[87]),bg),At(t,w=It(S,[(!h||L[0]&33673730|L[1]&65536&&l!==(l=ut({[A[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":A[12],"mdc-text-field--textarea":A[14],"mdc-text-field--filled":A[15]==="filled","mdc-text-field--outlined":A[15]==="outlined","smui-text-field--standard":A[15]==="standard"&&!A[14],"mdc-text-field--no-label":A[16]||!A[47].label,"mdc-text-field--with-leading-icon":A[47].leadingIcon,"mdc-text-field--with-trailing-icon":A[47].trailingIcon,"mdc-text-field--invalid":A[1],...A[25]})))&&{class:l},(!h||L[0]&67109888&&c!==(c=Object.entries(A[26]).map(Ng).concat([A[10]]).join(" ")))&&{style:c},L[1]&32768&&Wn(A[46],["input$","label$","ripple$","outline$","helperLine$"])])),f&&jt(f.update)&&L[0]&2048&&f.update.call(null,{ripple:A[11],unbounded:!1,addClass:A[43],removeClass:A[44],addStyle:A[45]}),u&&jt(u.update)&&L[0]&256&&u.update.call(null,A[8])},i(A){h||(K(p,A),K(r.$$.fragment,A),K(b,A),K(o.$$.fragment,A),K(E,A),h=!0)},o(A){oe(p,A),oe(r.$$.fragment,A),oe(b,A),oe(o.$$.fragment,A),oe(E,A),h=!1},d(A){A&&_e(t),p&&p.d(A),Qe(r),b&&b.d(A),Qe(o),E&&E.d(A),e[82](null),d=!1,cn(g)}}}function VH(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g,m,p,v,b,_=!e[14]&&e[15]!=="outlined"&&Og(e),E=(e[14]||e[15]==="outlined")&&Ig(e);s=new Yi({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[qH]},$$scope:{ctx:e}}});const S=e[56].default,w=Bt(S,e,e[87],null),A=[WH,XH],L=[];function $(V,j){return V[14]&&typeof V[0]=="string"?0:1}a=$(e),l=L[a]=A[a](e),f=new Yi({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[KH]},$$scope:{ctx:e}}});let G=!e[14]&&e[15]!=="outlined"&&e[11]&&xg(e),k=[{class:h=ut({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||e[17]==null&&!e[47].label,"mdc-text-field--label-floating":e[28]||e[0]!=null&&e[0]!=="","mdc-text-field--with-leading-icon":e[35](e[22])?e[47].leadingIcon:e[22],"mdc-text-field--with-trailing-icon":e[35](e[23])?e[47].trailingIcon:e[23],"mdc-text-field--with-internal-counter":e[14]&&e[47].internalCounter,"mdc-text-field--invalid":e[1],...e[25]})},{style:d=Object.entries(e[26]).map(Gg).concat([e[10]]).join(" ")},{for:void 0},Wn(e[46],["input$","label$","ripple$","outline$","helperLine$"])],se={};for(let V=0;V<k.length;V+=1)se=Ue(se,k[V]);return{c(){t=dt("label"),_&&_.c(),n=gt(),E&&E.c(),r=gt(),Je(s.$$.fragment),i=gt(),w&&w.c(),o=gt(),l.c(),c=gt(),Je(f.$$.fragment),u=gt(),G&&G.c(),At(t,se)},m(V,j){Ae(V,t,j),_&&_.m(t,null),xt(t,n),E&&E.m(t,null),xt(t,r),Ke(s,t,null),xt(t,i),w&&w.m(t,null),xt(t,o),L[a].m(t,null),xt(t,c),Ke(f,t,null),xt(t,u),G&&G.m(t,null),e[78](t),p=!0,v||(b=[_t(g=Hr.call(null,t,{ripple:!e[14]&&e[15]==="filled",unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45],eventTarget:e[33],activeTarget:e[33],initPromise:e[37]})),_t(m=an.call(null,t,e[8])),_t(e[34].call(null,t)),kt(t,"SMUITextfieldLeadingIcon:mount",e[38]),kt(t,"SMUITextfieldLeadingIcon:unmount",e[79]),kt(t,"SMUITextfieldTrailingIcon:mount",e[39]),kt(t,"SMUITextfieldTrailingIcon:unmount",e[80]),kt(t,"SMUITextfieldCharacterCounter:mount",e[40]),kt(t,"SMUITextfieldCharacterCounter:unmount",e[81])],v=!0)},p(V,j){!V[14]&&V[15]!=="outlined"?_?(_.p(V,j),j[0]&49152&&K(_,1)):(_=Og(V),_.c(),K(_,1),_.m(t,n)):_&&(Wt(),oe(_,1,1,()=>{_=null}),Yt()),V[14]||V[15]==="outlined"?E?(E.p(V,j),j[0]&49152&&K(E,1)):(E=Ig(V),E.c(),K(E,1),E.m(t,r)):E&&(Wt(),oe(E,1,1,()=>{E=null}),Yt());const Oe={};j[2]&33554432&&(Oe.$$scope={dirty:j,ctx:V}),s.$set(Oe),w&&w.p&&(!p||j[2]&33554432)&&Nt(w,S,V,V[87],p?Gt(S,V[87],j,null):Vt(V[87]),null);let ne=a;a=$(V),a===ne?L[a].p(V,j):(Wt(),oe(L[ne],1,1,()=>{L[ne]=null}),Yt(),l=L[a],l?l.p(V,j):(l=L[a]=A[a](V),l.c()),K(l,1),l.m(t,c));const U={};j[2]&33554432&&(U.$$scope={dirty:j,ctx:V}),f.$set(U),!V[14]&&V[15]!=="outlined"&&V[11]?G?(G.p(V,j),j[0]&51200&&K(G,1)):(G=xg(V),G.c(),K(G,1),G.m(t,null)):G&&(Wt(),oe(G,1,1,()=>{G=null}),Yt()),At(t,se=It(k,[(!p||j[0]&314823171|j[1]&65536&&h!==(h=ut({[V[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":V[12],"mdc-text-field--textarea":V[14],"mdc-text-field--filled":V[15]==="filled","mdc-text-field--outlined":V[15]==="outlined","smui-text-field--standard":V[15]==="standard"&&!V[14],"mdc-text-field--no-label":V[16]||V[17]==null&&!V[47].label,"mdc-text-field--label-floating":V[28]||V[0]!=null&&V[0]!=="","mdc-text-field--with-leading-icon":V[35](V[22])?V[47].leadingIcon:V[22],"mdc-text-field--with-trailing-icon":V[35](V[23])?V[47].trailingIcon:V[23],"mdc-text-field--with-internal-counter":V[14]&&V[47].internalCounter,"mdc-text-field--invalid":V[1],...V[25]})))&&{class:h},(!p||j[0]&67109888&&d!==(d=Object.entries(V[26]).map(Gg).concat([V[10]]).join(" ")))&&{style:d},{for:void 0},j[1]&32768&&Wn(V[46],["input$","label$","ripple$","outline$","helperLine$"])])),g&&jt(g.update)&&j[0]&49152|j[1]&4&&g.update.call(null,{ripple:!V[14]&&V[15]==="filled",unbounded:!1,addClass:V[43],removeClass:V[44],addStyle:V[45],eventTarget:V[33],activeTarget:V[33],initPromise:V[37]}),m&&jt(m.update)&&j[0]&256&&m.update.call(null,V[8])},i(V){p||(K(_),K(E),K(s.$$.fragment,V),K(w,V),K(l),K(f.$$.fragment,V),K(G),p=!0)},o(V){oe(_),oe(E),oe(s.$$.fragment,V),oe(w,V),oe(l),oe(f.$$.fragment,V),oe(G),p=!1},d(V){V&&_e(t),_&&_.d(),E&&E.d(),Qe(s),w&&w.d(V),L[a].d(),Qe(f),G&&G.d(),e[78](null),v=!1,cn(b)}}}function $H(e){let t;const n=e[56].leadingIcon,r=Bt(n,e,e[87],yg);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Gt(n,s[87],i,RH):Vt(s[87]),yg)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function UH(e){let t;const n=e[56].trailingIcon,r=Bt(n,e,e[87],_g);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Gt(n,s[87],i,OH):Vt(s[87]),_g)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function Og(e){let t,n,r,s=e[15]==="filled"&&Rg(),i=!e[16]&&(e[17]!=null||e[47].label)&&Mg(e);return{c(){s&&s.c(),t=gt(),i&&i.c(),n=pn()},m(o,a){s&&s.m(o,a),Ae(o,t,a),i&&i.m(o,a),Ae(o,n,a),r=!0},p(o,a){o[15]==="filled"?s||(s=Rg(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),!o[16]&&(o[17]!=null||o[47].label)?i?(i.p(o,a),a[0]&196608|a[1]&65536&&K(i,1)):(i=Mg(o),i.c(),K(i,1),i.m(n.parentNode,n)):i&&(Wt(),oe(i,1,1,()=>{i=null}),Yt())},i(o){r||(K(i),r=!0)},o(o){oe(i),r=!1},d(o){o&&(_e(t),_e(n)),s&&s.d(o),i&&i.d(o)}}}function Rg(e){let t;return{c(){t=dt("span"),pt(t,"class","mdc-text-field__ripple")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function Mg(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},qt(e[46],"label$")];let s={$$slots:{default:[HH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ue(s,r[i]);return t=new Rb({props:s}),e[57](t),{c(){Je(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?It(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&hn(qt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){oe(t.$$.fragment,i),n=!1},d(i){e[57](null),Qe(t,i)}}}function HH(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=Bt(s,e,e[87],Lg);return{c(){n=Xn(t),i&&i.c()},m(o,a){Ae(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&li(n,t),i&&i.p&&(!r||a[2]&33554432)&&Nt(i,s,o,o[87],r?Gt(s,o[87],a,GH):Vt(o[87]),Lg)},i(o){r||(K(i,o),r=!0)},o(o){oe(i,o),r=!1},d(o){o&&_e(n),i&&i.d(o)}}}function Ig(e){let t,n;const r=[{noLabel:e[16]||e[17]==null&&!e[47].label},qt(e[46],"outline$")];let s={$$slots:{default:[jH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ue(s,r[i]);return t=new gH({props:s}),e[59](t),{c(){Je(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[0]&196608|o[1]&98304?It(r,[o[0]&196608|o[1]&65536&&{noLabel:i[16]||i[17]==null&&!i[47].label},o[1]&32768&&hn(qt(i[46],"outline$"))]):{};o[0]&268640289|o[1]&98304|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){oe(t.$$.fragment,i),n=!1},d(i){e[59](null),Qe(t,i)}}}function Dg(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},qt(e[46],"label$")];let s={$$slots:{default:[zH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ue(s,r[i]);return t=new Rb({props:s}),e[58](t),{c(){Je(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?It(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&hn(qt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){oe(t.$$.fragment,i),n=!1},d(i){e[58](null),Qe(t,i)}}}function zH(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=Bt(s,e,e[87],Pg);return{c(){n=Xn(t),i&&i.c()},m(o,a){Ae(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&li(n,t),i&&i.p&&(!r||a[2]&33554432)&&Nt(i,s,o,o[87],r?Gt(s,o[87],a,BH):Vt(o[87]),Pg)},i(o){r||(K(i,o),r=!0)},o(o){oe(i,o),r=!1},d(o){o&&_e(n),i&&i.d(o)}}}function jH(e){let t,n,r=!e[16]&&(e[17]!=null||e[47].label)&&Dg(e);return{c(){r&&r.c(),t=pn()},m(s,i){r&&r.m(s,i),Ae(s,t,i),n=!0},p(s,i){!s[16]&&(s[17]!=null||s[47].label)?r?(r.p(s,i),i[0]&196608|i[1]&65536&&K(r,1)):(r=Dg(s),r.c(),K(r,1),r.m(t.parentNode,t)):r&&(Wt(),oe(r,1,1,()=>{r=null}),Yt())},i(s){n||(K(r),n=!0)},o(s){oe(r),n=!1},d(s){s&&_e(t),r&&r.d(s)}}}function qH(e){let t;const n=e[56].leadingIcon,r=Bt(n,e,e[87],Cg);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Gt(n,s[87],i,xH):Vt(s[87]),Cg)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function XH(e){let t,n,r,s,i,o,a,l,c,f;const u=e[56].prefix,h=Bt(u,e,e[87],wg);let d=e[20]!=null&&Fg(e);const g=[{type:e[18]},{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},e[16]&&e[17]!=null?{placeholder:e[17]}:{},qt(e[46],"input$")];function m(A){e[69](A)}function p(A){e[70](A)}function v(A){e[71](A)}function b(A){e[72](A)}let _={};for(let A=0;A<g.length;A+=1)_=Ue(_,g[A]);e[0]!==void 0&&(_.value=e[0]),e[3]!==void 0&&(_.files=e[3]),e[4]!==void 0&&(_.dirty=e[4]),e[1]!==void 0&&(_.invalid=e[1]),r=new SH({props:_}),e[68](r),rt.push(()=>wn(r,"value",m)),rt.push(()=>wn(r,"files",p)),rt.push(()=>wn(r,"dirty",v)),rt.push(()=>wn(r,"invalid",b)),r.$on("blur",e[73]),r.$on("focus",e[74]),r.$on("blur",e[75]),r.$on("focus",e[76]);let E=e[21]!=null&&kg(e);const S=e[56].suffix,w=Bt(S,e,e[87],Sg);return{c(){h&&h.c(),t=gt(),d&&d.c(),n=gt(),Je(r.$$.fragment),l=gt(),E&&E.c(),c=gt(),w&&w.c()},m(A,L){h&&h.m(A,L),Ae(A,t,L),d&&d.m(A,L),Ae(A,n,L),Ke(r,A,L),Ae(A,l,L),E&&E.m(A,L),Ae(A,c,L),w&&w.m(A,L),f=!0},p(A,L){h&&h.p&&(!f||L[2]&33554432)&&Nt(h,u,A,A[87],f?Gt(u,A[87],L,FH):Vt(A[87]),wg),A[20]!=null?d?(d.p(A,L),L[0]&1048576&&K(d,1)):(d=Fg(A),d.c(),K(d,1),d.m(n.parentNode,n)):d&&(Wt(),oe(d,1,1,()=>{d=null}),Yt());const $=L[0]&135213056|L[1]&32768?It(g,[L[0]&262144&&{type:A[18]},L[0]&4096&&{disabled:A[12]},L[0]&8192&&{required:A[13]},L[0]&524288&&{updateInvalid:A[19]},L[0]&134217728&&{"aria-controls":A[27]},L[0]&134217728&&{"aria-describedby":A[27]},L[0]&196608&&hn(A[16]&&A[17]!=null?{placeholder:A[17]}:{}),L[1]&32768&&hn(qt(A[46],"input$"))]):{};!s&&L[0]&1&&(s=!0,$.value=A[0],Sn(()=>s=!1)),!i&&L[0]&8&&(i=!0,$.files=A[3],Sn(()=>i=!1)),!o&&L[0]&16&&(o=!0,$.dirty=A[4],Sn(()=>o=!1)),!a&&L[0]&2&&(a=!0,$.invalid=A[1],Sn(()=>a=!1)),r.$set($),A[21]!=null?E?(E.p(A,L),L[0]&2097152&&K(E,1)):(E=kg(A),E.c(),K(E,1),E.m(c.parentNode,c)):E&&(Wt(),oe(E,1,1,()=>{E=null}),Yt()),w&&w.p&&(!f||L[2]&33554432)&&Nt(w,S,A,A[87],f?Gt(S,A[87],L,DH):Vt(A[87]),Sg)},i(A){f||(K(h,A),K(d),K(r.$$.fragment,A),K(E),K(w,A),f=!0)},o(A){oe(h,A),oe(d),oe(r.$$.fragment,A),oe(E),oe(w,A),f=!1},d(A){A&&(_e(t),_e(n),_e(l),_e(c)),h&&h.d(A),d&&d.d(A),e[68](null),Qe(r,A),E&&E.d(A),w&&w.d(A)}}}function WH(e){let t,n,r,s,i,o,a,l;const c=[{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},qt(e[46],"input$")];function f(p){e[61](p)}function u(p){e[62](p)}function h(p){e[63](p)}let d={};for(let p=0;p<c.length;p+=1)d=Ue(d,c[p]);e[0]!==void 0&&(d.value=e[0]),e[4]!==void 0&&(d.dirty=e[4]),e[1]!==void 0&&(d.invalid=e[1]),n=new CH({props:d}),e[60](n),rt.push(()=>wn(n,"value",f)),rt.push(()=>wn(n,"dirty",u)),rt.push(()=>wn(n,"invalid",h)),n.$on("blur",e[64]),n.$on("focus",e[65]),n.$on("blur",e[66]),n.$on("focus",e[67]);const g=e[56].internalCounter,m=Bt(g,e,e[87],Tg);return{c(){t=dt("span"),Je(n.$$.fragment),o=gt(),m&&m.c(),pt(t,"class",a=ut({"mdc-text-field__resizer":!("input$resizable"in e[46])||e[46].input$resizable}))},m(p,v){Ae(p,t,v),Ke(n,t,null),xt(t,o),m&&m.m(t,null),l=!0},p(p,v){const b=v[0]&134754304|v[1]&32768?It(c,[v[0]&4096&&{disabled:p[12]},v[0]&8192&&{required:p[13]},v[0]&524288&&{updateInvalid:p[19]},v[0]&134217728&&{"aria-controls":p[27]},v[0]&134217728&&{"aria-describedby":p[27]},v[1]&32768&&hn(qt(p[46],"input$"))]):{};!r&&v[0]&1&&(r=!0,b.value=p[0],Sn(()=>r=!1)),!s&&v[0]&16&&(s=!0,b.dirty=p[4],Sn(()=>s=!1)),!i&&v[0]&2&&(i=!0,b.invalid=p[1],Sn(()=>i=!1)),n.$set(b),m&&m.p&&(!l||v[2]&33554432)&&Nt(m,g,p,p[87],l?Gt(g,p[87],v,kH):Vt(p[87]),Tg),(!l||v[1]&32768&&a!==(a=ut({"mdc-text-field__resizer":!("input$resizable"in p[46])||p[46].input$resizable})))&&pt(t,"class",a)},i(p){l||(K(n.$$.fragment,p),K(m,p),l=!0)},o(p){oe(n.$$.fragment,p),oe(m,p),l=!1},d(p){p&&_e(t),e[60](null),Qe(n),m&&m.d(p)}}}function Fg(e){let t,n;return t=new bH({props:{$$slots:{default:[YH]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[0]&1048576|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function YH(e){let t;return{c(){t=Xn(e[20])},m(n,r){Ae(n,t,r)},p(n,r){r[0]&1048576&&li(t,n[20])},d(n){n&&_e(t)}}}function kg(e){let t,n;return t=new _H({props:{$$slots:{default:[ZH]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[0]&2097152|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function ZH(e){let t;return{c(){t=Xn(e[21])},m(n,r){Ae(n,t,r)},p(n,r){r[0]&2097152&&li(t,n[21])},d(n){n&&_e(t)}}}function KH(e){let t;const n=e[56].trailingIcon,r=Bt(n,e,e[87],Eg);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Gt(n,s[87],i,IH):Vt(s[87]),Eg)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function xg(e){let t,n;const r=[qt(e[46],"ripple$")];let s={};for(let i=0;i<r.length;i+=1)s=Ue(s,r[i]);return t=new hH({props:s}),e[77](t),{c(){Je(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[1]&32768?It(r,[hn(qt(i[46],"ripple$"))]):{};t.$set(a)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){oe(t.$$.fragment,i),n=!1},d(i){e[77](null),Qe(t,i)}}}function Bg(e){let t,n;const r=[qt(e[46],"helperLine$")];let s={$$slots:{default:[QH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ue(s,r[i]);return t=new vH({props:s}),t.$on("SMUITextfieldHelperText:id",e[41]),t.$on("SMUITextfieldHelperText:mount",e[42]),t.$on("SMUITextfieldHelperText:unmount",e[85]),t.$on("SMUITextfieldCharacterCounter:mount",e[40]),t.$on("SMUITextfieldCharacterCounter:unmount",e[86]),{c(){Je(t.$$.fragment)},m(i,o){Ke(t,i,o),n=!0},p(i,o){const a=o[1]&32768?It(r,[hn(qt(i[46],"helperLine$"))]):{};o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){oe(t.$$.fragment,i),n=!1},d(i){Qe(t,i)}}}function QH(e){let t;const n=e[56].helper,r=Bt(n,e,e[87],vg);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Gt(n,s[87],i,PH):Vt(s[87]),vg)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function JH(e){let t,n,r,s,i;const o=[VH,NH],a=[];function l(f,u){return f[36]?0:1}t=l(e),n=a[t]=o[t](e);let c=e[47].helper&&Bg(e);return{c(){n.c(),r=gt(),c&&c.c(),s=pn()},m(f,u){a[t].m(f,u),Ae(f,r,u),c&&c.m(f,u),Ae(f,s,u),i=!0},p(f,u){n.p(f,u),f[47].helper?c?(c.p(f,u),u[1]&65536&&K(c,1)):(c=Bg(f),c.c(),K(c,1),c.m(s.parentNode,s)):c&&(Wt(),oe(c,1,1,()=>{c=null}),Yt())},i(f){i||(K(n),K(c),i=!0)},o(f){oe(n),oe(c),i=!1},d(f){f&&(_e(r),_e(s)),a[t].d(f),c&&c.d(f)}}}const Gg=([e,t])=>`${e}: ${t};`,Ng=([e,t])=>`${e}: ${t};`;function ez(e,t,n){let r;const s=["use","class","style","ripple","disabled","required","textarea","variant","noLabel","label","type","value","files","invalid","updateInvalid","dirty","prefix","suffix","validateOnValueChange","useNativeValidation","withLeadingIcon","withTrailingIcon","input","floatingLabel","lineRipple","notchedOutline","focus","blur","layout","getElement"];let i=wt(t,s),{$$slots:o={},$$scope:a}=t;const l=y5(o),{applyPassive:c}=av,f=_n(rn());let u=()=>{};function h(te){return te===u}let{use:d=[]}=t,{class:g=""}=t,{style:m=""}=t,{ripple:p=!0}=t,{disabled:v=!1}=t,{required:b=!1}=t,{textarea:_=!1}=t,{variant:E=_?"outlined":"standard"}=t,{noLabel:S=!1}=t,{label:w=void 0}=t,{type:A="text"}=t,{value:L=i.input$emptyValueUndefined?void 0:u}=t,{files:$=u}=t;const G=!h(L)||!h($);h(L)&&(L=void 0),h($)&&($=null);let{invalid:k=u}=t,{updateInvalid:se=h(k)}=t;h(k)&&(k=!1);let{dirty:V=!1}=t,{prefix:j=void 0}=t,{suffix:Oe=void 0}=t,{validateOnValueChange:ne=se}=t,{useNativeValidation:U=se}=t,{withLeadingIcon:fe=u}=t,{withTrailingIcon:ee=u}=t,{input:He=void 0}=t,{floatingLabel:Mt=void 0}=t,{lineRipple:pe=void 0}=t,{notchedOutline:Dt=void 0}=t,je,Et,Cn={},Zn={},et,Ve=!1,Pn=fr("SMUI:addLayoutListener"),ss,Os,Rs=new Promise(te=>Os=te),Rr,wr,Me,vt,In=L;Pn&&(ss=Pn(as)),Yn(()=>{if(n(54,Et=new iH({addClass:qr,removeClass:is,hasClass:pi,registerTextFieldInteractionHandler:(te,yn)=>Is().addEventListener(te,yn),deregisterTextFieldInteractionHandler:(te,yn)=>Is().removeEventListener(te,yn),registerValidationAttributeChangeHandler:te=>{const yn=ao=>ao.map(lo=>lo.attributeName).filter(lo=>lo),va=new MutationObserver(ao=>{U&&te(yn(ao))}),Tc={attributes:!0};return He&&va.observe(He.getElement(),Tc),va},deregisterValidationAttributeChangeHandler:te=>{te.disconnect()},getNativeInput:()=>{var te;return(te=He==null?void 0:He.getElement())!==null&&te!==void 0?te:null},setInputAttr:(te,yn)=>{He==null||He.addAttr(te,yn)},removeInputAttr:te=>{He==null||He.removeAttr(te)},isFocused:()=>document.activeElement===(He==null?void 0:He.getElement()),registerInputInteractionHandler:(te,yn)=>{He==null||He.getElement().addEventListener(te,yn,c())},deregisterInputInteractionHandler:(te,yn)=>{He==null||He.getElement().removeEventListener(te,yn,c())},floatLabel:te=>Mt&&Mt.float(te),getLabelWidth:()=>Mt?Mt.getWidth():0,hasLabel:()=>!!Mt,shakeLabel:te=>Mt&&Mt.shake(te),setLabelRequired:te=>Mt&&Mt.setRequired(te),activateLineRipple:()=>pe&&pe.activate(),deactivateLineRipple:()=>pe&&pe.deactivate(),setLineRippleTransformOrigin:te=>pe&&pe.setRippleCenter(te),closeOutline:()=>Dt&&Dt.closeNotch(),hasOutline:()=>!!Dt,notchOutline:te=>Dt&&Dt.notch(te)},{get helperText(){return Me},get characterCounter(){return vt},get leadingIcon(){return Rr},get trailingIcon(){return wr}})),G){if(He==null)throw new Error("SMUI Textfield initialized without Input component.");Et.init()}else P5().then(()=>{if(He==null)throw new Error("SMUI Textfield initialized without Input component.");Et.init()});return Os(),()=>{Et.destroy()}}),ed(()=>{ss&&ss()});function Ms(te){n(29,Rr=te.detail)}function jr(te){n(30,wr=te.detail)}function hi(te){n(32,vt=te.detail)}function mi(te){n(27,et=te.detail)}function P(te){n(31,Me=te.detail)}function pi(te){var yn;return te in Cn?(yn=Cn[te])!==null&&yn!==void 0?yn:null:Is().classList.contains(te)}function qr(te){Cn[te]||n(25,Cn[te]=!0,Cn)}function is(te){(!(te in Cn)||Cn[te])&&n(25,Cn[te]=!1,Cn)}function os(te,yn){Zn[te]!=yn&&(yn===""||yn==null?(delete Zn[te],n(26,Zn)):n(26,Zn[te]=yn,Zn))}function ur(){He==null||He.focus()}function fa(){He==null||He.blur()}function as(){if(Et){const te=Et.shouldFloat;Et.notchOutline(te)}}function Is(){return je}function ic(te){rt[te?"unshift":"push"](()=>{Mt=te,n(5,Mt)})}function oc(te){rt[te?"unshift":"push"](()=>{Mt=te,n(5,Mt)})}function ua(te){rt[te?"unshift":"push"](()=>{Dt=te,n(7,Dt)})}function Kn(te){rt[te?"unshift":"push"](()=>{He=te,n(2,He)})}function oo(te){L=te,n(0,L)}function da(te){V=te,n(4,V)}function ac(te){k=te,n(1,k),n(54,Et),n(19,se)}const lc=()=>n(28,Ve=!1),cc=()=>n(28,Ve=!0),fc=te=>Tn(je,"blur",te),uc=te=>Tn(je,"focus",te);function ha(te){rt[te?"unshift":"push"](()=>{He=te,n(2,He)})}function ma(te){L=te,n(0,L)}function dc(te){$=te,n(3,$)}function hc(te){V=te,n(4,V)}function Qn(te){k=te,n(1,k),n(54,Et),n(19,se)}const mc=()=>n(28,Ve=!1),pc=()=>n(28,Ve=!0),gc=te=>Tn(je,"blur",te),vc=te=>Tn(je,"focus",te);function bc(te){rt[te?"unshift":"push"](()=>{pe=te,n(6,pe)})}function _c(te){rt[te?"unshift":"push"](()=>{je=te,n(24,je)})}const yc=()=>n(29,Rr=void 0),Ac=()=>n(30,wr=void 0),pa=()=>n(32,vt=void 0);function ga(te){rt[te?"unshift":"push"](()=>{je=te,n(24,je)})}const dn=()=>n(29,Rr=void 0),Ec=()=>n(30,wr=void 0),Sc=()=>{n(27,et=void 0),n(31,Me=void 0)},wc=()=>n(32,vt=void 0);return e.$$set=te=>{t=Ue(Ue({},t),mn(te)),n(46,i=wt(t,s)),"use"in te&&n(8,d=te.use),"class"in te&&n(9,g=te.class),"style"in te&&n(10,m=te.style),"ripple"in te&&n(11,p=te.ripple),"disabled"in te&&n(12,v=te.disabled),"required"in te&&n(13,b=te.required),"textarea"in te&&n(14,_=te.textarea),"variant"in te&&n(15,E=te.variant),"noLabel"in te&&n(16,S=te.noLabel),"label"in te&&n(17,w=te.label),"type"in te&&n(18,A=te.type),"value"in te&&n(0,L=te.value),"files"in te&&n(3,$=te.files),"invalid"in te&&n(1,k=te.invalid),"updateInvalid"in te&&n(19,se=te.updateInvalid),"dirty"in te&&n(4,V=te.dirty),"prefix"in te&&n(20,j=te.prefix),"suffix"in te&&n(21,Oe=te.suffix),"validateOnValueChange"in te&&n(48,ne=te.validateOnValueChange),"useNativeValidation"in te&&n(49,U=te.useNativeValidation),"withLeadingIcon"in te&&n(22,fe=te.withLeadingIcon),"withTrailingIcon"in te&&n(23,ee=te.withTrailingIcon),"input"in te&&n(2,He=te.input),"floatingLabel"in te&&n(5,Mt=te.floatingLabel),"lineRipple"in te&&n(6,pe=te.lineRipple),"notchedOutline"in te&&n(7,Dt=te.notchedOutline),"$$scope"in te&&n(87,a=te.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&4&&n(33,r=He&&He.getElement()),e.$$.dirty[0]&524290|e.$$.dirty[1]&8388608&&Et&&Et.isValid()!==!k&&(se?n(1,k=!Et.isValid()):Et.setValid(!k)),e.$$.dirty[1]&8519680&&Et&&Et.getValidateOnValueChange()!==ne&&Et.setValidateOnValueChange(h(ne)?!1:ne),e.$$.dirty[1]&8650752&&Et&&Et.setUseNativeValidation(h(U)?!0:U),e.$$.dirty[0]&4096|e.$$.dirty[1]&8388608&&Et&&Et.setDisabled(v),e.$$.dirty[0]&1|e.$$.dirty[1]&25165824&&Et&&G&&In!==L){n(55,In=L);const te=`${L}`;Et.getValue()!==te&&Et.setValue(te)}},[L,k,He,$,V,Mt,pe,Dt,d,g,m,p,v,b,_,E,S,w,A,se,j,Oe,fe,ee,je,Cn,Zn,et,Ve,Rr,wr,Me,vt,r,f,h,G,Rs,Ms,jr,hi,mi,P,qr,is,os,i,l,ne,U,ur,fa,as,Is,Et,In,o,ic,oc,ua,Kn,oo,da,ac,lc,cc,fc,uc,ha,ma,dc,hc,Qn,mc,pc,gc,vc,bc,_c,yc,Ac,pa,ga,dn,Ec,Sc,wc,a]}class Vr extends Qt{constructor(t){super(),Kt(this,t,ez,JH,Xt,{use:8,class:9,style:10,ripple:11,disabled:12,required:13,textarea:14,variant:15,noLabel:16,label:17,type:18,value:0,files:3,invalid:1,updateInvalid:19,dirty:4,prefix:20,suffix:21,validateOnValueChange:48,useNativeValidation:49,withLeadingIcon:22,withTrailingIcon:23,input:2,floatingLabel:5,lineRipple:6,notchedOutline:7,focus:50,blur:51,layout:52,getElement:53},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[50]}get blur(){return this.$$.ctx[51]}get layout(){return this.$$.ctx[52]}get getElement(){return this.$$.ctx[53]}}function tz(e){let t;return{c(){t=Xn(e[8])},m(n,r){Ae(n,t,r)},p(n,r){r&256&&li(t,n[8])},i:Zt,o:Zt,d(n){n&&_e(t)}}}function nz(e){let t;const n=e[13].default,r=Bt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&Nt(r,n,s,s[12],t?Gt(n,s[12],i,null):Vt(s[12]),null)},i(s){t||(K(r,s),t=!0)},o(s){oe(r,s),t=!1},d(s){r&&r.d(s)}}}function rz(e){let t,n,r,s,i,o,a,l,c;const f=[nz,tz],u=[];function h(m,p){return m[8]==null?0:1}n=h(e),r=u[n]=f[n](e);let d=[{class:s=ut({[e[1]]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":e[3],"mdc-text-field-helper-text--validation-msg":e[4],...e[6]})},{"aria-hidden":i=e[3]?void 0:"true"},{id:e[2]},e[7],e[10]],g={};for(let m=0;m<d.length;m+=1)g=Ue(g,d[m]);return{c(){t=dt("div"),r.c(),At(t,g)},m(m,p){Ae(m,t,p),u[n].m(t,null),e[14](t),a=!0,l||(c=[_t(o=an.call(null,t,e[0])),_t(e[9].call(null,t))],l=!0)},p(m,[p]){let v=n;n=h(m),n===v?u[n].p(m,p):(Wt(),oe(u[v],1,1,()=>{u[v]=null}),Yt(),r=u[n],r?r.p(m,p):(r=u[n]=f[n](m),r.c()),K(r,1),r.m(t,null)),At(t,g=It(d,[(!a||p&90&&s!==(s=ut({[m[1]]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":m[3],"mdc-text-field-helper-text--validation-msg":m[4],...m[6]})))&&{class:s},(!a||p&8&&i!==(i=m[3]?void 0:"true"))&&{"aria-hidden":i},(!a||p&4)&&{id:m[2]},p&128&&m[7],p&1024&&m[10]])),o&&jt(o.update)&&p&1&&o.update.call(null,m[0])},i(m){a||(K(r),a=!0)},o(m){oe(r),a=!1},d(m){m&&_e(t),u[n].d(),e[14](null),l=!1,cn(c)}}}let sz=0;function iz(e,t,n){const r=["use","class","id","persistent","validationMsg","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{id:f="SMUI-textfield-helper-text-"+sz++}=t,{persistent:u=!1}=t,{validationMsg:h=!1}=t,d,g,m={},p={},v;Yn(()=>(g=new oH({addClass:_,removeClass:E,hasClass:b,getAttr:S,setAttr:w,removeAttr:A,setContent:G=>{n(8,v=G)}}),f.startsWith("SMUI-textfield-helper-text-")&&Tn(L(),"SMUITextfieldHelperText:id",f),Tn(L(),"SMUITextfieldHelperText:mount",g),g.init(),()=>{Tn(L(),"SMUITextfieldHelperText:unmount",g),g.destroy()}));function b(G){return G in m?m[G]:L().classList.contains(G)}function _(G){m[G]||n(6,m[G]=!0,m)}function E(G){(!(G in m)||m[G])&&n(6,m[G]=!1,m)}function S(G){var k;return G in p?(k=p[G])!==null&&k!==void 0?k:null:L().getAttribute(G)}function w(G,k){p[G]!==k&&n(7,p[G]=k,p)}function A(G){(!(G in p)||p[G]!=null)&&n(7,p[G]=void 0,p)}function L(){return d}function $(G){rt[G?"unshift":"push"](()=>{d=G,n(5,d)})}return e.$$set=G=>{t=Ue(Ue({},t),mn(G)),n(10,s=wt(t,r)),"use"in G&&n(0,l=G.use),"class"in G&&n(1,c=G.class),"id"in G&&n(2,f=G.id),"persistent"in G&&n(3,u=G.persistent),"validationMsg"in G&&n(4,h=G.validationMsg),"$$scope"in G&&n(12,o=G.$$scope)},[l,c,f,u,h,d,m,p,v,a,s,L,o,i,$]}class oz extends Qt{constructor(t){super(),Kt(this,t,iz,rz,Xt,{use:0,class:1,id:2,persistent:3,validationMsg:4,getElement:11})}get getElement(){return this.$$.ctx[11]}}function Vg(e){let t;return{c(){t=dt("div"),pt(t,"class","mdc-fab__focus-ring")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function $g(e){let t;return{c(){t=dt("div"),pt(t,"class","mdc-fab__touch")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function az(e){let t,n,r,s,i,o=e[4]&&Vg();const a=e[22].default,l=Bt(a,e,e[24],null);let c=e[9]&&$g();return{c(){t=dt("div"),n=gt(),o&&o.c(),r=gt(),l&&l.c(),c&&c.c(),s=pn(),pt(t,"class","mdc-fab__ripple")},m(f,u){Ae(f,t,u),Ae(f,n,u),o&&o.m(f,u),Ae(f,r,u),l&&l.m(f,u),c&&c.m(f,u),Ae(f,s,u),i=!0},p(f,u){f[4]?o||(o=Vg(),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),l&&l.p&&(!i||u&16777216)&&Nt(l,a,f,f[24],i?Gt(a,f[24],u,null):Vt(f[24]),null),f[9]?c||(c=$g(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(f){i||(K(l,f),i=!0)},o(f){oe(l,f),i=!1},d(f){f&&(_e(t),_e(n),_e(r),_e(s)),o&&o.d(f),l&&l.d(f),c&&c.d(f)}}}function lz(e){let t,n,r;const s=[{tag:e[12]},{use:[[Hr,{ripple:e[3],unbounded:!1,color:e[5],disabled:!!e[20].disabled,addClass:e[17],removeClass:e[18],addStyle:e[19]}],e[16],...e[0]]},{class:ut({[e[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":e[6],"mdc-fab--exited":e[7],"mdc-fab--extended":e[8],"smui-fab--color-primary":e[5]==="primary","mdc-fab--touch":e[9],...e[14]})},{style:Object.entries(e[15]).map(Ug).concat([e[2]]).join(" ")},{href:e[10]},e[20]];var i=e[11];function o(a){let l={$$slots:{default:[az]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ue(l,s[c]);return{props:l}}return i&&(t=yr(i,o(e)),e[23](t)),{c(){t&&Je(t.$$.fragment),n=pn()},m(a,l){t&&Ke(t,a,l),Ae(a,n,l),r=!0},p(a,[l]){const c=l&2086895?It(s,[l&4096&&{tag:a[12]},l&2031657&&{use:[[Hr,{ripple:a[3],unbounded:!1,color:a[5],disabled:!!a[20].disabled,addClass:a[17],removeClass:a[18],addStyle:a[19]}],a[16],...a[0]]},l&17378&&{class:ut({[a[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":a[6],"mdc-fab--exited":a[7],"mdc-fab--extended":a[8],"smui-fab--color-primary":a[5]==="primary","mdc-fab--touch":a[9],...a[14]})},l&32772&&{style:Object.entries(a[15]).map(Ug).concat([a[2]]).join(" ")},l&1024&&{href:a[10]},l&1048576&&hn(a[20])]):{};if(l&16777744&&(c.$$scope={dirty:l,ctx:a}),l&2048&&i!==(i=a[11])){if(t){Wt();const f=t;oe(f.$$.fragment,1,0,()=>{Qe(f,1)}),Yt()}i?(t=yr(i,o(a)),a[23](t),Je(t.$$.fragment),K(t.$$.fragment,1),Ke(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&K(t.$$.fragment,a),r=!0)},o(a){t&&oe(t.$$.fragment,a),r=!1},d(a){a&&_e(n),e[23](null),t&&Qe(t,a)}}}const Ug=([e,t])=>`${e}: ${t};`;function cz(e,t,n){const r=["use","class","style","ripple","focusRing","color","mini","exited","extended","touch","href","component","tag","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{ripple:u=!0}=t,{focusRing:h=!1}=t,{color:d="secondary"}=t,{mini:g=!1}=t,{exited:m=!1}=t,{extended:p=!1}=t,{touch:v=!1}=t,{href:b=void 0}=t,_,E={},S={},{component:w=Ar}=t,{tag:A=w===Ar?b==null?"button":"a":void 0}=t;cr("SMUI:label:context","fab"),cr("SMUI:icon:context","fab");function L(V){E[V]||n(14,E[V]=!0,E)}function $(V){(!(V in E)||E[V])&&n(14,E[V]=!1,E)}function G(V,j){S[V]!=j&&(j===""||j==null?(delete S[V],n(15,S)):n(15,S[V]=j,S))}function k(){return _.getElement()}function se(V){rt[V?"unshift":"push"](()=>{_=V,n(13,_)})}return e.$$set=V=>{t=Ue(Ue({},t),mn(V)),n(20,s=wt(t,r)),"use"in V&&n(0,l=V.use),"class"in V&&n(1,c=V.class),"style"in V&&n(2,f=V.style),"ripple"in V&&n(3,u=V.ripple),"focusRing"in V&&n(4,h=V.focusRing),"color"in V&&n(5,d=V.color),"mini"in V&&n(6,g=V.mini),"exited"in V&&n(7,m=V.exited),"extended"in V&&n(8,p=V.extended),"touch"in V&&n(9,v=V.touch),"href"in V&&n(10,b=V.href),"component"in V&&n(11,w=V.component),"tag"in V&&n(12,A=V.tag),"$$scope"in V&&n(24,o=V.$$scope)},[l,c,f,u,h,d,g,m,p,v,b,w,A,_,E,S,a,L,$,G,s,k,i,se,o]}class fz extends Qt{constructor(t){super(),Kt(this,t,cz,lz,Xt,{use:0,class:1,style:2,ripple:3,focusRing:4,color:5,mini:6,exited:7,extended:8,touch:9,href:10,component:11,tag:12,getElement:21})}get getElement(){return this.$$.ctx[21]}}/**
 * @license
 * Copyright 2021 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ni;(function(e){e.PROCESSING="mdc-switch--processing",e.SELECTED="mdc-switch--selected",e.UNSELECTED="mdc-switch--unselected"})(ni||(ni={}));var Hg;(function(e){e.RIPPLE=".mdc-switch__ripple"})(Hg||(Hg={}));/**
 * @license
 * Copyright 2021 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function uz(e,t,n){var r=dz(e,t),s=r.getObservers(t);return s.push(n),function(){s.splice(s.indexOf(n),1)}}var Ll=new WeakMap;function dz(e,t){var n=new Map;Ll.has(e)||Ll.set(e,{isEnabled:!0,getObservers:function(c){var f=n.get(c)||[];return n.has(c)||n.set(c,f),f},installedProperties:new Set});var r=Ll.get(e);if(r.installedProperties.has(t))return r;var s=hz(e,t)||{configurable:!0,enumerable:!0,value:e[t],writable:!0},i=ln({},s),o=s.get,a=s.set;if("value"in s){delete i.value,delete i.writable;var l=s.value;o=function(){return l},s.writable&&(a=function(c){l=c})}return o&&(i.get=function(){return o.call(this)}),a&&(i.set=function(c){var f,u,h=o?o.call(this):c;if(a.call(this,c),r.isEnabled&&(!o||c!==h))try{for(var d=_r(r.getObservers(t)),g=d.next();!g.done;g=d.next()){var m=g.value;m(c,h)}}catch(p){f={error:p}}finally{try{g&&!g.done&&(u=d.return)&&u.call(d)}finally{if(f)throw f.error}}}),r.installedProperties.add(t),Object.defineProperty(e,t,i),r}function hz(e,t){for(var n=e,r;n&&(r=Object.getOwnPropertyDescriptor(n,t),!r);)n=Object.getPrototypeOf(n);return r}function mz(e,t){var n=Ll.get(e);n&&(n.isEnabled=t)}/**
 * @license
 * Copyright 2021 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var pz=function(e){Gn(t,e);function t(n){var r=e.call(this,n)||this;return r.unobserves=new Set,r}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.unobserve()},t.prototype.observe=function(n,r){var s,i,o=this,a=[];try{for(var l=_r(Object.keys(r)),c=l.next();!c.done;c=l.next()){var f=c.value,u=r[f].bind(this);a.push(this.observeProperty(n,f,u))}}catch(d){s={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(s)throw s.error}}var h=function(){var d,g;try{for(var m=_r(a),p=m.next();!p.done;p=m.next()){var v=p.value;v()}}catch(b){d={error:b}}finally{try{p&&!p.done&&(g=m.return)&&g.call(m)}finally{if(d)throw d.error}}o.unobserves.delete(h)};return this.unobserves.add(h),h},t.prototype.observeProperty=function(n,r,s){return uz(n,r,s)},t.prototype.setObserversEnabled=function(n,r){mz(n,r)},t.prototype.unobserve=function(){var n,r;try{for(var s=_r(o3([],ov(this.unobserves))),i=s.next();!i.done;i=s.next()){var o=i.value;o()}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t}(Er);/**
 * @license
 * Copyright 2021 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var gz=function(e){Gn(t,e);function t(n){var r=e.call(this,n)||this;return r.handleClick=r.handleClick.bind(r),r}return t.prototype.init=function(){this.observe(this.adapter.state,{disabled:this.stopProcessingIfDisabled,processing:this.stopProcessingIfDisabled})},t.prototype.handleClick=function(){this.adapter.state.disabled||(this.adapter.state.selected=!this.adapter.state.selected)},t.prototype.stopProcessingIfDisabled=function(){this.adapter.state.disabled&&(this.adapter.state.processing=!1)},t}(pz),vz=function(e){Gn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){e.prototype.init.call(this),this.observe(this.adapter.state,{disabled:this.onDisabledChange,processing:this.onProcessingChange,selected:this.onSelectedChange})},t.prototype.initFromDOM=function(){this.setObserversEnabled(this.adapter.state,!1),this.adapter.state.selected=this.adapter.hasClass(ni.SELECTED),this.onSelectedChange(),this.adapter.state.disabled=this.adapter.isDisabled(),this.adapter.state.processing=this.adapter.hasClass(ni.PROCESSING),this.setObserversEnabled(this.adapter.state,!0),this.stopProcessingIfDisabled()},t.prototype.onDisabledChange=function(){this.adapter.setDisabled(this.adapter.state.disabled)},t.prototype.onProcessingChange=function(){this.toggleClass(this.adapter.state.processing,ni.PROCESSING)},t.prototype.onSelectedChange=function(){this.adapter.setAriaChecked(String(this.adapter.state.selected)),this.toggleClass(this.adapter.state.selected,ni.SELECTED),this.toggleClass(!this.adapter.state.selected,ni.UNSELECTED)},t.prototype.toggleClass=function(n,r){n?this.adapter.addClass(r):this.adapter.removeClass(r)},t}(gz);function zg(e){let t,n,r,s,i,o,a,l,c,f,u=[{class:a=ut({[e[8]]:!0,"mdc-switch__icons":!0})},qt(e[19],"icons$")],h={};for(let d=0;d<u.length;d+=1)h=Ue(h,u[d]);return{c(){t=dt("div"),n=Ps("svg"),r=Ps("path"),s=gt(),i=Ps("svg"),o=Ps("path"),pt(r,"d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"),pt(n,"class","mdc-switch__icon mdc-switch__icon--on"),pt(n,"viewBox","0 0 24 24"),pt(o,"d","M20 13H4v-2h16v2z"),pt(i,"class","mdc-switch__icon mdc-switch__icon--off"),pt(i,"viewBox","0 0 24 24"),At(t,h)},m(d,g){Ae(d,t,g),xt(t,n),xt(n,r),xt(t,s),xt(t,i),xt(i,o),c||(f=_t(l=an.call(null,t,e[7])),c=!0)},p(d,g){At(t,h=It(u,[g[0]&256&&a!==(a=ut({[d[8]]:!0,"mdc-switch__icons":!0}))&&{class:a},g[0]&524288&&qt(d[19],"icons$")])),l&&jt(l.update)&&g[0]&128&&l.update.call(null,d[7])},d(d){d&&_e(t),c=!1,f()}}}function jg(e){let t;return{c(){t=dt("div"),t.innerHTML='<div class="mdc-switch__focus-ring"></div>',pt(t,"class","mdc-switch__focus-ring-wrapper")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function bz(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g,m,p,v=e[6]&&zg(e),b=e[4]&&jg(),_=[{class:u=ut({[e[3]]:!0,"mdc-switch":!0,"mdc-switch--unselected":!e[10],"mdc-switch--selected":e[10],"mdc-switch--processing":e[1],"smui-switch--color-secondary":e[5]==="secondary",...e[12]})},{type:"button"},{role:"switch"},{"aria-checked":h=e[10]?"true":"false"},{disabled:e[0]},e[16],Wn(e[19],["icons$"])],E={};for(let S=0;S<_.length;S+=1)E=Ue(E,_[S]);return{c(){t=dt("button"),n=dt("div"),r=gt(),s=dt("div"),i=dt("div"),o=dt("div"),o.innerHTML='<div class="mdc-elevation-overlay"></div>',a=gt(),l=dt("div"),c=gt(),v&&v.c(),f=gt(),b&&b.c(),pt(n,"class","mdc-switch__track"),pt(o,"class","mdc-switch__shadow"),pt(l,"class","mdc-switch__ripple"),pt(i,"class","mdc-switch__handle"),pt(s,"class","mdc-switch__handle-track"),At(t,E)},m(S,w){Ae(S,t,w),xt(t,n),xt(t,r),xt(t,s),xt(s,i),xt(i,o),xt(i,a),xt(i,l),e[28](l),xt(i,c),v&&v.m(i,null),xt(t,f),b&&b.m(t,null),t.autofocus&&t.focus(),e[29](t),m||(p=[_t(d=an.call(null,t,e[2])),_t(e[15].call(null,t)),_t(g=Hr.call(null,t,{unbounded:!0,color:e[5],active:e[14],rippleElement:e[13],disabled:e[0],addClass:e[17],removeClass:e[18]})),kt(t,"click",e[30])],m=!0)},p(S,w){S[6]?v?v.p(S,w):(v=zg(S),v.c(),v.m(i,null)):v&&(v.d(1),v=null),S[4]?b||(b=jg(),b.c(),b.m(t,null)):b&&(b.d(1),b=null),At(t,E=It(_,[w[0]&5162&&u!==(u=ut({[S[3]]:!0,"mdc-switch":!0,"mdc-switch--unselected":!S[10],"mdc-switch--selected":S[10],"mdc-switch--processing":S[1],"smui-switch--color-secondary":S[5]==="secondary",...S[12]}))&&{class:u},{type:"button"},{role:"switch"},w[0]&1024&&h!==(h=S[10]?"true":"false")&&{"aria-checked":h},w[0]&1&&{disabled:S[0]},S[16],w[0]&524288&&Wn(S[19],["icons$"])])),d&&jt(d.update)&&w[0]&4&&d.update.call(null,S[2]),g&&jt(g.update)&&w[0]&24609&&g.update.call(null,{unbounded:!0,color:S[5],active:S[14],rippleElement:S[13],disabled:S[0],addClass:S[17],removeClass:S[18]})},i:Zt,o:Zt,d(S){S&&_e(t),e[28](null),v&&v.d(),b&&b.d(),e[29](null),m=!1,cn(p)}}}function _z(e,t,n){const r=["use","class","disabled","focusRing","color","group","checked","value","processing","icons","icons$use","icons$class","getId","getElement"];let s=wt(t,r);var i;const o=_n(rn());let a=()=>{};function l(je){return je===a}let{use:c=[]}=t,{class:f=""}=t,{disabled:u=!1}=t,{focusRing:h=!1}=t,{color:d="primary"}=t,{group:g=a}=t,{checked:m=a}=t,{value:p=null}=t,{processing:v=!1}=t,{icons:b=!0}=t,{icons$use:_=[]}=t,{icons$class:E=""}=t,S,w,A={},L,$=!1,G=(i=fr("SMUI:generic:input:props"))!==null&&i!==void 0?i:{},k=l(g)?l(m)?!1:m:g.indexOf(p)!==-1,se={get disabled(){return u},set disabled(je){n(0,u=je)},get processing(){return v},set processing(je){n(1,v=je)},get selected(){return k},set selected(je){n(10,k=je)}},V=m,j=l(g)?[]:[...g],Oe=k;Yn(()=>{n(11,w=new vz({addClass:U,hasClass:ne,isDisabled:()=>u,removeClass:fe,setAriaChecked:()=>{},setDisabled:Et=>{n(0,u=Et)},state:se}));const je={get element(){return He()},get checked(){return k},set checked(Et){k!==Et&&(se.selected=Et,S&&Tn(S,"SMUISwitch:change",{selected:Et,value:p}))},activateRipple(){u||n(14,$=!0)},deactivateRipple(){n(14,$=!1)}};return Tn(S,"SMUIGenericInput:mount",je),w.init(),w.initFromDOM(),()=>{Tn(S,"SMUIGenericInput:unmount",je),w.destroy()}});function ne(je){return je in A?A[je]:He().classList.contains(je)}function U(je){A[je]||n(12,A[je]=!0,A)}function fe(je){(!(je in A)||A[je])&&n(12,A[je]=!1,A)}function ee(){return G&&G.id}function He(){return S}function Mt(je){rt[je?"unshift":"push"](()=>{L=je,n(13,L)})}function pe(je){rt[je?"unshift":"push"](()=>{S=je,n(9,S)})}const Dt=()=>w&&w.handleClick();return e.$$set=je=>{t=Ue(Ue({},t),mn(je)),n(19,s=wt(t,r)),"use"in je&&n(2,c=je.use),"class"in je&&n(3,f=je.class),"disabled"in je&&n(0,u=je.disabled),"focusRing"in je&&n(4,h=je.focusRing),"color"in je&&n(5,d=je.color),"group"in je&&n(20,g=je.group),"checked"in je&&n(21,m=je.checked),"value"in je&&n(22,p=je.value),"processing"in je&&n(1,v=je.processing),"icons"in je&&n(6,b=je.icons),"icons$use"in je&&n(7,_=je.icons$use),"icons$class"in je&&n(8,E=je.icons$class)},e.$$.update=()=>{if(e.$$.dirty[0]&242222592){let je=!1;if(!l(g))if(Oe!==k){const Et=g.indexOf(p);k&&Et===-1?(g.push(p),n(20,g),n(27,Oe),n(10,k),n(22,p),n(26,j),n(21,m),n(25,V),n(9,S)):!k&&Et!==-1&&(g.splice(Et,1),n(20,g),n(27,Oe),n(10,k),n(22,p),n(26,j),n(21,m),n(25,V),n(9,S)),je=!0}else{const Et=j.indexOf(p),Cn=g.indexOf(p);Et>-1&&Cn===-1?se.selected=!1:Cn>-1&&Et===-1&&(se.selected=!0)}l(m)?Oe!==k&&(je=!0):m!==k&&(m===V?(n(21,m=k),je=!0):se.selected=m),n(25,V=m),n(26,j=l(g)?[]:[...g]),n(27,Oe=k),je&&S&&Tn(S,"SMUISwitch:change",{selected:k,value:p})}},[u,v,c,f,h,d,b,_,E,S,k,w,A,L,$,o,G,U,fe,s,g,m,p,ee,He,V,j,Oe,Mt,pe,Dt]}class Mb extends Qt{constructor(t){super(),Kt(this,t,_z,bz,Xt,{use:2,class:3,disabled:0,focusRing:4,color:5,group:20,checked:21,value:22,processing:1,icons:6,icons$use:7,icons$class:8,getId:23,getElement:24},null,[-1,-1])}get getId(){return this.$$.ctx[23]}get getElement(){return this.$$.ctx[24]}}/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var yz={ROOT:"mdc-form-field"},Az={LABEL_SELECTOR:".mdc-form-field > label"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ez=function(e){Gn(t,e);function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.click=function(){r.handleClick()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return yz},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Az},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{activateInputRipple:function(){},deactivateInputRipple:function(){},deregisterInteractionHandler:function(){},registerInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("click",this.click)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("click",this.click)},t.prototype.handleClick=function(){var n=this;this.adapter.activateInputRipple(),requestAnimationFrame(function(){n.adapter.deactivateInputRipple()})},t}(Er);const Sz=e=>({}),qg=e=>({});function wz(e){let t,n,r,s,i,o,a,l,c;const f=e[14].default,u=Bt(f,e,e[13],null),h=e[14].label,d=Bt(h,e,e[13],qg);let g=[{for:e[4]},qt(e[11],"label$")],m={};for(let b=0;b<g.length;b+=1)m=Ue(m,g[b]);let p=[{class:i=ut({[e[1]]:!0,"mdc-form-field":!0,"mdc-form-field--align-end":e[2]==="end","mdc-form-field--nowrap":e[3]})},Wn(e[11],["label$"])],v={};for(let b=0;b<p.length;b+=1)v=Ue(v,p[b]);return{c(){t=dt("div"),u&&u.c(),n=gt(),r=dt("label"),d&&d.c(),At(r,m),At(t,v)},m(b,_){Ae(b,t,_),u&&u.m(t,null),xt(t,n),xt(t,r),d&&d.m(r,null),e[15](r),e[16](t),a=!0,l||(c=[_t(s=an.call(null,r,e[5])),_t(o=an.call(null,t,e[0])),_t(e[9].call(null,t)),kt(t,"SMUIGenericInput:mount",e[10]),kt(t,"SMUIGenericInput:unmount",e[17])],l=!0)},p(b,[_]){u&&u.p&&(!a||_&8192)&&Nt(u,f,b,b[13],a?Gt(f,b[13],_,null):Vt(b[13]),null),d&&d.p&&(!a||_&8192)&&Nt(d,h,b,b[13],a?Gt(h,b[13],_,Sz):Vt(b[13]),qg),At(r,m=It(g,[(!a||_&16)&&{for:b[4]},_&2048&&qt(b[11],"label$")])),s&&jt(s.update)&&_&32&&s.update.call(null,b[5]),At(t,v=It(p,[(!a||_&14&&i!==(i=ut({[b[1]]:!0,"mdc-form-field":!0,"mdc-form-field--align-end":b[2]==="end","mdc-form-field--nowrap":b[3]})))&&{class:i},_&2048&&Wn(b[11],["label$"])])),o&&jt(o.update)&&_&1&&o.update.call(null,b[0])},i(b){a||(K(u,b),K(d,b),a=!0)},o(b){oe(u,b),oe(d,b),a=!1},d(b){b&&_e(t),u&&u.d(b),d&&d.d(b),e[15](null),e[16](null),l=!1,cn(c)}}}let Tz=0;function Cz(e,t,n){const r=["use","class","align","noWrap","inputId","label$use","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=_n(rn());let{use:l=[]}=t,{class:c=""}=t,{align:f="start"}=t,{noWrap:u=!1}=t,{inputId:h="SMUI-form-field-"+Tz++}=t,{label$use:d=[]}=t,g,m,p,v;cr("SMUI:generic:input:props",{id:h}),Yn(()=>(m=new Ez({activateInputRipple:()=>{v&&v.activateRipple()},deactivateInputRipple:()=>{v&&v.deactivateRipple()},deregisterInteractionHandler:(A,L)=>{p.removeEventListener(A,L)},registerInteractionHandler:(A,L)=>{p.addEventListener(A,L)}}),m.init(),()=>{m.destroy()}));function b(A){n(8,v=A.detail)}function _(){return g}function E(A){rt[A?"unshift":"push"](()=>{p=A,n(7,p)})}function S(A){rt[A?"unshift":"push"](()=>{g=A,n(6,g)})}const w=()=>n(8,v=void 0);return e.$$set=A=>{t=Ue(Ue({},t),mn(A)),n(11,s=wt(t,r)),"use"in A&&n(0,l=A.use),"class"in A&&n(1,c=A.class),"align"in A&&n(2,f=A.align),"noWrap"in A&&n(3,u=A.noWrap),"inputId"in A&&n(4,h=A.inputId),"label$use"in A&&n(5,d=A.label$use),"$$scope"in A&&n(13,o=A.$$scope)},[l,c,f,u,h,d,g,p,v,a,b,s,_,o,i,E,S,w]}class Xg extends Qt{constructor(t){super(),Kt(this,t,Cz,wz,Xt,{use:0,class:1,align:2,noWrap:3,inputId:4,label$use:5,getElement:12})}get getElement(){return this.$$.ctx[12]}}function Pz(e){let t;return{c(){t=Xn("download")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function Lz(e){let t,n;return t=new td({props:{class:"material-icons",$$slots:{default:[Pz]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&32&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Oz(e){let t=e[35]+"",n;return{c(){n=Xn(t)},m(r,s){Ae(r,n,s)},p(r,s){s[1]&16&&t!==(t=r[35]+"")&&li(n,t)},d(r){r&&_e(n)}}}function Rz(e){let t,n;return t=new eo({props:{$$slots:{default:[Oz]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&48&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Mz(e){let t,n;return t=new FU({props:{tab:e[35],disabled:e[35]==="Preview"&&e[15],$$slots:{default:[Rz]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&16&&(i.tab=r[35]),s[0]&32768|s[1]&16&&(i.disabled=r[35]==="Preview"&&r[15]),s[1]&48&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Iz(e){let t,n;return t=new sd({props:{variant:"unelevated",style:" height: 100%",$$slots:{default:[jz]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[0]&16384|s[1]&32&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Dz(e){let t,n,r=e[13]&&Wg(e);return{c(){r&&r.c(),t=pn()},m(s,i){r&&r.m(s,i),Ae(s,t,i),n=!0},p(s,i){s[13]?r?(r.p(s,i),i[0]&8192&&K(r,1)):(r=Wg(s),r.c(),K(r,1),r.m(t.parentNode,t)):r&&(Wt(),oe(r,1,1,()=>{r=null}),Yt())},i(s){n||(K(r),n=!0)},o(s){oe(r),n=!1},d(s){s&&_e(t),r&&r.d(s)}}}function Fz(e){let t,n;return t=new sd({props:{variant:"unelevated",class:"settings",$$slots:{default:[ej]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[0]&8188|s[1]&32&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function kz(e){let t,n,r;function s(o){e[20](o)}let i={cellsRotated:e[12]};return e[0]!==void 0&&(i.model=e[0]),t=new L3({props:i}),rt.push(()=>wn(t,"model",s)),{c(){Je(t.$$.fragment)},m(o,a){Ke(t,o,a),r=!0},p(o,a){const l={};a[0]&4096&&(l.cellsRotated=o[12]),!n&&a[0]&1&&(n=!0,l.model=o[0],Sn(()=>n=!1)),t.$set(l)},i(o){r||(K(t.$$.fragment,o),r=!0)},o(o){oe(t.$$.fragment,o),r=!1},d(o){Qe(t,o)}}}function xz(e){let t,n;return t=new Dw({}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p:Zt,i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Bz(e){let t;return{c(){t=Xn("Copy/paste to save/load the state")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function Gz(e){let t,n;return t=new oz({props:{slot:"helper",$$slots:{default:[Bz]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&32&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Nz(e){let t;return{c(){t=Xn("Small")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function Vz(e){let t,n;return t=new eo({props:{$$slots:{default:[Nz]},$$scope:{ctx:e}}}),t.$on("click",e[18](Tb)),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&32&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function $z(e){let t;return{c(){t=Xn("Big")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function Uz(e){let t,n;return t=new eo({props:{$$slots:{default:[$z]},$$scope:{ctx:e}}}),t.$on("click",e[18](cU)),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&32&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Hz(e){let t;return{c(){t=Xn("Snake")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function zz(e){let t,n;return t=new eo({props:{$$slots:{default:[Hz]},$$scope:{ctx:e}}}),t.$on("click",e[18](fU)),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&32&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function jz(e){let t,n,r,s,i,o,a,l,c,f;return t=new Vr({props:{style:"width: 100%",input$style:"width: 100%",class:"save-area",textarea:!0,value:e[14],label:"State",input$resizable:!1,input$rows:8,$$slots:{helper:[Gz]},$$scope:{ctx:e}}}),t.$on("input",e[16]),i=new wl({props:{$$slots:{default:[Vz]},$$scope:{ctx:e}}}),a=new wl({props:{$$slots:{default:[Uz]},$$scope:{ctx:e}}}),c=new wl({props:{$$slots:{default:[zz]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment),n=gt(),r=dt("div"),r.textContent="Load predefined model",s=gt(),Je(i.$$.fragment),o=gt(),Je(a.$$.fragment),l=gt(),Je(c.$$.fragment),pt(r,"class","mdc-typography--subtitle1"),$o(r,"margin-top","1rem")},m(u,h){Ke(t,u,h),Ae(u,n,h),Ae(u,r,h),Ae(u,s,h),Ke(i,u,h),Ae(u,o,h),Ke(a,u,h),Ae(u,l,h),Ke(c,u,h),f=!0},p(u,h){const d={};h[0]&16384&&(d.value=u[14]),h[1]&32&&(d.$$scope={dirty:h,ctx:u}),t.$set(d);const g={};h[1]&32&&(g.$$scope={dirty:h,ctx:u}),i.$set(g);const m={};h[1]&32&&(m.$$scope={dirty:h,ctx:u}),a.$set(m);const p={};h[1]&32&&(p.$$scope={dirty:h,ctx:u}),c.$set(p)},i(u){f||(K(t.$$.fragment,u),K(i.$$.fragment,u),K(a.$$.fragment,u),K(c.$$.fragment,u),f=!0)},o(u){oe(t.$$.fragment,u),oe(i.$$.fragment,u),oe(a.$$.fragment,u),oe(c.$$.fragment,u),f=!1},d(u){u&&(_e(n),_e(r),_e(s),_e(o),_e(l)),Qe(t,u),Qe(i,u),Qe(a,u),Qe(c,u)}}}function Wg(e){let t,n;return t=new ww({props:{model:e[13]}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[0]&8192&&(i.model=r[13]),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function qz(e){let t,n,r;function s(o){e[21](o)}let i={};return e[12]!==void 0&&(i.checked=e[12]),t=new Mb({props:i}),rt.push(()=>wn(t,"checked",s)),{c(){Je(t.$$.fragment)},m(o,a){Ke(t,o,a),r=!0},p(o,a){const l={};!n&&a[0]&4096&&(n=!0,l.checked=o[12],Sn(()=>n=!1)),t.$set(l)},i(o){r||(K(t.$$.fragment,o),r=!0)},o(o){oe(t.$$.fragment,o),r=!1},d(o){Qe(t,o)}}}function Xz(e){let t;return{c(){t=dt("span"),t.textContent="Rotate cells 30°",pt(t,"slot","label")},m(n,r){Ae(n,t,r)},p:Zt,d(n){n&&_e(t)}}}function Wz(e){let t,n,r;function s(o){e[27](o)}let i={};return e[11]!==void 0&&(i.checked=e[11]),t=new Mb({props:i}),rt.push(()=>wn(t,"checked",s)),{c(){Je(t.$$.fragment)},m(o,a){Ke(t,o,a),r=!0},p(o,a){const l={};!n&&a[0]&2048&&(n=!0,l.checked=o[11],Sn(()=>n=!1)),t.$set(l)},i(o){r||(K(t.$$.fragment,o),r=!0)},o(o){oe(t.$$.fragment,o),r=!1},d(o){Qe(t,o)}}}function Yz(e){let t;return{c(){t=dt("span"),t.textContent="Wall mount holes",pt(t,"slot","label")},m(n,r){Ae(n,t,r)},p:Zt,d(n){n&&_e(t)}}}function Zz(e){let t;return{c(){t=Xn("percent")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function Kz(e){let t,n;return t=new td({props:{class:"material-icons",slot:"trailingIcon",$$slots:{default:[Zz]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&32&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function Qz(e){let t;return{c(){t=Xn("percent")},m(n,r){Ae(n,t,r)},d(n){n&&_e(t)}}}function Jz(e){let t,n;return t=new td({props:{class:"material-icons",slot:"trailingIcon",$$slots:{default:[Qz]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(r,s){Ke(t,r,s),n=!0},p(r,s){const i={};s[1]&32&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){oe(t.$$.fragment,r),n=!1},d(r){Qe(t,r)}}}function ej(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g,m,p,v,b,_,E,S,w,A,L,$,G,k,se,V,j,Oe,ne,U;n=new Xg({props:{$$slots:{label:[Xz],default:[qz]},$$scope:{ctx:e}}});function fe(Me){e[22](Me)}let ee={label:"Depth",type:"number",min:"0"};e[4]!==void 0&&(ee.value=e[4]),s=new Vr({props:ee}),rt.push(()=>wn(s,"value",fe));function He(Me){e[23](Me)}let Mt={label:"Wall width",type:"number",min:"0"};e[3]!==void 0&&(Mt.value=e[3]),a=new Vr({props:Mt}),rt.push(()=>wn(a,"value",He));function pe(Me){e[24](Me)}let Dt={label:"Inner cell perimeter",type:"number",min:"0"};e[2]!==void 0&&(Dt.value=e[2]),f=new Vr({props:Dt}),rt.push(()=>wn(f,"value",pe));function je(Me){e[25](Me)}let Et={label:"Cap radius",type:"number",min:"0"};e[5]!==void 0&&(Et.value=e[5]),d=new Vr({props:Et}),rt.push(()=>wn(d,"value",je));function Cn(Me){e[26](Me)}let Zn={label:"Cap inset",type:"number",min:"0"};e[6]!==void 0&&(Zn.value=e[6]),p=new Vr({props:Zn}),rt.push(()=>wn(p,"value",Cn)),E=new Xg({props:{$$slots:{label:[Yz],default:[Wz]},$$scope:{ctx:e}}});function et(Me){e[28](Me)}let Ve={label:"Horizontal space",type:"number",disabled:!e[11],$$slots:{trailingIcon:[Kz]},$$scope:{ctx:e}};e[7]!==void 0&&(Ve.value=e[7]),w=new Vr({props:Ve}),rt.push(()=>wn(w,"value",et));function Pn(Me){e[29](Me)}let ss={label:"Horizontal offset",type:"number",disabled:!e[11]};e[8]!==void 0&&(ss.value=e[8]),$=new Vr({props:ss}),rt.push(()=>wn($,"value",Pn));function Os(Me){e[30](Me)}let Rs={label:"Vertical space",type:"number",disabled:!e[11],$$slots:{trailingIcon:[Jz]},$$scope:{ctx:e}};e[9]!==void 0&&(Rs.value=e[9]),se=new Vr({props:Rs}),rt.push(()=>wn(se,"value",Os));function Rr(Me){e[31](Me)}let wr={label:"Vertical offset",type:"number",disabled:!e[11]};return e[10]!==void 0&&(wr.value=e[10]),Oe=new Vr({props:wr}),rt.push(()=>wn(Oe,"value",Rr)),{c(){t=dt("div"),Je(n.$$.fragment),r=gt(),Je(s.$$.fragment),o=gt(),Je(a.$$.fragment),c=gt(),Je(f.$$.fragment),h=gt(),Je(d.$$.fragment),m=gt(),Je(p.$$.fragment),b=gt(),_=dt("div"),Je(E.$$.fragment),S=gt(),Je(w.$$.fragment),L=gt(),Je($.$$.fragment),k=gt(),Je(se.$$.fragment),j=gt(),Je(Oe.$$.fragment),pt(t,"class","wrap svelte-190rkjk"),pt(_,"class","wrap svelte-190rkjk")},m(Me,vt){Ae(Me,t,vt),Ke(n,t,null),Ae(Me,r,vt),Ke(s,Me,vt),Ae(Me,o,vt),Ke(a,Me,vt),Ae(Me,c,vt),Ke(f,Me,vt),Ae(Me,h,vt),Ke(d,Me,vt),Ae(Me,m,vt),Ke(p,Me,vt),Ae(Me,b,vt),Ae(Me,_,vt),Ke(E,_,null),Ae(Me,S,vt),Ke(w,Me,vt),Ae(Me,L,vt),Ke($,Me,vt),Ae(Me,k,vt),Ke(se,Me,vt),Ae(Me,j,vt),Ke(Oe,Me,vt),U=!0},p(Me,vt){const In={};vt[0]&4096|vt[1]&32&&(In.$$scope={dirty:vt,ctx:Me}),n.$set(In);const Ms={};!i&&vt[0]&16&&(i=!0,Ms.value=Me[4],Sn(()=>i=!1)),s.$set(Ms);const jr={};!l&&vt[0]&8&&(l=!0,jr.value=Me[3],Sn(()=>l=!1)),a.$set(jr);const hi={};!u&&vt[0]&4&&(u=!0,hi.value=Me[2],Sn(()=>u=!1)),f.$set(hi);const mi={};!g&&vt[0]&32&&(g=!0,mi.value=Me[5],Sn(()=>g=!1)),d.$set(mi);const P={};!v&&vt[0]&64&&(v=!0,P.value=Me[6],Sn(()=>v=!1)),p.$set(P);const pi={};vt[0]&2048|vt[1]&32&&(pi.$$scope={dirty:vt,ctx:Me}),E.$set(pi);const qr={};vt[0]&2048&&(qr.disabled=!Me[11]),vt[1]&32&&(qr.$$scope={dirty:vt,ctx:Me}),!A&&vt[0]&128&&(A=!0,qr.value=Me[7],Sn(()=>A=!1)),w.$set(qr);const is={};vt[0]&2048&&(is.disabled=!Me[11]),!G&&vt[0]&256&&(G=!0,is.value=Me[8],Sn(()=>G=!1)),$.$set(is);const os={};vt[0]&2048&&(os.disabled=!Me[11]),vt[1]&32&&(os.$$scope={dirty:vt,ctx:Me}),!V&&vt[0]&512&&(V=!0,os.value=Me[9],Sn(()=>V=!1)),se.$set(os);const ur={};vt[0]&2048&&(ur.disabled=!Me[11]),!ne&&vt[0]&1024&&(ne=!0,ur.value=Me[10],Sn(()=>ne=!1)),Oe.$set(ur)},i(Me){U||(K(n.$$.fragment,Me),K(s.$$.fragment,Me),K(a.$$.fragment,Me),K(f.$$.fragment,Me),K(d.$$.fragment,Me),K(p.$$.fragment,Me),K(E.$$.fragment,Me),K(w.$$.fragment,Me),K($.$$.fragment,Me),K(se.$$.fragment,Me),K(Oe.$$.fragment,Me),U=!0)},o(Me){oe(n.$$.fragment,Me),oe(s.$$.fragment,Me),oe(a.$$.fragment,Me),oe(f.$$.fragment,Me),oe(d.$$.fragment,Me),oe(p.$$.fragment,Me),oe(E.$$.fragment,Me),oe(w.$$.fragment,Me),oe($.$$.fragment,Me),oe(se.$$.fragment,Me),oe(Oe.$$.fragment,Me),U=!1},d(Me){Me&&(_e(t),_e(r),_e(o),_e(c),_e(h),_e(m),_e(b),_e(_),_e(S),_e(L),_e(k),_e(j)),Qe(n),Qe(s,Me),Qe(a,Me),Qe(f,Me),Qe(d,Me),Qe(p,Me),Qe(E),Qe(w,Me),Qe($,Me),Qe(se,Me),Qe(Oe,Me)}}}function tj(e){let t,n,r,s,i,o,a,l,c;t=new fz({props:{color:"primary",style:"position: fixed; right: 1rem; bottom: 1rem; z-index: 1",disabled:e[15],$$slots:{default:[Lz]},$$scope:{ctx:e}}}),t.$on("click",e[17]);function f(m){e[19](m)}let u={tabs:["About","Parameters","Design","Preview","Load/Save"],$$slots:{default:[Mz,({tab:m})=>({35:m}),({tab:m})=>[0,m?16:0]]},$$scope:{ctx:e}};e[1]!==void 0&&(u.active=e[1]),r=new YU({props:u}),rt.push(()=>wn(r,"active",f));const h=[xz,kz,Fz,Dz,Iz],d=[];function g(m,p){return m[1]==="About"?0:m[1]==="Design"?1:m[1]==="Parameters"?2:m[1]==="Preview"?3:m[1]==="Load/Save"?4:-1}return~(o=g(e))&&(a=d[o]=h[o](e)),{c(){Je(t.$$.fragment),n=gt(),Je(r.$$.fragment),i=gt(),a&&a.c(),l=pn()},m(m,p){Ke(t,m,p),Ae(m,n,p),Ke(r,m,p),Ae(m,i,p),~o&&d[o].m(m,p),Ae(m,l,p),c=!0},p(m,p){const v={};p[0]&32768&&(v.disabled=m[15]),p[1]&32&&(v.$$scope={dirty:p,ctx:m}),t.$set(v);const b={};p[0]&32768|p[1]&48&&(b.$$scope={dirty:p,ctx:m}),!s&&p[0]&2&&(s=!0,b.active=m[1],Sn(()=>s=!1)),r.$set(b);let _=o;o=g(m),o===_?~o&&d[o].p(m,p):(a&&(Wt(),oe(d[_],1,1,()=>{d[_]=null}),Yt()),~o?(a=d[o],a?a.p(m,p):(a=d[o]=h[o](m),a.c()),K(a,1),a.m(l.parentNode,l)):a=null)},i(m){c||(K(t.$$.fragment,m),K(r.$$.fragment,m),K(a),c=!0)},o(m){oe(t.$$.fragment,m),oe(r.$$.fragment,m),oe(a),c=!1},d(m){m&&(_e(n),_e(i),_e(l)),Qe(t,m),Qe(r,m),~o&&d[o].d(m)}}}function nj(e,t,n){let r,s,i=structuredClone(Tb.model),o="About",a=30,l=2.25,c=22,f=1.5,u=1,h=50,d=0,g=0,m=0,p=!0,v=!1;_(localStorage.getItem("state"));function b(pe){n(0,{model:i=i,cellSize:a=a,wallWidth:l=l,height:c=c,radius:f=f,inset:u=u,keyholeHorizontalSpace:h=h,keyholeHorizontalOffset:d=d,keyholeVerticalSpace:g=g,keyholeVerticalOffset:m=m,holesEnabled:p=p,cellsRotated:v=v}=structuredClone(pe),i,n(2,a),n(3,l),n(4,c),n(5,f),n(6,u),n(7,h),n(8,d),n(9,g),n(10,m),n(11,p),n(12,v))}function _(pe){try{b(JSON.parse(pe))}catch{}}function E(pe){_(pe.target.value)}function S(){lU.saveAs(new Blob(aU.serialize({binary:!0},A())),"model.stl")}let w;function A(){return yU(i,v,a/2,l,c,f,u,p?h:void 0,p?d:void 0,p?g:void 0,p?m:void 0)}function L(pe){return()=>{b(structuredClone(pe))}}function $(pe){o=pe,n(1,o)}function G(pe){i=pe,n(0,i)}function k(pe){v=pe,n(12,v)}function se(pe){c=pe,n(4,c)}function V(pe){l=pe,n(3,l)}function j(pe){a=pe,n(2,a)}function Oe(pe){f=pe,n(5,f)}function ne(pe){u=pe,n(6,u)}function U(pe){p=pe,n(11,p)}function fe(pe){h=pe,n(7,h)}function ee(pe){d=pe,n(8,d)}function He(pe){g=pe,n(9,g)}function Mt(pe){m=pe,n(10,m)}return e.$$.update=()=>{e.$$.dirty[0]&8189&&n(14,r=JSON.stringify({model:i,cellSize:a,wallWidth:l,height:c,radius:f,inset:u,keyholeHorizontalSpace:h,keyholeHorizontalOffset:d,keyholeVerticalSpace:g,keyholeVerticalOffset:m,holesEnabled:p,cellsRotated:v})),e.$$.dirty[0]&16384&&localStorage.setItem("state",r),e.$$.dirty[0]&8194&&o==="Preview"&&(n(13,w=A()),n(13,w=rs.transforms.rotateZ(Math.PI,rs.transforms.center({},w)))),e.$$.dirty[0]&1&&n(15,s=i.flat().every(pe=>pe===0))},[i,o,a,l,c,f,u,h,d,g,m,p,v,w,r,s,E,S,L,$,G,k,se,V,j,Oe,ne,U,fe,ee,He,Mt]}class rj extends Qt{constructor(t){super(),Kt(this,t,nj,tj,Xt,{},null,[-1,-1])}}new rj({target:document.getElementById("app")});
