(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function An(){}function Ze(e,t){for(const n in t)e[n]=t[n];return e}function sg(e){return e()}function eh(){return Object.create(null)}function ln(e){e.forEach(sg)}function zt(e){return typeof e=="function"}function Qt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Sy(e){return Object.keys(e).length===0}function Ey(e,...t){if(e==null)return An;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Mo(e,t,n){e.$$.on_destroy.push(Ey(t,n))}function Gt(e,t,n,r){if(e){const s=ig(e,t,n,r);return e[0](s)}}function ig(e,t,n,r){return e[1]&&r?Ze(n.ctx.slice(),e[1](r(t))):n.ctx}function Bt(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(t.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=t.dirty[a]|s[a];return i}return t.dirty|s}return t.dirty}function Nt(e,t,n,r,s,i){if(s){const o=ig(t,n,r,i);e.p(o,s)}}function $t(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function Mn(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Ct(e,t){const n={};t=new Set(t);for(const r in e)!t.has(r)&&r[0]!=="$"&&(n[r]=e[r]);return n}function wy(e){const t={};for(const n in e)t[n]=!0;return t}function og(e,t,n){return e.set(n),t}function Et(e){return e&&zt(e.destroy)?e.destroy:An}function yn(e,t){e.appendChild(t)}function qe(e,t,n){e.insertBefore(t,n||null)}function He(e){e.parentNode&&e.parentNode.removeChild(e)}function ag(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function kt(e){return document.createElement(e)}function Au(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Xr(e){return document.createTextNode(e)}function Lt(){return Xr(" ")}function In(){return Xr("")}function Ot(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Ty(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Cy(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Ut(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const Py=["width","height"];function Rt(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)t[r]==null?e.removeAttribute(r):r==="style"?e.style.cssText=t[r]:r==="__value"?e.value=e[r]=t[r]:n[r]&&n[r].set&&Py.indexOf(r)===-1?e[r]=t[r]:Ut(e,r,t[r])}function th(e,t){for(const n in t)Ut(e,n,t[n])}function Ly(e,t){Object.keys(t).forEach(n=>{Oy(e,n,t[n])})}function Oy(e,t,n){t in e?e[t]=typeof e[t]=="boolean"&&n===""?!0:n:Ut(e,t,n)}function ll(e){return/-/.test(e)?Ly:Rt}function Ry(e){return Array.from(e.childNodes)}function $i(e,t){t=""+t,e.data!==t&&(e.data=t)}function nh(e,t){e.value=t??""}function Vs(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function xr(e,t){return new e(t)}let xo;function Io(e){xo=e}function cn(){if(!xo)throw new Error("Function called outside component initialization");return xo}function fr(e){cn().$$.on_mount.push(e)}function Gu(e){cn().$$.on_destroy.push(e)}function Sr(e,t){return cn().$$.context.set(e,t),t}function hr(e){return cn().$$.context.get(e)}function Do(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Oi=[],ot=[];let Ii=[];const Su=[],lg=Promise.resolve();let Eu=!1;function cg(){Eu||(Eu=!0,lg.then(fg))}function My(){return cg(),lg}function wu(e){Ii.push(e)}function $n(e){Su.push(e)}const af=new Set;let vi=0;function fg(){if(vi!==0)return;const e=xo;do{try{for(;vi<Oi.length;){const t=Oi[vi];vi++,Io(t),Iy(t.$$)}}catch(t){throw Oi.length=0,vi=0,t}for(Io(null),Oi.length=0,vi=0;ot.length;)ot.pop()();for(let t=0;t<Ii.length;t+=1){const n=Ii[t];af.has(n)||(af.add(n),n())}Ii.length=0}while(Oi.length);for(;Su.length;)Su.pop()();Eu=!1,af.clear(),Io(e)}function Iy(e){if(e.fragment!==null){e.update(),ln(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(wu)}}function xy(e){const t=[],n=[];Ii.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Ii=t}const sl=new Set;let js;function tn(){js={r:0,c:[],p:js}}function nn(){js.r||ln(js.c),js=js.p}function ce(e,t){e&&e.i&&(sl.delete(e),e.i(t))}function pe(e,t,n,r){if(e&&e.o){if(sl.has(e))return;sl.add(e),js.c.push(()=>{sl.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ug(e,t){pe(e,1,1,()=>{t.delete(e.key)})}function dg(e,t,n,r,s,i,o,a,l,c,f,u){let d=e.length,h=i.length,p=d;const g={};for(;p--;)g[e[p].key]=p;const m=[],v=new Map,b=new Map,y=[];for(p=h;p--;){const S=u(s,i,p),R=n(S);let H=o.get(R);H?r&&y.push(()=>H.p(S,t)):(H=c(R,S),H.c()),v.set(R,m[p]=H),R in g&&b.set(R,Math.abs(p-g[R]))}const A=new Set,E=new Set;function w(S){ce(S,1),S.m(a,f),o.set(S.key,S),f=S.first,h--}for(;d&&h;){const S=m[h-1],R=e[d-1],H=S.key,W=R.key;S===R?(f=S.first,d--,h--):v.has(W)?!o.has(H)||A.has(H)?w(S):E.has(W)?d--:b.get(H)>b.get(W)?(E.add(H),w(S)):(A.add(W),d--):(l(R,o),d--)}for(;d--;){const S=e[d];v.has(S.key)||l(S,o)}for(;h;)w(m[h-1]);return ln(y),m}function xt(e,t){const n={},r={},s={$$scope:1};let i=e.length;for(;i--;){const o=e[i],a=t[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);e[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Ln(e){return typeof e=="object"&&e!==null?e:{}}function Vn(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ht(e){e&&e.c()}function ut(e,t,n,r){const{fragment:s,after_update:i}=e.$$;s&&s.m(t,n),r||wu(()=>{const o=e.$$.on_mount.map(sg).filter(zt);e.$$.on_destroy?e.$$.on_destroy.push(...o):ln(o),e.$$.on_mount=[]}),i.forEach(wu)}function dt(e,t){const n=e.$$;n.fragment!==null&&(xy(n.after_update),ln(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Dy(e,t){e.$$.dirty[0]===-1&&(Oi.push(e),cg(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function fn(e,t,n,r,s,i,o,a=[-1]){const l=xo;Io(e);const c=e.$$={fragment:null,ctx:[],props:i,update:An,not_equal:s,bound:eh(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:eh(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(e,t.props||{},(u,d,...h)=>{const p=h.length?h[0]:d;return c.ctx&&s(c.ctx[u],c.ctx[u]=p)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](p),f&&Dy(e,u)),d}):[],c.update(),f=!0,ln(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const u=Ry(t.target);c.fragment&&c.fragment.l(u),u.forEach(He)}else c.fragment&&c.fragment.c();t.intro&&ce(e.$$.fragment),ut(e,t.target,t.anchor,t.customElement),fg()}Io(l)}class un{$destroy(){dt(this,1),this.$destroy=An}$on(t,n){if(!zt(n))return An;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!Sy(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Fy(e){let t,n,r,s,i,o,a;return{c(){t=Au("svg"),n=Au("polygon"),Ut(n,"points","300,150 225,280 75,280 0,150 75,20 225,20"),Ut(n,"fill",r=["white","#eee","yellow","orange"][e[0]]),Ut(n,"stroke",s=e[0]?"black":"silver"),Ut(n,"stroke-width",i=e[0]?10:2),Ut(t,"width","50"),Ut(t,"viewBox","-5 15 310 290"),Vs(t,"left",e[2]/2),Vs(t,"top",e[1]/2),Vs(t,"z-index",e[0]?1:0),Ut(t,"class","svelte-x6infa")},m(l,c){qe(l,t,c),yn(t,n),o||(a=Ot(n,"click",e[3]),o=!0)},p(l,[c]){c&1&&r!==(r=["white","#eee","yellow","orange"][l[0]])&&Ut(n,"fill",r),c&1&&s!==(s=l[0]?"black":"silver")&&Ut(n,"stroke",s),c&1&&i!==(i=l[0]?10:2)&&Ut(n,"stroke-width",i),c&4&&Vs(t,"left",l[2]/2),c&2&&Vs(t,"top",l[1]/2),c&1&&Vs(t,"z-index",l[0]?1:0)},i:An,o:An,d(l){l&&He(t),o=!1,a()}}}function ky(e,t,n){let r,s,{x:i}=t,{y:o}=t,{value:a}=t,{mode:l}=t;function c(){n(0,a=l)}return e.$$set=f=>{"x"in f&&n(4,i=f.x),"y"in f&&n(5,o=f.y),"value"in f&&n(0,a=f.value),"mode"in f&&n(6,l=f.mode)},e.$$.update=()=>{e.$$.dirty&16&&n(2,r=i*72.7),e.$$.dirty&48&&n(1,s=(19-o)*83.5+(i%2?0:41.7))},[a,s,r,c,i,o,l]}class Gy extends un{constructor(t){super(),fn(this,t,ky,Fy,Qt,{x:4,y:5,value:0,mode:6})}}var Us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function By(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ny=$y;function $y(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var Vy=Uy;function Uy(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var zy=Hy;function Hy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var hg=jy;function jy(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var qy=Xy;function Xy(e,t){if(e===t){var n=t[1],r=t[2],s=t[3],i=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=s,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}var Wy=Yy;function Yy(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15],b=n*a-r*o,y=n*l-s*o,A=n*c-i*o,E=r*l-s*a,w=r*c-i*a,S=s*c-i*l,R=f*g-u*p,H=f*m-d*p,W=f*v-h*p,G=u*m-d*g,oe=u*v-h*g,N=d*v-h*m,X=b*N-y*oe+A*G+E*W-w*H+S*R;return X?(X=1/X,e[0]=(a*N-l*oe+c*G)*X,e[1]=(s*oe-r*N-i*G)*X,e[2]=(g*S-m*w+v*E)*X,e[3]=(d*w-u*S-h*E)*X,e[4]=(l*W-o*N-c*H)*X,e[5]=(n*N-s*W+i*H)*X,e[6]=(m*A-p*S-v*y)*X,e[7]=(f*S-d*A+h*y)*X,e[8]=(o*oe-a*W+c*R)*X,e[9]=(r*W-n*oe-i*R)*X,e[10]=(p*w-g*A+v*b)*X,e[11]=(u*A-f*w-h*b)*X,e[12]=(a*H-o*G-l*R)*X,e[13]=(n*G-r*H+s*R)*X,e[14]=(g*y-p*E-m*b)*X,e[15]=(f*E-u*y+d*b)*X,e):null}var Zy=Ky;function Ky(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15];return e[0]=a*(d*v-h*m)-u*(l*v-c*m)+g*(l*h-c*d),e[1]=-(r*(d*v-h*m)-u*(s*v-i*m)+g*(s*h-i*d)),e[2]=r*(l*v-c*m)-a*(s*v-i*m)+g*(s*c-i*l),e[3]=-(r*(l*h-c*d)-a*(s*h-i*d)+u*(s*c-i*l)),e[4]=-(o*(d*v-h*m)-f*(l*v-c*m)+p*(l*h-c*d)),e[5]=n*(d*v-h*m)-f*(s*v-i*m)+p*(s*h-i*d),e[6]=-(n*(l*v-c*m)-o*(s*v-i*m)+p*(s*c-i*l)),e[7]=n*(l*h-c*d)-o*(s*h-i*d)+f*(s*c-i*l),e[8]=o*(u*v-h*g)-f*(a*v-c*g)+p*(a*h-c*u),e[9]=-(n*(u*v-h*g)-f*(r*v-i*g)+p*(r*h-i*u)),e[10]=n*(a*v-c*g)-o*(r*v-i*g)+p*(r*c-i*a),e[11]=-(n*(a*h-c*u)-o*(r*h-i*u)+f*(r*c-i*a)),e[12]=-(o*(u*m-d*g)-f*(a*m-l*g)+p*(a*d-l*u)),e[13]=n*(u*m-d*g)-f*(r*m-s*g)+p*(r*d-s*u),e[14]=-(n*(a*m-l*g)-o*(r*m-s*g)+p*(r*l-s*a)),e[15]=n*(a*d-l*u)-o*(r*d-s*u)+f*(r*l-s*a),e}var Qy=Jy;function Jy(e){var t=e[0],n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],l=e[7],c=e[8],f=e[9],u=e[10],d=e[11],h=e[12],p=e[13],g=e[14],m=e[15],v=t*o-n*i,b=t*a-r*i,y=t*l-s*i,A=n*a-r*o,E=n*l-s*o,w=r*l-s*a,S=c*p-f*h,R=c*g-u*h,H=c*m-d*h,W=f*g-u*p,G=f*m-d*p,oe=u*m-d*g;return v*oe-b*G+y*W+A*H-E*R+w*S}var e5=t5;function t5(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],d=t[9],h=t[10],p=t[11],g=t[12],m=t[13],v=t[14],b=t[15],y=n[0],A=n[1],E=n[2],w=n[3];return e[0]=y*r+A*a+E*u+w*g,e[1]=y*s+A*l+E*d+w*m,e[2]=y*i+A*c+E*h+w*v,e[3]=y*o+A*f+E*p+w*b,y=n[4],A=n[5],E=n[6],w=n[7],e[4]=y*r+A*a+E*u+w*g,e[5]=y*s+A*l+E*d+w*m,e[6]=y*i+A*c+E*h+w*v,e[7]=y*o+A*f+E*p+w*b,y=n[8],A=n[9],E=n[10],w=n[11],e[8]=y*r+A*a+E*u+w*g,e[9]=y*s+A*l+E*d+w*m,e[10]=y*i+A*c+E*h+w*v,e[11]=y*o+A*f+E*p+w*b,y=n[12],A=n[13],E=n[14],w=n[15],e[12]=y*r+A*a+E*u+w*g,e[13]=y*s+A*l+E*d+w*m,e[14]=y*i+A*c+E*h+w*v,e[15]=y*o+A*f+E*p+w*b,e}var n5=r5;function r5(e,t,n){var r=n[0],s=n[1],i=n[2],o,a,l,c,f,u,d,h,p,g,m,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],d=t[6],h=t[7],p=t[8],g=t[9],m=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=d,e[7]=h,e[8]=p,e[9]=g,e[10]=m,e[11]=v,e[12]=o*r+f*s+p*i+t[12],e[13]=a*r+u*s+g*i+t[13],e[14]=l*r+d*s+m*i+t[14],e[15]=c*r+h*s+v*i+t[15]),e}var s5=i5;function i5(e,t,n){var r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var o5=a5;function a5(e,t,n,r){var s=r[0],i=r[1],o=r[2],a=Math.sqrt(s*s+i*i+o*o),l,c,f,u,d,h,p,g,m,v,b,y,A,E,w,S,R,H,W,G,oe,N,X,Ee;return Math.abs(a)<1e-6?null:(a=1/a,s*=a,i*=a,o*=a,l=Math.sin(n),c=Math.cos(n),f=1-c,u=t[0],d=t[1],h=t[2],p=t[3],g=t[4],m=t[5],v=t[6],b=t[7],y=t[8],A=t[9],E=t[10],w=t[11],S=s*s*f+c,R=i*s*f+o*l,H=o*s*f-i*l,W=s*i*f-o*l,G=i*i*f+c,oe=o*i*f+s*l,N=s*o*f+i*l,X=i*o*f-s*l,Ee=o*o*f+c,e[0]=u*S+g*R+y*H,e[1]=d*S+m*R+A*H,e[2]=h*S+v*R+E*H,e[3]=p*S+b*R+w*H,e[4]=u*W+g*G+y*oe,e[5]=d*W+m*G+A*oe,e[6]=h*W+v*G+E*oe,e[7]=p*W+b*G+w*oe,e[8]=u*N+g*X+y*Ee,e[9]=d*N+m*X+A*Ee,e[10]=h*N+v*X+E*Ee,e[11]=p*N+b*X+w*Ee,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}var l5=c5;function c5(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+d*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=d*s-l*r,e}var f5=u5;function u5(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-d*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+d*s,e}var d5=h5;function h5(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+d*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=d*s-l*r,e}var m5=p5;function p5(e,t,n){var r,s,i,o=n[0],a=n[1],l=n[2],c=Math.sqrt(o*o+a*a+l*l);return Math.abs(c)<1e-6?null:(c=1/c,o*=c,a*=c,l*=c,r=Math.sin(t),s=Math.cos(t),i=1-s,e[0]=o*o*i+s,e[1]=a*o*i+l*r,e[2]=l*o*i-a*r,e[3]=0,e[4]=o*a*i-l*r,e[5]=a*a*i+s,e[6]=l*a*i+o*r,e[7]=0,e[8]=o*l*i+a*r,e[9]=a*l*i-o*r,e[10]=l*l*i+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}var g5=v5;function v5(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=r+r,l=s+s,c=i+i,f=r*a,u=r*l,d=r*c,h=s*l,p=s*c,g=i*c,m=o*a,v=o*l,b=o*c;return e[0]=1-(h+g),e[1]=u+b,e[2]=d-v,e[3]=0,e[4]=u-b,e[5]=1-(f+g),e[6]=p+m,e[7]=0,e[8]=d+v,e[9]=p-m,e[10]=1-(f+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}var b5=_5;function _5(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var y5=A5;function A5(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}var S5=E5;function E5(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var w5=T5;function T5(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var C5=P5;function P5(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var L5=O5;function O5(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=n+n,a=r+r,l=s+s,c=n*o,f=r*o,u=r*a,d=s*o,h=s*a,p=s*l,g=i*o,m=i*a,v=i*l;return e[0]=1-u-p,e[1]=f+v,e[2]=d-m,e[3]=0,e[4]=f-v,e[5]=1-c-p,e[6]=h+g,e[7]=0,e[8]=d+m,e[9]=h-g,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var R5=M5;function M5(e,t,n,r,s,i,o){var a=1/(n-t),l=1/(s-r),c=1/(i-o);return e[0]=i*2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(s+r)*l,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}var I5=x5;function x5(e,t,n,r,s){var i=1/Math.tan(t/2),o=1/(r-s);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*r*o,e[15]=0,e}var D5=F5;function F5(e,t,n,r){var s=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(s+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((o-a)*l*.5),e[9]=(s-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}var k5=G5;function G5(e,t,n,r,s,i,o){var a=1/(t-n),l=1/(r-s),c=1/(i-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(s+r)*l,e[14]=(o+i)*c,e[15]=1,e}var B5=hg,N5=$5;function $5(e,t,n,r){var s,i,o,a,l,c,f,u,d,h,p=t[0],g=t[1],m=t[2],v=r[0],b=r[1],y=r[2],A=n[0],E=n[1],w=n[2];return Math.abs(p-A)<1e-6&&Math.abs(g-E)<1e-6&&Math.abs(m-w)<1e-6?B5(e):(f=p-A,u=g-E,d=m-w,h=1/Math.sqrt(f*f+u*u+d*d),f*=h,u*=h,d*=h,s=b*d-y*u,i=y*f-v*d,o=v*u-b*f,h=Math.sqrt(s*s+i*i+o*o),h?(h=1/h,s*=h,i*=h,o*=h):(s=0,i=0,o=0),a=u*o-d*i,l=d*s-f*o,c=f*i-u*s,h=Math.sqrt(a*a+l*l+c*c),h?(h=1/h,a*=h,l*=h,c*=h):(a=0,l=0,c=0),e[0]=s,e[1]=a,e[2]=f,e[3]=0,e[4]=i,e[5]=l,e[6]=u,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(s*p+i*g+o*m),e[13]=-(a*p+l*g+c*m),e[14]=-(f*p+u*g+d*m),e[15]=1,e)}var V5=U5;function U5(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}var pr={create:Ny,clone:Vy,copy:zy,identity:hg,transpose:qy,invert:Wy,adjoint:Zy,determinant:Qy,multiply:e5,translate:n5,scale:s5,rotate:o5,rotateX:l5,rotateY:f5,rotateZ:d5,fromRotation:m5,fromRotationTranslation:g5,fromScaling:b5,fromTranslation:y5,fromXRotation:S5,fromYRotation:w5,fromZRotation:C5,fromQuat:L5,frustum:R5,perspective:I5,perspectiveFromFieldOfView:D5,ortho:k5,lookAt:N5,str:V5};const lf=pr,z5=(e,t={})=>{const{fbo:n}=t,r={cull:{enable:!0},context:{lightDirection:[.2,.2,1]},uniforms:{view:(s,i)=>i.camera.view,eye:(s,i)=>i.camera.position,projection:(s,i)=>i.camera.projection,camNear:(s,i)=>i.camera.near,camFar:(s,i)=>i.camera.far,invertedView:(s,i)=>lf.invert([],i.camera.view),lightPosition:(s,i)=>i&&i.rendering&&i.rendering.lightPosition?i.rendering.lightPosition:[100,200,100],lightDirection:(s,i)=>i&&i.rendering&&i.rendering.lightDirection?i.rendering.lightDirection:s.lightDirection||[0,0,0],lightView:s=>lf.lookAt([],s.lightDirection,[0,0,0],[0,0,1]),lightProjection:lf.ortho([],-25,-25,-20,20,-25,25),lightColor:(s,i)=>i&&i.rendering&&i.rendering.lightColor?i.rendering.lightColor:[1,.8,0],ambientLightAmount:(s,i)=>i&&i.rendering&&i.rendering.ambientLightAmount?i.rendering.ambientLightAmount:.3,diffuseLightAmount:(s,i)=>i&&i.rendering&&i.rendering.diffuseLightAmount?i&&i.rendering&&i.rendering.diffuseLightAmount:.89,specularLightAmount:(s,i)=>i&&i.rendering&&i.rendering.specularLightAmount?i.rendering.specularLightAmount:.16,uMaterialShininess:(s,i)=>i&&i.rendering&&i.rendering.materialShininess?i.rendering.materialShininess:8,materialAmbient:[.5,.8,.3],materialDiffuse:[.5,.8,.3],materialSpecular:[.5,.8,.3]},framebuffer:n};return e(Object.assign({},r,t.extras))};var H5=z5,gl={background:[1,1,1,1],meshColor:[0,.6,1,1],lightColor:[1,1,1,1],lightDirection:[.2,.2,1],lightPosition:[100,200,100],ambientLightAmount:.3,diffuseLightAmount:.89,specularLightAmount:.16,materialShininess:8},cf={exports:{}},rh;function j5(){return rh||(rh=1,function(e,t){(function(n,r){e.exports=r()})(Us,function(){var n=function(_){return _ instanceof Uint8Array||_ instanceof Uint16Array||_ instanceof Uint32Array||_ instanceof Int8Array||_ instanceof Int16Array||_ instanceof Int32Array||_ instanceof Float32Array||_ instanceof Float64Array||_ instanceof Uint8ClampedArray},r=function(_,C){for(var D=Object.keys(C),Q=0;Q<D.length;++Q)_[D[Q]]=C[D[Q]];return _},s=`
`;function i(_){return typeof atob<"u"?atob(_):"base64:"+_}function o(_){var C=new Error("(regl) "+_);throw console.error(C),C}function a(_,C){_||o(C)}function l(_){return _?": "+_:""}function c(_,C,D){_ in C||o("unknown parameter ("+_+")"+l(D)+". possible values: "+Object.keys(C).join())}function f(_,C){n(_)||o("invalid parameter type"+l(C)+". must be a typed array")}function u(_,C){switch(C){case"number":return typeof _=="number";case"object":return typeof _=="object";case"string":return typeof _=="string";case"boolean":return typeof _=="boolean";case"function":return typeof _=="function";case"undefined":return typeof _>"u";case"symbol":return typeof _=="symbol"}}function d(_,C,D){u(_,C)||o("invalid parameter type"+l(D)+". expected "+C+", got "+typeof _)}function h(_,C){_>=0&&(_|0)===_||o("invalid parameter type, ("+_+")"+l(C)+". must be a nonnegative integer")}function p(_,C,D){C.indexOf(_)<0&&o("invalid value"+l(D)+". must be one of: "+C)}var g=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(_){Object.keys(_).forEach(function(C){g.indexOf(C)<0&&o('invalid regl constructor argument "'+C+'". must be one of '+g)})}function v(_,C){for(_=_+"";_.length<C;)_=" "+_;return _}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(_,C){this.number=_,this.line=C,this.errors=[]}function A(_,C,D){this.file=_,this.line=C,this.message=D}function E(){var _=new Error,C=(_.stack||_).toString(),D=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(C);if(D)return D[1];var Q=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(C);return Q?Q[1]:"unknown"}function w(){var _=new Error,C=(_.stack||_).toString(),D=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(C);if(D)return D[1];var Q=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(C);return Q?Q[1]:"unknown"}function S(_,C){var D=_.split(`
`),Q=1,le=0,K={unknown:new b,0:new b};K.unknown.name=K[0].name=C||E(),K.unknown.lines.push(new y(0,""));for(var re=0;re<D.length;++re){var ve=D[re],ge=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(ve);if(ge)switch(ge[1]){case"line":var we=/(\d+)(\s+\d+)?/.exec(ge[2]);we&&(Q=we[1]|0,we[2]&&(le=we[2]|0,le in K||(K[le]=new b)));break;case"define":var Ce=/SHADER_NAME(_B64)?\s+(.*)$/.exec(ge[2]);Ce&&(K[le].name=Ce[1]?i(Ce[2]):Ce[2]);break}K[le].lines.push(new y(Q++,ve))}return Object.keys(K).forEach(function(Te){var Le=K[Te];Le.lines.forEach(function(be){Le.index[be.number]=be})}),K}function R(_){var C=[];return _.split(`
`).forEach(function(D){if(!(D.length<5)){var Q=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(D);Q?C.push(new A(Q[1]|0,Q[2]|0,Q[3].trim())):D.length>0&&C.push(new A("unknown",0,D))}}),C}function H(_,C){C.forEach(function(D){var Q=_[D.file];if(Q){var le=Q.index[D.line];if(le){le.errors.push(D),Q.hasErrors=!0;return}}_.unknown.hasErrors=!0,_.unknown.lines[0].errors.push(D)})}function W(_,C,D,Q,le){if(!_.getShaderParameter(C,_.COMPILE_STATUS)){var K=_.getShaderInfoLog(C),re=Q===_.FRAGMENT_SHADER?"fragment":"vertex";U(D,"string",re+" shader source must be a string",le);var ve=S(D,le),ge=R(K);H(ve,ge),Object.keys(ve).forEach(function(we){var Ce=ve[we];if(!Ce.hasErrors)return;var Te=[""],Le=[""];function be(Se,z){Te.push(Se),Le.push(z||"")}be("file number "+we+": "+Ce.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Ce.lines.forEach(function(Se){if(Se.errors.length>0){be(v(Se.number,4)+"|  ","background-color:yellow; font-weight:bold"),be(Se.line+s,"color:red; background-color:yellow; font-weight:bold");var z=0;Se.errors.forEach(function(ne){var Ae=ne.message,$e=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Ae);if($e){var me=$e[1];switch(Ae=$e[2],me){case"assign":me="=";break}z=Math.max(Se.line.indexOf(me,z),0)}else z=0;be(v("| ",6)),be(v("^^^",z+3)+s,"font-weight:bold"),be(v("| ",6)),be(Ae+s,"font-weight:bold")}),be(v("| ",6)+s)}else be(v(Se.number,4)+"|  "),be(Se.line+s,"color:red")}),typeof document<"u"&&!window.chrome?(Le[0]=Te.join("%c"),console.log.apply(console,Le)):console.log(Te.join(""))}),a.raise("Error compiling "+re+" shader, "+ve[0].name)}}function G(_,C,D,Q,le){if(!_.getProgramParameter(C,_.LINK_STATUS)){var K=_.getProgramInfoLog(C),re=S(D,le),ve=S(Q,le),ge='Error linking program with vertex shader, "'+ve[0].name+'", and fragment shader "'+re[0].name+'"';typeof document<"u"?console.log("%c"+ge+s+"%c"+K,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(ge+s+K),a.raise(ge)}}function oe(_){_._commandRef=E()}function N(_,C,D,Q){oe(_);function le(ge){return ge?Q.id(ge):0}_._fragId=le(_.static.frag),_._vertId=le(_.static.vert);function K(ge,we){Object.keys(we).forEach(function(Ce){ge[Q.id(Ce)]=!0})}var re=_._uniformSet={};K(re,C.static),K(re,C.dynamic);var ve=_._attributeSet={};K(ve,D.static),K(ve,D.dynamic),_._hasCount="count"in _.static||"count"in _.dynamic||"elements"in _.static||"elements"in _.dynamic}function X(_,C){var D=w();o(_+" in command "+(C||E())+(D==="unknown"?"":" called from "+D))}function Ee(_,C,D){_||X(C,D||E())}function te(_,C,D,Q){_ in C||X("unknown parameter ("+_+")"+l(D)+". possible values: "+Object.keys(C).join(),Q||E())}function U(_,C,D,Q){u(_,C)||X("invalid parameter type"+l(D)+". expected "+C+", got "+typeof _,Q||E())}function fe(_){_()}function _e(_,C,D){_.texture?p(_.texture._texture.internalformat,C,"unsupported texture format for attachment"):p(_.renderbuffer._renderbuffer.format,D,"unsupported renderbuffer format for attachment")}var Xe=33071,Pt=9728,Fe=9984,Tt=9985,Wt=9986,Vt=9987,On=5120,ke=5121,Ie=5122,Ne=5123,dn=5124,Yr=5125,Zr=5126,bs=32819,gr=32820,vr=33635,Er=34042,_s=36193,Un={};Un[On]=Un[ke]=1,Un[Ie]=Un[Ne]=Un[_s]=Un[vr]=Un[bs]=Un[gr]=2,Un[dn]=Un[Yr]=Un[Zr]=Un[Er]=4;function Ho(_,C){return _===gr||_===bs||_===vr?2:_===Er?4:Un[_]*C}function ti(_){return!(_&_-1)&&!!_}function Nl(_,C,D){var Q,le=C.width,K=C.height,re=C.channels;a(le>0&&le<=D.maxTextureSize&&K>0&&K<=D.maxTextureSize,"invalid texture shape"),(_.wrapS!==Xe||_.wrapT!==Xe)&&a(ti(le)&&ti(K),"incompatible wrap mode for texture, both width and height must be power of 2"),C.mipmask===1?le!==1&&K!==1&&a(_.minFilter!==Fe&&_.minFilter!==Wt&&_.minFilter!==Tt&&_.minFilter!==Vt,"min filter requires mipmap"):(a(ti(le)&&ti(K),"texture must be a square power of 2 to support mipmapping"),a(C.mipmask===(le<<1)-1,"missing or incomplete mipmap data")),C.type===Zr&&(D.extensions.indexOf("oes_texture_float_linear")<0&&a(_.minFilter===Pt&&_.magFilter===Pt,"filter not supported, must enable oes_texture_float_linear"),a(!_.genMipmaps,"mipmap generation not supported with float textures"));var ve=C.images;for(Q=0;Q<16;++Q)if(ve[Q]){var ge=le>>Q,we=K>>Q;a(C.mipmask&1<<Q,"missing mipmap data");var Ce=ve[Q];if(a(Ce.width===ge&&Ce.height===we,"invalid shape for mip images"),a(Ce.format===C.format&&Ce.internalformat===C.internalformat&&Ce.type===C.type,"incompatible type for mip image"),!Ce.compressed)if(Ce.data){var Te=Math.ceil(Ho(Ce.type,re)*ge/Ce.unpackAlignment)*Ce.unpackAlignment;a(Ce.data.byteLength===Te*we,"invalid data for image, buffer size is inconsistent with image format")}else Ce.element||Ce.copy}else _.genMipmaps||a((C.mipmask&1<<Q)===0,"extra mipmap data");C.compressed&&a(!_.genMipmaps,"mipmap generation for compressed images not supported")}function $l(_,C,D,Q){var le=_.width,K=_.height,re=_.channels;a(le>0&&le<=Q.maxTextureSize&&K>0&&K<=Q.maxTextureSize,"invalid texture shape"),a(le===K,"cube map must be square"),a(C.wrapS===Xe&&C.wrapT===Xe,"wrap mode not supported by cube map");for(var ve=0;ve<D.length;++ve){var ge=D[ve];a(ge.width===le&&ge.height===K,"inconsistent cube map face shape"),C.genMipmaps&&(a(!ge.compressed,"can not generate mipmap for compressed textures"),a(ge.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var we=ge.images,Ce=0;Ce<16;++Ce){var Te=we[Ce];if(Te){var Le=le>>Ce,be=K>>Ce;a(ge.mipmask&1<<Ce,"missing mipmap data"),a(Te.width===Le&&Te.height===be,"invalid shape for mip images"),a(Te.format===_.format&&Te.internalformat===_.internalformat&&Te.type===_.type,"incompatible type for mip image"),Te.compressed||(Te.data?a(Te.data.byteLength===Le*be*Math.max(Ho(Te.type,re),Te.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Te.element||Te.copy)}}}}var P=r(a,{optional:fe,raise:o,commandRaise:X,command:Ee,parameter:c,commandParameter:te,constructor:m,type:d,commandType:U,isTypedArray:f,nni:h,oneOf:p,shaderError:W,linkError:G,callSite:w,saveCommandRef:oe,saveDrawInfo:N,framebufferFormat:_e,guessCommand:E,texture2D:Nl,textureCube:$l}),Vl=0,jo=0,qo=5,Ul=6;function kr(_,C){this.id=Vl++,this.type=_,this.data=C}function Xo(_){return _.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Kr(_){if(_.length===0)return[];var C=_.charAt(0),D=_.charAt(_.length-1);if(_.length>1&&C===D&&(C==='"'||C==="'"))return['"'+Xo(_.substr(1,_.length-2))+'"'];var Q=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(_);if(Q)return Kr(_.substr(0,Q.index)).concat(Kr(Q[1])).concat(Kr(_.substr(Q.index+Q[0].length)));var le=_.split(".");if(le.length===1)return['"'+Xo(_)+'"'];for(var K=[],re=0;re<le.length;++re)K=K.concat(Kr(le[re]));return K}function ys(_){return"["+Kr(_).join("][")+"]"}function zl(_,C){return new kr(_,ys(C+""))}function Hl(_){return typeof _=="function"&&!_._reglType||_ instanceof kr}function Wo(_,C){if(typeof _=="function")return new kr(jo,_);if(typeof _=="number"||typeof _=="boolean")return new kr(qo,_);if(Array.isArray(_))return new kr(Ul,_.map(function(D,Q){return Wo(D,C+"["+Q+"]")}));if(_ instanceof kr)return _;P(!1,"invalid option type in uniform "+C)}var jn={DynamicVariable:kr,define:zl,isDynamic:Hl,unbox:Wo,accessor:ys},qi={next:typeof requestAnimationFrame=="function"?function(_){return requestAnimationFrame(_)}:function(_){return setTimeout(_,16)},cancel:typeof cancelAnimationFrame=="function"?function(_){return cancelAnimationFrame(_)}:clearTimeout},Yo=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function jl(){var _={"":0},C=[""];return{id:function(D){var Q=_[D];return Q||(Q=_[D]=C.length,C.push(D),Q)},str:function(D){return C[D]}}}function ql(_,C,D){var Q=document.createElement("canvas");r(Q.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),_.appendChild(Q),_===document.body&&(Q.style.position="absolute",r(_.style,{margin:0,padding:0}));function le(){var ve=window.innerWidth,ge=window.innerHeight;if(_!==document.body){var we=Q.getBoundingClientRect();ve=we.right-we.left,ge=we.bottom-we.top}Q.width=D*ve,Q.height=D*ge}var K;_!==document.body&&typeof ResizeObserver=="function"?(K=new ResizeObserver(function(){setTimeout(le)}),K.observe(_)):window.addEventListener("resize",le,!1);function re(){K?K.disconnect():window.removeEventListener("resize",le),_.removeChild(Q)}return le(),{canvas:Q,onDestroy:re}}function Xl(_,C){function D(Q){try{return _.getContext(Q,C)}catch{return null}}return D("webgl")||D("experimental-webgl")||D("webgl-experimental")}function Wl(_){return typeof _.nodeName=="string"&&typeof _.appendChild=="function"&&typeof _.getBoundingClientRect=="function"}function Yl(_){return typeof _.drawArrays=="function"||typeof _.drawElements=="function"}function Zo(_){return typeof _=="string"?_.split():(P(Array.isArray(_),"invalid extension array"),_)}function Ko(_){return typeof _=="string"?(P(typeof document<"u","not supported outside of DOM"),document.querySelector(_)):_}function Zl(_){var C=_||{},D,Q,le,K,re={},ve=[],ge=[],we=typeof window>"u"?1:window.devicePixelRatio,Ce=!1,Te=function(Se){Se&&P.raise(Se)},Le=function(){};if(typeof C=="string"?(P(typeof document<"u","selector queries only supported in DOM enviroments"),D=document.querySelector(C),P(D,"invalid query string for element")):typeof C=="object"?Wl(C)?D=C:Yl(C)?(K=C,le=K.canvas):(P.constructor(C),"gl"in C?K=C.gl:"canvas"in C?le=Ko(C.canvas):"container"in C&&(Q=Ko(C.container)),"attributes"in C&&(re=C.attributes,P.type(re,"object","invalid context attributes")),"extensions"in C&&(ve=Zo(C.extensions)),"optionalExtensions"in C&&(ge=Zo(C.optionalExtensions)),"onDone"in C&&(P.type(C.onDone,"function","invalid or missing onDone callback"),Te=C.onDone),"profile"in C&&(Ce=!!C.profile),"pixelRatio"in C&&(we=+C.pixelRatio,P(we>0,"invalid pixel ratio"))):P.raise("invalid arguments to regl"),D&&(D.nodeName.toLowerCase()==="canvas"?le=D:Q=D),!K){if(!le){P(typeof document<"u","must manually specify webgl context outside of DOM environments");var be=ql(Q||document.body,Te,we);if(!be)return null;le=be.canvas,Le=be.onDestroy}re.premultipliedAlpha===void 0&&(re.premultipliedAlpha=!0),K=Xl(le,re)}return K?{gl:K,canvas:le,container:Q,extensions:ve,optionalExtensions:ge,pixelRatio:we,profile:Ce,onDone:Te,onDestroy:Le}:(Le(),Te("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Kl(_,C){var D={};function Q(re){P.type(re,"string","extension name must be string");var ve=re.toLowerCase(),ge;try{ge=D[ve]=_.getExtension(ve)}catch{}return!!ge}for(var le=0;le<C.extensions.length;++le){var K=C.extensions[le];if(!Q(K))return C.onDestroy(),C.onDone('"'+K+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return C.optionalExtensions.forEach(Q),{extensions:D,restore:function(){Object.keys(D).forEach(function(re){if(D[re]&&!Q(re))throw new Error("(regl): error restoring extension "+re)})}}}function qn(_,C){for(var D=Array(_),Q=0;Q<_;++Q)D[Q]=C(Q);return D}var Ql=5120,Jl=5121,ec=5122,tc=5123,nc=5124,rc=5125,sc=5126;function ic(_){for(var C=16;C<=1<<28;C*=16)if(_<=C)return C;return 0}function Qo(_){var C,D;return C=(_>65535)<<4,_>>>=C,D=(_>255)<<3,_>>>=D,C|=D,D=(_>15)<<2,_>>>=D,C|=D,D=(_>3)<<1,_>>>=D,C|=D,C|_>>1}function Jo(){var _=qn(8,function(){return[]});function C(K){var re=ic(K),ve=_[Qo(re)>>2];return ve.length>0?ve.pop():new ArrayBuffer(re)}function D(K){_[Qo(K.byteLength)>>2].push(K)}function Q(K,re){var ve=null;switch(K){case Ql:ve=new Int8Array(C(re),0,re);break;case Jl:ve=new Uint8Array(C(re),0,re);break;case ec:ve=new Int16Array(C(2*re),0,re);break;case tc:ve=new Uint16Array(C(2*re),0,re);break;case nc:ve=new Int32Array(C(4*re),0,re);break;case rc:ve=new Uint32Array(C(4*re),0,re);break;case sc:ve=new Float32Array(C(4*re),0,re);break;default:return null}return ve.length!==re?ve.subarray(0,re):ve}function le(K){D(K.buffer)}return{alloc:C,free:D,allocType:Q,freeType:le}}var rn=Jo();rn.zero=Jo();var oc=3408,ac=3410,lc=3411,J=3412,hn=3413,ea=3414,cc=3415,Xi=33901,Wi=33902,B2=3379,N2=3386,$2=34921,V2=36347,U2=36348,z2=35661,H2=35660,j2=34930,q2=36349,X2=34076,W2=34024,Y2=7936,Z2=7937,K2=7938,Q2=35724,J2=34047,eb=36063,tb=34852,ta=3553,fd=34067,nb=34069,rb=33984,Yi=6408,fc=5126,ud=5121,uc=36160,sb=36053,ib=36064,ob=16384,ab=function(_,C){var D=1;C.ext_texture_filter_anisotropic&&(D=_.getParameter(J2));var Q=1,le=1;C.webgl_draw_buffers&&(Q=_.getParameter(tb),le=_.getParameter(eb));var K=!!C.oes_texture_float;if(K){var re=_.createTexture();_.bindTexture(ta,re),_.texImage2D(ta,0,Yi,1,1,0,Yi,fc,null);var ve=_.createFramebuffer();if(_.bindFramebuffer(uc,ve),_.framebufferTexture2D(uc,ib,ta,re,0),_.bindTexture(ta,null),_.checkFramebufferStatus(uc)!==sb)K=!1;else{_.viewport(0,0,1,1),_.clearColor(1,0,0,1),_.clear(ob);var ge=rn.allocType(fc,4);_.readPixels(0,0,1,1,Yi,fc,ge),_.getError()?K=!1:(_.deleteFramebuffer(ve),_.deleteTexture(re),K=ge[0]===1),rn.freeType(ge)}}var we=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Ce=!0;if(!we){var Te=_.createTexture(),Le=rn.allocType(ud,36);_.activeTexture(rb),_.bindTexture(fd,Te),_.texImage2D(nb,0,Yi,3,3,0,Yi,ud,Le),rn.freeType(Le),_.bindTexture(fd,null),_.deleteTexture(Te),Ce=!_.getError()}return{colorBits:[_.getParameter(ac),_.getParameter(lc),_.getParameter(J),_.getParameter(hn)],depthBits:_.getParameter(ea),stencilBits:_.getParameter(cc),subpixelBits:_.getParameter(oc),extensions:Object.keys(C).filter(function(be){return!!C[be]}),maxAnisotropic:D,maxDrawbuffers:Q,maxColorAttachments:le,pointSizeDims:_.getParameter(Xi),lineWidthDims:_.getParameter(Wi),maxViewportDims:_.getParameter(N2),maxCombinedTextureUnits:_.getParameter(z2),maxCubeMapSize:_.getParameter(X2),maxRenderbufferSize:_.getParameter(W2),maxTextureUnits:_.getParameter(j2),maxTextureSize:_.getParameter(B2),maxAttributes:_.getParameter($2),maxVertexUniforms:_.getParameter(V2),maxVertexTextureUnits:_.getParameter(H2),maxVaryingVectors:_.getParameter(U2),maxFragmentUniforms:_.getParameter(q2),glsl:_.getParameter(Q2),renderer:_.getParameter(Z2),vendor:_.getParameter(Y2),version:_.getParameter(K2),readFloat:K,npotTextureCube:Ce}};function br(_){return!!_&&typeof _=="object"&&Array.isArray(_.shape)&&Array.isArray(_.stride)&&typeof _.offset=="number"&&_.shape.length===_.stride.length&&(Array.isArray(_.data)||n(_.data))}var ir=function(_){return Object.keys(_).map(function(C){return _[C]})},na={shape:ub,flatten:fb};function lb(_,C,D){for(var Q=0;Q<C;++Q)D[Q]=_[Q]}function cb(_,C,D,Q){for(var le=0,K=0;K<C;++K)for(var re=_[K],ve=0;ve<D;++ve)Q[le++]=re[ve]}function dd(_,C,D,Q,le,K){for(var re=K,ve=0;ve<C;++ve)for(var ge=_[ve],we=0;we<D;++we)for(var Ce=ge[we],Te=0;Te<Q;++Te)le[re++]=Ce[Te]}function hd(_,C,D,Q,le){for(var K=1,re=D+1;re<C.length;++re)K*=C[re];var ve=C[D];if(C.length-D===4){var ge=C[D+1],we=C[D+2],Ce=C[D+3];for(re=0;re<ve;++re)dd(_[re],ge,we,Ce,Q,le),le+=K}else for(re=0;re<ve;++re)hd(_[re],C,D+1,Q,le),le+=K}function fb(_,C,D,Q){var le=1;if(C.length)for(var K=0;K<C.length;++K)le*=C[K];else le=0;var re=Q||rn.allocType(D,le);switch(C.length){case 0:break;case 1:lb(_,C[0],re);break;case 2:cb(_,C[0],C[1],re);break;case 3:dd(_,C[0],C[1],C[2],re,0);break;default:hd(_,C,0,re,0)}return re}function ub(_){for(var C=[],D=_;D.length;D=D[0])C.push(D.length);return C}var dc={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},db=5120,hb=5122,mb=5124,pb=5121,gb=5123,vb=5125,bb=5126,_b=5126,As={int8:db,int16:hb,int32:mb,uint8:pb,uint16:gb,uint32:vb,float:bb,float32:_b},yb=35048,Ab=35040,ra={dynamic:yb,stream:Ab,static:35044},hc=na.flatten,md=na.shape,pd=35044,Sb=35040,mc=5121,pc=5126,Qr=[];Qr[5120]=1,Qr[5122]=2,Qr[5124]=4,Qr[5121]=1,Qr[5123]=2,Qr[5125]=4,Qr[5126]=4;function sa(_){return dc[Object.prototype.toString.call(_)]|0}function gd(_,C){for(var D=0;D<C.length;++D)_[D]=C[D]}function vd(_,C,D,Q,le,K,re){for(var ve=0,ge=0;ge<D;++ge)for(var we=0;we<Q;++we)_[ve++]=C[le*ge+K*we+re]}function Eb(_,C,D,Q){var le=0,K={};function re(z){this.id=le++,this.buffer=_.createBuffer(),this.type=z,this.usage=pd,this.byteLength=0,this.dimension=1,this.dtype=mc,this.persistentData=null,D.profile&&(this.stats={size:0})}re.prototype.bind=function(){_.bindBuffer(this.type,this.buffer)},re.prototype.destroy=function(){Le(this)};var ve=[];function ge(z,ne){var Ae=ve.pop();return Ae||(Ae=new re(z)),Ae.bind(),Te(Ae,ne,Sb,0,1,!1),Ae}function we(z){ve.push(z)}function Ce(z,ne,Ae){z.byteLength=ne.byteLength,_.bufferData(z.type,ne,Ae)}function Te(z,ne,Ae,$e,me,Ge){var xe;if(z.usage=Ae,Array.isArray(ne)){if(z.dtype=$e||pc,ne.length>0){var Qe;if(Array.isArray(ne[0])){xe=md(ne);for(var ue=1,ae=1;ae<xe.length;++ae)ue*=xe[ae];z.dimension=ue,Qe=hc(ne,xe,z.dtype),Ce(z,Qe,Ae),Ge?z.persistentData=Qe:rn.freeType(Qe)}else if(typeof ne[0]=="number"){z.dimension=me;var ze=rn.allocType(z.dtype,ne.length);gd(ze,ne),Ce(z,ze,Ae),Ge?z.persistentData=ze:rn.freeType(ze)}else n(ne[0])?(z.dimension=ne[0].length,z.dtype=$e||sa(ne[0])||pc,Qe=hc(ne,[ne.length,ne[0].length],z.dtype),Ce(z,Qe,Ae),Ge?z.persistentData=Qe:rn.freeType(Qe)):P.raise("invalid buffer data")}}else if(n(ne))z.dtype=$e||sa(ne),z.dimension=me,Ce(z,ne,Ae),Ge&&(z.persistentData=new Uint8Array(new Uint8Array(ne.buffer)));else if(br(ne)){xe=ne.shape;var Oe=ne.stride,ye=ne.offset,Re=0,Me=0,at=0,it=0;xe.length===1?(Re=xe[0],Me=1,at=Oe[0],it=0):xe.length===2?(Re=xe[0],Me=xe[1],at=Oe[0],it=Oe[1]):P.raise("invalid shape"),z.dtype=$e||sa(ne.data)||pc,z.dimension=Me;var De=rn.allocType(z.dtype,Re*Me);vd(De,ne.data,Re,Me,at,it,ye),Ce(z,De,Ae),Ge?z.persistentData=De:rn.freeType(De)}else ne instanceof ArrayBuffer?(z.dtype=mc,z.dimension=me,Ce(z,ne,Ae),Ge&&(z.persistentData=new Uint8Array(new Uint8Array(ne)))):P.raise("invalid buffer data")}function Le(z){C.bufferCount--,Q(z);var ne=z.buffer;P(ne,"buffer must not be deleted already"),_.deleteBuffer(ne),z.buffer=null,delete K[z.id]}function be(z,ne,Ae,$e){C.bufferCount++;var me=new re(ne);K[me.id]=me;function Ge(ue){var ae=pd,ze=null,Oe=0,ye=0,Re=1;return Array.isArray(ue)||n(ue)||br(ue)||ue instanceof ArrayBuffer?ze=ue:typeof ue=="number"?Oe=ue|0:ue&&(P.type(ue,"object","buffer arguments must be an object, a number or an array"),"data"in ue&&(P(ze===null||Array.isArray(ze)||n(ze)||br(ze),"invalid data for buffer"),ze=ue.data),"usage"in ue&&(P.parameter(ue.usage,ra,"invalid buffer usage"),ae=ra[ue.usage]),"type"in ue&&(P.parameter(ue.type,As,"invalid buffer type"),ye=As[ue.type]),"dimension"in ue&&(P.type(ue.dimension,"number","invalid dimension"),Re=ue.dimension|0),"length"in ue&&(P.nni(Oe,"buffer length must be a nonnegative integer"),Oe=ue.length|0)),me.bind(),ze?Te(me,ze,ae,ye,Re,$e):(Oe&&_.bufferData(me.type,Oe,ae),me.dtype=ye||mc,me.usage=ae,me.dimension=Re,me.byteLength=Oe),D.profile&&(me.stats.size=me.byteLength*Qr[me.dtype]),Ge}function xe(ue,ae){P(ae+ue.byteLength<=me.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ue.byteLength+" starting from offset "+ae+" to a buffer of size "+me.byteLength),_.bufferSubData(me.type,ae,ue)}function Qe(ue,ae){var ze=(ae||0)|0,Oe;if(me.bind(),n(ue)||ue instanceof ArrayBuffer)xe(ue,ze);else if(Array.isArray(ue)){if(ue.length>0)if(typeof ue[0]=="number"){var ye=rn.allocType(me.dtype,ue.length);gd(ye,ue),xe(ye,ze),rn.freeType(ye)}else if(Array.isArray(ue[0])||n(ue[0])){Oe=md(ue);var Re=hc(ue,Oe,me.dtype);xe(Re,ze),rn.freeType(Re)}else P.raise("invalid buffer data")}else if(br(ue)){Oe=ue.shape;var Me=ue.stride,at=0,it=0,De=0,Be=0;Oe.length===1?(at=Oe[0],it=1,De=Me[0],Be=0):Oe.length===2?(at=Oe[0],it=Oe[1],De=Me[0],Be=Me[1]):P.raise("invalid shape");var et=Array.isArray(ue.data)?me.dtype:sa(ue.data),lt=rn.allocType(et,at*it);vd(lt,ue.data,at,it,De,Be,ue.offset),xe(lt,ze),rn.freeType(lt)}else P.raise("invalid data for buffer subdata");return Ge}return Ae||Ge(z),Ge._reglType="buffer",Ge._buffer=me,Ge.subdata=Qe,D.profile&&(Ge.stats=me.stats),Ge.destroy=function(){Le(me)},Ge}function Se(){ir(K).forEach(function(z){z.buffer=_.createBuffer(),_.bindBuffer(z.type,z.buffer),_.bufferData(z.type,z.persistentData||z.byteLength,z.usage)})}return D.profile&&(C.getTotalBufferSize=function(){var z=0;return Object.keys(K).forEach(function(ne){z+=K[ne].stats.size}),z}),{create:be,createStream:ge,destroyStream:we,clear:function(){ir(K).forEach(Le),ve.forEach(Le)},getBuffer:function(z){return z&&z._buffer instanceof re?z._buffer:null},restore:Se,_initBuffer:Te}}var wb=0,Tb=0,Cb=1,Pb=1,Lb=4,Ob=4,Jr={points:wb,point:Tb,lines:Cb,line:Pb,triangles:Lb,triangle:Ob,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Rb=0,Mb=1,Zi=4,Ib=5120,ni=5121,bd=5122,ri=5123,_d=5124,Ss=5125,gc=34963,xb=35040,Db=35044;function Fb(_,C,D,Q){var le={},K=0,re={uint8:ni,uint16:ri};C.oes_element_index_uint&&(re.uint32=Ss);function ve(Se){this.id=K++,le[this.id]=this,this.buffer=Se,this.primType=Zi,this.vertCount=0,this.type=0}ve.prototype.bind=function(){this.buffer.bind()};var ge=[];function we(Se){var z=ge.pop();return z||(z=new ve(D.create(null,gc,!0,!1)._buffer)),Te(z,Se,xb,-1,-1,0,0),z}function Ce(Se){ge.push(Se)}function Te(Se,z,ne,Ae,$e,me,Ge){Se.buffer.bind();var xe;if(z){var Qe=Ge;!Ge&&(!n(z)||br(z)&&!n(z.data))&&(Qe=C.oes_element_index_uint?Ss:ri),D._initBuffer(Se.buffer,z,ne,Qe,3)}else _.bufferData(gc,me,ne),Se.buffer.dtype=xe||ni,Se.buffer.usage=ne,Se.buffer.dimension=3,Se.buffer.byteLength=me;if(xe=Ge,!Ge){switch(Se.buffer.dtype){case ni:case Ib:xe=ni;break;case ri:case bd:xe=ri;break;case Ss:case _d:xe=Ss;break;default:P.raise("unsupported type for element array")}Se.buffer.dtype=xe}Se.type=xe,P(xe!==Ss||!!C.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ue=$e;ue<0&&(ue=Se.buffer.byteLength,xe===ri?ue>>=1:xe===Ss&&(ue>>=2)),Se.vertCount=ue;var ae=Ae;if(Ae<0){ae=Zi;var ze=Se.buffer.dimension;ze===1&&(ae=Rb),ze===2&&(ae=Mb),ze===3&&(ae=Zi)}Se.primType=ae}function Le(Se){Q.elementsCount--,P(Se.buffer!==null,"must not double destroy elements"),delete le[Se.id],Se.buffer.destroy(),Se.buffer=null}function be(Se,z){var ne=D.create(null,gc,!0),Ae=new ve(ne._buffer);Q.elementsCount++;function $e(me){if(!me)ne(),Ae.primType=Zi,Ae.vertCount=0,Ae.type=ni;else if(typeof me=="number")ne(me),Ae.primType=Zi,Ae.vertCount=me|0,Ae.type=ni;else{var Ge=null,xe=Db,Qe=-1,ue=-1,ae=0,ze=0;Array.isArray(me)||n(me)||br(me)?Ge=me:(P.type(me,"object","invalid arguments for elements"),"data"in me&&(Ge=me.data,P(Array.isArray(Ge)||n(Ge)||br(Ge),"invalid data for element buffer")),"usage"in me&&(P.parameter(me.usage,ra,"invalid element buffer usage"),xe=ra[me.usage]),"primitive"in me&&(P.parameter(me.primitive,Jr,"invalid element buffer primitive"),Qe=Jr[me.primitive]),"count"in me&&(P(typeof me.count=="number"&&me.count>=0,"invalid vertex count for elements"),ue=me.count|0),"type"in me&&(P.parameter(me.type,re,"invalid buffer type"),ze=re[me.type]),"length"in me?ae=me.length|0:(ae=ue,ze===ri||ze===bd?ae*=2:(ze===Ss||ze===_d)&&(ae*=4))),Te(Ae,Ge,xe,Qe,ue,ae,ze)}return $e}return $e(Se),$e._reglType="elements",$e._elements=Ae,$e.subdata=function(me,Ge){return ne.subdata(me,Ge),$e},$e.destroy=function(){Le(Ae)},$e}return{create:be,createStream:we,destroyStream:Ce,getElements:function(Se){return typeof Se=="function"&&Se._elements instanceof ve?Se._elements:null},clear:function(){ir(le).forEach(Le)}}}var yd=new Float32Array(1),kb=new Uint32Array(yd.buffer),Gb=5123;function Ad(_){for(var C=rn.allocType(Gb,_.length),D=0;D<_.length;++D)if(isNaN(_[D]))C[D]=65535;else if(_[D]===1/0)C[D]=31744;else if(_[D]===-1/0)C[D]=64512;else{yd[0]=_[D];var Q=kb[0],le=Q>>>31<<15,K=(Q<<1>>>24)-127,re=Q>>13&1024-1;if(K<-24)C[D]=le;else if(K<-14){var ve=-14-K;C[D]=le+(re+1024>>ve)}else K>15?C[D]=le+31744:C[D]=le+(K+15<<10)+re}return C}function Zt(_){return Array.isArray(_)||n(_)}var Sd=function(_){return!(_&_-1)&&!!_},Bb=34467,wr=3553,vc=34067,ia=34069,Es=6408,bc=6406,oa=6407,Ki=6409,aa=6410,Ed=32854,_c=32855,wd=36194,Nb=32819,$b=32820,Vb=33635,Ub=34042,yc=6402,la=34041,Ac=35904,Sc=35906,si=36193,Ec=33776,wc=33777,Tc=33778,Cc=33779,Td=35986,Cd=35987,Pd=34798,Ld=35840,Od=35841,Rd=35842,Md=35843,Id=36196,ii=5121,Pc=5123,Lc=5125,Qi=5126,zb=10242,Hb=10243,jb=10497,Oc=33071,qb=33648,Xb=10240,Wb=10241,Rc=9728,Yb=9729,Mc=9984,xd=9985,Dd=9986,Ic=9987,Zb=33170,ca=4352,Kb=4353,Qb=4354,Jb=34046,e_=3317,t_=37440,n_=37441,r_=37443,Fd=37444,Ji=33984,s_=[Mc,Dd,xd,Ic],fa=[0,Ki,aa,oa,Es],ur={};ur[Ki]=ur[bc]=ur[yc]=1,ur[la]=ur[aa]=2,ur[oa]=ur[Ac]=3,ur[Es]=ur[Sc]=4;function oi(_){return"[object "+_+"]"}var kd=oi("HTMLCanvasElement"),Gd=oi("OffscreenCanvas"),Bd=oi("CanvasRenderingContext2D"),Nd=oi("ImageBitmap"),$d=oi("HTMLImageElement"),Vd=oi("HTMLVideoElement"),i_=Object.keys(dc).concat([kd,Gd,Bd,Nd,$d,Vd]),ai=[];ai[ii]=1,ai[Qi]=4,ai[si]=2,ai[Pc]=2,ai[Lc]=4;var Fn=[];Fn[Ed]=2,Fn[_c]=2,Fn[wd]=2,Fn[la]=4,Fn[Ec]=.5,Fn[wc]=.5,Fn[Tc]=1,Fn[Cc]=1,Fn[Td]=.5,Fn[Cd]=1,Fn[Pd]=1,Fn[Ld]=.5,Fn[Od]=.25,Fn[Rd]=.5,Fn[Md]=.25,Fn[Id]=.5;function Ud(_){return Array.isArray(_)&&(_.length===0||typeof _[0]=="number")}function zd(_){if(!Array.isArray(_))return!1;var C=_.length;return!(C===0||!Zt(_[0]))}function ws(_){return Object.prototype.toString.call(_)}function Hd(_){return ws(_)===kd}function jd(_){return ws(_)===Gd}function o_(_){return ws(_)===Bd}function a_(_){return ws(_)===Nd}function l_(_){return ws(_)===$d}function c_(_){return ws(_)===Vd}function xc(_){if(!_)return!1;var C=ws(_);return i_.indexOf(C)>=0?!0:Ud(_)||zd(_)||br(_)}function qd(_){return dc[Object.prototype.toString.call(_)]|0}function f_(_,C){var D=C.length;switch(_.type){case ii:case Pc:case Lc:case Qi:var Q=rn.allocType(_.type,D);Q.set(C),_.data=Q;break;case si:_.data=Ad(C);break;default:P.raise("unsupported texture type, must specify a typed array")}}function Xd(_,C){return rn.allocType(_.type===si?Qi:_.type,C)}function Wd(_,C){_.type===si?(_.data=Ad(C),rn.freeType(C)):_.data=C}function u_(_,C,D,Q,le,K){for(var re=_.width,ve=_.height,ge=_.channels,we=re*ve*ge,Ce=Xd(_,we),Te=0,Le=0;Le<ve;++Le)for(var be=0;be<re;++be)for(var Se=0;Se<ge;++Se)Ce[Te++]=C[D*be+Q*Le+le*Se+K];Wd(_,Ce)}function ua(_,C,D,Q,le,K){var re;if(typeof Fn[_]<"u"?re=Fn[_]:re=ur[_]*ai[C],K&&(re*=6),le){for(var ve=0,ge=D;ge>=1;)ve+=re*ge*ge,ge/=2;return ve}else return re*D*Q}function d_(_,C,D,Q,le,K,re){var ve={"don't care":ca,"dont care":ca,nice:Qb,fast:Kb},ge={repeat:jb,clamp:Oc,mirror:qb},we={nearest:Rc,linear:Yb},Ce=r({mipmap:Ic,"nearest mipmap nearest":Mc,"linear mipmap nearest":xd,"nearest mipmap linear":Dd,"linear mipmap linear":Ic},we),Te={none:0,browser:Fd},Le={uint8:ii,rgba4:Nb,rgb565:Vb,"rgb5 a1":$b},be={alpha:bc,luminance:Ki,"luminance alpha":aa,rgb:oa,rgba:Es,rgba4:Ed,"rgb5 a1":_c,rgb565:wd},Se={};C.ext_srgb&&(be.srgb=Ac,be.srgba=Sc),C.oes_texture_float&&(Le.float32=Le.float=Qi),C.oes_texture_half_float&&(Le.float16=Le["half float"]=si),C.webgl_depth_texture&&(r(be,{depth:yc,"depth stencil":la}),r(Le,{uint16:Pc,uint32:Lc,"depth stencil":Ub})),C.webgl_compressed_texture_s3tc&&r(Se,{"rgb s3tc dxt1":Ec,"rgba s3tc dxt1":wc,"rgba s3tc dxt3":Tc,"rgba s3tc dxt5":Cc}),C.webgl_compressed_texture_atc&&r(Se,{"rgb atc":Td,"rgba atc explicit alpha":Cd,"rgba atc interpolated alpha":Pd}),C.webgl_compressed_texture_pvrtc&&r(Se,{"rgb pvrtc 4bppv1":Ld,"rgb pvrtc 2bppv1":Od,"rgba pvrtc 4bppv1":Rd,"rgba pvrtc 2bppv1":Md}),C.webgl_compressed_texture_etc1&&(Se["rgb etc1"]=Id);var z=Array.prototype.slice.call(_.getParameter(Bb));Object.keys(Se).forEach(function(I){var ee=Se[I];z.indexOf(ee)>=0&&(be[I]=ee)});var ne=Object.keys(be);D.textureFormats=ne;var Ae=[];Object.keys(be).forEach(function(I){var ee=be[I];Ae[ee]=I});var $e=[];Object.keys(Le).forEach(function(I){var ee=Le[I];$e[ee]=I});var me=[];Object.keys(we).forEach(function(I){var ee=we[I];me[ee]=I});var Ge=[];Object.keys(Ce).forEach(function(I){var ee=Ce[I];Ge[ee]=I});var xe=[];Object.keys(ge).forEach(function(I){var ee=ge[I];xe[ee]=I});var Qe=ne.reduce(function(I,ee){var Z=be[ee];return Z===Ki||Z===bc||Z===Ki||Z===aa||Z===yc||Z===la||C.ext_srgb&&(Z===Ac||Z===Sc)?I[Z]=Z:Z===_c||ee.indexOf("rgba")>=0?I[Z]=Es:I[Z]=oa,I},{});function ue(){this.internalformat=Es,this.format=Es,this.type=ii,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Fd,this.width=0,this.height=0,this.channels=0}function ae(I,ee){I.internalformat=ee.internalformat,I.format=ee.format,I.type=ee.type,I.compressed=ee.compressed,I.premultiplyAlpha=ee.premultiplyAlpha,I.flipY=ee.flipY,I.unpackAlignment=ee.unpackAlignment,I.colorSpace=ee.colorSpace,I.width=ee.width,I.height=ee.height,I.channels=ee.channels}function ze(I,ee){if(!(typeof ee!="object"||!ee)){if("premultiplyAlpha"in ee&&(P.type(ee.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),I.premultiplyAlpha=ee.premultiplyAlpha),"flipY"in ee&&(P.type(ee.flipY,"boolean","invalid texture flip"),I.flipY=ee.flipY),"alignment"in ee&&(P.oneOf(ee.alignment,[1,2,4,8],"invalid texture unpack alignment"),I.unpackAlignment=ee.alignment),"colorSpace"in ee&&(P.parameter(ee.colorSpace,Te,"invalid colorSpace"),I.colorSpace=Te[ee.colorSpace]),"type"in ee){var Z=ee.type;P(C.oes_texture_float||!(Z==="float"||Z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),P(C.oes_texture_half_float||!(Z==="half float"||Z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),P(C.webgl_depth_texture||!(Z==="uint16"||Z==="uint32"||Z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(Z,Le,"invalid texture type"),I.type=Le[Z]}var Ue=I.width,gt=I.height,L=I.channels,T=!1;"shape"in ee?(P(Array.isArray(ee.shape)&&ee.shape.length>=2,"shape must be an array"),Ue=ee.shape[0],gt=ee.shape[1],ee.shape.length===3&&(L=ee.shape[2],P(L>0&&L<=4,"invalid number of channels"),T=!0),P(Ue>=0&&Ue<=D.maxTextureSize,"invalid width"),P(gt>=0&&gt<=D.maxTextureSize,"invalid height")):("radius"in ee&&(Ue=gt=ee.radius,P(Ue>=0&&Ue<=D.maxTextureSize,"invalid radius")),"width"in ee&&(Ue=ee.width,P(Ue>=0&&Ue<=D.maxTextureSize,"invalid width")),"height"in ee&&(gt=ee.height,P(gt>=0&&gt<=D.maxTextureSize,"invalid height")),"channels"in ee&&(L=ee.channels,P(L>0&&L<=4,"invalid number of channels"),T=!0)),I.width=Ue|0,I.height=gt|0,I.channels=L|0;var F=!1;if("format"in ee){var V=ee.format;P(C.webgl_depth_texture||!(V==="depth"||V==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(V,be,"invalid texture format");var j=I.internalformat=be[V];I.format=Qe[j],V in Le&&("type"in ee||(I.type=Le[V])),V in Se&&(I.compressed=!0),F=!0}!T&&F?I.channels=ur[I.format]:T&&!F?I.channels!==fa[I.format]&&(I.format=I.internalformat=fa[I.channels]):F&&T&&P(I.channels===ur[I.format],"number of channels inconsistent with specified format")}}function Oe(I){_.pixelStorei(t_,I.flipY),_.pixelStorei(n_,I.premultiplyAlpha),_.pixelStorei(r_,I.colorSpace),_.pixelStorei(e_,I.unpackAlignment)}function ye(){ue.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Re(I,ee){var Z=null;if(xc(ee)?Z=ee:ee&&(P.type(ee,"object","invalid pixel data type"),ze(I,ee),"x"in ee&&(I.xOffset=ee.x|0),"y"in ee&&(I.yOffset=ee.y|0),xc(ee.data)&&(Z=ee.data)),P(!I.compressed||Z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),ee.copy){P(!Z,"can not specify copy and data field for the same texture");var Ue=le.viewportWidth,gt=le.viewportHeight;I.width=I.width||Ue-I.xOffset,I.height=I.height||gt-I.yOffset,I.needsCopy=!0,P(I.xOffset>=0&&I.xOffset<Ue&&I.yOffset>=0&&I.yOffset<gt&&I.width>0&&I.width<=Ue&&I.height>0&&I.height<=gt,"copy texture read out of bounds")}else if(!Z)I.width=I.width||1,I.height=I.height||1,I.channels=I.channels||4;else if(n(Z))I.channels=I.channels||4,I.data=Z,!("type"in ee)&&I.type===ii&&(I.type=qd(Z));else if(Ud(Z))I.channels=I.channels||4,f_(I,Z),I.alignment=1,I.needsFree=!0;else if(br(Z)){var L=Z.data;!Array.isArray(L)&&I.type===ii&&(I.type=qd(L));var T=Z.shape,F=Z.stride,V,j,B,k,$,O;T.length===3?(B=T[2],O=F[2]):(P(T.length===2,"invalid ndarray pixel data, must be 2 or 3D"),B=1,O=1),V=T[0],j=T[1],k=F[0],$=F[1],I.alignment=1,I.width=V,I.height=j,I.channels=B,I.format=I.internalformat=fa[B],I.needsFree=!0,u_(I,L,k,$,O,Z.offset)}else if(Hd(Z)||jd(Z)||o_(Z))Hd(Z)||jd(Z)?I.element=Z:I.element=Z.canvas,I.width=I.element.width,I.height=I.element.height,I.channels=4;else if(a_(Z))I.element=Z,I.width=Z.width,I.height=Z.height,I.channels=4;else if(l_(Z))I.element=Z,I.width=Z.naturalWidth,I.height=Z.naturalHeight,I.channels=4;else if(c_(Z))I.element=Z,I.width=Z.videoWidth,I.height=Z.videoHeight,I.channels=4;else if(zd(Z)){var x=I.width||Z[0].length,M=I.height||Z.length,Y=I.channels;Zt(Z[0][0])?Y=Y||Z[0][0].length:Y=Y||1;for(var q=na.shape(Z),ie=1,de=0;de<q.length;++de)ie*=q[de];var Pe=Xd(I,ie);na.flatten(Z,q,"",Pe),Wd(I,Pe),I.alignment=1,I.width=x,I.height=M,I.channels=Y,I.format=I.internalformat=fa[Y],I.needsFree=!0}I.type===Qi?P(D.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):I.type===si&&P(D.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Me(I,ee,Z){var Ue=I.element,gt=I.data,L=I.internalformat,T=I.format,F=I.type,V=I.width,j=I.height;Oe(I),Ue?_.texImage2D(ee,Z,T,T,F,Ue):I.compressed?_.compressedTexImage2D(ee,Z,L,V,j,0,gt):I.needsCopy?(Q(),_.copyTexImage2D(ee,Z,T,I.xOffset,I.yOffset,V,j,0)):_.texImage2D(ee,Z,T,V,j,0,T,F,gt||null)}function at(I,ee,Z,Ue,gt){var L=I.element,T=I.data,F=I.internalformat,V=I.format,j=I.type,B=I.width,k=I.height;Oe(I),L?_.texSubImage2D(ee,gt,Z,Ue,V,j,L):I.compressed?_.compressedTexSubImage2D(ee,gt,Z,Ue,F,B,k,T):I.needsCopy?(Q(),_.copyTexSubImage2D(ee,gt,Z,Ue,I.xOffset,I.yOffset,B,k)):_.texSubImage2D(ee,gt,Z,Ue,B,k,V,j,T)}var it=[];function De(){return it.pop()||new ye}function Be(I){I.needsFree&&rn.freeType(I.data),ye.call(I),it.push(I)}function et(){ue.call(this),this.genMipmaps=!1,this.mipmapHint=ca,this.mipmask=0,this.images=Array(16)}function lt(I,ee,Z){var Ue=I.images[0]=De();I.mipmask=1,Ue.width=I.width=ee,Ue.height=I.height=Z,Ue.channels=I.channels=4}function bt(I,ee){var Z=null;if(xc(ee))Z=I.images[0]=De(),ae(Z,I),Re(Z,ee),I.mipmask=1;else if(ze(I,ee),Array.isArray(ee.mipmap))for(var Ue=ee.mipmap,gt=0;gt<Ue.length;++gt)Z=I.images[gt]=De(),ae(Z,I),Z.width>>=gt,Z.height>>=gt,Re(Z,Ue[gt]),I.mipmask|=1<<gt;else Z=I.images[0]=De(),ae(Z,I),Re(Z,ee),I.mipmask=1;ae(I,I.images[0]),I.compressed&&(I.internalformat===Ec||I.internalformat===wc||I.internalformat===Tc||I.internalformat===Cc)&&P(I.width%4===0&&I.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Kt(I,ee){for(var Z=I.images,Ue=0;Ue<Z.length;++Ue){if(!Z[Ue])return;Me(Z[Ue],ee,Ue)}}var Jt=[];function At(){var I=Jt.pop()||new et;ue.call(I),I.mipmask=0;for(var ee=0;ee<16;++ee)I.images[ee]=null;return I}function gn(I){for(var ee=I.images,Z=0;Z<ee.length;++Z)ee[Z]&&Be(ee[Z]),ee[Z]=null;Jt.push(I)}function jt(){this.minFilter=Rc,this.magFilter=Rc,this.wrapS=Oc,this.wrapT=Oc,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=ca}function pn(I,ee){if("min"in ee){var Z=ee.min;P.parameter(Z,Ce),I.minFilter=Ce[Z],s_.indexOf(I.minFilter)>=0&&!("faces"in ee)&&(I.genMipmaps=!0)}if("mag"in ee){var Ue=ee.mag;P.parameter(Ue,we),I.magFilter=we[Ue]}var gt=I.wrapS,L=I.wrapT;if("wrap"in ee){var T=ee.wrap;typeof T=="string"?(P.parameter(T,ge),gt=L=ge[T]):Array.isArray(T)&&(P.parameter(T[0],ge),P.parameter(T[1],ge),gt=ge[T[0]],L=ge[T[1]])}else{if("wrapS"in ee){var F=ee.wrapS;P.parameter(F,ge),gt=ge[F]}if("wrapT"in ee){var V=ee.wrapT;P.parameter(V,ge),L=ge[V]}}if(I.wrapS=gt,I.wrapT=L,"anisotropic"in ee){var j=ee.anisotropic;P(typeof j=="number"&&j>=1&&j<=D.maxAnisotropic,"aniso samples must be between 1 and "),I.anisotropic=ee.anisotropic}if("mipmap"in ee){var B=!1;switch(typeof ee.mipmap){case"string":P.parameter(ee.mipmap,ve,"invalid mipmap hint"),I.mipmapHint=ve[ee.mipmap],I.genMipmaps=!0,B=!0;break;case"boolean":B=I.genMipmaps=ee.mipmap;break;case"object":P(Array.isArray(ee.mipmap),"invalid mipmap type"),I.genMipmaps=!1,B=!0;break;default:P.raise("invalid mipmap type")}B&&!("min"in ee)&&(I.minFilter=Mc)}}function vn(I,ee){_.texParameteri(ee,Wb,I.minFilter),_.texParameteri(ee,Xb,I.magFilter),_.texParameteri(ee,zb,I.wrapS),_.texParameteri(ee,Hb,I.wrapT),C.ext_texture_filter_anisotropic&&_.texParameteri(ee,Jb,I.anisotropic),I.genMipmaps&&(_.hint(Zb,I.mipmapHint),_.generateMipmap(ee))}var bn=0,Rn={},kn=D.maxTextureUnits,sn=Array(kn).map(function(){return null});function ct(I){ue.call(this),this.mipmask=0,this.internalformat=Es,this.id=bn++,this.refCount=1,this.target=I,this.texture=_.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new jt,re.profile&&(this.stats={size:0})}function Gn(I){_.activeTexture(Ji),_.bindTexture(I.target,I.texture)}function It(){var I=sn[0];I?_.bindTexture(I.target,I.texture):_.bindTexture(wr,null)}function Je(I){var ee=I.texture;P(ee,"must not double destroy texture");var Z=I.unit,Ue=I.target;Z>=0&&(_.activeTexture(Ji+Z),_.bindTexture(Ue,null),sn[Z]=null),_.deleteTexture(ee),I.texture=null,I.params=null,I.pixels=null,I.refCount=0,delete Rn[I.id],K.textureCount--}r(ct.prototype,{bind:function(){var I=this;I.bindCount+=1;var ee=I.unit;if(ee<0){for(var Z=0;Z<kn;++Z){var Ue=sn[Z];if(Ue){if(Ue.bindCount>0)continue;Ue.unit=-1}sn[Z]=I,ee=Z;break}ee>=kn&&P.raise("insufficient number of texture units"),re.profile&&K.maxTextureUnits<ee+1&&(K.maxTextureUnits=ee+1),I.unit=ee,_.activeTexture(Ji+ee),_.bindTexture(I.target,I.texture)}return ee},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Je(this)}});function _t(I,ee){var Z=new ct(wr);Rn[Z.id]=Z,K.textureCount++;function Ue(T,F){var V=Z.texInfo;jt.call(V);var j=At();return typeof T=="number"?typeof F=="number"?lt(j,T|0,F|0):lt(j,T|0,T|0):T?(P.type(T,"object","invalid arguments to regl.texture"),pn(V,T),bt(j,T)):lt(j,1,1),V.genMipmaps&&(j.mipmask=(j.width<<1)-1),Z.mipmask=j.mipmask,ae(Z,j),P.texture2D(V,j,D),Z.internalformat=j.internalformat,Ue.width=j.width,Ue.height=j.height,Gn(Z),Kt(j,wr),vn(V,wr),It(),gn(j),re.profile&&(Z.stats.size=ua(Z.internalformat,Z.type,j.width,j.height,V.genMipmaps,!1)),Ue.format=Ae[Z.internalformat],Ue.type=$e[Z.type],Ue.mag=me[V.magFilter],Ue.min=Ge[V.minFilter],Ue.wrapS=xe[V.wrapS],Ue.wrapT=xe[V.wrapT],Ue}function gt(T,F,V,j){P(!!T,"must specify image data");var B=F|0,k=V|0,$=j|0,O=De();return ae(O,Z),O.width=0,O.height=0,Re(O,T),O.width=O.width||(Z.width>>$)-B,O.height=O.height||(Z.height>>$)-k,P(Z.type===O.type&&Z.format===O.format&&Z.internalformat===O.internalformat,"incompatible format for texture.subimage"),P(B>=0&&k>=0&&B+O.width<=Z.width&&k+O.height<=Z.height,"texture.subimage write out of bounds"),P(Z.mipmask&1<<$,"missing mipmap data"),P(O.data||O.element||O.needsCopy,"missing image data"),Gn(Z),at(O,wr,B,k,$),It(),Be(O),Ue}function L(T,F){var V=T|0,j=F|0||V;if(V===Z.width&&j===Z.height)return Ue;Ue.width=Z.width=V,Ue.height=Z.height=j,Gn(Z);for(var B=0;Z.mipmask>>B;++B){var k=V>>B,$=j>>B;if(!k||!$)break;_.texImage2D(wr,B,Z.format,k,$,0,Z.format,Z.type,null)}return It(),re.profile&&(Z.stats.size=ua(Z.internalformat,Z.type,V,j,!1,!1)),Ue}return Ue(I,ee),Ue.subimage=gt,Ue.resize=L,Ue._reglType="texture2d",Ue._texture=Z,re.profile&&(Ue.stats=Z.stats),Ue.destroy=function(){Z.decRef()},Ue}function wt(I,ee,Z,Ue,gt,L){var T=new ct(vc);Rn[T.id]=T,K.cubeCount++;var F=new Array(6);function V(k,$,O,x,M,Y){var q,ie=T.texInfo;for(jt.call(ie),q=0;q<6;++q)F[q]=At();if(typeof k=="number"||!k){var de=k|0||1;for(q=0;q<6;++q)lt(F[q],de,de)}else if(typeof k=="object")if($)bt(F[0],k),bt(F[1],$),bt(F[2],O),bt(F[3],x),bt(F[4],M),bt(F[5],Y);else if(pn(ie,k),ze(T,k),"faces"in k){var Pe=k.faces;for(P(Array.isArray(Pe)&&Pe.length===6,"cube faces must be a length 6 array"),q=0;q<6;++q)P(typeof Pe[q]=="object"&&!!Pe[q],"invalid input for cube map face"),ae(F[q],T),bt(F[q],Pe[q])}else for(q=0;q<6;++q)bt(F[q],k);else P.raise("invalid arguments to cube map");for(ae(T,F[0]),P.optional(function(){D.npotTextureCube||P(Sd(T.width)&&Sd(T.height),"your browser does not support non power or two texture dimensions")}),ie.genMipmaps?T.mipmask=(F[0].width<<1)-1:T.mipmask=F[0].mipmask,P.textureCube(T,ie,F,D),T.internalformat=F[0].internalformat,V.width=F[0].width,V.height=F[0].height,Gn(T),q=0;q<6;++q)Kt(F[q],ia+q);for(vn(ie,vc),It(),re.profile&&(T.stats.size=ua(T.internalformat,T.type,V.width,V.height,ie.genMipmaps,!0)),V.format=Ae[T.internalformat],V.type=$e[T.type],V.mag=me[ie.magFilter],V.min=Ge[ie.minFilter],V.wrapS=xe[ie.wrapS],V.wrapT=xe[ie.wrapT],q=0;q<6;++q)gn(F[q]);return V}function j(k,$,O,x,M){P(!!$,"must specify image data"),P(typeof k=="number"&&k===(k|0)&&k>=0&&k<6,"invalid face");var Y=O|0,q=x|0,ie=M|0,de=De();return ae(de,T),de.width=0,de.height=0,Re(de,$),de.width=de.width||(T.width>>ie)-Y,de.height=de.height||(T.height>>ie)-q,P(T.type===de.type&&T.format===de.format&&T.internalformat===de.internalformat,"incompatible format for texture.subimage"),P(Y>=0&&q>=0&&Y+de.width<=T.width&&q+de.height<=T.height,"texture.subimage write out of bounds"),P(T.mipmask&1<<ie,"missing mipmap data"),P(de.data||de.element||de.needsCopy,"missing image data"),Gn(T),at(de,ia+k,Y,q,ie),It(),Be(de),V}function B(k){var $=k|0;if($!==T.width){V.width=T.width=$,V.height=T.height=$,Gn(T);for(var O=0;O<6;++O)for(var x=0;T.mipmask>>x;++x)_.texImage2D(ia+O,x,T.format,$>>x,$>>x,0,T.format,T.type,null);return It(),re.profile&&(T.stats.size=ua(T.internalformat,T.type,V.width,V.height,!1,!0)),V}}return V(I,ee,Z,Ue,gt,L),V.subimage=j,V.resize=B,V._reglType="textureCube",V._texture=T,re.profile&&(V.stats=T.stats),V.destroy=function(){T.decRef()},V}function on(){for(var I=0;I<kn;++I)_.activeTexture(Ji+I),_.bindTexture(wr,null),sn[I]=null;ir(Rn).forEach(Je),K.cubeCount=0,K.textureCount=0}re.profile&&(K.getTotalTextureSize=function(){var I=0;return Object.keys(Rn).forEach(function(ee){I+=Rn[ee].stats.size}),I});function Cr(){for(var I=0;I<kn;++I){var ee=sn[I];ee&&(ee.bindCount=0,ee.unit=-1,sn[I]=null)}ir(Rn).forEach(function(Z){Z.texture=_.createTexture(),_.bindTexture(Z.target,Z.texture);for(var Ue=0;Ue<32;++Ue)if(Z.mipmask&1<<Ue)if(Z.target===wr)_.texImage2D(wr,Ue,Z.internalformat,Z.width>>Ue,Z.height>>Ue,0,Z.internalformat,Z.type,null);else for(var gt=0;gt<6;++gt)_.texImage2D(ia+gt,Ue,Z.internalformat,Z.width>>Ue,Z.height>>Ue,0,Z.internalformat,Z.type,null);vn(Z.texInfo,Z.target)})}function Ms(){for(var I=0;I<kn;++I){var ee=sn[I];ee&&(ee.bindCount=0,ee.unit=-1,sn[I]=null),_.activeTexture(Ji+I),_.bindTexture(wr,null),_.bindTexture(vc,null)}}return{create2D:_t,createCube:wt,clear:on,getTexture:function(I){return null},restore:Cr,refresh:Ms}}var es=36161,da=32854,Yd=32855,Zd=36194,Kd=33189,Qd=36168,Jd=34041,e1=35907,t1=34836,n1=34842,r1=34843,_r=[];_r[da]=2,_r[Yd]=2,_r[Zd]=2,_r[Kd]=2,_r[Qd]=1,_r[Jd]=4,_r[e1]=4,_r[t1]=16,_r[n1]=8,_r[r1]=6;function s1(_,C,D){return _r[_]*C*D}var h_=function(_,C,D,Q,le){var K={rgba4:da,rgb565:Zd,"rgb5 a1":Yd,depth:Kd,stencil:Qd,"depth stencil":Jd};C.ext_srgb&&(K.srgba=e1),C.ext_color_buffer_half_float&&(K.rgba16f=n1,K.rgb16f=r1),C.webgl_color_buffer_float&&(K.rgba32f=t1);var re=[];Object.keys(K).forEach(function(be){var Se=K[be];re[Se]=be});var ve=0,ge={};function we(be){this.id=ve++,this.refCount=1,this.renderbuffer=be,this.format=da,this.width=0,this.height=0,le.profile&&(this.stats={size:0})}we.prototype.decRef=function(){--this.refCount<=0&&Ce(this)};function Ce(be){var Se=be.renderbuffer;P(Se,"must not double destroy renderbuffer"),_.bindRenderbuffer(es,null),_.deleteRenderbuffer(Se),be.renderbuffer=null,be.refCount=0,delete ge[be.id],Q.renderbufferCount--}function Te(be,Se){var z=new we(_.createRenderbuffer());ge[z.id]=z,Q.renderbufferCount++;function ne($e,me){var Ge=0,xe=0,Qe=da;if(typeof $e=="object"&&$e){var ue=$e;if("shape"in ue){var ae=ue.shape;P(Array.isArray(ae)&&ae.length>=2,"invalid renderbuffer shape"),Ge=ae[0]|0,xe=ae[1]|0}else"radius"in ue&&(Ge=xe=ue.radius|0),"width"in ue&&(Ge=ue.width|0),"height"in ue&&(xe=ue.height|0);"format"in ue&&(P.parameter(ue.format,K,"invalid renderbuffer format"),Qe=K[ue.format])}else typeof $e=="number"?(Ge=$e|0,typeof me=="number"?xe=me|0:xe=Ge):$e?P.raise("invalid arguments to renderbuffer constructor"):Ge=xe=1;if(P(Ge>0&&xe>0&&Ge<=D.maxRenderbufferSize&&xe<=D.maxRenderbufferSize,"invalid renderbuffer size"),!(Ge===z.width&&xe===z.height&&Qe===z.format))return ne.width=z.width=Ge,ne.height=z.height=xe,z.format=Qe,_.bindRenderbuffer(es,z.renderbuffer),_.renderbufferStorage(es,Qe,Ge,xe),P(_.getError()===0,"invalid render buffer format"),le.profile&&(z.stats.size=s1(z.format,z.width,z.height)),ne.format=re[z.format],ne}function Ae($e,me){var Ge=$e|0,xe=me|0||Ge;return Ge===z.width&&xe===z.height||(P(Ge>0&&xe>0&&Ge<=D.maxRenderbufferSize&&xe<=D.maxRenderbufferSize,"invalid renderbuffer size"),ne.width=z.width=Ge,ne.height=z.height=xe,_.bindRenderbuffer(es,z.renderbuffer),_.renderbufferStorage(es,z.format,Ge,xe),P(_.getError()===0,"invalid render buffer format"),le.profile&&(z.stats.size=s1(z.format,z.width,z.height))),ne}return ne(be,Se),ne.resize=Ae,ne._reglType="renderbuffer",ne._renderbuffer=z,le.profile&&(ne.stats=z.stats),ne.destroy=function(){z.decRef()},ne}le.profile&&(Q.getTotalRenderbufferSize=function(){var be=0;return Object.keys(ge).forEach(function(Se){be+=ge[Se].stats.size}),be});function Le(){ir(ge).forEach(function(be){be.renderbuffer=_.createRenderbuffer(),_.bindRenderbuffer(es,be.renderbuffer),_.renderbufferStorage(es,be.format,be.width,be.height)}),_.bindRenderbuffer(es,null)}return{create:Te,clear:function(){ir(ge).forEach(Ce)},restore:Le}},Gr=36160,Dc=36161,Ts=3553,ha=34069,i1=36064,o1=36096,a1=36128,l1=33306,c1=36053,m_=36054,p_=36055,g_=36057,v_=36061,b_=36193,__=5121,y_=5126,f1=6407,u1=6408,A_=6402,S_=[f1,u1],Fc=[];Fc[u1]=4,Fc[f1]=3;var ma=[];ma[__]=1,ma[y_]=4,ma[b_]=2;var E_=32854,w_=32855,T_=36194,C_=33189,P_=36168,d1=34041,L_=35907,O_=34836,R_=34842,M_=34843,I_=[E_,w_,T_,L_,R_,M_,O_],li={};li[c1]="complete",li[m_]="incomplete attachment",li[g_]="incomplete dimensions",li[p_]="incomplete, missing attachment",li[v_]="unsupported";function x_(_,C,D,Q,le,K){var re={cur:null,next:null,dirty:!1,setFBO:null},ve=["rgba"],ge=["rgba4","rgb565","rgb5 a1"];C.ext_srgb&&ge.push("srgba"),C.ext_color_buffer_half_float&&ge.push("rgba16f","rgb16f"),C.webgl_color_buffer_float&&ge.push("rgba32f");var we=["uint8"];C.oes_texture_half_float&&we.push("half float","float16"),C.oes_texture_float&&we.push("float","float32");function Ce(ye,Re,Me){this.target=ye,this.texture=Re,this.renderbuffer=Me;var at=0,it=0;Re?(at=Re.width,it=Re.height):Me&&(at=Me.width,it=Me.height),this.width=at,this.height=it}function Te(ye){ye&&(ye.texture&&ye.texture._texture.decRef(),ye.renderbuffer&&ye.renderbuffer._renderbuffer.decRef())}function Le(ye,Re,Me){if(ye)if(ye.texture){var at=ye.texture._texture,it=Math.max(1,at.width),De=Math.max(1,at.height);P(it===Re&&De===Me,"inconsistent width/height for supplied texture"),at.refCount+=1}else{var Be=ye.renderbuffer._renderbuffer;P(Be.width===Re&&Be.height===Me,"inconsistent width/height for renderbuffer"),Be.refCount+=1}}function be(ye,Re){Re&&(Re.texture?_.framebufferTexture2D(Gr,ye,Re.target,Re.texture._texture.texture,0):_.framebufferRenderbuffer(Gr,ye,Dc,Re.renderbuffer._renderbuffer.renderbuffer))}function Se(ye){var Re=Ts,Me=null,at=null,it=ye;typeof ye=="object"&&(it=ye.data,"target"in ye&&(Re=ye.target|0)),P.type(it,"function","invalid attachment data");var De=it._reglType;return De==="texture2d"?(Me=it,P(Re===Ts)):De==="textureCube"?(Me=it,P(Re>=ha&&Re<ha+6,"invalid cube map target")):De==="renderbuffer"?(at=it,Re=Dc):P.raise("invalid regl object for attachment"),new Ce(Re,Me,at)}function z(ye,Re,Me,at,it){if(Me){var De=Q.create2D({width:ye,height:Re,format:at,type:it});return De._texture.refCount=0,new Ce(Ts,De,null)}else{var Be=le.create({width:ye,height:Re,format:at});return Be._renderbuffer.refCount=0,new Ce(Dc,null,Be)}}function ne(ye){return ye&&(ye.texture||ye.renderbuffer)}function Ae(ye,Re,Me){ye&&(ye.texture?ye.texture.resize(Re,Me):ye.renderbuffer&&ye.renderbuffer.resize(Re,Me),ye.width=Re,ye.height=Me)}var $e=0,me={};function Ge(){this.id=$e++,me[this.id]=this,this.framebuffer=_.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function xe(ye){ye.colorAttachments.forEach(Te),Te(ye.depthAttachment),Te(ye.stencilAttachment),Te(ye.depthStencilAttachment)}function Qe(ye){var Re=ye.framebuffer;P(Re,"must not double destroy framebuffer"),_.deleteFramebuffer(Re),ye.framebuffer=null,K.framebufferCount--,delete me[ye.id]}function ue(ye){var Re;_.bindFramebuffer(Gr,ye.framebuffer);var Me=ye.colorAttachments;for(Re=0;Re<Me.length;++Re)be(i1+Re,Me[Re]);for(Re=Me.length;Re<D.maxColorAttachments;++Re)_.framebufferTexture2D(Gr,i1+Re,Ts,null,0);_.framebufferTexture2D(Gr,l1,Ts,null,0),_.framebufferTexture2D(Gr,o1,Ts,null,0),_.framebufferTexture2D(Gr,a1,Ts,null,0),be(o1,ye.depthAttachment),be(a1,ye.stencilAttachment),be(l1,ye.depthStencilAttachment);var at=_.checkFramebufferStatus(Gr);!_.isContextLost()&&at!==c1&&P.raise("framebuffer configuration not supported, status = "+li[at]),_.bindFramebuffer(Gr,re.next?re.next.framebuffer:null),re.cur=re.next,_.getError()}function ae(ye,Re){var Me=new Ge;K.framebufferCount++;function at(De,Be){var et;P(re.next!==Me,"can not update framebuffer which is currently in use");var lt=0,bt=0,Kt=!0,Jt=!0,At=null,gn=!0,jt="rgba",pn="uint8",vn=1,bn=null,Rn=null,kn=null,sn=!1;if(typeof De=="number")lt=De|0,bt=Be|0||lt;else if(!De)lt=bt=1;else{P.type(De,"object","invalid arguments for framebuffer");var ct=De;if("shape"in ct){var Gn=ct.shape;P(Array.isArray(Gn)&&Gn.length>=2,"invalid shape for framebuffer"),lt=Gn[0],bt=Gn[1]}else"radius"in ct&&(lt=bt=ct.radius),"width"in ct&&(lt=ct.width),"height"in ct&&(bt=ct.height);("color"in ct||"colors"in ct)&&(At=ct.color||ct.colors,Array.isArray(At)&&P(At.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),At||("colorCount"in ct&&(vn=ct.colorCount|0,P(vn>0,"invalid color buffer count")),"colorTexture"in ct&&(gn=!!ct.colorTexture,jt="rgba4"),"colorType"in ct&&(pn=ct.colorType,gn?(P(C.oes_texture_float||!(pn==="float"||pn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),P(C.oes_texture_half_float||!(pn==="half float"||pn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):pn==="half float"||pn==="float16"?(P(C.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),jt="rgba16f"):(pn==="float"||pn==="float32")&&(P(C.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),jt="rgba32f"),P.oneOf(pn,we,"invalid color type")),"colorFormat"in ct&&(jt=ct.colorFormat,ve.indexOf(jt)>=0?gn=!0:ge.indexOf(jt)>=0?gn=!1:P.optional(function(){gn?P.oneOf(ct.colorFormat,ve,"invalid color format for texture"):P.oneOf(ct.colorFormat,ge,"invalid color format for renderbuffer")}))),("depthTexture"in ct||"depthStencilTexture"in ct)&&(sn=!!(ct.depthTexture||ct.depthStencilTexture),P(!sn||C.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ct&&(typeof ct.depth=="boolean"?Kt=ct.depth:(bn=ct.depth,Jt=!1)),"stencil"in ct&&(typeof ct.stencil=="boolean"?Jt=ct.stencil:(Rn=ct.stencil,Kt=!1)),"depthStencil"in ct&&(typeof ct.depthStencil=="boolean"?Kt=Jt=ct.depthStencil:(kn=ct.depthStencil,Kt=!1,Jt=!1))}var It=null,Je=null,_t=null,wt=null;if(Array.isArray(At))It=At.map(Se);else if(At)It=[Se(At)];else for(It=new Array(vn),et=0;et<vn;++et)It[et]=z(lt,bt,gn,jt,pn);P(C.webgl_draw_buffers||It.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),P(It.length<=D.maxColorAttachments,"too many color attachments, not supported"),lt=lt||It[0].width,bt=bt||It[0].height,bn?Je=Se(bn):Kt&&!Jt&&(Je=z(lt,bt,sn,"depth","uint32")),Rn?_t=Se(Rn):Jt&&!Kt&&(_t=z(lt,bt,!1,"stencil","uint8")),kn?wt=Se(kn):!bn&&!Rn&&Jt&&Kt&&(wt=z(lt,bt,sn,"depth stencil","depth stencil")),P(!!bn+!!Rn+!!kn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var on=null;for(et=0;et<It.length;++et)if(Le(It[et],lt,bt),P(!It[et]||It[et].texture&&S_.indexOf(It[et].texture._texture.format)>=0||It[et].renderbuffer&&I_.indexOf(It[et].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+et+" is invalid"),It[et]&&It[et].texture){var Cr=Fc[It[et].texture._texture.format]*ma[It[et].texture._texture.type];on===null?on=Cr:P(on===Cr,"all color attachments much have the same number of bits per pixel.")}return Le(Je,lt,bt),P(!Je||Je.texture&&Je.texture._texture.format===A_||Je.renderbuffer&&Je.renderbuffer._renderbuffer.format===C_,"invalid depth attachment for framebuffer object"),Le(_t,lt,bt),P(!_t||_t.renderbuffer&&_t.renderbuffer._renderbuffer.format===P_,"invalid stencil attachment for framebuffer object"),Le(wt,lt,bt),P(!wt||wt.texture&&wt.texture._texture.format===d1||wt.renderbuffer&&wt.renderbuffer._renderbuffer.format===d1,"invalid depth-stencil attachment for framebuffer object"),xe(Me),Me.width=lt,Me.height=bt,Me.colorAttachments=It,Me.depthAttachment=Je,Me.stencilAttachment=_t,Me.depthStencilAttachment=wt,at.color=It.map(ne),at.depth=ne(Je),at.stencil=ne(_t),at.depthStencil=ne(wt),at.width=Me.width,at.height=Me.height,ue(Me),at}function it(De,Be){P(re.next!==Me,"can not resize a framebuffer which is currently in use");var et=Math.max(De|0,1),lt=Math.max(Be|0||et,1);if(et===Me.width&&lt===Me.height)return at;for(var bt=Me.colorAttachments,Kt=0;Kt<bt.length;++Kt)Ae(bt[Kt],et,lt);return Ae(Me.depthAttachment,et,lt),Ae(Me.stencilAttachment,et,lt),Ae(Me.depthStencilAttachment,et,lt),Me.width=at.width=et,Me.height=at.height=lt,ue(Me),at}return at(ye,Re),r(at,{resize:it,_reglType:"framebuffer",_framebuffer:Me,destroy:function(){Qe(Me),xe(Me)},use:function(De){re.setFBO({framebuffer:at},De)}})}function ze(ye){var Re=Array(6);function Me(it){var De;P(Re.indexOf(re.next)<0,"can not update framebuffer which is currently in use");var Be={color:null},et=0,lt=null,bt="rgba",Kt="uint8",Jt=1;if(typeof it=="number")et=it|0;else if(!it)et=1;else{P.type(it,"object","invalid arguments for framebuffer");var At=it;if("shape"in At){var gn=At.shape;P(Array.isArray(gn)&&gn.length>=2,"invalid shape for framebuffer"),P(gn[0]===gn[1],"cube framebuffer must be square"),et=gn[0]}else"radius"in At&&(et=At.radius|0),"width"in At?(et=At.width|0,"height"in At&&P(At.height===et,"must be square")):"height"in At&&(et=At.height|0);("color"in At||"colors"in At)&&(lt=At.color||At.colors,Array.isArray(lt)&&P(lt.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),lt||("colorCount"in At&&(Jt=At.colorCount|0,P(Jt>0,"invalid color buffer count")),"colorType"in At&&(P.oneOf(At.colorType,we,"invalid color type"),Kt=At.colorType),"colorFormat"in At&&(bt=At.colorFormat,P.oneOf(At.colorFormat,ve,"invalid color format for texture"))),"depth"in At&&(Be.depth=At.depth),"stencil"in At&&(Be.stencil=At.stencil),"depthStencil"in At&&(Be.depthStencil=At.depthStencil)}var jt;if(lt)if(Array.isArray(lt))for(jt=[],De=0;De<lt.length;++De)jt[De]=lt[De];else jt=[lt];else{jt=Array(Jt);var pn={radius:et,format:bt,type:Kt};for(De=0;De<Jt;++De)jt[De]=Q.createCube(pn)}for(Be.color=Array(jt.length),De=0;De<jt.length;++De){var vn=jt[De];P(typeof vn=="function"&&vn._reglType==="textureCube","invalid cube map"),et=et||vn.width,P(vn.width===et&&vn.height===et,"invalid cube map shape"),Be.color[De]={target:ha,data:jt[De]}}for(De=0;De<6;++De){for(var bn=0;bn<jt.length;++bn)Be.color[bn].target=ha+De;De>0&&(Be.depth=Re[0].depth,Be.stencil=Re[0].stencil,Be.depthStencil=Re[0].depthStencil),Re[De]?Re[De](Be):Re[De]=ae(Be)}return r(Me,{width:et,height:et,color:jt})}function at(it){var De,Be=it|0;if(P(Be>0&&Be<=D.maxCubeMapSize,"invalid radius for cube fbo"),Be===Me.width)return Me;var et=Me.color;for(De=0;De<et.length;++De)et[De].resize(Be);for(De=0;De<6;++De)Re[De].resize(Be);return Me.width=Me.height=Be,Me}return Me(ye),r(Me,{faces:Re,resize:at,_reglType:"framebufferCube",destroy:function(){Re.forEach(function(it){it.destroy()})}})}function Oe(){re.cur=null,re.next=null,re.dirty=!0,ir(me).forEach(function(ye){ye.framebuffer=_.createFramebuffer(),ue(ye)})}return r(re,{getFramebuffer:function(ye){if(typeof ye=="function"&&ye._reglType==="framebuffer"){var Re=ye._framebuffer;if(Re instanceof Ge)return Re}return null},create:ae,createCube:ze,clear:function(){ir(me).forEach(Qe)},restore:Oe})}var D_=5126,h1=34962,pa=34963,m1=["attributes","elements","offset","count","primitive","instances"];function kc(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=D_,this.offset=0,this.stride=0,this.divisor=0}function F_(_,C,D,Q,le,K,re){for(var ve=D.maxAttributes,ge=new Array(ve),we=0;we<ve;++we)ge[we]=new kc;var Ce=0,Te={},Le={Record:kc,scope:{},state:ge,currentVAO:null,targetVAO:null,restore:Se()?xe:function(){},createVAO:Qe,getVAO:ne,destroyBuffer:be,setVAO:Se()?Ae:$e,clear:Se()?me:function(){}};function be(ue){for(var ae=0;ae<ge.length;++ae){var ze=ge[ae];ze.buffer===ue&&(_.disableVertexAttribArray(ae),ze.buffer=null)}}function Se(){return C.oes_vertex_array_object}function z(){return C.angle_instanced_arrays}function ne(ue){return typeof ue=="function"&&ue._vao?ue._vao:null}function Ae(ue){if(ue!==Le.currentVAO){var ae=Se();ue?ae.bindVertexArrayOES(ue.vao):ae.bindVertexArrayOES(null),Le.currentVAO=ue}}function $e(ue){if(ue!==Le.currentVAO){if(ue)ue.bindAttrs();else{for(var ae=z(),ze=0;ze<ge.length;++ze){var Oe=ge[ze];Oe.buffer?(_.enableVertexAttribArray(ze),Oe.buffer.bind(),_.vertexAttribPointer(ze,Oe.size,Oe.type,Oe.normalized,Oe.stride,Oe.offfset),ae&&Oe.divisor&&ae.vertexAttribDivisorANGLE(ze,Oe.divisor)):(_.disableVertexAttribArray(ze),_.vertexAttrib4f(ze,Oe.x,Oe.y,Oe.z,Oe.w))}re.elements?_.bindBuffer(pa,re.elements.buffer.buffer):_.bindBuffer(pa,null)}Le.currentVAO=ue}}function me(){ir(Te).forEach(function(ue){ue.destroy()})}function Ge(){this.id=++Ce,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var ue=Se();ue?this.vao=ue.createVertexArrayOES():this.vao=null,Te[this.id]=this,this.buffers=[]}Ge.prototype.bindAttrs=function(){for(var ue=z(),ae=this.attributes,ze=0;ze<ae.length;++ze){var Oe=ae[ze];Oe.buffer?(_.enableVertexAttribArray(ze),_.bindBuffer(h1,Oe.buffer.buffer),_.vertexAttribPointer(ze,Oe.size,Oe.type,Oe.normalized,Oe.stride,Oe.offset),ue&&Oe.divisor&&ue.vertexAttribDivisorANGLE(ze,Oe.divisor)):(_.disableVertexAttribArray(ze),_.vertexAttrib4f(ze,Oe.x,Oe.y,Oe.z,Oe.w))}for(var ye=ae.length;ye<ve;++ye)_.disableVertexAttribArray(ye);var Re=K.getElements(this.elements);Re?_.bindBuffer(pa,Re.buffer.buffer):_.bindBuffer(pa,null)},Ge.prototype.refresh=function(){var ue=Se();ue&&(ue.bindVertexArrayOES(this.vao),this.bindAttrs(),Le.currentVAO=null,ue.bindVertexArrayOES(null))},Ge.prototype.destroy=function(){if(this.vao){var ue=Se();this===Le.currentVAO&&(Le.currentVAO=null,ue.bindVertexArrayOES(null)),ue.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Te[this.id]&&(delete Te[this.id],Q.vaoCount-=1)};function xe(){var ue=Se();ue&&ir(Te).forEach(function(ae){ae.refresh()})}function Qe(ue){var ae=new Ge;Q.vaoCount+=1;function ze(Oe){var ye;if(Array.isArray(Oe))ye=Oe,ae.elements&&ae.ownsElements&&ae.elements.destroy(),ae.elements=null,ae.ownsElements=!1,ae.offset=0,ae.count=0,ae.instances=-1,ae.primitive=4;else{if(P(typeof Oe=="object","invalid arguments for create vao"),P("attributes"in Oe,"must specify attributes for vao"),Oe.elements){var Re=Oe.elements;ae.ownsElements?typeof Re=="function"&&Re._reglType==="elements"?(ae.elements.destroy(),ae.ownsElements=!1):(ae.elements(Re),ae.ownsElements=!1):K.getElements(Oe.elements)?(ae.elements=Oe.elements,ae.ownsElements=!1):(ae.elements=K.create(Oe.elements),ae.ownsElements=!0)}else ae.elements=null,ae.ownsElements=!1;ye=Oe.attributes,ae.offset=0,ae.count=-1,ae.instances=-1,ae.primitive=4,ae.elements&&(ae.count=ae.elements._elements.vertCount,ae.primitive=ae.elements._elements.primType),"offset"in Oe&&(ae.offset=Oe.offset|0),"count"in Oe&&(ae.count=Oe.count|0),"instances"in Oe&&(ae.instances=Oe.instances|0),"primitive"in Oe&&(P(Oe.primitive in Jr,"bad primitive type: "+Oe.primitive),ae.primitive=Jr[Oe.primitive]),P.optional(()=>{for(var Kt=Object.keys(Oe),Jt=0;Jt<Kt.length;++Jt)P(m1.indexOf(Kt[Jt])>=0,'invalid option for vao: "'+Kt[Jt]+'" valid options are '+m1)}),P(Array.isArray(ye),"attributes must be an array")}P(ye.length<ve,"too many attributes"),P(ye.length>0,"must specify at least one attribute");var Me={},at=ae.attributes;at.length=ye.length;for(var it=0;it<ye.length;++it){var De=ye[it],Be=at[it]=new kc,et=De.data||De;if(Array.isArray(et)||n(et)||br(et)){var lt;ae.buffers[it]&&(lt=ae.buffers[it],n(et)&&lt._buffer.byteLength>=et.byteLength?lt.subdata(et):(lt.destroy(),ae.buffers[it]=null)),ae.buffers[it]||(lt=ae.buffers[it]=le.create(De,h1,!1,!0)),Be.buffer=le.getBuffer(lt),Be.size=Be.buffer.dimension|0,Be.normalized=!1,Be.type=Be.buffer.dtype,Be.offset=0,Be.stride=0,Be.divisor=0,Be.state=1,Me[it]=1}else le.getBuffer(De)?(Be.buffer=le.getBuffer(De),Be.size=Be.buffer.dimension|0,Be.normalized=!1,Be.type=Be.buffer.dtype,Be.offset=0,Be.stride=0,Be.divisor=0,Be.state=1):le.getBuffer(De.buffer)?(Be.buffer=le.getBuffer(De.buffer),Be.size=(+De.size||Be.buffer.dimension)|0,Be.normalized=!!De.normalized||!1,"type"in De?(P.parameter(De.type,As,"invalid buffer type"),Be.type=As[De.type]):Be.type=Be.buffer.dtype,Be.offset=(De.offset||0)|0,Be.stride=(De.stride||0)|0,Be.divisor=(De.divisor||0)|0,Be.state=1,P(Be.size>=1&&Be.size<=4,"size must be between 1 and 4"),P(Be.offset>=0,"invalid offset"),P(Be.stride>=0&&Be.stride<=255,"stride must be between 0 and 255"),P(Be.divisor>=0,"divisor must be positive"),P(!Be.divisor||!!C.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in De?(P(it>0,"first attribute must not be a constant"),Be.x=+De.x||0,Be.y=+De.y||0,Be.z=+De.z||0,Be.w=+De.w||0,Be.state=2):P(!1,"invalid attribute spec for location "+it)}for(var bt=0;bt<ae.buffers.length;++bt)!Me[bt]&&ae.buffers[bt]&&(ae.buffers[bt].destroy(),ae.buffers[bt]=null);return ae.refresh(),ze}return ze.destroy=function(){for(var Oe=0;Oe<ae.buffers.length;++Oe)ae.buffers[Oe]&&ae.buffers[Oe].destroy();ae.buffers.length=0,ae.ownsElements&&(ae.elements.destroy(),ae.elements=null,ae.ownsElements=!1),ae.destroy()},ze._vao=ae,ze._reglType="vao",ze(ue)}return Le}var p1=35632,k_=35633,G_=35718,B_=35721;function N_(_,C,D,Q){var le={},K={};function re(z,ne,Ae,$e){this.name=z,this.id=ne,this.location=Ae,this.info=$e}function ve(z,ne){for(var Ae=0;Ae<z.length;++Ae)if(z[Ae].id===ne.id){z[Ae].location=ne.location;return}z.push(ne)}function ge(z,ne,Ae){var $e=z===p1?le:K,me=$e[ne];if(!me){var Ge=C.str(ne);me=_.createShader(z),_.shaderSource(me,Ge),_.compileShader(me),P.shaderError(_,me,Ge,z,Ae),$e[ne]=me}return me}var we={},Ce=[],Te=0;function Le(z,ne){this.id=Te++,this.fragId=z,this.vertId=ne,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Q.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function be(z,ne,Ae){var $e,me,Ge=ge(p1,z.fragId),xe=ge(k_,z.vertId),Qe=z.program=_.createProgram();if(_.attachShader(Qe,Ge),_.attachShader(Qe,xe),Ae)for($e=0;$e<Ae.length;++$e){var ue=Ae[$e];_.bindAttribLocation(Qe,ue[0],ue[1])}_.linkProgram(Qe),P.linkError(_,Qe,C.str(z.fragId),C.str(z.vertId),ne);var ae=_.getProgramParameter(Qe,G_);Q.profile&&(z.stats.uniformsCount=ae);var ze=z.uniforms;for($e=0;$e<ae;++$e)if(me=_.getActiveUniform(Qe,$e),me){if(me.size>1)for(var Oe=0;Oe<me.size;++Oe){var ye=me.name.replace("[0]","["+Oe+"]");ve(ze,new re(ye,C.id(ye),_.getUniformLocation(Qe,ye),me))}var Re=me.name;me.size>1&&(Re=Re.replace("[0]","")),ve(ze,new re(Re,C.id(Re),_.getUniformLocation(Qe,Re),me))}var Me=_.getProgramParameter(Qe,B_);Q.profile&&(z.stats.attributesCount=Me);var at=z.attributes;for($e=0;$e<Me;++$e)me=_.getActiveAttrib(Qe,$e),me&&ve(at,new re(me.name,C.id(me.name),_.getAttribLocation(Qe,me.name),me))}Q.profile&&(D.getMaxUniformsCount=function(){var z=0;return Ce.forEach(function(ne){ne.stats.uniformsCount>z&&(z=ne.stats.uniformsCount)}),z},D.getMaxAttributesCount=function(){var z=0;return Ce.forEach(function(ne){ne.stats.attributesCount>z&&(z=ne.stats.attributesCount)}),z});function Se(){le={},K={};for(var z=0;z<Ce.length;++z)be(Ce[z],null,Ce[z].attributes.map(function(ne){return[ne.location,ne.name]}))}return{clear:function(){var z=_.deleteShader.bind(_);ir(le).forEach(z),le={},ir(K).forEach(z),K={},Ce.forEach(function(ne){_.deleteProgram(ne.program)}),Ce.length=0,we={},D.shaderCount=0},program:function(z,ne,Ae,$e){P.command(z>=0,"missing vertex shader",Ae),P.command(ne>=0,"missing fragment shader",Ae);var me=we[ne];me||(me=we[ne]={});var Ge=me[z];if(Ge&&(Ge.refCount++,!$e))return Ge;var xe=new Le(ne,z);return D.shaderCount++,be(xe,Ae,$e),Ge||(me[z]=xe),Ce.push(xe),r(xe,{destroy:function(){if(xe.refCount--,xe.refCount<=0){_.deleteProgram(xe.program);var Qe=Ce.indexOf(xe);Ce.splice(Qe,1),D.shaderCount--}me[xe.vertId].refCount<=0&&(_.deleteShader(K[xe.vertId]),delete K[xe.vertId],delete we[xe.fragId][xe.vertId]),Object.keys(we[xe.fragId]).length||(_.deleteShader(le[xe.fragId]),delete le[xe.fragId],delete we[xe.fragId])}})},restore:Se,shader:ge,frag:-1,vert:-1}}var $_=6408,eo=5121,V_=3333,ga=5126;function U_(_,C,D,Q,le,K,re){function ve(Ce){var Te;C.next===null?(P(le.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Te=eo):(P(C.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Te=C.next.colorAttachments[0].texture._texture.type,P.optional(function(){K.oes_texture_float?(P(Te===eo||Te===ga,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Te===ga&&P(re.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):P(Te===eo,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Le=0,be=0,Se=Q.framebufferWidth,z=Q.framebufferHeight,ne=null;n(Ce)?ne=Ce:Ce&&(P.type(Ce,"object","invalid arguments to regl.read()"),Le=Ce.x|0,be=Ce.y|0,P(Le>=0&&Le<Q.framebufferWidth,"invalid x offset for regl.read"),P(be>=0&&be<Q.framebufferHeight,"invalid y offset for regl.read"),Se=(Ce.width||Q.framebufferWidth-Le)|0,z=(Ce.height||Q.framebufferHeight-be)|0,ne=Ce.data||null),ne&&(Te===eo?P(ne instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Te===ga&&P(ne instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),P(Se>0&&Se+Le<=Q.framebufferWidth,"invalid width for read pixels"),P(z>0&&z+be<=Q.framebufferHeight,"invalid height for read pixels"),D();var Ae=Se*z*4;return ne||(Te===eo?ne=new Uint8Array(Ae):Te===ga&&(ne=ne||new Float32Array(Ae))),P.isTypedArray(ne,"data buffer for regl.read() must be a typedarray"),P(ne.byteLength>=Ae,"data buffer for regl.read() too small"),_.pixelStorei(V_,4),_.readPixels(Le,be,Se,z,$_,Te,ne),ne}function ge(Ce){var Te;return C.setFBO({framebuffer:Ce.framebuffer},function(){Te=ve(Ce)}),Te}function we(Ce){return!Ce||!("framebuffer"in Ce)?ve(Ce):ge(Ce)}return we}function ci(_){return Array.prototype.slice.call(_)}function fi(_){return ci(_).join("")}function z_(){var _=0,C=[],D=[];function Q(Te){for(var Le=0;Le<D.length;++Le)if(D[Le]===Te)return C[Le];var be="g"+_++;return C.push(be),D.push(Te),be}function le(){var Te=[];function Le(){Te.push.apply(Te,ci(arguments))}var be=[];function Se(){var z="v"+_++;return be.push(z),arguments.length>0&&(Te.push(z,"="),Te.push.apply(Te,ci(arguments)),Te.push(";")),z}return r(Le,{def:Se,toString:function(){return fi([be.length>0?"var "+be.join(",")+";":"",fi(Te)])}})}function K(){var Te=le(),Le=le(),be=Te.toString,Se=Le.toString;function z(ne,Ae){Le(ne,Ae,"=",Te.def(ne,Ae),";")}return r(function(){Te.apply(Te,ci(arguments))},{def:Te.def,entry:Te,exit:Le,save:z,set:function(ne,Ae,$e){z(ne,Ae),Te(ne,Ae,"=",$e,";")},toString:function(){return be()+Se()}})}function re(){var Te=fi(arguments),Le=K(),be=K(),Se=Le.toString,z=be.toString;return r(Le,{then:function(){return Le.apply(Le,ci(arguments)),this},else:function(){return be.apply(be,ci(arguments)),this},toString:function(){var ne=z();return ne&&(ne="else{"+ne+"}"),fi(["if(",Te,"){",Se(),"}",ne])}})}var ve=le(),ge={};function we(Te,Le){var be=[];function Se(){var me="a"+be.length;return be.push(me),me}Le=Le||0;for(var z=0;z<Le;++z)Se();var ne=K(),Ae=ne.toString,$e=ge[Te]=r(ne,{arg:Se,toString:function(){return fi(["function(",be.join(),"){",Ae(),"}"])}});return $e}function Ce(){var Te=['"use strict";',ve,"return {"];Object.keys(ge).forEach(function(Se){Te.push('"',Se,'":',ge[Se].toString(),",")}),Te.push("}");var Le=fi(Te).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),be=Function.apply(null,C.concat(Le));return be.apply(null,D)}return{global:ve,link:Q,block:le,proc:we,scope:K,cond:re,compile:Ce}}var ui="xyzw".split(""),g1=5121,di=1,Gc=2,Bc=0,Nc=1,$c=2,Vc=3,va=4,v1=5,b1=6,_1="dither",y1="blend.enable",A1="blend.color",Uc="blend.equation",zc="blend.func",S1="depth.enable",E1="depth.func",w1="depth.range",T1="depth.mask",Hc="colorMask",C1="cull.enable",P1="cull.face",jc="frontFace",qc="lineWidth",L1="polygonOffset.enable",Xc="polygonOffset.offset",O1="sample.alpha",R1="sample.enable",Wc="sample.coverage",M1="stencil.enable",I1="stencil.mask",Yc="stencil.func",Zc="stencil.opFront",to="stencil.opBack",x1="scissor.enable",ba="scissor.box",Br="viewport",no="profile",Cs="framebuffer",ro="vert",so="frag",Ps="elements",Ls="primitive",Os="count",_a="offset",ya="instances",io="vao",Kc="Width",Qc="Height",hi=Cs+Kc,mi=Cs+Qc,H_=Br+Kc,j_=Br+Qc,D1="drawingBuffer",F1=D1+Kc,k1=D1+Qc,q_=[zc,Uc,Yc,Zc,to,Wc,Br,ba,Xc],pi=34962,Jc=34963,X_=35632,W_=35633,G1=3553,Y_=34067,Z_=2884,K_=3042,Q_=3024,J_=2960,ey=2929,ty=3089,ny=32823,ry=32926,sy=32928,ef=5126,Aa=35664,Sa=35665,Ea=35666,tf=5124,wa=35667,Ta=35668,Ca=35669,nf=35670,Pa=35671,La=35672,Oa=35673,oo=35674,ao=35675,lo=35676,co=35678,fo=35680,rf=4,uo=1028,Rs=1029,B1=2304,sf=2305,iy=32775,oy=32776,ay=519,ts=7680,N1=0,$1=1,V1=32774,ly=513,U1=36160,cy=36064,Tr={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},z1=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],gi={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ns={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},H1={frag:X_,vert:W_},of={cw:B1,ccw:sf};function Ra(_){return Array.isArray(_)||n(_)||br(_)}function j1(_){return _.sort(function(C,D){return C===Br?-1:D===Br?1:C<D?-1:1})}function wn(_,C,D,Q){this.thisDep=_,this.contextDep=C,this.propDep=D,this.append=Q}function rs(_){return _&&!(_.thisDep||_.contextDep||_.propDep)}function mn(_){return new wn(!1,!1,!1,_)}function Qn(_,C){var D=_.type;if(D===Bc){var Q=_.data.length;return new wn(!0,Q>=1,Q>=2,C)}else if(D===va){var le=_.data;return new wn(le.thisDep,le.contextDep,le.propDep,C)}else{if(D===v1)return new wn(!1,!1,!1,C);if(D===b1){for(var K=!1,re=!1,ve=!1,ge=0;ge<_.data.length;++ge){var we=_.data[ge];if(we.type===Nc)ve=!0;else if(we.type===$c)re=!0;else if(we.type===Vc)K=!0;else if(we.type===Bc){K=!0;var Ce=we.data;Ce>=1&&(re=!0),Ce>=2&&(ve=!0)}else we.type===va&&(K=K||we.data.thisDep,re=re||we.data.contextDep,ve=ve||we.data.propDep)}return new wn(K,re,ve,C)}else return new wn(D===Vc,D===$c,D===Nc,C)}}var q1=new wn(!1,!1,!1,function(){});function fy(_,C,D,Q,le,K,re,ve,ge,we,Ce,Te,Le,be,Se){var z=we.Record,ne={add:32774,subtract:32778,"reverse subtract":32779};D.ext_blend_minmax&&(ne.min=iy,ne.max=oy);var Ae=D.angle_instanced_arrays,$e=D.webgl_draw_buffers,me=D.oes_vertex_array_object,Ge={dirty:!0,profile:Se.profile},xe={},Qe=[],ue={},ae={};function ze(L){return L.replace(".","_")}function Oe(L,T,F){var V=ze(L);Qe.push(L),xe[V]=Ge[V]=!!F,ue[V]=T}function ye(L,T,F){var V=ze(L);Qe.push(L),Array.isArray(F)?(Ge[V]=F.slice(),xe[V]=F.slice()):Ge[V]=xe[V]=F,ae[V]=T}Oe(_1,Q_),Oe(y1,K_),ye(A1,"blendColor",[0,0,0,0]),ye(Uc,"blendEquationSeparate",[V1,V1]),ye(zc,"blendFuncSeparate",[$1,N1,$1,N1]),Oe(S1,ey,!0),ye(E1,"depthFunc",ly),ye(w1,"depthRange",[0,1]),ye(T1,"depthMask",!0),ye(Hc,Hc,[!0,!0,!0,!0]),Oe(C1,Z_),ye(P1,"cullFace",Rs),ye(jc,jc,sf),ye(qc,qc,1),Oe(L1,ny),ye(Xc,"polygonOffset",[0,0]),Oe(O1,ry),Oe(R1,sy),ye(Wc,"sampleCoverage",[1,!1]),Oe(M1,J_),ye(I1,"stencilMask",-1),ye(Yc,"stencilFunc",[ay,0,-1]),ye(Zc,"stencilOpSeparate",[uo,ts,ts,ts]),ye(to,"stencilOpSeparate",[Rs,ts,ts,ts]),Oe(x1,ty),ye(ba,"scissor",[0,0,_.drawingBufferWidth,_.drawingBufferHeight]),ye(Br,Br,[0,0,_.drawingBufferWidth,_.drawingBufferHeight]);var Re={gl:_,context:Le,strings:C,next:xe,current:Ge,draw:Te,elements:K,buffer:le,shader:Ce,attributes:we.state,vao:we,uniforms:ge,framebuffer:ve,extensions:D,timer:be,isBufferArgs:Ra},Me={primTypes:Jr,compareFuncs:gi,blendFuncs:Tr,blendEquations:ne,stencilOps:ns,glTypes:As,orientationType:of};P.optional(function(){Re.isArrayLike=Zt}),$e&&(Me.backBuffer=[Rs],Me.drawBuffer=qn(Q.maxDrawbuffers,function(L){return L===0?[0]:qn(L,function(T){return cy+T})}));var at=0;function it(){var L=z_(),T=L.link,F=L.global;L.id=at++,L.batchId="0";var V=T(Re),j=L.shared={props:"a0"};Object.keys(Re).forEach(function(x){j[x]=F.def(V,".",x)}),P.optional(function(){L.CHECK=T(P),L.commandStr=P.guessCommand(),L.command=T(L.commandStr),L.assert=function(x,M,Y){x("if(!(",M,"))",this.CHECK,".commandRaise(",T(Y),",",this.command,");")},Me.invalidBlendCombinations=z1});var B=L.next={},k=L.current={};Object.keys(ae).forEach(function(x){Array.isArray(Ge[x])&&(B[x]=F.def(j.next,".",x),k[x]=F.def(j.current,".",x))});var $=L.constants={};Object.keys(Me).forEach(function(x){$[x]=F.def(JSON.stringify(Me[x]))}),L.invoke=function(x,M){switch(M.type){case Bc:var Y=["this",j.context,j.props,L.batchId];return x.def(T(M.data),".call(",Y.slice(0,Math.max(M.data.length+1,4)),")");case Nc:return x.def(j.props,M.data);case $c:return x.def(j.context,M.data);case Vc:return x.def("this",M.data);case va:return M.data.append(L,x),M.data.ref;case v1:return M.data.toString();case b1:return M.data.map(function(q){return L.invoke(x,q)})}},L.attribCache={};var O={};return L.scopeAttrib=function(x){var M=C.id(x);if(M in O)return O[M];var Y=we.scope[M];Y||(Y=we.scope[M]=new z);var q=O[M]=T(Y);return q},L}function De(L){var T=L.static,F=L.dynamic,V;if(no in T){var j=!!T[no];V=mn(function(k,$){return j}),V.enable=j}else if(no in F){var B=F[no];V=Qn(B,function(k,$){return k.invoke($,B)})}return V}function Be(L,T){var F=L.static,V=L.dynamic;if(Cs in F){var j=F[Cs];return j?(j=ve.getFramebuffer(j),P.command(j,"invalid framebuffer object"),mn(function(k,$){var O=k.link(j),x=k.shared;$.set(x.framebuffer,".next",O);var M=x.context;return $.set(M,"."+hi,O+".width"),$.set(M,"."+mi,O+".height"),O})):mn(function(k,$){var O=k.shared;$.set(O.framebuffer,".next","null");var x=O.context;return $.set(x,"."+hi,x+"."+F1),$.set(x,"."+mi,x+"."+k1),"null"})}else if(Cs in V){var B=V[Cs];return Qn(B,function(k,$){var O=k.invoke($,B),x=k.shared,M=x.framebuffer,Y=$.def(M,".getFramebuffer(",O,")");P.optional(function(){k.assert($,"!"+O+"||"+Y,"invalid framebuffer object")}),$.set(M,".next",Y);var q=x.context;return $.set(q,"."+hi,Y+"?"+Y+".width:"+q+"."+F1),$.set(q,"."+mi,Y+"?"+Y+".height:"+q+"."+k1),Y})}else return null}function et(L,T,F){var V=L.static,j=L.dynamic;function B(O){if(O in V){var x=V[O];P.commandType(x,"object","invalid "+O,F.commandStr);var M=!0,Y=x.x|0,q=x.y|0,ie,de;return"width"in x?(ie=x.width|0,P.command(ie>=0,"invalid "+O,F.commandStr)):M=!1,"height"in x?(de=x.height|0,P.command(de>=0,"invalid "+O,F.commandStr)):M=!1,new wn(!M&&T&&T.thisDep,!M&&T&&T.contextDep,!M&&T&&T.propDep,function(Ke,Ve){var he=Ke.shared.context,se=ie;"width"in x||(se=Ve.def(he,".",hi,"-",Y));var Ye=de;return"height"in x||(Ye=Ve.def(he,".",mi,"-",q)),[Y,q,se,Ye]})}else if(O in j){var Pe=j[O],nt=Qn(Pe,function(Ke,Ve){var he=Ke.invoke(Ve,Pe);P.optional(function(){Ke.assert(Ve,he+"&&typeof "+he+'==="object"',"invalid "+O)});var se=Ke.shared.context,Ye=Ve.def(he,".x|0"),je=Ve.def(he,".y|0"),tt=Ve.def('"width" in ',he,"?",he,".width|0:","(",se,".",hi,"-",Ye,")"),Ft=Ve.def('"height" in ',he,"?",he,".height|0:","(",se,".",mi,"-",je,")");return P.optional(function(){Ke.assert(Ve,tt+">=0&&"+Ft+">=0","invalid "+O)}),[Ye,je,tt,Ft]});return T&&(nt.thisDep=nt.thisDep||T.thisDep,nt.contextDep=nt.contextDep||T.contextDep,nt.propDep=nt.propDep||T.propDep),nt}else return T?new wn(T.thisDep,T.contextDep,T.propDep,function(Ke,Ve){var he=Ke.shared.context;return[0,0,Ve.def(he,".",hi),Ve.def(he,".",mi)]}):null}var k=B(Br);if(k){var $=k;k=new wn(k.thisDep,k.contextDep,k.propDep,function(O,x){var M=$.append(O,x),Y=O.shared.context;return x.set(Y,"."+H_,M[2]),x.set(Y,"."+j_,M[3]),M})}return{viewport:k,scissor_box:B(ba)}}function lt(L,T){var F=L.static,V=typeof F[so]=="string"&&typeof F[ro]=="string";if(V){if(Object.keys(T.dynamic).length>0)return null;var j=T.static,B=Object.keys(j);if(B.length>0&&typeof j[B[0]]=="number"){for(var k=[],$=0;$<B.length;++$)P(typeof j[B[$]]=="number","must specify all vertex attribute locations when using vaos"),k.push([j[B[$]]|0,B[$]]);return k}}return null}function bt(L,T,F){var V=L.static,j=L.dynamic;function B(M){if(M in V){var Y=C.id(V[M]);P.optional(function(){Ce.shader(H1[M],Y,P.guessCommand())});var q=mn(function(){return Y});return q.id=Y,q}else if(M in j){var ie=j[M];return Qn(ie,function(de,Pe){var nt=de.invoke(Pe,ie),Ke=Pe.def(de.shared.strings,".id(",nt,")");return P.optional(function(){Pe(de.shared.shader,".shader(",H1[M],",",Ke,",",de.command,");")}),Ke})}return null}var k=B(so),$=B(ro),O=null,x;return rs(k)&&rs($)?(O=Ce.program($.id,k.id,null,F),x=mn(function(M,Y){return M.link(O)})):x=new wn(k&&k.thisDep||$&&$.thisDep,k&&k.contextDep||$&&$.contextDep,k&&k.propDep||$&&$.propDep,function(M,Y){var q=M.shared.shader,ie;k?ie=k.append(M,Y):ie=Y.def(q,".",so);var de;$?de=$.append(M,Y):de=Y.def(q,".",ro);var Pe=q+".program("+de+","+ie;return P.optional(function(){Pe+=","+M.command}),Y.def(Pe+")")}),{frag:k,vert:$,progVar:x,program:O}}function Kt(L,T){var F=L.static,V=L.dynamic,j={},B=!1;function k(){if(io in F){var Ve=F[io];return Ve!==null&&we.getVAO(Ve)===null&&(Ve=we.createVAO(Ve)),B=!0,j.vao=Ve,mn(function(se){var Ye=we.getVAO(Ve);return Ye?se.link(Ye):"null"})}else if(io in V){B=!0;var he=V[io];return Qn(he,function(se,Ye){var je=se.invoke(Ye,he);return Ye.def(se.shared.vao+".getVAO("+je+")")})}return null}var $=k(),O=!1;function x(){if(Ps in F){var Ve=F[Ps];if(j.elements=Ve,Ra(Ve)){var he=j.elements=K.create(Ve,!0);Ve=K.getElements(he),O=!0}else Ve&&(Ve=K.getElements(Ve),O=!0,P.command(Ve,"invalid elements",T.commandStr));var se=mn(function(je,tt){if(Ve){var Ft=je.link(Ve);return je.ELEMENTS=Ft,Ft}return je.ELEMENTS=null,null});return se.value=Ve,se}else if(Ps in V){O=!0;var Ye=V[Ps];return Qn(Ye,function(je,tt){var Ft=je.shared,Bn=Ft.isBufferArgs,Is=Ft.elements,Nr=je.invoke(tt,Ye),Pr=tt.def("null"),ss=tt.def(Bn,"(",Nr,")"),xs=je.cond(ss).then(Pr,"=",Is,".createStream(",Nr,");").else(Pr,"=",Is,".getElements(",Nr,");");return P.optional(function(){je.assert(xs.else,"!"+Nr+"||"+Pr,"invalid elements")}),tt.entry(xs),tt.exit(je.cond(ss).then(Is,".destroyStream(",Pr,");")),je.ELEMENTS=Pr,Pr})}else if(B)return new wn($.thisDep,$.contextDep,$.propDep,function(je,tt){return tt.def(je.shared.vao+".currentVAO?"+je.shared.elements+".getElements("+je.shared.vao+".currentVAO.elements):null")});return null}var M=x();function Y(){if(Ls in F){var Ve=F[Ls];return j.primitive=Ve,P.commandParameter(Ve,Jr,"invalid primitve",T.commandStr),mn(function(se,Ye){return Jr[Ve]})}else if(Ls in V){var he=V[Ls];return Qn(he,function(se,Ye){var je=se.constants.primTypes,tt=se.invoke(Ye,he);return P.optional(function(){se.assert(Ye,tt+" in "+je,"invalid primitive, must be one of "+Object.keys(Jr))}),Ye.def(je,"[",tt,"]")})}else{if(O)return rs(M)?M.value?mn(function(se,Ye){return Ye.def(se.ELEMENTS,".primType")}):mn(function(){return rf}):new wn(M.thisDep,M.contextDep,M.propDep,function(se,Ye){var je=se.ELEMENTS;return Ye.def(je,"?",je,".primType:",rf)});if(B)return new wn($.thisDep,$.contextDep,$.propDep,function(se,Ye){return Ye.def(se.shared.vao+".currentVAO?"+se.shared.vao+".currentVAO.primitive:"+rf)})}return null}function q(Ve,he){if(Ve in F){var se=F[Ve]|0;return he?j.offset=se:j.instances=se,P.command(!he||se>=0,"invalid "+Ve,T.commandStr),mn(function(je,tt){return he&&(je.OFFSET=se),se})}else if(Ve in V){var Ye=V[Ve];return Qn(Ye,function(je,tt){var Ft=je.invoke(tt,Ye);return he&&(je.OFFSET=Ft,P.optional(function(){je.assert(tt,Ft+">=0","invalid "+Ve)})),Ft})}else if(he){if(O)return mn(function(je,tt){return je.OFFSET=0,0});if(B)return new wn($.thisDep,$.contextDep,$.propDep,function(je,tt){return tt.def(je.shared.vao+".currentVAO?"+je.shared.vao+".currentVAO.offset:0")})}else if(B)return new wn($.thisDep,$.contextDep,$.propDep,function(je,tt){return tt.def(je.shared.vao+".currentVAO?"+je.shared.vao+".currentVAO.instances:-1")});return null}var ie=q(_a,!0);function de(){if(Os in F){var Ve=F[Os]|0;return j.count=Ve,P.command(typeof Ve=="number"&&Ve>=0,"invalid vertex count",T.commandStr),mn(function(){return Ve})}else if(Os in V){var he=V[Os];return Qn(he,function(tt,Ft){var Bn=tt.invoke(Ft,he);return P.optional(function(){tt.assert(Ft,"typeof "+Bn+'==="number"&&'+Bn+">=0&&"+Bn+"===("+Bn+"|0)","invalid vertex count")}),Bn})}else if(O)if(rs(M)){if(M)return ie?new wn(ie.thisDep,ie.contextDep,ie.propDep,function(tt,Ft){var Bn=Ft.def(tt.ELEMENTS,".vertCount-",tt.OFFSET);return P.optional(function(){tt.assert(Ft,Bn+">=0","invalid vertex offset/element buffer too small")}),Bn}):mn(function(tt,Ft){return Ft.def(tt.ELEMENTS,".vertCount")});var se=mn(function(){return-1});return P.optional(function(){se.MISSING=!0}),se}else{var Ye=new wn(M.thisDep||ie.thisDep,M.contextDep||ie.contextDep,M.propDep||ie.propDep,function(tt,Ft){var Bn=tt.ELEMENTS;return tt.OFFSET?Ft.def(Bn,"?",Bn,".vertCount-",tt.OFFSET,":-1"):Ft.def(Bn,"?",Bn,".vertCount:-1")});return P.optional(function(){Ye.DYNAMIC=!0}),Ye}else if(B){var je=new wn($.thisDep,$.contextDep,$.propDep,function(tt,Ft){return Ft.def(tt.shared.vao,".currentVAO?",tt.shared.vao,".currentVAO.count:-1")});return je}return null}var Pe=Y(),nt=de(),Ke=q(ya,!1);return{elements:M,primitive:Pe,count:nt,instances:Ke,offset:ie,vao:$,vaoActive:B,elementsActive:O,static:j}}function Jt(L,T){var F=L.static,V=L.dynamic,j={};return Qe.forEach(function(B){var k=ze(B);function $(O,x){if(B in F){var M=O(F[B]);j[k]=mn(function(){return M})}else if(B in V){var Y=V[B];j[k]=Qn(Y,function(q,ie){return x(q,ie,q.invoke(ie,Y))})}}switch(B){case C1:case y1:case _1:case M1:case S1:case x1:case L1:case O1:case R1:case T1:return $(function(O){return P.commandType(O,"boolean",B,T.commandStr),O},function(O,x,M){return P.optional(function(){O.assert(x,"typeof "+M+'==="boolean"',"invalid flag "+B,O.commandStr)}),M});case E1:return $(function(O){return P.commandParameter(O,gi,"invalid "+B,T.commandStr),gi[O]},function(O,x,M){var Y=O.constants.compareFuncs;return P.optional(function(){O.assert(x,M+" in "+Y,"invalid "+B+", must be one of "+Object.keys(gi))}),x.def(Y,"[",M,"]")});case w1:return $(function(O){return P.command(Zt(O)&&O.length===2&&typeof O[0]=="number"&&typeof O[1]=="number"&&O[0]<=O[1],"depth range is 2d array",T.commandStr),O},function(O,x,M){P.optional(function(){O.assert(x,O.shared.isArrayLike+"("+M+")&&"+M+".length===2&&typeof "+M+'[0]==="number"&&typeof '+M+'[1]==="number"&&'+M+"[0]<="+M+"[1]","depth range must be a 2d array")});var Y=x.def("+",M,"[0]"),q=x.def("+",M,"[1]");return[Y,q]});case zc:return $(function(O){P.commandType(O,"object","blend.func",T.commandStr);var x="srcRGB"in O?O.srcRGB:O.src,M="srcAlpha"in O?O.srcAlpha:O.src,Y="dstRGB"in O?O.dstRGB:O.dst,q="dstAlpha"in O?O.dstAlpha:O.dst;return P.commandParameter(x,Tr,k+".srcRGB",T.commandStr),P.commandParameter(M,Tr,k+".srcAlpha",T.commandStr),P.commandParameter(Y,Tr,k+".dstRGB",T.commandStr),P.commandParameter(q,Tr,k+".dstAlpha",T.commandStr),P.command(z1.indexOf(x+", "+Y)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+x+", "+Y+")",T.commandStr),[Tr[x],Tr[Y],Tr[M],Tr[q]]},function(O,x,M){var Y=O.constants.blendFuncs;P.optional(function(){O.assert(x,M+"&&typeof "+M+'==="object"',"invalid blend func, must be an object")});function q(he,se){var Ye=x.def('"',he,se,'" in ',M,"?",M,".",he,se,":",M,".",he);return P.optional(function(){O.assert(x,Ye+" in "+Y,"invalid "+B+"."+he+se+", must be one of "+Object.keys(Tr))}),Ye}var ie=q("src","RGB"),de=q("dst","RGB");P.optional(function(){var he=O.constants.invalidBlendCombinations;O.assert(x,he+".indexOf("+ie+'+", "+'+de+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Pe=x.def(Y,"[",ie,"]"),nt=x.def(Y,"[",q("src","Alpha"),"]"),Ke=x.def(Y,"[",de,"]"),Ve=x.def(Y,"[",q("dst","Alpha"),"]");return[Pe,Ke,nt,Ve]});case Uc:return $(function(O){if(typeof O=="string")return P.commandParameter(O,ne,"invalid "+B,T.commandStr),[ne[O],ne[O]];if(typeof O=="object")return P.commandParameter(O.rgb,ne,B+".rgb",T.commandStr),P.commandParameter(O.alpha,ne,B+".alpha",T.commandStr),[ne[O.rgb],ne[O.alpha]];P.commandRaise("invalid blend.equation",T.commandStr)},function(O,x,M){var Y=O.constants.blendEquations,q=x.def(),ie=x.def(),de=O.cond("typeof ",M,'==="string"');return P.optional(function(){function Pe(nt,Ke,Ve){O.assert(nt,Ve+" in "+Y,"invalid "+Ke+", must be one of "+Object.keys(ne))}Pe(de.then,B,M),O.assert(de.else,M+"&&typeof "+M+'==="object"',"invalid "+B),Pe(de.else,B+".rgb",M+".rgb"),Pe(de.else,B+".alpha",M+".alpha")}),de.then(q,"=",ie,"=",Y,"[",M,"];"),de.else(q,"=",Y,"[",M,".rgb];",ie,"=",Y,"[",M,".alpha];"),x(de),[q,ie]});case A1:return $(function(O){return P.command(Zt(O)&&O.length===4,"blend.color must be a 4d array",T.commandStr),qn(4,function(x){return+O[x]})},function(O,x,M){return P.optional(function(){O.assert(x,O.shared.isArrayLike+"("+M+")&&"+M+".length===4","blend.color must be a 4d array")}),qn(4,function(Y){return x.def("+",M,"[",Y,"]")})});case I1:return $(function(O){return P.commandType(O,"number",k,T.commandStr),O|0},function(O,x,M){return P.optional(function(){O.assert(x,"typeof "+M+'==="number"',"invalid stencil.mask")}),x.def(M,"|0")});case Yc:return $(function(O){P.commandType(O,"object",k,T.commandStr);var x=O.cmp||"keep",M=O.ref||0,Y="mask"in O?O.mask:-1;return P.commandParameter(x,gi,B+".cmp",T.commandStr),P.commandType(M,"number",B+".ref",T.commandStr),P.commandType(Y,"number",B+".mask",T.commandStr),[gi[x],M,Y]},function(O,x,M){var Y=O.constants.compareFuncs;P.optional(function(){function Pe(){O.assert(x,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Pe(M+"&&typeof ",M,'==="object"'),Pe('!("cmp" in ',M,")||(",M,".cmp in ",Y,")")});var q=x.def('"cmp" in ',M,"?",Y,"[",M,".cmp]",":",ts),ie=x.def(M,".ref|0"),de=x.def('"mask" in ',M,"?",M,".mask|0:-1");return[q,ie,de]});case Zc:case to:return $(function(O){P.commandType(O,"object",k,T.commandStr);var x=O.fail||"keep",M=O.zfail||"keep",Y=O.zpass||"keep";return P.commandParameter(x,ns,B+".fail",T.commandStr),P.commandParameter(M,ns,B+".zfail",T.commandStr),P.commandParameter(Y,ns,B+".zpass",T.commandStr),[B===to?Rs:uo,ns[x],ns[M],ns[Y]]},function(O,x,M){var Y=O.constants.stencilOps;P.optional(function(){O.assert(x,M+"&&typeof "+M+'==="object"',"invalid "+B)});function q(ie){return P.optional(function(){O.assert(x,'!("'+ie+'" in '+M+")||("+M+"."+ie+" in "+Y+")","invalid "+B+"."+ie+", must be one of "+Object.keys(ns))}),x.def('"',ie,'" in ',M,"?",Y,"[",M,".",ie,"]:",ts)}return[B===to?Rs:uo,q("fail"),q("zfail"),q("zpass")]});case Xc:return $(function(O){P.commandType(O,"object",k,T.commandStr);var x=O.factor|0,M=O.units|0;return P.commandType(x,"number",k+".factor",T.commandStr),P.commandType(M,"number",k+".units",T.commandStr),[x,M]},function(O,x,M){P.optional(function(){O.assert(x,M+"&&typeof "+M+'==="object"',"invalid "+B)});var Y=x.def(M,".factor|0"),q=x.def(M,".units|0");return[Y,q]});case P1:return $(function(O){var x=0;return O==="front"?x=uo:O==="back"&&(x=Rs),P.command(!!x,k,T.commandStr),x},function(O,x,M){return P.optional(function(){O.assert(x,M+'==="front"||'+M+'==="back"',"invalid cull.face")}),x.def(M,'==="front"?',uo,":",Rs)});case qc:return $(function(O){return P.command(typeof O=="number"&&O>=Q.lineWidthDims[0]&&O<=Q.lineWidthDims[1],"invalid line width, must be a positive number between "+Q.lineWidthDims[0]+" and "+Q.lineWidthDims[1],T.commandStr),O},function(O,x,M){return P.optional(function(){O.assert(x,"typeof "+M+'==="number"&&'+M+">="+Q.lineWidthDims[0]+"&&"+M+"<="+Q.lineWidthDims[1],"invalid line width")}),M});case jc:return $(function(O){return P.commandParameter(O,of,k,T.commandStr),of[O]},function(O,x,M){return P.optional(function(){O.assert(x,M+'==="cw"||'+M+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),x.def(M+'==="cw"?'+B1+":"+sf)});case Hc:return $(function(O){return P.command(Zt(O)&&O.length===4,"color.mask must be length 4 array",T.commandStr),O.map(function(x){return!!x})},function(O,x,M){return P.optional(function(){O.assert(x,O.shared.isArrayLike+"("+M+")&&"+M+".length===4","invalid color.mask")}),qn(4,function(Y){return"!!"+M+"["+Y+"]"})});case Wc:return $(function(O){P.command(typeof O=="object"&&O,k,T.commandStr);var x="value"in O?O.value:1,M=!!O.invert;return P.command(typeof x=="number"&&x>=0&&x<=1,"sample.coverage.value must be a number between 0 and 1",T.commandStr),[x,M]},function(O,x,M){P.optional(function(){O.assert(x,M+"&&typeof "+M+'==="object"',"invalid sample.coverage")});var Y=x.def('"value" in ',M,"?+",M,".value:1"),q=x.def("!!",M,".invert");return[Y,q]})}}),j}function At(L,T){var F=L.static,V=L.dynamic,j={};return Object.keys(F).forEach(function(B){var k=F[B],$;if(typeof k=="number"||typeof k=="boolean")$=mn(function(){return k});else if(typeof k=="function"){var O=k._reglType;O==="texture2d"||O==="textureCube"?$=mn(function(x){return x.link(k)}):O==="framebuffer"||O==="framebufferCube"?(P.command(k.color.length>0,'missing color attachment for framebuffer sent to uniform "'+B+'"',T.commandStr),$=mn(function(x){return x.link(k.color[0])})):P.commandRaise('invalid data for uniform "'+B+'"',T.commandStr)}else Zt(k)?$=mn(function(x){var M=x.global.def("[",qn(k.length,function(Y){return P.command(typeof k[Y]=="number"||typeof k[Y]=="boolean","invalid uniform "+B,x.commandStr),k[Y]}),"]");return M}):P.commandRaise('invalid or missing data for uniform "'+B+'"',T.commandStr);$.value=k,j[B]=$}),Object.keys(V).forEach(function(B){var k=V[B];j[B]=Qn(k,function($,O){return $.invoke(O,k)})}),j}function gn(L,T){var F=L.static,V=L.dynamic,j={};return Object.keys(F).forEach(function(B){var k=F[B],$=C.id(B),O=new z;if(Ra(k))O.state=di,O.buffer=le.getBuffer(le.create(k,pi,!1,!0)),O.type=0;else{var x=le.getBuffer(k);if(x)O.state=di,O.buffer=x,O.type=0;else if(P.command(typeof k=="object"&&k,"invalid data for attribute "+B,T.commandStr),"constant"in k){var M=k.constant;O.buffer="null",O.state=Gc,typeof M=="number"?O.x=M:(P.command(Zt(M)&&M.length>0&&M.length<=4,"invalid constant for attribute "+B,T.commandStr),ui.forEach(function(Ke,Ve){Ve<M.length&&(O[Ke]=M[Ve])}))}else{Ra(k.buffer)?x=le.getBuffer(le.create(k.buffer,pi,!1,!0)):x=le.getBuffer(k.buffer),P.command(!!x,'missing buffer for attribute "'+B+'"',T.commandStr);var Y=k.offset|0;P.command(Y>=0,'invalid offset for attribute "'+B+'"',T.commandStr);var q=k.stride|0;P.command(q>=0&&q<256,'invalid stride for attribute "'+B+'", must be integer betweeen [0, 255]',T.commandStr);var ie=k.size|0;P.command(!("size"in k)||ie>0&&ie<=4,'invalid size for attribute "'+B+'", must be 1,2,3,4',T.commandStr);var de=!!k.normalized,Pe=0;"type"in k&&(P.commandParameter(k.type,As,"invalid type for attribute "+B,T.commandStr),Pe=As[k.type]);var nt=k.divisor|0;P.optional(function(){"divisor"in k&&(P.command(nt===0||Ae,'cannot specify divisor for attribute "'+B+'", instancing not supported',T.commandStr),P.command(nt>=0,'invalid divisor for attribute "'+B+'"',T.commandStr));var Ke=T.commandStr,Ve=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(k).forEach(function(he){P.command(Ve.indexOf(he)>=0,'unknown parameter "'+he+'" for attribute pointer "'+B+'" (valid parameters are '+Ve+")",Ke)})}),O.buffer=x,O.state=di,O.size=ie,O.normalized=de,O.type=Pe||x.dtype,O.offset=Y,O.stride=q,O.divisor=nt}}j[B]=mn(function(Ke,Ve){var he=Ke.attribCache;if($ in he)return he[$];var se={isStream:!1};return Object.keys(O).forEach(function(Ye){se[Ye]=O[Ye]}),O.buffer&&(se.buffer=Ke.link(O.buffer),se.type=se.type||se.buffer+".dtype"),he[$]=se,se})}),Object.keys(V).forEach(function(B){var k=V[B];function $(O,x){var M=O.invoke(x,k),Y=O.shared,q=O.constants,ie=Y.isBufferArgs,de=Y.buffer;P.optional(function(){O.assert(x,M+"&&(typeof "+M+'==="object"||typeof '+M+'==="function")&&('+ie+"("+M+")||"+de+".getBuffer("+M+")||"+de+".getBuffer("+M+".buffer)||"+ie+"("+M+'.buffer)||("constant" in '+M+"&&(typeof "+M+'.constant==="number"||'+Y.isArrayLike+"("+M+".constant))))",'invalid dynamic attribute "'+B+'"')});var Pe={isStream:x.def(!1)},nt=new z;nt.state=di,Object.keys(nt).forEach(function(se){Pe[se]=x.def(""+nt[se])});var Ke=Pe.buffer,Ve=Pe.type;x("if(",ie,"(",M,")){",Pe.isStream,"=true;",Ke,"=",de,".createStream(",pi,",",M,");",Ve,"=",Ke,".dtype;","}else{",Ke,"=",de,".getBuffer(",M,");","if(",Ke,"){",Ve,"=",Ke,".dtype;",'}else if("constant" in ',M,"){",Pe.state,"=",Gc,";","if(typeof "+M+'.constant === "number"){',Pe[ui[0]],"=",M,".constant;",ui.slice(1).map(function(se){return Pe[se]}).join("="),"=0;","}else{",ui.map(function(se,Ye){return Pe[se]+"="+M+".constant.length>"+Ye+"?"+M+".constant["+Ye+"]:0;"}).join(""),"}}else{","if(",ie,"(",M,".buffer)){",Ke,"=",de,".createStream(",pi,",",M,".buffer);","}else{",Ke,"=",de,".getBuffer(",M,".buffer);","}",Ve,'="type" in ',M,"?",q.glTypes,"[",M,".type]:",Ke,".dtype;",Pe.normalized,"=!!",M,".normalized;");function he(se){x(Pe[se],"=",M,".",se,"|0;")}return he("size"),he("offset"),he("stride"),he("divisor"),x("}}"),x.exit("if(",Pe.isStream,"){",de,".destroyStream(",Ke,");","}"),Pe}j[B]=Qn(k,$)}),j}function jt(L){var T=L.static,F=L.dynamic,V={};return Object.keys(T).forEach(function(j){var B=T[j];V[j]=mn(function(k,$){return typeof B=="number"||typeof B=="boolean"?""+B:k.link(B)})}),Object.keys(F).forEach(function(j){var B=F[j];V[j]=Qn(B,function(k,$){return k.invoke($,B)})}),V}function pn(L,T,F,V,j){var B=L.static,k=L.dynamic;P.optional(function(){var he=[Cs,ro,so,Ps,Ls,_a,Os,ya,no,io].concat(Qe);function se(Ye){Object.keys(Ye).forEach(function(je){P.command(he.indexOf(je)>=0,'unknown parameter "'+je+'"',j.commandStr)})}se(B),se(k)});var $=lt(L,T),O=Be(L),x=et(L,O,j),M=Kt(L,j),Y=Jt(L,j),q=bt(L,j,$);function ie(he){var se=x[he];se&&(Y[he]=se)}ie(Br),ie(ze(ba));var de=Object.keys(Y).length>0,Pe={framebuffer:O,draw:M,shader:q,state:Y,dirty:de,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Pe.profile=De(L),Pe.uniforms=At(F,j),Pe.drawVAO=Pe.scopeVAO=M.vao,!Pe.drawVAO&&q.program&&!$&&D.angle_instanced_arrays&&M.static.elements){var nt=!0,Ke=q.program.attributes.map(function(he){var se=T.static[he];return nt=nt&&!!se,se});if(nt&&Ke.length>0){var Ve=we.getVAO(we.createVAO({attributes:Ke,elements:M.static.elements}));Pe.drawVAO=new wn(null,null,null,function(he,se){return he.link(Ve)}),Pe.useVAO=!0}}return $?Pe.useVAO=!0:Pe.attributes=gn(T,j),Pe.context=jt(V),Pe}function vn(L,T,F){var V=L.shared,j=V.context,B=L.scope();Object.keys(F).forEach(function(k){T.save(j,"."+k);var $=F[k],O=$.append(L,T);Array.isArray(O)?B(j,".",k,"=[",O.join(),"];"):B(j,".",k,"=",O,";")}),T(B)}function bn(L,T,F,V){var j=L.shared,B=j.gl,k=j.framebuffer,$;$e&&($=T.def(j.extensions,".webgl_draw_buffers"));var O=L.constants,x=O.drawBuffer,M=O.backBuffer,Y;F?Y=F.append(L,T):Y=T.def(k,".next"),V||T("if(",Y,"!==",k,".cur){"),T("if(",Y,"){",B,".bindFramebuffer(",U1,",",Y,".framebuffer);"),$e&&T($,".drawBuffersWEBGL(",x,"[",Y,".colorAttachments.length]);"),T("}else{",B,".bindFramebuffer(",U1,",null);"),$e&&T($,".drawBuffersWEBGL(",M,");"),T("}",k,".cur=",Y,";"),V||T("}")}function Rn(L,T,F){var V=L.shared,j=V.gl,B=L.current,k=L.next,$=V.current,O=V.next,x=L.cond($,".dirty");Qe.forEach(function(M){var Y=ze(M);if(!(Y in F.state)){var q,ie;if(Y in k){q=k[Y],ie=B[Y];var de=qn(Ge[Y].length,function(nt){return x.def(q,"[",nt,"]")});x(L.cond(de.map(function(nt,Ke){return nt+"!=="+ie+"["+Ke+"]"}).join("||")).then(j,".",ae[Y],"(",de,");",de.map(function(nt,Ke){return ie+"["+Ke+"]="+nt}).join(";"),";"))}else{q=x.def(O,".",Y);var Pe=L.cond(q,"!==",$,".",Y);x(Pe),Y in ue?Pe(L.cond(q).then(j,".enable(",ue[Y],");").else(j,".disable(",ue[Y],");"),$,".",Y,"=",q,";"):Pe(j,".",ae[Y],"(",q,");",$,".",Y,"=",q,";")}}}),Object.keys(F.state).length===0&&x($,".dirty=false;"),T(x)}function kn(L,T,F,V){var j=L.shared,B=L.current,k=j.current,$=j.gl;j1(Object.keys(F)).forEach(function(O){var x=F[O];if(!(V&&!V(x))){var M=x.append(L,T);if(ue[O]){var Y=ue[O];rs(x)?M?T($,".enable(",Y,");"):T($,".disable(",Y,");"):T(L.cond(M).then($,".enable(",Y,");").else($,".disable(",Y,");")),T(k,".",O,"=",M,";")}else if(Zt(M)){var q=B[O];T($,".",ae[O],"(",M,");",M.map(function(ie,de){return q+"["+de+"]="+ie}).join(";"),";")}else T($,".",ae[O],"(",M,");",k,".",O,"=",M,";")}})}function sn(L,T){Ae&&(L.instancing=T.def(L.shared.extensions,".angle_instanced_arrays"))}function ct(L,T,F,V,j){var B=L.shared,k=L.stats,$=B.current,O=B.timer,x=F.profile;function M(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Y,q;function ie(he){Y=T.def(),he(Y,"=",M(),";"),typeof j=="string"?he(k,".count+=",j,";"):he(k,".count++;"),be&&(V?(q=T.def(),he(q,"=",O,".getNumPendingQueries();")):he(O,".beginQuery(",k,");"))}function de(he){he(k,".cpuTime+=",M(),"-",Y,";"),be&&(V?he(O,".pushScopeStats(",q,",",O,".getNumPendingQueries(),",k,");"):he(O,".endQuery();"))}function Pe(he){var se=T.def($,".profile");T($,".profile=",he,";"),T.exit($,".profile=",se,";")}var nt;if(x){if(rs(x)){x.enable?(ie(T),de(T.exit),Pe("true")):Pe("false");return}nt=x.append(L,T),Pe(nt)}else nt=T.def($,".profile");var Ke=L.block();ie(Ke),T("if(",nt,"){",Ke,"}");var Ve=L.block();de(Ve),T.exit("if(",nt,"){",Ve,"}")}function Gn(L,T,F,V,j){var B=L.shared;function k(O){switch(O){case Aa:case wa:case Pa:return 2;case Sa:case Ta:case La:return 3;case Ea:case Ca:case Oa:return 4;default:return 1}}function $(O,x,M){var Y=B.gl,q=T.def(O,".location"),ie=T.def(B.attributes,"[",q,"]"),de=M.state,Pe=M.buffer,nt=[M.x,M.y,M.z,M.w],Ke=["buffer","normalized","offset","stride"];function Ve(){T("if(!",ie,".buffer){",Y,".enableVertexAttribArray(",q,");}");var se=M.type,Ye;if(M.size?Ye=T.def(M.size,"||",x):Ye=x,T("if(",ie,".type!==",se,"||",ie,".size!==",Ye,"||",Ke.map(function(tt){return ie+"."+tt+"!=="+M[tt]}).join("||"),"){",Y,".bindBuffer(",pi,",",Pe,".buffer);",Y,".vertexAttribPointer(",[q,Ye,se,M.normalized,M.stride,M.offset],");",ie,".type=",se,";",ie,".size=",Ye,";",Ke.map(function(tt){return ie+"."+tt+"="+M[tt]+";"}).join(""),"}"),Ae){var je=M.divisor;T("if(",ie,".divisor!==",je,"){",L.instancing,".vertexAttribDivisorANGLE(",[q,je],");",ie,".divisor=",je,";}")}}function he(){T("if(",ie,".buffer){",Y,".disableVertexAttribArray(",q,");",ie,".buffer=null;","}if(",ui.map(function(se,Ye){return ie+"."+se+"!=="+nt[Ye]}).join("||"),"){",Y,".vertexAttrib4f(",q,",",nt,");",ui.map(function(se,Ye){return ie+"."+se+"="+nt[Ye]+";"}).join(""),"}")}de===di?Ve():de===Gc?he():(T("if(",de,"===",di,"){"),Ve(),T("}else{"),he(),T("}"))}V.forEach(function(O){var x=O.name,M=F.attributes[x],Y;if(M){if(!j(M))return;Y=M.append(L,T)}else{if(!j(q1))return;var q=L.scopeAttrib(x);P.optional(function(){L.assert(T,q+".state","missing attribute "+x)}),Y={},Object.keys(new z).forEach(function(ie){Y[ie]=T.def(q,".",ie)})}$(L.link(O),k(O.info.type),Y)})}function It(L,T,F,V,j,B){for(var k=L.shared,$=k.gl,O={},x,M=0;M<V.length;++M){var Y=V[M],q=Y.name,ie=Y.info.type,de=Y.info.size,Pe=F.uniforms[q];if(de>1){if(!Pe)continue;var nt=q.replace("[0]","");if(O[nt])continue;O[nt]=1}var Ke=L.link(Y),Ve=Ke+".location",he;if(Pe){if(!j(Pe))continue;if(rs(Pe)){var se=Pe.value;if(P.command(se!==null&&typeof se<"u",'missing uniform "'+q+'"',L.commandStr),ie===co||ie===fo){P.command(typeof se=="function"&&(ie===co&&(se._reglType==="texture2d"||se._reglType==="framebuffer")||ie===fo&&(se._reglType==="textureCube"||se._reglType==="framebufferCube")),"invalid texture for uniform "+q,L.commandStr);var Ye=L.link(se._texture||se.color[0]._texture);T($,".uniform1i(",Ve,",",Ye+".bind());"),T.exit(Ye,".unbind();")}else if(ie===oo||ie===ao||ie===lo){P.optional(function(){P.command(Zt(se),"invalid matrix for uniform "+q,L.commandStr),P.command(ie===oo&&se.length===4||ie===ao&&se.length===9||ie===lo&&se.length===16,"invalid length for matrix uniform "+q,L.commandStr)});var je=L.global.def("new Float32Array(["+Array.prototype.slice.call(se)+"])"),tt=2;ie===ao?tt=3:ie===lo&&(tt=4),T($,".uniformMatrix",tt,"fv(",Ve,",false,",je,");")}else{switch(ie){case ef:de===1?P.commandType(se,"number","uniform "+q,L.commandStr):P.command(Zt(se)&&se.length===de,"uniform "+q,L.commandStr),x="1f";break;case Aa:P.command(Zt(se)&&se.length&&se.length%2===0&&se.length<=de*2,"uniform "+q,L.commandStr),x="2f";break;case Sa:P.command(Zt(se)&&se.length&&se.length%3===0&&se.length<=de*3,"uniform "+q,L.commandStr),x="3f";break;case Ea:P.command(Zt(se)&&se.length&&se.length%4===0&&se.length<=de*4,"uniform "+q,L.commandStr),x="4f";break;case nf:de===1?P.commandType(se,"boolean","uniform "+q,L.commandStr):P.command(Zt(se)&&se.length===de,"uniform "+q,L.commandStr),x="1i";break;case tf:de===1?P.commandType(se,"number","uniform "+q,L.commandStr):P.command(Zt(se)&&se.length===de,"uniform "+q,L.commandStr),x="1i";break;case Pa:P.command(Zt(se)&&se.length&&se.length%2===0&&se.length<=de*2,"uniform "+q,L.commandStr),x="2i";break;case wa:P.command(Zt(se)&&se.length&&se.length%2===0&&se.length<=de*2,"uniform "+q,L.commandStr),x="2i";break;case La:P.command(Zt(se)&&se.length&&se.length%3===0&&se.length<=de*3,"uniform "+q,L.commandStr),x="3i";break;case Ta:P.command(Zt(se)&&se.length&&se.length%3===0&&se.length<=de*3,"uniform "+q,L.commandStr),x="3i";break;case Oa:P.command(Zt(se)&&se.length&&se.length%4===0&&se.length<=de*4,"uniform "+q,L.commandStr),x="4i";break;case Ca:P.command(Zt(se)&&se.length&&se.length%4===0&&se.length<=de*4,"uniform "+q,L.commandStr),x="4i";break}de>1?(x+="v",se=L.global.def("["+Array.prototype.slice.call(se)+"]")):se=Zt(se)?Array.prototype.slice.call(se):se,T($,".uniform",x,"(",Ve,",",se,");")}continue}else he=Pe.append(L,T)}else{if(!j(q1))continue;he=T.def(k.uniforms,"[",C.id(q),"]")}ie===co?(P(!Array.isArray(he),"must specify a scalar prop for textures"),T("if(",he,"&&",he,'._reglType==="framebuffer"){',he,"=",he,".color[0];","}")):ie===fo&&(P(!Array.isArray(he),"must specify a scalar prop for cube maps"),T("if(",he,"&&",he,'._reglType==="framebufferCube"){',he,"=",he,".color[0];","}")),P.optional(function(){function or(Jn,Ma){L.assert(T,Jn,'bad data or missing for uniform "'+q+'".  '+Ma)}function Ds(Jn,Ma){Ma===1&&P(!Array.isArray(he),"must not specify an array type for uniform"),or("Array.isArray("+he+") && typeof "+he+'[0]===" '+Jn+'" || typeof '+he+'==="'+Jn+'"',"invalid type, expected "+Jn)}function dr(Jn,Ma,Ia){Array.isArray(he)?P(he.length&&he.length%Jn===0&&he.length<=Jn*Ia,"must have length of "+(Ia===1?"":"n * ")+Jn):or(k.isArrayLike+"("+he+")&&"+he+".length && "+he+".length % "+Jn+" === 0 && "+he+".length<="+Jn*Ia,"invalid vector, should have length of "+(Ia===1?"":"n * ")+Jn,L.commandStr)}function J1(Jn){P(!Array.isArray(he),"must not specify a value type"),or("typeof "+he+'==="function"&&'+he+'._reglType==="texture'+(Jn===G1?"2d":"Cube")+'"',"invalid texture type",L.commandStr)}switch(ie){case tf:Ds("number",de);break;case wa:dr(2,"number",de);break;case Ta:dr(3,"number",de);break;case Ca:dr(4,"number",de);break;case ef:Ds("number",de);break;case Aa:dr(2,"number",de);break;case Sa:dr(3,"number",de);break;case Ea:dr(4,"number",de);break;case nf:Ds("boolean",de);break;case Pa:dr(2,"boolean",de);break;case La:dr(3,"boolean",de);break;case Oa:dr(4,"boolean",de);break;case oo:dr(4,"number",de);break;case ao:dr(9,"number",de);break;case lo:dr(16,"number",de);break;case co:J1(G1);break;case fo:J1(Y_);break}});var Ft=1;switch(ie){case co:case fo:var Bn=T.def(he,"._texture");T($,".uniform1i(",Ve,",",Bn,".bind());"),T.exit(Bn,".unbind();");continue;case tf:case nf:x="1i";break;case wa:case Pa:x="2i",Ft=2;break;case Ta:case La:x="3i",Ft=3;break;case Ca:case Oa:x="4i",Ft=4;break;case ef:x="1f";break;case Aa:x="2f",Ft=2;break;case Sa:x="3f",Ft=3;break;case Ea:x="4f",Ft=4;break;case oo:x="Matrix2fv";break;case ao:x="Matrix3fv";break;case lo:x="Matrix4fv";break}if(x.indexOf("Matrix")===-1&&de>1&&(x+="v",Ft=1),x.charAt(0)==="M"){T($,".uniform",x,"(",Ve,",");var Is=Math.pow(ie-oo+2,2),Nr=L.global.def("new Float32Array(",Is,")");Array.isArray(he)?T("false,(",qn(Is,function(or){return Nr+"["+or+"]="+he[or]}),",",Nr,")"):T("false,(Array.isArray(",he,")||",he," instanceof Float32Array)?",he,":(",qn(Is,function(or){return Nr+"["+or+"]="+he+"["+or+"]"}),",",Nr,")"),T(");")}else if(Ft>1){for(var Pr=[],ss=[],xs=0;xs<Ft;++xs)Array.isArray(he)?ss.push(he[xs]):ss.push(T.def(he+"["+xs+"]")),B&&Pr.push(T.def());B&&T("if(!",L.batchId,"||",Pr.map(function(or,Ds){return or+"!=="+ss[Ds]}).join("||"),"){",Pr.map(function(or,Ds){return or+"="+ss[Ds]+";"}).join("")),T($,".uniform",x,"(",Ve,",",ss.join(","),");"),B&&T("}")}else{if(P(!Array.isArray(he),"uniform value must not be an array"),B){var Q1=T.def();T("if(!",L.batchId,"||",Q1,"!==",he,"){",Q1,"=",he,";")}T($,".uniform",x,"(",Ve,",",he,");"),B&&T("}")}}}function Je(L,T,F,V){var j=L.shared,B=j.gl,k=j.draw,$=V.draw;function O(){var Ye=$.elements,je,tt=T;return Ye?((Ye.contextDep&&V.contextDynamic||Ye.propDep)&&(tt=F),je=Ye.append(L,tt),$.elementsActive&&tt("if("+je+")"+B+".bindBuffer("+Jc+","+je+".buffer.buffer);")):(je=tt.def(),tt(je,"=",k,".",Ps,";","if(",je,"){",B,".bindBuffer(",Jc,",",je,".buffer.buffer);}","else if(",j.vao,".currentVAO){",je,"=",L.shared.elements+".getElements("+j.vao,".currentVAO.elements);",me?"":"if("+je+")"+B+".bindBuffer("+Jc+","+je+".buffer.buffer);","}")),je}function x(){var Ye=$.count,je,tt=T;return Ye?((Ye.contextDep&&V.contextDynamic||Ye.propDep)&&(tt=F),je=Ye.append(L,tt),P.optional(function(){Ye.MISSING&&L.assert(T,"false","missing vertex count"),Ye.DYNAMIC&&L.assert(tt,je+">=0","missing vertex count")})):(je=tt.def(k,".",Os),P.optional(function(){L.assert(tt,je+">=0","missing vertex count")})),je}var M=O();function Y(Ye){var je=$[Ye];return je?je.contextDep&&V.contextDynamic||je.propDep?je.append(L,F):je.append(L,T):T.def(k,".",Ye)}var q=Y(Ls),ie=Y(_a),de=x();if(typeof de=="number"){if(de===0)return}else F("if(",de,"){"),F.exit("}");var Pe,nt;Ae&&(Pe=Y(ya),nt=L.instancing);var Ke=M+".type",Ve=$.elements&&rs($.elements)&&!$.vaoActive;function he(){function Ye(){F(nt,".drawElementsInstancedANGLE(",[q,de,Ke,ie+"<<(("+Ke+"-"+g1+")>>1)",Pe],");")}function je(){F(nt,".drawArraysInstancedANGLE(",[q,ie,de,Pe],");")}M&&M!=="null"?Ve?Ye():(F("if(",M,"){"),Ye(),F("}else{"),je(),F("}")):je()}function se(){function Ye(){F(B+".drawElements("+[q,de,Ke,ie+"<<(("+Ke+"-"+g1+")>>1)"]+");")}function je(){F(B+".drawArrays("+[q,ie,de]+");")}M&&M!=="null"?Ve?Ye():(F("if(",M,"){"),Ye(),F("}else{"),je(),F("}")):je()}Ae&&(typeof Pe!="number"||Pe>=0)?typeof Pe=="string"?(F("if(",Pe,">0){"),he(),F("}else if(",Pe,"<0){"),se(),F("}")):he():se()}function _t(L,T,F,V,j){var B=it(),k=B.proc("body",j);return P.optional(function(){B.commandStr=T.commandStr,B.command=B.link(T.commandStr)}),Ae&&(B.instancing=k.def(B.shared.extensions,".angle_instanced_arrays")),L(B,k,F,V),B.compile().body}function wt(L,T,F,V){sn(L,T),F.useVAO?F.drawVAO?T(L.shared.vao,".setVAO(",F.drawVAO.append(L,T),");"):T(L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"):(T(L.shared.vao,".setVAO(null);"),Gn(L,T,F,V.attributes,function(){return!0})),It(L,T,F,V.uniforms,function(){return!0},!1),Je(L,T,T,F)}function on(L,T){var F=L.proc("draw",1);sn(L,F),vn(L,F,T.context),bn(L,F,T.framebuffer),Rn(L,F,T),kn(L,F,T.state),ct(L,F,T,!1,!0);var V=T.shader.progVar.append(L,F);if(F(L.shared.gl,".useProgram(",V,".program);"),T.shader.program)wt(L,F,T,T.shader.program);else{F(L.shared.vao,".setVAO(null);");var j=L.global.def("{}"),B=F.def(V,".id"),k=F.def(j,"[",B,"]");F(L.cond(k).then(k,".call(this,a0);").else(k,"=",j,"[",B,"]=",L.link(function($){return _t(wt,L,T,$,1)}),"(",V,");",k,".call(this,a0);"))}Object.keys(T.state).length>0&&F(L.shared.current,".dirty=true;"),L.shared.vao&&F(L.shared.vao,".setVAO(null);")}function Cr(L,T,F,V){L.batchId="a1",sn(L,T);function j(){return!0}Gn(L,T,F,V.attributes,j),It(L,T,F,V.uniforms,j,!1),Je(L,T,T,F)}function Ms(L,T,F,V){sn(L,T);var j=F.contextDep,B=T.def(),k="a0",$="a1",O=T.def();L.shared.props=O,L.batchId=B;var x=L.scope(),M=L.scope();T(x.entry,"for(",B,"=0;",B,"<",$,";++",B,"){",O,"=",k,"[",B,"];",M,"}",x.exit);function Y(Ke){return Ke.contextDep&&j||Ke.propDep}function q(Ke){return!Y(Ke)}if(F.needsContext&&vn(L,M,F.context),F.needsFramebuffer&&bn(L,M,F.framebuffer),kn(L,M,F.state,Y),F.profile&&Y(F.profile)&&ct(L,M,F,!1,!0),V)F.useVAO?F.drawVAO?Y(F.drawVAO)?M(L.shared.vao,".setVAO(",F.drawVAO.append(L,M),");"):x(L.shared.vao,".setVAO(",F.drawVAO.append(L,x),");"):x(L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"):(x(L.shared.vao,".setVAO(null);"),Gn(L,x,F,V.attributes,q),Gn(L,M,F,V.attributes,Y)),It(L,x,F,V.uniforms,q,!1),It(L,M,F,V.uniforms,Y,!0),Je(L,x,M,F);else{var ie=L.global.def("{}"),de=F.shader.progVar.append(L,M),Pe=M.def(de,".id"),nt=M.def(ie,"[",Pe,"]");M(L.shared.gl,".useProgram(",de,".program);","if(!",nt,"){",nt,"=",ie,"[",Pe,"]=",L.link(function(Ke){return _t(Cr,L,F,Ke,2)}),"(",de,");}",nt,".call(this,a0[",B,"],",B,");")}}function I(L,T){var F=L.proc("batch",2);L.batchId="0",sn(L,F);var V=!1,j=!0;Object.keys(T.context).forEach(function(ie){V=V||T.context[ie].propDep}),V||(vn(L,F,T.context),j=!1);var B=T.framebuffer,k=!1;B?(B.propDep?V=k=!0:B.contextDep&&V&&(k=!0),k||bn(L,F,B)):bn(L,F,null),T.state.viewport&&T.state.viewport.propDep&&(V=!0);function $(ie){return ie.contextDep&&V||ie.propDep}Rn(L,F,T),kn(L,F,T.state,function(ie){return!$(ie)}),(!T.profile||!$(T.profile))&&ct(L,F,T,!1,"a1"),T.contextDep=V,T.needsContext=j,T.needsFramebuffer=k;var O=T.shader.progVar;if(O.contextDep&&V||O.propDep)Ms(L,F,T,null);else{var x=O.append(L,F);if(F(L.shared.gl,".useProgram(",x,".program);"),T.shader.program)Ms(L,F,T,T.shader.program);else{F(L.shared.vao,".setVAO(null);");var M=L.global.def("{}"),Y=F.def(x,".id"),q=F.def(M,"[",Y,"]");F(L.cond(q).then(q,".call(this,a0,a1);").else(q,"=",M,"[",Y,"]=",L.link(function(ie){return _t(Ms,L,T,ie,2)}),"(",x,");",q,".call(this,a0,a1);"))}}Object.keys(T.state).length>0&&F(L.shared.current,".dirty=true;"),L.shared.vao&&F(L.shared.vao,".setVAO(null);")}function ee(L,T){var F=L.proc("scope",3);L.batchId="a2";var V=L.shared,j=V.current;vn(L,F,T.context),T.framebuffer&&T.framebuffer.append(L,F),j1(Object.keys(T.state)).forEach(function(k){var $=T.state[k],O=$.append(L,F);Zt(O)?O.forEach(function(x,M){F.set(L.next[k],"["+M+"]",x)}):F.set(V.next,"."+k,O)}),ct(L,F,T,!0,!0),[Ps,_a,Os,ya,Ls].forEach(function(k){var $=T.draw[k];$&&F.set(V.draw,"."+k,""+$.append(L,F))}),Object.keys(T.uniforms).forEach(function(k){var $=T.uniforms[k].append(L,F);Array.isArray($)&&($="["+$.join()+"]"),F.set(V.uniforms,"["+C.id(k)+"]",$)}),Object.keys(T.attributes).forEach(function(k){var $=T.attributes[k].append(L,F),O=L.scopeAttrib(k);Object.keys(new z).forEach(function(x){F.set(O,"."+x,$[x])})}),T.scopeVAO&&F.set(V.vao,".targetVAO",T.scopeVAO.append(L,F));function B(k){var $=T.shader[k];$&&F.set(V.shader,"."+k,$.append(L,F))}B(ro),B(so),Object.keys(T.state).length>0&&(F(j,".dirty=true;"),F.exit(j,".dirty=true;")),F("a1(",L.shared.context,",a0,",L.batchId,");")}function Z(L){if(!(typeof L!="object"||Zt(L))){for(var T=Object.keys(L),F=0;F<T.length;++F)if(jn.isDynamic(L[T[F]]))return!0;return!1}}function Ue(L,T,F){var V=T.static[F];if(!V||!Z(V))return;var j=L.global,B=Object.keys(V),k=!1,$=!1,O=!1,x=L.global.def("{}");B.forEach(function(Y){var q=V[Y];if(jn.isDynamic(q)){typeof q=="function"&&(q=V[Y]=jn.unbox(q));var ie=Qn(q,null);k=k||ie.thisDep,O=O||ie.propDep,$=$||ie.contextDep}else{switch(j(x,".",Y,"="),typeof q){case"number":j(q);break;case"string":j('"',q,'"');break;case"object":Array.isArray(q)&&j("[",q.join(),"]");break;default:j(L.link(q));break}j(";")}});function M(Y,q){B.forEach(function(ie){var de=V[ie];if(jn.isDynamic(de)){var Pe=Y.invoke(q,de);q(x,".",ie,"=",Pe,";")}})}T.dynamic[F]=new jn.DynamicVariable(va,{thisDep:k,contextDep:$,propDep:O,ref:x,append:M}),delete T.static[F]}function gt(L,T,F,V,j){var B=it();B.stats=B.link(j),Object.keys(T.static).forEach(function($){Ue(B,T,$)}),q_.forEach(function($){Ue(B,L,$)});var k=pn(L,T,F,V,B);return on(B,k),ee(B,k),I(B,k),r(B.compile(),{destroy:function(){k.shader.program.destroy()}})}return{next:xe,current:Ge,procs:function(){var L=it(),T=L.proc("poll"),F=L.proc("refresh"),V=L.block();T(V),F(V);var j=L.shared,B=j.gl,k=j.next,$=j.current;V($,".dirty=false;"),bn(L,T),bn(L,F,null,!0);var O;Ae&&(O=L.link(Ae)),D.oes_vertex_array_object&&F(L.link(D.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var x=0;x<Q.maxAttributes;++x){var M=F.def(j.attributes,"[",x,"]"),Y=L.cond(M,".buffer");Y.then(B,".enableVertexAttribArray(",x,");",B,".bindBuffer(",pi,",",M,".buffer.buffer);",B,".vertexAttribPointer(",x,",",M,".size,",M,".type,",M,".normalized,",M,".stride,",M,".offset);").else(B,".disableVertexAttribArray(",x,");",B,".vertexAttrib4f(",x,",",M,".x,",M,".y,",M,".z,",M,".w);",M,".buffer=null;"),F(Y),Ae&&F(O,".vertexAttribDivisorANGLE(",x,",",M,".divisor);")}return F(L.shared.vao,".currentVAO=null;",L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"),Object.keys(ue).forEach(function(q){var ie=ue[q],de=V.def(k,".",q),Pe=L.block();Pe("if(",de,"){",B,".enable(",ie,")}else{",B,".disable(",ie,")}",$,".",q,"=",de,";"),F(Pe),T("if(",de,"!==",$,".",q,"){",Pe,"}")}),Object.keys(ae).forEach(function(q){var ie=ae[q],de=Ge[q],Pe,nt,Ke=L.block();if(Ke(B,".",ie,"("),Zt(de)){var Ve=de.length;Pe=L.global.def(k,".",q),nt=L.global.def($,".",q),Ke(qn(Ve,function(he){return Pe+"["+he+"]"}),");",qn(Ve,function(he){return nt+"["+he+"]="+Pe+"["+he+"];"}).join("")),T("if(",qn(Ve,function(he){return Pe+"["+he+"]!=="+nt+"["+he+"]"}).join("||"),"){",Ke,"}")}else Pe=V.def(k,".",q),nt=V.def($,".",q),Ke(Pe,");",$,".",q,"=",Pe,";"),T("if(",Pe,"!==",nt,"){",Ke,"}");F(Ke)}),L.compile()}(),compile:gt}}function uy(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var dy=34918,hy=34919,X1=35007,my=function(_,C){if(!C.ext_disjoint_timer_query)return null;var D=[];function Q(){return D.pop()||C.ext_disjoint_timer_query.createQueryEXT()}function le(Ae){D.push(Ae)}var K=[];function re(Ae){var $e=Q();C.ext_disjoint_timer_query.beginQueryEXT(X1,$e),K.push($e),be(K.length-1,K.length,Ae)}function ve(){C.ext_disjoint_timer_query.endQueryEXT(X1)}function ge(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var we=[];function Ce(){return we.pop()||new ge}function Te(Ae){we.push(Ae)}var Le=[];function be(Ae,$e,me){var Ge=Ce();Ge.startQueryIndex=Ae,Ge.endQueryIndex=$e,Ge.sum=0,Ge.stats=me,Le.push(Ge)}var Se=[],z=[];function ne(){var Ae,$e,me=K.length;if(me!==0){z.length=Math.max(z.length,me+1),Se.length=Math.max(Se.length,me+1),Se[0]=0,z[0]=0;var Ge=0;for(Ae=0,$e=0;$e<K.length;++$e){var xe=K[$e];C.ext_disjoint_timer_query.getQueryObjectEXT(xe,hy)?(Ge+=C.ext_disjoint_timer_query.getQueryObjectEXT(xe,dy),le(xe)):K[Ae++]=xe,Se[$e+1]=Ge,z[$e+1]=Ae}for(K.length=Ae,Ae=0,$e=0;$e<Le.length;++$e){var Qe=Le[$e],ue=Qe.startQueryIndex,ae=Qe.endQueryIndex;Qe.sum+=Se[ae]-Se[ue];var ze=z[ue],Oe=z[ae];Oe===ze?(Qe.stats.gpuTime+=Qe.sum/1e6,Te(Qe)):(Qe.startQueryIndex=ze,Qe.endQueryIndex=Oe,Le[Ae++]=Qe)}Le.length=Ae}}return{beginQuery:re,endQuery:ve,pushScopeStats:be,update:ne,getNumPendingQueries:function(){return K.length},clear:function(){D.push.apply(D,K);for(var Ae=0;Ae<D.length;Ae++)C.ext_disjoint_timer_query.deleteQueryEXT(D[Ae]);K.length=0,D.length=0},restore:function(){K.length=0,D.length=0}}},py=16384,gy=256,vy=1024,by=34962,W1="webglcontextlost",Y1="webglcontextrestored",Z1=1,_y=2,yy=3;function K1(_,C){for(var D=0;D<_.length;++D)if(_[D]===C)return D;return-1}function Ay(_){var C=Zl(_);if(!C)return null;var D=C.gl,Q=D.getContextAttributes(),le=D.isContextLost(),K=Kl(D,C);if(!K)return null;var re=jl(),ve=uy(),ge=K.extensions,we=my(D,ge),Ce=Yo(),Te=D.drawingBufferWidth,Le=D.drawingBufferHeight,be={tick:0,time:0,viewportWidth:Te,viewportHeight:Le,framebufferWidth:Te,framebufferHeight:Le,drawingBufferWidth:Te,drawingBufferHeight:Le,pixelRatio:C.pixelRatio},Se={},z={elements:null,primitive:4,count:-1,offset:0,instances:-1},ne=ab(D,ge),Ae=Eb(D,ve,C,Ge),$e=Fb(D,ge,Ae,ve),me=F_(D,ge,ne,ve,Ae,$e,z);function Ge(Je){return me.destroyBuffer(Je)}var xe=N_(D,re,ve,C),Qe=d_(D,ge,ne,function(){ze.procs.poll()},be,ve,C),ue=h_(D,ge,ne,ve,C),ae=x_(D,ge,ne,Qe,ue,ve),ze=fy(D,re,ge,ne,Ae,$e,Qe,ae,Se,me,xe,z,be,we,C),Oe=U_(D,ae,ze.procs.poll,be,Q,ge,ne),ye=ze.next,Re=D.canvas,Me=[],at=[],it=[],De=[C.onDestroy],Be=null;function et(){if(Me.length===0){we&&we.update(),Be=null;return}Be=qi.next(et),kn();for(var Je=Me.length-1;Je>=0;--Je){var _t=Me[Je];_t&&_t(be,null,0)}D.flush(),we&&we.update()}function lt(){!Be&&Me.length>0&&(Be=qi.next(et))}function bt(){Be&&(qi.cancel(et),Be=null)}function Kt(Je){Je.preventDefault(),le=!0,bt(),at.forEach(function(_t){_t()})}function Jt(Je){D.getError(),le=!1,K.restore(),xe.restore(),Ae.restore(),Qe.restore(),ue.restore(),ae.restore(),me.restore(),we&&we.restore(),ze.procs.refresh(),lt(),it.forEach(function(_t){_t()})}Re&&(Re.addEventListener(W1,Kt,!1),Re.addEventListener(Y1,Jt,!1));function At(){Me.length=0,bt(),Re&&(Re.removeEventListener(W1,Kt),Re.removeEventListener(Y1,Jt)),xe.clear(),ae.clear(),ue.clear(),me.clear(),Qe.clear(),$e.clear(),Ae.clear(),we&&we.clear(),De.forEach(function(Je){Je()})}function gn(Je){P(!!Je,"invalid args to regl({...})"),P.type(Je,"object","invalid args to regl({...})");function _t(j){var B=r({},j);delete B.uniforms,delete B.attributes,delete B.context,delete B.vao,"stencil"in B&&B.stencil.op&&(B.stencil.opBack=B.stencil.opFront=B.stencil.op,delete B.stencil.op);function k($){if($ in B){var O=B[$];delete B[$],Object.keys(O).forEach(function(x){B[$+"."+x]=O[x]})}}return k("blend"),k("depth"),k("cull"),k("stencil"),k("polygonOffset"),k("scissor"),k("sample"),"vao"in j&&(B.vao=j.vao),B}function wt(j,B){var k={},$={};return Object.keys(j).forEach(function(O){var x=j[O];if(jn.isDynamic(x)){$[O]=jn.unbox(x,O);return}else if(B&&Array.isArray(x)){for(var M=0;M<x.length;++M)if(jn.isDynamic(x[M])){$[O]=jn.unbox(x,O);return}}k[O]=x}),{dynamic:$,static:k}}var on=wt(Je.context||{},!0),Cr=wt(Je.uniforms||{},!0),Ms=wt(Je.attributes||{},!1),I=wt(_t(Je),!1),ee={gpuTime:0,cpuTime:0,count:0},Z=ze.compile(I,Ms,Cr,on,ee),Ue=Z.draw,gt=Z.batch,L=Z.scope,T=[];function F(j){for(;T.length<j;)T.push(null);return T}function V(j,B){var k;if(le&&P.raise("context lost"),typeof j=="function")return L.call(this,null,j,0);if(typeof B=="function")if(typeof j=="number")for(k=0;k<j;++k)L.call(this,null,B,k);else if(Array.isArray(j))for(k=0;k<j.length;++k)L.call(this,j[k],B,k);else return L.call(this,j,B,0);else if(typeof j=="number"){if(j>0)return gt.call(this,F(j|0),j|0)}else if(Array.isArray(j)){if(j.length)return gt.call(this,j,j.length)}else return Ue.call(this,j)}return r(V,{stats:ee,destroy:function(){Z.destroy()}})}var jt=ae.setFBO=gn({framebuffer:jn.define.call(null,Z1,"framebuffer")});function pn(Je,_t){var wt=0;ze.procs.poll();var on=_t.color;on&&(D.clearColor(+on[0]||0,+on[1]||0,+on[2]||0,+on[3]||0),wt|=py),"depth"in _t&&(D.clearDepth(+_t.depth),wt|=gy),"stencil"in _t&&(D.clearStencil(_t.stencil|0),wt|=vy),P(!!wt,"called regl.clear with no buffer specified"),D.clear(wt)}function vn(Je){if(P(typeof Je=="object"&&Je,"regl.clear() takes an object as input"),"framebuffer"in Je)if(Je.framebuffer&&Je.framebuffer_reglType==="framebufferCube")for(var _t=0;_t<6;++_t)jt(r({framebuffer:Je.framebuffer.faces[_t]},Je),pn);else jt(Je,pn);else pn(null,Je)}function bn(Je){P.type(Je,"function","regl.frame() callback must be a function"),Me.push(Je);function _t(){var wt=K1(Me,Je);P(wt>=0,"cannot cancel a frame twice");function on(){var Cr=K1(Me,on);Me[Cr]=Me[Me.length-1],Me.length-=1,Me.length<=0&&bt()}Me[wt]=on}return lt(),{cancel:_t}}function Rn(){var Je=ye.viewport,_t=ye.scissor_box;Je[0]=Je[1]=_t[0]=_t[1]=0,be.viewportWidth=be.framebufferWidth=be.drawingBufferWidth=Je[2]=_t[2]=D.drawingBufferWidth,be.viewportHeight=be.framebufferHeight=be.drawingBufferHeight=Je[3]=_t[3]=D.drawingBufferHeight}function kn(){be.tick+=1,be.time=ct(),Rn(),ze.procs.poll()}function sn(){Qe.refresh(),Rn(),ze.procs.refresh(),we&&we.update()}function ct(){return(Yo()-Ce)/1e3}sn();function Gn(Je,_t){P.type(_t,"function","listener callback must be a function");var wt;switch(Je){case"frame":return bn(_t);case"lost":wt=at;break;case"restore":wt=it;break;case"destroy":wt=De;break;default:P.raise("invalid event, must be one of frame,lost,restore,destroy")}return wt.push(_t),{cancel:function(){for(var on=0;on<wt.length;++on)if(wt[on]===_t){wt[on]=wt[wt.length-1],wt.pop();return}}}}var It=r(gn,{clear:vn,prop:jn.define.bind(null,Z1),context:jn.define.bind(null,_y),this:jn.define.bind(null,yy),draw:gn({}),buffer:function(Je){return Ae.create(Je,by,!1,!1)},elements:function(Je){return $e.create(Je,!1)},texture:Qe.create2D,cube:Qe.createCube,renderbuffer:ue.create,framebuffer:ae.create,framebufferCube:ae.createCube,vao:me.createVAO,attributes:Q,frame:bn,on:Gn,limits:ne,hasExtension:function(Je){return ne.extensions.indexOf(Je.toLowerCase())>=0},read:Oe,destroy:At,_gl:D,_refresh:sn,poll:function(){kn(),we&&we.update()},now:ct,stats:ve});return C.onDone(null,It),It}return Ay})}(cf)),cf.exports}const q5=H5,X5=gl,W5=e=>{const n=Object.assign({},{},e.glOptions,{onDone:(o,a)=>{if(o)throw o}}),r=j5()(n),s=new Map,i=o=>{o.rendering=Object.assign({},X5,o.rendering),q5(r)(o,a=>{r.clear({color:o.rendering.background,depth:1}),o.entities&&o.entities.sort((l,c)=>{const f="transparent"in l.visuals?l.visuals.transparent:!1,u="transparent"in c.visuals?c.visuals.transparent:!1;return f===u?0:f?1:-1}).forEach(l=>{const{visuals:c}=l;if(("show"in c?c.show:!0)&&c.drawCmd&&o.drawCommands[c.drawCmd]){let u;c.cacheId?u=s.get(c.cacheId):(c.cacheId=s.size,u=o.drawCommands[c.drawCmd](r,l),s.set(c.cacheId,u));const d={...l,...c,camera:o.camera};u(d)}})})};return function(a){r.poll(),i(a)}};var Y5=W5,ff,sh;function ih(){if(sh)return ff;sh=1;const e=pr;return ff=(n,r={})=>{const s=[],i={visuals:{color:[0,0,1,1],fadeOut:!1},ticks:1,size:[16,16],centered:!1,lineWidth:2},o=Object.assign({},i.visuals,r.visuals||{}),{fadeOut:a,color:l}=o,{size:c,ticks:f,centered:u,lineWidth:d}=Object.assign({},i,r),h=c[0],p=c[1];if(u){const g=h*.5,m=p*.5,v=g%f,b=-g+v,y=-b,A=m%f,E=-m+A,w=-E,S=0;for(let R=b,H=0;R<=y;R+=f,H+=1)H%S!==0&&(s.push(E,R,0),s.push(w,R,0),s.push(E,R,0));for(let R=E,H=0;R<=w;R+=f,H+=1)H%S!==0&&(s.push(R,b,0),s.push(R,y,0),s.push(R,b,0))}else{for(let g=-h*.5;g<=h*.5;g+=f)s.push(-p*.5,g,0),s.push(p*.5,g,0),s.push(-p*.5,g,0);for(let g=-p*.5;g<=p*.5;g+=f)s.push(g,-h*.5,0),s.push(g,h*.5,0),s.push(g,-h*.5,0)}return n({vert:`precision mediump float;

    uniform float camNear, camFar;
    uniform mat4 model, view, projection;

    attribute vec3 position;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    void main() {
      fragPosition = position;
      worldPosition = model * vec4(position, 1);
      vec4 glPosition = projection * view * worldPosition;
      gl_Position = glPosition;
    }`,frag:`precision mediump float;
    uniform vec4 color;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    uniform vec4 fogColor;
    uniform bool fadeOut;
    void main() {
      float dist = .5;
      if(fadeOut){
        dist = distance( vec2(0.,0.), vec2(worldPosition.x, worldPosition.y));
        dist *= 0.0025;
        dist = sqrt(dist);
      }

      gl_FragColor = mix(color, fogColor, dist);
    }
    `,attributes:{position:n.buffer(s)},count:s.length/3,uniforms:{model:(g,m)=>m&&m.model?m.model:e.identity([]),color:(g,m)=>m&&m.color?m.color:l,fogColor:(g,m)=>m&&m.color?[m.color[0],m.color[1],m.color[2],0]:[l[0],l[1],l[2],0],fadeOut:(g,m)=>m&&m.fadeOut!==void 0?m.fadeOut:a},lineWidth:(g,m)=>Math.min(m&&m.lineWidth?m.lineWidth:d,n.limits.lineWidthDims[1]),primitive:"lines",cull:{enable:!0,face:"front"},polygonOffset:{enable:!0,offset:{factor:1,units:Math.random()*10}},blend:{enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}})},ff}const Z5=(e,t)=>{const n={size:[50,50],ticks:[10,1]},{size:r,ticks:s}=Object.assign({},n,t),i=ih()(e,{size:r,ticks:s[0]}),o=ih()(e,{size:r,ticks:s[1]});return l=>{i(l),o({color:l.subColor,fadeOut:l.fadeOut})}};var K5=Z5;const Xn=pr,Q5=(e,t)=>{const n={xColor:[1,0,0,1],yColor:[0,1,0,1],zColor:[0,0,1,1],size:10,lineWidth:3,alwaysVisible:!0};let{size:r,xColor:s,yColor:i,zColor:o,lineWidth:a,alwaysVisible:l}=Object.assign({},n,t);a>e.limits.lineWidthDims[1]&&(a=e.limits.lineWidthDims[1]);const c=[0,0,0,r,0,0],f={frag:`precision mediump float;
    uniform vec4 color;
    void main() {
      gl_FragColor = color;
    }`,vert:`
    precision mediump float;
    attribute vec3 position;
    uniform mat4 model, view, projection;
    void main() {
      gl_Position = projection * view * model * vec4(position, 1);
    }`,uniforms:{model:(g,m)=>m&&m.model?m.model:Xn.identity([]),color:(g,m)=>m.color,angle:(g,m)=>m.angle},attributes:{position:c},count:c.length/3,primitive:"line loop",lineWidth:a,depth:{enable:!l}},u=Xn.identity([]),d=Xn.rotateZ(Xn.create(),Xn.identity([]),Math.PI/2),h=Xn.rotateY(Xn.create(),Xn.identity([]),-Math.PI/2),p=e(f);return g=>{const m={model:Xn.identity([])};return g=Object.assign({},m,g),p([{color:s,model:Xn.multiply(Xn.create(),g.model,u)},{color:i,model:Xn.multiply(Xn.create(),g.model,d)},{color:o,model:Xn.multiply(Xn.create(),g.model,h)}])}};var J5=Q5,uf,oh;function ah(){return oh||(oh=1,uf={frag:`
precision mediump float;
varying vec3 surfaceNormal, surfacePosition;

uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform float specularLightAmount;

uniform vec3 lightDirection;
uniform vec4 lightColor;
uniform vec3 opacity;
uniform float uMaterialShininess;

varying vec4 vColor;
uniform vec4 ucolor;
uniform float vColorToggler;

uniform vec2 printableArea;
vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);//vec4(0.15, 0.15, 0.15, 0.3);
varying vec4 _worldSpacePosition;
varying float ambientAo;

void main () {
  vec4 depth = gl_FragCoord;
  vec4 endColor = vColor * vColorToggler + ucolor * (1.0 - vColorToggler);

  vec3 ambient = ambientLightAmount * endColor.rgb ; //ambientAo * 

  float diffuseWeight = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(diffuseWeight , 0.0, 1.0 );

  //specular
  
  vec4 specularColor = vec4(lightColor);
  vec3 eyeDirection = normalize(surfacePosition.xyz);
  vec3 reflectionDirection = reflect(-lightDirection, -surfaceNormal);
  float specularLightWeight = pow(max(dot(reflectionDirection, eyeDirection), 0.0), uMaterialShininess);
  vec3 specular = specularColor.rgb * specularLightWeight * specularLightAmount;

  gl_FragColor = vec4((ambient + diffuse + specular), endColor.a);
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection, unormal;

attribute vec3 position, normal;
attribute vec4 color;

attribute float ao;
varying float ambientAo;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  surfacePosition = (unormal * vec4(position, 1.0)).xyz;
  surfaceNormal = normalize((unormal * vec4(normal, 1.0)).xyz); //vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;
  //gl_Position = projection * view * worldSpacePosition;

  vColor = color;

  //ambientAo = (1. - ao) * (0.5 * max(normal.x, 0.) + 0.5);

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
  //gl_Position = zBufferAdjust(glPosition, camNear, camFar);
}
`}),uf}var df,lh;function ch(){return lh||(lh=1,df={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;

void main() {
  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),df}const is=pr,{meshColor:eA}=gl,tA=(e,t={extras:{}})=>{const n={useVertexColors:!0,dynamicCulling:!0,geometry:void 0,color:eA,visuals:{}},{geometry:r,dynamicCulling:s,useVertexColors:i,color:o,visuals:a}=Object.assign({},n,t),l=e.buffer([]),c=!!(r.indices&&r.indices.length>0),f=!!(r.normals&&r.normals.length>0),u="transparent"in a?a.transparent:!1,d=!!(i&&r.colors&&r.colors.length>0),h=r.transforms||is.create(),p=is.determinant(h)<0,g=s&&p?"front":"back",m=d?ah().vert:ch().vert,v=d?ah().frag:ch().frag,b=is.invert(is.create(),h);let y={primitive:"triangles",vert:m,frag:v,uniforms:{model:(A,E)=>h,ucolor:(A,E)=>E&&E.color?E.color:o,vColorToggler:(A,E)=>E&&E.useVertexColors&&E.useVertexColors===!0?1:0,unormal:(A,E)=>{const w=is.invert(is.create(),E.camera.view);return is.multiply(w,b,w),is.transpose(w,w),w}},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions}),ao:l},cull:{enable:!0,face:g}};return u&&(y.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),r.cells?y.elements=r.cells:c?y.elements=e.elements({usage:"static",type:"uint16",data:r.indices}):r.triangles?y.elements=r.triangles:y.count=r.positions.length/3,f&&(y.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),d&&(y.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),y=Object.assign({},y,t.extras),e(y)};var nA=tA,hf,fh;function uh(){return fh||(fh=1,hf={frag:`
precision mediump float;
varying vec4 vColor;

void main () {
  gl_FragColor = vColor;
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;
attribute vec4 color;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  vColor = color;

  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`}),hf}var mf,dh;function rA(){return dh||(dh=1,mf={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;


varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;


void main() {


  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),mf}var pf,hh;function sA(){return hh||(hh=1,pf={frag:`
precision mediump float;
uniform vec4 ucolor;

void main () {
  gl_FragColor = ucolor;
}
`}),pf}const iA=pr,{meshColor:oA}=gl,aA=(e,t={})=>{const n={color:oA,geometry:void 0};let{geometry:r,color:s,transparent:i}=Object.assign({},n,t);"color"in r&&(s=r.color);const o=!!(r.indices&&r.indices.length>0),a=!!(r.normals&&r.normals.length>0),l=!!(r.colors&&r.colors.length>0),c=l?uh().vert:rA().vert,f=l?uh().frag:sA().frag,u={primitive:"lines",vert:c,frag:f,uniforms:{model:(d,h)=>h.model||r.transforms||iA.create(),ucolor:(d,h)=>h&&h.color?h.color:s},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions})}};return i&&(u.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),l&&(u.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),o&&(u.elements=e.elements({usage:"static",type:"uint16",data:r.indices})),a&&(u.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),e(u)};var lA=aA,mg=1e-6,pg=cA;function cA(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}var fA=uA;function uA(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}var gg=dA;function dA(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}var vg=hA;function hA(e,t){var n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}var bg=mA;function mA(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}var pA=vA,mh=gg,ph=vg,gA=bg;function vA(e,t){var n=mh(e[0],e[1],e[2]),r=mh(t[0],t[1],t[2]);ph(n,n),ph(r,r);var s=gA(n,r);return s>1?0:Math.acos(s)}var bA=_A;function _A(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}var yA=AA;function AA(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}var SA=EA,gf=mg;function EA(e,t){var n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2];return Math.abs(n-i)<=gf*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=gf*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-a)<=gf*Math.max(1,Math.abs(s),Math.abs(a))}var wA=TA;function TA(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var CA=PA;function PA(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var _g=LA;function LA(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}var OA=_g,yg=RA;function RA(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}var MA=yg,Ag=IA;function IA(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}var xA=Ag,DA=FA;function FA(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}var kA=GA;function GA(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}var BA=NA;function NA(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}var $A=VA;function VA(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}var UA=zA;function zA(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}var HA=jA;function jA(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}var qA=XA;function XA(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}var Sg=WA;function WA(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)}var YA=Sg,Eg=ZA;function ZA(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s}var KA=Eg,wg=QA;function QA(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}var JA=wg,Tg=e3;function e3(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}var t3=Tg,n3=r3;function r3(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}var s3=i3;function i3(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}var o3=a3;function a3(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e}var l3=c3;function c3(e,t,n,r){var s=t[0],i=t[1],o=t[2];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}var f3=u3;function u3(e,t){t=t||1;var n=Math.random()*2*Math.PI,r=Math.random()*2-1,s=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=r*t,e}var d3=h3;function h3(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e}var m3=p3;function p3(e,t,n){var r=t[0],s=t[1],i=t[2];return e[0]=r*n[0]+s*n[3]+i*n[6],e[1]=r*n[1]+s*n[4]+i*n[7],e[2]=r*n[2]+s*n[5]+i*n[8],e}var g3=v3;function v3(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2],c=n[3],f=c*r+a*i-l*s,u=c*s+l*r-o*i,d=c*i+o*s-a*r,h=-o*r-a*s-l*i;return e[0]=f*c+h*-o+u*-l-d*-a,e[1]=u*c+h*-a+d*-o-f*-l,e[2]=d*c+h*-l+f*-a-u*-o,e}var b3=_3;function _3(e,t,n,r){var s=n[1],i=n[2],o=t[1]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=t[0],e[1]=s+o*c-a*l,e[2]=i+o*l+a*c,e}var y3=A3;function A3(e,t,n,r){var s=n[0],i=n[2],o=t[0]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+a*l+o*c,e[1]=t[1],e[2]=i+a*c-o*l,e}var S3=E3;function E3(e,t,n,r){var s=n[0],i=n[1],o=t[0]-s,a=t[1]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+o*c-a*l,e[1]=i+o*l+a*c,e[2]=t[2],e}var w3=T3,os=pg();function T3(e,t,n,r,s,i){var o,a;for(t||(t=3),n||(n=0),r?a=Math.min(r*t+n,e.length):a=e.length,o=n;o<a;o+=t)os[0]=e[o],os[1]=e[o+1],os[2]=e[o+2],s(os,os,i),e[o]=os[0],e[o+1]=os[1],e[o+2]=os[2];return e}var Bo={EPSILON:mg,create:pg,clone:fA,angle:pA,fromValues:gg,copy:bA,set:yA,equals:SA,exactEquals:wA,add:CA,subtract:_g,sub:OA,multiply:yg,mul:MA,divide:Ag,div:xA,min:DA,max:kA,floor:BA,ceil:$A,round:UA,scale:HA,scaleAndAdd:qA,distance:Sg,dist:YA,squaredDistance:Eg,sqrDist:KA,length:wg,len:JA,squaredLength:Tg,sqrLen:t3,negate:n3,inverse:s3,normalize:vg,dot:bg,cross:o3,lerp:l3,random:f3,transformMat4:d3,transformMat3:m3,transformQuat:g3,rotateX:b3,rotateY:y3,rotateZ:S3,forEach:w3};const Ws=pr,vf=Bo,Cg={view:Ws.identity(new Float32Array(16)),projection:Ws.identity(new Float32Array(16)),matrix:Ws.identity(new Float32Array(16)),near:1,far:18e3,up:[0,0,1],eye:new Float32Array(3),position:[450,550,700],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],projectionType:"perspective"},Pg={},C3=Object.assign({},Cg,Pg),P3=(e,t,n)=>{const r=n.width/n.height,s=Ws.perspective(Ws.identity([]),t.fov,r,t.near,t.far),i=[0,0,n.width,n.height],o=e||{};return o.projection=s,o.aspect=r,o.viewport=i,o},L3=(e,t)=>{t||(t=e);const{position:n,target:r,up:s}=t,i=vf.subtract([],n,r),o=vf.add(vf.create(),r,i),a=Ws.lookAt(Ws.create(),o,r,s),l=e||{};return l.position=o,l.view=a,l};var Tu={cameraState:Cg,cameraProps:Pg,defaults:C3,setProjection:P3,update:L3};const il=pr,O3={view:il.identity(new Float32Array(16)),projection:il.identity(new Float32Array(16)),matrix:il.identity(new Float32Array(16)),near:1,far:1300,up:[0,0,1],eye:new Float32Array(3),position:[150,250,200],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],zoom:1,projectionType:"orthographic"},R3={},M3=(e,t)=>{const{width:n,height:r}=t,s=n/r,i=[0,0,n,r],o=e.zoom,a=-n*o,l=n*o,c=-r*o,f=r*o;return{projection:il.ortho([],a,l,c,f,e.near,e.far),aspect:s,viewport:i}};var cl={cameraState:O3,cameraProps:R3,setProjection:M3};const xi=Bo,fl=pr,I3=e=>{const{near:t,far:n,fov:r,zoom:s}=e,{viewport:i}=e,o=Tu.setProjection(e,{width:i[2],height:i[3]}),{projectionType:a}=Tu.cameraState;return Object.assign({},e,o,{projectionType:a},{near:t,far:n,fov:r})},x3=e=>{const{fov:t,aspect:n}=e,r=xi.length(xi.subtract([],e.position,e.target))*.3,s=Math.tan(t)*r*n,i=Math.tan(t)*r,{near:o,far:a,viewport:l}=e,c={zoom:1,near:o,far:a},f=cl.cameraState,u=cl.setProjection(c,{width:s,height:i});return Object.assign({},f,e,u,{projectionType:f.projectionType,viewport:l})},D3=({camera:e})=>{const n=xi.distance(e.position,e.target),r=[n,n,n];return{view:fl.lookAt(fl.create(),r,e.target,e.up),position:r}},F3=(e,{camera:t})=>{const n={top:[0,-1e-6,1],bottom:[0,0,-1],front:[0,1,0],back:[0,-1,0],left:[-1,0,0],right:[1,0,0],undefined:[0,0,0]},r=xi.distance(t.position,t.target),s=xi.add(xi.create(),n[e].map(o=>o*r),t.target);return{view:fl.lookAt(fl.create(),s,t.target,t.up),position:s}};var k3={toPerspectiveView:D3,toPresetView:F3,fromOrthographicToPerspective:I3,fromPerspectiveToOrthographic:x3};const Lg=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Lg(n)):t.concat(n),[]);var G3=Lg;const B3=(e,t)=>e-t;var N3=B3;const $3=e=>{if(!(!Array.isArray(e)||e.length===0))return e[0]};var V3=$3;const U3=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}return e.splice(r,0,t),e};var z3=U3;const H3=(e,t)=>{if(!(!Array.isArray(e)||e.length<t))return e[t]};var j3=H3;const q3=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var X3=q3;const W3=e=>Array.isArray(e)?e:e==null?[]:[e];var Y3=W3,Bu={flatten:G3,fnNumberSort:N3,head:V3,insertSorted:z3,nth:j3,padToLength:X3,toArray:Y3};const Z3=e=>{if(e.length===0)return[[0,0,0],[0,0,0]];const t=Array.isArray(e)&&Array.isArray(e[0]),n=t?e[0].length:3,r=new Array(n),s=new Array(n);for(let i=0;i<n;i+=1)r[i]=1/0,s[i]=-1/0;if(t)e.forEach(i=>{for(let o=0;o<n;o+=1){const a=t?i[o]:i;s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}});else for(let i=0;i<e.length;i+=n)for(let o=0;o<n;o+=1){const a=e[o+i];s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}return[r,s]};var K3=Z3;const ar=Bo,{flatten:Q3}=Bu,J3=K3,eS=(...e)=>{e=Q3(e);let t;e.forEach(l=>{let c=J3(l.positions);c=c.map(f=>ar.transformMat4(f,f,l.transforms)),t?(ar.min(t[0],t[0],c[0]),ar.max(t[1],t[1],c[1])):t=c});const n=ar.min(ar.create(),t[1],t[0]),r=ar.max(ar.create(),t[1],t[0]),s=ar.subtract(ar.create(),r,n);let i=ar.scale(ar.create(),s,.5);return i=ar.add(i,n,i),{dia:ar.distance(i,r),center:[...i],min:[...n],max:[...r],size:[...s]}};var tS=eS,bf,gh;function nS(){if(gh)return bf;gh=1,bf=e;function e(t,n,r){var s=n[0],i=n[1],o=n[2],a=r[0],l=r[1],c=r[2],f=r[3],u=r[4],d=r[5],h=r[6],p=r[7],g=r[8],m=r[9],v=r[10],b=r[11],y=r[12],A=r[13],E=r[14],w=r[15],S=1/(s*f+i*p+o*b+w);return t[0]=(s*a+i*u+o*g+y)*S,t[1]=(s*l+i*d+o*m+A)*S,t[2]=(s*c+i*h+o*v+E)*S,t}return bf}var _f,vh;function rS(){if(vh)return _f;vh=1;var e=nS();_f=t;function t(n,r,s,i){var o=s[0],a=s[1],l=s[2],c=s[3],f=r[0],u=r[1],d=r[2];return f=f-o,u=c-u-1,u=u-a,n[0]=2*f/l-1,n[1]=2*u/c-1,n[2]=2*d-1,e(n,n,i)}return _f}const Kn=Bo,Fo=pr,{max:yf,min:Af,sqrt:bh,PI:sS,sin:bi,cos:xa,atan2:Da}=Math,iS=tS,Nu={limits:{minDistance:.01,maxDistance:1e4},drag:.27,EPS:1e-6,zoomToFit:{auto:!0,targets:"all",tightness:1.5},userControl:{zoom:!0,zoomSpeed:1,rotate:!0,rotateSpeed:1,pan:!0,panSpeed:1},autoRotate:{enabled:!1,speed:1},autoAdjustPlanes:!0},Og={thetaDelta:0,phiDelta:0,scale:1},oS=Object.assign({},Og,Nu),aS=({controls:e,camera:t},n)=>{const{EPS:r,drag:s}=e,{position:i,target:o}=t,a=e.up?e.up:t.up;let l=e.thetaDelta;const c=e.phiDelta,f=e.scale,u=Kn.subtract([],i,o);let d,h;a[2]===1?(d=Da(u[0],u[1]),h=Da(bh(u[0]*u[0]+u[1]*u[1]),u[2])):(d=Da(u[0],u[2]),h=Da(bh(u[0]*u[0]+u[2]*u[2]),u[1])),e.autoRotate.enabled&&e.userControl.rotate&&(l+=2*Math.PI/60/60*e.autoRotate.speed),d+=l,h+=c,h=yf(r,Af(sS-r,h));const p=yf(e.limits.minDistance,Af(e.limits.maxDistance,Kn.length(u)*f));a[2]===1?(u[0]=p*bi(h)*bi(d),u[2]=p*xa(h),u[1]=p*bi(h)*xa(d)):(u[0]=p*bi(h)*bi(d),u[1]=p*xa(h),u[2]=p*bi(h)*xa(d));const g=Kn.add(Kn.create(),o,u),m=Fo.lookAt(Fo.create(),g,o,a),v=1-yf(Af(s,1),.01),b=Kn.distance(i,g)>.001;return{controls:{thetaDelta:l*v,phiDelta:c*v,scale:1,changed:b},camera:{position:g,view:m}}},lS=({controls:e,camera:t,speed:n=1},r)=>{let{thetaDelta:s,phiDelta:i}=e;return e.userControl.rotate&&(s+=r[0]*n,i+=r[1]*n),{controls:{thetaDelta:s,phiDelta:i},camera:t}},cS=({controls:e,camera:t,speed:n=1},r=0)=>{let{scale:s}=e;if(e.userControl.zoom&&t&&r!==void 0&&r!==0&&!isNaN(r)){const i=Math.sign(r)===0?1:Math.sign(r);r=r/r*i*n;const o=r+e.scale,a=Kn.distance(t.position,t.target)*o;if(a>e.limits.minDistance&&a<e.limits.maxDistance&&(s+=r),t.projectionType==="orthographic"){const l=Kn.length(Kn.subtract([],t.position,t.target))*.3,c=Math.tan(t.fov)*l*t.aspect,f=Math.tan(t.fov)*l;t=cl.setProjection(t,{width:c,height:f})}}return{controls:{scale:s},camera:t}},fS=({controls:e,camera:t,speed:n=1},r)=>{const s=rS(),{projection:i,view:o,viewport:a}=t,l=Fo.multiply([],i,o),c=Fo.invert([],l),f=[a[2],a[3],0],u=[a[2]-r[0],a[3]+r[1],0],d=s([],f,a,c),h=s([],u,a,c),p=Kn.distance(t.position,t.eye),g=Kn.subtract([],d,h).map(m=>m*n*p*e.scale);return{controls:e,camera:{position:Kn.add(Kn.create(),t.position,g),target:Kn.add(Kn.create(),t.target,g)}}},uS=({controls:e,camera:t,entities:n})=>{const{zoomToFit:r}=e;if(r.targets!=="all")return{controls:e,camera:t};if(n.length===0)return{controls:e,camera:t};const s=n.map(h=>h.geometry),i=iS(s),{fov:o,target:a,position:l}=t,{tightness:c}=Object.assign({},r,Nu.zoomToFit),f=i.dia*c/Math.tan(o/2),u=Kn.distance(a,l),d=f/u;return{camera:{target:i.center},controls:{scale:d}}},dS=({controls:e,camera:t},n)=>({camera:{position:n.camera.position,target:n.camera.target,projection:Fo.perspective([],t.fov,t.aspect,t.near,t.far),view:n.camera.view},controls:{thetaDelta:n.controls.thetaDelta,phiDelta:n.controls.phiDelta,scale:n.controls.scale}});var hS={controlsProps:Nu,controlsState:Og,defaults:oS,update:aS,rotate:lS,zoom:cS,pan:fS,zoomToFit:uS,reset:dS};const _h=pr,Sf=Math.floor(65535/2),mS=(e,t)=>{let{color:n}=e;const r=t.sides;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=[],o=Math.floor(r.length/Sf)+1,a=(c,f)=>{i.push(c,f||c)},l=[];for(let c=0;c<o;c++){const f=c*Sf,u=Math.min(f+Sf,r.length),d=[];for(let m=f;m<u;m++){const v=r[m];if(v.color){if(i.length===0&&d.length>0){const b=d.length;for(let y=0;y<b;y++)i.push(n)}a(v.color,v.endColor)}else i.length&&a(n);d.push([v[0][0],v[0][1],0]),d.push([v[1][0],v[1][1],0])}const h=d.map(m=>[0,0,-1]),p=d.map((m,v)=>v),g=t.transforms?_h.clone(t.transforms):_h.create();l.push({type:"2d",positions:d,normals:h,indices:p,transforms:g,color:n,colors:i,isTransparent:s})}return l};var pS=mS;const as=Bo,yh=pr,gS=65535,vS=(e,t)=>{let{color:n,smoothLighting:r}=e;"color"in t&&(n=t.color);const s=t.polygons,i=t.transforms?yh.clone(t.transforms):yh.create(),o=[];let a=0;for(;a<s.length;){let l=0,c=a;for(let m=a;m<s.length&&(l+=s[m].vertices.length,!(l>gS));m++)c++;const f=[],u=[],d=[],h=[],p=n[3]<1;for(let m=a;m<c;m++){const v=s[m],b=v.vertices,y=_S(v),A=bS(v,n),E=[];for(let w=0;w<b.length;w++){const S=b[w];f.push(S),u.push(y),h.push(A);const R=f.length-1;E.push(R)}for(let w=2;w<E.length;w++)d.push([E[0],E[w-1],E[w]])}const g={type:"3d",positions:f,normals:u,indices:d,colors:h,transforms:i,isTransparent:p};o.push(g),a=c}return o},bS=(e,t)=>{let n=t;return e.color&&(n=e.color),n&&n.length<4&&n.push(1),n},_S=e=>{if(e.plane)return as.clone(e.plane);const t=e.vertices,n=as.create();as.subtract(n,t[1],t[0]);const r=as.create();as.subtract(r,t[2],t[0]);const s=as.create();return as.cross(s,n,r),as.normalize(s,s),s};var yS=vS;const Ah=pr,Ef=Math.floor(65535/2)-2,AS=(e,t)=>{let{color:n}=e;const r=t.points;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=Math.floor(r.length/Ef)+1,o=[];for(let a=0;a<i;a++){const l=a*Ef,c=Math.min(l+Ef,r.length),f=[];let u;for(let g=l;g<c;g++){const m=r[g];u&&(f.push([u[0],u[1],0]),f.push([m[0],m[1],0])),u=m}if(a+1===i&&t.isClosed&&u){const g=r[0];f.push([u[0],u[1],0]),f.push([g[0],g[1],0])}const d=f.map(g=>[0,0,-1]),h=f.map((g,m)=>m),p=t.transforms?Ah.clone(t.transforms):Ah.create();o.push({type:"2d",positions:f,normals:d,indices:h,transforms:p,color:n,isTransparent:s})}return o};var SS=AS;const{flatten:ES,toArray:wS}=Bu,{meshColor:TS}=gl,CS=pS,PS=yS,LS=SS,OS=e=>e.map(n=>{const r={drawCmd:n.type==="2d"?"drawLines":"drawMesh",show:!0,transparent:n.isTransparent,useVertexColors:!0};return{geometry:n,visuals:r}}),RS=(e,...t)=>{const n={color:TS,smoothNormals:!0},{color:r,smoothNormals:s}=Object.assign({},n,e);t=ES(wS(t)),t=t.filter(o=>o&&o instanceof Object);const i=[];return t.forEach(o=>{let a=[];"sides"in o?a=CS({color:r},o):"points"in o?a=LS({color:r},o):"polygons"in o&&(a=PS({smoothLighting:s,normalThreshold:.3,color:r},o)),i.push(...OS(a))}),i};var MS=RS,ls={prepareRender:Y5,drawCommands:{drawGrid:K5,drawAxis:J5,drawMesh:nA,drawLines:lA},cameras:{camera:k3,orthographic:cl,perspective:Tu},controls:{orbit:hS},entitiesFromSolids:MS};function IS(e){let t;return{c(){t=kt("div"),Ut(t,"class","svelte-1lbbz30")},m(n,r){qe(n,t,r),e[4](t)},p:An,i:An,o:An,d(n){n&&He(t),e[4](null)}}}function xS(e,t,n){let r,s,{model:i}=t,o;const a=ls.cameras.perspective,l=ls.controls.orbit,c={controls:l.defaults,camera:{...a.defaults}};fr(()=>{s.glOptions.container=o;const u=new ResizeObserver(()=>{a.setProjection(c.camera,c.camera,{width:o.clientWidth,height:o.clientHeight}),h=!0});u.observe(o);const d=ls.prepareRender(s);let h=!0;const p=()=>{if(A[0]||A[1]){const X=l.rotate({controls:c.controls,camera:c.camera,speed:v},A);n(2,c.controls={...c.controls,...X.controls},c),h=!0,A=[0,0]}if(E[0]||E[1]){const X=l.pan({controls:c.controls,camera:c.camera,speed:b},E);n(2,c.controls={...c.controls,...X.controls},c),E=[0,0],n(2,c.camera.position=X.camera.position,c),n(2,c.camera.target=X.camera.target,c),h=!0}if(w){const X=l.zoom({controls:c.controls,camera:c.camera,speed:y},w);n(2,c.controls={...c.controls,...X.controls},c),w=0,h=!0}};let g=0,m=0;const v=.002,b=1,y=.08;let A=[0,0],E=[0,0],w=0,S=!1;const R=X=>{if(!S)return;const Ee=g-X.pageX,te=X.pageY-m;X.shiftKey===!0||X.touches&&X.touches.length>2?(E[0]+=Ee,E[1]+=te):(A[0]-=Ee,A[1]-=te),g=X.pageX,m=X.pageY,X.preventDefault()},H=X=>{S=!0,g=X.pageX,m=X.pageY,o.setPointerCapture(X.pointerId)},W=X=>{S=!1,o.releasePointerCapture(X.pointerId)},G=X=>{w+=X.deltaY,X.preventDefault()};n(0,o.onpointermove=R,o),n(0,o.onpointerdown=H,o),n(0,o.onpointerup=W,o),n(0,o.onwheel=G,o);let oe;const N=()=>{if(p(),h){const X=l.update({controls:c.controls,camera:c.camera});n(2,c.controls={...c.controls,...X.controls},c),h=c.controls.changed,n(2,c.camera.position=X.camera.position,c),a.update(c.camera),d(s)}oe=window.requestAnimationFrame(N)};return oe=window.requestAnimationFrame(N),()=>{typeof oe=="number"&&window.cancelAnimationFrame(oe),u.disconnect()}});function f(u){ot[u?"unshift":"push"](()=>{o=u,n(0,o)})}return e.$$set=u=>{"model"in u&&n(1,i=u.model)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=ls.entitiesFromSolids({},i)),e.$$.dirty&13&&(s={glOptions:{container:o},camera:c.camera,drawCommands:{drawAxis:ls.drawCommands.drawAxis,drawGrid:ls.drawCommands.drawGrid,drawLines:ls.drawCommands.drawLines,drawMesh:ls.drawCommands.drawMesh},entities:r})},[o,i,c,r,f]}class DS extends un{constructor(t){super(),fn(this,t,xS,IS,Qt,{model:1})}}const Rg=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Rg(n)):t.concat(n),[]);var pt=Rg;const FS=e=>Object.assign({},e);var kS=FS;const GS=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e);var BS=GS;const NS=()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var $u=NS;const $S=$u,VS=e=>{const t=$S();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var US=VS;const zS=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e);var Mg=zS;const HS=(e,t)=>{const n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15],b=n*a-r*o,y=n*l-s*o,A=n*c-i*o,E=r*l-s*a,w=r*c-i*a,S=s*c-i*l,R=f*g-u*p,H=f*m-d*p,W=f*v-h*p,G=u*m-d*g,oe=u*v-h*g,N=d*v-h*m;let X=b*N-y*oe+A*G+E*W-w*H+S*R;return X?(X=1/X,e[0]=(a*N-l*oe+c*G)*X,e[1]=(s*oe-r*N-i*G)*X,e[2]=(g*S-m*w+v*E)*X,e[3]=(d*w-u*S-h*E)*X,e[4]=(l*W-o*N-c*H)*X,e[5]=(n*N-s*W+i*H)*X,e[6]=(m*A-p*S-v*y)*X,e[7]=(f*S-d*A+h*y)*X,e[8]=(o*oe-a*W+c*R)*X,e[9]=(r*W-n*oe-i*R)*X,e[10]=(p*w-g*A+v*b)*X,e[11]=(u*A-f*w-h*b)*X,e[12]=(a*H-o*G-l*R)*X,e[13]=(n*G-r*H+s*R)*X,e[14]=(g*y-p*E-m*b)*X,e[15]=(f*E-u*y+d*b)*X,e):null};var jS=HS;const qS=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15];var XS=qS;const WS=1e5,YS=1e-5,ZS=1e-13,KS=Math.PI*2;var Dt={EPS:YS,NEPS:ZS,TAU:KS,spatialResolution:WS};const{NEPS:QS}=Dt,Ig=e=>Math.abs(e)<QS?0:e,JS=e=>Ig(Math.sin(e)),eE=e=>Ig(Math.cos(e));var Hn={sin:JS,cos:eE};const tE=e=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var xg=tE;const{EPS:nE}=Dt,{sin:rE,cos:sE}=Hn,iE=xg,oE=(e,t,n)=>{let[r,s,i]=n;const o=r*r+s*s+i*i;if(Math.abs(o)<nE)return iE(e);const a=1/Math.sqrt(o);r*=a,s*=a,i*=a;const l=rE(t),c=sE(t),f=1-c;return e[0]=r*r*f+c,e[1]=s*r*f+i*l,e[2]=i*r*f-s*l,e[3]=0,e[4]=r*s*f-i*l,e[5]=s*s*f+c,e[6]=i*s*f+r*l,e[7]=0,e[8]=r*i*f+s*l,e[9]=s*i*f-r*l,e[10]=i*i*f+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Dg=oE;const aE=(e,t)=>(e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var lE=aE;const{sin:wf,cos:Tf}=Hn,cE=(e,t,n,r)=>{const s=wf(t),i=Tf(t),o=wf(n),a=Tf(n),l=wf(r),c=Tf(r);return e[0]=a*i,e[1]=a*s,e[2]=-o,e[3]=0,e[4]=l*o*i-c*s,e[5]=c*i+l*o*s,e[6]=l*a,e[7]=0,e[8]=l*s+c*o*i,e[9]=c*o*s-l*i,e[10]=c*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var fE=cE;const uE=(e,t)=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e);var dE=uE;const hE=$u,mE=(e,t,n,r,s,i,o,a,l,c,f,u,d,h,p,g)=>{const m=hE();return m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=s,m[5]=i,m[6]=o,m[7]=a,m[8]=l,m[9]=c,m[10]=f,m[11]=u,m[12]=d,m[13]=h,m[14]=p,m[15]=g,m};var pE=mE;const gE=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e);var Fg=gE;const vE=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e);var kg=vE;const bE=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2];var vl=bE;const _E=vl,yE=(e,t)=>{const n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2],l=Math.sqrt(n*n+r*r+s*s),c=Math.sqrt(i*i+o*o+a*a),f=l*c,u=f&&_E(e,t)/f;return Math.acos(Math.min(Math.max(u,-1),1))};var AE=yE;const SE=()=>[0,0,0];var bl=SE;const EE=bl,wE=e=>{const t=EE();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var TE=wE;const CE=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var Gg=CE;const PE=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e};var No=PE;const LE=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)};var Bg=LE;const OE=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e);var RE=OE;const ME=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var IE=ME;const xE=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e);var DE=xE;const FE=bl,kE=(e,t,n)=>{const r=FE();return r[0]=e,r[1]=t,r[2]=n,r};var GE=kE;const BE=(e,t,n=0)=>(e[0]=t[0],e[1]=t[1],e[2]=n,e);var NE=BE;const $E=e=>{const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)};var Ng=$E;const VE=(e,t,n,r)=>(e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e[2]=t[2]+r*(n[2]-t[2]),e);var UE=VE;const zE=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e);var $g=zE;const HE=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e);var Vg=HE;const jE=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e);var qE=jE;const XE=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e);var WE=XE;const YE=(e,t)=>{const n=t[0],r=t[1],s=t[2];let i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i)),e[0]=n*i,e[1]=r*i,e[2]=s*i,e};var Vu=YE;const ZE=Fg,KE=bl,QE=No,JE=(e,t)=>{const n=ZE(KE(),t),r=0+(n[0]<n[1]&&n[0]<n[2]),s=0+(n[1]<=n[0]&&n[1]<n[2]),i=0+(n[2]<=n[0]&&n[2]<=n[1]);return QE(e,t,[r,s,i])};var ew=JE;const tw=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[0],i[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),i[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var nw=tw;const rw=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),i[1]=s[1],i[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var sw=rw;const iw=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],i[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),i[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=t[2],e};var ow=iw;const aw=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e);var Ug=aw;const lw=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e[2]=Math.round(t[2]/n)*n+0,e);var cw=lw;const fw=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s};var zg=fw;const uw=e=>{const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};var Hg=uw;const dw=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e);var _l=dw;const hw=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)}]`;var mw=hw;const pw=(e,t,n)=>{const r=t[0],s=t[1],i=t[2];let o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e};var gw=pw,rt={abs:Fg,add:kg,angle:AE,clone:TE,copy:Gg,create:bl,cross:No,distance:Bg,divide:RE,dot:vl,equals:IE,fromScalar:DE,fromValues:GE,fromVec2:NE,length:Ng,lerp:UE,max:$g,min:Vg,multiply:qE,negate:WE,normalize:Vu,orthogonal:ew,rotateX:nw,rotateY:sw,rotateZ:ow,scale:Ug,snap:cw,squaredDistance:zg,squaredLength:Hg,subtract:_l,toString:mw,transform:gw};const cs=rt,vw=Dg,bw=(e,t,n)=>{const r=cs.normalize(cs.create(),t),s=cs.normalize(cs.create(),n),i=cs.cross(cs.create(),s,r),o=cs.dot(s,r);if(o===-1)return vw(e,Math.PI,cs.orthogonal(i,r));const a=1/(1+o);return e[0]=i[0]*i[0]*a+o,e[1]=i[1]*i[0]*a-i[2],e[2]=i[2]*i[0]*a+i[1],e[3]=0,e[4]=i[0]*i[1]*a+i[2],e[5]=i[1]*i[1]*a+o,e[6]=i[2]*i[1]*a-i[0],e[7]=0,e[8]=i[0]*i[2]*a-i[1],e[9]=i[1]*i[2]*a+i[0],e[10]=i[2]*i[2]*a+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var _w=bw;const{sin:yw,cos:Aw}=Hn,Sw=(e,t)=>{const n=yw(t),r=Aw(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Ew=Sw;const{sin:ww,cos:Tw}=Hn,Cw=(e,t)=>{const n=ww(t),r=Tw(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Pw=Cw;const{sin:Lw,cos:Ow}=Hn,Rw=(e,t)=>{const n=Lw(t),r=Ow(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Mw=Rw;const Iw=e=>e[0]===1&&e[1]===0&&e[2]===0&&e[3]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[7]===0&&e[8]===0&&e[9]===0&&e[10]===1&&e[11]===0&&e[12]===0&&e[13]===0&&e[14]===0&&e[15]===1;var xw=Iw;const Dw=e=>$r(e[1])&&$r(e[2])&&$r(e[3])&&$r(e[4])&&$r(e[6])&&$r(e[7])&&$r(e[8])&&$r(e[9])&&$r(e[11])&&e[15]===1,$r=e=>Math.abs(e)<Number.EPSILON;var Fw=Dw;const kw=e=>{const t=e[4]*e[9]-e[8]*e[5],n=e[8]*e[1]-e[0]*e[9],r=e[0]*e[5]-e[4]*e[1];return t*e[2]+n*e[6]+r*e[10]<0};var Gw=kw;const Bw=(e,t)=>{const[n,r,s,i]=t;return e[0]=1-2*n*n,e[1]=-2*r*n,e[2]=-2*s*n,e[3]=0,e[4]=-2*n*r,e[5]=1-2*r*r,e[6]=-2*s*r,e[7]=0,e[8]=-2*n*s,e[9]=-2*r*s,e[10]=1-2*s*s,e[11]=0,e[12]=2*n*i,e[13]=2*r*i,e[14]=2*s*i,e[15]=1,e};var Nw=Bw;const $w=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],d=t[9],h=t[10],p=t[11],g=t[12],m=t[13],v=t[14],b=t[15];let y=n[0],A=n[1],E=n[2],w=n[3];return e[0]=y*r+A*a+E*u+w*g,e[1]=y*s+A*l+E*d+w*m,e[2]=y*i+A*c+E*h+w*v,e[3]=y*o+A*f+E*p+w*b,y=n[4],A=n[5],E=n[6],w=n[7],e[4]=y*r+A*a+E*u+w*g,e[5]=y*s+A*l+E*d+w*m,e[6]=y*i+A*c+E*h+w*v,e[7]=y*o+A*f+E*p+w*b,y=n[8],A=n[9],E=n[10],w=n[11],e[8]=y*r+A*a+E*u+w*g,e[9]=y*s+A*l+E*d+w*m,e[10]=y*i+A*c+E*h+w*v,e[11]=y*o+A*f+E*p+w*b,y=n[12],A=n[13],E=n[14],w=n[15],e[12]=y*r+A*a+E*u+w*g,e[13]=y*s+A*l+E*d+w*m,e[14]=y*i+A*c+E*h+w*v,e[15]=y*o+A*f+E*p+w*b,e};var Vw=$w;const{EPS:Uw}=Dt,{sin:zw,cos:Hw}=Hn,jw=Mg,qw=(e,t,n,r)=>{let[s,i,o]=r;const a=s*s+i*i+o*o;if(Math.abs(a)<Uw)return jw(e,t);const l=1/Math.sqrt(a);s*=l,i*=l,o*=l;const c=zw(n),f=Hw(n),u=1-f,d=t[0],h=t[1],p=t[2],g=t[3],m=t[4],v=t[5],b=t[6],y=t[7],A=t[8],E=t[9],w=t[10],S=t[11],R=s*s*u+f,H=i*s*u+o*c,W=o*s*u-i*c,G=s*i*u-o*c,oe=i*i*u+f,N=o*i*u+s*c,X=s*o*u+i*c,Ee=i*o*u-s*c,te=o*o*u+f;return e[0]=d*R+m*H+A*W,e[1]=h*R+v*H+E*W,e[2]=p*R+b*H+w*W,e[3]=g*R+y*H+S*W,e[4]=d*G+m*oe+A*N,e[5]=h*G+v*oe+E*N,e[6]=p*G+b*oe+w*N,e[7]=g*G+y*oe+S*N,e[8]=d*X+m*Ee+A*te,e[9]=h*X+v*Ee+E*te,e[10]=p*X+b*Ee+w*te,e[11]=g*X+y*Ee+S*te,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e};var Xw=qw;const{sin:Ww,cos:Yw}=Hn,Zw=(e,t,n)=>{const r=Ww(n),s=Yw(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+d*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=d*s-l*r,e};var Kw=Zw;const{sin:Qw,cos:Jw}=Hn,e4=(e,t,n)=>{const r=Qw(n),s=Jw(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-d*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+d*s,e};var t4=e4;const{sin:n4,cos:r4}=Hn,s4=(e,t,n)=>{const r=n4(n),s=r4(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+d*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=d*s-l*r,e};var i4=s4;const o4=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};var a4=o4;const l4=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e);var c4=l4;const f4=e=>e.map(t=>t.toFixed(7)).toString();var u4=f4;const d4=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];let o,a,l,c,f,u,d,h,p,g,m,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],d=t[6],h=t[7],p=t[8],g=t[9],m=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=d,e[7]=h,e[8]=p,e[9]=g,e[10]=m,e[11]=v,e[12]=o*r+f*s+p*i+t[12],e[13]=a*r+u*s+g*i+t[13],e[14]=l*r+d*s+m*i+t[14],e[15]=c*r+h*s+v*i+t[15]),e};var h4=d4,Xt={add:BS,clone:US,copy:Mg,create:$u,invert:jS,equals:XS,fromRotation:Dg,fromScaling:lE,fromTaitBryanRotation:fE,fromTranslation:dE,fromValues:pE,fromVectorRotation:_w,fromXRotation:Ew,fromYRotation:Pw,fromZRotation:Mw,identity:xg,isIdentity:xw,isOnlyTransformScale:Fw,isMirroring:Gw,mirrorByPlane:Nw,multiply:Vw,rotate:Xw,rotateX:Kw,rotateY:t4,rotateZ:i4,scale:a4,subtract:c4,toString:u4,translate:h4};const m4=Xt,p4=e=>(e===void 0&&(e=[]),{sides:e,transforms:m4.create()});var yl=p4;const g4=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e);var v4=g4;const b4=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e);var _4=b4;const y4=e=>Math.atan2(e[1],e[0]);var Uu=y4,A4=Uu;const S4=Uu,E4=e=>S4(e)*57.29577951308232;var w4=E4;const T4=()=>[0,0];var Al=T4;const C4=Al,P4=e=>{const t=C4();return t[0]=e[0],t[1]=e[1],t};var L4=P4;const O4=(e,t)=>(e[0]=t[0],e[1]=t[1],e);var R4=O4;const M4=(e,t,n)=>(e[0]=0,e[1]=0,e[2]=t[0]*n[1]-t[1]*n[0],e);var I4=M4;const x4=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)};var D4=x4;const F4=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e);var k4=F4;const G4=(e,t)=>e[0]*t[0]+e[1]*t[1];var B4=G4;const N4=(e,t)=>e[0]===t[0]&&e[1]===t[1];var $4=N4;const{sin:V4,cos:U4}=Hn,z4=(e,t)=>(e[0]=U4(t),e[1]=V4(t),e);var jg=z4;const H4=jg,j4=(e,t)=>H4(e,t*.017453292519943295);var q4=j4;const X4=(e,t)=>(e[0]=t,e[1]=t,e);var W4=X4;const Y4=Al,Z4=(e,t)=>{const n=Y4();return n[0]=e,n[1]=t,n};var K4=Z4;const Q4=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]);var J4=Q4;const eT=(e,t,n,r)=>{const s=t[0],i=t[1];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e};var tT=eT;const nT=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e);var rT=nT;const sT=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e);var iT=sT;const oT=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e);var aT=oT;const lT=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e);var cT=lT;const fT=(e,t,n,r)=>{const s=t[0]-n[0],i=t[1]-n[1],o=Math.cos(r),a=Math.sin(r);return e[0]=s*o-i*a+n[0],e[1]=s*a+i*o+n[1],e};var qg=fT;const{TAU:uT}=Dt,dT=Al,hT=qg,mT=(e,t)=>hT(e,t,dT(),uT/4);var pT=mT;const gT=(e,t)=>{const n=t[0],r=t[1];let s=n*n+r*r;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e};var vT=gT;const bT=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e);var _T=bT;const yT=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e);var AT=yT;const ST=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r};var ET=ST;const wT=e=>{const t=e[0],n=e[1];return t*t+n*n};var TT=wT;const CT=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e);var PT=CT;const LT=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}]`;var OT=LT;const RT=(e,t,n)=>{const r=t[0],s=t[1];return e[0]=n[0]*r+n[4]*s+n[12],e[1]=n[1]*r+n[5]*s+n[13],e};var MT=RT,St={abs:v4,add:_4,angle:A4,angleDegrees:w4,angleRadians:Uu,clone:L4,copy:R4,create:Al,cross:I4,distance:D4,divide:k4,dot:B4,equals:$4,fromAngleDegrees:q4,fromAngleRadians:jg,fromScalar:W4,fromValues:K4,length:J4,lerp:tT,max:rT,min:iT,multiply:aT,negate:cT,normal:pT,normalize:vT,rotate:qg,scale:_T,snap:AT,squaredDistance:ET,squaredLength:TT,subtract:PT,toString:OT,transform:MT};const Cf=St,IT=yl,xT=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");let t=e.length;if(t<3)throw new Error("the given points must define a closed geometry with three or more points");Cf.equals(e[0],e[t-1])&&--t;const n=[];let r=e[t-1];for(let s=0;s<t;s++){const i=e[s];n.push([Cf.clone(r),Cf.clone(i)]),r=i}return IT(n)};var DT=xT;const FT=Xt,Sh=St,kT=yl,GT=e=>{if(e[0]!==0)throw new Error("invalid compact binary data");const t=kT();t.transforms=FT.clone(e.slice(1,17));for(let n=21;n<e.length;n+=4){const r=Sh.fromValues(e[n+0],e[n+1]),s=Sh.fromValues(e[n+2],e[n+3]);t.sides.push([r,s])}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var BT=GT;const NT=e=>!!(e&&typeof e=="object"&&"sides"in e&&"transforms"in e&&Array.isArray(e.sides)&&"length"in e.transforms);var Xg=NT;const Eh=Xt,Fa=St,$T=e=>(Eh.isIdentity(e.transforms)||(e.sides=e.sides.map(t=>{const n=Fa.transform(Fa.create(),t[0],e.transforms),r=Fa.transform(Fa.create(),t[1],e.transforms);return[n,r]}),e.transforms=Eh.create()),e);var VT=$T;const UT=VT,zT=e=>UT(e).sides;var $o=zT;const HT=yl,jT=$o,qT=e=>{const n=jT(e).map(r=>[r[1],r[0]]);return n.reverse(),HT(n)};var XT=qT;const ho=St,WT=$o,YT=e=>{const t=new Map,n=r=>{const s=r.toString();return t.has(s)?t.get(s):(t.set(s,r),r)};return e.map(r=>r.map(n))},ZT=e=>{const t=new Map;return YT(e).forEach(r=>{t.has(r[0])?t.get(r[0]).push(r):t.set(r[0],[r])}),t},KT=e=>{const t=ZT(WT(e)),n=[];for(;;){let r;for(const[o,a]of t){if(r=a.shift(),!r){t.delete(o);continue}break}if(r===void 0)break;const s=[],i=r[0];for(;;){s.push(r[0]);const o=r[1];if(o===i)break;const a=t.get(o);if(!a)throw new Error(`geometry is not closed at vertex ${o}`);const l=QT(r,a);a.length===0&&t.delete(o),r=l}s.length>0&&s.push(s.shift()),n.push(s)}return t.clear(),n},QT=(e,t)=>{if(t.length===1)return t.pop();const n=ho.create(),r=ho.angleDegrees(ho.subtract(n,e[1],e[0]));let s,i;t.forEach((a,l)=>{let f=ho.angleDegrees(ho.subtract(n,a[1],a[0]))-r;f<-180&&(f+=360),f>=180&&(f-=360),(i===void 0||f>s)&&(i=l,s=f)});const o=t[i];return t.splice(i,1),o};var Wg=KT;const JT=$o,eC=e=>{const n=JT(e).map(r=>r[0]);return n.length>0&&n.push(n.shift()),n};var tC=eC;const wh=St,nC=$o,rC=e=>{const t=nC(e);let n="geom2 ("+t.length+` sides):
[
`;return t.forEach(r=>{n+="  ["+wh.toString(r[0])+", "+wh.toString(r[1])+`]
`}),n+=`]
`,n};var sC=rC;const iC=e=>{const t=e.sides,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+4+t.length*4);s[0]=0,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=r[0],s[18]=r[1],s[19]=r[2],s[20]=r[3];for(let i=0;i<t.length;i++){const o=i*4+21,a=t[i][0],l=t[i][1];s[o+0]=a[0],s[o+1]=a[1],s[o+2]=l[0],s[o+3]=l[1]}return s};var oC=iC;const Th=Xt,aC=(e,t)=>{const n=Th.multiply(Th.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var lC=aC;const cC=St,fC=Xg,uC=Wg,dC=e=>{if(!fC(e))throw new Error("invalid geom2 structure");if(uC(e),e.sides.forEach(t=>{if(cC.equals(t[0],t[1]))throw new Error(`geom2 self-edge ${t[0]}`)}),!e.transforms.every(Number.isFinite))throw new Error(`geom2 invalid transforms ${e.transforms}`)};var hC=dC,vt={clone:kS,create:yl,fromPoints:DT,fromCompactBinary:BT,isA:Xg,reverse:XT,toOutlines:Wg,toPoints:tC,toSides:$o,toString:sC,toCompactBinary:oC,transform:lC,validate:hC};const mC=e=>Object.assign({},e);var pC=mC;const gC=Xt,vC=e=>(e===void 0&&(e=[]),{polygons:e,transforms:gC.create()});var Sl=vC;const bC=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var Vi=bC;const _C=Vi,yC=rt,AC=(...e)=>{let t,n;return e.length===1?(t=_C(),n=e[0]):(t=e[0],n=e[1]),t.vertices=n.vertices.map(r=>yC.clone(r)),t};var SC=AC;const EC=rt,wC=Vi,TC=e=>{const t=e.map(n=>EC.clone(n));return wC(t)};var CC=TC;const PC=Vi,LC=(e,t)=>{const n=PC(e);return n.plane=t,n};var OC=LC;const RC=()=>[0,0,0,0];var El=RC;const MC=El,IC=e=>{const t=MC();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};var Yg=IC;const xC=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e);var Zg=xC;const DC=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3];var Kg=DC;const FC=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e);var Qg=FC;const Pf=rt,kC=(e,t,n)=>{const r=Pf.normalize(Pf.create(),t),s=Pf.dot(n,r);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=s,e};var GC=kC;const BC=El,NC=(e,t,n,r)=>{const s=BC();return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s};var Jg=NC;const Lr=rt,$C=(e,...t)=>{const n=t.length,r=Lr.create(),s=Lr.create(),i=o=>{const a=t[o],l=t[(o+1)%n],c=t[(o+2)%n];return Lr.subtract(r,l,a),Lr.subtract(s,c,a),Lr.cross(r,r,s),Lr.normalize(r,r),r};return e[0]=0,e[1]=0,e[2]=0,n===3?Lr.copy(e,i(0)):(t.forEach((o,a)=>{Lr.add(e,e,i(a))}),Lr.normalize(e,e)),e[3]=Lr.dot(e,t[0]),e};var ev=$C;const{EPS:Lf}=Dt,Wn=rt,VC=(e,t,n,r)=>{let s=Wn.subtract(Wn.create(),n,t),i=Wn.subtract(Wn.create(),r,t);Wn.length(s)<Lf&&(s=Wn.orthogonal(s,i)),Wn.length(i)<Lf&&(i=Wn.orthogonal(i,s));let o=Wn.cross(Wn.create(),s,i);Wn.length(o)<Lf&&(i=Wn.orthogonal(i,s),o=Wn.cross(o,s,i)),o=Wn.normalize(o,o);const a=Wn.dot(o,t);return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=a,e};var UC=VC;const zC=rt,HC=(e,t)=>{const n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]-e[3],r=t[0]-n*e[0],s=t[1]-n*e[1],i=t[2]-n*e[2];return zC.fromValues(r,s,i)};var jC=HC;const qC=rt,XC=(e,t)=>qC.dot(e,t)-e[3];var tv=XC;const WC=e=>`(${e[0].toFixed(9)}, ${e[1].toFixed(9)}, ${e[2].toFixed(9)}, ${e[3].toFixed(9)})`;var nv=WC;const YC=Xt,Yn=rt,ZC=ev,KC=Qg,QC=(e,t,n)=>{const r=YC.isMirroring(n),s=Yn.orthogonal(Yn.create(),t),i=Yn.cross(s,t,s),o=Yn.cross(Yn.create(),t,i);let a=Yn.fromScalar(Yn.create(),t[3]);Yn.multiply(a,a,t);let l=Yn.add(Yn.create(),a,i),c=Yn.add(Yn.create(),a,o);return a=Yn.transform(a,a,n),l=Yn.transform(l,l,n),c=Yn.transform(c,c,n),ZC(e,a,l,c),r&&KC(e,e),e};var JC=QC,Fr={clone:Yg,copy:Zg,create:El,equals:Kg,flip:Qg,fromNormalAndPoint:GC,fromValues:Jg,fromPoints:ev,fromPointsRandom:UC,projectionOfPoint:jC,signedDistanceToPoint:tv,toString:nv,transform:JC};const Ch=Fr,eP=Vi,tP=e=>{const t=e.vertices.slice().reverse(),n=eP(t);return e.plane&&(n.plane=Ch.flip(Ch.create(),e.plane)),n};var nP=tP;const rP=e=>!!(e&&typeof e=="object"&&"vertices"in e&&Array.isArray(e.vertices));var rv=rP;const Ph=Fr,Fs=rt,sP=e=>iP(e.vertices),iP=e=>{const t=e.length;if(t>2){const n=Ph.fromPoints(Ph.create(),...e);let r=e[t-2],s=e[t-1];for(let i=0;i<t;i++){const o=e[i];if(!oP(r,s,o,n))return!1;r=s,s=o}}return!0},oP=(e,t,n,r)=>{const s=Fs.cross(Fs.create(),Fs.subtract(Fs.create(),t,e),Fs.subtract(Fs.create(),n,t));return Fs.dot(s,r)>=0};var sv=sP;const Lh=Fr,aP=e=>(e.plane||(e.plane=Lh.fromPoints(Lh.create(),...e.vertices)),e.plane);var zu=aP;const lP=zu,cP=e=>{const t=e.vertices.length;if(t<3)return 0;const n=e.vertices,r=lP(e),s=Math.abs(r[0]),i=Math.abs(r[1]),o=Math.abs(r[2]);if(s+i+o===0)return 0;let a=3;s>i&&s>o?a=1:i>o&&(a=2);let l=0,c=0,f=1,u=2;switch(a){case 1:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][1]*(n[u][2]-n[c][2]);l+=n[0][1]*(n[1][2]-n[t-1][2]),l/=2*r[0];break;case 2:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][2]*(n[u][0]-n[c][0]);l+=n[0][2]*(n[1][0]-n[t-1][0]),l/=2*r[1];break;case 3:default:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][0]*(n[u][1]-n[c][1]);l+=n[0][0]*(n[1][1]-n[t-1][1]),l/=2*r[2];break}return l};var iv=cP;const mo=rt,fP=e=>{const t=e.vertices,n=t.length,r=n===0?mo.create():mo.clone(t[0]),s=mo.clone(r);for(let i=1;i<n;i++)mo.min(r,r,t[i]),mo.max(s,s,t[i]);return[r,s]};var uP=fP;const dP=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];var hP=dP;const mP=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e[3]=t,e);var pP=mP;const gP=(e,t,n)=>{const[r,s,i,o]=t;return e[0]=n[0]*r+n[4]*s+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*s+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*s+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*s+n[11]*i+n[15]*o,e};var vP=gP,ov={clone:Yg,copy:Zg,create:El,dot:hP,equals:Kg,fromScalar:pP,fromValues:Jg,toString:nv,transform:vP};const bP=ov,Oh=new WeakMap,_P=e=>{let t=Oh.get(e);if(t)return t;const n=e.vertices,r=bP.create();if(n.length===0)return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r;let s=n[0],i=s,o=s,a=s,l=s,c=s;n.forEach(h=>{s[0]>h[0]&&(s=h),i[1]>h[1]&&(i=h),o[2]>h[2]&&(o=h),a[0]<h[0]&&(a=h),l[1]<h[1]&&(l=h),c[2]<h[2]&&(c=h)}),r[0]=(s[0]+a[0])*.5,r[1]=(i[1]+l[1])*.5,r[2]=(o[2]+c[2])*.5;const f=r[0]-a[0],u=r[1]-l[1],d=r[2]-c[2];return r[3]=Math.sqrt(f*f+u*u+d*d),Oh.set(e,r),r};var yP=_P;const Of=rt,AP=e=>{let t=0;const n=e.vertices,r=Of.create();for(let s=0;s<n.length-2;s++)Of.cross(r,n[s+1],n[s+2]),t+=Of.dot(n[0],r);return t/=6,t};var SP=AP;const EP=e=>e.vertices;var wP=EP;const TP=rt,CP=e=>{let t="poly3: vertices: [";return e.vertices.forEach(n=>{t+=`${TP.toString(n)}, `}),t+="]",t};var PP=CP;const LP=Xt,Rh=rt,OP=Vi,RP=(e,t)=>{const n=t.vertices.map(r=>Rh.transform(Rh.create(),r,e));return LP.isMirroring(e)&&n.reverse(),OP(n)};var MP=RP;const IP=tv,{NEPS:xP}=Dt,DP=rt,FP=rv,kP=sv,GP=iv,BP=zu,NP=e=>{if(!FP(e))throw new Error("invalid poly3 structure");if(e.vertices.length<3)throw new Error(`poly3 not enough vertices ${e.vertices.length}`);if(GP(e)<=0)throw new Error("poly3 area must be greater than zero");for(let t=0;t<e.vertices.length;t++)if(DP.equals(e.vertices[t],e.vertices[(t+1)%e.vertices.length]))throw new Error(`poly3 duplicate vertex ${e.vertices[t]}`);if(!kP(e))throw new Error("poly3 must be convex");if(e.vertices.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`poly3 invalid vertex ${t}`)}),e.vertices.length>3){const t=BP(e);e.vertices.forEach(n=>{const r=Math.abs(IP(t,n));if(r>xP)throw new Error(`poly3 must be coplanar: vertex ${n} distance ${r}`)})}};var $P=NP,Mt={clone:SC,create:Vi,fromPoints:CC,fromPointsAndPlane:OC,invert:nP,isA:rv,isConvex:sv,measureArea:iv,measureBoundingBox:uP,measureBoundingSphere:yP,measureSignedVolume:SP,plane:zu,toPoints:wP,toString:PP,transform:MP,validate:$P};const VP=Mt,UP=Sl,zP=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const t=e.map((r,s)=>VP.create(r));return UP(t)};var HP=zP;const jP=rt,qP=Xt,XP=Mt,WP=Sl,YP=e=>{if(e[0]!==1)throw new Error("invalid compact binary data");const t=WP();t.transforms=qP.clone(e.slice(1,17));const n=e[21];let r=22,s=e.length-n*3;for(;s<e.length;){const i=e[r];r++;const o=[];for(let a=0;a<i;a++)o.push(jP.fromValues(e[s],e[s+1],e[s+2])),s+=3;t.polygons.push(XP.create(o))}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var ZP=YP;const Mh=Xt,KP=Mt,QP=e=>(Mh.isIdentity(e.transforms)||(e.polygons=e.polygons.map(t=>KP.transform(e.transforms,t)),e.transforms=Mh.create()),e);var JP=QP;const eL=JP,tL=e=>eL(e).polygons;var wl=tL;const nL=Mt,rL=Sl,sL=wl,iL=e=>{const n=sL(e).map(r=>nL.invert(r));return rL(n)};var oL=iL;const aL=e=>!!(e&&typeof e=="object"&&"polygons"in e&&"transforms"in e&&Array.isArray(e.polygons)&&"length"in e.transforms);var av=aL;const lL=Mt,cL=wl,fL=e=>cL(e).map(r=>lL.toPoints(r));var uL=fL;const dL=Mt,hL=wl,mL=e=>{const t=hL(e);let n="geom3 ("+t.length+` polygons):
`;return t.forEach(r=>{n+="  "+dL.toString(r)+`
`}),n};var pL=mL;const gL=Mt,vL=e=>{const t=e.polygons,n=e.transforms,r=t.length,s=t.reduce((c,f)=>c+f.vertices.length,0);let i=[-1,-1,-1,-1];e.color&&(i=e.color);const o=new Float32Array(1+16+4+1+r+s*3);o[0]=1,o[1]=n[0],o[2]=n[1],o[3]=n[2],o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=n[6],o[8]=n[7],o[9]=n[8],o[10]=n[9],o[11]=n[10],o[12]=n[11],o[13]=n[12],o[14]=n[13],o[15]=n[14],o[16]=n[15],o[17]=i[0],o[18]=i[1],o[19]=i[2],o[20]=i[3],o[21]=s;let a=22,l=a+r;return t.forEach(c=>{const f=gL.toPoints(c);o[a]=f.length,a++;for(let u=0;u<f.length;u++){const d=f[u];o[l+0]=d[0],o[l+1]=d[1],o[l+2]=d[2],l+=3}}),o};var bL=vL;const Ih=Xt,_L=(e,t)=>{const n=Ih.multiply(Ih.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var yL=_L;const AL=Mt,SL=av,EL=e=>{if(!SL(e))throw new Error("invalid geom3 structure");if(e.polygons.forEach(AL.validate),wL(e),!e.transforms.every(Number.isFinite))throw new Error(`geom3 invalid transforms ${e.transforms}`)},wL=e=>{const t=new Map;e.polygons.forEach(({vertices:r})=>{r.forEach((s,i)=>{const o=`${s}`,a=`${r[(i+1)%r.length]}`,l=`${o}/${a}`,c=t.has(l)?t.get(l):0;t.set(l,c+1)})});const n=[];if(t.forEach((r,s)=>{const i=s.split("/").reverse().join("/"),o=t.get(i);r!==o&&n.push(s.replace("/"," -> "))}),n.length>0)throw new Error(`non-manifold edges ${n.length}
${n.join(`
`)}`)};var TL=EL,yt={clone:pC,create:Sl,fromPoints:HP,fromCompactBinary:ZP,invert:oL,isA:av,toPoints:uL,toPolygons:wl,toString:pL,toCompactBinary:bL,transform:yL,validate:TL};const CL=e=>Object.assign({},e);var Hu=CL;const{EPS:xh}=Dt,PL=St,LL=Hu,OL=e=>{if(e.isClosed)return e;const t=LL(e);if(t.isClosed=!0,t.points.length>1){const n=t.points,r=n[0];let s=n[n.length-1];for(;PL.distance(r,s)<xh*xh&&(n.pop(),n.length!==1);)s=n[n.length-1]}return t};var lv=OL;const RL=Xt,ML=e=>(e===void 0&&(e=[]),{points:e,isClosed:!1,transforms:RL.create()});var Tl=ML;const{EPS:Dh}=Dt,Fh=St,IL=lv,xL=Tl,DL=(e,t)=>{const n={closed:!1};let{closed:r}=Object.assign({},n,e),s=xL();if(s.points=t.map(i=>Fh.clone(i)),s.points.length>1){const i=s.points[0],o=s.points[s.points.length-1];Fh.distance(i,o)<Dh*Dh&&(r=!0)}return r===!0&&(s=IL(s)),s};var ju=DL;const kh=Xt,Gh=St,FL=e=>(kh.isIdentity(e.transforms)||(e.points=e.points.map(t=>Gh.transform(Gh.create(),t,e.transforms)),e.transforms=kh.create()),e);var kL=FL;const GL=kL,BL=e=>GL(e).points;var Ui=BL;const{TAU:ka}=Dt,Tn=St,NL=ju,$L=Ui,VL=(e,t)=>{const n={radius:[0,0],xaxisrotation:0,clockwise:!1,large:!1,segments:16};let{endpoint:r,radius:s,xaxisrotation:i,clockwise:o,large:a,segments:l}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("endpoint must be an array of X and Y values");if(r.length<2)throw new Error("endpoint must contain X and Y values");if(r=Tn.clone(r),!Array.isArray(s))throw new Error("radius must be an array of X and Y values");if(s.length<2)throw new Error("radius must contain X and Y values");if(l<4)throw new Error("segments must be four or more");const c=1e5;if(t.isClosed)throw new Error("the given path cannot be closed");const f=$L(t);if(f.length<1)throw new Error("the given path must contain one or more points (as the starting point for the arc)");let u=s[0],d=s[1];const h=f[f.length-1];u=Math.round(u*c)/c,d=Math.round(d*c)/c,r=Tn.fromValues(Math.round(r[0]*c)/c,Math.round(r[1]*c)/c);const p=!o;let g=[];if(u===0||d===0)g.push(r);else{u=Math.abs(u),d=Math.abs(d);const v=i,b=Math.cos(v),y=Math.sin(v),A=Tn.subtract(Tn.create(),h,r);Tn.scale(A,A,.5);const E=Math.round((b*A[0]+y*A[1])*c)/c,w=Math.round((-y*A[0]+b*A[1])*c)/c,S=Tn.fromValues(E,w),R=S[0]*S[0]/(u*u)+S[1]*S[1]/(d*d);if(R>1){const fe=Math.sqrt(R);u*=fe,d*=fe,u=Math.round(u*c)/c,d=Math.round(d*c)/c}let H=Math.sqrt((u*u*d*d-u*u*S[1]*S[1]-d*d*S[0]*S[0])/(u*u*S[1]*S[1]+d*d*S[0]*S[0]));p===a&&(H=-H);const W=Tn.fromValues(u*S[1]/d,-d*S[0]/u);Tn.scale(W,W,H);let G=Tn.fromValues(b*W[0]-y*W[1],y*W[0]+b*W[1]);G=Tn.add(G,G,Tn.scale(Tn.create(),Tn.add(Tn.create(),h,r),.5));const oe=Tn.fromValues((S[0]-W[0])/u,(S[1]-W[1])/d),N=Tn.fromValues((-S[0]-W[0])/u,(-S[1]-W[1])/d),X=Tn.angleRadians(oe);let te=Tn.angleRadians(N)-X;te=te%ka,!p&&te>0?te-=ka:p&&te<0&&(te+=ka);let U=Math.ceil(Math.abs(te)/ka*l)+1;U<1&&(U=1);for(let fe=1;fe<U;fe++){const _e=X+fe/U*te,Xe=Math.cos(_e),Pt=Math.sin(_e),Fe=Tn.fromValues(b*u*Xe-y*d*Pt,y*u*Xe+b*d*Pt);Tn.add(Fe,Fe,G),g.push(Fe)}U&&g.push(e.endpoint)}return g=f.concat(g),NL({},g)};var UL=VL;const zL=ju,HL=Ui,{equals:jL}=St,qL=(...e)=>{let t=!1,n=[];return e.forEach((r,s)=>{const i=HL(r).slice();if(n.length>0&&i.length>0&&jL(i[0],n[n.length-1])&&i.shift(),i.length>0&&t)throw new Error(`Cannot concatenate to a closed path; check the ${s}th path`);t=r.isClosed,n=n.concat(i)}),zL({closed:t},n)};var cv=qL;const XL=cv,WL=Tl,YL=(e,t)=>XL(t,WL(e));var fv=YL;const{TAU:ZL}=Dt,lr=St,KL=St,QL=fv,JL=Ui,eO=(e,t)=>{const n={segments:16};let{controlPoints:r,segments:s}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("controlPoints must be an array of one or more points");if(r.length<1)throw new Error("controlPoints must be an array of one or more points");if(s<4)throw new Error("segments must be four or more");if(t.isClosed)throw new Error("the given geometry cannot be closed");const i=JL(t);if(i.length<1)throw new Error("the given path must contain one or more points (as the starting point for the bezier curve)");if(r=r.slice(),r[0]===null){if(r.length<2)throw new Error("a null control point must be passed with one more control points");let w=i[i.length-2];if("lastBezierControlPoint"in t&&(w=t.lastBezierControlPoint),!Array.isArray(w))throw new Error("the given path must contain TWO or more points if given a null control point");const S=lr.scale(lr.create(),i[i.length-1],2);lr.subtract(S,S,w),r[0]=S}r.unshift(i[i.length-1]);const a=r.length-1,l=[];let c=1;for(let w=0;w<=a;++w)w>0&&(c*=w),l.push(c);const f=[];for(let w=0;w<=a;++w){const S=l[a]/(l[w]*l[a-w]);f.push(S)}const u=lr.create(),d=lr.create(),h=KL.create(),p=w=>{let S=1,R=Math.pow(1-w,a);const H=w!==1?1/(1-w):1,W=lr.create();for(let G=0;G<=a;++G){G===a&&(R=1);const oe=f[G]*S*R,N=lr.scale(u,r[G],oe);lr.add(W,W,N),S*=w,R*=H}return W},g=[],m=[],v=a+1;for(let w=0;w<v;++w){const S=w/(v-1),R=p(S);g.push(R),m.push(S)}let b=1;const y=ZL/s,A=Math.sin(y);for(;b<g.length-1;){const w=lr.subtract(u,g[b],g[b-1]);lr.normalize(w,w);const S=lr.subtract(d,g[b+1],g[b]);lr.normalize(S,S);const R=lr.cross(h,w,S);if(Math.abs(R[2])>A){const H=m[b-1],W=m[b+1],G=H+(W-H)*1/3,oe=H+(W-H)*2/3,N=p(G),X=p(oe);g.splice(b,1,N,X),m.splice(b,1,G,oe),b--,b<1&&(b=1)}else++b}g.shift();const E=QL(g,t);return E.lastBezierControlPoint=r[r.length-2],E};var tO=eO;const nO=St,Bh=Ui,rO=(e,t)=>{if(e.isClosed!==t.isClosed||e.points.length!==t.points.length)return!1;const n=Bh(e),r=Bh(t),s=n.length;let i=0;do{let o=!1;for(let a=0;a<s;a++)if(!nO.equals(n[a],r[(a+i)%s])){o=!0;break}if(o===!1)return!0;if(!e.isClosed)return!1}while(++i<s);return!1};var sO=rO;const iO=Xt,oO=St,aO=Tl,lO=e=>{if(e[0]!==2)throw new Error("invalid compact binary data");const t=aO();t.transforms=iO.clone(e.slice(1,17)),t.isClosed=!!e[17];for(let n=22;n<e.length;n+=2){const r=oO.fromValues(e[n],e[n+1]);t.points.push(r)}return e[18]>=0&&(t.color=[e[18],e[19],e[20],e[21]]),t};var cO=lO;const fO=e=>!!(e&&typeof e=="object"&&"points"in e&&"transforms"in e&&"isClosed"in e&&Array.isArray(e.points)&&"length"in e.transforms);var uv=fO;const uO=Hu,dO=e=>{const t=uO(e);return t.points=e.points.slice().reverse(),t};var hO=dO;const mO=St,pO=Ui,gO=e=>{const t=pO(e);let n="path ("+t.length+" points, "+e.isClosed+`):
[
`;return t.forEach(r=>{n+="  "+mO.toString(r)+`,
`}),n+=`]
`,n};var vO=gO;const bO=e=>{const t=e.points,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+1+4+t.length*2);s[0]=2,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=e.isClosed?1:0,s[18]=r[0],s[19]=r[1],s[20]=r[2],s[21]=r[3];for(let i=0;i<t.length;i++){const o=i*2+22,a=t[i];s[o]=a[0],s[o+1]=a[1]}return s};var _O=bO;const Nh=Xt,yO=(e,t)=>{const n=Nh.multiply(Nh.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var AO=yO;const SO=St,EO=uv,wO=e=>{if(!EO(e))throw new Error("invalid path2 structure");if(e.points.length>1){for(let t=0;t<e.points.length;t++)if(SO.equals(e.points[t],e.points[(t+1)%e.points.length]))throw new Error(`path2 duplicate points ${e.points[t]}`)}if(e.points.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`path2 invalid point ${t}`)}),!e.transforms.every(Number.isFinite))throw new Error(`path2 invalid transforms ${e.transforms}`)};var TO=wO,Ht={appendArc:UL,appendBezier:tO,appendPoints:fv,clone:Hu,close:lv,concat:cv,create:Tl,equals:sO,fromPoints:ju,fromCompactBinary:cO,isA:uv,reverse:hO,toPoints:Ui,toString:vO,toCompactBinary:_O,transform:AO,validate:TO};const CO=pt,dv=vt,hv=yt,mv=Ht,pv=Mt,PO=(e,t)=>{const n=dv.clone(t);return n.color=e,n},LO=(e,t)=>{const n=hv.clone(t);return n.color=e,n},OO=(e,t)=>{const n=mv.clone(t);return n.color=e,n},RO=(e,t)=>{const n=pv.clone(t);return n.color=e,n},MO=(e,...t)=>{if(!Array.isArray(e))throw new Error("color must be an array");if(e.length<3)throw new Error("color must contain R, G and B values");if(e.length===3&&(e=[e[0],e[1],e[2],1]),t=CO(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>dv.isA(r)?PO(e,r):hv.isA(r)?LO(e,r):mv.isA(r)?OO(e,r):pv.isA(r)?RO(e,r):(r.color=e,r));return n.length===1?n[0]:n};var IO=MO;const xO={black:[0/255,0/255,0/255],silver:[192/255,192/255,192/255],gray:[128/255,128/255,128/255],white:[255/255,255/255,255/255],maroon:[128/255,0/255,0/255],red:[255/255,0/255,0/255],purple:[128/255,0/255,128/255],fuchsia:[255/255,0/255,255/255],green:[0/255,128/255,0/255],lime:[0/255,255/255,0/255],olive:[128/255,128/255,0/255],yellow:[255/255,255/255,0/255],navy:[0/255,0/255,128/255],blue:[0/255,0/255,255/255],teal:[0/255,128/255,128/255],aqua:[0/255,255/255,255/255],aliceblue:[240/255,248/255,255/255],antiquewhite:[250/255,235/255,215/255],aquamarine:[127/255,255/255,212/255],azure:[240/255,255/255,255/255],beige:[245/255,245/255,220/255],bisque:[255/255,228/255,196/255],blanchedalmond:[255/255,235/255,205/255],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,255/255,0/255],chocolate:[210/255,105/255,30/255],coral:[255/255,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[255/255,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0/255,255/255,255/255],darkblue:[0/255,0/255,139/255],darkcyan:[0/255,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0/255,100/255,0/255],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0/255,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[255/255,140/255,0/255],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0/255,0/255],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0/255,206/255,209/255],darkviolet:[148/255,0/255,211/255],deeppink:[255/255,20/255,147/255],deepskyblue:[0/255,191/255,255/255],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,255/255],firebrick:[178/255,34/255,34/255],floralwhite:[255/255,250/255,240/255],forestgreen:[34/255,139/255,34/255],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,255/255],gold:[255/255,215/255,0/255],goldenrod:[218/255,165/255,32/255],greenyellow:[173/255,255/255,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,255/255,240/255],hotpink:[255/255,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0/255,130/255],ivory:[255/255,255/255,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[255/255,240/255,245/255],lawngreen:[124/255,252/255,0/255],lemonchiffon:[255/255,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,255/255,255/255],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[255/255,182/255,193/255],lightsalmon:[255/255,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[255/255,255/255,224/255],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[255/255,0/255,255/255],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0/255,0/255,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0/255,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,255/255,250/255],mistyrose:[255/255,228/255,225/255],moccasin:[255/255,228/255,181/255],navajowhite:[255/255,222/255,173/255],oldlace:[253/255,245/255,230/255],olivedrab:[107/255,142/255,35/255],orange:[255/255,165/255,0/255],orangered:[255/255,69/255,0/255],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[255/255,239/255,213/255],peachpuff:[255/255,218/255,185/255],peru:[205/255,133/255,63/255],pink:[255/255,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[255/255,245/255,238/255],sienna:[160/255,82/255,45/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[255/255,250/255,250/255],springgreen:[0/255,255/255,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],thistle:[216/255,191/255,216/255],tomato:[255/255,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],whitesmoke:[245/255,245/255,245/255],yellowgreen:[154/255,205/255,50/255]};var gv=xO;const DO=gv,FO=e=>DO[e.toLowerCase()];var kO=FO;const GO=e=>{if(e=e.replace("#",""),e.length<6)throw new Error("the given notation must contain 3 or more hex values");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255;if(e.length>=8){const s=parseInt(e.substring(6,8),16)/255;return[t,n,r,s]}return[t,n,r]};var BO=GO;const NO=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e);var vv=NO;const $O=pt,Rf=vv,VO=(...e)=>{if(e=$O(e),e.length<3)throw new Error("values must contain H, S and L values");const t=e[0],n=e[1],r=e[2];let s=r,i=r,o=r;if(n!==0){const a=r<.5?r*(1+n):r+n-r*n,l=2*r-a;s=Rf(l,a,t+1/3),i=Rf(l,a,t),o=Rf(l,a,t-1/3)}if(e.length>3){const a=e[3];return[s,i,o,a]}return[s,i,o]};var UO=VO;const zO=pt,HO=(...e)=>{if(e=zO(e),e.length<3)throw new Error("values must contain H, S and V values");const t=e[0],n=e[1],r=e[2];let s=0,i=0,o=0;const a=Math.floor(t*6),l=t*6-a,c=r*(1-n),f=r*(1-l*n),u=r*(1-(1-l)*n);switch(a%6){case 0:s=r,i=u,o=c;break;case 1:s=f,i=r,o=c;break;case 2:s=c,i=r,o=u;break;case 3:s=c,i=f,o=r;break;case 4:s=u,i=c,o=r;break;case 5:s=r,i=c,o=f;break}if(e.length>3){const d=e[3];return[s,i,o,d]}return[s,i,o]};var jO=HO;const qO=pt,XO=(...e)=>{if(e=qO(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0]*255,n=e[1]*255,r=e[2]*255;let s=`#${Number(16777216+t*65536+n*256+r).toString(16).substring(1,7)}`;return e.length>3&&(s=s+Number(e[3]*255).toString(16)),s};var WO=XO;const YO=pt,ZO=(...e)=>{if(e=YO(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o,a;const l=(s+i)/2;if(s===i)o=a=0;else{const c=s-i;switch(a=l>.5?c/(2-s-i):c/(s+i),s){case t:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-t)/c+2;break;case r:o=(t-n)/c+4;break}o/=6}if(e.length>3){const c=e[3];return[o,a,l,c]}return[o,a,l]};var KO=ZO;const QO=pt,JO=(...e)=>{if(e=QO(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o;const a=s,l=s-i,c=s===0?0:l/s;if(s===i)o=0;else{switch(s){case t:o=(n-r)/l+(n<r?6:0);break;case n:o=(r-t)/l+2;break;case r:o=(t-n)/l+4;break}o/=6}if(e.length>3){const f=e[3];return[o,c,a,f]}return[o,c,a]};var eR=JO,tR={colorize:IO,colorNameToRgb:kO,cssColors:gv,hexToRgb:BO,hslToRgb:UO,hsvToRgb:jO,hueToColorComponent:vv,rgbToHex:WO,rgbToHsl:KO,rgbToHsv:eR};const nR=e=>{if(!Array.isArray(e))throw new Error("Bezier points must be a valid array/");if(e.length<2)throw new Error("Bezier points must contain at least 2 values.");const t=rR(e);return{points:e,pointType:t,dimensions:t==="float_single"?0:e[0].length,permutations:$h(e.length-1),tangentPermutations:$h(e.length-2)}},rR=function(e){let t=null;return e.forEach(n=>{let r="";if(Number.isFinite(n))r="float_single";else if(Array.isArray(n))n.forEach(s=>{if(!Number.isFinite(s))throw new Error("Bezier point values must all be numbers.")}),r="float_"+n.length;else throw new Error("Bezier points must all be numbers or arrays of number.");if(t==null)t=r;else if(t!==r)throw new Error("Bezier points must be either all numbers or all arrays of numbers of the same size.")}),t},$h=function(e){const t=[];for(let n=0;n<=e;n++)t.push(Mf(e)/(Mf(n)*Mf(e-n)));return t},Mf=function(e){let t=1;for(let n=2;n<=e;n++)t*=n;return t};var sR=nR;const iR=(e,t)=>{if(e<0||e>1)throw new Error("Bezier valueAt() input must be between 0 and 1");if(t.pointType==="float_single")return Vh(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(Vh(t,s,e))}return n}},Vh=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<=r;i++)s+=e.permutations[i]*Math.pow(1-n,r-i)*Math.pow(n,i)*t[i];return s};var oR=iR;const aR=(e,t)=>{if(e<0||e>1)throw new Error("Bezier tangentAt() input must be between 0 and 1");if(t.pointType==="float_single")return Uh(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(Uh(t,s,e))}return n}},Uh=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<r;i++){const o=r*(t[i+1]-t[i]);s+=e.tangentPermutations[i]*Math.pow(1-n,r-1-i)*Math.pow(n,i)*o}return s};var lR=aR,cR={create:sR,valueAt:oR,tangentAt:lR},fR={bezier:cR};const uR=e=>{let t=0;for(let n=0;n<e.length;n++){const r=(n+1)%e.length;t+=e[n][0]*e[r][1],t-=e[r][0]*e[n][1]}return t/2};var Cl=uR;const dR=Cl,hR=e=>dR(e.vertices);var bv=hR;const mR=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var _v=mR;const pR=_v,gR=e=>{const t=e.vertices.slice().reverse();return pR(t)};var yv=gR;const vR=bv,bR=yv,_R=(e,t)=>{if(e.length===0)return 0;const n=t.vertices;return n.length<3?0:(vR(t)<0&&(t=bR(t)),e.reduce((s,i)=>s+yR(i,n),0)===e.length?1:0)},yR=(e,t)=>{const n=t.length,r=e[0],s=e[1];let i=t[n-1],o=t[0],a=i[1]>s,l=0,c=0;for(let f=n+1;--f;){const u=o[1]>s;if(a!==u){const d=i[0]>r,h=o[0]>r;(d&&h||o[0]-(o[1]-s)*(i[0]-o[0])/(i[1]-o[1])>=r)&&(l=!l)}a=u,i=o,o=t[++c]}return l};var AR=_R,qu={arePointsInside:AR,create:_v,flip:yv,measureArea:bv},Xu={geom2:vt,geom3:yt,path2:Ht,poly2:qu,poly3:Mt};const SR=()=>[0,1,0];var Wu=SR;const ER=Wu,wR=e=>{const t=ER();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var TR=wR;const If=St,CR=e=>{const t=If.normal(If.create(),e);return If.negate(t,t),t};var Yu=CR;const zh=St,PR=e=>zh.scale(zh.create(),e,e[2]);var Pl=PR;const LR=St,OR=Yu,RR=Pl,MR=(e,t)=>{const n=RR(e),r=OR(e),s=(r[1]-n[1])/(r[0]-n[0]),i=n[1]-s*n[0],o=-1/s,l=(t[1]-o*t[0]-i)/(s-o),c=s*l+i;return LR.fromValues(l,c)};var IR=MR;const xR=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var Av=xR;const DR=St,FR=(e,t)=>{let n=DR.dot(t,e);return n=Math.abs(n-e[2]),n};var kR=FR;const GR=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var BR=GR;const po=St,NR=(e,t,n)=>{const r=po.subtract(po.create(),n,t);po.normal(r,r),po.normalize(r,r);const s=po.dot(t,r);return e[0]=r[0],e[1]=r[1],e[2]=s,e};var Sv=NR;const $R=Wu,VR=(e,t,n)=>{const r=$R();return r[0]=e,r[1]=t,r[2]=n,r};var Ev=VR;const{NEPS:xf}=Dt,UR=(e,t)=>Math.abs(e[0]-t[0])<=xf&&Math.abs(e[1]-t[1])<=xf&&Math.abs(e[2]-t[2])<=xf;var Ll=UR;const zR=(e,t,n)=>{let r=n-e[1],s=t[1]-e[1];s<0&&(r=-r,s=-s);let i;return r<=0?i=0:r>=s?i=1:s<1e-10?i=.5:i=r/s,e[0]+i*(t[0]-e[0])};var wv=zR;const HR=(e,t,n,r)=>{if(e[0]===t[0]&&e[1]===t[1]||n[0]===r[0]&&n[1]===r[1])return;const s=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(Math.abs(s)<Number.MIN_VALUE)return;const i=((r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]))/s,o=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/s;if(i<0||i>1||o<0||o>1)return;const a=e[0]+i*(t[0]-e[0]),l=e[1]+i*(t[1]-e[1]);return[a,l]};var Tv=HR;const jR=(e,t,n,r,s,i)=>{const a=1/(e*r-t*n);let l=s*r-t*i,c=-s*n+e*i;return l*=a,c*=a,[l,c]};var qR=jR,Vo={aboutEqualNormals:Ll,area:Cl,cos:Hn.cos,interpolateBetween2DPointsForY:wv,intersect:Tv,sin:Hn.sin,solve2Linear:qR};const XR=St,{solve2Linear:WR}=Vo,YR=(e,t)=>{const n=WR(e[0],e[1],t[0],t[1],e[2],t[2]);return XR.clone(n)};var ZR=YR;const Hh=St,KR=Av,QR=Ev,JR=(e,t)=>{const n=Hh.negate(Hh.create(),t),r=-t[2];return KR(e,QR(n[0],n[1],r))};var e6=JR;const t6=e=>`line2: (${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)})`;var n6=t6;const jh=St,r6=Sv,s6=Pl,i6=Yu,o6=(e,t,n)=>{const r=s6(t),s=i6(t);return jh.transform(r,r,n),jh.transform(s,s,n),r6(e,r,s)};var a6=o6;const l6=Pl,c6=(e,t)=>{let n=(e[2]-e[1]*t)/e[0];return Number.isNaN(n)&&(n=l6(e)[0]),n};var f6=c6,Zu={clone:TR,closestPoint:IR,copy:Av,create:Wu,direction:Yu,distanceToPoint:kR,equals:BR,fromPoints:Sv,fromValues:Ev,intersectPointOfLines:ZR,origin:Pl,reverse:e6,toString:n6,transform:a6,xAtY:f6};const qh=rt,u6=()=>[qh.fromValues(0,0,0),qh.fromValues(0,0,1)];var Cv=u6;const Xh=rt,d6=Cv,h6=e=>{const t=d6();return Xh.copy(t[0],e[0]),Xh.copy(t[1],e[1]),t};var m6=h6;const ks=rt,p6=(e,t)=>{const n=e[0],r=e[1],s=ks.dot(ks.subtract(ks.create(),t,n),r),i=ks.dot(r,r),o=s/i,a=ks.scale(ks.create(),r,o);return ks.add(a,a,n),a};var Pv=p6;const Wh=rt,g6=(e,t)=>(Wh.copy(e[0],t[0]),Wh.copy(e[1],t[1]),e);var v6=g6;const b6=e=>e[1];var _6=b6;const Df=rt,y6=Pv,A6=(e,t)=>{const n=y6(e,t),r=Df.subtract(Df.create(),t,n);return Df.length(r)};var S6=A6;const Yh=rt,E6=(e,t)=>!(!Yh.equals(e[1],t[1])||!Yh.equals(e[0],t[0]));var w6=E6;const Ga=rt,T6=(e,t,n)=>{const r=Ga.normalize(Ga.create(),n);return Ga.copy(e[0],t),Ga.copy(e[1],r),e};var Uo=T6;const Gs=rt,{solve2Linear:Ff}=Vo,{EPS:C6}=Dt,P6=Uo,L6=(e,t,n)=>{let r=Gs.cross(Gs.create(),t,n),s=Gs.length(r);if(s<C6)throw new Error("parallel planes do not intersect");s=1/s,r=Gs.scale(r,r,s);const i=Math.abs(r[0]),o=Math.abs(r[1]),a=Math.abs(r[2]);let l,c;return i>=o&&i>=a?(c=Ff(t[1],t[2],n[1],n[2],t[3],n[3]),l=Gs.fromValues(0,c[0],c[1])):o>=i&&o>=a?(c=Ff(t[0],t[2],n[0],n[2],t[3],n[3]),l=Gs.fromValues(c[0],0,c[1])):(c=Ff(t[0],t[1],n[0],n[1],t[3],n[3]),l=Gs.fromValues(c[0],c[1],0)),P6(e,l,r)};var O6=L6;const Zh=rt,R6=Uo,M6=(e,t,n)=>{const r=Zh.subtract(Zh.create(),n,t);return R6(e,t,r)};var I6=M6;const _i=rt,x6=(e,t)=>{const n=t,r=t[3],s=e[0],i=e[1],o=(r-_i.dot(n,s))/_i.dot(n,i);return _i.add(_i.create(),s,_i.scale(_i.create(),i,o))};var D6=x6;const F6=e=>e[0];var k6=F6;const kf=rt,G6=Uo,B6=(e,t)=>{const n=kf.clone(t[0]),r=kf.negate(kf.create(),t[1]);return G6(e,n,r)};var N6=B6;const $6=e=>{const t=e[0],n=e[1];return`line3: point: (${t[0].toFixed(7)}, ${t[1].toFixed(7)}, ${t[2].toFixed(7)}) direction: (${n[0].toFixed(7)}, ${n[1].toFixed(7)}, ${n[2].toFixed(7)})`};var V6=$6;const yi=rt,U6=Uo,z6=(e,t,n)=>{const r=t[0],s=t[1],i=yi.add(yi.create(),r,s),o=yi.transform(yi.create(),r,n),a=yi.transform(i,i,n),l=yi.subtract(a,a,o);return U6(e,o,l)};var H6=z6,j6={clone:m6,closestPoint:Pv,copy:v6,create:Cv,direction:_6,distanceToPoint:S6,equals:w6,fromPlanes:O6,fromPointAndDirection:Uo,fromPoints:I6,intersectPointOfLineAndPlane:D6,origin:k6,reverse:N6,toString:V6,transform:H6},q6={constants:Dt,line2:Zu,line3:j6,mat4:Xt,plane:Fr,utils:Vo,vec2:St,vec3:rt,vec4:ov};const X6=pt,Lv=vt,Ov=yt,W6=Ht,Y6=Mt,ul=new WeakMap,Z6=()=>0,K6=e=>{let t=ul.get(e);return t||(t=Lv.toSides(e).reduce((r,s)=>r+(s[0][0]*s[1][1]-s[0][1]*s[1][0]),0),t*=.5,ul.set(e,t),t)},Q6=e=>{let t=ul.get(e);return t||(t=Ov.toPolygons(e).reduce((r,s)=>r+Y6.measureArea(s),0),ul.set(e,t),t)},J6=(...e)=>{if(e=X6(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>W6.isA(n)?Z6():Lv.isA(n)?K6(n):Ov.isA(n)?Q6(n):0);return t.length===1?t[0]:t};var Rv=J6;const eM=pt,tM=Rv,nM=(...e)=>{if(e=eM(e),e.length===0)throw new Error("measureAggregateArea: no geometries supplied");const t=tM(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var rM=nM;const sM=pt,Ir=St,go=rt,Mv=vt,Iv=yt,xv=Ht,Kh=Mt,Fi=new WeakMap,iM=e=>{let t=Fi.get(e);if(t)return t;const n=xv.toPoints(e);let r;n.length===0?r=Ir.create():r=Ir.clone(n[0]);let s=Ir.clone(r);return n.forEach(i=>{Ir.min(r,r,i),Ir.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],Fi.set(e,t),t},oM=e=>{let t=Fi.get(e);if(t)return t;const n=Mv.toPoints(e);let r;n.length===0?r=Ir.create():r=Ir.clone(n[0]);let s=Ir.clone(r);return n.forEach(i=>{Ir.min(r,r,i),Ir.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],Fi.set(e,t),t},aM=e=>{let t=Fi.get(e);if(t)return t;const n=Iv.toPolygons(e);let r=go.create();if(n.length>0){const i=Kh.toPoints(n[0]);go.copy(r,i[0])}let s=go.clone(r);return n.forEach(i=>{Kh.toPoints(i).forEach(o=>{go.min(r,r,o),go.max(s,s,o)})}),r=[r[0],r[1],r[2]],s=[s[0],s[1],s[2]],t=[r,s],Fi.set(e,t),t},lM=(...e)=>{if(e=sM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>xv.isA(n)?iM(n):Mv.isA(n)?oM(n):Iv.isA(n)?aM(n):[[0,0,0],[0,0,0]]);return t.length===1?t[0]:t};var Ks=lM;const cM=pt,fM=Vg,uM=$g,dM=Ks,hM=(...e)=>{if(e=cM(e),e.length===0)throw new Error("measureAggregateBoundingBox: no geometries supplied");const t=dM(e);if(e.length===1)return t;const n=[[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]];return t.reduce((r,s)=>(r=[fM(r[0],r[0],s[0]),uM(r[1],r[1],s[1])],r),n)};var Ku=hM;const{EPS:mM}=Dt,pM=(e,t)=>{let n=0;for(let r=0;r<t;r++)n+=e[1][r]-e[0][r];return mM*n/t};var Dv=pM;const gM=pt,vM=Ku,bM=Dv,{geom2:_M,geom3:yM,path2:AM}=Xu,SM=(...e)=>{if(e=gM(e),e.length===0)throw new Error("measureAggregateEpsilon: no geometries supplied");const t=vM(e);let n=0;return n=e.reduce((r,s)=>AM.isA(s)||_M.isA(s)?Math.max(r,2):yM.isA(s)?Math.max(r,3):0,n),bM(t,n)};var EM=SM;const wM=pt,TM=vt,Fv=yt,CM=Ht,PM=Mt,Qh=new WeakMap,LM=()=>0,OM=()=>0,RM=e=>{let t=Qh.get(e);return t||(t=Fv.toPolygons(e).reduce((r,s)=>r+PM.measureSignedVolume(s),0),Qh.set(e,t),t)},MM=(...e)=>{if(e=wM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>CM.isA(n)?LM():TM.isA(n)?OM():Fv.isA(n)?RM(n):0);return t.length===1?t[0]:t};var kv=MM;const IM=pt,xM=kv,DM=(...e)=>{if(e=IM(e),e.length===0)throw new Error("measureAggregateVolume: no geometries supplied");const t=xM(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var FM=DM;const kM=pt,Gv=St,tr=rt,Bv=vt,Nv=yt,$v=Ht,Jh=Mt,ki=new WeakMap,GM=e=>{let t=ki.get(e);if(t!==void 0)return t;const n=tr.create();let r=0;const s=$v.toPoints(e);if(s.length>0){let i=0;const o=tr.create();s.forEach(a=>{tr.add(n,n,tr.fromVec2(o,a,0)),i++}),tr.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,Gv.squaredDistance(n,a))}),r=Math.sqrt(r)}return t=[n,r],ki.set(e,t),t},BM=e=>{let t=ki.get(e);if(t!==void 0)return t;const n=tr.create();let r=0;const s=Bv.toSides(e);if(s.length>0){let i=0;const o=tr.create();s.forEach(a=>{tr.add(n,n,tr.fromVec2(o,a[0],0)),i++}),tr.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,Gv.squaredDistance(n,a[0]))}),r=Math.sqrt(r)}return t=[n,r],ki.set(e,t),t},NM=e=>{let t=ki.get(e);if(t!==void 0)return t;const n=tr.create();let r=0;const s=Nv.toPolygons(e);if(s.length>0){let i=0;s.forEach(o=>{Jh.toPoints(o).forEach(a=>{tr.add(n,n,a),i++})}),tr.scale(n,n,1/i),s.forEach(o=>{Jh.toPoints(o).forEach(a=>{r=Math.max(r,tr.squaredDistance(n,a))})}),r=Math.sqrt(r)}return t=[n,r],ki.set(e,t),t},$M=(...e)=>{e=kM(e);const t=e.map(n=>$v.isA(n)?GM(n):Bv.isA(n)?BM(n):Nv.isA(n)?NM(n):[[0,0,0],0]);return t.length===1?t[0]:t};var VM=$M;const UM=pt,zM=Ks,HM=(...e)=>{e=UM(e);const t=e.map(n=>{const r=zM(n);return[r[0][0]+(r[1][0]-r[0][0])/2,r[0][1]+(r[1][1]-r[0][1])/2,r[0][2]+(r[1][2]-r[0][2])/2]});return t.length===1?t[0]:t};var jM=HM;const qM=pt,Mr=rt,Vv=vt,Uv=yt,dl=new WeakMap,XM=e=>{let t=dl.get(e);if(t!==void 0)return t;const n=Vv.toSides(e);let r=0,s=0,i=0;if(n.length>0){for(let a=0;a<n.length;a++){const l=n[a][0],c=n[a][1],f=l[0]*c[1]-l[1]*c[0];r+=f,s+=(l[0]+c[0])*f,i+=(l[1]+c[1])*f}r/=2;const o=1/(r*6);s*=o,i*=o}return t=Mr.fromValues(s,i,0),dl.set(e,t),t},WM=e=>{let t=dl.get(e);if(t!==void 0)return t;t=Mr.create();const n=Uv.toPolygons(e);if(n.length===0)return t;let r=0;const s=Mr.create();return n.forEach(i=>{const o=i.vertices;for(let a=0;a<o.length-2;a++){Mr.cross(s,o[a+1],o[a+2]);const l=Mr.dot(o[0],s)/6;r+=l,Mr.add(s,o[0],o[a+1]),Mr.add(s,s,o[a+2]);const c=Mr.scale(s,s,1/4*l);Mr.add(t,t,c)}}),Mr.scale(t,t,1/r),dl.set(e,t),t},YM=(...e)=>{e=qM(e);const t=e.map(n=>Vv.isA(n)?XM(n):Uv.isA(n)?WM(n):[0,0,0]);return t.length===1?t[0]:t};var ZM=YM;const KM=pt,QM=Ks,JM=(...e)=>{e=KM(e);const t=e.map(n=>{const r=QM(n);return[r[1][0]-r[0][0],r[1][1]-r[0][1],r[1][2]-r[0][2]]});return t.length===1?t[0]:t};var e8=JM;const t8=pt,{geom2:n8,geom3:r8,path2:s8}=Xu,Qu=Dv,Ju=Ks,i8=e=>Qu(Ju(e),2),o8=e=>Qu(Ju(e),2),a8=e=>Qu(Ju(e),3),l8=(...e)=>{if(e=t8(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>s8.isA(n)?i8(n):n8.isA(n)?o8(n):r8.isA(n)?a8(n):0);return t.length===1?t[0]:t};var vs=l8,c8={measureAggregateArea:rM,measureAggregateBoundingBox:Ku,measureAggregateEpsilon:EM,measureAggregateVolume:FM,measureArea:Rv,measureBoundingBox:Ks,measureBoundingSphere:VM,measureCenter:jM,measureCenterOfMass:ZM,measureDimensions:e8,measureEpsilon:vs,measureVolume:kv};const f8=(e,t)=>Array.isArray(e)&&e.length>=t?e.every(n=>Number.isFinite(n)):!1,u8=(e,t)=>Number.isFinite(e)&&e>t,d8=(e,t)=>Number.isFinite(e)&&e>=t;var xn={isNumberArray:f8,isGT:u8,isGTE:d8};const{EPS:e0,TAU:Ai}=Dt,Vr=St,h8=Ht,{isGT:m8,isGTE:Gf,isNumberArray:p8}=xn,g8=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:Ai,makeTangent:!1,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,makeTangent:o,segments:a}=Object.assign({},t,e);if(!p8(n,2))throw new Error("center must be an array of X and Y values");if(!m8(r,0))throw new Error("radius must be greater than zero");if(!Gf(s,0))throw new Error("startAngle must be positive");if(!Gf(i,0))throw new Error("endAngle must be positive");if(!Gf(a,4))throw new Error("segments must be four or more");s=s%Ai,i=i%Ai;let l=Ai;s<i&&(l=i-s),s>i&&(l=i+(Ai-s));const c=Math.acos((r*r+r*r-e0*e0)/(2*r*r)),f=Vr.clone(n);let u;const d=[];if(l<c)u=Vr.fromAngleRadians(Vr.create(),s),Vr.scale(u,u,r),Vr.add(u,u,f),d.push(u);else{const h=Math.max(1,Math.floor(a*(l/Ai)))+1;let p=h*.5/l;p>.25&&(p=.25);const g=o?h+2:h;for(let m=0;m<=g;m++){let v=m;o&&(v=(m-1)*(h-2*p)/h+p,v<0&&(v=0),v>h&&(v=h));const b=s+v*(l/h);u=Vr.fromAngleRadians(Vr.create(),b),Vr.scale(u,u,r),Vr.add(u,u,f),d.push(u)}}return h8.fromPoints({closed:!1},d)};var v8=g8;const{EPS:t0,TAU:fs}=Dt,Bf=St,b8=vt,{sin:_8,cos:y8}=Hn,{isGTE:Nf,isNumberArray:n0}=xn,A8=e=>{const t={center:[0,0],radius:[1,1],startAngle:0,endAngle:fs,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!n0(n,2))throw new Error("center must be an array of X and Y values");if(!n0(r,2))throw new Error("radius must be an array of X and Y values");if(!r.every(h=>h>0))throw new Error("radius values must be greater than zero");if(!Nf(s,0))throw new Error("startAngle must be positive");if(!Nf(i,0))throw new Error("endAngle must be positive");if(!Nf(o,3))throw new Error("segments must be three or more");s=s%fs,i=i%fs;let a=fs;s<i&&(a=i-s),s>i&&(a=i+(fs-s));const l=Math.min(r[0],r[1]),c=Math.acos((l*l+l*l-t0*t0)/(2*l*l));if(a<c)throw new Error("startAngle and endAngle do not define a significant rotation");o=Math.floor(o*(a/fs));const f=Bf.clone(n),u=a/o,d=[];o=a<fs?o+1:o;for(let h=0;h<o;h++){const p=u*h+s,g=Bf.fromValues(r[0]*y8(p),r[1]*_8(p));Bf.add(g,f,g),d.push(g)}return a<fs&&d.push(f),b8.fromPoints(d)};var zv=A8;const{TAU:S8}=Dt,E8=zv,{isGT:w8}=xn,T8=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:S8,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!w8(r,0))throw new Error("radius must be greater than zero");return r=[r,r],E8({center:n,radius:r,startAngle:s,endAngle:i,segments:o})};var Hv=T8;const C8=yt,P8=Mt,{isNumberArray:r0}=xn,L8=e=>{const t={center:[0,0,0],size:[2,2,2]},{center:n,size:r}=Object.assign({},t,e);if(!r0(n,3))throw new Error("center must be an array of X, Y and Z values");if(!r0(r,3))throw new Error("size must be an array of width, depth and height values");if(!r.every(i=>i>0))throw new Error("size values must be greater than zero");return C8.create([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(i=>{const o=i[0].map(a=>[n[0]+r[0]/2*(2*!!(a&1)-1),n[1]+r[1]/2*(2*!!(a&2)-1),n[2]+r[2]/2*(2*!!(a&4)-1)]);return P8.create(o)}))};var jv=L8;const O8=jv,{isGT:R8}=xn,M8=e=>{const t={center:[0,0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!R8(r,0))throw new Error("size must be greater than zero");return r=[r,r,r],O8({center:n,size:r})};var I8=M8;const{EPS:s0,TAU:us}=Dt,Nn=rt,x8=yt,D8=Mt,{sin:F8,cos:k8}=Hn,{isGT:G8,isGTE:$f,isNumberArray:Vf}=xn,B8=e=>{const t={center:[0,0,0],height:2,startRadius:[1,1],startAngle:0,endRadius:[1,1],endAngle:us,segments:32};let{center:n,height:r,startRadius:s,startAngle:i,endRadius:o,endAngle:a,segments:l}=Object.assign({},t,e);if(!Vf(n,3))throw new Error("center must be an array of X, Y and Z values");if(!G8(r,0))throw new Error("height must be greater then zero");if(!Vf(s,2))throw new Error("startRadius must be an array of X and Y values");if(!s.every(H=>H>=0))throw new Error("startRadius values must be positive");if(!Vf(o,2))throw new Error("endRadius must be an array of X and Y values");if(!o.every(H=>H>=0))throw new Error("endRadius values must be positive");if(o.every(H=>H===0)&&s.every(H=>H===0))throw new Error("at least one radius must be positive");if(!$f(i,0))throw new Error("startAngle must be positive");if(!$f(a,0))throw new Error("endAngle must be positive");if(!$f(l,4))throw new Error("segments must be four or more");i=i%us,a=a%us;let c=us;i<a&&(c=a-i),i>a&&(c=a+(us-i));const f=Math.min(s[0],s[1],o[0],o[1]),u=Math.acos((f*f+f*f-s0*s0)/(2*f*f));if(c<u)throw new Error("startAngle and endAngle do not define a significant rotation");const d=Math.floor(l*(c/us)),h=Nn.fromValues(0,0,-(r/2)),p=Nn.fromValues(0,0,r/2),g=Nn.subtract(Nn.create(),p,h),m=Nn.fromValues(1,0,0),v=Nn.fromValues(0,1,0),b=Nn.create(),y=Nn.create(),A=Nn.create(),E=(H,W,G)=>{const oe=W*c+i;return Nn.scale(b,m,G[0]*k8(oe)),Nn.scale(y,v,G[1]*F8(oe)),Nn.add(b,b,y),Nn.scale(A,g,H),Nn.add(A,A,h),Nn.add(Nn.create(),b,A)},w=(...H)=>{const W=H.map(G=>Nn.add(Nn.create(),G,n));return D8.create(W)},S=[];for(let H=0;H<d;H++){const W=H/d;let G=(H+1)/d;c===us&&H===d-1&&(G=0),o[0]===s[0]&&o[1]===s[1]?(S.push(w(h,E(0,G,o),E(0,W,o))),S.push(w(E(0,G,o),E(1,G,o),E(1,W,o),E(0,W,o))),S.push(w(p,E(1,W,o),E(1,G,o)))):(s[0]>0&&s[1]>0&&S.push(w(h,E(0,G,s),E(0,W,s))),(s[0]>0||s[1]>0)&&S.push(w(E(0,W,s),E(0,G,s),E(1,W,o))),o[0]>0&&o[1]>0&&S.push(w(p,E(1,W,o),E(1,G,o))),(o[0]>0||o[1]>0)&&S.push(w(E(1,W,o),E(0,G,s),E(1,G,o))))}return c<us&&(S.push(w(h,E(0,0,s),p)),S.push(w(E(0,0,s),E(1,0,o),p)),S.push(w(h,p,E(0,1,s))),S.push(w(E(0,1,s),p,E(1,1,o)))),x8.create(S)};var qv=B8;const N8=qv,{isGT:$8}=xn,V8=e=>{const t={center:[0,0,0],height:2,radius:1,segments:32},{center:n,height:r,radius:s,segments:i}=Object.assign({},t,e);if(!$8(s,0))throw new Error("radius must be greater than zero");return N8({center:n,height:r,startRadius:[s,s],endRadius:[s,s],segments:i})};var U8=V8;const{TAU:i0}=Dt,st=rt,z8=yt,o0=Mt,{sin:a0,cos:l0}=Hn,{isGTE:H8,isNumberArray:c0}=xn,j8=e=>{const t={center:[0,0,0],radius:[1,1,1],segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!c0(n,3))throw new Error("center must be an array of X, Y and Z values");if(!c0(r,3))throw new Error("radius must be an array of X, Y and Z values");if(!r.every(p=>p>0))throw new Error("radius values must be greater than zero");if(!H8(s,4))throw new Error("segments must be four or more");const o=st.scale(st.create(),st.normalize(st.create(),i[0]),r[0]),a=st.scale(st.create(),st.normalize(st.create(),i[1]),r[1]),l=st.scale(st.create(),st.normalize(st.create(),i[2]),r[2]),c=Math.round(s/4);let f;const u=[],d=st.create(),h=st.create();for(let p=0;p<=s;p++){const g=i0*p/s,m=st.add(st.create(),st.scale(d,o,l0(g)),st.scale(h,a,a0(g)));if(p>0){let v,b;for(let y=0;y<=c;y++){const A=i0/4*y/c,E=l0(A),w=a0(A);if(y>0){let S=[],R;R=st.subtract(st.create(),st.scale(d,f,v),st.scale(h,l,b)),S.push(st.add(R,R,n)),R=st.subtract(st.create(),st.scale(d,m,v),st.scale(h,l,b)),S.push(st.add(R,R,n)),y<c&&(R=st.subtract(st.create(),st.scale(d,m,E),st.scale(h,l,w)),S.push(st.add(R,R,n))),R=st.subtract(st.create(),st.scale(d,f,E),st.scale(h,l,w)),S.push(st.add(R,R,n)),u.push(o0.create(S)),S=[],R=st.add(st.create(),st.scale(d,f,v),st.scale(h,l,b)),S.push(st.add(st.create(),n,R)),R=st.add(R,st.scale(d,m,v),st.scale(h,l,b)),S.push(st.add(st.create(),n,R)),y<c&&(R=st.add(R,st.scale(d,m,E),st.scale(h,l,w)),S.push(st.add(st.create(),n,R))),R=st.add(R,st.scale(d,f,E),st.scale(h,l,w)),S.push(st.add(st.create(),n,R)),S.reverse(),u.push(o0.create(S))}v=E,b=w}}f=m}return z8.create(u)};var Xv=j8;const q8=yt,X8=Mt,{isNumberArray:f0}=xn,W8=e=>{const t={points:[],faces:[],colors:void 0,orientation:"outward"},{points:n,faces:r,colors:s,orientation:i}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and faces must be arrays");if(n.length<3)throw new Error("three or more points are required");if(r.length<1)throw new Error("one or more faces are required");if(s){if(!Array.isArray(s))throw new Error("colors must be an array");if(s.length!==r.length)throw new Error("faces and colors must have the same length")}n.forEach((a,l)=>{if(!f0(a,3))throw new Error(`point ${l} must be an array of X, Y, Z values`)}),r.forEach((a,l)=>{if(a.length<3)throw new Error(`face ${l} must contain 3 or more indexes`);if(!f0(a,a.length))throw new Error(`face ${l} must be an array of numbers`)}),i!=="outward"&&r.forEach(a=>a.reverse());const o=r.map((a,l)=>{const c=X8.create(a.map(f=>n[f]));return s&&s[l]&&(c.color=s[l]),c});return q8.create(o)};var Wv=W8;const u0=Xt,d0=rt,Y8=yt,Z8=Wv,{isGT:K8,isGTE:Q8}=xn,J8=e=>{const t={radius:1,frequency:6};let{radius:n,frequency:r}=Object.assign({},t,e);if(!K8(n,0))throw new Error("radius must be greater than zero");if(!Q8(r,6))throw new Error("frequency must be six or more");r=Math.floor(r/6);const s=[[.850651,0,-.525731],[.850651,-0,.525731],[-.850651,-0,.525731],[-.850651,0,-.525731],[0,-.525731,.850651],[0,.525731,.850651],[0,.525731,-.850651],[0,-.525731,-.850651],[-.525731,-.850651,-0],[.525731,-.850651,-0],[.525731,.850651,0],[-.525731,.850651,0]],i=[[0,9,1],[1,10,0],[6,7,0],[10,6,0],[7,9,0],[5,1,4],[4,1,9],[5,10,1],[2,8,3],[3,11,2],[2,5,4],[4,8,2],[2,11,5],[3,7,6],[6,11,3],[8,7,3],[9,8,4],[11,10,5],[10,11,6],[8,9,7]],o=(d,h,p)=>{const g=d[0],m=d[1],v=d[2];let b=p;const y=[],A=[];for(let E=0;E<h;E++)for(let w=0;w<h-E;w++){const S=E/h,R=(E+1)/h,H=w/(h-E),W=(w+1)/(h-E),G=h-E-1?w/(h-E-1):1,oe=[];oe[0]=a(a(g,m,H),v,S),oe[1]=a(a(g,m,W),v,S),oe[2]=a(a(g,m,G),v,R);for(let N=0;N<3;N++){const X=d0.length(oe[N]);for(let Ee=0;Ee<3;Ee++)oe[N][Ee]/=X}if(y.push(oe[0],oe[1],oe[2]),A.push([b,b+1,b+2]),b+=3,w<h-E-1){const N=h-E-1?(w+1)/(h-E-1):1;oe[0]=a(a(g,m,W),v,S),oe[1]=a(a(g,m,N),v,R),oe[2]=a(a(g,m,G),v,R);for(let X=0;X<3;X++){const Ee=d0.length(oe[X]);for(let te=0;te<3;te++)oe[X][te]/=Ee}y.push(oe[0],oe[1],oe[2]),A.push([b,b+1,b+2]),b+=3}}return{points:y,triangles:A,offset:b}},a=(d,h,p)=>{const g=1-p,m=[];for(let v=0;v<3;v++)m[v]=d[v]*g+h[v]*p;return m};let l=[],c=[],f=0;for(let d=0;d<i.length;d++){const h=o([s[i[d][0]],s[i[d][1]],s[i[d][2]]],r,f);l=l.concat(h.points),c=c.concat(h.triangles),f=h.offset}let u=Z8({points:l,faces:c,orientation:"inward"});return n!==1&&(u=Y8.transform(u0.fromScaling(u0.create(),[n,n,n]),u)),u};var eI=J8;const tI=Ht,nI=e=>{if(!Array.isArray(e))throw new Error("points must be an array");return tI.fromPoints({},e)};var rI=nI;const Uf=vt,sI=e=>{const t={points:[],paths:[]},{points:n,paths:r}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and paths must be arrays");let s=n;Array.isArray(n[0])&&(Array.isArray(n[0][0])||(s=[n])),s.forEach((l,c)=>{if(!Array.isArray(l))throw new Error("list of points "+c+" must be an array");if(l.length<3)throw new Error("list of points "+c+" must contain three or more points");l.forEach((f,u)=>{if(!Array.isArray(f))throw new Error("list of points "+c+", point "+u+" must be an array");if(f.length<2)throw new Error("list of points "+c+", point "+u+" must contain by X and Y values")})});let i=r;if(r.length===0){let l=0;i=s.map(c=>c.map(f=>l++))}const o=[];s.forEach(l=>l.forEach(c=>o.push(c)));let a=[];return i.forEach(l=>{const c=l.map(u=>o[u]),f=Uf.fromPoints(c);a=a.concat(Uf.toSides(f))}),Uf.create(a)};var iI=sI;const ds=St,oI=vt,{isNumberArray:h0}=xn,aI=e=>{const t={center:[0,0],size:[2,2]},{center:n,size:r}=Object.assign({},t,e);if(!h0(n,2))throw new Error("center must be an array of X and Y values");if(!h0(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(a=>a>0))throw new Error("size values must be greater than zero");const s=[r[0]/2,r[1]/2],i=[s[0],-s[1]],o=[ds.subtract(ds.create(),n,s),ds.add(ds.create(),n,i),ds.add(ds.create(),n,s),ds.subtract(ds.create(),n,i)];return oI.fromPoints(o)};var Yv=aI;const{EPS:ol,TAU:vo}=Dt,zf=St,_n=rt,lI=yt,Gi=Mt,{sin:cI,cos:fI}=Hn,{isGT:uI,isGTE:dI,isNumberArray:m0}=xn,p0=(e,t,n,r,s,i)=>{const o=vo/4*s/r,a=fI(o),l=cI(o),c=r-s;let f=n*a,u=t[2]-(n-n*l);i||(u=n-n*l-t[2]),f=f>ol?f:0;const d=_n.add(_n.create(),e,[t[0]-n,t[1]-n,u]),h=_n.add(_n.create(),e,[n-t[0],t[1]-n,u]),p=_n.add(_n.create(),e,[n-t[0],n-t[1],u]),g=_n.add(_n.create(),e,[t[0]-n,n-t[1],u]),m=[],v=[],b=[],y=[];for(let A=0;A<=c;A++){const E=c>0?vo/4*A/c:0,w=zf.fromAngleRadians(zf.create(),E);zf.scale(w,w,f);const S=_n.fromVec2(_n.create(),w);m.push(_n.add(_n.create(),d,S)),_n.rotateZ(S,S,[0,0,0],vo/4),v.push(_n.add(_n.create(),h,S)),_n.rotateZ(S,S,[0,0,0],vo/4),b.push(_n.add(_n.create(),p,S)),_n.rotateZ(S,S,[0,0,0],vo/4),y.push(_n.add(_n.create(),g,S))}return i?[m,v,b,y]:(m.reverse(),v.reverse(),b.reverse(),y.reverse(),[y,b,v,m])},g0=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];for(let o=0;o<s.length-1;o++)n.push(Gi.create([s[o],s[o+1],i[o]])),o<i.length-1&&n.push(Gi.create([i[o],s[o+1],i[o+1]]))}return n},v0=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t[r];const o=s[s.length-1],a=i[i.length-1],l=(r+1)%e.length;s=e[l],i=t[l];const c=s[0],f=i[0];n.push(Gi.create([o,c,f,a]))}return n},hI=(e,t)=>{e=[e[3],e[2],e[1],e[0]],e=e.map(i=>i.slice().reverse());const n=[];e.forEach(i=>{i.forEach(o=>n.push(o))});const r=[];t.forEach(i=>{i.forEach(o=>r.push(o))});const s=[];for(let i=0;i<r.length;i++){const o=(i+1)%r.length;s.push(Gi.create([n[i],n[o],r[o],r[i]]))}return s},mI=e=>{const t={center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!m0(n,3))throw new Error("center must be an array of X, Y and Z values");if(!m0(r,3))throw new Error("size must be an array of X, Y and Z values");if(!r.every(c=>c>0))throw new Error("size values must be greater than zero");if(!uI(s,0))throw new Error("roundRadius must be greater than zero");if(!dI(i,4))throw new Error("segments must be four or more");if(r=r.map(c=>c/2),s>r[0]-ol||s>r[1]-ol||s>r[2]-ol)throw new Error("roundRadius must be smaller then the radius of all dimensions");i=Math.floor(i/4);let o=null,a=null,l=[];for(let c=0;c<=i;c++){const f=p0(n,r,s,i,c,!0),u=p0(n,r,s,i,c,!1);if(c===0&&(l=l.concat(hI(u,f))),o&&(l=l.concat(g0(o,f),v0(o,f))),a&&(l=l.concat(g0(a,u),v0(a,u))),c===i){let d=f.map(h=>h[0]);l.push(Gi.create(d)),d=u.map(h=>h[0]),l.push(Gi.create(d))}o=f,a=u}return lI.create(l)};var pI=mI;const{EPS:b0,TAU:_0}=Dt,We=rt,gI=yt,vI=Mt,{sin:y0,cos:A0}=Hn,{isGT:Hf,isGTE:bI,isNumberArray:_I}=xn,yI=e=>{const t={center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},{center:n,height:r,radius:s,roundRadius:i,segments:o}=Object.assign({},t,e);if(!_I(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Hf(r,0))throw new Error("height must be greater then zero");if(!Hf(s,0))throw new Error("radius must be greater then zero");if(!Hf(i,0))throw new Error("roundRadius must be greater then zero");if(i>s-b0)throw new Error("roundRadius must be smaller then the radius");if(!bI(o,4))throw new Error("segments must be four or more");const a=[0,0,-(r/2)],l=[0,0,r/2],c=We.subtract(We.create(),l,a),f=We.length(c);if(2*i>f-b0)throw new Error("height must be larger than twice roundRadius");let u;Math.abs(c[0])>Math.abs(c[1])?u=We.fromValues(0,1,0):u=We.fromValues(1,0,0);const d=We.scale(We.create(),We.normalize(We.create(),c),i),h=We.scale(We.create(),We.normalize(We.create(),We.cross(We.create(),d,u)),s),p=We.scale(We.create(),We.normalize(We.create(),We.cross(We.create(),h,d)),s);We.add(a,a,d),We.subtract(l,l,d);const g=Math.floor(.25*o),m=w=>{const S=w.map(R=>We.add(R,R,n));return vI.create(S)},v=[],b=We.create(),y=We.create();let A;for(let w=0;w<=o;w++){const S=_0*w/o,R=We.add(We.create(),We.scale(b,h,A0(S)),We.scale(y,p,y0(S)));if(w>0){let H=[];H.push(We.add(We.create(),a,R)),H.push(We.add(We.create(),a,A)),H.push(We.add(We.create(),l,A)),H.push(We.add(We.create(),l,R)),v.push(m(H));let W,G;for(let oe=0;oe<=g;oe++){const N=_0/4*oe/g,X=A0(N),Ee=y0(N);if(oe>0){H=[];let te;te=We.add(We.create(),a,We.subtract(b,We.scale(b,A,W),We.scale(y,d,G))),H.push(te),te=We.add(We.create(),a,We.subtract(b,We.scale(b,R,W),We.scale(y,d,G))),H.push(te),oe<g&&(te=We.add(We.create(),a,We.subtract(b,We.scale(b,R,X),We.scale(y,d,Ee))),H.push(te)),te=We.add(We.create(),a,We.subtract(b,We.scale(b,A,X),We.scale(y,d,Ee))),H.push(te),v.push(m(H)),H=[],te=We.add(We.create(),We.scale(b,A,W),We.scale(y,d,G)),We.add(te,te,l),H.push(te),te=We.add(We.create(),We.scale(b,R,W),We.scale(y,d,G)),We.add(te,te,l),H.push(te),oe<g&&(te=We.add(We.create(),We.scale(b,R,X),We.scale(y,d,Ee)),We.add(te,te,l),H.push(te)),te=We.add(We.create(),We.scale(b,A,X),We.scale(y,d,Ee)),We.add(te,te,l),H.push(te),H.reverse(),v.push(m(H))}W=X,G=Ee}}A=R}return gI.create(v)};var AI=yI;const{EPS:S0,TAU:Ba}=Dt,en=St,SI=vt,{isGT:EI,isGTE:wI,isNumberArray:E0}=xn,TI=e=>{const t={center:[0,0],size:[2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!E0(n,2))throw new Error("center must be an array of X and Y values");if(!E0(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(g=>g>0))throw new Error("size values must be greater than zero");if(!EI(s,0))throw new Error("roundRadius must be greater than zero");if(!wI(i,4))throw new Error("segments must be four or more");if(r=r.map(g=>g/2),s>r[0]-S0||s>r[1]-S0)throw new Error("roundRadius must be smaller then the radius of all dimensions");const o=Math.floor(i/4),a=en.add(en.create(),n,[r[0]-s,r[1]-s]),l=en.add(en.create(),n,[s-r[0],r[1]-s]),c=en.add(en.create(),n,[s-r[0],s-r[1]]),f=en.add(en.create(),n,[r[0]-s,s-r[1]]),u=[],d=[],h=[],p=[];for(let g=0;g<=o;g++){const m=Ba/4*g/o,v=en.fromAngleRadians(en.create(),m);en.scale(v,v,s),u.push(en.add(en.create(),a,v)),en.rotate(v,v,en.create(),Ba/4),d.push(en.add(en.create(),l,v)),en.rotate(v,v,en.create(),Ba/4),h.push(en.add(en.create(),c,v)),en.rotate(v,v,en.create(),Ba/4),p.push(en.add(en.create(),f,v))}return SI.fromPoints(u.concat(d,h,p))};var CI=TI;const PI=Xv,{isGT:LI}=xn,OI=e=>{const t={center:[0,0,0],radius:1,segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]};let{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!LI(r,0))throw new Error("radius must be greater than zero");return r=[r,r,r],PI({center:n,radius:r,segments:s,axes:i})};var Zv=OI;const RI=Yv,{isGT:MI}=xn,II=e=>{const t={center:[0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!MI(r,0))throw new Error("size must be greater than zero");return r=[r,r],RI({center:n,size:r})};var xI=II;const{TAU:Kv}=Dt,Co=St,DI=vt,{isGT:FI,isGTE:Na,isNumberArray:kI}=xn,GI=(e,t)=>e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0,w0=(e,t,n,r)=>{const s=Kv/e,i=[];for(let o=0;o<e;o++){const a=Co.fromAngleRadians(Co.create(),s*o+n);Co.scale(a,a,t),Co.add(a,r,a),i.push(a)}return i},BI=e=>{const t={center:[0,0],vertices:5,outerRadius:1,innerRadius:0,density:2,startAngle:0};let{center:n,vertices:r,outerRadius:s,innerRadius:i,density:o,startAngle:a}=Object.assign({},t,e);if(!kI(n,2))throw new Error("center must be an array of X and Y values");if(!Na(r,2))throw new Error("vertices must be two or more");if(!FI(s,0))throw new Error("outerRadius must be greater than zero");if(!Na(i,0))throw new Error("innerRadius must be greater than zero");if(!Na(a,0))throw new Error("startAngle must be greater than zero");if(r=Math.floor(r),o=Math.floor(o),a=a%Kv,i===0){if(!Na(o,2))throw new Error("density must be two or more");i=s*GI(r,o)}const l=Co.clone(n),c=w0(r,s,a,l),f=w0(r,i,a+Math.PI/r,l),u=[];for(let d=0;d<r;d++)u.push(c[d]),u.push(f[d]);return DI.fromPoints(u)};var NI=BI;const $I=pt,T0=Xt,C0=Fr,P0=vt,L0=yt,O0=Ht,Ol=(e,...t)=>{const n={origin:[0,0,0],normal:[0,0,1]},{origin:r,normal:s}=Object.assign({},n,e);if(t=$I(t),t.length===0)throw new Error("wrong number of arguments");const i=C0.fromNormalAndPoint(C0.create(),s,r);if(Number.isNaN(i[0]))throw new Error("the given origin and normal do not define a proper plane");const o=T0.mirrorByPlane(T0.create(),i),a=t.map(l=>O0.isA(l)?O0.transform(o,l):P0.isA(l)?P0.transform(o,l):L0.isA(l)?L0.transform(o,l):l);return a.length===1?a[0]:a},VI=(...e)=>Ol({normal:[1,0,0]},e),UI=(...e)=>Ol({normal:[0,1,0]},e),zI=(...e)=>Ol({normal:[0,0,1]},e);var Po={mirror:Ol,mirrorX:VI,mirrorY:UI,mirrorZ:zI};const R0=Fr,Bs=rt,HI=e=>{const t=e.edges;if(t.length<3)throw new Error("slices must have 3 or more edges to calculate a plane");const n=t.reduce((o,a)=>Bs.add(Bs.create(),o,a[0]),Bs.create());Bs.scale(n,n,1/t.length);let r,s=0;t.forEach(o=>{if(!Bs.equals(o[0],o[1])){const a=Bs.squaredDistance(n,o[0]);a>s&&(r=o,s=a)}});const i=t.find(o=>Bs.equals(o[1],r[0]));return R0.fromPoints(R0.create(),i[0],r[0],r[1])};var Qv=HI;const jI=e=>(e||(e=[]),{edges:e});var Qs=jI;const qI=Qs,M0=rt,XI=(...e)=>{let t,n;return e.length===1?(t=qI(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[M0.clone(r[0]),M0.clone(r[1])]),t};var WI=XI;const YI=rt,ZI=(e,t)=>{const n=e.edges,r=t.edges;return n.length!==r.length?!1:n.reduce((i,o,a)=>{const l=r[a],c=YI.squaredDistance(o[0],l[0]);return i&&c<Number.EPSILON},!0)};var KI=ZI;const $a=rt,QI=Qs,JI=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");if(e.length<3)throw new Error("the given points must contain THREE or more points");const t=[];let n=e[e.length-1];return e.forEach(r=>{r.length===2&&t.push([$a.fromVec2($a.create(),n),$a.fromVec2($a.create(),r)]),r.length===3&&t.push([n,r]),n=r}),QI(t)};var ex=JI;const Va=rt,tx=Qs,nx=e=>{if(!Array.isArray(e))throw new Error("the given sides must be an array");const t=[];return e.forEach(n=>{t.push([Va.fromVec2(Va.create(),n[0]),Va.fromVec2(Va.create(),n[1])])}),tx(t)};var rx=nx;const sx=e=>!!(e&&typeof e=="object"&&"edges"in e&&Array.isArray(e.edges));var ix=sx;const ox=Qs,ax=(...e)=>{let t,n;return e.length===1?(t=ox(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[r[1],r[0]]),t};var lx=ax;const cx=e=>e.edges;var fx=cx;const ux=(e,t)=>{let n,r,s,i,o,a=1;do{r=e,e=null;let l=null;for(o=0;r;){o++,s=r;let c=0;for(n=0;n<a&&(c++,s=s.nextZ,!!s);n++);let f=a;for(;c>0||f>0&&s;)c!==0&&(f===0||!s||t(r)<=t(s))?(i=r,r=r.nextZ,c--):(i=s,s=s.nextZ,f--),l?l.nextZ=i:e=i,i.prevZ=l,l=i;r=s}l.nextZ=null,a*=2}while(o>1);return e};var dx=ux;const hx=dx;let Jv=class{constructor(t,n,r){this.i=t,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}};const mx=(e,t,n,r)=>{const s=new Jv(e,t,n);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s},px=e=>{e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)};var e2={Node:Jv,insertNode:mx,removeNode:px,sortLinked:hx};const gx=(e,t,n,r,s,i,o,a)=>(s-o)*(t-a)-(e-o)*(i-a)>=0&&(e-o)*(r-a)-(n-o)*(t-a)>=0&&(n-o)*(i-a)-(s-o)*(r-a)>=0,vx=(e,t,n)=>(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);var ed={area:vx,pointInTriangle:gx};const{Node:I0,insertNode:x0,removeNode:hl}=e2,{area:nr}=ed,bx=(e,t,n,r,s)=>{let i;if(s===wx(e,t,n,r)>0)for(let o=t;o<n;o+=r)i=x0(o,e[o],e[o+1],i);else for(let o=n-r;o>=t;o-=r)i=x0(o,e[o],e[o+1],i);return i&&Rl(i,i.next)&&(hl(i),i=i.next),i},t2=(e,t)=>{if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&(Rl(n,n.next)||nr(n.prev,n,n.next)===0)){if(hl(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t},_x=(e,t,n)=>{let r=e;do{const s=r.prev,i=r.next.next;!Rl(s,i)&&n2(s,r,r.next,i)&&ko(s,i)&&ko(i,s)&&(t.push(s.i/n),t.push(r.i/n),t.push(i.i/n),hl(r),hl(r.next),r=e=i),r=r.next}while(r!==e);return t2(r)},yx=(e,t)=>{let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&n2(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1},ko=(e,t)=>nr(e.prev,e,e.next)<0?nr(e,t,e.next)>=0&&nr(e,e.prev,t)>=0:nr(e,t,e.prev)<0||nr(e,e.next,t)<0,Ax=(e,t)=>{let n=e,r=!1;const s=(e.x+t.x)/2,i=(e.y+t.y)/2;do n.y>i!=n.next.y>i&&n.next.y!==n.y&&s<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r},Sx=(e,t)=>{const n=new I0(e.i,e.x,e.y),r=new I0(t.i,t.x,t.y),s=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=s,s.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r},Ex=(e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!yx(e,t)&&(ko(e,t)&&ko(t,e)&&Ax(e,t)&&(nr(e.prev,e,t.prev)||nr(e,t.prev,t))||Rl(e,t)&&nr(e.prev,e,e.next)>0&&nr(t.prev,t,t.next)>0),n2=(e,t,n,r)=>{const s=Math.sign(nr(e,t,n)),i=Math.sign(nr(e,t,r)),o=Math.sign(nr(n,r,e)),a=Math.sign(nr(n,r,t));return!!(s!==i&&o!==a||s===0&&Ua(e,n,t)||i===0&&Ua(e,r,t)||o===0&&Ua(n,e,r)||a===0&&Ua(n,t,r))},Ua=(e,t,n)=>t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y),wx=(e,t,n,r)=>{let s=0;for(let i=t,o=n-r;i<n;i+=r)s+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return s},Rl=(e,t)=>e.x===t.x&&e.y===t.y;var r2={cureLocalIntersections:_x,filterPoints:t2,isValidDiagonal:Ex,linkedPolygon:bx,locallyInside:ko,splitPolygon:Sx};const{filterPoints:Cu,linkedPolygon:Tx,locallyInside:Cx,splitPolygon:Px}=r2,{area:D0,pointInTriangle:Lx}=ed,Ox=(e,t,n,r)=>{const s=[];for(let i=0,o=t.length;i<o;i++){const a=t[i]*r,l=i<o-1?t[i+1]*r:e.length,c=Tx(e,a,l,r,!1);c===c.next&&(c.steiner=!0),s.push(xx(c))}s.sort((i,o)=>i.x-o.x);for(let i=0;i<s.length;i++)n=Rx(s[i],n),n=Cu(n,n.next);return n},Rx=(e,t)=>{const n=Mx(e,t);if(!n)return t;const r=Px(n,e),s=Cu(n,n.next);return Cu(r,r.next),t===n?s:t},Mx=(e,t)=>{let n=t;const r=e.x,s=e.y;let i=-1/0,o;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const u=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>i){if(i=u,u===r){if(s===n.y)return n;if(s===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===i)return o;const a=o,l=o.x,c=o.y;let f=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Lx(s<c?r:i,s,l,c,s<c?i:r,s,n.x,n.y)){const u=Math.abs(s-n.y)/(r-n.x);Cx(n,e)&&(u<f||u===f&&(n.x>o.x||n.x===o.x&&Ix(o,n)))&&(o=n,f=u)}n=n.next}while(n!==a);return o},Ix=(e,t)=>D0(e.prev,e,t.prev)<0&&D0(t.next,e,e.next)<0,xx=e=>{let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n};var Dx=Ox;const Fx=Dx,{removeNode:kx,sortLinked:Gx}=e2,{cureLocalIntersections:Bx,filterPoints:ml,isValidDiagonal:Nx,linkedPolygon:$x,splitPolygon:Vx}=r2,{area:zs,pointInTriangle:Lo}=ed,Ux=(e,t,n=2)=>{const r=t&&t.length,s=r?t[0]*n:e.length;let i=$x(e,0,s,n,!0);const o=[];if(!i||i.next===i.prev)return o;let a,l,c,f,u;if(r&&(i=Fx(e,t,i,n)),e.length>80*n){a=c=e[0],l=f=e[1];for(let d=n;d<s;d+=n){const h=e[d],p=e[d+1];h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>f&&(f=p)}u=Math.max(c-a,f-l),u=u!==0?1/u:0}return Go(i,o,n,a,l,u),o},Go=(e,t,n,r,s,i,o)=>{if(!e)return;!o&&i&&qx(e,r,s,i);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,i?Hx(e,r,s,i):zx(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),kx(e),e=c.next,a=c.next;continue}if(e=c,e===a){o?o===1?(e=Bx(ml(e),t,n),Go(e,t,n,r,s,i,2)):o===2&&jx(e,t,n,r,s,i):Go(ml(e),t,n,r,s,i,1);break}}},zx=e=>{const t=e.prev,n=e,r=e.next;if(zs(t,n,r)>=0)return!1;let s=e.next.next;for(;s!==e.prev;){if(Lo(t.x,t.y,n.x,n.y,r.x,r.y,s.x,s.y)&&zs(s.prev,s,s.next)>=0)return!1;s=s.next}return!0},Hx=(e,t,n,r)=>{const s=e.prev,i=e,o=e.next;if(zs(s,i,o)>=0)return!1;const a=s.x<i.x?s.x<o.x?s.x:o.x:i.x<o.x?i.x:o.x,l=s.y<i.y?s.y<o.y?s.y:o.y:i.y<o.y?i.y:o.y,c=s.x>i.x?s.x>o.x?s.x:o.x:i.x>o.x?i.x:o.x,f=s.y>i.y?s.y>o.y?s.y:o.y:i.y>o.y?i.y:o.y,u=Pu(a,l,t,n,r),d=Pu(c,f,t,n,r);let h=e.prevZ,p=e.nextZ;for(;h&&h.z>=u&&p&&p.z<=d;){if(h!==e.prev&&h!==e.next&&Lo(s.x,s.y,i.x,i.y,o.x,o.y,h.x,h.y)&&zs(h.prev,h,h.next)>=0||(h=h.prevZ,p!==e.prev&&p!==e.next&&Lo(s.x,s.y,i.x,i.y,o.x,o.y,p.x,p.y)&&zs(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;h&&h.z>=u;){if(h!==e.prev&&h!==e.next&&Lo(s.x,s.y,i.x,i.y,o.x,o.y,h.x,h.y)&&zs(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&Lo(s.x,s.y,i.x,i.y,o.x,o.y,p.x,p.y)&&zs(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0},jx=(e,t,n,r,s,i)=>{let o=e;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Nx(o,a)){let l=Vx(o,a);o=ml(o,o.next),l=ml(l,l.next),Go(o,t,n,r,s,i),Go(l,t,n,r,s,i);return}a=a.next}o=o.next}while(o!==e)},qx=(e,t,n,r)=>{let s=e;do s.z===null&&(s.z=Pu(s.x,s.y,t,n,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,Gx(s,i=>i.z)},Pu=(e,t,n,r,s)=>(e=32767*(e-n)*s,t=32767*(t-r)*s,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1);var Xx=Ux;const{area:Wx}=Vo,{toOutlines:Yx}=vt,{arePointsInside:Zx}=qu,Kx=e=>{const t=Yx(e),n=[],r=[];t.forEach((o,a)=>{const l=Wx(o);l<0?r.push(a):l>0&&n.push(a)});const s=[],i=[];return n.forEach((o,a)=>{const l=t[o];s[a]=[],r.forEach((c,f)=>{const u=t[c];Zx([u[0]],{vertices:l})&&(s[a].push(c),i[f]||(i[f]=[]),i[f].push(a))})}),r.forEach((o,a)=>{if(i[a]&&i[a].length>1){const l=Qx(i[a],c=>s[c].length);i[a].forEach((c,f)=>{f!==l&&(s[c]=s[c].filter(u=>u!==o))})}}),s.map((o,a)=>({solid:t[n[a]],holes:o.map(l=>t[l])}))},Qx=(e,t)=>{let n,r;return e.forEach((s,i)=>{const o=t(s);(r===void 0||o<r)&&(n=i,r=o)}),n};var Jx=Kx;const eD=vt,F0=Fr,tD=St,zn=rt,nD=Qv,rD=Jx;let sD=class{constructor(t){this.plane=nD(t);const n=zn.orthogonal(zn.create(),this.plane),r=zn.cross(zn.create(),this.plane,n);this.v=zn.normalize(r,r),this.u=zn.cross(zn.create(),this.v,this.plane),this.basisMap=new Map;const s=t.edges.map(o=>o.map(a=>this.to2D(a))),i=eD.create(s);this.roots=rD(i)}to2D(t){const n=tD.fromValues(zn.dot(t,this.u),zn.dot(t,this.v));return this.basisMap.set(n,t),n}to3D(t){const n=this.basisMap.get(t);if(n)return n;{console.log("Warning: point not in original slice");const r=zn.scale(zn.create(),this.u,t[0]),s=zn.scale(zn.create(),this.v,t[1]),i=zn.scale(zn.create(),F0,F0[3]),o=zn.add(r,r,i);return zn.add(s,s,o)}}};var iD=sD;const oD=Mt,aD=Xx,lD=iD,cD=e=>{const t=new lD(e),n=[];return t.roots.forEach(({solid:r,holes:s})=>{let i=r.length;const o=[];s.forEach((u,d)=>{o.push(i),i+=u.length});const a=[r,...s].flat(),l=a.flat(),c=u=>t.to3D(a[u]),f=aD(l,o);for(let u=0;u<f.length;u+=3){const d=f.slice(u,u+3).map(c);n.push(oD.fromPointsAndPlane(d,t.plane))}}),n};var fD=cD;const k0=rt,uD=e=>e.reduce((t,n)=>t+=`[${k0.toString(n[0])}, ${k0.toString(n[1])}], `,""),dD=e=>`[${uD(e.edges)}]`;var hD=dD;const za=rt,mD=Qs,pD=(e,t)=>{const n=t.edges.map(r=>[za.transform(za.create(),r[0],e),za.transform(za.create(),r[1],e)]);return mD(n)};var gD=pD,zi={calculatePlane:Qv,clone:WI,create:Qs,equals:KI,fromPoints:ex,fromSides:rx,isA:ix,reverse:lx,toEdges:fx,toPolygons:fD,toString:hD,transform:gD};const G0=rt,vD=Qs,bD=e=>{if(!e.edges)return e;let t=e.edges;const n=new Map,r=new Map;t=t.filter(o=>!G0.equals(o[0],o[1])),t.forEach(o=>{const a=o[0].toString(),l=o[1].toString();n.set(a,o[0]),n.set(l,o[1]),r.set(a,(r.get(a)||0)+1),r.set(l,(r.get(l)||0)-1)});const s=[],i=[];return r.forEach((o,a)=>{o<0&&s.push(a),o>0&&i.push(a)}),s.forEach(o=>{const a=n.get(o);let l=1/0,c;i.forEach(f=>{const u=n.get(f),d=G0.distance(a,u);d<l&&(l=d,c=u)}),console.warn(`slice.repair: repairing vertex gap ${a} to ${c} distance ${l}`),t=t.map(f=>f[0].toString()===o?[c,f[1]]:f[1].toString()===o?[f[0],c]:f)}),vD(t)};var _D=bD;const{EPS:B0}=Dt,Si=rt,Ha=Mt,N0=zi,Lu=(e,t)=>e===t?e:e<t?Lu(t,e):t===1?1:t===0?e:Lu(t,e%t),yD=(e,t)=>e*t/Lu(e,t),$0=(e,t)=>{const n=e/t.length;if(n===1)return t;const r=Si.fromValues(n,n,n),s=[];return t.forEach(i=>{const o=Si.subtract(Si.create(),i[1],i[0]);Si.divide(o,o,r);let a=i[0];for(let l=1;l<=n;++l){const c=Si.add(Si.create(),a,o);s.push([a,c]),a=c}}),s},V0=B0*B0/2*Math.sin(Math.PI/3),AD=(e,t)=>{let n=N0.toEdges(e),r=N0.toEdges(t);if(n.length!==r.length){const i=yD(n.length,r.length);i!==n.length&&(n=$0(i,n)),i!==r.length&&(r=$0(i,r))}const s=[];return n.forEach((i,o)=>{const a=r[o],l=Ha.create([i[0],i[1],a[1]]),c=Ha.measureArea(l);Number.isFinite(c)&&c>V0&&s.push(l);const f=Ha.create([i[0],a[1],a[0]]),u=Ha.measureArea(f);Number.isFinite(u)&&u>V0&&s.push(f)}),s};var SD=AD;const U0=Xt,z0=vt,ED=yt,Ou=Mt,ps=zi,wD=_D,H0=SD,TD=(e,t,n)=>{let r=null;return z0.isA(n)&&(r=ps.fromSides(z0.toSides(n))),Ou.isA(n)&&(r=ps.fromPoints(Ou.toPoints(n))),e===0||e===1?ps.transform(U0.fromTranslation(U0.create(),[0,0,e]),r):null},CD=(e,t)=>{const n={numberOfSlices:2,capStart:!0,capEnd:!0,close:!1,repair:!0,callback:TD},{numberOfSlices:r,capStart:s,capEnd:i,close:o,repair:a,callback:l}=Object.assign({},n,e);if(r<2)throw new Error("numberOfSlices must be 2 or more");a&&(t=wD(t));const c=r-1;let f=null,u=null,d=null,h=[];for(let p=0;p<r;p++){const g=l(p/c,p,t);if(g){if(!ps.isA(g))throw new Error("the callback function must return slice objects");if(ps.toEdges(g).length===0)throw new Error("the callback function must return slices with one or more edges");d&&(h=h.concat(H0(d,g))),p===0&&(f=g),p===r-1&&(u=g),d=g}}if(i){const p=ps.toPolygons(u);h=h.concat(p)}if(s){const p=ps.toPolygons(f).map(Ou.invert);h=h.concat(p)}return!s&&!i&&o&&!ps.equals(u,f)&&(h=h.concat(H0(u,f))),ED.create(h)};var Ml=CD;const{TAU:cr}=Dt,bo=Xt,{mirrorX:PD}=Po,_o=vt,jf=zi,LD=Ml,OD=(e,t)=>{const n={segments:12,startAngle:0,angle:cr,overflow:"cap"};let{segments:r,startAngle:s,angle:i,overflow:o}=Object.assign({},n,e);if(r<3)throw new Error("segments must be greater then 3");s=Math.abs(s)>cr?s%cr:s,i=Math.abs(i)>cr?i%cr:i;let a=s+i;if(a=Math.abs(a)>cr?a%cr:a,a<s){const b=s;s=a,a=b}let l=a-s;if(l<=0&&(l=cr),Math.abs(l)<cr){const b=cr/r;r=Math.floor(Math.abs(l)/b),Math.abs(l)>r*b&&r++}let c=_o.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(b=>b[0][0]<0),u=c.filter(b=>b[0][0]>=0);f.length>0&&u.length>0&&o==="cap"&&(f.length>u.length?(c=c.map(b=>{let y=b[0],A=b[1];return y=[Math.min(y[0],0),y[1]],A=[Math.min(A[0],0),A[1]],[y,A]}),t=_o.reverse(_o.create(c)),t=PD(t)):u.length>=f.length&&(c=c.map(b=>{let y=b[0],A=b[1];return y=[Math.max(y[0],0),y[1]],A=[Math.max(A[0],0),A[1]],[y,A]}),t=_o.create(c)));const h=l/r,p=Math.abs(l)<cr,g=jf.fromSides(_o.toSides(t));jf.reverse(g,g);const m=bo.create(),v=(b,y,A)=>{let E=h*y+s;return l===cr&&y===r&&(E=s),bo.multiply(m,bo.fromZRotation(m,E),bo.fromXRotation(bo.create(),cr/4)),jf.transform(m,A)};return e={numberOfSlices:r+1,capStart:p,capEnd:p,close:!p,callback:v},LD(e,g)};var s2=OD;const RD=pt,j0=Xt,q0=vt,X0=yt,W0=Ht,Il=(e,...t)=>{if(!Array.isArray(e))throw new Error("angles must be an array");if(t=RD(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=e[2],r=e[1],s=e[0],i=j0.fromTaitBryanRotation(j0.create(),n,r,s),o=t.map(a=>W0.isA(a)?W0.transform(i,a):q0.isA(a)?q0.transform(i,a):X0.isA(a)?X0.transform(i,a):a);return o.length===1?o[0]:o},MD=(e,...t)=>Il([e,0,0],t),ID=(e,...t)=>Il([0,e,0],t),xD=(e,...t)=>Il([0,0,e],t);var Oo={rotate:Il,rotateX:MD,rotateY:ID,rotateZ:xD};const DD=pt,Y0=Xt,Z0=vt,K0=yt,Q0=Ht,xl=(e,...t)=>{if(!Array.isArray(e))throw new Error("offset must be an array");if(t=DD(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=Y0.fromTranslation(Y0.create(),e),r=t.map(s=>Q0.isA(s)?Q0.transform(n,s):Z0.isA(s)?Z0.transform(n,s):K0.isA(s)?K0.transform(n,s):s);return r.length===1?r[0]:r},FD=(e,...t)=>xl([e,0,0],t),kD=(e,...t)=>xl([0,e,0],t),GD=(e,...t)=>xl([0,0,e],t);var qs={translate:xl,translateX:FD,translateY:kD,translateZ:GD};const{TAU:BD}=Dt,ND=s2,{rotate:$D}=Oo,{translate:VD}=qs,UD=Hv,{isGT:qf,isGTE:Xf}=xn,zD=e=>{const t={innerRadius:1,innerSegments:32,outerRadius:4,outerSegments:32,innerRotation:0,startAngle:0,outerRotation:BD},{innerRadius:n,innerSegments:r,outerRadius:s,outerSegments:i,innerRotation:o,startAngle:a,outerRotation:l}=Object.assign({},t,e);if(!qf(n,0))throw new Error("innerRadius must be greater than zero");if(!Xf(r,3))throw new Error("innerSegments must be three or more");if(!qf(s,0))throw new Error("outerRadius must be greater than zero");if(!Xf(i,3))throw new Error("outerSegments must be three or more");if(!Xf(a,0))throw new Error("startAngle must be positive");if(!qf(l,0))throw new Error("outerRotation must be greater than zero");if(n>=s)throw new Error("inner circle is two large to rotate about the outer circle");let c=UD({radius:n,segments:r});return o!==0&&(c=$D([0,0,o],c)),c=VD([s,0],c),ND({startAngle:a,angle:l,segments:i},c)};var HD=zD;const{NEPS:Bi}=Dt,yo=St,jD=vt,{isNumberArray:qD}=xn,Ru=(e,t,n)=>Math.acos((e*e+t*t-n*n)/(2*e*t)),XD=(e,t,n)=>t>Bi?Math.sqrt(e*e+n*n-2*e*n*Math.cos(t)):Math.sqrt((e-n)*(e-n)+e*n*t*t*(1-t*t/12)),WD=e=>{if(Math.abs(e[0]+e[1]+e[2]-Math.PI)>Bi)throw new Error("AAA triangles require angles that sum to PI");const n=e[0],r=e[1],s=Math.PI-n-r,i=1,o=i/Math.sin(s)*Math.sin(n),a=i/Math.sin(s)*Math.sin(r);return Hi(n,r,s,o,a,i)},YD=e=>{const t=e[0],n=e[1],r=Math.PI+Bi-t-n;if(r<Bi)throw new Error("AAS triangles require angles that sum to PI");const s=e[2],i=s/Math.sin(t)*Math.sin(n),o=s/Math.sin(t)*Math.sin(r);return Hi(t,n,r,s,i,o)},ZD=e=>{const t=e[0],n=e[2],r=Math.PI+Bi-t-n;if(r<Bi)throw new Error("ASA triangles require angles that sum to PI");const s=e[1],i=s/Math.sin(r)*Math.sin(t),o=s/Math.sin(r)*Math.sin(n);return Hi(t,n,r,i,o,s)},KD=e=>{const t=e[0],n=e[1],r=e[2],s=XD(t,n,r),i=Ru(s,t,r),o=Math.PI-i-n;return Hi(i,n,o,r,s,t)},QD=e=>{const t=e[0],n=e[1],r=e[2],s=Math.asin(n*Math.sin(r)/t),i=Math.PI-s-r,o=t/Math.sin(r)*Math.sin(i);return Hi(s,i,r,n,o,t)},JD=e=>{const t=e[1],n=e[2],r=e[0];if(t+n<=r||n+r<=t||r+t<=n)throw new Error("SSS triangle is incorrect, as the longest side is longer than the sum of the other sides");const s=Ru(n,r,t),i=Ru(r,t,n),o=Math.PI-s-i;return Hi(s,i,o,t,n,r)},Hi=(e,t,n,r,s,i)=>{const o=yo.fromValues(0,0),a=yo.fromValues(i,0),l=yo.fromValues(r,0);return yo.add(l,yo.rotate(l,l,[0,0],Math.PI-t),a),jD.fromPoints([o,a,l])},eF=e=>{const t={type:"SSS",values:[1,1,1]};let{type:n,values:r}=Object.assign({},t,e);if(typeof n!="string")throw new Error("triangle type must be a string");if(n=n.toUpperCase(),!((n[0]==="A"||n[0]==="S")&&(n[1]==="A"||n[1]==="S")&&(n[2]==="A"||n[2]==="S")))throw new Error("triangle type must contain three letters; A or S");if(!qD(r,3))throw new Error("triangle values must contain three values");if(!r.every(s=>s>0))throw new Error("triangle values must be greater than zero");switch(n){case"AAA":return WD(r);case"AAS":return YD(r);case"ASA":return ZD(r);case"SAS":return KD(r);case"SSA":return QD(r);case"SSS":return JD(r);default:throw new Error("invalid triangle type, try again")}};var tF=eF,nF={arc:v8,circle:Hv,cube:I8,cuboid:jv,cylinder:U8,cylinderElliptic:qv,ellipse:zv,ellipsoid:Xv,geodesicSphere:eI,line:rI,polygon:iI,polyhedron:Wv,rectangle:Yv,roundedCuboid:pI,roundedCylinder:AI,roundedRectangle:CI,sphere:Zv,square:xI,star:NI,torus:HD,triangle:tF},rF={height:14,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]};const sF=rF,iF={xOffset:0,yOffset:0,input:"?",align:"left",font:sF,height:14,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0},oF=(e,t)=>{!t&&typeof e=="string"&&(e={input:e}),e=e||{};const n=Object.assign({},iF,e);return n.input=t||n.input,n};var i2=oF;const aF=i2,lF=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,extrudeOffset:a}=aF(e,t);let l=s.charCodeAt(0);(!l||!i[l])&&(l=63);const c=[].concat(i[l]),f=(o-a)/i.height,u=a/2,d=c.shift()*f,h=[];let p=[];for(let g=0,m=c.length;g<m;g+=2){const v=f*c[g]+n,b=f*c[g+1]+r+u;if(c[g]!==void 0){p.push([v,b]);continue}h.push(p),p=[],g--}return p.length&&h.push(p),{width:d,height:o,segments:h}};var o2=lF;const cF=o2,fF=i2,J0=(e,t)=>{const{x:n,y:r}=Object.assign({x:0,y:0},e||{}),s=t.segments;let i=null,o=null;for(let a=0,l=s.length;a<l;a++){i=s[a];for(let c=0,f=i.length;c<f;c++)o=i[c],i[c]=[o[0]+n,o[1]+r]}return t},uF=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,align:a,extrudeOffset:l,lineSpacing:c,letterSpacing:f}=fF(e,t);let[u,d]=[n,r],h,p,g,m,v,b,y={width:0,segments:[]};const A=[];let E=[],w=0;const S=u,R=()=>{A.push(y),w=Math.max(w,y.width),y={width:0,segments:[]}};for(h=0,p=s.length;h<p;h++){if(g=s[h],m=cF({xOffset:u,yOffset:d,font:i,height:o,extrudeOffset:l},g),g===`
`){u=S,d-=m.height*c,R();continue}v=m.width*f,y.width+=v,u+=v,g!==" "&&(y.segments=y.segments.concat(m.segments))}for(y.segments.length&&R(),h=0,p=A.length;h<p;h++)y=A[h],w>y.width&&(b=w-y.width,a==="right"?y=J0({x:b},y):a==="center"&&(y=J0({x:b/2},y))),E=E.concat(y.segments);return E};var dF=uF,hF={vectorChar:o2,vectorText:dF};const mF=vt,pF=yt,gF=Ht,vF=e=>{let t;for(const n of e){let r=0;if(mF.isA(n)&&(r=1),pF.isA(n)&&(r=2),gF.isA(n)&&(r=3),t&&r!==t)return!1;t=r}return!0};var zo=vF;const bF=e=>e*.017453292519943295;var _F=bF;const yF=(e,t)=>e-t;var a2=yF;const AF=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}e.splice(r,0,t)};var SF=AF;const{TAU:em}=Dt,EF=(e,t,n)=>{const r=t>0?e*em/t:0,s=n>0?em/n:0;return Math.ceil(Math.max(r,s,4))};var wF=EF;const TF=e=>e*57.29577951308232;var CF=TF,l2={areAllShapesTheSameType:zo,degToRad:_F,flatten:pt,fnNumberSort:a2,insertSorted:SF,radiusToSegments:wF,radToDeg:CF};const tm=St,PF=vt,LF=(e,t)=>{if(t.vertices.length<4)return null;const n=[],r=t.vertices.filter((o,a)=>o[2]>0?(n.push(a),!0):!1);if(r.length!==2)throw new Error("Assertion failed: fromFakePolygon: not enough points found");const s=r.map(o=>{const a=Math.round(o[0]/e)*e+0,l=Math.round(o[1]/e)*e+0;return tm.fromValues(a,l)});if(tm.equals(s[0],s[1]))return null;const i=n[1]-n[0];if(i===1||i===3)i===1&&s.reverse();else throw new Error("Assertion failed: fromFakePolygon: unknown index ordering");return s},OF=(e,t)=>{const n=t.map(r=>LF(e,r)).filter(r=>r!==null);return PF.create(n)};var td=OF;const hs=rt,RF=vt,MF=yt,IF=Mt,xF=(e,t,n)=>{const r=[hs.fromVec2(hs.create(),n[0],e),hs.fromVec2(hs.create(),n[1],e),hs.fromVec2(hs.create(),n[1],t),hs.fromVec2(hs.create(),n[0],t)];return IF.create(r)},DF=(e,t)=>{const r=RF.toSides(t).map(i=>xF(e.z0,e.z1,i));return MF.create(r)};var nd=DF;const nm=Xt,FF=St,Cn=rt,Ys=function(e,t){arguments.length<2&&(t=Cn.orthogonal(Cn.create(),e)),this.v=Cn.normalize(Cn.create(),Cn.cross(Cn.create(),e,t)),this.u=Cn.cross(Cn.create(),this.v,e),this.plane=e,this.planeorigin=Cn.scale(Cn.create(),e,e[3])};Ys.GetCartesian=function(e,t){const n=e+"/"+t;let r,s;if(n==="X/Y")r=[0,0,1],s=[1,0,0];else if(n==="Y/-X")r=[0,0,1],s=[0,1,0];else if(n==="-X/-Y")r=[0,0,1],s=[-1,0,0];else if(n==="-Y/X")r=[0,0,1],s=[0,-1,0];else if(n==="-X/Y")r=[0,0,-1],s=[-1,0,0];else if(n==="-Y/-X")r=[0,0,-1],s=[0,-1,0];else if(n==="X/-Y")r=[0,0,-1],s=[1,0,0];else if(n==="Y/X")r=[0,0,-1],s=[0,1,0];else if(n==="X/Z")r=[0,-1,0],s=[1,0,0];else if(n==="Z/-X")r=[0,-1,0],s=[0,0,1];else if(n==="-X/-Z")r=[0,-1,0],s=[-1,0,0];else if(n==="-Z/X")r=[0,-1,0],s=[0,0,-1];else if(n==="-X/Z")r=[0,1,0],s=[-1,0,0];else if(n==="-Z/-X")r=[0,1,0],s=[0,0,-1];else if(n==="X/-Z")r=[0,1,0],s=[1,0,0];else if(n==="Z/X")r=[0,1,0],s=[0,0,1];else if(n==="Y/Z")r=[1,0,0],s=[0,1,0];else if(n==="Z/-Y")r=[1,0,0],s=[0,0,1];else if(n==="-Y/-Z")r=[1,0,0],s=[0,-1,0];else if(n==="-Z/Y")r=[1,0,0],s=[0,0,-1];else if(n==="-Y/Z")r=[-1,0,0],s=[0,-1,0];else if(n==="-Z/-Y")r=[-1,0,0],s=[0,0,-1];else if(n==="Y/-Z")r=[-1,0,0],s=[0,1,0];else if(n==="Z/Y")r=[-1,0,0],s=[0,0,1];else throw new Error("OrthoNormalBasis.GetCartesian: invalid combination of axis identifiers. Should pass two string arguments from [X,Y,Z,-X,-Y,-Z], being two different axes.");return new Ys(new Plane(new Vector3D(r),0),new Vector3D(s))};Ys.Z0Plane=function(){const e=new Plane(new Vector3D([0,0,1]),0);return new Ys(e,new Vector3D([1,0,0]))};Ys.prototype={getProjectionMatrix:function(){return nm.fromValues(this.u[0],this.v[0],this.plane[0],0,this.u[1],this.v[1],this.plane[1],0,this.u[2],this.v[2],this.plane[2],0,0,0,-this.plane[3],1)},getInverseProjectionMatrix:function(){const e=Cn.scale(Cn.create(),this.plane,this.plane[3]);return nm.fromValues(this.u[0],this.u[1],this.u[2],0,this.v[0],this.v[1],this.v[2],0,this.plane[0],this.plane[1],this.plane[2],0,e[0],e[1],e[2],1)},to2D:function(e){return FF.fromValues(Cn.dot(e,this.u),Cn.dot(e,this.v))},to3D:function(e){const t=Cn.scale(Cn.create(),this.u,e[0]),n=Cn.scale(Cn.create(),this.v,e[1]),r=Cn.add(t,t,this.planeorigin);return Cn.add(n,n,r)},line3Dto2D:function(e){const t=e.point,n=e.direction.plus(t),r=this.to2D(t),s=this.to2D(n);return Line2D.fromPoints(r,s)},line2Dto3D:function(e){const t=e.origin(),n=e.direction().plus(t),r=this.to3D(t),s=this.to3D(n);return Line3D.fromPoints(r,s)},transform:function(e){const t=this.plane.transform(e),n=this.u.transform(e),r=new Vector3D(0,0,0).transform(e),s=n.minus(r);return new Ys(t,s)}};var kF=Ys;const{EPS:Ur}=Dt,ms=Zu,yr=St,GF=kF,Ei=wv,{insertSorted:BF,fnNumberSort:NF}=l2,rm=Mt,$F=e=>{if(e.length<2)return e;const t=[],n=e.length,r=rm.plane(e[0]),s=new GF(r),i=[],o=[],a=new Map,l=new Map,c=new Map,f=10/Ur;for(let p=0;p<n;p++){const g=e[p];let m=[],v=g.vertices.length,b=-1;if(v>0){let y,A;for(let E=0;E<v;E++){let w=s.to2D(g.vertices[E]);const S=Math.floor(w[1]*f);let R;c.has(S)?R=c.get(S):c.has(S+1)?R=c.get(S+1):c.has(S-1)?R=c.get(S-1):(R=w[1],c.set(S,w[1])),w=yr.fromValues(w[0],R),m.push(w);const H=w[1];(E===0||H<y)&&(y=H,b=E),(E===0||H>A)&&(A=H);let W=l.get(H);W||(W={},l.set(H,W)),W[p]=!0}if(y>=A)m=[],v=0,b=-1;else{let E=a.get(y);E||(E=[],a.set(y,E)),E.push(p)}}m.reverse(),b=v-b-1,i.push(m),o.push(b)}const u=[];l.forEach((p,g)=>u.push(g)),u.sort(NF);let d=[],h=[];for(let p=0;p<u.length;p++){const g=[],m=u[p],v=l.get(m);for(let y=0;y<d.length;++y){const A=d[y],E=A.polygonindex;if(v[E]){const w=i[E],S=w.length;let R=A.leftvertexindex,H=A.rightvertexindex;for(;;){let G=R+1;if(G>=S&&(G=0),w[G][1]!==m)break;R=G}let W=H-1;if(W<0&&(W=S-1),w[W][1]===m&&(H=W),R!==A.leftvertexindex&&R===H)d.splice(y,1),--y;else{A.leftvertexindex=R,A.rightvertexindex=H,A.topleft=w[R],A.topright=w[H];let G=R+1;G>=S&&(G=0),A.bottomleft=w[G];let oe=H-1;oe<0&&(oe=S-1),A.bottomright=w[oe]}}}let b;if(p>=u.length-1)d=[],b=null;else{b=Number(u[p+1]);const y=.5*(m+b),A=a.get(m);for(const E in A){const w=A[E],S=i[w],R=S.length,H=o[w];let W=H;for(;;){let Ee=W+1;if(Ee>=R&&(Ee=0),S[Ee][1]!==m||Ee===H)break;W=Ee}let G=H;for(;;){let Ee=G-1;if(Ee<0&&(Ee=R-1),S[Ee][1]!==m||Ee===W)break;G=Ee}let oe=W+1;oe>=R&&(oe=0);let N=G-1;N<0&&(N=R-1);const X={polygonindex:w,leftvertexindex:W,rightvertexindex:G,topleft:S[W],topright:S[G],bottomleft:S[oe],bottomright:S[N]};BF(d,X,(Ee,te)=>{const U=Ei(Ee.topleft,Ee.bottomleft,y),fe=Ei(te.topleft,te.bottomleft,y);return U>fe?1:U<fe?-1:0})}}for(const y in d){const A=d[y];let E=Ei(A.topleft,A.bottomleft,m);const w=yr.fromValues(E,m);E=Ei(A.topright,A.bottomright,m);const S=yr.fromValues(E,m);E=Ei(A.topleft,A.bottomleft,b);const R=yr.fromValues(E,b);E=Ei(A.topright,A.bottomright,b);const H=yr.fromValues(E,b),W={topleft:w,topright:S,bottomleft:R,bottomright:H,leftline:ms.fromPoints(ms.create(),w,R),rightline:ms.fromPoints(ms.create(),H,S)};if(g.length>0){const G=g[g.length-1],oe=yr.distance(W.topleft,G.topright),N=yr.distance(W.bottomleft,G.bottomright);oe<Ur&&N<Ur&&(W.topleft=G.topleft,W.leftline=G.leftline,W.bottomleft=G.bottomleft,g.splice(g.length-1,1))}g.push(W)}if(p>0){const y=new Set,A=new Set;for(let E=0;E<g.length;E++){const w=g[E];for(let S=0;S<h.length;S++)if(!A.has(S)){const R=h[S];if(yr.distance(R.bottomleft,w.topleft)<Ur&&yr.distance(R.bottomright,w.topright)<Ur){A.add(S);const H=ms.direction(w.leftline),W=ms.direction(R.leftline),G=H[0]-W[0],oe=ms.direction(w.rightline),N=ms.direction(R.rightline),X=oe[0]-N[0],Ee=Math.abs(G)<Ur,te=Math.abs(X)<Ur,U=Ee||G>=0,fe=te||X>=0;U&&fe&&(w.outpolygon=R.outpolygon,w.leftlinecontinues=Ee,w.rightlinecontinues=te,y.add(S));break}}}for(let E=0;E<h.length;E++)if(!y.has(E)){const w=h[E];w.outpolygon.rightpoints.push(w.bottomright),yr.distance(w.bottomright,w.bottomleft)>Ur&&w.outpolygon.leftpoints.push(w.bottomleft),w.outpolygon.leftpoints.reverse();const R=w.outpolygon.rightpoints.concat(w.outpolygon.leftpoints).map(W=>s.to3D(W)),H=rm.fromPointsAndPlane(R,r);H.vertices.length&&t.push(H)}}for(let y=0;y<g.length;y++){const A=g[y];A.outpolygon?(A.leftlinecontinues||A.outpolygon.leftpoints.push(A.topleft),A.rightlinecontinues||A.outpolygon.rightpoints.push(A.topright)):(A.outpolygon={leftpoints:[],rightpoints:[]},A.outpolygon.leftpoints.push(A.topleft),yr.distance(A.topleft,A.topright)>Ur&&A.outpolygon.rightpoints.push(A.topright))}h=g}return t};var VF=$F;const sm=yt,im=Mt,UF=Ll,zF=VF,HF=(e,t)=>Math.abs(e[3]-t[3])<15e-8?UF(e,t):!1,jF=e=>{if(e.isRetesselated)return e;const t=sm.toPolygons(e),n=[];t.forEach(i=>{const o=n.find(a=>HF(a[0],im.plane(i)));o?o[1].push(i):n.push([im.plane(i),[i]])});let r=[];n.forEach(i=>{const o=i[1],a=zF(o);r=r.concat(a)});const s=sm.create(r);return s.isRetesselated=!0,s};var Dl=jF;const{EPS:wi}=Dt,om=Ks,qF=(e,t)=>{if(e.polygons.length===0||t.polygons.length===0)return!1;const n=om(e),r=n[0],s=n[1],i=om(t),o=i[0],a=i[1];return!(o[0]-s[0]>wi||r[0]-a[0]>wi||o[1]-s[1]>wi||r[1]-a[1]>wi||o[2]-s[2]>wi||r[2]-a[2]>wi)};var rd=qF;const am=Fr,XF=Mt;let WF=class Mu{constructor(t){this.plane=null,this.front=null,this.back=null,this.polygontreenodes=[],this.parent=t}invert(){const t=[this];let n;for(let r=0;r<t.length;r++){n=t[r],n.plane&&(n.plane=am.flip(am.create(),n.plane)),n.front&&t.push(n.front),n.back&&t.push(n.back);const s=n.front;n.front=n.back,n.back=s}}clipPolygons(t,n){let r={node:this,polygontreenodes:t},s;const i=[];do{if(s=r.node,t=r.polygontreenodes,s.plane){const o=s.plane,a=[],l=[],c=n?a:l,f=t.length;for(let d=0;d<f;d++){const h=t[d];h.isRemoved()||h.splitByPlane(o,c,a,l,a)}s.front&&l.length>0&&i.push({node:s.front,polygontreenodes:l});const u=a.length;if(s.back&&u>0)i.push({node:s.back,polygontreenodes:a});else for(let d=0;d<u;d++)a[d].remove()}r=i.pop()}while(r!==void 0)}clipTo(t,n){let r=this;const s=[];do r.polygontreenodes.length>0&&t.rootnode.clipPolygons(r.polygontreenodes,n),r.front&&s.push(r.front),r.back&&s.push(r.back),r=s.pop();while(r!==void 0)}addPolygonTreeNodes(t){let n={node:this,polygontreenodes:t};const r=[];do{const s=n.node,i=n.polygontreenodes;if(i.length===0){n=r.pop();continue}if(!s.plane){let c=0;c=Math.floor(i.length/2);const f=i[c].getPolygon();s.plane=XF.plane(f)}const o=[],a=[],l=i.length;for(let c=0;c<l;++c)i[c].splitByPlane(s.plane,s.polygontreenodes,a,o,a);o.length>0&&(s.front||(s.front=new Mu(s)),l===o.length&&a.length===0?s.front.polygontreenodes=o:r.push({node:s.front,polygontreenodes:o})),a.length>0&&(s.back||(s.back=new Mu(s)),l===a.length&&o.length===0?s.back.polygontreenodes=a:r.push({node:s.back,polygontreenodes:a})),n=r.pop()}while(n!==void 0)}};var YF=WF;const Ti=rt,ZF=(e,t,n)=>{const r=Ti.subtract(Ti.create(),n,t);let s=(e[3]-Ti.dot(e,t))/Ti.dot(e,r);return Number.isNaN(s)&&(s=0),s>1&&(s=1),s<0&&(s=0),Ti.scale(r,r,s),Ti.add(r,t,r),r};var KF=ZF;const{EPS:ja}=Dt,QF=Fr,qa=rt,Wf=Mt,JF=KF,e7=(e,t)=>{const n={type:null,front:null,back:null},r=t.vertices,s=r.length,i=Wf.plane(t);if(QF.equals(i,e))n.type=0;else{let o=!1,a=!1;const l=[],c=-ja;for(let f=0;f<s;f++){const u=qa.dot(e,r[f])-e[3],d=u<c;l.push(d),u>ja&&(o=!0),u<c&&(a=!0)}if(!o&&!a){const f=qa.dot(e,i);n.type=f>=0?0:1}else if(!a)n.type=2;else if(!o)n.type=3;else{n.type=4;const f=[],u=[];let d=l[0];for(let p=0;p<s;p++){const g=r[p];let m=p+1;m>=s&&(m=0);const v=l[m];if(d===v)d?u.push(g):f.push(g);else{const b=r[m],y=JF(e,g,b);d?(u.push(g),u.push(y),f.push(y)):(f.push(g),f.push(y),u.push(y))}d=v}const h=ja*ja;if(u.length>=3){let p=u[u.length-1];for(let g=0;g<u.length;g++){const m=u[g];qa.squaredDistance(m,p)<h&&(u.splice(g,1),g--),p=m}}if(f.length>=3){let p=f[f.length-1];for(let g=0;g<f.length;g++){const m=f[g];qa.squaredDistance(m,p)<h&&(f.splice(g,1),g--),p=m}}f.length>=3&&(n.front=Wf.fromPointsAndPlane(f,i)),u.length>=3&&(n.back=Wf.fromPointsAndPlane(u,i))}}return n};var t7=e7;const{EPS:n7}=Dt,r7=rt,lm=Mt,s7=t7;let i7=class c2{constructor(t,n){this.parent=t,this.children=[],this.polygon=n,this.removed=!1}addPolygons(t){if(!this.isRootNode())throw new Error("Assertion failed");const n=this;t.forEach(r=>{n.addChild(r)})}remove(){if(!this.removed){this.removed=!0,this.polygon=null;const t=this.parent.children,n=t.indexOf(this);if(n<0)throw new Error("Assertion failed");t.splice(n,1),this.parent.recursivelyInvalidatePolygon()}}isRemoved(){return this.removed}isRootNode(){return!this.parent}invert(){if(!this.isRootNode())throw new Error("Assertion failed");this.invertSub()}getPolygon(){if(!this.polygon)throw new Error("Assertion failed");return this.polygon}getPolygons(t){let n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s)for(n=r[s],i=0,o=n.length;i<o;i++)a=n[i],a.polygon?t.push(a.polygon):a.children.length>0&&r.push(a.children)}splitByPlane(t,n,r,s,i){if(this.children.length){const o=[this.children];let a,l,c,f,u;for(a=0;a<o.length;a++)for(u=o[a],l=0,c=u.length;l<c;l++)f=u[l],f.children.length>0?o.push(f.children):f._splitByPlane(t,n,r,s,i)}else this._splitByPlane(t,n,r,s,i)}_splitByPlane(t,n,r,s,i){const o=this.polygon;if(o){const a=lm.measureBoundingSphere(o),l=a[3]+n7,c=a,f=r7.dot(t,c)-t[3];if(f>l)s.push(this);else if(f<-l)i.push(this);else{const u=s7(t,o);switch(u.type){case 0:n.push(this);break;case 1:r.push(this);break;case 2:s.push(this);break;case 3:i.push(this);break;case 4:if(u.front){const d=this.addChild(u.front);s.push(d)}if(u.back){const d=this.addChild(u.back);i.push(d)}break}}}}addChild(t){const n=new c2(this,t);return this.children.push(n),n}invertSub(){let t=[this];const n=[t];let r,s,i,o;for(r=0;r<n.length;r++)for(t=n[r],s=0,i=t.length;s<i;s++)o=t[s],o.polygon&&(o.polygon=lm.invert(o.polygon)),o.children.length>0&&n.push(o.children)}recursivelyInvalidatePolygon(){this.polygon=null,this.parent&&this.parent.recursivelyInvalidatePolygon()}clear(){let t=[this];const n=[t];for(let r=0;r<n.length;++r){t=n[r];const s=t.length;for(let i=0;i<s;i++){const o=t[i];o.polygon&&(o.polygon=null),o.parent&&(o.parent=null),o.children.length>0&&n.push(o.children),o.children=[]}}}toString(){let t="",n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s){n=r[s];const l=" ".repeat(s);for(i=0,o=n.length;i<o;i++)a=n[i],t+=`${l}PolygonTreeNode (${a.isRootNode()}): ${a.children.length}`,a.polygon?t+=`
 ${l}polygon: ${a.polygon.vertices}
`:t+=`
`,a.children.length>0&&r.push(a.children)}return t}};var o7=i7;const a7=YF,l7=o7;let c7=class{constructor(t){this.polygonTree=new l7,this.rootnode=new a7(null),t&&this.addPolygons(t)}invert(){this.polygonTree.invert(),this.rootnode.invert()}clipTo(t,n=!1){this.rootnode.clipTo(t,n)}allPolygons(){const t=[];return this.polygonTree.getPolygons(t),t}addPolygons(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=this.polygonTree.addChild(t[r]);this.rootnode.addPolygonTreeNodes(n)}clear(){this.polygonTree.clear()}toString(){return"Tree: "+this.polygonTree.toString("")}};var f7=c7,sd={Tree:f7};const Xa=yt,u7=rd,{Tree:cm}=sd,d7=(e,t)=>{if(!u7(e,t))return Xa.create();const n=new cm(Xa.toPolygons(e)),r=new cm(Xa.toPolygons(t));n.invert(),r.clipTo(n),r.invert(),n.clipTo(r),r.clipTo(n),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return Xa.create(s)};var h7=d7;const m7=pt,p7=Dl,g7=h7,v7=(...e)=>{e=m7(e);let t=e.shift();return e.forEach(n=>{t=g7(t,n)}),t=p7(t),t};var f2=v7;const b7=pt,_7=yt,y7=vs,A7=td,S7=nd,E7=f2,w7=(...e)=>{e=b7(e);const t=e.map(s=>S7({z0:-1,z1:1},s)),n=E7(t),r=y7(n);return A7(r,_7.toPolygons(n))};var T7=w7;const C7=pt,P7=zo,L7=vt,O7=yt,R7=T7,M7=f2,I7=(...e)=>{if(e=C7(e),e.length===0)throw new Error("wrong number of arguments");if(!P7(e))throw new Error("only intersect of the types are supported");const t=e[0];return L7.isA(t)?R7(e):O7.isA(t)?M7(e):t};var x7=I7;const Yf=rt,D7=vs,fm=yt,F7=e=>e.sort((t,n)=>t-n).filter((t,n,r)=>!n||t!==r[n-1]),k7=(e,t,n)=>{const r=`${t}`,s=e.get(r);s===void 0?e.set(r,[n]):s.push(n)},G7=(e,t)=>{const n=`${t}`;return e.get(n)},B7=e=>{const t=D7(e),n=fm.toPolygons(e),r=n.length,s=new Map,i=Yf.create();n.forEach((f,u)=>{f.vertices.forEach(d=>{k7(s,Yf.snap(i,d,t),u)})});const o=n.map(f=>{let u=[];return f.vertices.forEach(d=>{u=u.concat(G7(s,Yf.snap(i,d,t)))}),{e:1,d:F7(u)}});s.clear();let a=0;const l=o.length;for(let f=0;f<l;f++){const u=o[f];if(u.e>0){const d=new Array(r);d[f]=!0;do a=0,d.forEach((h,p)=>{const g=o[p];if(g.e>0){g.e=-1;for(let m=0;m<g.d.length;m++)d[g.d[m]]=!0;a++}});while(a>0);u.indexes=d}}const c=[];for(let f=0;f<l;f++)if(o[f].indexes){const u=[];o[f].indexes.forEach((d,h)=>u.push(n[h])),c.push(fm.create(u))}return c};var N7=B7;const $7=pt,V7=yt,U7=N7,z7=(...e)=>{if(e=$7(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>V7.isA(n)?U7(n):n);return t.length===1?t[0]:t};var H7=z7;const Wa=yt,j7=rd,{Tree:um}=sd,q7=(e,t)=>{if(!j7(e,t))return Wa.clone(e);const n=new um(Wa.toPolygons(e)),r=new um(Wa.toPolygons(t));n.invert(),n.clipTo(r),r.clipTo(n,!0),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return Wa.create(s)};var X7=q7;const W7=pt,Y7=Dl,Z7=X7,K7=(...e)=>{e=W7(e);let t=e.shift();return e.forEach(n=>{t=Z7(t,n)}),t=Y7(t),t};var u2=K7;const Q7=pt,J7=yt,ek=vs,tk=td,nk=nd,rk=u2,sk=(...e)=>{e=Q7(e);const t=e.map(s=>nk({z0:-1,z1:1},s)),n=rk(t),r=ek(n);return tk(r,J7.toPolygons(n))};var ik=sk;const ok=pt,ak=zo,lk=vt,ck=yt,fk=ik,uk=u2,dk=(...e)=>{if(e=ok(e),e.length===0)throw new Error("wrong number of arguments");if(!ak(e))throw new Error("only subtract of the types are supported");const t=e[0];return lk.isA(t)?fk(e):ck.isA(t)?uk(e):t};var hk=dk;const Di=yt,mk=rd,{Tree:dm}=sd,pk=(e,t)=>{if(!mk(e,t))return gk(e,t);const n=new dm(Di.toPolygons(e)),r=new dm(Di.toPolygons(t));n.clipTo(r,!1),r.clipTo(n),r.invert(),r.clipTo(n),r.invert();const s=n.allPolygons().concat(r.allPolygons());return Di.create(s)},gk=(e,t)=>{let n=Di.toPolygons(e);return n=n.concat(Di.toPolygons(t)),Di.create(n)};var d2=pk;const vk=pt,bk=Dl,_k=d2,yk=(...e)=>{e=vk(e);let t;for(t=1;t<e.length;t+=2)e.push(_k(e[t-1],e[t]));let n=e[t-1];return n=bk(n),n};var h2=yk;const Ak=pt,Sk=yt,Ek=vs,wk=td,Tk=nd,Ck=h2,Pk=(...e)=>{e=Ak(e);const t=e.map(s=>Tk({z0:-1,z1:1},s)),n=Ck(t),r=Ek(n);return wk(r,Sk.toPolygons(n))};var m2=Pk;const Lk=pt,Ok=zo,Rk=vt,Mk=yt,Ik=m2,xk=h2,Dk=(...e)=>{if(e=Lk(e),e.length===0)throw new Error("wrong number of arguments");if(!Ok(e))throw new Error("only unions of the same type are supported");const t=e[0];return Rk.isA(t)?Ik(e):Mk.isA(t)?xk(e):t};var id=Dk,Fk={intersect:x7,scission:H7,subtract:hk,union:id};const{EPS:kk,TAU:Gk}=Dt,hm=Tv,Ao=Zu,an=St,Bk=Cl,Nk=(e,t)=>{const n={delta:1,corners:"edge",closed:!1,segments:16};let{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(Math.abs(r)<kk)return t;let a=e.closed?Bk(t):1;a===0&&(a=1);const l=a>0&&r>=0||a<0&&r<0;r=Math.abs(r);let c=null,f=[];const u=[],d=an.create(),h=t.length;for(let p=0;p<h;p++){const g=(p+1)%h,m=t[p],v=t[g];l?an.subtract(d,m,v):an.subtract(d,v,m),an.normal(d,d),an.normalize(d,d),an.scale(d,d,r);const b=an.add(an.create(),m,d),y=an.add(an.create(),v,d),A=[b,y];if(c!=null&&(i||!i&&g!==0)){const E=hm(c[0],c[1],A[0],A[1]);E?(f.pop(),A[0]=E):u.push({c:m,s0:c,s1:A})}c=[b,y],!(g===0&&!i)&&(f.push(A[0]),f.push(A[1]))}if(i&&c!=null){const p=f[0],g=f[1],m=hm(c[0],c[1],p,g);if(m)f[0]=m,f.pop();else{const v=t[0],b=[p,g];u.push({c:v,s0:c,s1:b})}}if(s==="edge"){const p=new Map;f.forEach((v,b)=>p.set(v,b));const g=Ao.create(),m=Ao.create();u.forEach(v=>{Ao.fromPoints(g,v.s0[0],v.s0[1]),Ao.fromPoints(m,v.s1[0],v.s1[1]);const b=Ao.intersectPointOfLines(g,m);if(Number.isFinite(b[0])&&Number.isFinite(b[1])){const y=v.s0[1],A=p.get(y);f[A]=b,f[(A+1)%f.length]=void 0}else{const y=v.s1[0],A=p.get(y);f[A]=void 0}}),f=f.filter(v=>v!==void 0)}if(s==="round"){let p=Math.floor(o/4);const g=an.create();u.forEach(m=>{let v=an.angle(an.subtract(g,m.s1[0],m.c));if(v-=an.angle(an.subtract(g,m.s0[1],m.c)),l&&v<0&&(v=v+Math.PI,v<0&&(v=v+Math.PI)),!l&&v>0&&(v=v-Math.PI,v>0&&(v=v-Math.PI)),v!==0){p=Math.floor(o*(Math.abs(v)/Gk));const b=v/p,y=an.angle(an.subtract(g,m.s0[1],m.c)),A=[];for(let E=1;E<p;E++){const w=y+b*E,S=an.fromAngleRadians(an.create(),w);an.scale(S,S,r),an.add(S,S,m.c),A.push(S)}if(A.length>0){const E=m.s0[1];let w=f.findIndex(S=>an.equals(E,S));w=(w+1)%f.length,f.splice(w,0,...A)}}else{const b=m.s1[0],y=f.findIndex(A=>an.equals(b,A));f.splice(y,1)}})}return f};var Fl=Nk;const Ya=vt,$k=Fl,Vk=(e,t)=>{const n={delta:1,corners:"edge",segments:16},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const l=Ya.toOutlines(t).map(c=>(e={delta:r,corners:s,closed:!0,segments:i},$k(e,c))).reduce((c,f)=>c.concat(Ya.toSides(Ya.fromPoints(f))),[]);return Ya.create(l)};var Uk=Vk;const mm=Xt,zk=rt,Hk=yt,So=Mt,jk=(e,t)=>{zk.dot(So.plane(t),e)>0&&(t=So.invert(t));const r=[t],s=So.transform(mm.fromTranslation(mm.create(),e),t),i=t.vertices.length;for(let o=0;o<i;o++){const a=o<i-1?o+1:0,l=So.create([t.vertices[o],s.vertices[o],s.vertices[a],t.vertices[a]]);r.push(l)}return r.push(So.invert(s)),Hk.create(r)};var qk=jk;const{EPS:Xk,TAU:Zf}=Dt,pm=Xt,Yt=rt,Wk=a2,Kf=yt,Ns=Mt,Yk=Zv,Zk=Dl,Qf=d2,Kk=qk,Qk=(e,t,n)=>{const r=t.toString();if(e.has(r))e.get(r)[1].push(n);else{const s=[t,[n]];e.set(r,s)}},Jk=(e,t,n)=>{const r=t[0].toString(),s=t[1].toString(),i=r<s?`${r},${s}`:`${s},${r}`;if(e.has(i))e.get(i)[1].push(n);else{const o=[t,[n]];e.set(i,o)}},Jf=(e,t)=>{e.findIndex(r=>r===t)<0&&e.push(t)},eG=(e,t)=>{const n={delta:1,segments:12},{delta:r,segments:s}=Object.assign({},n,e);let i=Kf.create();const o=new Map,a=new Map,l=Yt.create(),c=Yt.create();return Kf.toPolygons(t).forEach((u,d)=>{const h=Yt.scale(Yt.create(),Ns.plane(u),2*r),p=Ns.transform(pm.fromTranslation(pm.create(),Yt.scale(Yt.create(),h,-.5)),u),g=Kk(h,p);i=Qf(i,g);const m=u.vertices;for(let v=0;v<m.length;v++){Qk(o,m[v],Ns.plane(u));const b=(v+1)%m.length,y=[m[v],m[b]];Jk(a,y,Ns.plane(u))}}),a.forEach(u=>{const d=u[0],h=u[1],p=d[0],g=d[1],m=Yt.subtract(Yt.create(),g,p);Yt.normalize(m,m);const v=h[0],b=Yt.cross(Yt.create(),v,m);let y=[];for(let G=0;G<s;G++)Jf(y,G*Zf/s);for(let G=0,oe=h.length;G<oe;G++){const N=h[G],X=Yt.dot(b,N),Ee=Yt.dot(v,N);let te=Math.atan2(X,Ee);te<0&&(te+=Zf),Jf(y,te),te=Math.atan2(-X,-Ee),te<0&&(te+=Zf),Jf(y,te)}y=y.sort(Wk);const A=y.length;let E,w;const S=[],R=[],H=[];for(let G=-1;G<A;G++){const oe=y[G<0?G+A:G],N=Math.sin(oe),X=Math.cos(oe);Yt.scale(l,v,X*r),Yt.scale(c,b,N*r),Yt.add(l,l,c);const Ee=Yt.add(Yt.create(),p,l),te=Yt.add(Yt.create(),g,l);let U=!1;if(G>=0&&Yt.distance(Ee,E)<Xk&&(U=!0),!U){if(G>=0){S.push(Ee),R.push(te);const fe=[w,te,Ee,E],_e=Ns.create(fe);H.push(_e)}E=Ee,w=te}}R.reverse(),H.push(Ns.create(S)),H.push(Ns.create(R));const W=Kf.create(H);i=Qf(i,W)}),o.forEach(u=>{const d=u[0],h=u[1],p=h[0];let g=null,m=0;for(let A=1;A<h.length;A++){const E=h[A],w=Yt.cross(l,p,E),S=Yt.length(w);S>.05&&S>m&&(m=S,g=E)}g||(g=Yt.orthogonal(l,p));const v=Yt.cross(l,p,g);Yt.normalize(v,v);const b=Yt.cross(c,v,p),y=Yk({center:[d[0],d[1],d[2]],radius:r,segments:s,axes:[p,v,b]});i=Qf(i,y)}),Zk(i)};var tG=eG;const nG=yt,rG=id,sG=tG,iG=(e,t)=>{const n={delta:1,corners:"round",segments:12},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(s!=="round")throw new Error('corners must be "round" for 3D geometries');if(nG.toPolygons(t).length===0)throw new Error("the given geometry cannot be empty");e={delta:r,corners:s,segments:i};const a=sG(e,t);return rG(t,a)};var oG=iG;const aG=Cl,er=St,Ri=vt,Ro=Ht,gm=Fl,lG=e=>{let{external:t,internal:n}=e;aG(t)<0?t=t.reverse():n=n.reverse();const r=Ro.fromPoints({closed:!0},t),s=Ro.fromPoints({closed:!0},n),i=Ri.toSides(Ri.fromPoints(Ro.toPoints(r))),o=Ri.toSides(Ri.fromPoints(Ro.toPoints(s)));return i.push(...o),Ri.create(i)},cG=(e,t,n,r)=>{const{points:s,external:i,internal:o}=e,a=Math.floor(t/2),l=[],c=[];if(n==="round"&&a>0){const u=Math.PI/a,d=s[s.length-1],h=er.angle(er.subtract(er.create(),i[i.length-1],d)),p=s[0],g=er.angle(er.subtract(er.create(),o[0],p));for(let m=1;m<a;m++){let v=h+u*m,b=er.fromAngleRadians(er.create(),v);er.scale(b,b,r),er.add(b,b,d),l.push(b),v=g+u*m,b=er.fromAngleRadians(er.create(),v),er.scale(b,b,r),er.add(b,b,p),c.push(b)}}const f=[];return f.push(...i,...l,...o.reverse(),...c),Ri.fromPoints(f)},fG=(e,t)=>{e=Object.assign({},{delta:1,corners:"edge",segments:16},e);const{delta:r,corners:s,segments:i}=e;if(r<=0)throw new Error("the given delta must be positive for paths");if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=t.isClosed,a=Ro.toPoints(t);if(a.length===0)throw new Error("the given geometry cannot be empty");const l={points:a,external:gm({delta:r,corners:s,segments:i,closed:o},a),internal:gm({delta:-r,corners:s,segments:i,closed:o},a)};return t.isClosed?lG(l):cG(l,i,s,r)};var uG=fG;const dG=pt,hG=vt,mG=yt,pG=Ht,gG=Uk,vG=oG,bG=uG,_G=(e,...t)=>{if(t=dG(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>pG.isA(r)?bG(e,r):hG.isA(r)?gG(e,r):mG.isA(r)?vG(e,r):r);return n.length===1?n[0]:n};var od=_G;const Za=vt,vm=qu,yG=Fl,AG=(e,t)=>{const n={delta:1,corners:"edge",segments:0},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=Za.toOutlines(t),l=o.map(c=>(e={delta:o.reduce((d,h)=>d+vm.arePointsInside(c,vm.create(h)),0)%2===0?r:-r,corners:s,closed:!0,segments:i},yG(e,c))).reduce((c,f)=>c.concat(Za.toSides(Za.fromPoints(f))),[]);return Za.create(l)};var SG=AG;const bm=Ht,EG=Fl,wG=(e,t)=>{const n={delta:1,corners:"edge",closed:t.isClosed,segments:16},{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');e={delta:r,corners:s,closed:i,segments:o};const a=EG(e,bm.toPoints(t));return bm.fromPoints({closed:i},a)};var TG=wG;const CG=pt,PG=vt,LG=Ht,OG=SG,RG=TG,MG=(e,...t)=>{if(t=CG(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>LG.isA(r)?RG(e,r):PG.isA(r)?OG(e,r):r);return n.length===1?n[0]:n};var IG=MG,xG={expand:od,offset:IG};const Eo=Xt,eu=rt,DG=vt,tu=zi,FG=Ml,kG=(e,t)=>{const n={offset:[0,0,1],twistAngle:0,twistSteps:12,repair:!0};let{offset:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(i<1)throw new Error("twistSteps must be 1 or more");s===0&&(i=1);const a=eu.clone(r),l=DG.toSides(t);if(l.length===0)throw new Error("the given geometry cannot be empty");const c=tu.fromSides(l);a[2]<0&&tu.reverse(c,c);const f=Eo.create(),u=(d,h,p)=>{const g=h/i*s,m=eu.scale(eu.create(),a,h/i);return Eo.multiply(f,Eo.fromZRotation(f,g),Eo.fromTranslation(Eo.create(),m)),tu.transform(f,p)};return e={numberOfSlices:i+1,capStart:!0,capEnd:!0,repair:o,callback:u},FG(e,c)};var kl=kG;const GG=vt,BG=Ht,NG=kl,$G=(e,t)=>{if(!t.isClosed)throw new Error("extruded path must be closed");const n=BG.toPoints(t),r=GG.fromPoints(n);return NG(e,r)};var VG=$G;const UG=pt,zG=vt,HG=Ht,jG=kl,qG=VG,XG=(e,...t)=>{const n={height:1,twistAngle:0,twistSteps:1,repair:!0},{height:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(t=UG(t),t.length===0)throw new Error("wrong number of arguments");e={offset:[0,0,r],twistAngle:s,twistSteps:i,repair:o};const a=t.map(l=>HG.isA(l)?qG(e,l):zG.isA(l)?jG(e,l):l);return a.length===1?a[0]:a};var WG=XG;const YG=Ht,ZG=od,KG=kl,QG=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(e.delta=r,e.offset=[0,0,s],YG.toPoints(t).length===0)throw new Error("the given geometry cannot be empty");const o=ZG(e,t);return KG(e,o)};var JG=QG;const{area:eB}=Vo,nu=vt,tB=Ht,nB=od,rB=kl,sB=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);e.delta=r,e.offset=[0,0,s];const i=nu.toOutlines(t);if(i.length===0)throw new Error("the given geometry cannot be empty");const a=i.map(c=>(eB(c)<0&&c.reverse(),nB(e,tB.fromPoints({closed:!0},c)))).reduce((c,f)=>c.concat(nu.toSides(f)),[]),l=nu.create(a);return rB(e,l)};var iB=sB;const oB=pt,aB=vt,lB=Ht,cB=JG,fB=iB,uB=(e,...t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(t=oB(t),t.length===0)throw new Error("wrong number of arguments");if(r<=0)throw new Error("size must be positive");if(s<=0)throw new Error("height must be positive");const i=t.map(o=>lB.isA(o)?cB(e,o):aB.isA(o)?fB(e,o):o);return i.length===1?i[0]:i};var dB=uB;const{TAU:wo}=Dt,ru=zi,Or=Xt,hB=Ml,mB=vt,pB=(e,t)=>{const n={angle:wo,startAngle:0,pitch:10,endOffset:0,segmentsPerRotation:32},{angle:r,endOffset:s,segmentsPerRotation:i,startAngle:o}=Object.assign({},n,e);let a;if(!e.pitch&&e.height?a=e.height/(r/wo):a=e.pitch?e.pitch:n.pitch,i<3)throw new Error("The number of segments per rotation needs to be at least 3.");let c=mB.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(v=>v[0][0]>=0);let u=ru.fromSides(c);f.length===0&&(u=ru.reverse(u));const d=Math.round(i/wo*Math.abs(r)),h=d>=2?d:2,p=Or.create();let g;const m=(v,b,y)=>{const A=o+r/h*b,E=s/h*b,w=(A-o)/wo*a;return Or.multiply(p,Or.fromTranslation(Or.create(),[E,0,w*Math.sign(r)]),Or.fromXRotation(Or.create(),-wo/4*Math.sign(r))),g=Or.create(),Or.multiply(g,Or.fromZRotation(Or.create(),A),p),ru.transform(g,y)};return hB({numberOfSlices:h+1,callback:m},u)};var gB=pB;const vB=pt,_m=Ll,su=Fr,ym=Xt,Am=vt,p2=yt,Ci=Mt,bB=vs,_B=m2,yB=(e,t)=>{const n=su.fromNormalAndPoint(su.create(),e.axis,e.origin);if(Number.isNaN(n[0])||Number.isNaN(n[1])||Number.isNaN(n[2])||Number.isNaN(n[3]))throw new Error("project: invalid axis or origin");const r=bB(t),s=r*r*Math.sqrt(3)/4;if(r===0)return Am.create();const i=p2.toPolygons(t);let o=[];for(let l=0;l<i.length;l++){const c=i[l].vertices.map(d=>su.projectionOfPoint(n,d)),f=Ci.create(c),u=Ci.plane(f);_m(n,u)&&(Ci.measureArea(f)<s||o.push(f))}if(!_m(n,[0,0,1])){const l=ym.fromVectorRotation(ym.create(),n,[0,0,1]);o=o.map(c=>Ci.transform(l,c))}o=o.sort((l,c)=>Ci.measureArea(c)-Ci.measureArea(l));const a=o.map(l=>Am.fromPoints(l.vertices));return _B(a)},AB=(e,...t)=>{const n={axis:[0,0,1],origin:[0,0,0]},{axis:r,origin:s}=Object.assign({},n,e);if(t=vB(t),t.length===0)throw new Error("wrong number of arguments");e={axis:r,origin:s};const i=t.map(o=>p2.isA(o)?yB(e,o):o);return i.length===1?i[0]:i};var SB=AB,EB={extrudeFromSlices:Ml,extrudeLinear:WG,extrudeRectangular:dB,extrudeRotate:s2,extrudeHelical:gB,project:SB,slice:zi};const Sm=St,wB=e=>{let t=Sm.fromValues(1/0,1/0);e.forEach(s=>{(s[1]<t[1]||s[1]===t[1]&&s[0]<t[0])&&(t=s)});const n=[];e.forEach(s=>{const i=CB(s[1]-t[1],s[0]-t[0]),o=Sm.squaredDistance(s,t);n.push({point:s,angle:i,distSq:o})}),n.sort((s,i)=>s.angle<i.angle?-1:s.angle>i.angle?1:s.distSq<i.distSq?-1:s.distSq>i.distSq?1:0);const r=[];return n.forEach(s=>{let i=r.length;for(;i>1&&TB(r[i-2],r[i-1],s.point)<=Number.EPSILON;)r.pop(),i=r.length;r.push(s.point)}),r},TB=(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]),CB=(e,t)=>e===0&&t===0?-1/0:-t/e;var g2=wB;const Em=vt,wm=yt,Tm=Ht,PB=e=>{const t=new Set,n=[],r=s=>{const i=s.toString();t.has(i)||(n.push(s),t.add(i))};return e.forEach(s=>{Em.isA(s)?Em.toPoints(s).forEach(r):wm.isA(s)?wm.toPoints(s).forEach(i=>i.forEach(r)):Tm.isA(s)&&Tm.toPoints(s).forEach(r)}),n};var ad=PB;const LB=pt,OB=Ht,RB=g2,MB=ad,IB=(...e)=>{e=LB(e);const t=MB(e),n=RB(t);return OB.fromPoints({closed:!0},n)};var xB=IB;const DB=pt,Cm=vt,FB=g2,kB=ad,GB=(...e)=>{e=DB(e);const t=kB(e),n=FB(t);return n.length<3?Cm.create():Cm.fromPoints(n)};var BB=GB;const NB=No,Pm=_l,Lm=Hg,$B=(e,t,n)=>{const r=[],s=[],i=[];Pm(r,n,t),Pm(s,e,t);const o=Lm(NB(i,s,r)),a=Lm(r);if(a===0)throw Error("a and b are the same point");return o/a},VB=(e,t,n)=>Math.sqrt($B(e,t,n));var UB=VB;const zB=No,HB=Vu,Om=_l,jB=(e,t,n,r)=>{const s=[0,0,0];return Om(e,t,n),Om(s,n,r),zB(e,e,s),HB(e,e)};var qB=jB;let XB=class{constructor(){this.head=null,this.tail=null}clear(){this.head=this.tail=null}insertBefore(t,n){n.prev=t.prev,n.next=t,n.prev?n.prev.next=n:this.head=n,t.prev=n}insertAfter(t,n){n.prev=t,n.next=t.next,n.next?n.next.prev=n:this.tail=n,t.next=n}add(t){this.head?this.tail.next=t:this.head=t,t.prev=this.tail,t.next=null,this.tail=t}addAll(t){for(this.head?this.tail.next=t:this.head=t,t.prev=this.tail;t.next;)t=t.next;this.tail=t}remove(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}removeChain(t,n){t.prev?t.prev.next=n.next:this.head=n.next,n.next?n.next.prev=t.prev:this.tail=t.prev}first(){return this.head}isEmpty(){return!this.head}};var WB=XB;let YB=class{constructor(t,n){this.point=t,this.index=n,this.next=null,this.prev=null,this.face=null}};var ZB=YB;const KB=Bg,QB=zg;let JB=class{constructor(t,n){this.vertex=t,this.face=n,this.next=null,this.prev=null,this.opposite=null}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){return this.tail()?KB(this.tail().point,this.head().point):-1}lengthSquared(){return this.tail()?QB(this.tail().point,this.head().point):-1}setOpposite(t){this.opposite=t,t.opposite=this}};var eN=JB;const iu=kg,tN=Gg,nN=No,ou=vl,rN=Ng,sN=Vu,Ka=Ug,au=_l,lu=eN,v2=0,iN=1,Iu=2;let oN=class b2{constructor(){this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=v2,this.edge=null,this.nVertices=0}getEdge(t){if(typeof t!="number")throw Error("requires a number");let n=this.edge;for(;t>0;)n=n.next,t-=1;for(;t<0;)n=n.prev,t+=1;return n}computeNormal(){const t=this.edge,n=t.next;let r=n.next;const s=au([],n.head().point,t.head().point),i=[],o=[];for(this.nVertices=2,this.normal=[0,0,0];r!==t;)tN(o,s),au(s,r.head().point,t.head().point),iu(this.normal,this.normal,nN(i,o,s)),r=r.next,this.nVertices+=1;this.area=rN(this.normal),this.normal=Ka(this.normal,this.normal,1/this.area)}computeNormalMinArea(t){if(this.computeNormal(),this.area<t){let n,r=0,s=this.edge;do{const f=s.lengthSquared();f>r&&(n=s,r=f),s=s.next}while(s!==this.edge);const i=n.tail().point,o=n.head().point,a=au([],o,i),l=Math.sqrt(r);Ka(a,a,1/l);const c=ou(this.normal,a);Ka(a,a,-c),iu(this.normal,this.normal,a),sN(this.normal,this.normal)}}computeCentroid(){this.centroid=[0,0,0];let t=this.edge;do iu(this.centroid,this.centroid,t.head().point),t=t.next;while(t!==this.edge);Ka(this.centroid,this.centroid,1/this.nVertices)}computeNormalAndCentroid(t){typeof t<"u"?this.computeNormalMinArea(t):this.computeNormal(),this.computeCentroid(),this.offset=ou(this.normal,this.centroid)}distanceToPlane(t){return ou(this.normal,t)-this.offset}connectHalfEdges(t,n){let r;if(t.opposite.face===n.opposite.face){const s=n.opposite.face;let i;t===this.edge&&(this.edge=n),s.nVertices===3?(i=n.opposite.prev.opposite,s.mark=Iu,r=s):(i=n.opposite.next,s.edge===i.prev&&(s.edge=i),i.prev=i.prev.prev,i.prev.next=i),n.prev=t.prev,n.prev.next=n,n.setOpposite(i),s.computeNormalAndCentroid()}else t.next=n,n.prev=t;return r}mergeAdjacentFaces(t,n){const r=t.opposite,s=r.face;n.push(s),s.mark=Iu;let i=t.prev,o=t.next,a=r.prev,l=r.next;for(;i.opposite.face===s;)i=i.prev,l=l.next;for(;o.opposite.face===s;)o=o.next,a=a.prev;let c;for(c=l;c!==a.next;c=c.next)c.face=this;this.edge=o;let f;return f=this.connectHalfEdges(a,o),f&&n.push(f),f=this.connectHalfEdges(i,l),f&&n.push(f),this.computeNormalAndCentroid(),n}collectIndices(){const t=[];let n=this.edge;do t.push(n.head().index),n=n.next;while(n!==this.edge);return t}static createTriangle(t,n,r,s=0){const i=new b2,o=new lu(t,i),a=new lu(n,i),l=new lu(r,i);return o.next=l.prev=a,a.next=o.prev=l,l.next=a.prev=o,i.edge=o,i.computeNormalAndCentroid(s),i}};var aN={VISIBLE:v2,NON_CONVEX:iN,DELETED:Iu,Face:oN};const cu=vl,lN=UB,cN=qB,Rm=WB,fN=ZB,{Face:zr,VISIBLE:Pi,NON_CONVEX:Mm,DELETED:uN}=aN,dN=1,Im=2;let hN=class{constructor(t){if(!Array.isArray(t))throw TypeError("input is not a valid array");if(t.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=t.length,this.faces=[],this.newFaces=[],this.claimed=new Rm,this.unclaimed=new Rm,this.vertices=[];for(let n=0;n<t.length;n+=1)this.vertices.push(new fN(t[n],n));this.discardedFaces=[],this.vertexPointIndices=[]}addVertexToFace(t,n){t.face=n,n.outside?this.claimed.insertBefore(n.outside,t):this.claimed.add(t),n.outside=t}removeVertexFromFace(t,n){t===n.outside&&(t.next&&t.next.face===n?n.outside=t.next:n.outside=null),this.claimed.remove(t)}removeAllVerticesFromFace(t){if(t.outside){let n=t.outside;for(;n.next&&n.next.face===t;)n=n.next;return this.claimed.removeChain(t.outside,n),n.next=null,t.outside}}deleteFaceVertices(t,n){const r=this.removeAllVerticesFromFace(t);if(r)if(!n)this.unclaimed.addAll(r);else{let s;for(let i=r;i;i=s)s=i.next,n.distanceToPlane(i.point)>this.tolerance?this.addVertexToFace(i,n):this.unclaimed.add(i)}}resolveUnclaimedPoints(t){let n=this.unclaimed.first();for(let r=n;r;r=n){n=r.next;let s=this.tolerance,i;for(let o=0;o<t.length;o+=1){const a=t[o];if(a.mark===Pi){const l=a.distanceToPlane(r.point);if(l>s&&(s=l,i=a),s>1e3*this.tolerance)break}}i&&this.addVertexToFace(r,i)}}computeExtremes(){const t=[],n=[],r=[],s=[];let i,o;for(i=0;i<3;i+=1)r[i]=s[i]=this.vertices[0];for(i=0;i<3;i+=1)t[i]=n[i]=this.vertices[0].point[i];for(i=1;i<this.vertices.length;i+=1){const a=this.vertices[i],l=a.point;for(o=0;o<3;o+=1)l[o]<t[o]&&(t[o]=l[o],r[o]=a);for(o=0;o<3;o+=1)l[o]>n[o]&&(n[o]=l[o],s[o]=a)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(t[0]),Math.abs(n[0]))+Math.max(Math.abs(t[1]),Math.abs(n[1]))+Math.max(Math.abs(t[2]),Math.abs(n[2]))),[r,s]}createInitialSimplex(){const t=this.vertices,[n,r]=this.computeExtremes();let s,i,o,a,l=0,c=0;for(o=0;o<3;o+=1){const g=r[o].point[o]-n[o].point[o];g>l&&(l=g,c=o)}const f=n[c],u=r[c];for(l=0,o=0;o<this.vertices.length;o+=1){const g=this.vertices[o];if(g!==f&&g!==u){const m=lN(g.point,f.point,u.point);m>l&&(l=m,s=g)}}const d=cN([],f.point,u.point,s.point),h=cu(f.point,d);for(l=-1,o=0;o<this.vertices.length;o+=1){const g=this.vertices[o];if(g!==f&&g!==u&&g!==s){const m=Math.abs(cu(d,g.point)-h);m>l&&(l=m,i=g)}}const p=[];if(cu(i.point,d)-h<0)for(p.push(zr.createTriangle(f,u,s),zr.createTriangle(i,u,f),zr.createTriangle(i,s,u),zr.createTriangle(i,f,s)),o=0;o<3;o+=1){const g=(o+1)%3;p[o+1].getEdge(2).setOpposite(p[0].getEdge(g)),p[o+1].getEdge(1).setOpposite(p[g+1].getEdge(0))}else for(p.push(zr.createTriangle(f,s,u),zr.createTriangle(i,f,u),zr.createTriangle(i,u,s),zr.createTriangle(i,s,f)),o=0;o<3;o+=1){const g=(o+1)%3;p[o+1].getEdge(2).setOpposite(p[0].getEdge((3-o)%3)),p[o+1].getEdge(0).setOpposite(p[g+1].getEdge(1))}for(o=0;o<4;o+=1)this.faces.push(p[o]);for(o=0;o<t.length;o+=1){const g=t[o];if(g!==f&&g!==u&&g!==s&&g!==i){l=this.tolerance;let m;for(a=0;a<4;a+=1){const v=p[a].distanceToPlane(g.point);v>l&&(l=v,m=p[a])}m&&this.addVertexToFace(g,m)}}}reindexFaceAndVertices(){const t=[];for(let n=0;n<this.faces.length;n+=1){const r=this.faces[n];r.mark===Pi&&t.push(r)}this.faces=t}collectFaces(t){const n=[];for(let r=0;r<this.faces.length;r+=1){if(this.faces[r].mark!==Pi)throw Error("attempt to include a destroyed face in the hull");const s=this.faces[r].collectIndices();if(t)n.push(s);else for(let i=0;i<s.length-2;i+=1)n.push([s[0],s[i+1],s[i+2]])}return n}nextVertexToAdd(){if(!this.claimed.isEmpty()){let t,n,r=0;const s=this.claimed.first().face;for(n=s.outside;n&&n.face===s;n=n.next){const i=s.distanceToPlane(n.point);i>r&&(r=i,t=n)}return t}}computeHorizon(t,n,r,s){this.deleteFaceVertices(r),r.mark=uN;let i;n?i=n.next:i=n=r.getEdge(0);do{const o=i.opposite,a=o.face;a.mark===Pi&&(a.distanceToPlane(t)>this.tolerance?this.computeHorizon(t,o,a,s):s.push(i)),i=i.next}while(i!==n)}addAdjoiningFace(t,n){const r=zr.createTriangle(t,n.tail(),n.head());return this.faces.push(r),r.getEdge(-1).setOpposite(n.opposite),r.getEdge(0)}addNewFaces(t,n){this.newFaces=[];let r,s;for(let i=0;i<n.length;i+=1){const o=n[i],a=this.addAdjoiningFace(t,o);r?a.next.setOpposite(s):r=a,this.newFaces.push(a.face),s=a}r.next.setOpposite(s)}oppositeFaceDistance(t){return t.face.distanceToPlane(t.opposite.face.centroid)}doAdjacentMerge(t,n){let r=t.edge,s=!0,i=0;do{if(i>=t.nVertices)throw Error("merge recursion limit exceeded");const o=r.opposite.face;let a=!1;if(n===Im?(this.oppositeFaceDistance(r)>-this.tolerance||this.oppositeFaceDistance(r.opposite)>-this.tolerance)&&(a=!0):t.area>o.area?this.oppositeFaceDistance(r)>-this.tolerance?a=!0:this.oppositeFaceDistance(r.opposite)>-this.tolerance&&(s=!1):this.oppositeFaceDistance(r.opposite)>-this.tolerance?a=!0:this.oppositeFaceDistance(r)>-this.tolerance&&(s=!1),a){const l=t.mergeAdjacentFaces(r,[]);for(let c=0;c<l.length;c+=1)this.deleteFaceVertices(l[c],t);return!0}r=r.next,i+=1}while(r!==t.edge);return s||(t.mark=Mm),!1}addVertexToHull(t){const n=[];this.unclaimed.clear(),this.removeVertexFromFace(t,t.face),this.computeHorizon(t.point,null,t.face,n),this.addNewFaces(t,n);for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===Pi)for(;this.doAdjacentMerge(s,dN););}for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===Mm)for(s.mark=Pi;this.doAdjacentMerge(s,Im););}this.resolveUnclaimedPoints(this.newFaces)}build(){let t;for(this.createInitialSimplex();t=this.nextVertexToAdd();)this.addVertexToHull(t);this.reindexFaceAndVertices()}};var mN=hN;const pN=mN,gN=(e,t={})=>{const n=new pN(e);return n.build(),n.collectFaces(t.skipTriangulation)};var vN=gN;const bN=pt,_N=yt,yN=Mt,AN=vN,SN=ad,EN=(...e)=>{if(e=bN(e),e.length===1)return e[0];const t=SN(e),r=AN(t,{skipTriangulation:!0}).map(s=>{const i=s.map(o=>t[o]);return yN.create(i)});return _N.create(r)};var wN=EN;const TN=pt,CN=zo,PN=vt,LN=yt,ON=Ht,RN=xB,MN=BB,IN=wN,xN=(...e)=>{if(e=TN(e),e.length===0)throw new Error("wrong number of arguments");if(!CN(e))throw new Error("only hulls of the same type are supported");const t=e[0];return ON.isA(t)?RN(e):PN.isA(t)?MN(e):LN.isA(t)?IN(e):t};var _2=xN;const DN=pt,FN=id,kN=_2,GN=(...e)=>{if(e=DN(e),e.length<2)throw new Error("wrong number of arguments");const t=[];for(let n=1;n<e.length;n++)t.push(kN(e[n-1],e[n]));return FN(t)};var BN=GN,NN={hull:_2,hullChain:BN};const fu=rt,y2=Mt,$N=(e,t)=>{const n=Math.abs(y2.measureArea(t));return Number.isFinite(n)&&n>e},VN=(e,t)=>{let n=t.map(s=>{const i=s.vertices.map(l=>fu.snap(fu.create(),l,e)),o=[];for(let l=0;l<i.length;l++){const c=(l+1)%i.length;fu.equals(i[l],i[c])||o.push(i[l])}const a=y2.create(o);return s.color&&(a.color=s.color),a});const r=e*e*Math.sqrt(3)/4;return n=n.filter(s=>$N(r,s)),n};var A2=VN;const UN=Ll,Mi=rt,pl=Mt,zN=e=>{const t=pl.toPoints(e),n=[];for(let r=0;r<t.length;r++){const s=(r+1)%t.length,i={v1:t[r],v2:t[s]};n.push(i)}for(let r=0;r<n.length;r++){const s=(r+1)%t.length;n[r].next=n[s],n[s].prev=n[r]}return n},HN=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.set(n,t)},uu=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.delete(n)},jN=(e,t)=>{const n=`${t.v2}:${t.v1}`;return e.get(n)},qN=(e,t,n)=>{let r=e.prev.v1,s=e.prev.v2,i=t.next.v2;const o=xm(r,s,i,n);r=t.prev.v1,s=t.prev.v2,i=e.next.v2;const a=xm(r,s,i,n);return[o,a]},XN=Mi.create(),WN=Mi.create(),xm=(e,t,n,r)=>{const s=Mi.subtract(XN,t,e),i=Mi.subtract(WN,n,t);return Mi.cross(s,s,i),Mi.dot(s,r)},YN=e=>{let t;const n=[];for(;e.next;){const r=e.next;n.push(e.v1),e.v1=null,e.v2=null,e.next=null,e.prev=null,e=r}return n.length>0&&(t=pl.create(n)),t},ZN=e=>{if(e.length<2)return e;const t=e[0].plane,n=e.slice(),r=new Map;for(;n.length>0;){const i=n.shift(),o=zN(i);for(let a=0;a<o.length;a++){const l=o[a],c=jN(r,l);if(c){const f=qN(l,c,t);if(f[0]>=0&&f[1]>=0){const u=c.next,d=l.next;l.prev.next=c.next,l.next.prev=c.prev,c.prev.next=l.next,c.next.prev=l.prev,l.v1=null,l.v2=null,l.next=null,l.prev=null,uu(r,c),c.v1=null,c.v2=null,c.next=null,c.prev=null;const h=(p,g,m)=>{const v={v1:m.v1,v2:g.v2,next:g.next,prev:m.prev};m.prev.next=v,g.next.prev=v,uu(p,g),g.v1=null,g.v2=null,g.next=null,g.prev=null,uu(p,m),m.v1=null,m.v2=null,m.next=null,m.prev=null};f[0]===0&&h(r,u,u.prev),f[1]===0&&h(r,d,d.prev)}}else l.next&&HN(r,l)}}const s=[];return r.forEach(i=>{const o=YN(i);o&&s.push(o)}),r.clear(),s},KN=(e,t)=>Math.abs(e[3]-t[3])<15e-8?UN(e,t):!1,QN=(e,t)=>{const n=[];t.forEach(s=>{const i=n.find(o=>KN(o[0],pl.plane(s)));i?i[1].push(s):n.push([pl.plane(s),[s]])});let r=[];return n.forEach(s=>{const i=s[1],o=ZN(i);r=r.concat(o)}),r};var JN=QN;const Dm=Dt,Rr=rt,e9=Mt,Zn=e=>`${e}`,Fm=(e,t,n,r,s,i)=>{const o=Zn(r),a=Zn(s),l=`${o}/${a}`,c=`${a}/${o}`;if(e.has(c))return al(e,t,n,s,r,null),null;const f={vertex0:r,vertex1:s,polygonindex:i};return e.has(l)?e.get(l).push(f):e.set(l,[f]),t.has(o)?t.get(o).push(l):t.set(o,[l]),n.has(a)?n.get(a).push(l):n.set(a,[l]),l},al=(e,t,n,r,s,i)=>{const o=Zn(r),a=Zn(s),l=`${o}/${a}`;let c=-1;const f=e.get(l);for(let u=0;u<f.length;u++){const d=f[u];let h=Zn(d.vertex0);if(h===o&&(h=Zn(d.vertex1),h===a&&!(i!==null&&d.polygonindex!==i))){c=u;break}}f.splice(c,1),f.length===0&&e.delete(l),c=t.get(o).indexOf(l),t.get(o).splice(c,1),t.get(o).length===0&&t.delete(o),c=n.get(a).indexOf(l),n.get(a).splice(c,1),n.get(a).length===0&&n.delete(a)},t9=e=>{const t=new Map;for(let n=0;n<e.length;n++){const r=e[n],s=r.vertices.length;if(s>=3){let i=r.vertices[0],o=Zn(i);for(let a=0;a<s;a++){let l=a+1;l===s&&(l=0);const c=r.vertices[l],f=Zn(c),u=`${o}/${f}`,d=`${f}/${o}`;if(t.has(d)){const h=t.get(d);h.splice(-1,1),h.length===0&&t.delete(d)}else{const h={vertex0:i,vertex1:c,polygonindex:n};t.has(u)?t.get(u).push(h):t.set(u,[h])}i=c,o=f}}else console.warn("warning: invalid polygon found during insertTjunctions")}if(t.size>0){const n=new Map,r=new Map,s=new Map;for(const[o,a]of t)s.set(o,!0),a.forEach(l=>{const c=Zn(l.vertex0),f=Zn(l.vertex1);n.has(c)?n.get(c).push(o):n.set(c,[o]),r.has(f)?r.get(f).push(o):r.set(f,[o])});const i=e.slice(0);for(;t.size!==0;){for(const a of t.keys())s.set(a,!0);let o=!1;for(;;){const a=Array.from(s.keys());if(a.length===0)break;const l=a[0];let c=!0;if(t.has(l)){const u=t.get(l)[0];for(let d=0;d<2;d++){const h=d===0?u.vertex0:u.vertex1,p=d===0?u.vertex1:u.vertex0,g=Zn(h),m=Zn(p);let v=[];d===0?r.has(g)&&(v=r.get(g)):n.has(g)&&(v=n.get(g));for(let b=0;b<v.length;b++){const y=v[b],A=t.get(y)[0],E=d===0?A.vertex0:A.vertex1;if(d===0?A.vertex1:A.vertex0,Zn(E)===m){al(t,n,r,h,p,null),al(t,n,r,p,h,null),c=!1,d=2,o=!0;break}else{const S=h,R=p,H=E,W=Rr.subtract(Rr.create(),H,S),G=Rr.dot(Rr.subtract(Rr.create(),R,S),W)/Rr.dot(W,W);if(G>0&&G<1){const oe=Rr.scale(Rr.create(),W,G);if(Rr.add(oe,oe,S),Rr.squaredDistance(oe,R)<Dm.EPS*Dm.EPS){const X=A.polygonindex,Ee=i[X],te=Zn(A.vertex1);let U=-1;for(let Fe=0;Fe<Ee.vertices.length;Fe++)if(Zn(Ee.vertices[Fe])===te){U=Fe;break}const fe=Ee.vertices.slice(0);fe.splice(U,0,p);const _e=e9.create(fe);i[X]=_e,al(t,n,r,A.vertex0,A.vertex1,X);const Xe=Fm(t,n,r,A.vertex0,p,X),Pt=Fm(t,n,r,p,A.vertex1,X);Xe!==null&&s.set(Xe,!0),Pt!==null&&s.set(Pt,!0),c=!1,d=2,o=!0;break}}}}}}c&&s.delete(l)}if(!o)break}e=i}return t.clear(),e};var n9=t9;const du=rt,hu=Mt,r9=(e,t,n)=>{const r=t.vertices.length;if(r>3){if(r>4){const o=[0,0,0];t.vertices.forEach(a=>du.add(o,o,a)),du.snap(o,du.divide(o,o,[r,r,r]),e);for(let a=0;a<r;a++){const l=hu.create([o,t.vertices[a],t.vertices[(a+1)%r]]);t.color&&(l.color=t.color),n.push(l)}return}const s=hu.create([t.vertices[0],t.vertices[1],t.vertices[2]]),i=hu.create([t.vertices[0],t.vertices[2],t.vertices[3]]);t.color&&(s.color=t.color,i.color=t.color),n.push(s,i);return}n.push(t)},s9=(e,t)=>{const n=[];return t.forEach(r=>{r9(e,r,n)}),n};var i9=s9;const o9=pt,a9=vs,l9=vt,S2=yt,c9=Ht,f9=A2,u9=JN,d9=n9,h9=i9,m9=(e,t)=>t,p9=(e,t)=>t,g9=(e,t)=>{const n={snap:!1,simplify:!1,triangulate:!1},{snap:r,simplify:s,triangulate:i}=Object.assign({},n,e),o=a9(t);let a=S2.toPolygons(t);r&&(a=f9(o,a)),s&&(a=u9(o,a)),i&&(a=d9(a),a=h9(o,a));const l=Object.assign({},t);return l.polygons=a,l},v9=(e,...t)=>{if(t=o9(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>{if(c9.isA(r))return m9(e,r);if(l9.isA(r))return p9(e,r);if(S2.isA(r))return g9(e,r);throw new Error("invalid geometry")});return n.length===1?n[0]:n};var b9=v9;const _9=pt,Hs=St,xu=vt,Du=yt,Fu=Ht,ld=vs,y9=A2,A9=e=>{const t=ld(e),r=Fu.toPoints(e).map(s=>Hs.snap(Hs.create(),s,t));return Fu.create(r)},S9=e=>{const t=ld(e);let r=xu.toSides(e).map(s=>[Hs.snap(Hs.create(),s[0],t),Hs.snap(Hs.create(),s[1],t)]);return r=r.filter(s=>!Hs.equals(s[0],s[1])),xu.create(r)},E9=e=>{const t=ld(e),n=Du.toPolygons(e),r=y9(t,n);return Du.create(r)},w9=(...e)=>{if(e=_9(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>Fu.isA(n)?A9(n):xu.isA(n)?S9(n):Du.isA(n)?E9(n):n);return t.length===1?t[0]:t};var T9=w9,C9={generalize:b9,snap:T9};const P9=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var L9=P9;const O9=pt,km=L9,E2=Ku,{translate:R9}=qs,M9=e=>{if(!Array.isArray(e.modes)||e.modes.length>3)throw new Error("align(): modes must be an array of length <= 3");if(e.modes=km(e.modes,"none",3),e.modes.filter(t=>["center","max","min","none"].includes(t)).length!==3)throw new Error('align(): all modes must be one of "center", "max" or "min"');if(!Array.isArray(e.relativeTo)||e.relativeTo.length>3)throw new Error("align(): relativeTo must be an array of length <= 3");if(e.relativeTo=km(e.relativeTo,0,3),e.relativeTo.filter(t=>Number.isFinite(t)||t==null).length!==3)throw new Error("align(): all relativeTo values must be a number, or null.");if(typeof e.grouped!="boolean")throw new Error("align(): grouped must be a boolean value.");return e},I9=(e,t,n)=>{for(let r=0;r<3;r++)e[r]==null&&(t[r]==="center"?e[r]=(n[0][r]+n[1][r])/2:t[r]==="max"?e[r]=n[1][r]:t[r]==="min"&&(e[r]=n[0][r]));return e},Gm=(e,t,n)=>{const r=E2(e),s=[0,0,0];for(let i=0;i<3;i++)t[i]==="center"?s[i]=n[i]-(r[0][i]+r[1][i])/2:t[i]==="max"?s[i]=n[i]-r[1][i]:t[i]==="min"&&(s[i]=n[i]-r[0][i]);return R9(s,e)},x9=(e,...t)=>{e=Object.assign({},{modes:["center","center","min"],relativeTo:[0,0,0],grouped:!1},e),e=M9(e);let{modes:r,relativeTo:s,grouped:i}=e;if(t=O9(t),t.length===0)throw new Error("align(): No geometries were provided to act upon");if(s.filter(o=>o==null).length){const o=E2(t);s=I9(s,r,o)}return i?t=Gm(t,r,s):t=t.map(o=>Gm(o,r,s)),t.length===1?t[0]:t};var D9=x9;const F9=pt,k9=vt,G9=yt,B9=Ht,N9=Ks,{translate:$9}=qs,mu=(e,t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e),i=N9(t),o=[0,0,0];return r[0]&&(o[0]=s[0]-(i[0][0]+(i[1][0]-i[0][0])/2)),r[1]&&(o[1]=s[1]-(i[0][1]+(i[1][1]-i[0][1])/2)),r[2]&&(o[2]=s[2]-(i[0][2]+(i[1][2]-i[0][2])/2)),$9(o,t)},Gl=(e,...t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e);if(t=F9(t),t.length===0)throw new Error("wrong number of arguments");if(s.length!==3)throw new Error("relativeTo must be an array of length 3");e={axes:r,relativeTo:s};const i=t.map(o=>B9.isA(o)||k9.isA(o)||G9.isA(o)?mu(e,o):o);return i.length===1?i[0]:i},V9=(...e)=>Gl({axes:[!0,!1,!1]},e),U9=(...e)=>Gl({axes:[!1,!0,!1]},e),z9=(...e)=>Gl({axes:[!1,!1,!0]},e);var Qa={center:Gl,centerX:V9,centerY:U9,centerZ:z9};const H9=pt,Bm=Xt,Nm=vt,$m=yt,Vm=Ht,Bl=(e,...t)=>{if(!Array.isArray(e))throw new Error("factors must be an array");if(t=H9(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(1);if(e[0]<=0||e[1]<=0||e[2]<=0)throw new Error("factors must be positive");const n=Bm.fromScaling(Bm.create(),e),r=t.map(s=>Vm.isA(s)?Vm.transform(n,s):Nm.isA(s)?Nm.transform(n,s):$m.isA(s)?$m.transform(n,s):s);return r.length===1?r[0]:r},j9=(e,...t)=>Bl([e,1,1],t),q9=(e,...t)=>Bl([1,e,1],t),X9=(e,...t)=>Bl([1,1,e],t);var Ja={scale:Bl,scaleX:j9,scaleY:q9,scaleZ:X9};const W9=pt,Um=vt,zm=yt,Hm=Ht,Y9=(e,...t)=>{if(t=W9(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>Hm.isA(r)?Hm.transform(e,r):Um.isA(r)?Um.transform(e,r):zm.isA(r)?zm.transform(e,r):r);return n.length===1?n[0]:n};var Z9=Y9,K9={align:D9,center:Qa.center,centerX:Qa.centerX,centerY:Qa.centerY,centerZ:Qa.centerZ,mirror:Po.mirror,mirrorX:Po.mirrorX,mirrorY:Po.mirrorY,mirrorZ:Po.mirrorZ,rotate:Oo.rotate,rotateX:Oo.rotateX,rotateY:Oo.rotateY,rotateZ:Oo.rotateZ,scale:Ja.scale,scaleX:Ja.scaleX,scaleY:Ja.scaleY,scaleZ:Ja.scaleZ,transform:Z9,translate:qs.translate,translateX:qs.translateX,translateY:qs.translateY,translateZ:qs.translateZ},ft={colors:tR,curves:fR,geometries:Xu,maths:q6,measurements:c8,primitives:nF,text:hF,utils:l2,booleans:Fk,expansions:xG,extrusions:EB,hulls:NN,modifiers:C9,transforms:K9};const{geometries:pu}=ft,Q9=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=new ArrayBuffer(4),r=new Int32Array(n,0,1),s=new Int8Array(n,0,4);if(r[0]=287454020,s[0]!==68)throw new Error("Binary STL output is currently only supported on little-endian (Intel) processors");let i=0,o=0;e.forEach((m,v)=>{pu.geom3.toPolygons(m).forEach(y=>{const A=y.vertices.length,E=A>=3?A-2:0;i+=E,o+=1})});const a=new Uint8Array(80);for(let m=0;m<80;m++)a[m]=65;const l=new Uint32Array(1);l[0]=i;const c=new ArrayBuffer(50*i),f=new Int8Array(c),u=new ArrayBuffer(50),d=new Int8Array(u),h=new Float32Array(u,0,12),p=new Uint16Array(u,48,1);let g=0;return e.forEach(m=>{pu.geom3.toPolygons(m).forEach((b,y)=>{const A=b.vertices,E=A.length,w=pu.poly3.plane(b);for(let S=0;S<E-2;S++){h[0]=w[0],h[1]=w[1],h[2]=w[2];let R=3;for(let H=0;H<3;H++){const W=H+(H>0?S:0),G=A[W];h[R++]=G[0],h[R++]=G[1],h[R++]=G[2]}p[0]=0,f.set(d,g),g+=50}t.statusCallback&&t.statusCallback({progress:100*y/o})})}),t.statusCallback&&t.statusCallback({progress:100}),[a.buffer,l.buffer,c]};var J9={serializeBinary:Q9};const{geometries:w2}=ft,e$=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=`solid JSCAD
${t$(e,t)}
endsolid JSCAD
`;return t.statusCallback&&t.statusCallback({progress:100}),[n]},t$=(e,t)=>{const n=[];return e.forEach((r,s)=>{n.push(n$(r)),t.statusCallback&&t.statusCallback({progress:100*s/e.length})}),n.join(`
`)},n$=(e,t)=>{const n=[];return w2.geom3.toPolygons(e).forEach((s,i)=>{n.push(r$(s))}),n.join(`
`)},T2=e=>`${e[0]} ${e[1]} ${e[2]}`,gu=e=>`vertex ${T2(e)}`,r$=e=>{const t=[];if(e.vertices.length>=3){const n=gu(e.vertices[0]);for(let r=0;r<e.vertices.length-2;r++){const s=`facet normal ${T2(w2.poly3.plane(e))}
outer loop
${n}
${gu(e.vertices[r+1])}
${gu(e.vertices[r+2])}
endloop
endfacet`;t.push(s)}}return t.join(`
`)};var s$={serializeText:e$};const{geometries:i$,modifiers:o$}=ft,{flatten:a$,toArray:l$}=Bu,{serializeBinary:c$}=J9,{serializeText:f$}=s$,u$="application/sla",d$=(e,...t)=>{e=Object.assign({},{binary:!0,statusCallback:null},e),t=a$(t);let r=t.filter(s=>i$.geom3.isA(s));if(r.length===0)throw new Error("only 3D geometries can be serialized to STL");return t.length!==r.length&&console.warn("some objects could not be serialized to STL"),r=l$(o$.generalize({snap:!0,triangulate:!0},r)),e.binary?c$(r,e):f$(r,e)};var h$={mimeType:u$,serialize:d$};const m$=By(h$);var C2={exports:{}};(function(e,t){(function(n,r){r()})(Us,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,u){var d=new XMLHttpRequest;d.open("GET",c),d.responseType="blob",d.onload=function(){l(d.response,f,u)},d.onerror=function(){console.error("could not download file")},d.send()}function s(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Us=="object"&&Us.global===Us?Us:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,u){var d=o.URL||o.webkitURL,h=document.createElement("a");f=f||c.name||"download",h.download=f,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?i(h):s(h.href)?r(c,f,u):i(h,h.target="_blank")):(h.href=d.createObjectURL(c),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){i(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,u){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,u),f);else if(s(c))r(c,f,u);else{var d=document.createElement("a");d.href=c,d.target="_blank",setTimeout(function(){i(d)})}}:function(c,f,u,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,u);var h=c.type==="application/octet-stream",p=/constructor/i.test(o.HTMLElement)||o.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||h&&p||a)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var y=m.result;y=g?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=y:location=y,d=null},m.readAsDataURL(c)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(c);d?d.location=b:location.href=b,d=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(C2);var p$=C2.exports;const g$=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,2,0,0,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,2,2,3,2,2,2,2,1,3,2,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,1,2,1,2,2,2,2,2,2,2,3,3,2,2,0,2,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,3,2,2,2,2,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,2,2,2,3,2,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,2,1,2,0,2,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,2,2,2,3,2,2,2,2,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,3,2,1,2,3,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,2,2,2,2,1,3,3,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];function v$(e,t,n){let r=e-n*2,s=t-n;return[0,1,2].map(i=>ft.transforms.rotateY(i*Math.PI/3,ft.transforms.translateZ(-r-n,ft.extrusions.extrudeLinear({height:(r+n)*2},ft.expansions.offset({delta:n,corners:"round",segments:100},ft.primitives.rectangle({size:[r,s]})))))).reduce((i,o)=>ft.booleans.intersect(i,o))}function jm(e,t){const n=Math.sqrt(3)*e/4;return ft.extrusions.extrudeLinear({height:t},ft.primitives.polygon({points:[[e/2,0],[e/4,n],[-e/4,n],[-e/2,0],[-e/4,-n],[e/4,-n]]}))}function b$(e,t,n,r,s){const i=ft.booleans.subtract(jm(e,t),ft.transforms.translateZ(s===1?-n:n/2,jm(e-n,t+n*2)));return s===3?ft.booleans.union(i,ft.booleans.subtract(ft.transforms.translateZ((t-r)/2-n/4,ft.transforms.rotate([Math.PI/2,0,Math.PI/6],v$((e-n)*.8658,t,r))),ft.transforms.translateZ(0,ft.primitives.cuboid({size:[e,e,t]})))):i}const Xs=7;function qm(){return ft.booleans.union(ft.primitives.cylinder({height:Xs,radius:10+2}),ft.transforms.translateY(-20,ft.primitives.cylinder({height:Xs,radius:10+2})),ft.transforms.translateY(-10,ft.primitives.cuboid({size:[20+2*2,20,Xs]})))}function Xm(){return ft.booleans.union(ft.transforms.translate([0,0,-1.5],ft.primitives.cylinder({height:6+1.5,radius:10})),ft.transforms.translate([0,-20,0],ft.primitives.cylinder({height:6-1.5,radius:10})),ft.transforms.translate([0,-20,-2*1.5],ft.primitives.cylinder({height:2*1.5,radius:5})),ft.transforms.translate([0,-10,-2*1.5],ft.primitives.cuboid({size:[10,20,6]})),ft.transforms.translate([0,-10,0],ft.primitives.cuboid({size:[20,20,6-1.5]})))}function _$(e,t,n,r,s,i){const o=t+n/2,a=[];for(let l=0;l<e.length;l++)for(let c=0;c<e[l].length;c++){const f=e[l][c];if(!f)continue;const u=o-n/2;a.push(ft.transforms.translate([.75*c*u,Math.sqrt(3)*.5*u*(c%2*.5+l),0],b$(o,r,n,s,f)))}return ft.booleans.subtract(ft.booleans.union(...a,ft.transforms.translate([...i[0],Xs/2],ft.transforms.scale([.5,.5,1],qm())),ft.transforms.translate([...i[1],Xs/2],ft.transforms.scale([.5,.5,1],qm()))),ft.booleans.union(ft.transforms.translate([...i[0],Xs/2],ft.transforms.scale([.5,.5,1],Xm())),ft.transforms.translate([...i[1],Xs/2],ft.transforms.scale([.5,.5,1],Xm()))))}var ku=function(e,t){return ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ku(e,t)};function sr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ku(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Sn=function(){return Sn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sn.apply(this,arguments)};function gs(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y$(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Wr=function(){function e(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function A$(e){return e===void 0&&(e=window),S$(e)?{passive:!0}:!1}function S$(e){e===void 0&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch{t=!1}return t}const P2=Object.freeze(Object.defineProperty({__proto__:null,applyPassive:A$},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function E$(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(L2(n,t))return n;n=n.parentElement}return null}function L2(e,t){var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return n.call(e,t)}function w$(e){var t=e;if(t.offsetParent!==null)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}const O2=Object.freeze(Object.defineProperty({__proto__:null,closest:E$,estimateScrollWidth:w$,matches:L2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var T$={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},C$={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Wm={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},el;function P$(e,t){t===void 0&&(t=!1);var n=e.CSS,r=el;if(typeof el=="boolean"&&!t)return el;var s=n&&typeof n.supports=="function";if(!s)return!1;var i=n.supports("--css-vars","yes"),o=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return r=i||o,t||(el=r),r}function L$(e,t,n){if(!e)return{x:0,y:0};var r=t.x,s=t.y,i=r+n.left,o=s+n.top,a,l;if(e.type==="touchstart"){var c=e;a=c.changedTouches[0].pageX-i,l=c.changedTouches[0].pageY-o}else{var f=e;a=f.pageX-i,l=f.pageY-o}return{x:a,y:l}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ym=["touchstart","pointerdown","mousedown","keydown"],Zm=["touchend","pointerup","mouseup","contextmenu"],tl=[],O$=function(e){sr(t,e);function t(n){var r=e.call(this,Sn(Sn({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(s){r.activateImpl(s)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return T$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return C$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Wm},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this,r=this.supportsPressRipple();if(this.registerRootHandlers(r),r){var s=t.cssClasses,i=s.ROOT,o=s.UNBOUNDED;requestAnimationFrame(function(){n.adapter.addClass(i),n.adapter.isUnbounded()&&(n.adapter.addClass(o),n.layoutInternal())})}},t.prototype.destroy=function(){var n=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var r=t.cssClasses,s=r.ROOT,i=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter.removeClass(s),n.adapter.removeClass(i),n.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(n){this.activateImpl(n)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var n=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){n.layoutInternal(),n.layoutFrame=0})},t.prototype.setUnbounded=function(n){var r=t.cssClasses.UNBOUNDED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter.addClass(t.cssClasses.BG_FOCUSED)})},t.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter.removeClass(t.cssClasses.BG_FOCUSED)})},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(n){var r,s;if(n){try{for(var i=gs(Ym),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerInteractionHandler(a,this.activateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(n){var r,s;if(n.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var i=gs(Zm),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerDocumentInteractionHandler(a,this.deactivateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}},t.prototype.deregisterRootHandlers=function(){var n,r;try{for(var s=gs(Ym),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterInteractionHandler(o,this.activateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var n,r;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var s=gs(Zm),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterDocumentInteractionHandler(o,this.deactivateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.removeCssVars=function(){var n=this,r=t.strings,s=Object.keys(r);s.forEach(function(i){i.indexOf("VAR_")===0&&n.adapter.updateCssVariable(r[i],null)})},t.prototype.activateImpl=function(n){var r=this;if(!this.adapter.isSurfaceDisabled()){var s=this.activationState;if(!s.isActivated){var i=this.previousActivationEvent,o=i&&n!==void 0&&i.type!==n.type;if(!o){s.isActivated=!0,s.isProgrammatic=n===void 0,s.activationEvent=n,s.wasActivatedByPointer=s.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var a=n!==void 0&&tl.length>0&&tl.some(function(l){return r.adapter.containsEventTarget(l)});if(a){this.resetActivationState();return}n!==void 0&&(tl.push(n.target),this.registerDeactivationHandlers(n)),s.wasElementMadeActive=this.checkElementMadeActive(n),s.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){tl=[],!s.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(s.wasElementMadeActive=r.checkElementMadeActive(n),s.wasElementMadeActive&&r.animateActivation()),s.wasElementMadeActive||(r.activationState=r.defaultActivationState())})}}}},t.prototype.checkElementMadeActive=function(n){return n!==void 0&&n.type==="keydown"?this.adapter.isSurfaceActive():!0},t.prototype.animateActivation=function(){var n=this,r=t.strings,s=r.VAR_FG_TRANSLATE_START,i=r.VAR_FG_TRANSLATE_END,o=t.cssClasses,a=o.FG_DEACTIVATION,l=o.FG_ACTIVATION,c=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var f="",u="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates(),h=d.startPoint,p=d.endPoint;f=h.x+"px, "+h.y+"px",u=p.x+"px, "+p.y+"px"}this.adapter.updateCssVariable(s,f),this.adapter.updateCssVariable(i,u),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer=setTimeout(function(){n.activationTimerCallback()},c)},t.prototype.getFgTranslationCoordinates=function(){var n=this.activationState,r=n.activationEvent,s=n.wasActivatedByPointer,i;s?i=L$(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):i={x:this.frame.width/2,y:this.frame.height/2},i={x:i.x-this.initialSize/2,y:i.y-this.initialSize/2};var o={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:i,endPoint:o}},t.prototype.runDeactivationUXLogicIfReady=function(){var n=this,r=t.cssClasses.FG_DEACTIVATION,s=this.activationState,i=s.hasDeactivationUXRun,o=s.isActivated,a=i||!o;a&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer=setTimeout(function(){n.adapter.removeClass(r)},Wm.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var n=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(n),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var n=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return n.previousActivationEvent=void 0},t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var n=this,r=this.activationState;if(r.isActivated){var s=Sn({},r);r.isProgrammatic?(requestAnimationFrame(function(){n.animateDeactivation(s)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){n.activationState.hasDeactivationUXRun=!0,n.animateDeactivation(s),n.resetActivationState()}))}},t.prototype.animateDeactivation=function(n){var r=n.wasActivatedByPointer,s=n.wasElementMadeActive;(r||s)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var n=this;this.frame=this.adapter.computeBoundingRect();var r=Math.max(this.frame.height,this.frame.width),s=function(){var o=Math.sqrt(Math.pow(n.frame.width,2)+Math.pow(n.frame.height,2));return o+t.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?r:s();var i=Math.floor(r*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&i%2!==0?this.initialSize=i-1:this.initialSize=i,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var n=t.strings,r=n.VAR_FG_SIZE,s=n.VAR_LEFT,i=n.VAR_TOP,o=n.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(s,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords.top+"px"))},t}(Wr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var R$={ACTIVE:"mdc-tab-indicator--active",FADE:"mdc-tab-indicator--fade",NO_TRANSITION:"mdc-tab-indicator--no-transition"},M$={CONTENT_SELECTOR:".mdc-tab-indicator__content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var jr=function(e){sr(t,e);function t(n){return e.call(this,Sn(Sn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return R$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return M$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},computeContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setContentStyleProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.computeContentClientRect=function(){return this.adapter.computeContentClientRect()},t}(Wr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var I$=function(e){sr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(){this.adapter.addClass(jr.cssClasses.ACTIVE)},t.prototype.deactivate=function(){this.adapter.removeClass(jr.cssClasses.ACTIVE)},t}(jr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Km=function(e){sr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(n){if(!n){this.adapter.addClass(jr.cssClasses.ACTIVE);return}var r=this.computeContentClientRect(),s=n.width/r.width,i=n.left-r.left;this.adapter.addClass(jr.cssClasses.NO_TRANSITION),this.adapter.setContentStyleProperty("transform","translateX("+i+"px) scaleX("+s+")"),this.computeContentClientRect(),this.adapter.removeClass(jr.cssClasses.NO_TRANSITION),this.adapter.addClass(jr.cssClasses.ACTIVE),this.adapter.setContentStyleProperty("transform","")},t.prototype.deactivate=function(){this.adapter.removeClass(jr.cssClasses.ACTIVE)},t}(jr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var nl={ACTIVE:"mdc-tab--active"},To={ARIA_SELECTED:"aria-selected",CONTENT_SELECTOR:".mdc-tab__content",INTERACTED_EVENT:"MDCTab:interacted",RIPPLE_SELECTOR:".mdc-tab__ripple",TABINDEX:"tabIndex",TAB_INDICATOR_SELECTOR:".mdc-tab-indicator"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var x$=function(e){sr(t,e);function t(n){var r=e.call(this,Sn(Sn({},t.defaultAdapter),n))||this;return r.focusOnActivate=!0,r}return Object.defineProperty(t,"cssClasses",{get:function(){return nl},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return To},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},activateIndicator:function(){},deactivateIndicator:function(){},notifyInteracted:function(){},getOffsetLeft:function(){return 0},getOffsetWidth:function(){return 0},getContentOffsetLeft:function(){return 0},getContentOffsetWidth:function(){return 0},focus:function(){}}},enumerable:!1,configurable:!0}),t.prototype.handleClick=function(){this.adapter.notifyInteracted()},t.prototype.isActive=function(){return this.adapter.hasClass(nl.ACTIVE)},t.prototype.setFocusOnActivate=function(n){this.focusOnActivate=n},t.prototype.activate=function(n){this.adapter.addClass(nl.ACTIVE),this.adapter.setAttr(To.ARIA_SELECTED,"true"),this.adapter.setAttr(To.TABINDEX,"0"),this.adapter.activateIndicator(n),this.focusOnActivate&&this.adapter.focus()},t.prototype.deactivate=function(){this.isActive()&&(this.adapter.removeClass(nl.ACTIVE),this.adapter.setAttr(To.ARIA_SELECTED,"false"),this.adapter.setAttr(To.TABINDEX,"-1"),this.adapter.deactivateIndicator())},t.prototype.computeDimensions=function(){var n=this.adapter.getOffsetWidth(),r=this.adapter.getOffsetLeft(),s=this.adapter.getContentOffsetWidth(),i=this.adapter.getContentOffsetLeft();return{contentLeft:r+i,contentRight:r+i+s,rootLeft:r,rootRight:r+n}},t}(Wr);function mt(e){return Object.entries(e).filter(([t,n])=>t!==""&&n).map(([t])=>t).join(" ")}function rr(e,t,n,r={bubbles:!0},s=!1){if(typeof Event>"u")throw new Error("Event not defined.");if(!e)throw new Error("Tried to dipatch event without element.");const i=new CustomEvent(t,Object.assign(Object.assign({},r),{detail:n}));if(e==null||e.dispatchEvent(i),s&&t.startsWith("SMUI")){const o=new CustomEvent(t.replace(/^SMUI/g,()=>"MDC"),Object.assign(Object.assign({},r),{detail:n}));e==null||e.dispatchEvent(o),o.defaultPrevented&&i.preventDefault()}return i}function mr(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s],o=i.indexOf("$");o!==-1&&t.indexOf(i.substring(0,o+1))!==-1||t.indexOf(i)===-1&&(r[i]=e[i])}return r}const Qm=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,D$=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function Dn(e){let t,n=[];e.$on=(s,i)=>{let o=s,a=()=>{};return t?a=t(o,i):n.push([o,i]),o.match(Qm)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',o),()=>{a()}};function r(s){Do(e,s)}return s=>{const i=[],o={};t=(a,l)=>{let c=a,f=l,u=!1;const d=c.match(Qm),h=c.match(D$),p=d||h;if(c.match(/^SMUI:\w+:/)){const v=c.split(":");let b="";for(let y=0;y<v.length;y++)b+=y===v.length-1?":"+v[y]:v[y].split("-").map(A=>A.slice(0,1).toUpperCase()+A.slice(1)).join("");console.warn(`The event ${c.split("$")[0]} has been renamed to ${b.split("$")[0]}.`),c=b}if(p){const v=c.split(d?":":"$");c=v[0];const b=v.slice(1).reduce((y,A)=>(y[A]=!0,y),{});b.passive&&(u=u||{},u.passive=!0),b.nonpassive&&(u=u||{},u.passive=!1),b.capture&&(u=u||{},u.capture=!0),b.once&&(u=u||{},u.once=!0),b.preventDefault&&(f=Ty(f)),b.stopPropagation&&(f=Cy(f))}const g=Ot(s,c,f,u),m=()=>{g();const v=i.indexOf(m);v>-1&&i.splice(v,1)};return i.push(m),c in o||(o[c]=Ot(s,c,r)),m};for(let a=0;a<n.length;a++)t(n[a][0],n[a][1]);return{destroy:()=>{for(let a=0;a<i.length;a++)i[a]();for(let a of Object.entries(o))a[1]()}}}}function qt(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s];i.substring(0,t.length)===t&&(r[i.substring(t.length)]=e[i])}return r}function En(e,t){let n=[];if(t)for(let r=0;r<t.length;r++){const s=t[r],i=Array.isArray(s)?s[0]:s;Array.isArray(s)&&s.length>1?n.push(i(e,s[1])):n.push(i(e))}return{update(r){if((r&&r.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(r)for(let s=0;s<r.length;s++){const i=n[s];if(i&&i.update){const o=r[s];Array.isArray(o)&&o.length>1?i.update(o[1]):i.update()}}},destroy(){for(let r=0;r<n.length;r++){const s=n[r];s&&s.destroy&&s.destroy()}}}}const{applyPassive:rl}=P2,{matches:F$}=O2;function Zs(e,{ripple:t=!0,surface:n=!1,unbounded:r=!1,disabled:s=!1,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f=p=>e.classList.add(p),removeClass:u=p=>e.classList.remove(p),addStyle:d=(p,g)=>e.style.setProperty(p,g),initPromise:h=Promise.resolve()}={}){let p,g=hr("SMUI:addLayoutListener"),m,v=o,b=l,y=c;function A(){n?(f("mdc-ripple-surface"),i==="primary"?(f("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")):i==="secondary"?(u("smui-ripple-surface--primary"),f("smui-ripple-surface--secondary")):(u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary"))):(u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),p&&v!==o&&(v=o,o?p.activate():o===!1&&p.deactivate()),t&&!p?(p=new O$({addClass:f,browserSupportsCssVars:()=>P$(window),computeBoundingRect:()=>(a||e).getBoundingClientRect(),containsEventTarget:w=>e.contains(w),deregisterDocumentInteractionHandler:(w,S)=>document.documentElement.removeEventListener(w,S,rl()),deregisterInteractionHandler:(w,S)=>(l||e).removeEventListener(w,S,rl()),deregisterResizeHandler:w=>window.removeEventListener("resize",w),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>o??F$(c||e,":active"),isSurfaceDisabled:()=>!!s,isUnbounded:()=>!!r,registerDocumentInteractionHandler:(w,S)=>document.documentElement.addEventListener(w,S,rl()),registerInteractionHandler:(w,S)=>(l||e).addEventListener(w,S,rl()),registerResizeHandler:w=>window.addEventListener("resize",w),removeClass:u,updateCssVariable:d}),h.then(()=>{p&&(p.init(),p.setUnbounded(r))})):p&&!t&&h.then(()=>{p&&(p.destroy(),p=void 0)}),p&&(b!==l||y!==c)&&(b=l,y=c,p.destroy(),requestAnimationFrame(()=>{p&&(p.init(),p.setUnbounded(r))})),!t&&r&&f("mdc-ripple-upgraded--unbounded")}A(),g&&(m=g(E));function E(){p&&p.layout()}return{update(w){({ripple:t,surface:n,unbounded:r,disabled:s,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f,removeClass:u,addStyle:d,initPromise:h}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:S=>e.classList.add(S),removeClass:S=>e.classList.remove(S),addStyle:(S,R)=>e.style.setProperty(S,R),initPromise:Promise.resolve()},w)),A()},destroy(){p&&(p.destroy(),p=void 0,u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),m&&m()}}}function k$(e){let t;const n=e[10].default,r=Gt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&Nt(r,n,s,s[12],t?Bt(n,s[12],i,null):$t(s[12]),null)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function G$(e){let t,n,r;const s=[{tag:e[3]},{use:[e[5],...e[0]]},{class:mt({[e[1]]:!0,"mdc-button__label":e[6]==="button","mdc-fab__label":e[6]==="fab","mdc-tab__text-label":e[6]==="tab","mdc-image-list__label":e[6]==="image-list","mdc-snackbar__label":e[6]==="snackbar","mdc-banner__text":e[6]==="banner","mdc-segmented-button__label":e[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":e[6]==="data-table:pagination","mdc-data-table__header-cell-label":e[6]==="data-table:sortable-header-cell"})},e[6]==="snackbar"?{"aria-atomic":"false"}:{},{tabindex:e[7]},e[8]];var i=e[2];function o(a){let l={$$slots:{default:[k$]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ze(l,s[c]);return{props:l}}return i&&(t=xr(i,o(e)),e[11](t)),{c(){t&&ht(t.$$.fragment),n=In()},m(a,l){t&&ut(t,a,l),qe(a,n,l),r=!0},p(a,[l]){const c=l&491?xt(s,[l&8&&{tag:a[3]},l&33&&{use:[a[5],...a[0]]},l&66&&{class:mt({[a[1]]:!0,"mdc-button__label":a[6]==="button","mdc-fab__label":a[6]==="fab","mdc-tab__text-label":a[6]==="tab","mdc-image-list__label":a[6]==="image-list","mdc-snackbar__label":a[6]==="snackbar","mdc-banner__text":a[6]==="banner","mdc-segmented-button__label":a[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":a[6]==="data-table:pagination","mdc-data-table__header-cell-label":a[6]==="data-table:sortable-header-cell"})},l&64&&Ln(a[6]==="snackbar"?{"aria-atomic":"false"}:{}),l&128&&{tabindex:a[7]},l&256&&Ln(a[8])]):{};if(l&4096&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){tn();const f=t;pe(f.$$.fragment,1,0,()=>{dt(f,1)}),nn()}i?(t=xr(i,o(a)),a[11](t),ht(t.$$.fragment),ce(t.$$.fragment,1),ut(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ce(t.$$.fragment,a),r=!0)},o(a){t&&pe(t.$$.fragment,a),r=!1},d(a){e[11](null),a&&He(n),t&&dt(t,a)}}}function B$(e,t,n){const r=["use","class","component","tag","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Dn(cn());let{use:l=[]}=t,{class:c=""}=t,f,{component:u=Dr}=t,{tag:d=u===Dr?"span":void 0}=t;const h=hr("SMUI:label:context"),p=hr("SMUI:label:tabindex");function g(){return f.getElement()}function m(v){ot[v?"unshift":"push"](()=>{f=v,n(4,f)})}return e.$$set=v=>{t=Ze(Ze({},t),Mn(v)),n(8,s=Ct(t,r)),"use"in v&&n(0,l=v.use),"class"in v&&n(1,c=v.class),"component"in v&&n(2,u=v.component),"tag"in v&&n(3,d=v.tag),"$$scope"in v&&n(12,o=v.$$scope)},[l,c,u,d,f,a,h,p,s,g,i,m,o]}class R2 extends un{constructor(t){super(),fn(this,t,B$,G$,Qt,{use:0,class:1,component:2,tag:3,getElement:9})}get getElement(){return this.$$.ctx[9]}}function N$(e){let t;const n=e[11].default,r=Gt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&Nt(r,n,s,s[13],t?Bt(n,s[13],i,null):$t(s[13]),null)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function $$(e){let t,n,r;const s=[{tag:e[4]},{use:[e[6],...e[0]]},{class:mt({[e[1]]:!0,"mdc-button__icon":e[8]==="button","mdc-fab__icon":e[8]==="fab","mdc-icon-button__icon":e[8]==="icon-button","mdc-icon-button__icon--on":e[8]==="icon-button"&&e[2],"mdc-tab__icon":e[8]==="tab","mdc-banner__icon":e[8]==="banner","mdc-segmented-button__icon":e[8]==="segmented-button"})},{"aria-hidden":"true"},e[7]?{focusable:"false",tabindex:"-1"}:{},e[9]];var i=e[3];function o(a){let l={$$slots:{default:[N$]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ze(l,s[c]);return{props:l}}return i&&(t=xr(i,o(e)),e[12](t)),{c(){t&&ht(t.$$.fragment),n=In()},m(a,l){t&&ut(t,a,l),qe(a,n,l),r=!0},p(a,[l]){const c=l&983?xt(s,[l&16&&{tag:a[4]},l&65&&{use:[a[6],...a[0]]},l&262&&{class:mt({[a[1]]:!0,"mdc-button__icon":a[8]==="button","mdc-fab__icon":a[8]==="fab","mdc-icon-button__icon":a[8]==="icon-button","mdc-icon-button__icon--on":a[8]==="icon-button"&&a[2],"mdc-tab__icon":a[8]==="tab","mdc-banner__icon":a[8]==="banner","mdc-segmented-button__icon":a[8]==="segmented-button"})},s[3],l&128&&Ln(a[7]?{focusable:"false",tabindex:"-1"}:{}),l&512&&Ln(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&8&&i!==(i=a[3])){if(t){tn();const f=t;pe(f.$$.fragment,1,0,()=>{dt(f,1)}),nn()}i?(t=xr(i,o(a)),a[12](t),ht(t.$$.fragment),ce(t.$$.fragment,1),ut(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ce(t.$$.fragment,a),r=!0)},o(a){t&&pe(t.$$.fragment,a),r=!1},d(a){e[12](null),a&&He(n),t&&dt(t,a)}}}function V$(e,t,n){const r=["use","class","on","component","tag","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Dn(cn());let{use:l=[]}=t,{class:c=""}=t,{on:f=!1}=t,u,{component:d=Dr}=t,{tag:h=d===Dr?"i":void 0}=t;const p=d===Y$,g=hr("SMUI:icon:context");function m(){return u.getElement()}function v(b){ot[b?"unshift":"push"](()=>{u=b,n(5,u)})}return e.$$set=b=>{t=Ze(Ze({},t),Mn(b)),n(9,s=Ct(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"on"in b&&n(2,f=b.on),"component"in b&&n(3,d=b.component),"tag"in b&&n(4,h=b.tag),"$$scope"in b&&n(13,o=b.$$scope)},[l,c,f,d,h,u,a,p,g,s,m,i,v,o]}class U$ extends un{constructor(t){super(),fn(this,t,V$,$$,Qt,{use:0,class:1,on:2,component:3,tag:4,getElement:10})}get getElement(){return this.$$.ctx[10]}}function z$(e){let t=e[1],n,r,s=e[1]&&vu(e);return{c(){s&&s.c(),n=In()},m(i,o){s&&s.m(i,o),qe(i,n,o),r=!0},p(i,o){i[1]?t?Qt(t,i[1])?(s.d(1),s=vu(i),t=i[1],s.c(),s.m(n.parentNode,n)):s.p(i,o):(s=vu(i),t=i[1],s.c(),s.m(n.parentNode,n)):t&&(s.d(1),s=null,t=i[1])},i(i){r||(ce(s),r=!0)},o(i){pe(s),r=!1},d(i){i&&He(n),s&&s.d(i)}}}function H$(e){let t=e[1],n,r=e[1]&&bu(e);return{c(){r&&r.c(),n=In()},m(s,i){r&&r.m(s,i),qe(s,n,i)},p(s,i){s[1]?t?Qt(t,s[1])?(r.d(1),r=bu(s),t=s[1],r.c(),r.m(n.parentNode,n)):r.p(s,i):(r=bu(s),t=s[1],r.c(),r.m(n.parentNode,n)):t&&(r.d(1),r=null,t=s[1])},i:An,o:An,d(s){s&&He(n),r&&r.d(s)}}}function vu(e){let t,n,r,s,i;const o=e[8].default,a=Gt(o,e,e[7],null);let l=[e[5]],c={};for(let f=0;f<l.length;f+=1)c=Ze(c,l[f]);return{c(){t=kt(e[1]),a&&a.c(),ll(e[1])(t,c)},m(f,u){qe(f,t,u),a&&a.m(t,null),e[10](t),r=!0,s||(i=[Et(n=En.call(null,t,e[0])),Et(e[4].call(null,t))],s=!0)},p(f,u){a&&a.p&&(!r||u&128)&&Nt(a,o,f,f[7],r?Bt(o,f[7],u,null):$t(f[7]),null),ll(f[1])(t,c=xt(l,[u&32&&f[5]])),n&&zt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(ce(a,f),r=!0)},o(f){pe(a,f),r=!1},d(f){f&&He(t),a&&a.d(f),e[10](null),s=!1,ln(i)}}}function bu(e){let t,n,r,s,i=[e[5]],o={};for(let a=0;a<i.length;a+=1)o=Ze(o,i[a]);return{c(){t=kt(e[1]),ll(e[1])(t,o)},m(a,l){qe(a,t,l),e[9](t),r||(s=[Et(n=En.call(null,t,e[0])),Et(e[4].call(null,t))],r=!0)},p(a,l){ll(a[1])(t,o=xt(i,[l&32&&a[5]])),n&&zt(n.update)&&l&1&&n.update.call(null,a[0])},d(a){a&&He(t),e[9](null),r=!1,ln(s)}}}function j$(e){let t,n,r,s;const i=[H$,z$],o=[];function a(l,c){return l[3]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=In()},m(l,c){o[t].m(l,c),qe(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(tn(),pe(o[f],1,1,()=>{o[f]=null}),nn(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),ce(n,1),n.m(r.parentNode,r))},i(l){s||(ce(n),s=!0)},o(l){pe(n),s=!1},d(l){o[t].d(l),l&&He(r)}}}function q$(e,t,n){let r;const s=["use","tag","getElement"];let i=Ct(t,s),{$$slots:o={},$$scope:a}=t,{use:l=[]}=t,{tag:c}=t;const f=Dn(cn());let u;function d(){return u}function h(g){ot[g?"unshift":"push"](()=>{u=g,n(2,u)})}function p(g){ot[g?"unshift":"push"](()=>{u=g,n(2,u)})}return e.$$set=g=>{t=Ze(Ze({},t),Mn(g)),n(5,i=Ct(t,s)),"use"in g&&n(0,l=g.use),"tag"in g&&n(1,c=g.tag),"$$scope"in g&&n(7,a=g.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(c)>-1)},[l,c,u,r,f,i,d,a,o,h,p]}class Dr extends un{constructor(t){super(),fn(this,t,q$,j$,Qt,{use:0,tag:1,getElement:6})}get getElement(){return this.$$.ctx[6]}}function X$(e){let t,n,r,s,i;const o=e[6].default,a=Gt(o,e,e[5],null);let l=[e[3]],c={};for(let f=0;f<l.length;f+=1)c=Ze(c,l[f]);return{c(){t=Au("svg"),a&&a.c(),th(t,c)},m(f,u){qe(f,t,u),a&&a.m(t,null),e[7](t),r=!0,s||(i=[Et(n=En.call(null,t,e[0])),Et(e[2].call(null,t))],s=!0)},p(f,[u]){a&&a.p&&(!r||u&32)&&Nt(a,o,f,f[5],r?Bt(o,f[5],u,null):$t(f[5]),null),th(t,c=xt(l,[u&8&&f[3]])),n&&zt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(ce(a,f),r=!0)},o(f){pe(a,f),r=!1},d(f){f&&He(t),a&&a.d(f),e[7](null),s=!1,ln(i)}}}function W$(e,t,n){const r=["use","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t;const l=Dn(cn());let c;function f(){return c}function u(d){ot[d?"unshift":"push"](()=>{c=d,n(1,c)})}return e.$$set=d=>{t=Ze(Ze({},t),Mn(d)),n(3,s=Ct(t,r)),"use"in d&&n(0,a=d.use),"$$scope"in d&&n(5,o=d.$$scope)},[a,c,l,s,f,o,i,u]}class Y$ extends un{constructor(t){super(),fn(this,t,W$,X$,Qt,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}const Li=[];function M2(e,t=An){let n;const r=new Set;function s(a){if(Qt(e,a)&&(e=a,n)){const l=!Li.length;for(const c of r)c[1](),Li.push(c,e);if(l){for(let c=0;c<Li.length;c+=2)Li[c][0](Li[c+1]);Li.length=0}}}function i(a){s(a(e))}function o(a,l=An){const c=[a,l];return r.add(c),r.size===1&&(n=t(s)||An),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function Z$(e){let t;const n=e[4].default,r=Gt(n,e,e[3],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,[i]){r&&r.p&&(!t||i&8)&&Nt(r,n,s,s[3],t?Bt(n,s[3],i,null):$t(s[3]),null)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function K$(e,t,n){let r,{$$slots:s={},$$scope:i}=t,{key:o}=t,{value:a}=t;const l=M2(a);return Mo(e,l,c=>n(5,r=c)),Sr(o,l),Gu(()=>{l.set(void 0)}),e.$$set=c=>{"key"in c&&n(1,o=c.key),"value"in c&&n(2,a=c.value),"$$scope"in c&&n(3,i=c.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&og(l,r=a,r)},[l,o,a,i,s]}class Ni extends un{constructor(t){super(),fn(this,t,K$,Z$,Qt,{key:1,value:2})}}function Q$(e){let t,n,r,s,i,o,a,l,c,f,u;const d=e[21].default,h=Gt(d,e,e[20],null);let p=[{class:r=mt({[e[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":e[3]==="underline","mdc-tab-indicator__content--icon":e[3]==="icon"})},{style:s=Object.entries(e[10]).map(Jm).join(" ")},{"aria-hidden":i=e[3]==="icon"?"true":void 0},qt(e[12],"content$")],g={};for(let b=0;b<p.length;b+=1)g=Ze(g,p[b]);let m=[{class:a=mt({[e[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":e[0],"mdc-tab-indicator--fade":e[4]==="fade",...e[9]})},mr(e[12],["content$"])],v={};for(let b=0;b<m.length;b+=1)v=Ze(v,m[b]);return{c(){t=kt("span"),n=kt("span"),h&&h.c(),Rt(n,g),Rt(t,v)},m(b,y){qe(b,t,y),yn(t,n),h&&h.m(n,null),e[22](n),e[23](t),c=!0,f||(u=[Et(o=En.call(null,n,e[5])),Et(l=En.call(null,t,e[1])),Et(e[11].call(null,t))],f=!0)},p(b,[y]){h&&h.p&&(!c||y&1048576)&&Nt(h,d,b,b[20],c?Bt(d,b[20],y,null):$t(b[20]),null),Rt(n,g=xt(p,[(!c||y&72&&r!==(r=mt({[b[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":b[3]==="underline","mdc-tab-indicator__content--icon":b[3]==="icon"})))&&{class:r},(!c||y&1024&&s!==(s=Object.entries(b[10]).map(Jm).join(" ")))&&{style:s},(!c||y&8&&i!==(i=b[3]==="icon"?"true":void 0))&&{"aria-hidden":i},y&4096&&qt(b[12],"content$")])),o&&zt(o.update)&&y&32&&o.update.call(null,b[5]),Rt(t,v=xt(m,[(!c||y&533&&a!==(a=mt({[b[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":b[0],"mdc-tab-indicator--fade":b[4]==="fade",...b[9]})))&&{class:a},y&4096&&mr(b[12],["content$"])])),l&&zt(l.update)&&y&2&&l.update.call(null,b[1])},i(b){c||(ce(h,b),c=!0)},o(b){pe(h,b),c=!1},d(b){b&&He(t),h&&h.d(b),e[22](null),e[23](null),f=!1,ln(u)}}}const Jm=([e,t])=>`${e}: ${t};`;function J$(e,t,n){const r=["use","class","active","type","transition","content$use","content$class","activate","deactivate","computeContentClientRect","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Dn(cn());let{use:l=[]}=t,{class:c=""}=t,{active:f=!1}=t,{type:u="underline"}=t,{transition:d="slide"}=t,{content$use:h=[]}=t,{content$class:p=""}=t,g,m,v,b={},y={},A=[],E=d;fr(()=>(n(17,m=w()),m.init(),()=>{m.destroy()}));function w(){const U={fade:I$,slide:Km}[d]||Km;return new U({addClass:(...fe)=>S(()=>R(...fe)),removeClass:(...fe)=>S(()=>H(...fe)),computeContentClientRect:N,setContentStyleProperty:(...fe)=>S(()=>W(...fe))})}function S(U){A.length?A[A.length-1].push(U):U()}function R(U){b[U]||n(9,b[U]=!0,b)}function H(U){(!(U in b)||b[U])&&n(9,b[U]=!1,b)}function W(U,fe){y[U]!=fe&&(fe===""||fe==null?(delete y[U],n(10,y),n(19,E),n(4,d),n(17,m)):n(10,y[U]=fe,y))}function G(U){n(0,f=!0),m.activate(U)}function oe(){n(0,f=!1),m.deactivate()}function N(){return A.push([]),n(18,A),v.getBoundingClientRect()}function X(){return g}function Ee(U){ot[U?"unshift":"push"](()=>{v=U,n(8,v)})}function te(U){ot[U?"unshift":"push"](()=>{g=U,n(7,g)})}return e.$$set=U=>{t=Ze(Ze({},t),Mn(U)),n(12,s=Ct(t,r)),"use"in U&&n(1,l=U.use),"class"in U&&n(2,c=U.class),"active"in U&&n(0,f=U.active),"type"in U&&n(3,u=U.type),"transition"in U&&n(4,d=U.transition),"content$use"in U&&n(5,h=U.content$use),"content$class"in U&&n(6,p=U.content$class),"$$scope"in U&&n(20,o=U.$$scope)},e.$$.update=()=>{e.$$.dirty&655376&&E!==d&&(n(19,E=d),m&&m.destroy(),n(9,b={}),n(10,y={}),n(17,m=w()),m.init()),e.$$.dirty&262144&&A.length&&requestAnimationFrame(()=>{var U;const fe=(U=A.shift())!==null&&U!==void 0?U:[];n(18,A);for(const _e of fe)_e()})},[f,l,c,u,d,h,p,g,v,b,y,a,s,G,oe,N,X,m,A,E,o,i,Ee,te]}class I2 extends un{constructor(t){super(),fn(this,t,J$,Q$,Qt,{use:1,class:2,active:0,type:3,transition:4,content$use:5,content$class:6,activate:13,deactivate:14,computeContentClientRect:15,getElement:16})}get activate(){return this.$$.ctx[13]}get deactivate(){return this.$$.ctx[14]}get computeContentClientRect(){return this.$$.ctx[15]}get getElement(){return this.$$.ctx[16]}}const eV=e=>({}),ep=e=>({}),tV=e=>({}),tp=e=>({});function np(e){let t,n;const r=[{active:e[18]},qt(e[25],"tabIndicator$")];let s={$$slots:{default:[nV]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ze(s,r[i]);return t=new I2({props:s}),e[33](t),{c(){ht(t.$$.fragment)},m(i,o){ut(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?xt(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&Ln(qt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ce(t.$$.fragment,i),n=!0)},o(i){pe(t.$$.fragment,i),n=!1},d(i){e[33](null),dt(t,i)}}}function nV(e){let t;const n=e[32]["tab-indicator"],r=Gt(n,e,e[37],tp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&Nt(r,n,s,s[37],t?Bt(n,s[37],i,tV):$t(s[37]),tp)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function rp(e){let t,n;const r=[{active:e[18]},qt(e[25],"tabIndicator$")];let s={$$slots:{default:[rV]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ze(s,r[i]);return t=new I2({props:s}),e[35](t),{c(){ht(t.$$.fragment)},m(i,o){ut(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?xt(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&Ln(qt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ce(t.$$.fragment,i),n=!0)},o(i){pe(t.$$.fragment,i),n=!1},d(i){e[35](null),dt(t,i)}}}function rV(e){let t;const n=e[32]["tab-indicator"],r=Gt(n,e,e[37],ep);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&Nt(r,n,s,s[37],t?Bt(n,s[37],i,eV):$t(s[37]),ep)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function sV(e){let t,n,r,s,i,o,a,l,c,f;const u=e[32].default,d=Gt(u,e,e[37],null);let h=e[6]&&np(e),p=[{class:r=mt({[e[9]]:!0,"mdc-tab__content":!0})},qt(e[25],"content$")],g={};for(let v=0;v<p.length;v+=1)g=Ze(g,p[v]);let m=!e[6]&&rp(e);return{c(){t=kt("span"),d&&d.c(),n=Lt(),h&&h.c(),i=Lt(),m&&m.c(),o=Lt(),a=kt("span"),Rt(t,g),Ut(a,"class","mdc-tab__ripple")},m(v,b){qe(v,t,b),d&&d.m(t,null),yn(t,n),h&&h.m(t,null),e[34](t),qe(v,i,b),m&&m.m(v,b),qe(v,o,b),qe(v,a,b),l=!0,c||(f=Et(s=En.call(null,t,e[8])),c=!0)},p(v,b){d&&d.p&&(!l||b[1]&64)&&Nt(d,u,v,v[37],l?Bt(u,v[37],b,null):$t(v[37]),null),v[6]?h?(h.p(v,b),b[0]&64&&ce(h,1)):(h=np(v),h.c(),ce(h,1),h.m(t,null)):h&&(tn(),pe(h,1,1,()=>{h=null}),nn()),Rt(t,g=xt(p,[(!l||b[0]&512&&r!==(r=mt({[v[9]]:!0,"mdc-tab__content":!0})))&&{class:r},b[0]&33554432&&qt(v[25],"content$")])),s&&zt(s.update)&&b[0]&256&&s.update.call(null,v[8]),v[6]?m&&(tn(),pe(m,1,1,()=>{m=null}),nn()):m?(m.p(v,b),b[0]&64&&ce(m,1)):(m=rp(v),m.c(),ce(m,1),m.m(o.parentNode,o))},i(v){l||(ce(d,v),ce(h),ce(m),l=!0)},o(v){pe(d,v),pe(h),pe(m),l=!1},d(v){v&&He(t),d&&d.d(v),h&&h.d(),e[34](null),v&&He(i),m&&m.d(v),v&&He(o),v&&He(a),c=!1,f()}}}function iV(e){let t,n,r;const s=[{tag:e[11]},{use:[[Zs,{ripple:e[3],unbounded:!1,addClass:e[21],removeClass:e[22],addStyle:e[23]}],e[20],...e[0]]},{class:mt({[e[1]]:!0,"mdc-tab":!0,"mdc-tab--active":e[18],"mdc-tab--stacked":e[4],"mdc-tab--min-width":e[5],...e[15]})},{style:Object.entries(e[16]).map(sp).concat([e[2]]).join(" ")},{role:"tab"},{"aria-selected":e[18]?"true":"false"},{tabindex:e[18]||e[19]?"0":"-1"},{href:e[7]},e[17],mr(e[25],["content$","tabIndicator$"])];var i=e[10];function o(a){let l={$$slots:{default:[sV]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ze(l,s[c]);return{props:l}}return i&&(t=xr(i,o(e)),e[36](t),t.$on("click",e[24])),{c(){t&&ht(t.$$.fragment),n=In()},m(a,l){t&&ut(t,a,l),qe(a,n,l),r=!0},p(a,l){const c=l[0]&50301119?xt(s,[l[0]&2048&&{tag:a[11]},l[0]&15728649&&{use:[[Zs,{ripple:a[3],unbounded:!1,addClass:a[21],removeClass:a[22],addStyle:a[23]}],a[20],...a[0]]},l[0]&294962&&{class:mt({[a[1]]:!0,"mdc-tab":!0,"mdc-tab--active":a[18],"mdc-tab--stacked":a[4],"mdc-tab--min-width":a[5],...a[15]})},l[0]&65540&&{style:Object.entries(a[16]).map(sp).concat([a[2]]).join(" ")},s[4],l[0]&262144&&{"aria-selected":a[18]?"true":"false"},l[0]&786432&&{tabindex:a[18]||a[19]?"0":"-1"},l[0]&128&&{href:a[7]},l[0]&131072&&Ln(a[17]),l[0]&33554432&&Ln(mr(a[25],["content$","tabIndicator$"]))]):{};if(l[0]&33841984|l[1]&64&&(c.$$scope={dirty:l,ctx:a}),l[0]&1024&&i!==(i=a[10])){if(t){tn();const f=t;pe(f.$$.fragment,1,0,()=>{dt(f,1)}),nn()}i?(t=xr(i,o(a)),a[36](t),t.$on("click",a[24]),ht(t.$$.fragment),ce(t.$$.fragment,1),ut(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ce(t.$$.fragment,a),r=!0)},o(a){t&&pe(t.$$.fragment,a),r=!1},d(a){e[36](null),a&&He(n),t&&dt(t,a)}}}const sp=([e,t])=>`${e}: ${t};`;function oV(e,t,n){const r=["use","class","style","tab","ripple","stacked","minWidth","indicatorSpanOnlyContent","href","content$use","content$class","component","tag","activate","deactivate","focus","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Dn(cn());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{tab:u}=t,{ripple:d=!0}=t,{stacked:h=!1}=t,{minWidth:p=!1}=t,{indicatorSpanOnlyContent:g=!1}=t,{href:m=void 0}=t,{content$use:v=[]}=t,{content$class:b=""}=t,y,A,E,w,S={},R={},H={},W=hr("SMUI:tab:focusOnActivate"),G=u===hr("SMUI:tab:initialActive"),oe=!1,{component:N=Dr}=t,{tag:X=N===Dr?m==null?"button":"a":void 0}=t;if(Sr("SMUI:label:context","tab"),Sr("SMUI:icon:context","tab"),!u)throw new Error("The tab property is required! It should be passed down from the TabBar to the Tab.");fr(()=>{n(31,A=new x$({setAttr:_e,addClass:te,removeClass:U,hasClass:Ee,activateIndicator:dn=>w.activate(dn),deactivateIndicator:()=>w.deactivate(),notifyInteracted:()=>rr(Wt(),"SMUITab:interacted",{tabId:u},void 0,!0),getOffsetLeft:()=>Wt().offsetLeft,getOffsetWidth:()=>Wt().offsetWidth,getContentOffsetLeft:()=>E.offsetLeft,getContentOffsetWidth:()=>E.offsetWidth,focus:Tt}));const Ne={tabId:u,get element(){return Wt()},get active(){return G},forceAccessible(dn){n(19,oe=dn)},computeIndicatorClientRect:()=>w.computeContentClientRect(),computeDimensions:()=>A.computeDimensions(),focus:Tt,activate:Pt,deactivate:Fe};return rr(Wt(),"SMUITab:mount",Ne),A.init(),()=>{rr(Wt(),"SMUITab:unmount",Ne),A.destroy()}});function Ee(Ne){return Ne in S?S[Ne]:Wt().classList.contains(Ne)}function te(Ne){S[Ne]||n(15,S[Ne]=!0,S)}function U(Ne){(!(Ne in S)||S[Ne])&&n(15,S[Ne]=!1,S)}function fe(Ne,dn){R[Ne]!=dn&&(dn===""||dn==null?(delete R[Ne],n(16,R)):n(16,R[Ne]=dn,R))}function _e(Ne,dn){H[Ne]!==dn&&n(17,H[Ne]=dn,H)}function Xe(Ne){!Ne.defaultPrevented&&A&&A.handleClick()}function Pt(Ne,dn){n(18,G=!0),dn&&A.setFocusOnActivate(!1),A.activate(Ne),dn&&A.setFocusOnActivate(W)}function Fe(){n(18,G=!1),A.deactivate()}function Tt(){Wt().focus()}function Wt(){return y.getElement()}function Vt(Ne){ot[Ne?"unshift":"push"](()=>{w=Ne,n(14,w)})}function On(Ne){ot[Ne?"unshift":"push"](()=>{E=Ne,n(13,E)})}function ke(Ne){ot[Ne?"unshift":"push"](()=>{w=Ne,n(14,w)})}function Ie(Ne){ot[Ne?"unshift":"push"](()=>{y=Ne,n(12,y)})}return e.$$set=Ne=>{t=Ze(Ze({},t),Mn(Ne)),n(25,s=Ct(t,r)),"use"in Ne&&n(0,l=Ne.use),"class"in Ne&&n(1,c=Ne.class),"style"in Ne&&n(2,f=Ne.style),"tab"in Ne&&n(26,u=Ne.tab),"ripple"in Ne&&n(3,d=Ne.ripple),"stacked"in Ne&&n(4,h=Ne.stacked),"minWidth"in Ne&&n(5,p=Ne.minWidth),"indicatorSpanOnlyContent"in Ne&&n(6,g=Ne.indicatorSpanOnlyContent),"href"in Ne&&n(7,m=Ne.href),"content$use"in Ne&&n(8,v=Ne.content$use),"content$class"in Ne&&n(9,b=Ne.content$class),"component"in Ne&&n(10,N=Ne.component),"tag"in Ne&&n(11,X=Ne.tag),"$$scope"in Ne&&n(37,o=Ne.$$scope)},e.$$.update=()=>{e.$$.dirty[1]&1&&A&&A.setFocusOnActivate(W)},[l,c,f,d,h,p,g,m,v,b,N,X,y,E,w,S,R,H,G,oe,a,te,U,fe,Xe,s,u,Pt,Fe,Tt,Wt,A,i,Vt,On,ke,Ie,o]}class aV extends un{constructor(t){super(),fn(this,t,oV,iV,Qt,{use:0,class:1,style:2,tab:26,ripple:3,stacked:4,minWidth:5,indicatorSpanOnlyContent:6,href:7,content$use:8,content$class:9,component:10,tag:11,activate:27,deactivate:28,focus:29,getElement:30},null,[-1,-1])}get activate(){return this.$$.ctx[27]}get deactivate(){return this.$$.ctx[28]}get focus(){return this.$$.ctx[29]}get getElement(){return this.$$.ctx[30]}}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var x2={ANIMATING:"mdc-tab-scroller--animating",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll",SCROLL_TEST:"mdc-tab-scroller__test"},lV={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var cd=function(){function e(t){this.adapter=t}return e}();/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var cV=function(e){sr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(){var n=this.adapter.getScrollAreaScrollLeft(),r=this.calculateScrollEdges().right;return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.calculateScrollEdges(),s=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(r.right-n);return{finalScrollPosition:i,scrollDelta:i-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n){return n},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t}(cd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var fV=function(e){sr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(n-r)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n,r){return n-r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:r-n,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.max(Math.min(r.right,n),r.left)},t}(cd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var uV=function(e){sr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r+n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.getAnimatingScrollPosition=function(n,r){return n+r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:n-r,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.right,n),r.left)},t}(cd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var dV=function(e){sr(t,e);function t(n){var r=e.call(this,Sn(Sn({},t.defaultAdapter),n))||this;return r.isAnimating=!1,r}return Object.defineProperty(t,"cssClasses",{get:function(){return x2},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return lV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{eventTargetMatchesSelector:function(){return!1},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){return""},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){return 0},getScrollContentOffsetWidth:function(){return 0},getScrollAreaOffsetWidth:function(){return 0},computeScrollAreaClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeScrollContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeHorizontalScrollbarHeight:function(){return 0}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this.adapter.computeHorizontalScrollbarHeight();this.adapter.setScrollAreaStyleProperty("margin-bottom",-n+"px"),this.adapter.addScrollAreaClass(t.cssClasses.SCROLL_AREA_SCROLL)},t.prototype.getScrollPosition=function(){if(this.isRTL())return this.computeCurrentScrollPositionRTL();var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return r-n},t.prototype.handleInteraction=function(){this.isAnimating&&this.stopScrollAnimation()},t.prototype.handleTransitionEnd=function(n){var r=n.target;!this.isAnimating||!this.adapter.eventTargetMatchesSelector(r,t.strings.CONTENT_SELECTOR)||(this.isAnimating=!1,this.adapter.removeClass(t.cssClasses.ANIMATING))},t.prototype.incrementScroll=function(n){n!==0&&this.animate(this.getIncrementScrollOperation(n))},t.prototype.incrementScrollImmediate=function(n){if(n!==0){var r=this.getIncrementScrollOperation(n);r.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(r.finalScrollPosition))}},t.prototype.scrollTo=function(n){if(this.isRTL()){this.scrollToImplRTL(n);return}this.scrollToImpl(n)},t.prototype.getRTLScroller=function(){return this.rtlScrollerInstance||(this.rtlScrollerInstance=this.rtlScrollerFactory()),this.rtlScrollerInstance},t.prototype.calculateCurrentTranslateX=function(){var n=this.adapter.getScrollContentStyleValue("transform");if(n==="none")return 0;var r=/\((.+?)\)/.exec(n);if(!r)return 0;var s=r[1],i=y$(s.split(","),6);i[0],i[1],i[2],i[3];var o=i[4];return i[5],parseFloat(o)},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t.prototype.computeCurrentScrollPositionRTL=function(){var n=this.calculateCurrentTranslateX();return this.getRTLScroller().getScrollPositionRTL(n)},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.scrollToImpl=function(n){var r=this.getScrollPosition(),s=this.clampScrollValue(n),i=s-r;this.animate({finalScrollPosition:s,scrollDelta:i})},t.prototype.scrollToImplRTL=function(n){var r=this.getRTLScroller().scrollToRTL(n);this.animate(r)},t.prototype.getIncrementScrollOperation=function(n){if(this.isRTL())return this.getRTLScroller().incrementScrollRTL(n);var r=this.getScrollPosition(),s=n+r,i=this.clampScrollValue(s),o=i-r;return{finalScrollPosition:i,scrollDelta:o}},t.prototype.animate=function(n){var r=this;n.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(n.finalScrollPosition),this.adapter.setScrollContentStyleProperty("transform","translateX("+n.scrollDelta+"px)"),this.adapter.computeScrollAreaClientRect(),requestAnimationFrame(function(){r.adapter.addClass(t.cssClasses.ANIMATING),r.adapter.setScrollContentStyleProperty("transform","none")}),this.isAnimating=!0)},t.prototype.stopScrollAnimation=function(){this.isAnimating=!1;var n=this.getAnimatingScrollPosition();this.adapter.removeClass(t.cssClasses.ANIMATING),this.adapter.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter.setScrollAreaScrollLeft(n)},t.prototype.getAnimatingScrollPosition=function(){var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return this.isRTL()?this.getRTLScroller().getAnimatingScrollPosition(r,n):r-n},t.prototype.rtlScrollerFactory=function(){var n=this.adapter.getScrollAreaScrollLeft();this.adapter.setScrollAreaScrollLeft(n-1);var r=this.adapter.getScrollAreaScrollLeft();if(r<0)return this.adapter.setScrollAreaScrollLeft(n),new fV(this.adapter);var s=this.adapter.computeScrollAreaClientRect(),i=this.adapter.computeScrollContentClientRect(),o=Math.round(i.right-s.right);return this.adapter.setScrollAreaScrollLeft(n),o===r?new uV(this.adapter):new cV(this.adapter)},t.prototype.isRTL=function(){return this.adapter.getScrollContentStyleValue("direction")==="rtl"},t}(Wr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var _u;function hV(e,t){if(t===void 0&&(t=!0),t&&typeof _u<"u")return _u;var n=e.createElement("div");n.classList.add(x2.SCROLL_TEST),e.body.appendChild(n);var r=n.offsetHeight-n.clientHeight;return e.body.removeChild(n),t&&(_u=r),r}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Pn={ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",ENTER_KEY:"Enter",HOME_KEY:"Home",SPACE_KEY:"Space",TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab"},Ar={ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,ENTER_KEYCODE:13,EXTRA_SCROLL_AMOUNT:20,HOME_KEYCODE:36,SPACE_KEYCODE:32};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Js=new Set;Js.add(Pn.ARROW_LEFT_KEY);Js.add(Pn.ARROW_RIGHT_KEY);Js.add(Pn.END_KEY);Js.add(Pn.HOME_KEY);Js.add(Pn.ENTER_KEY);Js.add(Pn.SPACE_KEY);var ei=new Map;ei.set(Ar.ARROW_LEFT_KEYCODE,Pn.ARROW_LEFT_KEY);ei.set(Ar.ARROW_RIGHT_KEYCODE,Pn.ARROW_RIGHT_KEY);ei.set(Ar.END_KEYCODE,Pn.END_KEY);ei.set(Ar.HOME_KEYCODE,Pn.HOME_KEY);ei.set(Ar.ENTER_KEYCODE,Pn.ENTER_KEY);ei.set(Ar.SPACE_KEYCODE,Pn.SPACE_KEY);var mV=function(e){sr(t,e);function t(n){var r=e.call(this,Sn(Sn({},t.defaultAdapter),n))||this;return r.useAutomaticActivation=!1,r}return Object.defineProperty(t,"strings",{get:function(){return Pn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Ar},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){return 0},getScrollContentWidth:function(){return 0},getOffsetWidth:function(){return 0},isRTL:function(){return!1},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabDimensionsAtIndex:function(){return{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:function(){return-1},getFocusedTabIndex:function(){return-1},getIndexOfTabById:function(){return-1},getTabListLength:function(){return 0},notifyTabActivated:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setUseAutomaticActivation=function(n){this.useAutomaticActivation=n},t.prototype.activateTab=function(n){var r=this.adapter.getPreviousActiveTabIndex();if(!(!this.indexIsInRange(n)||n===r)){var s;r!==-1&&(this.adapter.deactivateTabAtIndex(r),s=this.adapter.getTabIndicatorClientRectAtIndex(r)),this.adapter.activateTabAtIndex(n,s),this.scrollIntoView(n),this.adapter.notifyTabActivated(n)}},t.prototype.handleKeyDown=function(n){var r=this.getKeyFromEvent(n);if(r!==void 0)if(this.isActivationKey(r)||n.preventDefault(),this.useAutomaticActivation){if(this.isActivationKey(r))return;var s=this.determineTargetFromKey(this.adapter.getPreviousActiveTabIndex(),r);this.adapter.setActiveTab(s),this.scrollIntoView(s)}else{var i=this.adapter.getFocusedTabIndex();if(this.isActivationKey(r))this.adapter.setActiveTab(i);else{var s=this.determineTargetFromKey(i,r);this.adapter.focusTabAtIndex(s),this.scrollIntoView(s)}}},t.prototype.handleTabInteraction=function(n){this.adapter.setActiveTab(this.adapter.getIndexOfTabById(n.detail.tabId))},t.prototype.scrollIntoView=function(n){if(this.indexIsInRange(n)){if(n===0){this.adapter.scrollTo(0);return}if(n===this.adapter.getTabListLength()-1){this.adapter.scrollTo(this.adapter.getScrollContentWidth());return}if(this.isRTL()){this.scrollIntoViewImplRTL(n);return}this.scrollIntoViewImpl(n)}},t.prototype.determineTargetFromKey=function(n,r){var s=this.isRTL(),i=this.adapter.getTabListLength()-1,o=r===Pn.END_KEY,a=r===Pn.ARROW_LEFT_KEY&&!s||r===Pn.ARROW_RIGHT_KEY&&s,l=r===Pn.ARROW_RIGHT_KEY&&!s||r===Pn.ARROW_LEFT_KEY&&s,c=n;return o?c=i:a?c-=1:l?c+=1:c=0,c<0?c=i:c>i&&(c=0),c},t.prototype.calculateScrollIncrement=function(n,r,s,i){var o=this.adapter.getTabDimensionsAtIndex(r),a=o.contentLeft-s-i,l=o.contentRight-s,c=l-Ar.EXTRA_SCROLL_AMOUNT,f=a+Ar.EXTRA_SCROLL_AMOUNT;return r<n?Math.min(c,0):Math.max(f,0)},t.prototype.calculateScrollIncrementRTL=function(n,r,s,i,o){var a=this.adapter.getTabDimensionsAtIndex(r),l=o-a.contentLeft-s,c=o-a.contentRight-s-i,f=c+Ar.EXTRA_SCROLL_AMOUNT,u=l-Ar.EXTRA_SCROLL_AMOUNT;return r>n?Math.max(f,0):Math.min(u,0)},t.prototype.findAdjacentTabIndexClosestToEdge=function(n,r,s,i){var o=r.rootLeft-s,a=r.rootRight-s-i,l=o+a,c=o<0||l<0,f=a>0||l>0;return c?n-1:f?n+1:-1},t.prototype.findAdjacentTabIndexClosestToEdgeRTL=function(n,r,s,i,o){var a=o-r.rootLeft-i-s,l=o-r.rootRight-s,c=a+l,f=a>0||c>0,u=l<0||c<0;return f?n+1:u?n-1:-1},t.prototype.getKeyFromEvent=function(n){return Js.has(n.key)?n.key:ei.get(n.keyCode)},t.prototype.isActivationKey=function(n){return n===Pn.SPACE_KEY||n===Pn.ENTER_KEY},t.prototype.indexIsInRange=function(n){return n>=0&&n<this.adapter.getTabListLength()},t.prototype.isRTL=function(){return this.adapter.isRTL()},t.prototype.scrollIntoViewImpl=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.findAdjacentTabIndexClosestToEdge(n,i,r,s);if(this.indexIsInRange(o)){var a=this.calculateScrollIncrement(n,o,r,s);this.adapter.incrementScroll(a)}},t.prototype.scrollIntoViewImplRTL=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.adapter.getScrollContentWidth(),a=this.findAdjacentTabIndexClosestToEdgeRTL(n,i,r,s,o);if(this.indexIsInRange(a)){var l=this.calculateScrollIncrementRTL(n,a,r,s,o);this.adapter.incrementScroll(l)}},t}(Wr);function pV(e){let t,n,r,s,i,o,a,l,c,f,u,d,h,p;const g=e[23].default,m=Gt(g,e,e[22],null);let v=[{class:s=mt({[e[6]]:!0,"mdc-tab-scroller__scroll-content":!0})},{style:i=Object.entries(e[14]).map(ip).join(" ")},qt(e[16],"scrollContent$")],b={};for(let S=0;S<v.length;S+=1)b=Ze(b,v[S]);let y=[{class:a=mt({[e[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...e[12]})},{style:l=Object.entries(e[13]).map(op).join(" ")},qt(e[16],"scrollArea$")],A={};for(let S=0;S<y.length;S+=1)A=Ze(A,y[S]);let E=[{class:f=mt({[e[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":e[2]==="start","mdc-tab-scroller--align-end":e[2]==="end","mdc-tab-scroller--align-center":e[2]==="center",...e[11]})},mr(e[16],["scrollArea$","scrollContent$"])],w={};for(let S=0;S<E.length;S+=1)w=Ze(w,E[S]);return{c(){t=kt("div"),n=kt("div"),r=kt("div"),m&&m.c(),Rt(r,b),Rt(n,A),Rt(t,w)},m(S,R){qe(S,t,R),yn(t,n),yn(n,r),m&&m.m(r,null),e[24](r),e[26](n),e[32](t),d=!0,h||(p=[Et(o=En.call(null,r,e[5])),Ot(r,"transitionend",e[25]),Et(c=En.call(null,n,e[3])),Ot(n,"wheel",e[27],{passive:!0}),Ot(n,"touchstart",e[28],{passive:!0}),Ot(n,"pointerdown",e[29]),Ot(n,"mousedown",e[30]),Ot(n,"keydown",e[31]),Et(u=En.call(null,t,e[0])),Et(e[15].call(null,t))],h=!0)},p(S,R){m&&m.p&&(!d||R[0]&4194304)&&Nt(m,g,S,S[22],d?Bt(g,S[22],R,null):$t(S[22]),null),Rt(r,b=xt(v,[(!d||R[0]&64&&s!==(s=mt({[S[6]]:!0,"mdc-tab-scroller__scroll-content":!0})))&&{class:s},(!d||R[0]&16384&&i!==(i=Object.entries(S[14]).map(ip).join(" ")))&&{style:i},R[0]&65536&&qt(S[16],"scrollContent$")])),o&&zt(o.update)&&R[0]&32&&o.update.call(null,S[5]),Rt(n,A=xt(y,[(!d||R[0]&4112&&a!==(a=mt({[S[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...S[12]})))&&{class:a},(!d||R[0]&8192&&l!==(l=Object.entries(S[13]).map(op).join(" ")))&&{style:l},R[0]&65536&&qt(S[16],"scrollArea$")])),c&&zt(c.update)&&R[0]&8&&c.update.call(null,S[3]),Rt(t,w=xt(E,[(!d||R[0]&2054&&f!==(f=mt({[S[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":S[2]==="start","mdc-tab-scroller--align-end":S[2]==="end","mdc-tab-scroller--align-center":S[2]==="center",...S[11]})))&&{class:f},R[0]&65536&&mr(S[16],["scrollArea$","scrollContent$"])])),u&&zt(u.update)&&R[0]&1&&u.update.call(null,S[0])},i(S){d||(ce(m,S),d=!0)},o(S){pe(m,S),d=!1},d(S){S&&He(t),m&&m.d(S),e[24](null),e[26](null),e[32](null),h=!1,ln(p)}}}const ip=([e,t])=>`${e}: ${t};`,op=([e,t])=>`${e}: ${t};`;function gV(e,t,n){const r=["use","class","align","scrollArea$use","scrollArea$class","scrollContent$use","scrollContent$class","getScrollPosition","getScrollContentWidth","incrementScroll","scrollTo","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const{matches:a}=O2,l=Dn(cn());let{use:c=[]}=t,{class:f=""}=t,{align:u=void 0}=t,{scrollArea$use:d=[]}=t,{scrollArea$class:h=""}=t,{scrollContent$use:p=[]}=t,{scrollContent$class:g=""}=t,m,v,b,y,A={},E={},w={},S={};fr(()=>(n(8,v=new dV({eventTargetMatchesSelector:(Ie,Ne)=>a(Ie,Ne),addClass:R,removeClass:H,addScrollAreaClass:W,setScrollAreaStyleProperty:G,setScrollContentStyleProperty:oe,getScrollContentStyleValue:N,setScrollAreaScrollLeft:Ie=>n(9,b.scrollLeft=Ie,b),getScrollAreaScrollLeft:()=>b.scrollLeft,getScrollContentOffsetWidth:()=>y.offsetWidth,getScrollAreaOffsetWidth:()=>b.offsetWidth,computeScrollAreaClientRect:()=>b.getBoundingClientRect(),computeScrollContentClientRect:()=>y.getBoundingClientRect(),computeHorizontalScrollbarHeight:()=>hV(document)})),v.init(),()=>{v.destroy()}));function R(Ie){A[Ie]||n(11,A[Ie]=!0,A)}function H(Ie){(!(Ie in A)||A[Ie])&&n(11,A[Ie]=!1,A)}function W(Ie){E[Ie]||n(12,E[Ie]=!0,E)}function G(Ie,Ne){w[Ie]!=Ne&&(Ne===""||Ne==null?(delete w[Ie],n(13,w)):n(13,w[Ie]=Ne,w))}function oe(Ie,Ne){S[Ie]!=Ne&&(Ne===""||Ne==null?(delete S[Ie],n(14,S)):n(14,S[Ie]=Ne,S))}function N(Ie){return Ie in S?S[Ie]:getComputedStyle(y).getPropertyValue(Ie)}function X(){return v.getScrollPosition()}function Ee(){return y.offsetWidth}function te(Ie){v.incrementScroll(Ie)}function U(Ie){v.scrollTo(Ie)}function fe(){return m}function _e(Ie){ot[Ie?"unshift":"push"](()=>{y=Ie,n(10,y)})}const Xe=Ie=>v&&v.handleTransitionEnd(Ie);function Pt(Ie){ot[Ie?"unshift":"push"](()=>{b=Ie,n(9,b)})}const Fe=()=>v&&v.handleInteraction(),Tt=()=>v&&v.handleInteraction(),Wt=()=>v&&v.handleInteraction(),Vt=()=>v&&v.handleInteraction(),On=()=>v&&v.handleInteraction();function ke(Ie){ot[Ie?"unshift":"push"](()=>{m=Ie,n(7,m)})}return e.$$set=Ie=>{t=Ze(Ze({},t),Mn(Ie)),n(16,s=Ct(t,r)),"use"in Ie&&n(0,c=Ie.use),"class"in Ie&&n(1,f=Ie.class),"align"in Ie&&n(2,u=Ie.align),"scrollArea$use"in Ie&&n(3,d=Ie.scrollArea$use),"scrollArea$class"in Ie&&n(4,h=Ie.scrollArea$class),"scrollContent$use"in Ie&&n(5,p=Ie.scrollContent$use),"scrollContent$class"in Ie&&n(6,g=Ie.scrollContent$class),"$$scope"in Ie&&n(22,o=Ie.$$scope)},[c,f,u,d,h,p,g,m,v,b,y,A,E,w,S,l,s,X,Ee,te,U,fe,o,i,_e,Xe,Pt,Fe,Tt,Wt,Vt,On,ke]}class vV extends un{constructor(t){super(),fn(this,t,gV,pV,Qt,{use:0,class:1,align:2,scrollArea$use:3,scrollArea$class:4,scrollContent$use:5,scrollContent$class:6,getScrollPosition:17,getScrollContentWidth:18,incrementScroll:19,scrollTo:20,getElement:21},null,[-1,-1])}get getScrollPosition(){return this.$$.ctx[17]}get getScrollContentWidth(){return this.$$.ctx[18]}get incrementScroll(){return this.$$.ctx[19]}get scrollTo(){return this.$$.ctx[20]}get getElement(){return this.$$.ctx[21]}}function ap(e,t,n){const r=e.slice();return r[29]=t[n],r}const bV=e=>({tab:e[0]&4}),lp=e=>({tab:e[29]});function cp(e,t){let n,r;const s=t[21].default,i=Gt(s,t,t[24],lp);return{key:e,first:null,c(){n=In(),i&&i.c(),this.first=n},m(o,a){qe(o,n,a),i&&i.m(o,a),r=!0},p(o,a){t=o,i&&i.p&&(!r||a[0]&16777220)&&Nt(i,s,t,t[24],r?Bt(s,t[24],a,bV):$t(t[24]),lp)},i(o){r||(ce(i,o),r=!0)},o(o){pe(i,o),r=!1},d(o){o&&He(n),i&&i.d(o)}}}function _V(e){let t=[],n=new Map,r,s,i=e[2];const o=a=>a[3](a[29]);for(let a=0;a<i.length;a+=1){let l=ap(e,i,a),c=o(l);n.set(c,t[a]=cp(c,l))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();r=In()},m(a,l){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(a,l);qe(a,r,l),s=!0},p(a,l){l[0]&16777228&&(i=a[2],tn(),t=dg(t,l,o,1,a,i,n,r.parentNode,ug,cp,r,ap),nn())},i(a){if(!s){for(let l=0;l<i.length;l+=1)ce(t[l]);s=!0}},o(a){for(let l=0;l<t.length;l+=1)pe(t[l]);s=!1},d(a){for(let l=0;l<t.length;l+=1)t[l].d(a);a&&He(r)}}}function yV(e){let t,n,r,s,i,o,a;const l=[qt(e[11],"tabScroller$")];let c={$$slots:{default:[_V]},$$scope:{ctx:e}};for(let d=0;d<l.length;d+=1)c=Ze(c,l[d]);n=new vV({props:c}),e[22](n);let f=[{class:r=mt({[e[1]]:!0,"mdc-tab-bar":!0})},{role:"tablist"},{tabindex:e[4]},mr(e[11],["tabScroller$"])],u={};for(let d=0;d<f.length;d+=1)u=Ze(u,f[d]);return{c(){t=kt("div"),ht(n.$$.fragment),Rt(t,u)},m(d,h){qe(d,t,h),ut(n,t,null),e[23](t),i=!0,o||(a=[Et(s=En.call(null,t,e[0])),Et(e[8].call(null,t)),Ot(t,"SMUITab:mount",e[9]),Ot(t,"SMUITab:unmount",e[10]),Ot(t,"SMUITab:interacted",function(){zt(e[5]&&e[5].handleTabInteraction.bind(e[5]))&&(e[5]&&e[5].handleTabInteraction.bind(e[5])).apply(this,arguments)}),Ot(t,"keydown",function(){zt(e[5]&&e[5].handleKeyDown.bind(e[5]))&&(e[5]&&e[5].handleKeyDown.bind(e[5])).apply(this,arguments)})],o=!0)},p(d,h){e=d;const p=h[0]&2048?xt(l,[Ln(qt(e[11],"tabScroller$"))]):{};h[0]&16777220&&(p.$$scope={dirty:h,ctx:e}),n.$set(p),Rt(t,u=xt(f,[(!i||h[0]&2&&r!==(r=mt({[e[1]]:!0,"mdc-tab-bar":!0})))&&{class:r},{role:"tablist"},(!i||h[0]&16)&&{tabindex:e[4]},h[0]&2048&&mr(e[11],["tabScroller$"])])),s&&zt(s.update)&&h[0]&1&&s.update.call(null,e[0])},i(d){i||(ce(n.$$.fragment,d),i=!0)},o(d){pe(n.$$.fragment,d),i=!1},d(d){d&&He(t),e[22](null),dt(n),e[23](null),o=!1,ln(a)}}}function AV(e,t,n){const r=["use","class","tabs","key","focusOnActivate","focusOnProgrammatic","useAutomaticActivation","active","tabindex","scrollIntoView","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Dn(cn());let{use:l=[]}=t,{class:c=""}=t,{tabs:f=[]}=t,{key:u=U=>U}=t,{focusOnActivate:d=!0}=t,{focusOnProgrammatic:h=!1}=t,{useAutomaticActivation:p=!0}=t,{active:g=void 0}=t,{tabindex:m=0}=t,v,b,y,A=f.indexOf(g),E={},w=new WeakMap,S=!1;Sr("SMUI:tab:focusOnActivate",d),Sr("SMUI:tab:initialActive",g),fr(()=>(n(5,b=new mV({scrollTo:U=>y.scrollTo(U),incrementScroll:U=>y.incrementScroll(U),getScrollPosition:()=>y.getScrollPosition(),getScrollContentWidth:()=>y.getScrollContentWidth(),getOffsetWidth:()=>X().offsetWidth,isRTL:()=>getComputedStyle(X()).getPropertyValue("direction")==="rtl",setActiveTab:U=>{n(12,g=f[U]),n(18,A=U),b.activateTab(U)},activateTabAtIndex:(U,fe)=>{var _e;return(_e=W(f[U]))===null||_e===void 0?void 0:_e.activate(fe,S)},deactivateTabAtIndex:U=>{var fe;return(fe=W(f[U]))===null||fe===void 0?void 0:fe.deactivate()},focusTabAtIndex:U=>{var fe;return(fe=W(f[U]))===null||fe===void 0?void 0:fe.focus()},getTabIndicatorClientRectAtIndex:U=>{var fe,_e;return(_e=(fe=W(f[U]))===null||fe===void 0?void 0:fe.computeIndicatorClientRect())!==null&&_e!==void 0?_e:new DOMRect},getTabDimensionsAtIndex:U=>{var fe,_e;return(_e=(fe=W(f[U]))===null||fe===void 0?void 0:fe.computeDimensions())!==null&&_e!==void 0?_e:{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:()=>{var U;for(let fe=0;fe<f.length;fe++)if(!((U=W(f[fe]))===null||U===void 0)&&U.active)return fe;return-1},getFocusedTabIndex:()=>{const U=f.map(_e=>{var Xe;return(Xe=W(_e))===null||Xe===void 0?void 0:Xe.element}),fe=document.activeElement;return U.indexOf(fe)},getIndexOfTabById:U=>f.indexOf(U),getTabListLength:()=>f.length,notifyTabActivated:U=>rr(X(),"SMUITabBar:activated",{index:U},void 0,!0)})),b.init(),()=>{b.destroy()}));function R(U){const fe=U.detail;G(fe.tabId,fe)}function H(U){const fe=U.detail;oe(fe.tabId)}function W(U){return U instanceof Object?w.get(U):E[U]}function G(U,fe){U instanceof Object?(w.set(U,fe),n(20,w)):(n(19,E[U]=fe,E),n(19,E))}function oe(U){U instanceof Object?(w.delete(U),n(20,w)):(delete E[U],n(19,E))}function N(U){b.scrollIntoView(U)}function X(){return v}function Ee(U){ot[U?"unshift":"push"](()=>{y=U,n(7,y)})}function te(U){ot[U?"unshift":"push"](()=>{v=U,n(6,v)})}return e.$$set=U=>{t=Ze(Ze({},t),Mn(U)),n(11,s=Ct(t,r)),"use"in U&&n(0,l=U.use),"class"in U&&n(1,c=U.class),"tabs"in U&&n(2,f=U.tabs),"key"in U&&n(3,u=U.key),"focusOnActivate"in U&&n(13,d=U.focusOnActivate),"focusOnProgrammatic"in U&&n(14,h=U.focusOnProgrammatic),"useAutomaticActivation"in U&&n(15,p=U.useAutomaticActivation),"active"in U&&n(12,g=U.active),"tabindex"in U&&n(4,m=U.tabindex),"$$scope"in U&&n(24,o=U.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&282660&&g!==f[A]&&(n(18,A=f.indexOf(g)),b&&(S=!h,b.activateTab(A),S=!1)),e.$$.dirty[0]&1835012&&f.length){const U=f[0]instanceof Object?w.get(f[0]):E[f[0]];U&&U.forceAccessible(A===-1)}e.$$.dirty[0]&32800&&b&&b.setUseAutomaticActivation(p)},[l,c,f,u,m,b,v,y,a,R,H,s,g,d,h,p,N,X,A,E,w,i,Ee,te,o]}class SV extends un{constructor(t){super(),fn(this,t,AV,yV,Qt,{use:0,class:1,tabs:2,key:3,focusOnActivate:13,focusOnProgrammatic:14,useAutomaticActivation:15,active:12,tabindex:4,scrollIntoView:16,getElement:17},null,[-1,-1])}get scrollIntoView(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}var D2={exports:{}};/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/material-components/material-components-web/blob/master/LICENSE
 */(function(e,t){(function(r,s){e.exports=s()})(Us,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(o&1&&(i=s(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var l in i)s.d(a,l,function(c){return i[c]}.bind(null,l));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s="./packages/mdc-segmented-button/index.ts")}({"./packages/mdc-base/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__read||function(c,f){var u=typeof Symbol=="function"&&c[Symbol.iterator];if(!u)return c;var d=u.call(c),h,p=[],g;try{for(;(f===void 0||f-- >0)&&!(h=d.next()).done;)p.push(h.value)}catch(m){g={error:m}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(g)throw g.error}}return p},o=this&&this.__spreadArray||function(c,f){for(var u=0,d=f.length,h=c.length;u<d;u++,h++)c[h]=f[u];return c};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCComponent=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=function(){function c(f,u){for(var d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];this.root=f,this.initialize.apply(this,o([],i(d))),this.foundation=u===void 0?this.getDefaultFoundation():u,this.foundation.init(),this.initialSyncWithDOM()}return c.attachTo=function(f){return new c(f,new a.MDCFoundation({}))},c.prototype.initialize=function(){},c.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},c.prototype.initialSyncWithDOM=function(){},c.prototype.destroy=function(){this.foundation.destroy()},c.prototype.listen=function(f,u,d){this.root.addEventListener(f,u,d)},c.prototype.unlisten=function(f,u,d){this.root.removeEventListener(f,u,d)},c.prototype.emit=function(f,u,d){d===void 0&&(d=!1);var h;typeof CustomEvent=="function"?h=new CustomEvent(f,{bubbles:d,detail:u}):(h=document.createEvent("CustomEvent"),h.initCustomEvent(f,d,!1,u)),this.root.dispatchEvent(h)},c}();r.MDCComponent=l,r.default=l},"./packages/mdc-base/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.MDCFoundation=void 0;var i=function(){function o(a){a===void 0&&(a={}),this.adapter=a}return Object.defineProperty(o,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.destroy=function(){},o}();r.MDCFoundation=i,r.default=i},"./packages/mdc-dom/events.ts":function(n,r,s){/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.applyPassive=void 0;function i(a){return a===void 0&&(a=window),o(a)?{passive:!0}:!1}r.applyPassive=i;function o(a){a===void 0&&(a=window);var l=!1;try{var c={get passive(){return l=!0,!1}},f=function(){};a.document.addEventListener("test",f,c),a.document.removeEventListener("test",f,c)}catch{l=!1}return l}},"./packages/mdc-dom/ponyfill.ts":function(n,r,s){/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.estimateScrollWidth=r.matches=r.closest=void 0;function i(l,c){if(l.closest)return l.closest(c);for(var f=l;f;){if(o(f,c))return f;f=f.parentElement}return null}r.closest=i;function o(l,c){var f=l.matches||l.webkitMatchesSelector||l.msMatchesSelector;return f.call(l,c)}r.matches=o;function a(l){var c=l;if(c.offsetParent!==null)return c.scrollWidth;var f=c.cloneNode(!0);f.style.setProperty("position","absolute"),f.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(f);var u=f.scrollWidth;return document.documentElement.removeChild(f),u}r.estimateScrollWidth=a},"./packages/mdc-ripple/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var g=function(v,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,A){y.__proto__=A}||function(y,A){for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(y[E]=A[E])},g(v,b)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__createBinding||(Object.create?function(g,m,v,b){b===void 0&&(b=v),Object.defineProperty(g,b,{enumerable:!0,get:function(){return m[v]}})}:function(g,m,v,b){b===void 0&&(b=v),g[b]=m[v]}),a=this&&this.__setModuleDefault||(Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m}),l=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&o(m,g,v);return a(m,g),m};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRipple=void 0;var c=s("./packages/mdc-base/component.ts"),f=s("./packages/mdc-dom/events.ts"),u=s("./packages/mdc-dom/ponyfill.ts"),d=s("./packages/mdc-ripple/foundation.ts"),h=l(s("./packages/mdc-ripple/util.ts")),p=function(g){i(m,g);function m(){var v=g!==null&&g.apply(this,arguments)||this;return v.disabled=!1,v}return m.attachTo=function(v,b){b===void 0&&(b={isUnbounded:void 0});var y=new m(v);return b.isUnbounded!==void 0&&(y.unbounded=b.isUnbounded),y},m.createAdapter=function(v){return{addClass:function(y){return v.root.classList.add(y)},browserSupportsCssVars:function(){return h.supportsCssVariables(window)},computeBoundingRect:function(){return v.root.getBoundingClientRect()},containsEventTarget:function(y){return v.root.contains(y)},deregisterDocumentInteractionHandler:function(y,A){return document.documentElement.removeEventListener(y,A,f.applyPassive())},deregisterInteractionHandler:function(y,A){return v.root.removeEventListener(y,A,f.applyPassive())},deregisterResizeHandler:function(y){return window.removeEventListener("resize",y)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return u.matches(v.root,":active")},isSurfaceDisabled:function(){return!!v.disabled},isUnbounded:function(){return!!v.unbounded},registerDocumentInteractionHandler:function(y,A){return document.documentElement.addEventListener(y,A,f.applyPassive())},registerInteractionHandler:function(y,A){return v.root.addEventListener(y,A,f.applyPassive())},registerResizeHandler:function(y){return window.addEventListener("resize",y)},removeClass:function(y){return v.root.classList.remove(y)},updateCssVariable:function(y,A){return v.root.style.setProperty(y,A)}}},Object.defineProperty(m.prototype,"unbounded",{get:function(){return!!this.isUnbounded},set:function(b){this.isUnbounded=!!b,this.setUnbounded()},enumerable:!1,configurable:!0}),m.prototype.activate=function(){this.foundation.activate()},m.prototype.deactivate=function(){this.foundation.deactivate()},m.prototype.layout=function(){this.foundation.layout()},m.prototype.getDefaultFoundation=function(){return new d.MDCRippleFoundation(m.createAdapter(this))},m.prototype.initialSyncWithDOM=function(){var v=this.root;this.isUnbounded="mdcRippleIsUnbounded"in v.dataset},m.prototype.setUnbounded=function(){this.foundation.setUnbounded(!!this.isUnbounded)},m}(c.MDCComponent);r.MDCRipple=p},"./packages/mdc-ripple/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.numbers=r.strings=r.cssClasses=void 0,r.cssClasses={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},r.strings={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},r.numbers={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300}},"./packages/mdc-ripple/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var g=function(v,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,A){y.__proto__=A}||function(y,A){for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(y[E]=A[E])},g(v,b)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(g){for(var m,v=1,b=arguments.length;v<b;v++){m=arguments[v];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(g[y]=m[y])}return g},o.apply(this,arguments)},a=this&&this.__values||function(g){var m=typeof Symbol=="function"&&Symbol.iterator,v=m&&g[m],b=0;if(v)return v.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&b>=g.length&&(g=void 0),{value:g&&g[b++],done:!g}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRippleFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-ripple/constants.ts"),f=s("./packages/mdc-ripple/util.ts"),u=["touchstart","pointerdown","mousedown","keydown"],d=["touchend","pointerup","mouseup","contextmenu"],h=[],p=function(g){i(m,g);function m(v){var b=g.call(this,o(o({},m.defaultAdapter),v))||this;return b.activationAnimationHasEnded=!1,b.activationTimer=0,b.fgDeactivationRemovalTimer=0,b.fgScale="0",b.frame={width:0,height:0},b.initialSize=0,b.layoutFrame=0,b.maxRadius=0,b.unboundedCoords={left:0,top:0},b.activationState=b.defaultActivationState(),b.activationTimerCallback=function(){b.activationAnimationHasEnded=!0,b.runDeactivationUXLogicIfReady()},b.activateHandler=function(y){b.activateImpl(y)},b.deactivateHandler=function(){b.deactivateImpl()},b.focusHandler=function(){b.handleFocus()},b.blurHandler=function(){b.handleBlur()},b.resizeHandler=function(){b.layout()},b}return Object.defineProperty(m,"cssClasses",{get:function(){return c.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(m,"strings",{get:function(){return c.strings},enumerable:!1,configurable:!0}),Object.defineProperty(m,"numbers",{get:function(){return c.numbers},enumerable:!1,configurable:!0}),Object.defineProperty(m,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),m.prototype.init=function(){var v=this,b=this.supportsPressRipple();if(this.registerRootHandlers(b),b){var y=m.cssClasses,A=y.ROOT,E=y.UNBOUNDED;requestAnimationFrame(function(){v.adapter.addClass(A),v.adapter.isUnbounded()&&(v.adapter.addClass(E),v.layoutInternal())})}},m.prototype.destroy=function(){var v=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(m.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(m.cssClasses.FG_DEACTIVATION));var b=m.cssClasses,y=b.ROOT,A=b.UNBOUNDED;requestAnimationFrame(function(){v.adapter.removeClass(y),v.adapter.removeClass(A),v.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},m.prototype.activate=function(v){this.activateImpl(v)},m.prototype.deactivate=function(){this.deactivateImpl()},m.prototype.layout=function(){var v=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){v.layoutInternal(),v.layoutFrame=0})},m.prototype.setUnbounded=function(v){var b=m.cssClasses.UNBOUNDED;v?this.adapter.addClass(b):this.adapter.removeClass(b)},m.prototype.handleFocus=function(){var v=this;requestAnimationFrame(function(){return v.adapter.addClass(m.cssClasses.BG_FOCUSED)})},m.prototype.handleBlur=function(){var v=this;requestAnimationFrame(function(){return v.adapter.removeClass(m.cssClasses.BG_FOCUSED)})},m.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},m.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},m.prototype.registerRootHandlers=function(v){var b,y;if(v){try{for(var A=a(u),E=A.next();!E.done;E=A.next()){var w=E.value;this.adapter.registerInteractionHandler(w,this.activateHandler)}}catch(S){b={error:S}}finally{try{E&&!E.done&&(y=A.return)&&y.call(A)}finally{if(b)throw b.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},m.prototype.registerDeactivationHandlers=function(v){var b,y;if(v.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var A=a(d),E=A.next();!E.done;E=A.next()){var w=E.value;this.adapter.registerDocumentInteractionHandler(w,this.deactivateHandler)}}catch(S){b={error:S}}finally{try{E&&!E.done&&(y=A.return)&&y.call(A)}finally{if(b)throw b.error}}},m.prototype.deregisterRootHandlers=function(){var v,b;try{for(var y=a(u),A=y.next();!A.done;A=y.next()){var E=A.value;this.adapter.deregisterInteractionHandler(E,this.activateHandler)}}catch(w){v={error:w}}finally{try{A&&!A.done&&(b=y.return)&&b.call(y)}finally{if(v)throw v.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},m.prototype.deregisterDeactivationHandlers=function(){var v,b;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var y=a(d),A=y.next();!A.done;A=y.next()){var E=A.value;this.adapter.deregisterDocumentInteractionHandler(E,this.deactivateHandler)}}catch(w){v={error:w}}finally{try{A&&!A.done&&(b=y.return)&&b.call(y)}finally{if(v)throw v.error}}},m.prototype.removeCssVars=function(){var v=this,b=m.strings,y=Object.keys(b);y.forEach(function(A){A.indexOf("VAR_")===0&&v.adapter.updateCssVariable(b[A],null)})},m.prototype.activateImpl=function(v){var b=this;if(!this.adapter.isSurfaceDisabled()){var y=this.activationState;if(!y.isActivated){var A=this.previousActivationEvent,E=A&&v!==void 0&&A.type!==v.type;if(!E){y.isActivated=!0,y.isProgrammatic=v===void 0,y.activationEvent=v,y.wasActivatedByPointer=y.isProgrammatic?!1:v!==void 0&&(v.type==="mousedown"||v.type==="touchstart"||v.type==="pointerdown");var w=v!==void 0&&h.length>0&&h.some(function(S){return b.adapter.containsEventTarget(S)});if(w){this.resetActivationState();return}v!==void 0&&(h.push(v.target),this.registerDeactivationHandlers(v)),y.wasElementMadeActive=this.checkElementMadeActive(v),y.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){h=[],!y.wasElementMadeActive&&v!==void 0&&(v.key===" "||v.keyCode===32)&&(y.wasElementMadeActive=b.checkElementMadeActive(v),y.wasElementMadeActive&&b.animateActivation()),y.wasElementMadeActive||(b.activationState=b.defaultActivationState())})}}}},m.prototype.checkElementMadeActive=function(v){return v!==void 0&&v.type==="keydown"?this.adapter.isSurfaceActive():!0},m.prototype.animateActivation=function(){var v=this,b=m.strings,y=b.VAR_FG_TRANSLATE_START,A=b.VAR_FG_TRANSLATE_END,E=m.cssClasses,w=E.FG_DEACTIVATION,S=E.FG_ACTIVATION,R=m.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var H="",W="";if(!this.adapter.isUnbounded()){var G=this.getFgTranslationCoordinates(),oe=G.startPoint,N=G.endPoint;H=oe.x+"px, "+oe.y+"px",W=N.x+"px, "+N.y+"px"}this.adapter.updateCssVariable(y,H),this.adapter.updateCssVariable(A,W),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(w),this.adapter.computeBoundingRect(),this.adapter.addClass(S),this.activationTimer=setTimeout(function(){v.activationTimerCallback()},R)},m.prototype.getFgTranslationCoordinates=function(){var v=this.activationState,b=v.activationEvent,y=v.wasActivatedByPointer,A;y?A=f.getNormalizedEventCoords(b,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):A={x:this.frame.width/2,y:this.frame.height/2},A={x:A.x-this.initialSize/2,y:A.y-this.initialSize/2};var E={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:A,endPoint:E}},m.prototype.runDeactivationUXLogicIfReady=function(){var v=this,b=m.cssClasses.FG_DEACTIVATION,y=this.activationState,A=y.hasDeactivationUXRun,E=y.isActivated,w=A||!E;w&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(b),this.fgDeactivationRemovalTimer=setTimeout(function(){v.adapter.removeClass(b)},c.numbers.FG_DEACTIVATION_MS))},m.prototype.rmBoundedActivationClasses=function(){var v=m.cssClasses.FG_ACTIVATION;this.adapter.removeClass(v),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},m.prototype.resetActivationState=function(){var v=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return v.previousActivationEvent=void 0},m.numbers.TAP_DELAY_MS)},m.prototype.deactivateImpl=function(){var v=this,b=this.activationState;if(b.isActivated){var y=o({},b);b.isProgrammatic?(requestAnimationFrame(function(){v.animateDeactivation(y)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){v.activationState.hasDeactivationUXRun=!0,v.animateDeactivation(y),v.resetActivationState()}))}},m.prototype.animateDeactivation=function(v){var b=v.wasActivatedByPointer,y=v.wasElementMadeActive;(b||y)&&this.runDeactivationUXLogicIfReady()},m.prototype.layoutInternal=function(){var v=this;this.frame=this.adapter.computeBoundingRect();var b=Math.max(this.frame.height,this.frame.width),y=function(){var w=Math.sqrt(Math.pow(v.frame.width,2)+Math.pow(v.frame.height,2));return w+m.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?b:y();var A=Math.floor(b*m.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&A%2!==0?this.initialSize=A-1:this.initialSize=A,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},m.prototype.updateLayoutCssVars=function(){var v=m.strings,b=v.VAR_FG_SIZE,y=v.VAR_LEFT,A=v.VAR_TOP,E=v.VAR_FG_SCALE;this.adapter.updateCssVariable(b,this.initialSize+"px"),this.adapter.updateCssVariable(E,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(y,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(A,this.unboundedCoords.top+"px"))},m}(l.MDCFoundation);r.MDCRippleFoundation=p,r.default=p},"./packages/mdc-ripple/util.ts":function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getNormalizedEventCoords=r.supportsCssVariables=void 0;var i;function o(l,c){c===void 0&&(c=!1);var f=l.CSS,u=i;if(typeof i=="boolean"&&!c)return i;var d=f&&typeof f.supports=="function";if(!d)return!1;var h=f.supports("--css-vars","yes"),p=f.supports("(--css-vars: yes)")&&f.supports("color","#00000000");return u=h||p,c||(i=u),u}r.supportsCssVariables=o;function a(l,c,f){if(!l)return{x:0,y:0};var u=c.x,d=c.y,h=u+f.left,p=d+f.top,g,m;if(l.type==="touchstart"){var v=l;g=v.changedTouches[0].pageX-h,m=v.changedTouches[0].pageY-p}else{var b=l;g=b.pageX-h,m=b.pageY-p}return{x:g,y:m}}r.getNormalizedEventCoords=a},"./packages/mdc-segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/index.ts"),r),o(s("./packages/mdc-segmented-button/segment/index.ts"),r),o(s("./packages/mdc-segmented-button/types.ts"),r)},"./packages/mdc-segmented-button/segment/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segment/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var h=function(g,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(v[y]=b[y])},h(g,m)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(p,g);function m(){this.constructor=p}p.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(h){for(var p,g=1,m=arguments.length;g<m;g++){p=arguments[g];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(h[v]=p[v])}return h},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegment=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-ripple/component.ts"),c=s("./packages/mdc-ripple/foundation.ts"),f=s("./packages/mdc-segmented-button/segment/constants.ts"),u=s("./packages/mdc-segmented-button/segment/foundation.ts"),d=function(h){i(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return Object.defineProperty(p.prototype,"ripple",{get:function(){return this.rippleComponent},enumerable:!1,configurable:!0}),p.attachTo=function(g){return new p(g)},p.prototype.initialize=function(g){var m=this;g===void 0&&(g=function(y,A){return new l.MDCRipple(y,A)});var v=o(o({},l.MDCRipple.createAdapter(this)),{computeBoundingRect:function(){return m.foundation.getDimensions()}});this.rippleComponent=g(this.root,new c.MDCRippleFoundation(v))},p.prototype.initialSyncWithDOM=function(){var g=this;this.handleClick=function(){g.foundation.handleClick()},this.listen(f.events.CLICK,this.handleClick)},p.prototype.destroy=function(){this.ripple.destroy(),this.unlisten(f.events.CLICK,this.handleClick),h.prototype.destroy.call(this)},p.prototype.getDefaultFoundation=function(){var g=this,m={isSingleSelect:function(){return g.isSingleSelect},getAttr:function(b){return g.root.getAttribute(b)},setAttr:function(b,y){g.root.setAttribute(b,y)},addClass:function(b){g.root.classList.add(b)},removeClass:function(b){g.root.classList.remove(b)},hasClass:function(b){return g.root.classList.contains(b)},notifySelectedChange:function(b){g.emit(f.events.SELECTED,{index:g.index,selected:b,segmentId:g.getSegmentId()},!0)},getRootBoundingClientRect:function(){return g.root.getBoundingClientRect()}};return new u.MDCSegmentedButtonSegmentFoundation(m)},p.prototype.setIndex=function(g){this.index=g},p.prototype.setIsSingleSelect=function(g){this.isSingleSelect=g},p.prototype.isSelected=function(){return this.foundation.isSelected()},p.prototype.setSelected=function(){this.foundation.setSelected()},p.prototype.setUnselected=function(){this.foundation.setUnselected()},p.prototype.getSegmentId=function(){return this.foundation.getSegmentId()},p}(a.MDCComponent);r.MDCSegmentedButtonSegment=d},"./packages/mdc-segmented-button/segment/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.attributes=r.booleans=void 0,r.booleans={TRUE:"true",FALSE:"false"},r.attributes={ARIA_CHECKED:"aria-checked",ARIA_PRESSED:"aria-pressed",DATA_SEGMENT_ID:"data-segment-id"},r.events={CLICK:"click",SELECTED:"selected"},r.cssClasses={SELECTED:"mdc-segmented-button__segment--selected"}},"./packages/mdc-segmented-button/segment/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(h,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},u(h,p)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var d,h=1,p=arguments.length;h<p;h++){d=arguments[h];for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(u[g]=d[g])}return u},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegmentFoundation=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=s("./packages/mdc-segmented-button/segment/constants.ts"),c={bottom:0,height:0,left:0,right:0,top:0,width:0},f=function(u){i(d,u);function d(h){return u.call(this,o(o({},d.defaultAdapter),h))||this}return Object.defineProperty(d,"defaultAdapter",{get:function(){return{isSingleSelect:function(){return!1},getAttr:function(){return""},setAttr:function(){},addClass:function(){},removeClass:function(){},hasClass:function(){return!1},notifySelectedChange:function(){},getRootBoundingClientRect:function(){return c}}},enumerable:!1,configurable:!0}),d.prototype.isSelected=function(){return this.adapter.hasClass(l.cssClasses.SELECTED)},d.prototype.setSelected=function(){this.adapter.addClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.TRUE)},d.prototype.setUnselected=function(){this.adapter.removeClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.FALSE)},d.prototype.getSegmentId=function(){var h;return(h=this.adapter.getAttr(l.attributes.DATA_SEGMENT_ID))!==null&&h!==void 0?h:void 0},d.prototype.handleClick=function(){this.adapter.isSingleSelect()?this.setSelected():this.toggleSelection(),this.adapter.notifySelectedChange(this.isSelected())},d.prototype.getDimensions=function(){return this.adapter.getRootBoundingClientRect()},d.prototype.toggleSelection=function(){this.isSelected()?this.setUnselected():this.setSelected()},d.prototype.setAriaAttr=function(h){this.adapter.isSingleSelect()?this.adapter.setAttr(l.attributes.ARIA_CHECKED,h):this.adapter.setAttr(l.attributes.ARIA_PRESSED,h)},d}(a.MDCFoundation);r.MDCSegmentedButtonSegmentFoundation=f},"./packages/mdc-segmented-button/segment/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segment/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segment/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segment/component.ts"),r)},"./packages/mdc-segmented-button/segmented-button/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segmented-button/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var d=function(p,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])},d(p,g)};return function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(h,p);function g(){this.constructor=h}h.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}(),o=this&&this.__values||function(d){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&d[h],g=0;if(p)return p.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&g>=d.length&&(d=void 0),{value:d&&d[g++],done:!d}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButton=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-segmented-button/segment/component.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),u=function(d){i(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.attachTo=function(p){return new h(p)},Object.defineProperty(h.prototype,"segments",{get:function(){return this.segmentsList.slice()},enumerable:!1,configurable:!0}),h.prototype.initialize=function(p){p===void 0&&(p=function(m){return new l.MDCSegmentedButtonSegment(m)}),this.segmentFactory=p,this.segmentsList=this.instantiateSegments(this.segmentFactory)},h.prototype.instantiateSegments=function(p){var g=[].slice.call(this.root.querySelectorAll(c.selectors.SEGMENT));return g.map(function(m){return p(m)})},h.prototype.initialSyncWithDOM=function(){var p=this;this.handleSelected=function(y){p.foundation.handleSelected(y.detail)},this.listen(c.events.SELECTED,this.handleSelected);for(var g=this.foundation.isSingleSelect(),m=0;m<this.segmentsList.length;m++){var v=this.segmentsList[m];v.setIndex(m),v.setIsSingleSelect(g)}var b=this.segmentsList.filter(function(y){return y.isSelected()});if(g&&b.length===0&&this.segmentsList.length>0)throw new Error("No segment selected in singleSelect mdc-segmented-button");if(g&&b.length>1)throw new Error("Multiple segments selected in singleSelect mdc-segmented-button")},h.prototype.destroy=function(){var p,g;try{for(var m=o(this.segmentsList),v=m.next();!v.done;v=m.next()){var b=v.value;b.destroy()}}catch(y){p={error:y}}finally{try{v&&!v.done&&(g=m.return)&&g.call(m)}finally{if(p)throw p.error}}this.unlisten(c.events.SELECTED,this.handleSelected),d.prototype.destroy.call(this)},h.prototype.getDefaultFoundation=function(){var p=this,g={hasClass:function(v){return p.root.classList.contains(v)},getSegments:function(){return p.mappedSegments()},selectSegment:function(v){var b=p.mappedSegments().find(function(y){return y.index===v||y.segmentId===v});b&&p.segmentsList[b.index].setSelected()},unselectSegment:function(v){var b=p.mappedSegments().find(function(y){return y.index===v||y.segmentId===v});b&&p.segmentsList[b.index].setUnselected()},notifySelectedChange:function(v){p.emit(c.events.CHANGE,v,!0)}};return new f.MDCSegmentedButtonFoundation(g)},h.prototype.getSelectedSegments=function(){return this.foundation.getSelectedSegments()},h.prototype.selectSegment=function(p){this.foundation.selectSegment(p)},h.prototype.unselectSegment=function(p){this.foundation.unselectSegment(p)},h.prototype.isSegmentSelected=function(p){return this.foundation.isSegmentSelected(p)},h.prototype.mappedSegments=function(){return this.segmentsList.map(function(p,g){return{index:g,selected:p.isSelected(),segmentId:p.getSegmentId()}})},h}(a.MDCComponent);r.MDCSegmentedButton=u},"./packages/mdc-segmented-button/segmented-button/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.selectors=void 0,r.selectors={SEGMENT:".mdc-segmented-button__segment"},r.events={SELECTED:"selected",CHANGE:"change"},r.cssClasses={SINGLE_SELECT:"mdc-segmented-button--single-select"}},"./packages/mdc-segmented-button/segmented-button/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(h,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},u(h,p)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var d,h=1,p=arguments.length;h<p;h++){d=arguments[h];for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(u[g]=d[g])}return u},o.apply(this,arguments)},a=this&&this.__values||function(u){var d=typeof Symbol=="function"&&Symbol.iterator,h=d&&u[d],p=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&p>=u.length&&(u=void 0),{value:u&&u[p++],done:!u}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=function(u){i(d,u);function d(h){return u.call(this,o(o({},d.defaultAdapter),h))||this}return Object.defineProperty(d,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},getSegments:function(){return[]},selectSegment:function(){},unselectSegment:function(){},notifySelectedChange:function(){}}},enumerable:!1,configurable:!0}),d.prototype.selectSegment=function(h){this.adapter.selectSegment(h)},d.prototype.unselectSegment=function(h){this.adapter.unselectSegment(h)},d.prototype.getSelectedSegments=function(){return this.adapter.getSegments().filter(function(h){return h.selected})},d.prototype.isSegmentSelected=function(h){return this.adapter.getSegments().some(function(p){return(p.index===h||p.segmentId===h)&&p.selected})},d.prototype.isSingleSelect=function(){return this.adapter.hasClass(c.cssClasses.SINGLE_SELECT)},d.prototype.handleSelected=function(h){this.isSingleSelect()&&this.unselectPrevSelected(h.index),this.adapter.notifySelectedChange(h)},d.prototype.unselectPrevSelected=function(h){var p,g;try{for(var m=a(this.getSelectedSegments()),v=m.next();!v.done;v=m.next()){var b=v.value;b.index!==h&&this.unselectSegment(b.index)}}catch(y){p={error:y}}finally{try{v&&!v.done&&(g=m.return)&&g.call(m)}finally{if(p)throw p.error}}},d}(l.MDCFoundation);r.MDCSegmentedButtonFoundation=f},"./packages/mdc-segmented-button/segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/component.ts"),r)},"./packages/mdc-segmented-button/types.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})}})})})(D2);var F2=D2.exports;function fp(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}const EV=e=>({segment:e&4}),up=e=>({segment:e[28]});function wV(e){let t;const n=e[17].default,r=Gt(n,e,e[19],up);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&524292)&&Nt(r,n,s,s[19],t?Bt(n,s[19],i,EV):$t(s[19]),up)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function TV(e){let t,n,r;return t=new Ni({props:{key:"SMUI:segmented-button:segment:initialSelected",value:e[7][e[30]],$$slots:{default:[wV]},$$scope:{ctx:e}}}),{c(){ht(t.$$.fragment),n=Lt()},m(s,i){ut(t,s,i),qe(s,n,i),r=!0},p(s,i){const o={};i&4&&(o.value=s[7][s[30]]),i&524292&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){r||(ce(t.$$.fragment,s),r=!0)},o(s){pe(t.$$.fragment,s),r=!1},d(s){dt(t,s),s&&He(n)}}}function dp(e,t){let n,r,s;return r=new Ni({props:{key:"SMUI:segmented-button:segment:index",value:t[30],$$slots:{default:[TV]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=In(),ht(r.$$.fragment),this.first=n},m(i,o){qe(i,n,o),ut(r,i,o),s=!0},p(i,o){t=i;const a={};o&4&&(a.value=t[30]),o&524292&&(a.$$scope={dirty:o,ctx:t}),r.$set(a)},i(i){s||(ce(r.$$.fragment,i),s=!0)},o(i){pe(r.$$.fragment,i),s=!1},d(i){i&&He(n),dt(r,i)}}}function CV(e){let t,n=[],r=new Map,s,i,o,a,l,c,f=e[2];const u=p=>p[3](p[28]);for(let p=0;p<f.length;p+=1){let g=fp(e,f,p),m=u(g);r.set(m,n[p]=dp(m,g))}let d=[{class:s=mt({[e[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":e[4]})},{role:i=e[4]?"radiogroup":"group"},e[12]],h={};for(let p=0;p<d.length;p+=1)h=Ze(h,d[p]);return{c(){t=kt("div");for(let p=0;p<n.length;p+=1)n[p].c();Rt(t,h)},m(p,g){qe(p,t,g);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(t,null);e[18](t),a=!0,l||(c=[Et(o=En.call(null,t,e[0])),Et(e[6].call(null,t)),Ot(t,"SMUISegmentedButtonSegment:mount",e[9]),Ot(t,"SMUISegmentedButtonSegment:unmount",e[10]),Ot(t,"selected",e[11])],l=!0)},p(p,[g]){g&524428&&(f=p[2],tn(),n=dg(n,g,u,1,p,f,r,t,ug,dp,null,fp),nn()),Rt(t,h=xt(d,[(!a||g&18&&s!==(s=mt({[p[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":p[4]})))&&{class:s},(!a||g&16&&i!==(i=p[4]?"radiogroup":"group"))&&{role:i},g&4096&&p[12]])),o&&zt(o.update)&&g&1&&o.update.call(null,p[0])},i(p){if(!a){for(let g=0;g<f.length;g+=1)ce(n[g]);a=!0}},o(p){for(let g=0;g<n.length;g+=1)pe(n[g]);a=!1},d(p){p&&He(t);for(let g=0;g<n.length;g+=1)n[g].d();e[18](null),l=!1,ln(c)}}}function hp(e,t){let n=new Set(e);for(let r of t)n.delete(r);return n}function PV(e,t,n){const r=["use","class","segments","key","singleSelect","selected","getElement"];let s=Ct(t,r),i,{$$slots:o={},$$scope:a}=t;const l=Dn(cn());let{use:c=[]}=t,{class:f=""}=t,{segments:u=[]}=t,{key:d=te=>te}=t,{singleSelect:h=!1}=t,{selected:p=h?void 0:[]}=t,g,m,v={},b=new WeakMap,y=u.map(te=>h&&p===te||!h&&p.indexOf(te)!==-1);Sr("SMUI:icon:context","segmented-button"),Sr("SMUI:label:context","segmented-button");const A=M2(h);Mo(e,A,te=>n(21,i=te)),Sr("SMUI:segmented-button:singleSelect",A);let E=h?p:new Set(p);fr(()=>(n(15,m=new F2.MDCSegmentedButtonFoundation({hasClass:te=>X().classList.contains(te),getSegments:()=>u.map((te,U)=>({index:U,selected:h?p===te:p.indexOf(te)!==-1})),selectSegment:oe,unselectSegment:N,notifySelectedChange:te=>{te.selected?oe(te.index):N(te.index),rr(X(),"change",te)}})),m.init(),()=>{m.destroy()}));function w(te){const U=te.detail;W(U.segmentId,U)}function S(te){const U=te.detail;G(U.segmentId)}function R(te){m&&m.handleSelected(te.detail)}function H(te){return te instanceof Object?b.get(te):v[te]}function W(te,U){te instanceof Object?b.set(te,U):v[te]=U}function G(te){te instanceof Object?b.delete(te):delete v[te]}function oe(te){let U=u.indexOf(te);U===-1&&(U=te),h?p!==u[U]&&n(13,p=u[U]):p.indexOf(u[U])===-1&&(p.push(u[U]),n(13,p));const fe=H(u[U]);fe&&(fe.selected=!0)}function N(te){let U=u.indexOf(te);if(U===-1&&(U=te),h)p===u[U]&&n(13,p=null);else{const _e=p.indexOf(u[U]);_e!==-1&&(p.splice(_e,1),n(13,p))}const fe=H(u[U]);fe&&(fe.selected=!1)}function X(){return g}function Ee(te){ot[te?"unshift":"push"](()=>{g=te,n(5,g)})}return e.$$set=te=>{t=Ze(Ze({},t),Mn(te)),n(12,s=Ct(t,r)),"use"in te&&n(0,c=te.use),"class"in te&&n(1,f=te.class),"segments"in te&&n(2,u=te.segments),"key"in te&&n(3,d=te.key),"singleSelect"in te&&n(4,h=te.singleSelect),"selected"in te&&n(13,p=te.selected),"$$scope"in te&&n(19,a=te.$$scope)},e.$$.update=()=>{if(e.$$.dirty&16&&og(A,i=h,i),e.$$.dirty&106512&&m&&h&&E!==p&&(E!=null&&m.unselectSegment(E),n(16,E=p),p!=null&&m.selectSegment(p)),e.$$.dirty&106516&&m&&!h){const te=new Set(p),U=hp(E,te),fe=hp(te,E);if(U.size||fe.size){n(16,E=te);for(let _e of U){const Xe=u.indexOf(_e);Xe!==-1&&m.unselectSegment(Xe)}for(let _e of fe)m.selectSegment(u.indexOf(_e))}}},[c,f,u,d,h,g,l,y,A,w,S,R,s,p,X,m,E,o,Ee,a]}class LV extends un{constructor(t){super(),fn(this,t,PV,CV,Qt,{use:0,class:1,segments:2,key:3,singleSelect:4,selected:13,getElement:14})}get getElement(){return this.$$.ctx[14]}}function mp(e){let t;return{c(){t=kt("div"),Ut(t,"class","mdc-segmented-button__ripple")},m(n,r){qe(n,t,r)},d(n){n&&He(t)}}}function pp(e){let t;return{c(){t=kt("div"),Ut(t,"class","mdc-segmented-button__segment__touch")},m(n,r){qe(n,t,r)},d(n){n&&He(t)}}}function OV(e){let t,n,r,s,i,o,a,l,c,f,u,d,h=e[4]&&mp();const p=e[23].default,g=Gt(p,e,e[22],null);let m=e[5]&&pp(),v=[{class:r=mt({[e[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":e[5],"mdc-segmented-button__segment--selected":e[0],...e[8]})},{style:s=Object.entries(e[9]).map(gp).concat([e[3]]).join(" ")},{role:i=e[14]?"radio":void 0},{"aria-pressed":o=e[14]?void 0:e[0]?"true":"false"},{"aria-checked":a=e[14]?e[0]?"true":"false":void 0},e[10],e[19]],b={};for(let y=0;y<v.length;y+=1)b=Ze(b,v[y]);return{c(){t=kt("button"),h&&h.c(),n=In(),g&&g.c(),m&&m.c(),Rt(t,b)},m(y,A){qe(y,t,A),h&&h.m(t,null),yn(t,n),g&&g.m(t,null),m&&m.m(t,null),t.autofocus&&t.focus(),e[24](t),f=!0,u||(d=[Et(l=Zs.call(null,t,{ripple:e[4],unbounded:!1,addClass:e[16],removeClass:e[17],addStyle:e[18]})),Et(e[11].call(null,t)),Et(c=En.call(null,t,e[1])),Ot(t,"click",e[25])],u=!0)},p(y,A){y[4]?h||(h=mp(),h.c(),h.m(t,n)):h&&(h.d(1),h=null),g&&g.p&&(!f||A[0]&4194304)&&Nt(g,p,y,y[22],f?Bt(p,y[22],A,null):$t(y[22]),null),y[5]?m||(m=pp(),m.c(),m.m(t,null)):m&&(m.d(1),m=null),Rt(t,b=xt(v,[(!f||A[0]&293&&r!==(r=mt({[y[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":y[5],"mdc-segmented-button__segment--selected":y[0],...y[8]})))&&{class:r},(!f||A[0]&520&&s!==(s=Object.entries(y[9]).map(gp).concat([y[3]]).join(" ")))&&{style:s},{role:i},(!f||A[0]&1&&o!==(o=y[14]?void 0:y[0]?"true":"false"))&&{"aria-pressed":o},(!f||A[0]&1&&a!==(a=y[14]?y[0]?"true":"false":void 0))&&{"aria-checked":a},A[0]&1024&&y[10],A[0]&524288&&y[19]])),l&&zt(l.update)&&A[0]&16&&l.update.call(null,{ripple:y[4],unbounded:!1,addClass:y[16],removeClass:y[17],addStyle:y[18]}),c&&zt(c.update)&&A[0]&2&&c.update.call(null,y[1])},i(y){f||(ce(g,y),f=!0)},o(y){pe(g,y),f=!1},d(y){y&&He(t),h&&h.d(),g&&g.d(y),m&&m.d(),e[24](null),u=!1,ln(d)}}}const gp=([e,t])=>`${e}: ${t};`;function RV(e,t,n){const r=["use","class","style","segment","ripple","touch","selected","getElement"];let s=Ct(t,r),i,o,a,{$$slots:l={},$$scope:c}=t;const f=Dn(cn());let u=()=>{};function d(Fe){return Fe===u}let{use:h=[]}=t,{class:p=""}=t,{style:g=""}=t,{segment:m}=t,{ripple:v=!0}=t,{touch:b=!1}=t;const y=hr("SMUI:segmented-button:segment:initialSelected");Mo(e,y,Fe=>n(28,a=Fe));let{selected:A=u}=t,E=!d(A);d(A)&&(A=a);let w,S,R={},H={},W={};const G=hr("SMUI:segmented-button:singleSelect");Mo(e,G,Fe=>n(27,o=Fe));const oe=hr("SMUI:segmented-button:segment:index");if(Mo(e,oe,Fe=>n(26,i=Fe)),!m)throw new Error("The segment property is required! It should be passed down from the SegmentedButton to the Segment.");fr(()=>{n(6,S=new F2.MDCSegmentedButtonSegmentFoundation({isSingleSelect:()=>o,getAttr:te,setAttr:U,addClass:X,removeClass:Ee,hasClass:N,notifySelectedChange:Tt=>{n(0,A=Tt),rr(_e(),"selected",{index:i,selected:A,segmentId:m})},getRootBoundingClientRect:()=>_e().getBoundingClientRect()}));const Fe={segmentId:m,get selected(){return A},set selected(Tt){A!==Tt&&n(0,A=Tt)}};return rr(_e(),"SMUISegmentedButtonSegment:mount",Fe),S.init(),()=>{rr(_e(),"SMUISegmentedButtonSegment:unmount",Fe),S.destroy()}});function N(Fe){return Fe in R?R[Fe]:_e().classList.contains(Fe)}function X(Fe){R[Fe]||n(8,R[Fe]=!0,R)}function Ee(Fe){(!(Fe in R)||R[Fe])&&n(8,R[Fe]=!1,R)}function te(Fe){var Tt;return Fe in W?(Tt=W[Fe])!==null&&Tt!==void 0?Tt:null:_e().getAttribute(Fe)}function U(Fe,Tt){W[Fe]!==Tt&&n(10,W[Fe]=Tt,W)}function fe(Fe,Tt){H[Fe]!=Tt&&(Tt===""||Tt==null?(delete H[Fe],n(9,H)):n(9,H[Fe]=Tt,H))}function _e(){return w}function Xe(Fe){ot[Fe?"unshift":"push"](()=>{w=Fe,n(7,w)})}const Pt=Fe=>!Fe.defaultPrevented&&S&&!E&&S.handleClick();return e.$$set=Fe=>{t=Ze(Ze({},t),Mn(Fe)),n(19,s=Ct(t,r)),"use"in Fe&&n(1,h=Fe.use),"class"in Fe&&n(2,p=Fe.class),"style"in Fe&&n(3,g=Fe.style),"segment"in Fe&&n(20,m=Fe.segment),"ripple"in Fe&&n(4,v=Fe.ripple),"touch"in Fe&&n(5,b=Fe.touch),"selected"in Fe&&n(0,A=Fe.selected),"$$scope"in Fe&&n(22,c=Fe.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&65&&S&&S.isSelected()&&!A&&S.setUnselected(),e.$$.dirty[0]&65&&S&&!S.isSelected()&&A&&S.setSelected()},[A,h,p,g,v,b,S,w,R,H,W,f,y,E,G,oe,X,Ee,fe,s,m,_e,c,l,Xe,Pt]}class MV extends un{constructor(t){super(),fn(this,t,RV,OV,Qt,{use:1,class:2,style:3,segment:20,ripple:4,touch:5,selected:0,getElement:21},null,[-1,-1])}get getElement(){return this.$$.ctx[21]}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var IV={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var xV=function(e){sr(t,e);function t(n){var r=e.call(this,Sn(Sn({},t.defaultAdapter),n))||this;return r.shakeAnimationEndHandler=function(){r.handleShakeAnimationEnd()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return IV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(n){var r=t.cssClasses.LABEL_SHAKE;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.float=function(n){var r=t.cssClasses,s=r.LABEL_FLOAT_ABOVE,i=r.LABEL_SHAKE;n?this.adapter.addClass(s):(this.adapter.removeClass(s),this.adapter.removeClass(i))},t.prototype.setRequired=function(n){var r=t.cssClasses.LABEL_REQUIRED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleShakeAnimationEnd=function(){var n=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(n)},t}(Wr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var $s={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var DV=function(e){sr(t,e);function t(n){var r=e.call(this,Sn(Sn({},t.defaultAdapter),n))||this;return r.transitionEndHandler=function(s){r.handleTransitionEnd(s)},r}return Object.defineProperty(t,"cssClasses",{get:function(){return $s},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},t.prototype.activate=function(){this.adapter.removeClass($s.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass($s.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(n){this.adapter.setStyle("transform-origin",n+"px center")},t.prototype.deactivate=function(){this.adapter.addClass($s.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(n){var r=this.adapter.hasClass($s.LINE_RIPPLE_DEACTIVATING);n.propertyName==="opacity"&&r&&(this.adapter.removeClass($s.LINE_RIPPLE_ACTIVE),this.adapter.removeClass($s.LINE_RIPPLE_DEACTIVATING))},t}(Wr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var FV={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},vp={NOTCH_ELEMENT_PADDING:8},kV={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var GV=function(e){sr(t,e);function t(n){return e.call(this,Sn(Sn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"strings",{get:function(){return FV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return kV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return vp},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.notch=function(n){var r=t.cssClasses.OUTLINE_NOTCHED;n>0&&(n+=vp.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(n),this.adapter.addClass(r)},t.prototype.closeNotch=function(){var n=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(n),this.adapter.removeNotchWidthProperty()},t}(Wr);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var yu={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},BV={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},bp={LABEL_SCALE:.75},NV=["pattern","min","max","required","step","minlength","maxlength"],$V=["color","date","datetime-local","month","range","time","week"];/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var _p=["mousedown","touchstart"],yp=["click","keydown"],VV=function(e){sr(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this,Sn(Sn({},t.defaultAdapter),n))||this;return s.isFocused=!1,s.receivedUserInput=!1,s.valid=!0,s.useNativeValidation=!0,s.validateOnValueChange=!0,s.helperText=r.helperText,s.characterCounter=r.characterCounter,s.leadingIcon=r.leadingIcon,s.trailingIcon=r.trailingIcon,s.inputFocusHandler=function(){s.activateFocus()},s.inputBlurHandler=function(){s.deactivateFocus()},s.inputInputHandler=function(){s.handleInput()},s.setPointerXOffset=function(i){s.setTransformOrigin(i)},s.textFieldInteractionHandler=function(){s.handleTextFieldInteraction()},s.validationAttributeChangeHandler=function(i){s.handleValidationAttributeChange(i)},s}return Object.defineProperty(t,"cssClasses",{get:function(){return BV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return yu},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return bp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat",{get:function(){var n=this.getNativeInput().type;return $V.indexOf(n)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n,r,s,i;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var o=gs(_p),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.registerInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=gs(yp),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.registerTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},t.prototype.destroy=function(){var n,r,s,i;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var o=gs(_p),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.deregisterInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=gs(yp),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.deregisterTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},t.prototype.handleTextFieldInteraction=function(){var n=this.adapter.getNativeInput();n&&n.disabled||(this.receivedUserInput=!0)},t.prototype.handleValidationAttributeChange=function(n){var r=this;n.some(function(s){return NV.indexOf(s)>-1?(r.styleValidity(!0),r.adapter.setLabelRequired(r.getNativeInput().required),!0):!1}),n.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},t.prototype.notchOutline=function(n){if(!(!this.adapter.hasOutline()||!this.adapter.hasLabel()))if(n){var r=this.adapter.getLabelWidth()*bp.LABEL_SCALE;this.adapter.notchOutline(r)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.helperText&&(this.helperText.isPersistent()||!this.helperText.isValidation()||!this.valid)&&this.helperText.showToScreenReader()},t.prototype.setTransformOrigin=function(n){if(!(this.isDisabled()||this.adapter.hasOutline())){var r=n.touches,s=r?r[0]:n,i=s.target.getBoundingClientRect(),o=s.clientX-i.left;this.adapter.setLineRippleTransformOrigin(o)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var n=this.isValid();this.styleValidity(n),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},t.prototype.getValue=function(){return this.getNativeInput().value},t.prototype.setValue=function(n){if(this.getValue()!==n&&(this.getNativeInput().value=n),this.setcharacterCounter(n.length),this.validateOnValueChange){var r=this.isValid();this.styleValidity(r)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},t.prototype.setValid=function(n){this.valid=n,this.styleValidity(n);var r=!n&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(r)},t.prototype.setValidateOnValueChange=function(n){this.validateOnValueChange=n},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},t.prototype.setUseNativeValidation=function(n){this.useNativeValidation=n},t.prototype.isDisabled=function(){return this.getNativeInput().disabled},t.prototype.setDisabled=function(n){this.getNativeInput().disabled=n,this.styleDisabled(n)},t.prototype.setHelperTextContent=function(n){this.helperText&&this.helperText.setContent(n)},t.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon&&this.leadingIcon.setAriaLabel(n)},t.prototype.setLeadingIconContent=function(n){this.leadingIcon&&this.leadingIcon.setContent(n)},t.prototype.setTrailingIconAriaLabel=function(n){this.trailingIcon&&this.trailingIcon.setAriaLabel(n)},t.prototype.setTrailingIconContent=function(n){this.trailingIcon&&this.trailingIcon.setContent(n)},t.prototype.setcharacterCounter=function(n){if(this.characterCounter){var r=this.getNativeInput().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(n,r)}},t.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},t.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},t.prototype.styleValidity=function(n){var r=t.cssClasses.INVALID;if(n?this.adapter.removeClass(r):this.adapter.addClass(r),this.helperText){this.helperText.setValidity(n);var s=this.helperText.isValidation();if(!s)return;var i=this.helperText.isVisible(),o=this.helperText.getId();i&&o?this.adapter.setInputAttr(yu.ARIA_DESCRIBEDBY,o):this.adapter.removeInputAttr(yu.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused=function(n){var r=t.cssClasses.FOCUSED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.styleDisabled=function(n){var r=t.cssClasses,s=r.DISABLED,i=r.INVALID;n?(this.adapter.addClass(s),this.adapter.removeClass(i)):this.adapter.removeClass(s),this.leadingIcon&&this.leadingIcon.setDisabled(n),this.trailingIcon&&this.trailingIcon.setDisabled(n)},t.prototype.styleFloating=function(n){var r=t.cssClasses.LABEL_FLOATING;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.getNativeInput=function(){var n=this.adapter?this.adapter.getNativeInput():null;return n||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(Wr);function UV(e){let t,n,r,s,i,o,a,l;const c=e[22].default,f=Gt(c,e,e[21],null);let u=[{class:n=mt({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(Sp).concat([e[4]]).join(" ")},{for:s=e[5]||(e[11]?e[11].id:void 0)},e[12]],d={};for(let h=0;h<u.length;h+=1)d=Ze(d,u[h]);return{c(){t=kt("label"),f&&f.c(),Rt(t,d)},m(h,p){qe(h,t,p),f&&f.m(t,null),e[24](t),o=!0,a||(l=[Et(i=En.call(null,t,e[2])),Et(e[10].call(null,t))],a=!0)},p(h,p){f&&f.p&&(!o||p&2097152)&&Nt(f,c,h,h[21],o?Bt(c,h[21],p,null):$t(h[21]),null),Rt(t,d=xt(u,[(!o||p&267&&n!==(n=mt({[h[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":h[0],"mdc-floating-label--required":h[1],...h[8]})))&&{class:n},(!o||p&528&&r!==(r=Object.entries(h[9]).map(Sp).concat([h[4]]).join(" ")))&&{style:r},(!o||p&32&&s!==(s=h[5]||(h[11]?h[11].id:void 0)))&&{for:s},p&4096&&h[12]])),i&&zt(i.update)&&p&4&&i.update.call(null,h[2])},i(h){o||(ce(f,h),o=!0)},o(h){pe(f,h),o=!1},d(h){h&&He(t),f&&f.d(h),e[24](null),a=!1,ln(l)}}}function zV(e){let t,n,r,s,i,o,a;const l=e[22].default,c=Gt(l,e,e[21],null);let f=[{class:n=mt({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(Ap).concat([e[4]]).join(" ")},e[12]],u={};for(let d=0;d<f.length;d+=1)u=Ze(u,f[d]);return{c(){t=kt("span"),c&&c.c(),Rt(t,u)},m(d,h){qe(d,t,h),c&&c.m(t,null),e[23](t),i=!0,o||(a=[Et(s=En.call(null,t,e[2])),Et(e[10].call(null,t))],o=!0)},p(d,h){c&&c.p&&(!i||h&2097152)&&Nt(c,l,d,d[21],i?Bt(l,d[21],h,null):$t(d[21]),null),Rt(t,u=xt(f,[(!i||h&267&&n!==(n=mt({[d[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":d[0],"mdc-floating-label--required":d[1],...d[8]})))&&{class:n},(!i||h&528&&r!==(r=Object.entries(d[9]).map(Ap).concat([d[4]]).join(" ")))&&{style:r},h&4096&&d[12]])),s&&zt(s.update)&&h&4&&s.update.call(null,d[2])},i(d){i||(ce(c,d),i=!0)},o(d){pe(c,d),i=!1},d(d){d&&He(t),c&&c.d(d),e[23](null),o=!1,ln(a)}}}function HV(e){let t,n,r,s;const i=[zV,UV],o=[];function a(l,c){return l[6]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=In()},m(l,c){o[t].m(l,c),qe(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(tn(),pe(o[f],1,1,()=>{o[f]=null}),nn(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),ce(n,1),n.m(r.parentNode,r))},i(l){s||(ce(n),s=!0)},o(l){pe(n),s=!1},d(l){o[t].d(l),l&&He(r)}}}const Ap=([e,t])=>`${e}: ${t};`,Sp=([e,t])=>`${e}: ${t};`;function jV(e,t,n){const r=["use","class","style","for","floatAbove","required","wrapped","shake","float","setRequired","getWidth","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;var a;const l=Dn(cn());let{use:c=[]}=t,{class:f=""}=t,{style:u=""}=t,{for:d=void 0}=t,{floatAbove:h=!1}=t,{required:p=!1}=t,{wrapped:g=!1}=t,m,v,b={},y={},A=(a=hr("SMUI:generic:input:props"))!==null&&a!==void 0?a:{},E=h,w=p;fr(()=>{n(18,v=new xV({addClass:S,removeClass:R,getWidth:()=>{var _e,Xe;const Pt=Ee(),Fe=Pt.cloneNode(!0);(_e=Pt.parentNode)===null||_e===void 0||_e.appendChild(Fe),Fe.classList.add("smui-floating-label--remove-transition"),Fe.classList.add("smui-floating-label--force-size"),Fe.classList.remove("mdc-floating-label--float-above");const Tt=Fe.scrollWidth;return(Xe=Pt.parentNode)===null||Xe===void 0||Xe.removeChild(Fe),Tt},registerInteractionHandler:(_e,Xe)=>Ee().addEventListener(_e,Xe),deregisterInteractionHandler:(_e,Xe)=>Ee().removeEventListener(_e,Xe)}));const fe={get element(){return Ee()},addStyle:H,removeStyle:W};return rr(m,"SMUIFloatingLabel:mount",fe),v.init(),()=>{rr(m,"SMUIFloatingLabel:unmount",fe),v.destroy()}});function S(fe){b[fe]||n(8,b[fe]=!0,b)}function R(fe){(!(fe in b)||b[fe])&&n(8,b[fe]=!1,b)}function H(fe,_e){y[fe]!=_e&&(_e===""||_e==null?(delete y[fe],n(9,y)):n(9,y[fe]=_e,y))}function W(fe){fe in y&&(delete y[fe],n(9,y))}function G(fe){v.shake(fe)}function oe(fe){n(0,h=fe)}function N(fe){n(1,p=fe)}function X(){return v.getWidth()}function Ee(){return m}function te(fe){ot[fe?"unshift":"push"](()=>{m=fe,n(7,m)})}function U(fe){ot[fe?"unshift":"push"](()=>{m=fe,n(7,m)})}return e.$$set=fe=>{t=Ze(Ze({},t),Mn(fe)),n(12,s=Ct(t,r)),"use"in fe&&n(2,c=fe.use),"class"in fe&&n(3,f=fe.class),"style"in fe&&n(4,u=fe.style),"for"in fe&&n(5,d=fe.for),"floatAbove"in fe&&n(0,h=fe.floatAbove),"required"in fe&&n(1,p=fe.required),"wrapped"in fe&&n(6,g=fe.wrapped),"$$scope"in fe&&n(21,o=fe.$$scope)},e.$$.update=()=>{e.$$.dirty&786433&&v&&E!==h&&(n(19,E=h),v.float(h)),e.$$.dirty&1310722&&v&&w!==p&&(n(20,w=p),v.setRequired(p))},[h,p,c,f,u,d,g,m,b,y,l,A,s,G,oe,N,X,Ee,v,E,w,o,i,te,U]}class k2 extends un{constructor(t){super(),fn(this,t,jV,HV,Qt,{use:2,class:3,style:4,for:5,floatAbove:0,required:1,wrapped:6,shake:13,float:14,setRequired:15,getWidth:16,getElement:17})}get shake(){return this.$$.ctx[13]}get float(){return this.$$.ctx[14]}get setRequired(){return this.$$.ctx[15]}get getWidth(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}function qV(e){let t,n,r,s,i,o,a=[{class:n=mt({[e[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":e[3],...e[5]})},{style:r=Object.entries(e[6]).map(Ep).concat([e[2]]).join(" ")},e[8]],l={};for(let c=0;c<a.length;c+=1)l=Ze(l,a[c]);return{c(){t=kt("div"),Rt(t,l)},m(c,f){qe(c,t,f),e[13](t),i||(o=[Et(s=En.call(null,t,e[0])),Et(e[7].call(null,t))],i=!0)},p(c,[f]){Rt(t,l=xt(a,[f&42&&n!==(n=mt({[c[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":c[3],...c[5]}))&&{class:n},f&68&&r!==(r=Object.entries(c[6]).map(Ep).concat([c[2]]).join(" "))&&{style:r},f&256&&c[8]])),s&&zt(s.update)&&f&1&&s.update.call(null,c[0])},i:An,o:An,d(c){c&&He(t),e[13](null),i=!1,ln(o)}}}const Ep=([e,t])=>`${e}: ${t};`;function XV(e,t,n){const r=["use","class","style","active","activate","deactivate","setRippleCenter","getElement"];let s=Ct(t,r);const i=Dn(cn());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{active:c=!1}=t,f,u,d={},h={};fr(()=>(u=new DV({addClass:g,removeClass:m,hasClass:p,setStyle:v,registerEventHandler:(S,R)=>E().addEventListener(S,R),deregisterEventHandler:(S,R)=>E().removeEventListener(S,R)}),u.init(),()=>{u.destroy()}));function p(S){return S in d?d[S]:E().classList.contains(S)}function g(S){d[S]||n(5,d[S]=!0,d)}function m(S){(!(S in d)||d[S])&&n(5,d[S]=!1,d)}function v(S,R){h[S]!=R&&(R===""||R==null?(delete h[S],n(6,h)):n(6,h[S]=R,h))}function b(){u.activate()}function y(){u.deactivate()}function A(S){u.setRippleCenter(S)}function E(){return f}function w(S){ot[S?"unshift":"push"](()=>{f=S,n(4,f)})}return e.$$set=S=>{t=Ze(Ze({},t),Mn(S)),n(8,s=Ct(t,r)),"use"in S&&n(0,o=S.use),"class"in S&&n(1,a=S.class),"style"in S&&n(2,l=S.style),"active"in S&&n(3,c=S.active)},[o,a,l,c,f,d,h,i,s,b,y,A,E,w]}class WV extends un{constructor(t){super(),fn(this,t,XV,qV,Qt,{use:0,class:1,style:2,active:3,activate:9,deactivate:10,setRippleCenter:11,getElement:12})}get activate(){return this.$$.ctx[9]}get deactivate(){return this.$$.ctx[10]}get setRippleCenter(){return this.$$.ctx[11]}get getElement(){return this.$$.ctx[12]}}function wp(e){let t,n,r;const s=e[15].default,i=Gt(s,e,e[14],null);return{c(){t=kt("div"),i&&i.c(),Ut(t,"class","mdc-notched-outline__notch"),Ut(t,"style",n=Object.entries(e[7]).map(Tp).join(" "))},m(o,a){qe(o,t,a),i&&i.m(t,null),r=!0},p(o,a){i&&i.p&&(!r||a&16384)&&Nt(i,s,o,o[14],r?Bt(s,o[14],a,null):$t(o[14]),null),(!r||a&128&&n!==(n=Object.entries(o[7]).map(Tp).join(" ")))&&Ut(t,"style",n)},i(o){r||(ce(i,o),r=!0)},o(o){pe(i,o),r=!1},d(o){o&&He(t),i&&i.d(o)}}}function YV(e){let t,n,r,s,i,o,a,l,c,f,u=!e[3]&&wp(e),d=[{class:o=mt({[e[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":e[2],"mdc-notched-outline--no-label":e[3],...e[6]})},e[10]],h={};for(let p=0;p<d.length;p+=1)h=Ze(h,d[p]);return{c(){t=kt("div"),n=kt("div"),r=Lt(),u&&u.c(),s=Lt(),i=kt("div"),Ut(n,"class","mdc-notched-outline__leading"),Ut(i,"class","mdc-notched-outline__trailing"),Rt(t,h)},m(p,g){qe(p,t,g),yn(t,n),yn(t,r),u&&u.m(t,null),yn(t,s),yn(t,i),e[16](t),l=!0,c||(f=[Et(a=En.call(null,t,e[0])),Et(e[8].call(null,t)),Ot(t,"SMUIFloatingLabel:mount",e[9]),Ot(t,"SMUIFloatingLabel:unmount",e[17])],c=!0)},p(p,[g]){p[3]?u&&(tn(),pe(u,1,1,()=>{u=null}),nn()):u?(u.p(p,g),g&8&&ce(u,1)):(u=wp(p),u.c(),ce(u,1),u.m(t,s)),Rt(t,h=xt(d,[(!l||g&78&&o!==(o=mt({[p[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":p[2],"mdc-notched-outline--no-label":p[3],...p[6]})))&&{class:o},g&1024&&p[10]])),a&&zt(a.update)&&g&1&&a.update.call(null,p[0])},i(p){l||(ce(u),l=!0)},o(p){pe(u),l=!1},d(p){p&&He(t),u&&u.d(),e[16](null),c=!1,ln(f)}}}const Tp=([e,t])=>`${e}: ${t};`;function ZV(e,t,n){const r=["use","class","notched","noLabel","notch","closeNotch","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Dn(cn());let{use:l=[]}=t,{class:c=""}=t,{notched:f=!1}=t,{noLabel:u=!1}=t,d,h,p,g={},m={};fr(()=>(h=new GV({addClass:b,removeClass:y,setNotchWidthProperty:G=>A("width",G+"px"),removeNotchWidthProperty:()=>E("width")}),h.init(),()=>{h.destroy()}));function v(G){n(4,p=G.detail)}function b(G){g[G]||n(6,g[G]=!0,g)}function y(G){(!(G in g)||g[G])&&n(6,g[G]=!1,g)}function A(G,oe){m[G]!=oe&&(oe===""||oe==null?(delete m[G],n(7,m)):n(7,m[G]=oe,m))}function E(G){G in m&&(delete m[G],n(7,m))}function w(G){h.notch(G)}function S(){h.closeNotch()}function R(){return d}function H(G){ot[G?"unshift":"push"](()=>{d=G,n(5,d)})}const W=()=>n(4,p=void 0);return e.$$set=G=>{t=Ze(Ze({},t),Mn(G)),n(10,s=Ct(t,r)),"use"in G&&n(0,l=G.use),"class"in G&&n(1,c=G.class),"notched"in G&&n(2,f=G.notched),"noLabel"in G&&n(3,u=G.noLabel),"$$scope"in G&&n(14,o=G.$$scope)},e.$$.update=()=>{e.$$.dirty&16&&(p?(p.addStyle("transition-duration","0s"),b("mdc-notched-outline--upgraded"),requestAnimationFrame(()=>{p&&p.removeStyle("transition-duration")})):y("mdc-notched-outline--upgraded"))},[l,c,f,u,p,d,g,m,a,v,s,w,S,R,o,i,H,W]}class KV extends un{constructor(t){super(),fn(this,t,ZV,YV,Qt,{use:0,class:1,notched:2,noLabel:3,notch:11,closeNotch:12,getElement:13})}get notch(){return this.$$.ctx[11]}get closeNotch(){return this.$$.ctx[12]}get getElement(){return this.$$.ctx[13]}}function QV(e){let t;const n=e[11].default,r=Gt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&Nt(r,n,s,s[13],t?Bt(n,s[13],i,null):$t(s[13]),null)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function JV(e){let t,n,r;const s=[{tag:e[3]},{use:[e[8],...e[0]]},{class:mt({[e[1]]:!0,[e[6]]:!0,...e[5]})},e[7],e[9]];var i=e[2];function o(a){let l={$$slots:{default:[QV]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ze(l,s[c]);return{props:l}}return i&&(t=xr(i,o(e)),e[12](t)),{c(){t&&ht(t.$$.fragment),n=In()},m(a,l){t&&ut(t,a,l),qe(a,n,l),r=!0},p(a,[l]){const c=l&1003?xt(s,[l&8&&{tag:a[3]},l&257&&{use:[a[8],...a[0]]},l&98&&{class:mt({[a[1]]:!0,[a[6]]:!0,...a[5]})},l&128&&Ln(a[7]),l&512&&Ln(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){tn();const f=t;pe(f.$$.fragment,1,0,()=>{dt(f,1)}),nn()}i?(t=xr(i,o(a)),a[12](t),ht(t.$$.fragment),ce(t.$$.fragment,1),ut(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ce(t.$$.fragment,a),r=!0)},o(a){t&&pe(t.$$.fragment,a),r=!1},d(a){e[12](null),a&&He(n),t&&dt(t,a)}}}const qr={component:Dr,tag:"div",class:"",classMap:{},contexts:{},props:{}};function eU(e,t,n){const r=["use","class","component","tag","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t,{class:l=""}=t,c;const f=qr.class,u={},d=[],h=qr.contexts,p=qr.props;let{component:g=qr.component}=t,{tag:m=g===Dr?qr.tag:void 0}=t;Object.entries(qr.classMap).forEach(([A,E])=>{const w=hr(E);w&&"subscribe"in w&&d.push(w.subscribe(S=>{n(5,u[A]=S,u)}))});const v=Dn(cn());for(let A in h)h.hasOwnProperty(A)&&Sr(A,h[A]);Gu(()=>{for(const A of d)A()});function b(){return c.getElement()}function y(A){ot[A?"unshift":"push"](()=>{c=A,n(4,c)})}return e.$$set=A=>{t=Ze(Ze({},t),Mn(A)),n(9,s=Ct(t,r)),"use"in A&&n(0,a=A.use),"class"in A&&n(1,l=A.class),"component"in A&&n(2,g=A.component),"tag"in A&&n(3,m=A.tag),"$$scope"in A&&n(13,o=A.$$scope)},[a,l,g,m,c,u,f,p,v,s,b,i,y,o]}class tU extends un{constructor(t){super(),fn(this,t,eU,JV,Qt,{use:0,class:1,component:2,tag:3,getElement:10})}get getElement(){return this.$$.ctx[10]}}const Cp=Object.assign({},qr);function ji(e){return new Proxy(tU,{construct:function(t,n){return Object.assign(qr,Cp,e),new t(...n)},get:function(t,n){return Object.assign(qr,Cp,e),t[n]}})}const nU=ji({class:"mdc-text-field-helper-line",tag:"div"}),rU=ji({class:"mdc-text-field__affix mdc-text-field__affix--prefix",tag:"span"}),sU=ji({class:"mdc-text-field__affix mdc-text-field__affix--suffix",tag:"span"});function iU(e){let t,n,r,s,i,o=[{class:n=mt({[e[1]]:!0,"mdc-text-field__input":!0})},{type:e[2]},{placeholder:e[3]},e[4],e[6],e[10]],a={};for(let l=0;l<o.length;l+=1)a=Ze(a,o[l]);return{c(){t=kt("input"),Rt(t,a)},m(l,c){qe(l,t,c),t.autofocus&&t.focus(),e[26](t),s||(i=[Et(r=En.call(null,t,e[0])),Et(e[7].call(null,t)),Ot(t,"input",e[27]),Ot(t,"change",e[9]),Ot(t,"blur",e[24]),Ot(t,"focus",e[25])],s=!0)},p(l,[c]){Rt(t,a=xt(o,[c&2&&n!==(n=mt({[l[1]]:!0,"mdc-text-field__input":!0}))&&{class:n},c&4&&{type:l[2]},c&8&&{placeholder:l[3]},c&16&&l[4],c&64&&l[6],c&1024&&l[10]])),r&&zt(r.update)&&c&1&&r.update.call(null,l[0])},i:An,o:An,d(l){l&&He(t),e[26](null),s=!1,ln(i)}}}function oU(e){return e===""?Number.NaN:+e}function aU(e,t,n){const r=["use","class","type","placeholder","value","files","dirty","invalid","updateInvalid","emptyValueNull","emptyValueUndefined","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=Ct(t,r);const i=Dn(cn());let o=()=>{};function a(_e){return _e===o}let{use:l=[]}=t,{class:c=""}=t,{type:f="text"}=t,{placeholder:u=" "}=t,{value:d=o}=t;const h=a(d);h&&(d="");let{files:p=null}=t,{dirty:g=!1}=t,{invalid:m=!1}=t,{updateInvalid:v=!0}=t,{emptyValueNull:b=d===null}=t;h&&b&&(d=null);let{emptyValueUndefined:y=d===void 0}=t;h&&y&&(d=void 0);let A,E={},w={};fr(()=>{v&&n(14,m=A.matches(":invalid"))});function S(_e){if(f==="file"){n(12,p=_e.currentTarget.files);return}if(_e.currentTarget.value===""&&b){n(11,d=null);return}if(_e.currentTarget.value===""&&y){n(11,d=void 0);return}switch(f){case"number":case"range":n(11,d=oU(_e.currentTarget.value));break;default:n(11,d=_e.currentTarget.value);break}}function R(_e){(f==="file"||f==="range")&&S(_e),n(13,g=!0),v&&n(14,m=A.matches(":invalid"))}function H(_e){var Xe;return _e in E?(Xe=E[_e])!==null&&Xe!==void 0?Xe:null:X().getAttribute(_e)}function W(_e,Xe){E[_e]!==Xe&&n(6,E[_e]=Xe,E)}function G(_e){(!(_e in E)||E[_e]!=null)&&n(6,E[_e]=void 0,E)}function oe(){X().focus()}function N(){X().blur()}function X(){return A}function Ee(_e){Do.call(this,e,_e)}function te(_e){Do.call(this,e,_e)}function U(_e){ot[_e?"unshift":"push"](()=>{A=_e,n(5,A)})}const fe=_e=>f!=="file"&&S(_e);return e.$$set=_e=>{t=Ze(Ze({},t),Mn(_e)),n(10,s=Ct(t,r)),"use"in _e&&n(0,l=_e.use),"class"in _e&&n(1,c=_e.class),"type"in _e&&n(2,f=_e.type),"placeholder"in _e&&n(3,u=_e.placeholder),"value"in _e&&n(11,d=_e.value),"files"in _e&&n(12,p=_e.files),"dirty"in _e&&n(13,g=_e.dirty),"invalid"in _e&&n(14,m=_e.invalid),"updateInvalid"in _e&&n(15,v=_e.updateInvalid),"emptyValueNull"in _e&&n(16,b=_e.emptyValueNull),"emptyValueUndefined"in _e&&n(17,y=_e.emptyValueUndefined)},e.$$.update=()=>{e.$$.dirty&2068&&(f==="file"?(delete w.value,n(4,w),n(2,f),n(11,d)):n(4,w.value=d??"",w))},[l,c,f,u,w,A,E,i,S,R,s,d,p,g,m,v,b,y,H,W,G,oe,N,X,Ee,te,U,fe]}class lU extends un{constructor(t){super(),fn(this,t,aU,iU,Qt,{use:0,class:1,type:2,placeholder:3,value:11,files:12,dirty:13,invalid:14,updateInvalid:15,emptyValueNull:16,emptyValueUndefined:17,getAttr:18,addAttr:19,removeAttr:20,focus:21,blur:22,getElement:23})}get getAttr(){return this.$$.ctx[18]}get addAttr(){return this.$$.ctx[19]}get removeAttr(){return this.$$.ctx[20]}get focus(){return this.$$.ctx[21]}get blur(){return this.$$.ctx[22]}get getElement(){return this.$$.ctx[23]}}function cU(e){let t,n,r,s,i,o,a=[{class:n=mt({[e[2]]:!0,"mdc-text-field__input":!0})},{style:r=`${e[4]?"":"resize: none; "}${e[3]}`},e[6],e[9]],l={};for(let c=0;c<a.length;c+=1)l=Ze(l,a[c]);return{c(){t=kt("textarea"),Rt(t,l)},m(c,f){qe(c,t,f),t.autofocus&&t.focus(),e[21](t),nh(t,e[0]),i||(o=[Et(s=En.call(null,t,e[1])),Et(e[7].call(null,t)),Ot(t,"change",e[8]),Ot(t,"blur",e[19]),Ot(t,"focus",e[20]),Ot(t,"input",e[22])],i=!0)},p(c,[f]){Rt(t,l=xt(a,[f&4&&n!==(n=mt({[c[2]]:!0,"mdc-text-field__input":!0}))&&{class:n},f&24&&r!==(r=`${c[4]?"":"resize: none; "}${c[3]}`)&&{style:r},f&64&&c[6],f&512&&c[9]])),s&&zt(s.update)&&f&2&&s.update.call(null,c[1]),f&1&&nh(t,c[0])},i:An,o:An,d(c){c&&He(t),e[21](null),i=!1,ln(o)}}}function fU(e,t,n){const r=["use","class","style","value","dirty","invalid","updateInvalid","resizable","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=Ct(t,r);const i=Dn(cn());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{value:c=""}=t,{dirty:f=!1}=t,{invalid:u=!1}=t,{updateInvalid:d=!0}=t,{resizable:h=!0}=t,p,g={};fr(()=>{d&&n(11,u=p.matches(":invalid"))});function m(){n(10,f=!0),d&&n(11,u=p.matches(":invalid"))}function v(G){var oe;return G in g?(oe=g[G])!==null&&oe!==void 0?oe:null:w().getAttribute(G)}function b(G,oe){g[G]!==oe&&n(6,g[G]=oe,g)}function y(G){(!(G in g)||g[G]!=null)&&n(6,g[G]=void 0,g)}function A(){w().focus()}function E(){w().blur()}function w(){return p}function S(G){Do.call(this,e,G)}function R(G){Do.call(this,e,G)}function H(G){ot[G?"unshift":"push"](()=>{p=G,n(5,p)})}function W(){c=this.value,n(0,c)}return e.$$set=G=>{t=Ze(Ze({},t),Mn(G)),n(9,s=Ct(t,r)),"use"in G&&n(1,o=G.use),"class"in G&&n(2,a=G.class),"style"in G&&n(3,l=G.style),"value"in G&&n(0,c=G.value),"dirty"in G&&n(10,f=G.dirty),"invalid"in G&&n(11,u=G.invalid),"updateInvalid"in G&&n(12,d=G.updateInvalid),"resizable"in G&&n(4,h=G.resizable)},[c,o,a,l,h,p,g,i,m,s,f,u,d,v,b,y,A,E,w,S,R,H,W]}class uU extends un{constructor(t){super(),fn(this,t,fU,cU,Qt,{use:1,class:2,style:3,value:0,dirty:10,invalid:11,updateInvalid:12,resizable:4,getAttr:13,addAttr:14,removeAttr:15,focus:16,blur:17,getElement:18})}get getAttr(){return this.$$.ctx[13]}get addAttr(){return this.$$.ctx[14]}get removeAttr(){return this.$$.ctx[15]}get focus(){return this.$$.ctx[16]}get blur(){return this.$$.ctx[17]}get getElement(){return this.$$.ctx[18]}}const dU=e=>({}),Pp=e=>({}),hU=e=>({}),Lp=e=>({}),mU=e=>({}),Op=e=>({}),pU=e=>({}),Rp=e=>({}),gU=e=>({}),Mp=e=>({}),vU=e=>({}),Ip=e=>({}),bU=e=>({}),xp=e=>({}),_U=e=>({}),Dp=e=>({}),yU=e=>({}),Fp=e=>({}),AU=e=>({}),kp=e=>({}),SU=e=>({}),Gp=e=>({}),EU=e=>({}),Bp=e=>({});function wU(e){let t,n,r,s,i,o,a,l,c,f,u,d,h,p;const g=e[56].label,m=Gt(g,e,e[87],Mp);r=new Ni({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[CU]},$$scope:{ctx:e}}});const v=e[56].default,b=Gt(v,e,e[87],null);o=new Ni({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[PU]},$$scope:{ctx:e}}});const y=e[56].ripple,A=Gt(y,e,e[87],Lp);let E=[{class:l=mt({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||!e[47].label,"mdc-text-field--with-leading-icon":e[47].leadingIcon,"mdc-text-field--with-trailing-icon":e[47].trailingIcon,"mdc-text-field--invalid":e[1],...e[25]})},{style:c=Object.entries(e[26]).map(Yp).concat([e[10]]).join(" ")},mr(e[46],["input$","label$","ripple$","outline$","helperLine$"])],w={};for(let S=0;S<E.length;S+=1)w=Ze(w,E[S]);return{c(){t=kt("div"),m&&m.c(),n=Lt(),ht(r.$$.fragment),s=Lt(),b&&b.c(),i=Lt(),ht(o.$$.fragment),a=Lt(),A&&A.c(),Rt(t,w)},m(S,R){qe(S,t,R),m&&m.m(t,null),yn(t,n),ut(r,t,null),yn(t,s),b&&b.m(t,null),yn(t,i),ut(o,t,null),yn(t,a),A&&A.m(t,null),e[82](t),d=!0,h||(p=[Et(f=Zs.call(null,t,{ripple:e[11],unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45]})),Et(u=En.call(null,t,e[8])),Et(e[34].call(null,t)),Ot(t,"SMUITextfieldLeadingIcon:mount",e[38]),Ot(t,"SMUITextfieldLeadingIcon:unmount",e[83]),Ot(t,"SMUITextfieldTrailingIcon:mount",e[39]),Ot(t,"SMUITextfieldTrailingIcon:unmount",e[84])],h=!0)},p(S,R){m&&m.p&&(!d||R[2]&33554432)&&Nt(m,g,S,S[87],d?Bt(g,S[87],R,gU):$t(S[87]),Mp);const H={};R[2]&33554432&&(H.$$scope={dirty:R,ctx:S}),r.$set(H),b&&b.p&&(!d||R[2]&33554432)&&Nt(b,v,S,S[87],d?Bt(v,S[87],R,null):$t(S[87]),null);const W={};R[2]&33554432&&(W.$$scope={dirty:R,ctx:S}),o.$set(W),A&&A.p&&(!d||R[2]&33554432)&&Nt(A,y,S,S[87],d?Bt(y,S[87],R,hU):$t(S[87]),Lp),Rt(t,w=xt(E,[(!d||R[0]&33673730|R[1]&65536&&l!==(l=mt({[S[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":S[12],"mdc-text-field--textarea":S[14],"mdc-text-field--filled":S[15]==="filled","mdc-text-field--outlined":S[15]==="outlined","smui-text-field--standard":S[15]==="standard"&&!S[14],"mdc-text-field--no-label":S[16]||!S[47].label,"mdc-text-field--with-leading-icon":S[47].leadingIcon,"mdc-text-field--with-trailing-icon":S[47].trailingIcon,"mdc-text-field--invalid":S[1],...S[25]})))&&{class:l},(!d||R[0]&67109888&&c!==(c=Object.entries(S[26]).map(Yp).concat([S[10]]).join(" ")))&&{style:c},R[1]&32768&&mr(S[46],["input$","label$","ripple$","outline$","helperLine$"])])),f&&zt(f.update)&&R[0]&2048&&f.update.call(null,{ripple:S[11],unbounded:!1,addClass:S[43],removeClass:S[44],addStyle:S[45]}),u&&zt(u.update)&&R[0]&256&&u.update.call(null,S[8])},i(S){d||(ce(m,S),ce(r.$$.fragment,S),ce(b,S),ce(o.$$.fragment,S),ce(A,S),d=!0)},o(S){pe(m,S),pe(r.$$.fragment,S),pe(b,S),pe(o.$$.fragment,S),pe(A,S),d=!1},d(S){S&&He(t),m&&m.d(S),dt(r),b&&b.d(S),dt(o),A&&A.d(S),e[82](null),h=!1,ln(p)}}}function TU(e){let t,n,r,s,i,o,a,l,c,f,u,d,h,p,g,m,v,b,y=!e[14]&&e[15]!=="outlined"&&Np(e),A=(e[14]||e[15]==="outlined")&&Up(e);s=new Ni({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[MU]},$$scope:{ctx:e}}});const E=e[56].default,w=Gt(E,e,e[87],null),S=[xU,IU],R=[];function H(N,X){return N[14]&&typeof N[0]=="string"?0:1}a=H(e),l=R[a]=S[a](e),f=new Ni({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[kU]},$$scope:{ctx:e}}});let W=!e[14]&&e[15]!=="outlined"&&e[11]&&qp(e),G=[{class:d=mt({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||e[17]==null&&!e[47].label,"mdc-text-field--label-floating":e[28]||e[0]!=null&&e[0]!=="","mdc-text-field--with-leading-icon":e[35](e[22])?e[47].leadingIcon:e[22],"mdc-text-field--with-trailing-icon":e[35](e[23])?e[47].trailingIcon:e[23],"mdc-text-field--with-internal-counter":e[14]&&e[47].internalCounter,"mdc-text-field--invalid":e[1],...e[25]})},{style:h=Object.entries(e[26]).map(Wp).concat([e[10]]).join(" ")},{for:void 0},mr(e[46],["input$","label$","ripple$","outline$","helperLine$"])],oe={};for(let N=0;N<G.length;N+=1)oe=Ze(oe,G[N]);return{c(){t=kt("label"),y&&y.c(),n=Lt(),A&&A.c(),r=Lt(),ht(s.$$.fragment),i=Lt(),w&&w.c(),o=Lt(),l.c(),c=Lt(),ht(f.$$.fragment),u=Lt(),W&&W.c(),Rt(t,oe)},m(N,X){qe(N,t,X),y&&y.m(t,null),yn(t,n),A&&A.m(t,null),yn(t,r),ut(s,t,null),yn(t,i),w&&w.m(t,null),yn(t,o),R[a].m(t,null),yn(t,c),ut(f,t,null),yn(t,u),W&&W.m(t,null),e[78](t),m=!0,v||(b=[Et(p=Zs.call(null,t,{ripple:!e[14]&&e[15]==="filled",unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45],eventTarget:e[33],activeTarget:e[33],initPromise:e[37]})),Et(g=En.call(null,t,e[8])),Et(e[34].call(null,t)),Ot(t,"SMUITextfieldLeadingIcon:mount",e[38]),Ot(t,"SMUITextfieldLeadingIcon:unmount",e[79]),Ot(t,"SMUITextfieldTrailingIcon:mount",e[39]),Ot(t,"SMUITextfieldTrailingIcon:unmount",e[80]),Ot(t,"SMUITextfieldCharacterCounter:mount",e[40]),Ot(t,"SMUITextfieldCharacterCounter:unmount",e[81])],v=!0)},p(N,X){!N[14]&&N[15]!=="outlined"?y?(y.p(N,X),X[0]&49152&&ce(y,1)):(y=Np(N),y.c(),ce(y,1),y.m(t,n)):y&&(tn(),pe(y,1,1,()=>{y=null}),nn()),N[14]||N[15]==="outlined"?A?(A.p(N,X),X[0]&49152&&ce(A,1)):(A=Up(N),A.c(),ce(A,1),A.m(t,r)):A&&(tn(),pe(A,1,1,()=>{A=null}),nn());const Ee={};X[2]&33554432&&(Ee.$$scope={dirty:X,ctx:N}),s.$set(Ee),w&&w.p&&(!m||X[2]&33554432)&&Nt(w,E,N,N[87],m?Bt(E,N[87],X,null):$t(N[87]),null);let te=a;a=H(N),a===te?R[a].p(N,X):(tn(),pe(R[te],1,1,()=>{R[te]=null}),nn(),l=R[a],l?l.p(N,X):(l=R[a]=S[a](N),l.c()),ce(l,1),l.m(t,c));const U={};X[2]&33554432&&(U.$$scope={dirty:X,ctx:N}),f.$set(U),!N[14]&&N[15]!=="outlined"&&N[11]?W?(W.p(N,X),X[0]&51200&&ce(W,1)):(W=qp(N),W.c(),ce(W,1),W.m(t,null)):W&&(tn(),pe(W,1,1,()=>{W=null}),nn()),Rt(t,oe=xt(G,[(!m||X[0]&314823171|X[1]&65536&&d!==(d=mt({[N[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":N[12],"mdc-text-field--textarea":N[14],"mdc-text-field--filled":N[15]==="filled","mdc-text-field--outlined":N[15]==="outlined","smui-text-field--standard":N[15]==="standard"&&!N[14],"mdc-text-field--no-label":N[16]||N[17]==null&&!N[47].label,"mdc-text-field--label-floating":N[28]||N[0]!=null&&N[0]!=="","mdc-text-field--with-leading-icon":N[35](N[22])?N[47].leadingIcon:N[22],"mdc-text-field--with-trailing-icon":N[35](N[23])?N[47].trailingIcon:N[23],"mdc-text-field--with-internal-counter":N[14]&&N[47].internalCounter,"mdc-text-field--invalid":N[1],...N[25]})))&&{class:d},(!m||X[0]&67109888&&h!==(h=Object.entries(N[26]).map(Wp).concat([N[10]]).join(" ")))&&{style:h},{for:void 0},X[1]&32768&&mr(N[46],["input$","label$","ripple$","outline$","helperLine$"])])),p&&zt(p.update)&&X[0]&49152|X[1]&4&&p.update.call(null,{ripple:!N[14]&&N[15]==="filled",unbounded:!1,addClass:N[43],removeClass:N[44],addStyle:N[45],eventTarget:N[33],activeTarget:N[33],initPromise:N[37]}),g&&zt(g.update)&&X[0]&256&&g.update.call(null,N[8])},i(N){m||(ce(y),ce(A),ce(s.$$.fragment,N),ce(w,N),ce(l),ce(f.$$.fragment,N),ce(W),m=!0)},o(N){pe(y),pe(A),pe(s.$$.fragment,N),pe(w,N),pe(l),pe(f.$$.fragment,N),pe(W),m=!1},d(N){N&&He(t),y&&y.d(),A&&A.d(),dt(s),w&&w.d(N),R[a].d(),dt(f),W&&W.d(),e[78](null),v=!1,ln(b)}}}function CU(e){let t;const n=e[56].leadingIcon,r=Gt(n,e,e[87],Rp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Bt(n,s[87],i,pU):$t(s[87]),Rp)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function PU(e){let t;const n=e[56].trailingIcon,r=Gt(n,e,e[87],Op);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Bt(n,s[87],i,mU):$t(s[87]),Op)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function Np(e){let t,n,r,s=e[15]==="filled"&&$p(),i=!e[16]&&(e[17]!=null||e[47].label)&&Vp(e);return{c(){s&&s.c(),t=Lt(),i&&i.c(),n=In()},m(o,a){s&&s.m(o,a),qe(o,t,a),i&&i.m(o,a),qe(o,n,a),r=!0},p(o,a){o[15]==="filled"?s||(s=$p(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),!o[16]&&(o[17]!=null||o[47].label)?i?(i.p(o,a),a[0]&196608|a[1]&65536&&ce(i,1)):(i=Vp(o),i.c(),ce(i,1),i.m(n.parentNode,n)):i&&(tn(),pe(i,1,1,()=>{i=null}),nn())},i(o){r||(ce(i),r=!0)},o(o){pe(i),r=!1},d(o){s&&s.d(o),o&&He(t),i&&i.d(o),o&&He(n)}}}function $p(e){let t;return{c(){t=kt("span"),Ut(t,"class","mdc-text-field__ripple")},m(n,r){qe(n,t,r)},d(n){n&&He(t)}}}function Vp(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},qt(e[46],"label$")];let s={$$slots:{default:[LU]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ze(s,r[i]);return t=new k2({props:s}),e[57](t),{c(){ht(t.$$.fragment)},m(i,o){ut(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?xt(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&Ln(qt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ce(t.$$.fragment,i),n=!0)},o(i){pe(t.$$.fragment,i),n=!1},d(i){e[57](null),dt(t,i)}}}function LU(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=Gt(s,e,e[87],Bp);return{c(){n=Xr(t),i&&i.c()},m(o,a){qe(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&$i(n,t),i&&i.p&&(!r||a[2]&33554432)&&Nt(i,s,o,o[87],r?Bt(s,o[87],a,EU):$t(o[87]),Bp)},i(o){r||(ce(i,o),r=!0)},o(o){pe(i,o),r=!1},d(o){o&&He(n),i&&i.d(o)}}}function Up(e){let t,n;const r=[{noLabel:e[16]||e[17]==null&&!e[47].label},qt(e[46],"outline$")];let s={$$slots:{default:[RU]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ze(s,r[i]);return t=new KV({props:s}),e[59](t),{c(){ht(t.$$.fragment)},m(i,o){ut(t,i,o),n=!0},p(i,o){const a=o[0]&196608|o[1]&98304?xt(r,[o[0]&196608|o[1]&65536&&{noLabel:i[16]||i[17]==null&&!i[47].label},o[1]&32768&&Ln(qt(i[46],"outline$"))]):{};o[0]&268640289|o[1]&98304|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ce(t.$$.fragment,i),n=!0)},o(i){pe(t.$$.fragment,i),n=!1},d(i){e[59](null),dt(t,i)}}}function zp(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},qt(e[46],"label$")];let s={$$slots:{default:[OU]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ze(s,r[i]);return t=new k2({props:s}),e[58](t),{c(){ht(t.$$.fragment)},m(i,o){ut(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?xt(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&Ln(qt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ce(t.$$.fragment,i),n=!0)},o(i){pe(t.$$.fragment,i),n=!1},d(i){e[58](null),dt(t,i)}}}function OU(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=Gt(s,e,e[87],Gp);return{c(){n=Xr(t),i&&i.c()},m(o,a){qe(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&$i(n,t),i&&i.p&&(!r||a[2]&33554432)&&Nt(i,s,o,o[87],r?Bt(s,o[87],a,SU):$t(o[87]),Gp)},i(o){r||(ce(i,o),r=!0)},o(o){pe(i,o),r=!1},d(o){o&&He(n),i&&i.d(o)}}}function RU(e){let t,n,r=!e[16]&&(e[17]!=null||e[47].label)&&zp(e);return{c(){r&&r.c(),t=In()},m(s,i){r&&r.m(s,i),qe(s,t,i),n=!0},p(s,i){!s[16]&&(s[17]!=null||s[47].label)?r?(r.p(s,i),i[0]&196608|i[1]&65536&&ce(r,1)):(r=zp(s),r.c(),ce(r,1),r.m(t.parentNode,t)):r&&(tn(),pe(r,1,1,()=>{r=null}),nn())},i(s){n||(ce(r),n=!0)},o(s){pe(r),n=!1},d(s){r&&r.d(s),s&&He(t)}}}function MU(e){let t;const n=e[56].leadingIcon,r=Gt(n,e,e[87],kp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Bt(n,s[87],i,AU):$t(s[87]),kp)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function IU(e){let t,n,r,s,i,o,a,l,c,f;const u=e[56].prefix,d=Gt(u,e,e[87],Dp);let h=e[20]!=null&&Hp(e);const p=[{type:e[18]},{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},e[16]&&e[17]!=null?{placeholder:e[17]}:{},qt(e[46],"input$")];function g(S){e[69](S)}function m(S){e[70](S)}function v(S){e[71](S)}function b(S){e[72](S)}let y={};for(let S=0;S<p.length;S+=1)y=Ze(y,p[S]);e[0]!==void 0&&(y.value=e[0]),e[3]!==void 0&&(y.files=e[3]),e[4]!==void 0&&(y.dirty=e[4]),e[1]!==void 0&&(y.invalid=e[1]),r=new lU({props:y}),e[68](r),ot.push(()=>Vn(r,"value",g)),ot.push(()=>Vn(r,"files",m)),ot.push(()=>Vn(r,"dirty",v)),ot.push(()=>Vn(r,"invalid",b)),r.$on("blur",e[73]),r.$on("focus",e[74]),r.$on("blur",e[75]),r.$on("focus",e[76]);let A=e[21]!=null&&jp(e);const E=e[56].suffix,w=Gt(E,e,e[87],xp);return{c(){d&&d.c(),t=Lt(),h&&h.c(),n=Lt(),ht(r.$$.fragment),l=Lt(),A&&A.c(),c=Lt(),w&&w.c()},m(S,R){d&&d.m(S,R),qe(S,t,R),h&&h.m(S,R),qe(S,n,R),ut(r,S,R),qe(S,l,R),A&&A.m(S,R),qe(S,c,R),w&&w.m(S,R),f=!0},p(S,R){d&&d.p&&(!f||R[2]&33554432)&&Nt(d,u,S,S[87],f?Bt(u,S[87],R,_U):$t(S[87]),Dp),S[20]!=null?h?(h.p(S,R),R[0]&1048576&&ce(h,1)):(h=Hp(S),h.c(),ce(h,1),h.m(n.parentNode,n)):h&&(tn(),pe(h,1,1,()=>{h=null}),nn());const H=R[0]&135213056|R[1]&32768?xt(p,[R[0]&262144&&{type:S[18]},R[0]&4096&&{disabled:S[12]},R[0]&8192&&{required:S[13]},R[0]&524288&&{updateInvalid:S[19]},R[0]&134217728&&{"aria-controls":S[27]},R[0]&134217728&&{"aria-describedby":S[27]},R[0]&196608&&Ln(S[16]&&S[17]!=null?{placeholder:S[17]}:{}),R[1]&32768&&Ln(qt(S[46],"input$"))]):{};!s&&R[0]&1&&(s=!0,H.value=S[0],$n(()=>s=!1)),!i&&R[0]&8&&(i=!0,H.files=S[3],$n(()=>i=!1)),!o&&R[0]&16&&(o=!0,H.dirty=S[4],$n(()=>o=!1)),!a&&R[0]&2&&(a=!0,H.invalid=S[1],$n(()=>a=!1)),r.$set(H),S[21]!=null?A?(A.p(S,R),R[0]&2097152&&ce(A,1)):(A=jp(S),A.c(),ce(A,1),A.m(c.parentNode,c)):A&&(tn(),pe(A,1,1,()=>{A=null}),nn()),w&&w.p&&(!f||R[2]&33554432)&&Nt(w,E,S,S[87],f?Bt(E,S[87],R,bU):$t(S[87]),xp)},i(S){f||(ce(d,S),ce(h),ce(r.$$.fragment,S),ce(A),ce(w,S),f=!0)},o(S){pe(d,S),pe(h),pe(r.$$.fragment,S),pe(A),pe(w,S),f=!1},d(S){d&&d.d(S),S&&He(t),h&&h.d(S),S&&He(n),e[68](null),dt(r,S),S&&He(l),A&&A.d(S),S&&He(c),w&&w.d(S)}}}function xU(e){let t,n,r,s,i,o,a,l;const c=[{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},qt(e[46],"input$")];function f(m){e[61](m)}function u(m){e[62](m)}function d(m){e[63](m)}let h={};for(let m=0;m<c.length;m+=1)h=Ze(h,c[m]);e[0]!==void 0&&(h.value=e[0]),e[4]!==void 0&&(h.dirty=e[4]),e[1]!==void 0&&(h.invalid=e[1]),n=new uU({props:h}),e[60](n),ot.push(()=>Vn(n,"value",f)),ot.push(()=>Vn(n,"dirty",u)),ot.push(()=>Vn(n,"invalid",d)),n.$on("blur",e[64]),n.$on("focus",e[65]),n.$on("blur",e[66]),n.$on("focus",e[67]);const p=e[56].internalCounter,g=Gt(p,e,e[87],Fp);return{c(){t=kt("span"),ht(n.$$.fragment),o=Lt(),g&&g.c(),Ut(t,"class",a=mt({"mdc-text-field__resizer":!("input$resizable"in e[46])||e[46].input$resizable}))},m(m,v){qe(m,t,v),ut(n,t,null),yn(t,o),g&&g.m(t,null),l=!0},p(m,v){const b=v[0]&134754304|v[1]&32768?xt(c,[v[0]&4096&&{disabled:m[12]},v[0]&8192&&{required:m[13]},v[0]&524288&&{updateInvalid:m[19]},v[0]&134217728&&{"aria-controls":m[27]},v[0]&134217728&&{"aria-describedby":m[27]},v[1]&32768&&Ln(qt(m[46],"input$"))]):{};!r&&v[0]&1&&(r=!0,b.value=m[0],$n(()=>r=!1)),!s&&v[0]&16&&(s=!0,b.dirty=m[4],$n(()=>s=!1)),!i&&v[0]&2&&(i=!0,b.invalid=m[1],$n(()=>i=!1)),n.$set(b),g&&g.p&&(!l||v[2]&33554432)&&Nt(g,p,m,m[87],l?Bt(p,m[87],v,yU):$t(m[87]),Fp),(!l||v[1]&32768&&a!==(a=mt({"mdc-text-field__resizer":!("input$resizable"in m[46])||m[46].input$resizable})))&&Ut(t,"class",a)},i(m){l||(ce(n.$$.fragment,m),ce(g,m),l=!0)},o(m){pe(n.$$.fragment,m),pe(g,m),l=!1},d(m){m&&He(t),e[60](null),dt(n),g&&g.d(m)}}}function Hp(e){let t,n;return t=new rU({props:{$$slots:{default:[DU]},$$scope:{ctx:e}}}),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[0]&1048576|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function DU(e){let t;return{c(){t=Xr(e[20])},m(n,r){qe(n,t,r)},p(n,r){r[0]&1048576&&$i(t,n[20])},d(n){n&&He(t)}}}function jp(e){let t,n;return t=new sU({props:{$$slots:{default:[FU]},$$scope:{ctx:e}}}),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[0]&2097152|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function FU(e){let t;return{c(){t=Xr(e[21])},m(n,r){qe(n,t,r)},p(n,r){r[0]&2097152&&$i(t,n[21])},d(n){n&&He(t)}}}function kU(e){let t;const n=e[56].trailingIcon,r=Gt(n,e,e[87],Ip);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Bt(n,s[87],i,vU):$t(s[87]),Ip)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function qp(e){let t,n;const r=[qt(e[46],"ripple$")];let s={};for(let i=0;i<r.length;i+=1)s=Ze(s,r[i]);return t=new WV({props:s}),e[77](t),{c(){ht(t.$$.fragment)},m(i,o){ut(t,i,o),n=!0},p(i,o){const a=o[1]&32768?xt(r,[Ln(qt(i[46],"ripple$"))]):{};t.$set(a)},i(i){n||(ce(t.$$.fragment,i),n=!0)},o(i){pe(t.$$.fragment,i),n=!1},d(i){e[77](null),dt(t,i)}}}function Xp(e){let t,n;const r=[qt(e[46],"helperLine$")];let s={$$slots:{default:[GU]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=Ze(s,r[i]);return t=new nU({props:s}),t.$on("SMUITextfieldHelperText:id",e[41]),t.$on("SMUITextfieldHelperText:mount",e[42]),t.$on("SMUITextfieldHelperText:unmount",e[85]),t.$on("SMUITextfieldCharacterCounter:mount",e[40]),t.$on("SMUITextfieldCharacterCounter:unmount",e[86]),{c(){ht(t.$$.fragment)},m(i,o){ut(t,i,o),n=!0},p(i,o){const a=o[1]&32768?xt(r,[Ln(qt(i[46],"helperLine$"))]):{};o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ce(t.$$.fragment,i),n=!0)},o(i){pe(t.$$.fragment,i),n=!1},d(i){dt(t,i)}}}function GU(e){let t;const n=e[56].helper,r=Gt(n,e,e[87],Pp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Nt(r,n,s,s[87],t?Bt(n,s[87],i,dU):$t(s[87]),Pp)},i(s){t||(ce(r,s),t=!0)},o(s){pe(r,s),t=!1},d(s){r&&r.d(s)}}}function BU(e){let t,n,r,s,i;const o=[TU,wU],a=[];function l(f,u){return f[36]?0:1}t=l(e),n=a[t]=o[t](e);let c=e[47].helper&&Xp(e);return{c(){n.c(),r=Lt(),c&&c.c(),s=In()},m(f,u){a[t].m(f,u),qe(f,r,u),c&&c.m(f,u),qe(f,s,u),i=!0},p(f,u){n.p(f,u),f[47].helper?c?(c.p(f,u),u[1]&65536&&ce(c,1)):(c=Xp(f),c.c(),ce(c,1),c.m(s.parentNode,s)):c&&(tn(),pe(c,1,1,()=>{c=null}),nn())},i(f){i||(ce(n),ce(c),i=!0)},o(f){pe(n),pe(c),i=!1},d(f){a[t].d(f),f&&He(r),c&&c.d(f),f&&He(s)}}}const Wp=([e,t])=>`${e}: ${t};`,Yp=([e,t])=>`${e}: ${t};`;function NU(e,t,n){let r;const s=["use","class","style","ripple","disabled","required","textarea","variant","noLabel","label","type","value","files","invalid","updateInvalid","dirty","prefix","suffix","validateOnValueChange","useNativeValidation","withLeadingIcon","withTrailingIcon","input","floatingLabel","lineRipple","notchedOutline","focus","blur","layout","getElement"];let i=Ct(t,s),{$$slots:o={},$$scope:a}=t;const l=wy(o),{applyPassive:c}=P2,f=Dn(cn());let u=()=>{};function d(J){return J===u}let{use:h=[]}=t,{class:p=""}=t,{style:g=""}=t,{ripple:m=!0}=t,{disabled:v=!1}=t,{required:b=!1}=t,{textarea:y=!1}=t,{variant:A=y?"outlined":"standard"}=t,{noLabel:E=!1}=t,{label:w=void 0}=t,{type:S="text"}=t,{value:R=i.input$emptyValueUndefined?void 0:u}=t,{files:H=u}=t;const W=!d(R)||!d(H);d(R)&&(R=void 0),d(H)&&(H=null);let{invalid:G=u}=t,{updateInvalid:oe=d(G)}=t;d(G)&&(G=!1);let{dirty:N=!1}=t,{prefix:X=void 0}=t,{suffix:Ee=void 0}=t,{validateOnValueChange:te=oe}=t,{useNativeValidation:U=oe}=t,{withLeadingIcon:fe=u}=t,{withTrailingIcon:_e=u}=t,{input:Xe=void 0}=t,{floatingLabel:Pt=void 0}=t,{lineRipple:Fe=void 0}=t,{notchedOutline:Tt=void 0}=t,Wt,Vt,On={},ke={},Ie,Ne=!1,dn=hr("SMUI:addLayoutListener"),Yr,Zr,bs=new Promise(J=>Zr=J),gr,vr,Er,_s,Un=R;dn&&(Yr=dn(Kr)),fr(()=>{if(n(54,Vt=new VV({addClass:jo,removeClass:qo,hasClass:Vl,registerTextFieldInteractionHandler:(J,hn)=>ys().addEventListener(J,hn),deregisterTextFieldInteractionHandler:(J,hn)=>ys().removeEventListener(J,hn),registerValidationAttributeChangeHandler:J=>{const hn=Xi=>Xi.map(Wi=>Wi.attributeName).filter(Wi=>Wi),ea=new MutationObserver(Xi=>{U&&J(hn(Xi))}),cc={attributes:!0};return Xe&&ea.observe(Xe.getElement(),cc),ea},deregisterValidationAttributeChangeHandler:J=>{J.disconnect()},getNativeInput:()=>{var J;return(J=Xe==null?void 0:Xe.getElement())!==null&&J!==void 0?J:null},setInputAttr:(J,hn)=>{Xe==null||Xe.addAttr(J,hn)},removeInputAttr:J=>{Xe==null||Xe.removeAttr(J)},isFocused:()=>document.activeElement===(Xe==null?void 0:Xe.getElement()),registerInputInteractionHandler:(J,hn)=>{Xe==null||Xe.getElement().addEventListener(J,hn,c())},deregisterInputInteractionHandler:(J,hn)=>{Xe==null||Xe.getElement().removeEventListener(J,hn,c())},floatLabel:J=>Pt&&Pt.float(J),getLabelWidth:()=>Pt?Pt.getWidth():0,hasLabel:()=>!!Pt,shakeLabel:J=>Pt&&Pt.shake(J),setLabelRequired:J=>Pt&&Pt.setRequired(J),activateLineRipple:()=>Fe&&Fe.activate(),deactivateLineRipple:()=>Fe&&Fe.deactivate(),setLineRippleTransformOrigin:J=>Fe&&Fe.setRippleCenter(J),closeOutline:()=>Tt&&Tt.closeNotch(),hasOutline:()=>!!Tt,notchOutline:J=>Tt&&Tt.notch(J)},{get helperText(){return Er},get characterCounter(){return _s},get leadingIcon(){return gr},get trailingIcon(){return vr}})),W){if(Xe==null)throw new Error("SMUI Textfield initialized without Input component.");Vt.init()}else My().then(()=>{if(Xe==null)throw new Error("SMUI Textfield initialized without Input component.");Vt.init()});return Zr(),()=>{Vt.destroy()}}),Gu(()=>{Yr&&Yr()});function Ho(J){n(29,gr=J.detail)}function ti(J){n(30,vr=J.detail)}function Nl(J){n(32,_s=J.detail)}function $l(J){n(27,Ie=J.detail)}function P(J){n(31,Er=J.detail)}function Vl(J){var hn;return J in On?(hn=On[J])!==null&&hn!==void 0?hn:null:ys().classList.contains(J)}function jo(J){On[J]||n(25,On[J]=!0,On)}function qo(J){(!(J in On)||On[J])&&n(25,On[J]=!1,On)}function Ul(J,hn){ke[J]!=hn&&(hn===""||hn==null?(delete ke[J],n(26,ke)):n(26,ke[J]=hn,ke))}function kr(){Xe==null||Xe.focus()}function Xo(){Xe==null||Xe.blur()}function Kr(){if(Vt){const J=Vt.shouldFloat;Vt.notchOutline(J)}}function ys(){return Wt}function zl(J){ot[J?"unshift":"push"](()=>{Pt=J,n(5,Pt)})}function Hl(J){ot[J?"unshift":"push"](()=>{Pt=J,n(5,Pt)})}function Wo(J){ot[J?"unshift":"push"](()=>{Tt=J,n(7,Tt)})}function jn(J){ot[J?"unshift":"push"](()=>{Xe=J,n(2,Xe)})}function qi(J){R=J,n(0,R)}function Yo(J){N=J,n(4,N)}function jl(J){G=J,n(1,G),n(54,Vt),n(19,oe)}const ql=()=>n(28,Ne=!1),Xl=()=>n(28,Ne=!0),Wl=J=>rr(Wt,"blur",J),Yl=J=>rr(Wt,"focus",J);function Zo(J){ot[J?"unshift":"push"](()=>{Xe=J,n(2,Xe)})}function Ko(J){R=J,n(0,R)}function Zl(J){H=J,n(3,H)}function Kl(J){N=J,n(4,N)}function qn(J){G=J,n(1,G),n(54,Vt),n(19,oe)}const Ql=()=>n(28,Ne=!1),Jl=()=>n(28,Ne=!0),ec=J=>rr(Wt,"blur",J),tc=J=>rr(Wt,"focus",J);function nc(J){ot[J?"unshift":"push"](()=>{Fe=J,n(6,Fe)})}function rc(J){ot[J?"unshift":"push"](()=>{Wt=J,n(24,Wt)})}const sc=()=>n(29,gr=void 0),ic=()=>n(30,vr=void 0),Qo=()=>n(32,_s=void 0);function Jo(J){ot[J?"unshift":"push"](()=>{Wt=J,n(24,Wt)})}const rn=()=>n(29,gr=void 0),oc=()=>n(30,vr=void 0),ac=()=>{n(27,Ie=void 0),n(31,Er=void 0)},lc=()=>n(32,_s=void 0);return e.$$set=J=>{t=Ze(Ze({},t),Mn(J)),n(46,i=Ct(t,s)),"use"in J&&n(8,h=J.use),"class"in J&&n(9,p=J.class),"style"in J&&n(10,g=J.style),"ripple"in J&&n(11,m=J.ripple),"disabled"in J&&n(12,v=J.disabled),"required"in J&&n(13,b=J.required),"textarea"in J&&n(14,y=J.textarea),"variant"in J&&n(15,A=J.variant),"noLabel"in J&&n(16,E=J.noLabel),"label"in J&&n(17,w=J.label),"type"in J&&n(18,S=J.type),"value"in J&&n(0,R=J.value),"files"in J&&n(3,H=J.files),"invalid"in J&&n(1,G=J.invalid),"updateInvalid"in J&&n(19,oe=J.updateInvalid),"dirty"in J&&n(4,N=J.dirty),"prefix"in J&&n(20,X=J.prefix),"suffix"in J&&n(21,Ee=J.suffix),"validateOnValueChange"in J&&n(48,te=J.validateOnValueChange),"useNativeValidation"in J&&n(49,U=J.useNativeValidation),"withLeadingIcon"in J&&n(22,fe=J.withLeadingIcon),"withTrailingIcon"in J&&n(23,_e=J.withTrailingIcon),"input"in J&&n(2,Xe=J.input),"floatingLabel"in J&&n(5,Pt=J.floatingLabel),"lineRipple"in J&&n(6,Fe=J.lineRipple),"notchedOutline"in J&&n(7,Tt=J.notchedOutline),"$$scope"in J&&n(87,a=J.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&4&&n(33,r=Xe&&Xe.getElement()),e.$$.dirty[0]&524290|e.$$.dirty[1]&8388608&&Vt&&Vt.isValid()!==!G&&(oe?n(1,G=!Vt.isValid()):Vt.setValid(!G)),e.$$.dirty[1]&8519680&&Vt&&Vt.getValidateOnValueChange()!==te&&Vt.setValidateOnValueChange(d(te)?!1:te),e.$$.dirty[1]&8650752&&Vt&&Vt.setUseNativeValidation(d(U)?!0:U),e.$$.dirty[0]&4096|e.$$.dirty[1]&8388608&&Vt&&Vt.setDisabled(v),e.$$.dirty[0]&1|e.$$.dirty[1]&25165824&&Vt&&W&&Un!==R){n(55,Un=R);const J=`${R}`;Vt.getValue()!==J&&Vt.setValue(J)}},[R,G,Xe,H,N,Pt,Fe,Tt,h,p,g,m,v,b,y,A,E,w,S,oe,X,Ee,fe,_e,Wt,On,ke,Ie,Ne,gr,vr,Er,_s,r,f,d,W,bs,Ho,ti,Nl,$l,P,jo,qo,Ul,i,l,te,U,kr,Xo,Kr,ys,Vt,Un,o,zl,Hl,Wo,jn,qi,Yo,jl,ql,Xl,Wl,Yl,Zo,Ko,Zl,Kl,qn,Ql,Jl,ec,tc,nc,rc,sc,ic,Qo,Jo,rn,oc,ac,lc,a]}class Hr extends un{constructor(t){super(),fn(this,t,NU,BU,Qt,{use:8,class:9,style:10,ripple:11,disabled:12,required:13,textarea:14,variant:15,noLabel:16,label:17,type:18,value:0,files:3,invalid:1,updateInvalid:19,dirty:4,prefix:20,suffix:21,validateOnValueChange:48,useNativeValidation:49,withLeadingIcon:22,withTrailingIcon:23,input:2,floatingLabel:5,lineRipple:6,notchedOutline:7,focus:50,blur:51,layout:52,getElement:53},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[50]}get blur(){return this.$$.ctx[51]}get layout(){return this.$$.ctx[52]}get getElement(){return this.$$.ctx[53]}}function $U(e){let t,n,r,s,i,o;const a=e[12].default,l=Gt(a,e,e[11],null);let c=[{class:n=mt({[e[1]]:!0,"smui-paper":!0,"smui-paper--raised":e[2]==="raised","smui-paper--unelevated":e[2]==="unelevated","smui-paper--outlined":e[2]==="outlined",["smui-paper--elevation-z"+e[5]]:e[5]!==0&&e[2]==="raised","smui-paper--rounded":!e[3],["smui-paper--color-"+e[4]]:e[4]!=="default","smui-paper-transition":e[6]})},e[9]],f={};for(let u=0;u<c.length;u+=1)f=Ze(f,c[u]);return{c(){t=kt("div"),l&&l.c(),Rt(t,f)},m(u,d){qe(u,t,d),l&&l.m(t,null),e[13](t),s=!0,i||(o=[Et(r=En.call(null,t,e[0])),Et(e[8].call(null,t))],i=!0)},p(u,[d]){l&&l.p&&(!s||d&2048)&&Nt(l,a,u,u[11],s?Bt(a,u[11],d,null):$t(u[11]),null),Rt(t,f=xt(c,[(!s||d&126&&n!==(n=mt({[u[1]]:!0,"smui-paper":!0,"smui-paper--raised":u[2]==="raised","smui-paper--unelevated":u[2]==="unelevated","smui-paper--outlined":u[2]==="outlined",["smui-paper--elevation-z"+u[5]]:u[5]!==0&&u[2]==="raised","smui-paper--rounded":!u[3],["smui-paper--color-"+u[4]]:u[4]!=="default","smui-paper-transition":u[6]})))&&{class:n},d&512&&u[9]])),r&&zt(r.update)&&d&1&&r.update.call(null,u[0])},i(u){s||(ce(l,u),s=!0)},o(u){pe(l,u),s=!1},d(u){u&&He(t),l&&l.d(u),e[13](null),i=!1,ln(o)}}}function VU(e,t,n){const r=["use","class","variant","square","color","elevation","transition","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Dn(cn());let{use:l=[]}=t,{class:c=""}=t,{variant:f="raised"}=t,{square:u=!1}=t,{color:d="default"}=t,{elevation:h=1}=t,{transition:p=!1}=t,g;function m(){return g}function v(b){ot[b?"unshift":"push"](()=>{g=b,n(7,g)})}return e.$$set=b=>{t=Ze(Ze({},t),Mn(b)),n(9,s=Ct(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"variant"in b&&n(2,f=b.variant),"square"in b&&n(3,u=b.square),"color"in b&&n(4,d=b.color),"elevation"in b&&n(5,h=b.elevation),"transition"in b&&n(6,p=b.transition),"$$scope"in b&&n(11,o=b.$$scope)},[l,c,f,u,d,h,p,g,a,s,m,o,i,v]}class G2 extends un{constructor(t){super(),fn(this,t,VU,$U,Qt,{use:0,class:1,variant:2,square:3,color:4,elevation:5,transition:6,getElement:10})}get getElement(){return this.$$.ctx[10]}}ji({class:"smui-paper__content",tag:"div"});ji({class:"smui-paper__title",tag:"h5"});ji({class:"smui-paper__subtitle",tag:"h6"});function Zp(e){let t;return{c(){t=kt("div"),Ut(t,"class","mdc-fab__focus-ring")},m(n,r){qe(n,t,r)},d(n){n&&He(t)}}}function Kp(e){let t;return{c(){t=kt("div"),Ut(t,"class","mdc-fab__touch")},m(n,r){qe(n,t,r)},d(n){n&&He(t)}}}function UU(e){let t,n,r,s,i,o=e[4]&&Zp();const a=e[22].default,l=Gt(a,e,e[24],null);let c=e[9]&&Kp();return{c(){t=kt("div"),n=Lt(),o&&o.c(),r=Lt(),l&&l.c(),c&&c.c(),s=In(),Ut(t,"class","mdc-fab__ripple")},m(f,u){qe(f,t,u),qe(f,n,u),o&&o.m(f,u),qe(f,r,u),l&&l.m(f,u),c&&c.m(f,u),qe(f,s,u),i=!0},p(f,u){f[4]?o||(o=Zp(),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),l&&l.p&&(!i||u&16777216)&&Nt(l,a,f,f[24],i?Bt(a,f[24],u,null):$t(f[24]),null),f[9]?c||(c=Kp(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(f){i||(ce(l,f),i=!0)},o(f){pe(l,f),i=!1},d(f){f&&He(t),f&&He(n),o&&o.d(f),f&&He(r),l&&l.d(f),c&&c.d(f),f&&He(s)}}}function zU(e){let t,n,r;const s=[{tag:e[12]},{use:[[Zs,{ripple:e[3],unbounded:!1,color:e[5],disabled:!!e[20].disabled,addClass:e[17],removeClass:e[18],addStyle:e[19]}],e[16],...e[0]]},{class:mt({[e[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":e[6],"mdc-fab--exited":e[7],"mdc-fab--extended":e[8],"smui-fab--color-primary":e[5]==="primary","mdc-fab--touch":e[9],...e[14]})},{style:Object.entries(e[15]).map(Qp).concat([e[2]]).join(" ")},{href:e[10]},e[20]];var i=e[11];function o(a){let l={$$slots:{default:[UU]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=Ze(l,s[c]);return{props:l}}return i&&(t=xr(i,o(e)),e[23](t)),{c(){t&&ht(t.$$.fragment),n=In()},m(a,l){t&&ut(t,a,l),qe(a,n,l),r=!0},p(a,[l]){const c=l&2086895?xt(s,[l&4096&&{tag:a[12]},l&2031657&&{use:[[Zs,{ripple:a[3],unbounded:!1,color:a[5],disabled:!!a[20].disabled,addClass:a[17],removeClass:a[18],addStyle:a[19]}],a[16],...a[0]]},l&17378&&{class:mt({[a[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":a[6],"mdc-fab--exited":a[7],"mdc-fab--extended":a[8],"smui-fab--color-primary":a[5]==="primary","mdc-fab--touch":a[9],...a[14]})},l&32772&&{style:Object.entries(a[15]).map(Qp).concat([a[2]]).join(" ")},l&1024&&{href:a[10]},l&1048576&&Ln(a[20])]):{};if(l&16777744&&(c.$$scope={dirty:l,ctx:a}),l&2048&&i!==(i=a[11])){if(t){tn();const f=t;pe(f.$$.fragment,1,0,()=>{dt(f,1)}),nn()}i?(t=xr(i,o(a)),a[23](t),ht(t.$$.fragment),ce(t.$$.fragment,1),ut(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ce(t.$$.fragment,a),r=!0)},o(a){t&&pe(t.$$.fragment,a),r=!1},d(a){e[23](null),a&&He(n),t&&dt(t,a)}}}const Qp=([e,t])=>`${e}: ${t};`;function HU(e,t,n){const r=["use","class","style","ripple","focusRing","color","mini","exited","extended","touch","href","component","tag","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Dn(cn());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{ripple:u=!0}=t,{focusRing:d=!1}=t,{color:h="secondary"}=t,{mini:p=!1}=t,{exited:g=!1}=t,{extended:m=!1}=t,{touch:v=!1}=t,{href:b=void 0}=t,y,A={},E={},{component:w=Dr}=t,{tag:S=w===Dr?b==null?"button":"a":void 0}=t;Sr("SMUI:label:context","fab"),Sr("SMUI:icon:context","fab");function R(N){A[N]||n(14,A[N]=!0,A)}function H(N){(!(N in A)||A[N])&&n(14,A[N]=!1,A)}function W(N,X){E[N]!=X&&(X===""||X==null?(delete E[N],n(15,E)):n(15,E[N]=X,E))}function G(){return y.getElement()}function oe(N){ot[N?"unshift":"push"](()=>{y=N,n(13,y)})}return e.$$set=N=>{t=Ze(Ze({},t),Mn(N)),n(20,s=Ct(t,r)),"use"in N&&n(0,l=N.use),"class"in N&&n(1,c=N.class),"style"in N&&n(2,f=N.style),"ripple"in N&&n(3,u=N.ripple),"focusRing"in N&&n(4,d=N.focusRing),"color"in N&&n(5,h=N.color),"mini"in N&&n(6,p=N.mini),"exited"in N&&n(7,g=N.exited),"extended"in N&&n(8,m=N.extended),"touch"in N&&n(9,v=N.touch),"href"in N&&n(10,b=N.href),"component"in N&&n(11,w=N.component),"tag"in N&&n(12,S=N.tag),"$$scope"in N&&n(24,o=N.$$scope)},[l,c,f,u,d,h,p,g,m,v,b,w,S,y,A,E,a,R,H,W,s,G,i,oe,o]}class jU extends un{constructor(t){super(),fn(this,t,HU,zU,Qt,{use:0,class:1,style:2,ripple:3,focusRing:4,color:5,mini:6,exited:7,extended:8,touch:9,href:10,component:11,tag:12,getElement:21})}get getElement(){return this.$$.ctx[21]}}function Jp(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}function eg(e,t,n){const r=e.slice();return r[12]=t[n],r[31]=t,r[32]=n,r}function qU(e){let t;return{c(){t=Xr("download")},m(n,r){qe(n,t,r)},d(n){n&&He(t)}}}function XU(e){let t,n;return t=new U$({props:{class:"material-icons",$$slots:{default:[qU]},$$scope:{ctx:e}}}),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[1]&16&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function WU(e){let t=e[34]+"",n;return{c(){n=Xr(t)},m(r,s){qe(r,n,s)},p(r,s){s[1]&8&&t!==(t=r[34]+"")&&$i(n,t)},d(r){r&&He(n)}}}function YU(e){let t,n;return t=new R2({props:{$$slots:{default:[WU]},$$scope:{ctx:e}}}),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[1]&24&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function ZU(e){let t,n;return t=new aV({props:{tab:e[34],$$slots:{default:[YU]},$$scope:{ctx:e}}}),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.tab=r[34]),s[1]&24&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function KU(e){let t,n;return t=new G2({props:{variant:"unelevated",style:" height: 100%",$$slots:{default:[tz]},$$scope:{ctx:e}}}),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[0]&4096|s[1]&16&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function QU(e){let t,n,r=e[10]&&tg(e);return{c(){r&&r.c(),t=In()},m(s,i){r&&r.m(s,i),qe(s,t,i),n=!0},p(s,i){s[10]?r?(r.p(s,i),i[0]&1024&&ce(r,1)):(r=tg(s),r.c(),ce(r,1),r.m(t.parentNode,t)):r&&(tn(),pe(r,1,1,()=>{r=null}),nn())},i(s){n||(ce(r),n=!0)},o(s){pe(r),n=!1},d(s){r&&r.d(s),s&&He(t)}}}function JU(e){let t,n;return t=new G2({props:{variant:"unelevated",$$slots:{default:[nz]},$$scope:{ctx:e}}}),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[0]&1020|s[1]&16&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function ez(e){let t,n,r,s,i;function o(u){e[17](u)}let a={segments:e[13],singleSelect:!0,style:"margin: 1rem 0 0 1rem",$$slots:{default:[iz,({segment:u})=>({33:u}),({segment:u})=>[0,u?4:0]]},$$scope:{ctx:e}};e[11]!==void 0&&(a.selected=e[11]),t=new LV({props:a}),ot.push(()=>Vn(t,"selected",o));let l=e[0],c=[];for(let u=0;u<l.length;u+=1)c[u]=rg(Jp(e,l,u));const f=u=>pe(c[u],1,1,()=>{c[u]=null});return{c(){ht(t.$$.fragment),r=Lt(),s=kt("main");for(let u=0;u<c.length;u+=1)c[u].c();Ut(s,"class","svelte-1t0urev")},m(u,d){ut(t,u,d),qe(u,r,d),qe(u,s,d);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(s,null);i=!0},p(u,d){const h={};if(d[1]&20&&(h.$$scope={dirty:d,ctx:u}),!n&&d[0]&2048&&(n=!0,h.selected=u[11],$n(()=>n=!1)),t.$set(h),d[0]&10241){l=u[0];let p;for(p=0;p<l.length;p+=1){const g=Jp(u,l,p);c[p]?(c[p].p(g,d),ce(c[p],1)):(c[p]=rg(g),c[p].c(),ce(c[p],1),c[p].m(s,null))}for(tn(),p=l.length;p<c.length;p+=1)f(p);nn()}},i(u){if(!i){ce(t.$$.fragment,u);for(let d=0;d<l.length;d+=1)ce(c[d]);i=!0}},o(u){pe(t.$$.fragment,u),c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)pe(c[d]);i=!1},d(u){dt(t,u),u&&He(r),u&&He(s),ag(c,u)}}}function tz(e){let t,n;return t=new Hr({props:{style:"width: 100%; height: 100%",input$style:"width: 100%; height: 100%",class:"save-area",textarea:!0,value:e[12],label:"State",input$resizable:!1}}),t.$on("input",e[14]),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[0]&4096&&(i.value=r[12]),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function tg(e){let t,n;return t=new DS({props:{model:e[10]}}),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[0]&1024&&(i.model=r[10]),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function nz(e){let t,n,r,s,i,o,a,l,c,f,u,d,h,p,g,m,v,b,y,A,E,w,S,R,H,W;function G(ke){e[19](ke)}let oe={label:"Cell size",type:"number",min:"0"};e[2]!==void 0&&(oe.value=e[2]),t=new Hr({props:oe}),ot.push(()=>Vn(t,"value",G));function N(ke){e[20](ke)}let X={label:"Cell spacing",type:"number",min:"0"};e[3]!==void 0&&(X.value=e[3]),s=new Hr({props:X}),ot.push(()=>Vn(s,"value",N));function Ee(ke){e[21](ke)}let te={label:"Height",type:"number",min:"0"};e[4]!==void 0&&(te.value=e[4]),a=new Hr({props:te}),ot.push(()=>Vn(a,"value",Ee));function U(ke){e[22](ke)}let fe={label:"Cap radius",type:"number",min:"0"};e[5]!==void 0&&(fe.value=e[5]),f=new Hr({props:fe}),ot.push(()=>Vn(f,"value",U));function _e(ke){e[23](ke)}let Xe={label:"X1",type:"number",min:"0"};e[6]!==void 0&&(Xe.value=e[6]),g=new Hr({props:Xe}),ot.push(()=>Vn(g,"value",_e));function Pt(ke){e[24](ke)}let Fe={label:"Y1",type:"number",min:"0"};e[7]!==void 0&&(Fe.value=e[7]),b=new Hr({props:Fe}),ot.push(()=>Vn(b,"value",Pt));function Tt(ke){e[25](ke)}let Wt={label:"X2",type:"number",min:"0"};e[8]!==void 0&&(Wt.value=e[8]),E=new Hr({props:Wt}),ot.push(()=>Vn(E,"value",Tt));function Vt(ke){e[26](ke)}let On={label:"Y2",type:"number",min:"0"};return e[9]!==void 0&&(On.value=e[9]),R=new Hr({props:On}),ot.push(()=>Vn(R,"value",Vt)),{c(){ht(t.$$.fragment),r=Lt(),ht(s.$$.fragment),o=Lt(),ht(a.$$.fragment),c=Lt(),ht(f.$$.fragment),d=Lt(),h=kt("div"),h.textContent="Wall mount holes",p=Lt(),ht(g.$$.fragment),v=Lt(),ht(b.$$.fragment),A=Lt(),ht(E.$$.fragment),S=Lt(),ht(R.$$.fragment),Ut(h,"class","mdc-typography--subtitle1"),Vs(h,"margin-top","1rem")},m(ke,Ie){ut(t,ke,Ie),qe(ke,r,Ie),ut(s,ke,Ie),qe(ke,o,Ie),ut(a,ke,Ie),qe(ke,c,Ie),ut(f,ke,Ie),qe(ke,d,Ie),qe(ke,h,Ie),qe(ke,p,Ie),ut(g,ke,Ie),qe(ke,v,Ie),ut(b,ke,Ie),qe(ke,A,Ie),ut(E,ke,Ie),qe(ke,S,Ie),ut(R,ke,Ie),W=!0},p(ke,Ie){const Ne={};!n&&Ie[0]&4&&(n=!0,Ne.value=ke[2],$n(()=>n=!1)),t.$set(Ne);const dn={};!i&&Ie[0]&8&&(i=!0,dn.value=ke[3],$n(()=>i=!1)),s.$set(dn);const Yr={};!l&&Ie[0]&16&&(l=!0,Yr.value=ke[4],$n(()=>l=!1)),a.$set(Yr);const Zr={};!u&&Ie[0]&32&&(u=!0,Zr.value=ke[5],$n(()=>u=!1)),f.$set(Zr);const bs={};!m&&Ie[0]&64&&(m=!0,bs.value=ke[6],$n(()=>m=!1)),g.$set(bs);const gr={};!y&&Ie[0]&128&&(y=!0,gr.value=ke[7],$n(()=>y=!1)),b.$set(gr);const vr={};!w&&Ie[0]&256&&(w=!0,vr.value=ke[8],$n(()=>w=!1)),E.$set(vr);const Er={};!H&&Ie[0]&512&&(H=!0,Er.value=ke[9],$n(()=>H=!1)),R.$set(Er)},i(ke){W||(ce(t.$$.fragment,ke),ce(s.$$.fragment,ke),ce(a.$$.fragment,ke),ce(f.$$.fragment,ke),ce(g.$$.fragment,ke),ce(b.$$.fragment,ke),ce(E.$$.fragment,ke),ce(R.$$.fragment,ke),W=!0)},o(ke){pe(t.$$.fragment,ke),pe(s.$$.fragment,ke),pe(a.$$.fragment,ke),pe(f.$$.fragment,ke),pe(g.$$.fragment,ke),pe(b.$$.fragment,ke),pe(E.$$.fragment,ke),pe(R.$$.fragment,ke),W=!1},d(ke){dt(t,ke),ke&&He(r),dt(s,ke),ke&&He(o),dt(a,ke),ke&&He(c),dt(f,ke),ke&&He(d),ke&&He(h),ke&&He(p),dt(g,ke),ke&&He(v),dt(b,ke),ke&&He(A),dt(E,ke),ke&&He(S),dt(R,ke)}}}function rz(e){let t=e[33]+"",n;return{c(){n=Xr(t)},m(r,s){qe(r,n,s)},p(r,s){s[1]&4&&t!==(t=r[33]+"")&&$i(n,t)},d(r){r&&He(n)}}}function sz(e){let t,n;return t=new R2({props:{$$slots:{default:[rz]},$$scope:{ctx:e}}}),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[1]&20&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function iz(e){let t,n;return t=new MV({props:{segment:e[33],$$slots:{default:[sz]},$$scope:{ctx:e}}}),{c(){ht(t.$$.fragment)},m(r,s){ut(t,r,s),n=!0},p(r,s){const i={};s[1]&4&&(i.segment=r[33]),s[1]&20&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ce(t.$$.fragment,r),n=!0)},o(r){pe(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function ng(e){let t,n,r;function s(o){e[18](o,e[12],e[31],e[32])}let i={x:e[32],y:e[30],mode:e[13].indexOf(e[11])};return e[12]!==void 0&&(i.value=e[12]),t=new Gy({props:i}),ot.push(()=>Vn(t,"value",s)),{c(){ht(t.$$.fragment)},m(o,a){ut(t,o,a),r=!0},p(o,a){e=o;const l={};a[0]&2048&&(l.mode=e[13].indexOf(e[11])),!n&&a[0]&1&&(n=!0,l.value=e[12],$n(()=>n=!1)),t.$set(l)},i(o){r||(ce(t.$$.fragment,o),r=!0)},o(o){pe(t.$$.fragment,o),r=!1},d(o){dt(t,o)}}}function rg(e){let t,n,r=e[28],s=[];for(let o=0;o<r.length;o+=1)s[o]=ng(eg(e,r,o));const i=o=>pe(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=In()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);qe(o,t,a),n=!0},p(o,a){if(a[0]&10241){r=o[28];let l;for(l=0;l<r.length;l+=1){const c=eg(o,r,l);s[l]?(s[l].p(c,a),ce(s[l],1)):(s[l]=ng(c),s[l].c(),ce(s[l],1),s[l].m(t.parentNode,t))}for(tn(),l=r.length;l<s.length;l+=1)i(l);nn()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)ce(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)pe(s[a]);n=!1},d(o){ag(s,o),o&&He(t)}}}function oz(e){let t,n,r,s,i,o,a,l,c,f;t=new jU({props:{color:"primary",style:"position: fixed; right: 1rem; bottom: 1rem; z-index: 1",$$slots:{default:[XU]},$$scope:{ctx:e}}}),t.$on("click",e[15]);function u(m){e[16](m)}let d={tabs:["Parameters","Design","Preview","Load/Save"],$$slots:{default:[ZU,({tab:m})=>({34:m}),({tab:m})=>[0,m?8:0]]},$$scope:{ctx:e}};e[1]!==void 0&&(d.active=e[1]),r=new SV({props:d}),ot.push(()=>Vn(r,"active",u));const h=[ez,JU,QU,KU],p=[];function g(m,v){return m[1]==="Design"?0:m[1]==="Parameters"?1:m[1]==="Preview"?2:m[1]==="Load/Save"?3:-1}return~(o=g(e))&&(a=p[o]=h[o](e)),{c(){ht(t.$$.fragment),n=Lt(),ht(r.$$.fragment),i=Lt(),a&&a.c(),l=Lt(),c=kt("header"),c.innerHTML="<section></section>"},m(m,v){ut(t,m,v),qe(m,n,v),ut(r,m,v),qe(m,i,v),~o&&p[o].m(m,v),qe(m,l,v),qe(m,c,v),f=!0},p(m,v){const b={};v[1]&16&&(b.$$scope={dirty:v,ctx:m}),t.$set(b);const y={};v[1]&24&&(y.$$scope={dirty:v,ctx:m}),!s&&v[0]&2&&(s=!0,y.active=m[1],$n(()=>s=!1)),r.$set(y);let A=o;o=g(m),o===A?~o&&p[o].p(m,v):(a&&(tn(),pe(p[A],1,1,()=>{p[A]=null}),nn()),~o?(a=p[o],a?a.p(m,v):(a=p[o]=h[o](m),a.c()),ce(a,1),a.m(l.parentNode,l)):a=null)},i(m){f||(ce(t.$$.fragment,m),ce(r.$$.fragment,m),ce(a),f=!0)},o(m){pe(t.$$.fragment,m),pe(r.$$.fragment,m),pe(a),f=!1},d(m){dt(t,m),m&&He(n),dt(r,m),m&&He(i),~o&&p[o].d(m),m&&He(l),m&&He(c)}}}function az(e,t,n){let r,s=g$,i="Design",o="vacant",a=17.3,l=4.5,c=22,f=1.5,u=90.8,d=120,h=246.5,p=120;const g=["clear","hole","vacant","occupied"];function m(Ee){n(0,{model:s,cellSize:a,cellSpacing:l,height:c,radius:f,kc1x:u,kc1y:d,kc2x:h,kc2y:p}=JSON.parse(Ee.target.value),s,n(2,a),n(3,l),n(4,c),n(5,f),n(6,u),n(7,d),n(8,h),n(9,p))}function v(){p$.saveAs(new Blob(m$.serialize({binary:!0},y())),"model.stl")}let b;function y(){return _$(s,a,l,c,f,u&&d&&h&&p?[[u,d],[h,p]]:void 0)}function A(Ee){i=Ee,n(1,i)}function E(Ee){o=Ee,n(11,o)}function w(Ee,te,U,fe){U[fe]=Ee,n(0,s)}function S(Ee){a=Ee,n(2,a)}function R(Ee){l=Ee,n(3,l)}function H(Ee){c=Ee,n(4,c)}function W(Ee){f=Ee,n(5,f)}function G(Ee){u=Ee,n(6,u)}function oe(Ee){d=Ee,n(7,d)}function N(Ee){h=Ee,n(8,h)}function X(Ee){p=Ee,n(9,p)}return e.$$.update=()=>{e.$$.dirty[0]&1021&&n(12,r=JSON.stringify({model:s,cellSize:a,cellSpacing:l,height:c,radius:f,kc1x:u,kc1y:d,kc2x:h,kc2y:p})),e.$$.dirty[0]&1026&&i==="Preview"&&(n(10,b=y()),n(10,b=ft.transforms.rotateZ(Math.PI,ft.transforms.center({},b))))},[s,i,a,l,c,f,u,d,h,p,b,o,r,g,m,v,A,E,w,S,R,H,W,G,oe,N,X]}class lz extends un{constructor(t){super(),fn(this,t,az,oz,Qt,{},null,[-1,-1])}}new lz({target:document.getElementById("app")});
