(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function an(){}function je(e,t){for(const n in t)e[n]=t[n];return e}function yg(e){return e()}function h1(){return Object.create(null)}function ln(e){e.forEach(yg)}function Vt(e){return typeof e=="function"}function Ut(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function $y(e){return Object.keys(e).length===0}function Vy(e,...t){if(e==null)return an;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function xo(e,t,n){e.$$.on_destroy.push(Vy(t,n))}function kt(e,t,n,r){if(e){const s=Ag(e,t,n,r);return e[0](s)}}function Ag(e,t,n,r){return e[1]&&r?je(n.ctx.slice(),e[1](r(t))):n.ctx}function Gt(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(t.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=t.dirty[a]|s[a];return i}return t.dirty|s}return t.dirty}function Bt(e,t,n,r,s,i){if(s){const o=Ag(t,n,r,i);e.p(o,s)}}function Nt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function bn(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function wt(e,t){const n={};t=new Set(t);for(const r in e)!t.has(r)&&r[0]!=="$"&&(n[r]=e[r]);return n}function Uy(e){const t={};for(const n in e)t[n]=!0;return t}function Sg(e,t,n){return e.set(n),t}function St(e){return e&&Vt(e.destroy)?e.destroy:an}function En(e,t){e.appendChild(t)}function Le(e,t,n){e.insertBefore(t,n||null)}function Pe(e){e.parentNode&&e.parentNode.removeChild(e)}function Eg(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Tt(e){return document.createElement(e)}function Iu(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Qn(e){return document.createTextNode(e)}function At(){return Qn(" ")}function hn(){return Qn("")}function Rt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Hy(e){return function(t){return t.preventDefault(),e.call(this,t)}}function zy(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Dt(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const jy=["width","height"];function Lt(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)t[r]==null?e.removeAttribute(r):r==="style"?e.style.cssText=t[r]:r==="__value"?e.value=e[r]=t[r]:n[r]&&n[r].set&&jy.indexOf(r)===-1?e[r]=t[r]:Dt(e,r,t[r])}function m1(e,t){for(const n in t)Dt(e,n,t[n])}function qy(e,t){Object.keys(t).forEach(n=>{Xy(e,n,t[n])})}function Xy(e,t,n){t in e?e[t]=typeof e[t]=="boolean"&&n===""?!0:n:Dt(e,t,n)}function vl(e){return/-/.test(e)?qy:Lt}function Wy(e){return Array.from(e.childNodes)}function Qs(e,t){t=""+t,e.data!==t&&(e.data=t)}function p1(e,t){e.value=t??""}function Hs(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function pr(e,t){return new e(t)}let Bo;function ko(e){Bo=e}function rn(){if(!Bo)throw new Error("Function called outside component initialization");return Bo}function ir(e){rn().$$.on_mount.push(e)}function Yu(e){rn().$$.on_destroy.push(e)}function ur(e,t){return rn().$$.context.set(e,t),t}function dr(e){return rn().$$.context.get(e)}function No(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Mi=[],lt=[];let Fi=[];const Du=[],wg=Promise.resolve();let Fu=!1;function Tg(){Fu||(Fu=!0,wg.then(Cg))}function Yy(){return Tg(),wg}function xu(e){Fi.push(e)}function Bn(e){Du.push(e)}const bf=new Set;let _i=0;function Cg(){if(_i!==0)return;const e=Bo;do{try{for(;_i<Mi.length;){const t=Mi[_i];_i++,ko(t),Zy(t.$$)}}catch(t){throw Mi.length=0,_i=0,t}for(ko(null),Mi.length=0,_i=0;lt.length;)lt.pop()();for(let t=0;t<Fi.length;t+=1){const n=Fi[t];bf.has(n)||(bf.add(n),n())}Fi.length=0}while(Mi.length);for(;Du.length;)Du.pop()();Fu=!1,bf.clear(),ko(e)}function Zy(e){if(e.fragment!==null){e.update(),ln(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(xu)}}function Ky(e){const t=[],n=[];Fi.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Fi=t}const hl=new Set;let Xs;function Yt(){Xs={r:0,c:[],p:Xs}}function Zt(){Xs.r||ln(Xs.c),Xs=Xs.p}function se(e,t){e&&e.i&&(hl.delete(e),e.i(t))}function fe(e,t,n,r){if(e&&e.o){if(hl.has(e))return;hl.add(e),Xs.c.push(()=>{hl.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Pg(e,t){fe(e,1,1,()=>{t.delete(e.key)})}function Lg(e,t,n,r,s,i,o,a,l,c,f,u){let h=e.length,d=i.length,g=h;const p={};for(;g--;)p[e[g].key]=g;const m=[],v=new Map,b=new Map,y=[];for(g=d;g--;){const A=u(s,i,g),O=n(A);let U=o.get(O);U?r&&y.push(()=>U.p(A,t)):(U=c(O,A),U.c()),v.set(O,m[g]=U),O in p&&b.set(O,Math.abs(g-p[O]))}const S=new Set,w=new Set;function E(A){se(A,1),A.m(a,f),o.set(A.key,A),f=A.first,d--}for(;h&&d;){const A=m[d-1],O=e[h-1],U=A.key,N=O.key;A===O?(f=A.first,h--,d--):v.has(N)?!o.has(U)||S.has(U)?E(A):w.has(N)?h--:b.get(U)>b.get(N)?(w.add(U),E(A)):(S.add(N),h--):(l(O,o),h--)}for(;h--;){const A=e[h];v.has(A.key)||l(A,o)}for(;d;)E(m[d-1]);return ln(y),m}function Ot(e,t){const n={},r={},s={$$scope:1};let i=e.length;for(;i--;){const o=e[i],a=t[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);e[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function on(e){return typeof e=="object"&&e!==null?e:{}}function Nn(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function tt(e){e&&e.c()}function Je(e,t,n,r){const{fragment:s,after_update:i}=e.$$;s&&s.m(t,n),r||xu(()=>{const o=e.$$.on_mount.map(yg).filter(Vt);e.$$.on_destroy?e.$$.on_destroy.push(...o):ln(o),e.$$.on_mount=[]}),i.forEach(xu)}function et(e,t){const n=e.$$;n.fragment!==null&&(Ky(n.after_update),ln(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Qy(e,t){e.$$.dirty[0]===-1&&(Mi.push(e),Tg(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Jt(e,t,n,r,s,i,o,a=[-1]){const l=Bo;ko(e);const c=e.$$={fragment:null,ctx:[],props:i,update:an,not_equal:s,bound:h1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:h1(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(e,t.props||{},(u,h,...d)=>{const g=d.length?d[0]:h;return c.ctx&&s(c.ctx[u],c.ctx[u]=g)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](g),f&&Qy(e,u)),h}):[],c.update(),f=!0,ln(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const u=Wy(t.target);c.fragment&&c.fragment.l(u),u.forEach(Pe)}else c.fragment&&c.fragment.c();t.intro&&se(e.$$.fragment),Je(e,t.target,t.anchor,t.customElement),Cg()}ko(l)}class en{$destroy(){et(this,1),this.$destroy=an}$on(t,n){if(!Vt(n))return an;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!$y(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Jy(e){let t,n,r,s,i,o,a;return{c(){t=Iu("svg"),n=Iu("polygon"),Dt(n,"points","300,150 225,280 75,280 0,150 75,20 225,20"),Dt(n,"fill",r=["white","#eee","yellow","orange"][e[0]]),Dt(n,"stroke",s=e[0]?"black":"silver"),Dt(n,"stroke-width",i=e[0]?10:2),Dt(t,"width","50"),Dt(t,"viewBox","-5 15 310 290"),Hs(t,"left",e[2]/2),Hs(t,"top",e[1]/2),Hs(t,"z-index",e[0]?1:0),Dt(t,"class","svelte-1nr73ai")},m(l,c){Le(l,t,c),En(t,n),o||(a=Rt(n,"click",e[3]),o=!0)},p(l,[c]){c&1&&r!==(r=["white","#eee","yellow","orange"][l[0]])&&Dt(n,"fill",r),c&1&&s!==(s=l[0]?"black":"silver")&&Dt(n,"stroke",s),c&1&&i!==(i=l[0]?10:2)&&Dt(n,"stroke-width",i),c&4&&Hs(t,"left",l[2]/2),c&2&&Hs(t,"top",l[1]/2),c&1&&Hs(t,"z-index",l[0]?1:0)},i:an,o:an,d(l){l&&Pe(t),o=!1,a()}}}function e5(e,t,n){let r,s,{x:i}=t,{y:o}=t,{value:a}=t,{mode:l}=t;function c(){n(0,a=l)}return e.$$set=f=>{"x"in f&&n(4,i=f.x),"y"in f&&n(5,o=f.y),"value"in f&&n(0,a=f.value),"mode"in f&&n(6,l=f.mode)},e.$$.update=()=>{e.$$.dirty&16&&n(2,r=i*72.7),e.$$.dirty&48&&n(1,s=(19-o)*83.5+(i%2?0:41.7))},[a,s,r,c,i,o,l]}class t5 extends en{constructor(t){super(),Jt(this,t,e5,Jy,Ut,{x:4,y:5,value:0,mode:6})}}var zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Og={exports:{}};/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/material-components/material-components-web/blob/master/LICENSE
 */(function(e,t){(function(r,s){e.exports=s()})(zs,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(o&1&&(i=s(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var l in i)s.d(a,l,function(c){return i[c]}.bind(null,l));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s="./packages/mdc-segmented-button/index.ts")}({"./packages/mdc-base/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__read||function(c,f){var u=typeof Symbol=="function"&&c[Symbol.iterator];if(!u)return c;var h=u.call(c),d,g=[],p;try{for(;(f===void 0||f-- >0)&&!(d=h.next()).done;)g.push(d.value)}catch(m){p={error:m}}finally{try{d&&!d.done&&(u=h.return)&&u.call(h)}finally{if(p)throw p.error}}return g},o=this&&this.__spreadArray||function(c,f){for(var u=0,h=f.length,d=c.length;u<h;u++,d++)c[d]=f[u];return c};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCComponent=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=function(){function c(f,u){for(var h=[],d=2;d<arguments.length;d++)h[d-2]=arguments[d];this.root=f,this.initialize.apply(this,o([],i(h))),this.foundation=u===void 0?this.getDefaultFoundation():u,this.foundation.init(),this.initialSyncWithDOM()}return c.attachTo=function(f){return new c(f,new a.MDCFoundation({}))},c.prototype.initialize=function(){},c.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},c.prototype.initialSyncWithDOM=function(){},c.prototype.destroy=function(){this.foundation.destroy()},c.prototype.listen=function(f,u,h){this.root.addEventListener(f,u,h)},c.prototype.unlisten=function(f,u,h){this.root.removeEventListener(f,u,h)},c.prototype.emit=function(f,u,h){h===void 0&&(h=!1);var d;typeof CustomEvent=="function"?d=new CustomEvent(f,{bubbles:h,detail:u}):(d=document.createEvent("CustomEvent"),d.initCustomEvent(f,h,!1,u)),this.root.dispatchEvent(d)},c}();r.MDCComponent=l,r.default=l},"./packages/mdc-base/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.MDCFoundation=void 0;var i=function(){function o(a){a===void 0&&(a={}),this.adapter=a}return Object.defineProperty(o,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.destroy=function(){},o}();r.MDCFoundation=i,r.default=i},"./packages/mdc-dom/events.ts":function(n,r,s){/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.applyPassive=void 0;function i(a){return a===void 0&&(a=window),o(a)?{passive:!0}:!1}r.applyPassive=i;function o(a){a===void 0&&(a=window);var l=!1;try{var c={get passive(){return l=!0,!1}},f=function(){};a.document.addEventListener("test",f,c),a.document.removeEventListener("test",f,c)}catch{l=!1}return l}},"./packages/mdc-dom/ponyfill.ts":function(n,r,s){/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.estimateScrollWidth=r.matches=r.closest=void 0;function i(l,c){if(l.closest)return l.closest(c);for(var f=l;f;){if(o(f,c))return f;f=f.parentElement}return null}r.closest=i;function o(l,c){var f=l.matches||l.webkitMatchesSelector||l.msMatchesSelector;return f.call(l,c)}r.matches=o;function a(l){var c=l;if(c.offsetParent!==null)return c.scrollWidth;var f=c.cloneNode(!0);f.style.setProperty("position","absolute"),f.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(f);var u=f.scrollWidth;return document.documentElement.removeChild(f),u}r.estimateScrollWidth=a},"./packages/mdc-ripple/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var p=function(v,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(y[w]=S[w])},p(v,b)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__createBinding||(Object.create?function(p,m,v,b){b===void 0&&(b=v),Object.defineProperty(p,b,{enumerable:!0,get:function(){return m[v]}})}:function(p,m,v,b){b===void 0&&(b=v),p[b]=m[v]}),a=this&&this.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),l=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var v in p)v!=="default"&&Object.prototype.hasOwnProperty.call(p,v)&&o(m,p,v);return a(m,p),m};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRipple=void 0;var c=s("./packages/mdc-base/component.ts"),f=s("./packages/mdc-dom/events.ts"),u=s("./packages/mdc-dom/ponyfill.ts"),h=s("./packages/mdc-ripple/foundation.ts"),d=l(s("./packages/mdc-ripple/util.ts")),g=function(p){i(m,p);function m(){var v=p!==null&&p.apply(this,arguments)||this;return v.disabled=!1,v}return m.attachTo=function(v,b){b===void 0&&(b={isUnbounded:void 0});var y=new m(v);return b.isUnbounded!==void 0&&(y.unbounded=b.isUnbounded),y},m.createAdapter=function(v){return{addClass:function(y){return v.root.classList.add(y)},browserSupportsCssVars:function(){return d.supportsCssVariables(window)},computeBoundingRect:function(){return v.root.getBoundingClientRect()},containsEventTarget:function(y){return v.root.contains(y)},deregisterDocumentInteractionHandler:function(y,S){return document.documentElement.removeEventListener(y,S,f.applyPassive())},deregisterInteractionHandler:function(y,S){return v.root.removeEventListener(y,S,f.applyPassive())},deregisterResizeHandler:function(y){return window.removeEventListener("resize",y)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return u.matches(v.root,":active")},isSurfaceDisabled:function(){return!!v.disabled},isUnbounded:function(){return!!v.unbounded},registerDocumentInteractionHandler:function(y,S){return document.documentElement.addEventListener(y,S,f.applyPassive())},registerInteractionHandler:function(y,S){return v.root.addEventListener(y,S,f.applyPassive())},registerResizeHandler:function(y){return window.addEventListener("resize",y)},removeClass:function(y){return v.root.classList.remove(y)},updateCssVariable:function(y,S){return v.root.style.setProperty(y,S)}}},Object.defineProperty(m.prototype,"unbounded",{get:function(){return!!this.isUnbounded},set:function(b){this.isUnbounded=!!b,this.setUnbounded()},enumerable:!1,configurable:!0}),m.prototype.activate=function(){this.foundation.activate()},m.prototype.deactivate=function(){this.foundation.deactivate()},m.prototype.layout=function(){this.foundation.layout()},m.prototype.getDefaultFoundation=function(){return new h.MDCRippleFoundation(m.createAdapter(this))},m.prototype.initialSyncWithDOM=function(){var v=this.root;this.isUnbounded="mdcRippleIsUnbounded"in v.dataset},m.prototype.setUnbounded=function(){this.foundation.setUnbounded(!!this.isUnbounded)},m}(c.MDCComponent);r.MDCRipple=g},"./packages/mdc-ripple/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.numbers=r.strings=r.cssClasses=void 0,r.cssClasses={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},r.strings={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},r.numbers={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300}},"./packages/mdc-ripple/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var p=function(v,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(y[w]=S[w])},p(v,b)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(p){for(var m,v=1,b=arguments.length;v<b;v++){m=arguments[v];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(p[y]=m[y])}return p},o.apply(this,arguments)},a=this&&this.__values||function(p){var m=typeof Symbol=="function"&&Symbol.iterator,v=m&&p[m],b=0;if(v)return v.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&b>=p.length&&(p=void 0),{value:p&&p[b++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRippleFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-ripple/constants.ts"),f=s("./packages/mdc-ripple/util.ts"),u=["touchstart","pointerdown","mousedown","keydown"],h=["touchend","pointerup","mouseup","contextmenu"],d=[],g=function(p){i(m,p);function m(v){var b=p.call(this,o(o({},m.defaultAdapter),v))||this;return b.activationAnimationHasEnded=!1,b.activationTimer=0,b.fgDeactivationRemovalTimer=0,b.fgScale="0",b.frame={width:0,height:0},b.initialSize=0,b.layoutFrame=0,b.maxRadius=0,b.unboundedCoords={left:0,top:0},b.activationState=b.defaultActivationState(),b.activationTimerCallback=function(){b.activationAnimationHasEnded=!0,b.runDeactivationUXLogicIfReady()},b.activateHandler=function(y){b.activateImpl(y)},b.deactivateHandler=function(){b.deactivateImpl()},b.focusHandler=function(){b.handleFocus()},b.blurHandler=function(){b.handleBlur()},b.resizeHandler=function(){b.layout()},b}return Object.defineProperty(m,"cssClasses",{get:function(){return c.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(m,"strings",{get:function(){return c.strings},enumerable:!1,configurable:!0}),Object.defineProperty(m,"numbers",{get:function(){return c.numbers},enumerable:!1,configurable:!0}),Object.defineProperty(m,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),m.prototype.init=function(){var v=this,b=this.supportsPressRipple();if(this.registerRootHandlers(b),b){var y=m.cssClasses,S=y.ROOT,w=y.UNBOUNDED;requestAnimationFrame(function(){v.adapter.addClass(S),v.adapter.isUnbounded()&&(v.adapter.addClass(w),v.layoutInternal())})}},m.prototype.destroy=function(){var v=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(m.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(m.cssClasses.FG_DEACTIVATION));var b=m.cssClasses,y=b.ROOT,S=b.UNBOUNDED;requestAnimationFrame(function(){v.adapter.removeClass(y),v.adapter.removeClass(S),v.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},m.prototype.activate=function(v){this.activateImpl(v)},m.prototype.deactivate=function(){this.deactivateImpl()},m.prototype.layout=function(){var v=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){v.layoutInternal(),v.layoutFrame=0})},m.prototype.setUnbounded=function(v){var b=m.cssClasses.UNBOUNDED;v?this.adapter.addClass(b):this.adapter.removeClass(b)},m.prototype.handleFocus=function(){var v=this;requestAnimationFrame(function(){return v.adapter.addClass(m.cssClasses.BG_FOCUSED)})},m.prototype.handleBlur=function(){var v=this;requestAnimationFrame(function(){return v.adapter.removeClass(m.cssClasses.BG_FOCUSED)})},m.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},m.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},m.prototype.registerRootHandlers=function(v){var b,y;if(v){try{for(var S=a(u),w=S.next();!w.done;w=S.next()){var E=w.value;this.adapter.registerInteractionHandler(E,this.activateHandler)}}catch(A){b={error:A}}finally{try{w&&!w.done&&(y=S.return)&&y.call(S)}finally{if(b)throw b.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},m.prototype.registerDeactivationHandlers=function(v){var b,y;if(v.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var S=a(h),w=S.next();!w.done;w=S.next()){var E=w.value;this.adapter.registerDocumentInteractionHandler(E,this.deactivateHandler)}}catch(A){b={error:A}}finally{try{w&&!w.done&&(y=S.return)&&y.call(S)}finally{if(b)throw b.error}}},m.prototype.deregisterRootHandlers=function(){var v,b;try{for(var y=a(u),S=y.next();!S.done;S=y.next()){var w=S.value;this.adapter.deregisterInteractionHandler(w,this.activateHandler)}}catch(E){v={error:E}}finally{try{S&&!S.done&&(b=y.return)&&b.call(y)}finally{if(v)throw v.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},m.prototype.deregisterDeactivationHandlers=function(){var v,b;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var y=a(h),S=y.next();!S.done;S=y.next()){var w=S.value;this.adapter.deregisterDocumentInteractionHandler(w,this.deactivateHandler)}}catch(E){v={error:E}}finally{try{S&&!S.done&&(b=y.return)&&b.call(y)}finally{if(v)throw v.error}}},m.prototype.removeCssVars=function(){var v=this,b=m.strings,y=Object.keys(b);y.forEach(function(S){S.indexOf("VAR_")===0&&v.adapter.updateCssVariable(b[S],null)})},m.prototype.activateImpl=function(v){var b=this;if(!this.adapter.isSurfaceDisabled()){var y=this.activationState;if(!y.isActivated){var S=this.previousActivationEvent,w=S&&v!==void 0&&S.type!==v.type;if(!w){y.isActivated=!0,y.isProgrammatic=v===void 0,y.activationEvent=v,y.wasActivatedByPointer=y.isProgrammatic?!1:v!==void 0&&(v.type==="mousedown"||v.type==="touchstart"||v.type==="pointerdown");var E=v!==void 0&&d.length>0&&d.some(function(A){return b.adapter.containsEventTarget(A)});if(E){this.resetActivationState();return}v!==void 0&&(d.push(v.target),this.registerDeactivationHandlers(v)),y.wasElementMadeActive=this.checkElementMadeActive(v),y.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){d=[],!y.wasElementMadeActive&&v!==void 0&&(v.key===" "||v.keyCode===32)&&(y.wasElementMadeActive=b.checkElementMadeActive(v),y.wasElementMadeActive&&b.animateActivation()),y.wasElementMadeActive||(b.activationState=b.defaultActivationState())})}}}},m.prototype.checkElementMadeActive=function(v){return v!==void 0&&v.type==="keydown"?this.adapter.isSurfaceActive():!0},m.prototype.animateActivation=function(){var v=this,b=m.strings,y=b.VAR_FG_TRANSLATE_START,S=b.VAR_FG_TRANSLATE_END,w=m.cssClasses,E=w.FG_DEACTIVATION,A=w.FG_ACTIVATION,O=m.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var U="",N="";if(!this.adapter.isUnbounded()){var x=this.getFgTranslationCoordinates(),le=x.startPoint,$=x.endPoint;U=le.x+"px, "+le.y+"px",N=$.x+"px, "+$.y+"px"}this.adapter.updateCssVariable(y,U),this.adapter.updateCssVariable(S,N),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(E),this.adapter.computeBoundingRect(),this.adapter.addClass(A),this.activationTimer=setTimeout(function(){v.activationTimerCallback()},O)},m.prototype.getFgTranslationCoordinates=function(){var v=this.activationState,b=v.activationEvent,y=v.wasActivatedByPointer,S;y?S=f.getNormalizedEventCoords(b,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):S={x:this.frame.width/2,y:this.frame.height/2},S={x:S.x-this.initialSize/2,y:S.y-this.initialSize/2};var w={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:S,endPoint:w}},m.prototype.runDeactivationUXLogicIfReady=function(){var v=this,b=m.cssClasses.FG_DEACTIVATION,y=this.activationState,S=y.hasDeactivationUXRun,w=y.isActivated,E=S||!w;E&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(b),this.fgDeactivationRemovalTimer=setTimeout(function(){v.adapter.removeClass(b)},c.numbers.FG_DEACTIVATION_MS))},m.prototype.rmBoundedActivationClasses=function(){var v=m.cssClasses.FG_ACTIVATION;this.adapter.removeClass(v),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},m.prototype.resetActivationState=function(){var v=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return v.previousActivationEvent=void 0},m.numbers.TAP_DELAY_MS)},m.prototype.deactivateImpl=function(){var v=this,b=this.activationState;if(b.isActivated){var y=o({},b);b.isProgrammatic?(requestAnimationFrame(function(){v.animateDeactivation(y)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){v.activationState.hasDeactivationUXRun=!0,v.animateDeactivation(y),v.resetActivationState()}))}},m.prototype.animateDeactivation=function(v){var b=v.wasActivatedByPointer,y=v.wasElementMadeActive;(b||y)&&this.runDeactivationUXLogicIfReady()},m.prototype.layoutInternal=function(){var v=this;this.frame=this.adapter.computeBoundingRect();var b=Math.max(this.frame.height,this.frame.width),y=function(){var E=Math.sqrt(Math.pow(v.frame.width,2)+Math.pow(v.frame.height,2));return E+m.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?b:y();var S=Math.floor(b*m.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&S%2!==0?this.initialSize=S-1:this.initialSize=S,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},m.prototype.updateLayoutCssVars=function(){var v=m.strings,b=v.VAR_FG_SIZE,y=v.VAR_LEFT,S=v.VAR_TOP,w=v.VAR_FG_SCALE;this.adapter.updateCssVariable(b,this.initialSize+"px"),this.adapter.updateCssVariable(w,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(y,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(S,this.unboundedCoords.top+"px"))},m}(l.MDCFoundation);r.MDCRippleFoundation=g,r.default=g},"./packages/mdc-ripple/util.ts":function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getNormalizedEventCoords=r.supportsCssVariables=void 0;var i;function o(l,c){c===void 0&&(c=!1);var f=l.CSS,u=i;if(typeof i=="boolean"&&!c)return i;var h=f&&typeof f.supports=="function";if(!h)return!1;var d=f.supports("--css-vars","yes"),g=f.supports("(--css-vars: yes)")&&f.supports("color","#00000000");return u=d||g,c||(i=u),u}r.supportsCssVariables=o;function a(l,c,f){if(!l)return{x:0,y:0};var u=c.x,h=c.y,d=u+f.left,g=h+f.top,p,m;if(l.type==="touchstart"){var v=l;p=v.changedTouches[0].pageX-d,m=v.changedTouches[0].pageY-g}else{var b=l;p=b.pageX-d,m=b.pageY-g}return{x:p,y:m}}r.getNormalizedEventCoords=a},"./packages/mdc-segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/index.ts"),r),o(s("./packages/mdc-segmented-button/segment/index.ts"),r),o(s("./packages/mdc-segmented-button/types.ts"),r)},"./packages/mdc-segmented-button/segment/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segment/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var d=function(p,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(v[y]=b[y])},d(p,m)};return function(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(g,p);function m(){this.constructor=g}g.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(d){for(var g,p=1,m=arguments.length;p<m;p++){g=arguments[p];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(d[v]=g[v])}return d},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegment=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-ripple/component.ts"),c=s("./packages/mdc-ripple/foundation.ts"),f=s("./packages/mdc-segmented-button/segment/constants.ts"),u=s("./packages/mdc-segmented-button/segment/foundation.ts"),h=function(d){i(g,d);function g(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(g.prototype,"ripple",{get:function(){return this.rippleComponent},enumerable:!1,configurable:!0}),g.attachTo=function(p){return new g(p)},g.prototype.initialize=function(p){var m=this;p===void 0&&(p=function(y,S){return new l.MDCRipple(y,S)});var v=o(o({},l.MDCRipple.createAdapter(this)),{computeBoundingRect:function(){return m.foundation.getDimensions()}});this.rippleComponent=p(this.root,new c.MDCRippleFoundation(v))},g.prototype.initialSyncWithDOM=function(){var p=this;this.handleClick=function(){p.foundation.handleClick()},this.listen(f.events.CLICK,this.handleClick)},g.prototype.destroy=function(){this.ripple.destroy(),this.unlisten(f.events.CLICK,this.handleClick),d.prototype.destroy.call(this)},g.prototype.getDefaultFoundation=function(){var p=this,m={isSingleSelect:function(){return p.isSingleSelect},getAttr:function(b){return p.root.getAttribute(b)},setAttr:function(b,y){p.root.setAttribute(b,y)},addClass:function(b){p.root.classList.add(b)},removeClass:function(b){p.root.classList.remove(b)},hasClass:function(b){return p.root.classList.contains(b)},notifySelectedChange:function(b){p.emit(f.events.SELECTED,{index:p.index,selected:b,segmentId:p.getSegmentId()},!0)},getRootBoundingClientRect:function(){return p.root.getBoundingClientRect()}};return new u.MDCSegmentedButtonSegmentFoundation(m)},g.prototype.setIndex=function(p){this.index=p},g.prototype.setIsSingleSelect=function(p){this.isSingleSelect=p},g.prototype.isSelected=function(){return this.foundation.isSelected()},g.prototype.setSelected=function(){this.foundation.setSelected()},g.prototype.setUnselected=function(){this.foundation.setUnselected()},g.prototype.getSegmentId=function(){return this.foundation.getSegmentId()},g}(a.MDCComponent);r.MDCSegmentedButtonSegment=h},"./packages/mdc-segmented-button/segment/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.attributes=r.booleans=void 0,r.booleans={TRUE:"true",FALSE:"false"},r.attributes={ARIA_CHECKED:"aria-checked",ARIA_PRESSED:"aria-pressed",DATA_SEGMENT_ID:"data-segment-id"},r.events={CLICK:"click",SELECTED:"selected"},r.cssClasses={SELECTED:"mdc-segmented-button__segment--selected"}},"./packages/mdc-segmented-button/segment/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(d,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(p[v]=m[v])},u(d,g)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(h,d);function g(){this.constructor=h}h.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var h,d=1,g=arguments.length;d<g;d++){h=arguments[d];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(u[p]=h[p])}return u},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegmentFoundation=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=s("./packages/mdc-segmented-button/segment/constants.ts"),c={bottom:0,height:0,left:0,right:0,top:0,width:0},f=function(u){i(h,u);function h(d){return u.call(this,o(o({},h.defaultAdapter),d))||this}return Object.defineProperty(h,"defaultAdapter",{get:function(){return{isSingleSelect:function(){return!1},getAttr:function(){return""},setAttr:function(){},addClass:function(){},removeClass:function(){},hasClass:function(){return!1},notifySelectedChange:function(){},getRootBoundingClientRect:function(){return c}}},enumerable:!1,configurable:!0}),h.prototype.isSelected=function(){return this.adapter.hasClass(l.cssClasses.SELECTED)},h.prototype.setSelected=function(){this.adapter.addClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.TRUE)},h.prototype.setUnselected=function(){this.adapter.removeClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.FALSE)},h.prototype.getSegmentId=function(){var d;return(d=this.adapter.getAttr(l.attributes.DATA_SEGMENT_ID))!==null&&d!==void 0?d:void 0},h.prototype.handleClick=function(){this.adapter.isSingleSelect()?this.setSelected():this.toggleSelection(),this.adapter.notifySelectedChange(this.isSelected())},h.prototype.getDimensions=function(){return this.adapter.getRootBoundingClientRect()},h.prototype.toggleSelection=function(){this.isSelected()?this.setUnselected():this.setSelected()},h.prototype.setAriaAttr=function(d){this.adapter.isSingleSelect()?this.adapter.setAttr(l.attributes.ARIA_CHECKED,d):this.adapter.setAttr(l.attributes.ARIA_PRESSED,d)},h}(a.MDCFoundation);r.MDCSegmentedButtonSegmentFoundation=f},"./packages/mdc-segmented-button/segment/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segment/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segment/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segment/component.ts"),r)},"./packages/mdc-segmented-button/segmented-button/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segmented-button/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var h=function(g,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])},h(g,p)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(d,g);function p(){this.constructor=d}d.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}(),o=this&&this.__values||function(h){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&h[d],p=0;if(g)return g.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&p>=h.length&&(h=void 0),{value:h&&h[p++],done:!h}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButton=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-segmented-button/segment/component.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),u=function(h){i(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.attachTo=function(g){return new d(g)},Object.defineProperty(d.prototype,"segments",{get:function(){return this.segmentsList.slice()},enumerable:!1,configurable:!0}),d.prototype.initialize=function(g){g===void 0&&(g=function(m){return new l.MDCSegmentedButtonSegment(m)}),this.segmentFactory=g,this.segmentsList=this.instantiateSegments(this.segmentFactory)},d.prototype.instantiateSegments=function(g){var p=[].slice.call(this.root.querySelectorAll(c.selectors.SEGMENT));return p.map(function(m){return g(m)})},d.prototype.initialSyncWithDOM=function(){var g=this;this.handleSelected=function(y){g.foundation.handleSelected(y.detail)},this.listen(c.events.SELECTED,this.handleSelected);for(var p=this.foundation.isSingleSelect(),m=0;m<this.segmentsList.length;m++){var v=this.segmentsList[m];v.setIndex(m),v.setIsSingleSelect(p)}var b=this.segmentsList.filter(function(y){return y.isSelected()});if(p&&b.length===0&&this.segmentsList.length>0)throw new Error("No segment selected in singleSelect mdc-segmented-button");if(p&&b.length>1)throw new Error("Multiple segments selected in singleSelect mdc-segmented-button")},d.prototype.destroy=function(){var g,p;try{for(var m=o(this.segmentsList),v=m.next();!v.done;v=m.next()){var b=v.value;b.destroy()}}catch(y){g={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(g)throw g.error}}this.unlisten(c.events.SELECTED,this.handleSelected),h.prototype.destroy.call(this)},d.prototype.getDefaultFoundation=function(){var g=this,p={hasClass:function(v){return g.root.classList.contains(v)},getSegments:function(){return g.mappedSegments()},selectSegment:function(v){var b=g.mappedSegments().find(function(y){return y.index===v||y.segmentId===v});b&&g.segmentsList[b.index].setSelected()},unselectSegment:function(v){var b=g.mappedSegments().find(function(y){return y.index===v||y.segmentId===v});b&&g.segmentsList[b.index].setUnselected()},notifySelectedChange:function(v){g.emit(c.events.CHANGE,v,!0)}};return new f.MDCSegmentedButtonFoundation(p)},d.prototype.getSelectedSegments=function(){return this.foundation.getSelectedSegments()},d.prototype.selectSegment=function(g){this.foundation.selectSegment(g)},d.prototype.unselectSegment=function(g){this.foundation.unselectSegment(g)},d.prototype.isSegmentSelected=function(g){return this.foundation.isSegmentSelected(g)},d.prototype.mappedSegments=function(){return this.segmentsList.map(function(g,p){return{index:p,selected:g.isSelected(),segmentId:g.getSegmentId()}})},d}(a.MDCComponent);r.MDCSegmentedButton=u},"./packages/mdc-segmented-button/segmented-button/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.selectors=void 0,r.selectors={SEGMENT:".mdc-segmented-button__segment"},r.events={SELECTED:"selected",CHANGE:"change"},r.cssClasses={SINGLE_SELECT:"mdc-segmented-button--single-select"}},"./packages/mdc-segmented-button/segmented-button/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(d,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(p[v]=m[v])},u(d,g)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(h,d);function g(){this.constructor=h}h.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var h,d=1,g=arguments.length;d<g;d++){h=arguments[d];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(u[p]=h[p])}return u},o.apply(this,arguments)},a=this&&this.__values||function(u){var h=typeof Symbol=="function"&&Symbol.iterator,d=h&&u[h],g=0;if(d)return d.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&g>=u.length&&(u=void 0),{value:u&&u[g++],done:!u}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=function(u){i(h,u);function h(d){return u.call(this,o(o({},h.defaultAdapter),d))||this}return Object.defineProperty(h,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},getSegments:function(){return[]},selectSegment:function(){},unselectSegment:function(){},notifySelectedChange:function(){}}},enumerable:!1,configurable:!0}),h.prototype.selectSegment=function(d){this.adapter.selectSegment(d)},h.prototype.unselectSegment=function(d){this.adapter.unselectSegment(d)},h.prototype.getSelectedSegments=function(){return this.adapter.getSegments().filter(function(d){return d.selected})},h.prototype.isSegmentSelected=function(d){return this.adapter.getSegments().some(function(g){return(g.index===d||g.segmentId===d)&&g.selected})},h.prototype.isSingleSelect=function(){return this.adapter.hasClass(c.cssClasses.SINGLE_SELECT)},h.prototype.handleSelected=function(d){this.isSingleSelect()&&this.unselectPrevSelected(d.index),this.adapter.notifySelectedChange(d)},h.prototype.unselectPrevSelected=function(d){var g,p;try{for(var m=a(this.getSelectedSegments()),v=m.next();!v.done;v=m.next()){var b=v.value;b.index!==d&&this.unselectSegment(b.index)}}catch(y){g={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(g)throw g.error}}},h}(l.MDCFoundation);r.MDCSegmentedButtonFoundation=f},"./packages/mdc-segmented-button/segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/component.ts"),r)},"./packages/mdc-segmented-button/types.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})}})})})(Og);var Rg=Og.exports;const yi=[];function Mg(e,t=an){let n;const r=new Set;function s(a){if(Ut(e,a)&&(e=a,n)){const l=!yi.length;for(const c of r)c[1](),yi.push(c,e);if(l){for(let c=0;c<yi.length;c+=2)yi[c][0](yi[c+1]);yi.length=0}}}function i(a){s(a(e))}function o(a,l=an){const c=[a,l];return r.add(c),r.size===1&&(n=t(s)||an),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function dt(e){return Object.entries(e).filter(([t,n])=>t!==""&&n).map(([t])=>t).join(" ")}function $n(e,t,n,r={bubbles:!0},s=!1){if(typeof Event>"u")throw new Error("Event not defined.");if(!e)throw new Error("Tried to dipatch event without element.");const i=new CustomEvent(t,Object.assign(Object.assign({},r),{detail:n}));if(e==null||e.dispatchEvent(i),s&&t.startsWith("SMUI")){const o=new CustomEvent(t.replace(/^SMUI/g,()=>"MDC"),Object.assign(Object.assign({},r),{detail:n}));e==null||e.dispatchEvent(o),o.defaultPrevented&&i.preventDefault()}return i}function gr(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s],o=i.indexOf("$");o!==-1&&t.indexOf(i.substring(0,o+1))!==-1||t.indexOf(i)===-1&&(r[i]=e[i])}return r}const g1=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,r5=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function wn(e){let t,n=[];e.$on=(s,i)=>{let o=s,a=()=>{};return t?a=t(o,i):n.push([o,i]),o.match(g1)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',o),()=>{a()}};function r(s){No(e,s)}return s=>{const i=[],o={};t=(a,l)=>{let c=a,f=l,u=!1;const h=c.match(g1),d=c.match(r5),g=h||d;if(c.match(/^SMUI:\w+:/)){const v=c.split(":");let b="";for(let y=0;y<v.length;y++)b+=y===v.length-1?":"+v[y]:v[y].split("-").map(S=>S.slice(0,1).toUpperCase()+S.slice(1)).join("");console.warn(`The event ${c.split("$")[0]} has been renamed to ${b.split("$")[0]}.`),c=b}if(g){const v=c.split(h?":":"$");c=v[0];const b=v.slice(1).reduce((y,S)=>(y[S]=!0,y),{});b.passive&&(u=u||{},u.passive=!0),b.nonpassive&&(u=u||{},u.passive=!1),b.capture&&(u=u||{},u.capture=!0),b.once&&(u=u||{},u.once=!0),b.preventDefault&&(f=Hy(f)),b.stopPropagation&&(f=zy(f))}const p=Rt(s,c,f,u),m=()=>{p();const v=i.indexOf(m);v>-1&&i.splice(v,1)};return i.push(m),c in o||(o[c]=Rt(s,c,r)),m};for(let a=0;a<n.length;a++)t(n[a][0],n[a][1]);return{destroy:()=>{for(let a=0;a<i.length;a++)i[a]();for(let a of Object.entries(o))a[1]()}}}}function jt(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s];i.substring(0,t.length)===t&&(r[i.substring(t.length)]=e[i])}return r}function vn(e,t){let n=[];if(t)for(let r=0;r<t.length;r++){const s=t[r],i=Array.isArray(s)?s[0]:s;Array.isArray(s)&&s.length>1?n.push(i(e,s[1])):n.push(i(e))}return{update(r){if((r&&r.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(r)for(let s=0;s<r.length;s++){const i=n[s];if(i&&i.update){const o=r[s];Array.isArray(o)&&o.length>1?i.update(o[1]):i.update()}}},destroy(){for(let r=0;r<n.length;r++){const s=n[r];s&&s.destroy&&s.destroy()}}}}function s5(e){let t;const n=e[10].default,r=kt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&Bt(r,n,s,s[12],t?Gt(n,s[12],i,null):Nt(s[12]),null)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function i5(e){let t,n,r;const s=[{tag:e[3]},{use:[e[5],...e[0]]},{class:dt({[e[1]]:!0,"mdc-button__label":e[6]==="button","mdc-fab__label":e[6]==="fab","mdc-tab__text-label":e[6]==="tab","mdc-image-list__label":e[6]==="image-list","mdc-snackbar__label":e[6]==="snackbar","mdc-banner__text":e[6]==="banner","mdc-segmented-button__label":e[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":e[6]==="data-table:pagination","mdc-data-table__header-cell-label":e[6]==="data-table:sortable-header-cell"})},e[6]==="snackbar"?{"aria-atomic":"false"}:{},{tabindex:e[7]},e[8]];var i=e[2];function o(a){let l={$$slots:{default:[s5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[11](t)),{c(){t&&tt(t.$$.fragment),n=hn()},m(a,l){t&&Je(t,a,l),Le(a,n,l),r=!0},p(a,[l]){const c=l&491?Ot(s,[l&8&&{tag:a[3]},l&33&&{use:[a[5],...a[0]]},l&66&&{class:dt({[a[1]]:!0,"mdc-button__label":a[6]==="button","mdc-fab__label":a[6]==="fab","mdc-tab__text-label":a[6]==="tab","mdc-image-list__label":a[6]==="image-list","mdc-snackbar__label":a[6]==="snackbar","mdc-banner__text":a[6]==="banner","mdc-segmented-button__label":a[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":a[6]==="data-table:pagination","mdc-data-table__header-cell-label":a[6]==="data-table:sortable-header-cell"})},l&64&&on(a[6]==="snackbar"?{"aria-atomic":"false"}:{}),l&128&&{tabindex:a[7]},l&256&&on(a[8])]):{};if(l&4096&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){Yt();const f=t;fe(f.$$.fragment,1,0,()=>{et(f,1)}),Zt()}i?(t=pr(i,o(a)),a[11](t),tt(t.$$.fragment),se(t.$$.fragment,1),Je(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&se(t.$$.fragment,a),r=!0)},o(a){t&&fe(t.$$.fragment,a),r=!1},d(a){e[11](null),a&&Pe(n),t&&et(t,a)}}}function o5(e,t,n){const r=["use","class","component","tag","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(rn());let{use:l=[]}=t,{class:c=""}=t,f,{component:u=vr}=t,{tag:h=u===vr?"span":void 0}=t;const d=dr("SMUI:label:context"),g=dr("SMUI:label:tabindex");function p(){return f.getElement()}function m(v){lt[v?"unshift":"push"](()=>{f=v,n(4,f)})}return e.$$set=v=>{t=je(je({},t),bn(v)),n(8,s=wt(t,r)),"use"in v&&n(0,l=v.use),"class"in v&&n(1,c=v.class),"component"in v&&n(2,u=v.component),"tag"in v&&n(3,h=v.tag),"$$scope"in v&&n(12,o=v.$$scope)},[l,c,u,h,f,a,d,g,s,p,i,m,o]}class Ui extends en{constructor(t){super(),Jt(this,t,o5,i5,Ut,{use:0,class:1,component:2,tag:3,getElement:9})}get getElement(){return this.$$.ctx[9]}}function a5(e){let t;const n=e[11].default,r=kt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&Bt(r,n,s,s[13],t?Gt(n,s[13],i,null):Nt(s[13]),null)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function l5(e){let t,n,r;const s=[{tag:e[4]},{use:[e[6],...e[0]]},{class:dt({[e[1]]:!0,"mdc-button__icon":e[8]==="button","mdc-fab__icon":e[8]==="fab","mdc-icon-button__icon":e[8]==="icon-button","mdc-icon-button__icon--on":e[8]==="icon-button"&&e[2],"mdc-tab__icon":e[8]==="tab","mdc-banner__icon":e[8]==="banner","mdc-segmented-button__icon":e[8]==="segmented-button"})},{"aria-hidden":"true"},e[7]?{focusable:"false",tabindex:"-1"}:{},e[9]];var i=e[3];function o(a){let l={$$slots:{default:[a5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[12](t)),{c(){t&&tt(t.$$.fragment),n=hn()},m(a,l){t&&Je(t,a,l),Le(a,n,l),r=!0},p(a,[l]){const c=l&983?Ot(s,[l&16&&{tag:a[4]},l&65&&{use:[a[6],...a[0]]},l&262&&{class:dt({[a[1]]:!0,"mdc-button__icon":a[8]==="button","mdc-fab__icon":a[8]==="fab","mdc-icon-button__icon":a[8]==="icon-button","mdc-icon-button__icon--on":a[8]==="icon-button"&&a[2],"mdc-tab__icon":a[8]==="tab","mdc-banner__icon":a[8]==="banner","mdc-segmented-button__icon":a[8]==="segmented-button"})},s[3],l&128&&on(a[7]?{focusable:"false",tabindex:"-1"}:{}),l&512&&on(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&8&&i!==(i=a[3])){if(t){Yt();const f=t;fe(f.$$.fragment,1,0,()=>{et(f,1)}),Zt()}i?(t=pr(i,o(a)),a[12](t),tt(t.$$.fragment),se(t.$$.fragment,1),Je(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&se(t.$$.fragment,a),r=!0)},o(a){t&&fe(t.$$.fragment,a),r=!1},d(a){e[12](null),a&&Pe(n),t&&et(t,a)}}}function c5(e,t,n){const r=["use","class","on","component","tag","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(rn());let{use:l=[]}=t,{class:c=""}=t,{on:f=!1}=t,u,{component:h=vr}=t,{tag:d=h===vr?"i":void 0}=t;const g=h===v5,p=dr("SMUI:icon:context");function m(){return u.getElement()}function v(b){lt[b?"unshift":"push"](()=>{u=b,n(5,u)})}return e.$$set=b=>{t=je(je({},t),bn(b)),n(9,s=wt(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"on"in b&&n(2,f=b.on),"component"in b&&n(3,h=b.component),"tag"in b&&n(4,d=b.tag),"$$scope"in b&&n(13,o=b.$$scope)},[l,c,f,h,d,u,a,g,p,s,m,i,v,o]}class f5 extends en{constructor(t){super(),Jt(this,t,c5,l5,Ut,{use:0,class:1,on:2,component:3,tag:4,getElement:10})}get getElement(){return this.$$.ctx[10]}}function u5(e){let t=e[1],n,r,s=e[1]&&_f(e);return{c(){s&&s.c(),n=hn()},m(i,o){s&&s.m(i,o),Le(i,n,o),r=!0},p(i,o){i[1]?t?Ut(t,i[1])?(s.d(1),s=_f(i),t=i[1],s.c(),s.m(n.parentNode,n)):s.p(i,o):(s=_f(i),t=i[1],s.c(),s.m(n.parentNode,n)):t&&(s.d(1),s=null,t=i[1])},i(i){r||(se(s),r=!0)},o(i){fe(s),r=!1},d(i){i&&Pe(n),s&&s.d(i)}}}function d5(e){let t=e[1],n,r=e[1]&&yf(e);return{c(){r&&r.c(),n=hn()},m(s,i){r&&r.m(s,i),Le(s,n,i)},p(s,i){s[1]?t?Ut(t,s[1])?(r.d(1),r=yf(s),t=s[1],r.c(),r.m(n.parentNode,n)):r.p(s,i):(r=yf(s),t=s[1],r.c(),r.m(n.parentNode,n)):t&&(r.d(1),r=null,t=s[1])},i:an,o:an,d(s){s&&Pe(n),r&&r.d(s)}}}function _f(e){let t,n,r,s,i;const o=e[8].default,a=kt(o,e,e[7],null);let l=[e[5]],c={};for(let f=0;f<l.length;f+=1)c=je(c,l[f]);return{c(){t=Tt(e[1]),a&&a.c(),vl(e[1])(t,c)},m(f,u){Le(f,t,u),a&&a.m(t,null),e[10](t),r=!0,s||(i=[St(n=vn.call(null,t,e[0])),St(e[4].call(null,t))],s=!0)},p(f,u){a&&a.p&&(!r||u&128)&&Bt(a,o,f,f[7],r?Gt(o,f[7],u,null):Nt(f[7]),null),vl(f[1])(t,c=Ot(l,[u&32&&f[5]])),n&&Vt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(se(a,f),r=!0)},o(f){fe(a,f),r=!1},d(f){f&&Pe(t),a&&a.d(f),e[10](null),s=!1,ln(i)}}}function yf(e){let t,n,r,s,i=[e[5]],o={};for(let a=0;a<i.length;a+=1)o=je(o,i[a]);return{c(){t=Tt(e[1]),vl(e[1])(t,o)},m(a,l){Le(a,t,l),e[9](t),r||(s=[St(n=vn.call(null,t,e[0])),St(e[4].call(null,t))],r=!0)},p(a,l){vl(a[1])(t,o=Ot(i,[l&32&&a[5]])),n&&Vt(n.update)&&l&1&&n.update.call(null,a[0])},d(a){a&&Pe(t),e[9](null),r=!1,ln(s)}}}function h5(e){let t,n,r,s;const i=[d5,u5],o=[];function a(l,c){return l[3]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=hn()},m(l,c){o[t].m(l,c),Le(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(Yt(),fe(o[f],1,1,()=>{o[f]=null}),Zt(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),se(n,1),n.m(r.parentNode,r))},i(l){s||(se(n),s=!0)},o(l){fe(n),s=!1},d(l){o[t].d(l),l&&Pe(r)}}}function m5(e,t,n){let r;const s=["use","tag","getElement"];let i=wt(t,s),{$$slots:o={},$$scope:a}=t,{use:l=[]}=t,{tag:c}=t;const f=wn(rn());let u;function h(){return u}function d(p){lt[p?"unshift":"push"](()=>{u=p,n(2,u)})}function g(p){lt[p?"unshift":"push"](()=>{u=p,n(2,u)})}return e.$$set=p=>{t=je(je({},t),bn(p)),n(5,i=wt(t,s)),"use"in p&&n(0,l=p.use),"tag"in p&&n(1,c=p.tag),"$$scope"in p&&n(7,a=p.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(c)>-1)},[l,c,u,r,f,i,h,a,o,d,g]}class vr extends en{constructor(t){super(),Jt(this,t,m5,h5,Ut,{use:0,tag:1,getElement:6})}get getElement(){return this.$$.ctx[6]}}function p5(e){let t,n,r,s,i;const o=e[6].default,a=kt(o,e,e[5],null);let l=[e[3]],c={};for(let f=0;f<l.length;f+=1)c=je(c,l[f]);return{c(){t=Iu("svg"),a&&a.c(),m1(t,c)},m(f,u){Le(f,t,u),a&&a.m(t,null),e[7](t),r=!0,s||(i=[St(n=vn.call(null,t,e[0])),St(e[2].call(null,t))],s=!0)},p(f,[u]){a&&a.p&&(!r||u&32)&&Bt(a,o,f,f[5],r?Gt(o,f[5],u,null):Nt(f[5]),null),m1(t,c=Ot(l,[u&8&&f[3]])),n&&Vt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(se(a,f),r=!0)},o(f){fe(a,f),r=!1},d(f){f&&Pe(t),a&&a.d(f),e[7](null),s=!1,ln(i)}}}function g5(e,t,n){const r=["use","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t;const l=wn(rn());let c;function f(){return c}function u(h){lt[h?"unshift":"push"](()=>{c=h,n(1,c)})}return e.$$set=h=>{t=je(je({},t),bn(h)),n(3,s=wt(t,r)),"use"in h&&n(0,a=h.use),"$$scope"in h&&n(5,o=h.$$scope)},[a,c,l,s,f,o,i,u]}class v5 extends en{constructor(t){super(),Jt(this,t,g5,p5,Ut,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function b5(e){let t;const n=e[4].default,r=kt(n,e,e[3],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,[i]){r&&r.p&&(!t||i&8)&&Bt(r,n,s,s[3],t?Gt(n,s[3],i,null):Nt(s[3]),null)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function _5(e,t,n){let r,{$$slots:s={},$$scope:i}=t,{key:o}=t,{value:a}=t;const l=Mg(a);return xo(e,l,c=>n(5,r=c)),ur(o,l),Yu(()=>{l.set(void 0)}),e.$$set=c=>{"key"in c&&n(1,o=c.key),"value"in c&&n(2,a=c.value),"$$scope"in c&&n(3,i=c.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&Sg(l,r=a,r)},[l,o,a,i,s]}class Gi extends en{constructor(t){super(),Jt(this,t,_5,b5,Ut,{key:1,value:2})}}function v1(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}const y5=e=>({segment:e&4}),b1=e=>({segment:e[28]});function A5(e){let t;const n=e[17].default,r=kt(n,e,e[19],b1);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&524292)&&Bt(r,n,s,s[19],t?Gt(n,s[19],i,y5):Nt(s[19]),b1)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function S5(e){let t,n,r;return t=new Gi({props:{key:"SMUI:segmented-button:segment:initialSelected",value:e[7][e[30]],$$slots:{default:[A5]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment),n=At()},m(s,i){Je(t,s,i),Le(s,n,i),r=!0},p(s,i){const o={};i&4&&(o.value=s[7][s[30]]),i&524292&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){r||(se(t.$$.fragment,s),r=!0)},o(s){fe(t.$$.fragment,s),r=!1},d(s){et(t,s),s&&Pe(n)}}}function _1(e,t){let n,r,s;return r=new Gi({props:{key:"SMUI:segmented-button:segment:index",value:t[30],$$slots:{default:[S5]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=hn(),tt(r.$$.fragment),this.first=n},m(i,o){Le(i,n,o),Je(r,i,o),s=!0},p(i,o){t=i;const a={};o&4&&(a.value=t[30]),o&524292&&(a.$$scope={dirty:o,ctx:t}),r.$set(a)},i(i){s||(se(r.$$.fragment,i),s=!0)},o(i){fe(r.$$.fragment,i),s=!1},d(i){i&&Pe(n),et(r,i)}}}function E5(e){let t,n=[],r=new Map,s,i,o,a,l,c,f=e[2];const u=g=>g[3](g[28]);for(let g=0;g<f.length;g+=1){let p=v1(e,f,g),m=u(p);r.set(m,n[g]=_1(m,p))}let h=[{class:s=dt({[e[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":e[4]})},{role:i=e[4]?"radiogroup":"group"},e[12]],d={};for(let g=0;g<h.length;g+=1)d=je(d,h[g]);return{c(){t=Tt("div");for(let g=0;g<n.length;g+=1)n[g].c();Lt(t,d)},m(g,p){Le(g,t,p);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(t,null);e[18](t),a=!0,l||(c=[St(o=vn.call(null,t,e[0])),St(e[6].call(null,t)),Rt(t,"SMUISegmentedButtonSegment:mount",e[9]),Rt(t,"SMUISegmentedButtonSegment:unmount",e[10]),Rt(t,"selected",e[11])],l=!0)},p(g,[p]){p&524428&&(f=g[2],Yt(),n=Lg(n,p,u,1,g,f,r,t,Pg,_1,null,v1),Zt()),Lt(t,d=Ot(h,[(!a||p&18&&s!==(s=dt({[g[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":g[4]})))&&{class:s},(!a||p&16&&i!==(i=g[4]?"radiogroup":"group"))&&{role:i},p&4096&&g[12]])),o&&Vt(o.update)&&p&1&&o.update.call(null,g[0])},i(g){if(!a){for(let p=0;p<f.length;p+=1)se(n[p]);a=!0}},o(g){for(let p=0;p<n.length;p+=1)fe(n[p]);a=!1},d(g){g&&Pe(t);for(let p=0;p<n.length;p+=1)n[p].d();e[18](null),l=!1,ln(c)}}}function y1(e,t){let n=new Set(e);for(let r of t)n.delete(r);return n}function w5(e,t,n){const r=["use","class","segments","key","singleSelect","selected","getElement"];let s=wt(t,r),i,{$$slots:o={},$$scope:a}=t;const l=wn(rn());let{use:c=[]}=t,{class:f=""}=t,{segments:u=[]}=t,{key:h=ne=>ne}=t,{singleSelect:d=!1}=t,{selected:g=d?void 0:[]}=t,p,m,v={},b=new WeakMap,y=u.map(ne=>d&&g===ne||!d&&g.indexOf(ne)!==-1);ur("SMUI:icon:context","segmented-button"),ur("SMUI:label:context","segmented-button");const S=Mg(d);xo(e,S,ne=>n(21,i=ne)),ur("SMUI:segmented-button:singleSelect",S);let w=d?g:new Set(g);ir(()=>(n(15,m=new Rg.MDCSegmentedButtonFoundation({hasClass:ne=>W().classList.contains(ne),getSegments:()=>u.map((ne,H)=>({index:H,selected:d?g===ne:g.indexOf(ne)!==-1})),selectSegment:le,unselectSegment:$,notifySelectedChange:ne=>{ne.selected?le(ne.index):$(ne.index),$n(W(),"change",ne)}})),m.init(),()=>{m.destroy()}));function E(ne){const H=ne.detail;N(H.segmentId,H)}function A(ne){const H=ne.detail;x(H.segmentId)}function O(ne){m&&m.handleSelected(ne.detail)}function U(ne){return ne instanceof Object?b.get(ne):v[ne]}function N(ne,H){ne instanceof Object?b.set(ne,H):v[ne]=H}function x(ne){ne instanceof Object?b.delete(ne):delete v[ne]}function le(ne){let H=u.indexOf(ne);H===-1&&(H=ne),d?g!==u[H]&&n(13,g=u[H]):g.indexOf(u[H])===-1&&(g.push(u[H]),n(13,g));const he=U(u[H]);he&&(he.selected=!0)}function $(ne){let H=u.indexOf(ne);if(H===-1&&(H=ne),d)g===u[H]&&n(13,g=null);else{const te=g.indexOf(u[H]);te!==-1&&(g.splice(te,1),n(13,g))}const he=U(u[H]);he&&(he.selected=!1)}function W(){return p}function Be(ne){lt[ne?"unshift":"push"](()=>{p=ne,n(5,p)})}return e.$$set=ne=>{t=je(je({},t),bn(ne)),n(12,s=wt(t,r)),"use"in ne&&n(0,c=ne.use),"class"in ne&&n(1,f=ne.class),"segments"in ne&&n(2,u=ne.segments),"key"in ne&&n(3,h=ne.key),"singleSelect"in ne&&n(4,d=ne.singleSelect),"selected"in ne&&n(13,g=ne.selected),"$$scope"in ne&&n(19,a=ne.$$scope)},e.$$.update=()=>{if(e.$$.dirty&16&&Sg(S,i=d,i),e.$$.dirty&106512&&m&&d&&w!==g&&(w!=null&&m.unselectSegment(w),n(16,w=g),g!=null&&m.selectSegment(g)),e.$$.dirty&106516&&m&&!d){const ne=new Set(g),H=y1(w,ne),he=y1(ne,w);if(H.size||he.size){n(16,w=ne);for(let te of H){const oe=u.indexOf(te);oe!==-1&&m.unselectSegment(oe)}for(let te of he)m.selectSegment(u.indexOf(te))}}},[c,f,u,h,d,p,l,y,S,E,A,O,s,g,W,m,w,o,Be,a]}class T5 extends en{constructor(t){super(),Jt(this,t,w5,E5,Ut,{use:0,class:1,segments:2,key:3,singleSelect:4,selected:13,getElement:14})}get getElement(){return this.$$.ctx[14]}}var $a;function C5(e,t){t===void 0&&(t=!1);var n=e.CSS,r=$a;if(typeof $a=="boolean"&&!t)return $a;var s=n&&typeof n.supports=="function";if(!s)return!1;var i=n.supports("--css-vars","yes"),o=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return r=i||o,t||($a=r),r}function P5(e,t,n){if(!e)return{x:0,y:0};var r=t.x,s=t.y,i=r+n.left,o=s+n.top,a,l;if(e.type==="touchstart"){var c=e;a=c.changedTouches[0].pageX-i,l=c.changedTouches[0].pageY-o}else{var f=e;a=f.pageX-i,l=f.pageY-o}return{x:a,y:l}}var ku=function(e,t){return ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ku(e,t)};function Jn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ku(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var dn=function(){return dn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dn.apply(this,arguments)};function bs(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function L5(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Fr=function(){function e(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function O5(e){return e===void 0&&(e=window),R5(e)?{passive:!0}:!1}function R5(e){e===void 0&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch{t=!1}return t}const Ig=Object.freeze(Object.defineProperty({__proto__:null,applyPassive:O5},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function M5(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(Dg(n,t))return n;n=n.parentElement}return null}function Dg(e,t){var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return n.call(e,t)}function I5(e){var t=e;if(t.offsetParent!==null)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}const Fg=Object.freeze(Object.defineProperty({__proto__:null,closest:M5,estimateScrollWidth:I5,matches:Dg},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var D5={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},F5={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},A1={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var S1=["touchstart","pointerdown","mousedown","keydown"],E1=["touchend","pointerup","mouseup","contextmenu"],Va=[],x5=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(s){r.activateImpl(s)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return D5},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return F5},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return A1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this,r=this.supportsPressRipple();if(this.registerRootHandlers(r),r){var s=t.cssClasses,i=s.ROOT,o=s.UNBOUNDED;requestAnimationFrame(function(){n.adapter.addClass(i),n.adapter.isUnbounded()&&(n.adapter.addClass(o),n.layoutInternal())})}},t.prototype.destroy=function(){var n=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var r=t.cssClasses,s=r.ROOT,i=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter.removeClass(s),n.adapter.removeClass(i),n.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(n){this.activateImpl(n)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var n=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){n.layoutInternal(),n.layoutFrame=0})},t.prototype.setUnbounded=function(n){var r=t.cssClasses.UNBOUNDED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter.addClass(t.cssClasses.BG_FOCUSED)})},t.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter.removeClass(t.cssClasses.BG_FOCUSED)})},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(n){var r,s;if(n){try{for(var i=bs(S1),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerInteractionHandler(a,this.activateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(n){var r,s;if(n.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var i=bs(E1),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerDocumentInteractionHandler(a,this.deactivateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}},t.prototype.deregisterRootHandlers=function(){var n,r;try{for(var s=bs(S1),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterInteractionHandler(o,this.activateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var n,r;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var s=bs(E1),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterDocumentInteractionHandler(o,this.deactivateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.removeCssVars=function(){var n=this,r=t.strings,s=Object.keys(r);s.forEach(function(i){i.indexOf("VAR_")===0&&n.adapter.updateCssVariable(r[i],null)})},t.prototype.activateImpl=function(n){var r=this;if(!this.adapter.isSurfaceDisabled()){var s=this.activationState;if(!s.isActivated){var i=this.previousActivationEvent,o=i&&n!==void 0&&i.type!==n.type;if(!o){s.isActivated=!0,s.isProgrammatic=n===void 0,s.activationEvent=n,s.wasActivatedByPointer=s.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var a=n!==void 0&&Va.length>0&&Va.some(function(l){return r.adapter.containsEventTarget(l)});if(a){this.resetActivationState();return}n!==void 0&&(Va.push(n.target),this.registerDeactivationHandlers(n)),s.wasElementMadeActive=this.checkElementMadeActive(n),s.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){Va=[],!s.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(s.wasElementMadeActive=r.checkElementMadeActive(n),s.wasElementMadeActive&&r.animateActivation()),s.wasElementMadeActive||(r.activationState=r.defaultActivationState())})}}}},t.prototype.checkElementMadeActive=function(n){return n!==void 0&&n.type==="keydown"?this.adapter.isSurfaceActive():!0},t.prototype.animateActivation=function(){var n=this,r=t.strings,s=r.VAR_FG_TRANSLATE_START,i=r.VAR_FG_TRANSLATE_END,o=t.cssClasses,a=o.FG_DEACTIVATION,l=o.FG_ACTIVATION,c=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var f="",u="";if(!this.adapter.isUnbounded()){var h=this.getFgTranslationCoordinates(),d=h.startPoint,g=h.endPoint;f=d.x+"px, "+d.y+"px",u=g.x+"px, "+g.y+"px"}this.adapter.updateCssVariable(s,f),this.adapter.updateCssVariable(i,u),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer=setTimeout(function(){n.activationTimerCallback()},c)},t.prototype.getFgTranslationCoordinates=function(){var n=this.activationState,r=n.activationEvent,s=n.wasActivatedByPointer,i;s?i=P5(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):i={x:this.frame.width/2,y:this.frame.height/2},i={x:i.x-this.initialSize/2,y:i.y-this.initialSize/2};var o={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:i,endPoint:o}},t.prototype.runDeactivationUXLogicIfReady=function(){var n=this,r=t.cssClasses.FG_DEACTIVATION,s=this.activationState,i=s.hasDeactivationUXRun,o=s.isActivated,a=i||!o;a&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer=setTimeout(function(){n.adapter.removeClass(r)},A1.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var n=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(n),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var n=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return n.previousActivationEvent=void 0},t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var n=this,r=this.activationState;if(r.isActivated){var s=dn({},r);r.isProgrammatic?(requestAnimationFrame(function(){n.animateDeactivation(s)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){n.activationState.hasDeactivationUXRun=!0,n.animateDeactivation(s),n.resetActivationState()}))}},t.prototype.animateDeactivation=function(n){var r=n.wasActivatedByPointer,s=n.wasElementMadeActive;(r||s)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var n=this;this.frame=this.adapter.computeBoundingRect();var r=Math.max(this.frame.height,this.frame.width),s=function(){var o=Math.sqrt(Math.pow(n.frame.width,2)+Math.pow(n.frame.height,2));return o+t.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?r:s();var i=Math.floor(r*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&i%2!==0?this.initialSize=i-1:this.initialSize=i,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var n=t.strings,r=n.VAR_FG_SIZE,s=n.VAR_LEFT,i=n.VAR_TOP,o=n.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(s,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords.top+"px"))},t}(Fr);const{applyPassive:Ua}=Ig,{matches:k5}=Fg;function Wr(e,{ripple:t=!0,surface:n=!1,unbounded:r=!1,disabled:s=!1,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f=g=>e.classList.add(g),removeClass:u=g=>e.classList.remove(g),addStyle:h=(g,p)=>e.style.setProperty(g,p),initPromise:d=Promise.resolve()}={}){let g,p=dr("SMUI:addLayoutListener"),m,v=o,b=l,y=c;function S(){n?(f("mdc-ripple-surface"),i==="primary"?(f("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")):i==="secondary"?(u("smui-ripple-surface--primary"),f("smui-ripple-surface--secondary")):(u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary"))):(u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),g&&v!==o&&(v=o,o?g.activate():o===!1&&g.deactivate()),t&&!g?(g=new x5({addClass:f,browserSupportsCssVars:()=>C5(window),computeBoundingRect:()=>(a||e).getBoundingClientRect(),containsEventTarget:E=>e.contains(E),deregisterDocumentInteractionHandler:(E,A)=>document.documentElement.removeEventListener(E,A,Ua()),deregisterInteractionHandler:(E,A)=>(l||e).removeEventListener(E,A,Ua()),deregisterResizeHandler:E=>window.removeEventListener("resize",E),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>o??k5(c||e,":active"),isSurfaceDisabled:()=>!!s,isUnbounded:()=>!!r,registerDocumentInteractionHandler:(E,A)=>document.documentElement.addEventListener(E,A,Ua()),registerInteractionHandler:(E,A)=>(l||e).addEventListener(E,A,Ua()),registerResizeHandler:E=>window.addEventListener("resize",E),removeClass:u,updateCssVariable:h}),d.then(()=>{g&&(g.init(),g.setUnbounded(r))})):g&&!t&&d.then(()=>{g&&(g.destroy(),g=void 0)}),g&&(b!==l||y!==c)&&(b=l,y=c,g.destroy(),requestAnimationFrame(()=>{g&&(g.init(),g.setUnbounded(r))})),!t&&r&&f("mdc-ripple-upgraded--unbounded")}S(),p&&(m=p(w));function w(){g&&g.layout()}return{update(E){({ripple:t,surface:n,unbounded:r,disabled:s,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f,removeClass:u,addStyle:h,initPromise:d}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:A=>e.classList.add(A),removeClass:A=>e.classList.remove(A),addStyle:(A,O)=>e.style.setProperty(A,O),initPromise:Promise.resolve()},E)),S()},destroy(){g&&(g.destroy(),g=void 0,u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),m&&m()}}}function w1(e){let t;return{c(){t=Tt("div"),Dt(t,"class","mdc-segmented-button__ripple")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function T1(e){let t;return{c(){t=Tt("div"),Dt(t,"class","mdc-segmented-button__segment__touch")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function G5(e){let t,n,r,s,i,o,a,l,c,f,u,h,d=e[4]&&w1();const g=e[23].default,p=kt(g,e,e[22],null);let m=e[5]&&T1(),v=[{class:r=dt({[e[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":e[5],"mdc-segmented-button__segment--selected":e[0],...e[8]})},{style:s=Object.entries(e[9]).map(C1).concat([e[3]]).join(" ")},{role:i=e[14]?"radio":void 0},{"aria-pressed":o=e[14]?void 0:e[0]?"true":"false"},{"aria-checked":a=e[14]?e[0]?"true":"false":void 0},e[10],e[19]],b={};for(let y=0;y<v.length;y+=1)b=je(b,v[y]);return{c(){t=Tt("button"),d&&d.c(),n=hn(),p&&p.c(),m&&m.c(),Lt(t,b)},m(y,S){Le(y,t,S),d&&d.m(t,null),En(t,n),p&&p.m(t,null),m&&m.m(t,null),t.autofocus&&t.focus(),e[24](t),f=!0,u||(h=[St(l=Wr.call(null,t,{ripple:e[4],unbounded:!1,addClass:e[16],removeClass:e[17],addStyle:e[18]})),St(e[11].call(null,t)),St(c=vn.call(null,t,e[1])),Rt(t,"click",e[25])],u=!0)},p(y,S){y[4]?d||(d=w1(),d.c(),d.m(t,n)):d&&(d.d(1),d=null),p&&p.p&&(!f||S[0]&4194304)&&Bt(p,g,y,y[22],f?Gt(g,y[22],S,null):Nt(y[22]),null),y[5]?m||(m=T1(),m.c(),m.m(t,null)):m&&(m.d(1),m=null),Lt(t,b=Ot(v,[(!f||S[0]&293&&r!==(r=dt({[y[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":y[5],"mdc-segmented-button__segment--selected":y[0],...y[8]})))&&{class:r},(!f||S[0]&520&&s!==(s=Object.entries(y[9]).map(C1).concat([y[3]]).join(" ")))&&{style:s},{role:i},(!f||S[0]&1&&o!==(o=y[14]?void 0:y[0]?"true":"false"))&&{"aria-pressed":o},(!f||S[0]&1&&a!==(a=y[14]?y[0]?"true":"false":void 0))&&{"aria-checked":a},S[0]&1024&&y[10],S[0]&524288&&y[19]])),l&&Vt(l.update)&&S[0]&16&&l.update.call(null,{ripple:y[4],unbounded:!1,addClass:y[16],removeClass:y[17],addStyle:y[18]}),c&&Vt(c.update)&&S[0]&2&&c.update.call(null,y[1])},i(y){f||(se(p,y),f=!0)},o(y){fe(p,y),f=!1},d(y){y&&Pe(t),d&&d.d(),p&&p.d(y),m&&m.d(),e[24](null),u=!1,ln(h)}}}const C1=([e,t])=>`${e}: ${t};`;function B5(e,t,n){const r=["use","class","style","segment","ripple","touch","selected","getElement"];let s=wt(t,r),i,o,a,{$$slots:l={},$$scope:c}=t;const f=wn(rn());let u=()=>{};function h(ke){return ke===u}let{use:d=[]}=t,{class:g=""}=t,{style:p=""}=t,{segment:m}=t,{ripple:v=!0}=t,{touch:b=!1}=t;const y=dr("SMUI:segmented-button:segment:initialSelected");xo(e,y,ke=>n(28,a=ke));let{selected:S=u}=t,w=!h(S);h(S)&&(S=a);let E,A,O={},U={},N={};const x=dr("SMUI:segmented-button:singleSelect");xo(e,x,ke=>n(27,o=ke));const le=dr("SMUI:segmented-button:segment:index");if(xo(e,le,ke=>n(26,i=ke)),!m)throw new Error("The segment property is required! It should be passed down from the SegmentedButton to the Segment.");ir(()=>{n(6,A=new Rg.MDCSegmentedButtonSegmentFoundation({isSingleSelect:()=>o,getAttr:ne,setAttr:H,addClass:W,removeClass:Be,hasClass:$,notifySelectedChange:Pt=>{n(0,S=Pt),$n(te(),"selected",{index:i,selected:S,segmentId:m})},getRootBoundingClientRect:()=>te().getBoundingClientRect()}));const ke={segmentId:m,get selected(){return S},set selected(Pt){S!==Pt&&n(0,S=Pt)}};return $n(te(),"SMUISegmentedButtonSegment:mount",ke),A.init(),()=>{$n(te(),"SMUISegmentedButtonSegment:unmount",ke),A.destroy()}});function $(ke){return ke in O?O[ke]:te().classList.contains(ke)}function W(ke){O[ke]||n(8,O[ke]=!0,O)}function Be(ke){(!(ke in O)||O[ke])&&n(8,O[ke]=!1,O)}function ne(ke){var Pt;return ke in N?(Pt=N[ke])!==null&&Pt!==void 0?Pt:null:te().getAttribute(ke)}function H(ke,Pt){N[ke]!==Pt&&n(10,N[ke]=Pt,N)}function he(ke,Pt){U[ke]!=Pt&&(Pt===""||Pt==null?(delete U[ke],n(9,U)):n(9,U[ke]=Pt,U))}function te(){return E}function oe(ke){lt[ke?"unshift":"push"](()=>{E=ke,n(7,E)})}const ct=ke=>!ke.defaultPrevented&&A&&!w&&A.handleClick();return e.$$set=ke=>{t=je(je({},t),bn(ke)),n(19,s=wt(t,r)),"use"in ke&&n(1,d=ke.use),"class"in ke&&n(2,g=ke.class),"style"in ke&&n(3,p=ke.style),"segment"in ke&&n(20,m=ke.segment),"ripple"in ke&&n(4,v=ke.ripple),"touch"in ke&&n(5,b=ke.touch),"selected"in ke&&n(0,S=ke.selected),"$$scope"in ke&&n(22,c=ke.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&65&&A&&A.isSelected()&&!S&&A.setUnselected(),e.$$.dirty[0]&65&&A&&!A.isSelected()&&S&&A.setSelected()},[S,d,g,p,v,b,A,E,O,U,N,f,y,w,x,le,W,Be,he,s,m,te,c,l,oe,ct]}class N5 extends en{constructor(t){super(),Jt(this,t,B5,G5,Ut,{use:1,class:2,style:3,segment:20,ripple:4,touch:5,selected:0,getElement:21},null,[-1,-1])}get getElement(){return this.$$.ctx[21]}}function $5(e){let t,n,r,s,i,o;const a=e[12].default,l=kt(a,e,e[11],null);let c=[{class:n=dt({[e[1]]:!0,"smui-paper":!0,"smui-paper--raised":e[2]==="raised","smui-paper--unelevated":e[2]==="unelevated","smui-paper--outlined":e[2]==="outlined",["smui-paper--elevation-z"+e[5]]:e[5]!==0&&e[2]==="raised","smui-paper--rounded":!e[3],["smui-paper--color-"+e[4]]:e[4]!=="default","smui-paper-transition":e[6]})},e[9]],f={};for(let u=0;u<c.length;u+=1)f=je(f,c[u]);return{c(){t=Tt("div"),l&&l.c(),Lt(t,f)},m(u,h){Le(u,t,h),l&&l.m(t,null),e[13](t),s=!0,i||(o=[St(r=vn.call(null,t,e[0])),St(e[8].call(null,t))],i=!0)},p(u,[h]){l&&l.p&&(!s||h&2048)&&Bt(l,a,u,u[11],s?Gt(a,u[11],h,null):Nt(u[11]),null),Lt(t,f=Ot(c,[(!s||h&126&&n!==(n=dt({[u[1]]:!0,"smui-paper":!0,"smui-paper--raised":u[2]==="raised","smui-paper--unelevated":u[2]==="unelevated","smui-paper--outlined":u[2]==="outlined",["smui-paper--elevation-z"+u[5]]:u[5]!==0&&u[2]==="raised","smui-paper--rounded":!u[3],["smui-paper--color-"+u[4]]:u[4]!=="default","smui-paper-transition":u[6]})))&&{class:n},h&512&&u[9]])),r&&Vt(r.update)&&h&1&&r.update.call(null,u[0])},i(u){s||(se(l,u),s=!0)},o(u){fe(l,u),s=!1},d(u){u&&Pe(t),l&&l.d(u),e[13](null),i=!1,ln(o)}}}function V5(e,t,n){const r=["use","class","variant","square","color","elevation","transition","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(rn());let{use:l=[]}=t,{class:c=""}=t,{variant:f="raised"}=t,{square:u=!1}=t,{color:h="default"}=t,{elevation:d=1}=t,{transition:g=!1}=t,p;function m(){return p}function v(b){lt[b?"unshift":"push"](()=>{p=b,n(7,p)})}return e.$$set=b=>{t=je(je({},t),bn(b)),n(9,s=wt(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"variant"in b&&n(2,f=b.variant),"square"in b&&n(3,u=b.square),"color"in b&&n(4,h=b.color),"elevation"in b&&n(5,d=b.elevation),"transition"in b&&n(6,g=b.transition),"$$scope"in b&&n(11,o=b.$$scope)},[l,c,f,u,h,d,g,p,a,s,m,o,i,v]}class Cl extends en{constructor(t){super(),Jt(this,t,V5,$5,Ut,{use:0,class:1,variant:2,square:3,color:4,elevation:5,transition:6,getElement:10})}get getElement(){return this.$$.ctx[10]}}function U5(e){let t;const n=e[11].default,r=kt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&Bt(r,n,s,s[13],t?Gt(n,s[13],i,null):Nt(s[13]),null)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function H5(e){let t,n,r;const s=[{tag:e[3]},{use:[e[8],...e[0]]},{class:dt({[e[1]]:!0,[e[6]]:!0,...e[5]})},e[7],e[9]];var i=e[2];function o(a){let l={$$slots:{default:[U5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[12](t)),{c(){t&&tt(t.$$.fragment),n=hn()},m(a,l){t&&Je(t,a,l),Le(a,n,l),r=!0},p(a,[l]){const c=l&1003?Ot(s,[l&8&&{tag:a[3]},l&257&&{use:[a[8],...a[0]]},l&98&&{class:dt({[a[1]]:!0,[a[6]]:!0,...a[5]})},l&128&&on(a[7]),l&512&&on(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){Yt();const f=t;fe(f.$$.fragment,1,0,()=>{et(f,1)}),Zt()}i?(t=pr(i,o(a)),a[12](t),tt(t.$$.fragment),se(t.$$.fragment,1),Je(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&se(t.$$.fragment,a),r=!0)},o(a){t&&fe(t.$$.fragment,a),r=!1},d(a){e[12](null),a&&Pe(n),t&&et(t,a)}}}const jr={component:vr,tag:"div",class:"",classMap:{},contexts:{},props:{}};function z5(e,t,n){const r=["use","class","component","tag","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t,{class:l=""}=t,c;const f=jr.class,u={},h=[],d=jr.contexts,g=jr.props;let{component:p=jr.component}=t,{tag:m=p===vr?jr.tag:void 0}=t;Object.entries(jr.classMap).forEach(([S,w])=>{const E=dr(w);E&&"subscribe"in E&&h.push(E.subscribe(A=>{n(5,u[S]=A,u)}))});const v=wn(rn());for(let S in d)d.hasOwnProperty(S)&&ur(S,d[S]);Yu(()=>{for(const S of h)S()});function b(){return c.getElement()}function y(S){lt[S?"unshift":"push"](()=>{c=S,n(4,c)})}return e.$$set=S=>{t=je(je({},t),bn(S)),n(9,s=wt(t,r)),"use"in S&&n(0,a=S.use),"class"in S&&n(1,l=S.class),"component"in S&&n(2,p=S.component),"tag"in S&&n(3,m=S.tag),"$$scope"in S&&n(13,o=S.$$scope)},[a,l,p,m,c,u,f,g,v,s,b,i,y,o]}class j5 extends en{constructor(t){super(),Jt(this,t,z5,H5,Ut,{use:0,class:1,component:2,tag:3,getElement:10})}get getElement(){return this.$$.ctx[10]}}const P1=Object.assign({},jr);function Hi(e){return new Proxy(j5,{construct:function(t,n){return Object.assign(jr,P1,e),new t(...n)},get:function(t,n){return Object.assign(jr,P1,e),t[n]}})}Hi({class:"smui-paper__content",tag:"div"});Hi({class:"smui-paper__title",tag:"h5"});Hi({class:"smui-paper__subtitle",tag:"h6"});function L1(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function O1(e,t,n){const r=e.slice();return r[8]=t[n],r[9]=t,r[10]=n,r}function q5(e){let t=e[11]+"",n;return{c(){n=Qn(t)},m(r,s){Le(r,n,s)},p(r,s){s&2048&&t!==(t=r[11]+"")&&Qs(n,t)},d(r){r&&Pe(n)}}}function X5(e){let t,n;return t=new Ui({props:{$$slots:{default:[q5]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&6144&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function W5(e){let t,n;return t=new N5({props:{segment:e[11],$$slots:{default:[X5]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&2048&&(i.segment=r[11]),s&6144&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function R1(e){let t,n,r;function s(o){e[4](o,e[8],e[9],e[10])}let i={x:e[10],y:e[7],mode:e[2].indexOf(e[1])};return e[8]!==void 0&&(i.value=e[8]),t=new t5({props:i}),lt.push(()=>Nn(t,"value",s)),{c(){tt(t.$$.fragment)},m(o,a){Je(t,o,a),r=!0},p(o,a){e=o;const l={};a&2&&(l.mode=e[2].indexOf(e[1])),!n&&a&1&&(n=!0,l.value=e[8],Bn(()=>n=!1)),t.$set(l)},i(o){r||(se(t.$$.fragment,o),r=!0)},o(o){fe(t.$$.fragment,o),r=!1},d(o){et(t,o)}}}function M1(e){let t,n,r=e[5],s=[];for(let o=0;o<r.length;o+=1)s[o]=R1(O1(e,r,o));const i=o=>fe(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=hn()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);Le(o,t,a),n=!0},p(o,a){if(a&7){r=o[5];let l;for(l=0;l<r.length;l+=1){const c=O1(o,r,l);s[l]?(s[l].p(c,a),se(s[l],1)):(s[l]=R1(c),s[l].c(),se(s[l],1),s[l].m(t.parentNode,t))}for(Yt(),l=r.length;l<s.length;l+=1)i(l);Zt()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)se(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)fe(s[a]);n=!1},d(o){Eg(s,o),o&&Pe(t)}}}function Y5(e){let t,n,r=e[0],s=[];for(let o=0;o<r.length;o+=1)s[o]=M1(L1(e,r,o));const i=o=>fe(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=hn()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);Le(o,t,a),n=!0},p(o,a){if(a&7){r=o[0];let l;for(l=0;l<r.length;l+=1){const c=L1(o,r,l);s[l]?(s[l].p(c,a),se(s[l],1)):(s[l]=M1(c),s[l].c(),se(s[l],1),s[l].m(t.parentNode,t))}for(Yt(),l=r.length;l<s.length;l+=1)i(l);Zt()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)se(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)fe(s[a]);n=!1},d(o){Eg(s,o),o&&Pe(t)}}}function Z5(e){let t,n,r,s,i;function o(l){e[3](l)}let a={segments:e[2],singleSelect:!0,style:"margin: 1rem 0 0 1rem",$$slots:{default:[W5,({segment:l})=>({11:l}),({segment:l})=>l?2048:0]},$$scope:{ctx:e}};return e[1]!==void 0&&(a.selected=e[1]),t=new T5({props:a}),lt.push(()=>Nn(t,"selected",o)),s=new Cl({props:{variant:"unelevated",class:"design",$$slots:{default:[Y5]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment),r=At(),tt(s.$$.fragment)},m(l,c){Je(t,l,c),Le(l,r,c),Je(s,l,c),i=!0},p(l,[c]){const f={};c&6144&&(f.$$scope={dirty:c,ctx:l}),!n&&c&2&&(n=!0,f.selected=l[1],Bn(()=>n=!1)),t.$set(f);const u={};c&4099&&(u.$$scope={dirty:c,ctx:l}),s.$set(u)},i(l){i||(se(t.$$.fragment,l),se(s.$$.fragment,l),i=!0)},o(l){fe(t.$$.fragment,l),fe(s.$$.fragment,l),i=!1},d(l){et(t,l),l&&Pe(r),et(s,l)}}}function K5(e,t,n){let{model:r}=t,s="vacant";const i=["clear","hole","vacant","capped"];function o(l){s=l,n(1,s)}function a(l,c,f,u){f[u]=l,n(0,r)}return e.$$set=l=>{"model"in l&&n(0,r=l.model)},[r,s,i,o,a]}class Q5 extends en{constructor(t){super(),Jt(this,t,K5,Z5,Ut,{model:0})}}var J5=e3;function e3(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var t3=n3;function n3(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var r3=s3;function s3(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var xg=i3;function i3(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var o3=a3;function a3(e,t){if(e===t){var n=t[1],r=t[2],s=t[3],i=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=s,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}var l3=c3;function c3(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],g=t[12],p=t[13],m=t[14],v=t[15],b=n*a-r*o,y=n*l-s*o,S=n*c-i*o,w=r*l-s*a,E=r*c-i*a,A=s*c-i*l,O=f*p-u*g,U=f*m-h*g,N=f*v-d*g,x=u*m-h*p,le=u*v-d*p,$=h*v-d*m,W=b*$-y*le+S*x+w*N-E*U+A*O;return W?(W=1/W,e[0]=(a*$-l*le+c*x)*W,e[1]=(s*le-r*$-i*x)*W,e[2]=(p*A-m*E+v*w)*W,e[3]=(h*E-u*A-d*w)*W,e[4]=(l*N-o*$-c*U)*W,e[5]=(n*$-s*N+i*U)*W,e[6]=(m*S-g*A-v*y)*W,e[7]=(f*A-h*S+d*y)*W,e[8]=(o*le-a*N+c*O)*W,e[9]=(r*N-n*le-i*O)*W,e[10]=(g*E-p*S+v*b)*W,e[11]=(u*S-f*E-d*b)*W,e[12]=(a*U-o*x-l*O)*W,e[13]=(n*x-r*U+s*O)*W,e[14]=(p*y-g*w-m*b)*W,e[15]=(f*w-u*y+h*b)*W,e):null}var f3=u3;function u3(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],g=t[12],p=t[13],m=t[14],v=t[15];return e[0]=a*(h*v-d*m)-u*(l*v-c*m)+p*(l*d-c*h),e[1]=-(r*(h*v-d*m)-u*(s*v-i*m)+p*(s*d-i*h)),e[2]=r*(l*v-c*m)-a*(s*v-i*m)+p*(s*c-i*l),e[3]=-(r*(l*d-c*h)-a*(s*d-i*h)+u*(s*c-i*l)),e[4]=-(o*(h*v-d*m)-f*(l*v-c*m)+g*(l*d-c*h)),e[5]=n*(h*v-d*m)-f*(s*v-i*m)+g*(s*d-i*h),e[6]=-(n*(l*v-c*m)-o*(s*v-i*m)+g*(s*c-i*l)),e[7]=n*(l*d-c*h)-o*(s*d-i*h)+f*(s*c-i*l),e[8]=o*(u*v-d*p)-f*(a*v-c*p)+g*(a*d-c*u),e[9]=-(n*(u*v-d*p)-f*(r*v-i*p)+g*(r*d-i*u)),e[10]=n*(a*v-c*p)-o*(r*v-i*p)+g*(r*c-i*a),e[11]=-(n*(a*d-c*u)-o*(r*d-i*u)+f*(r*c-i*a)),e[12]=-(o*(u*m-h*p)-f*(a*m-l*p)+g*(a*h-l*u)),e[13]=n*(u*m-h*p)-f*(r*m-s*p)+g*(r*h-s*u),e[14]=-(n*(a*m-l*p)-o*(r*m-s*p)+g*(r*l-s*a)),e[15]=n*(a*h-l*u)-o*(r*h-s*u)+f*(r*l-s*a),e}var d3=h3;function h3(e){var t=e[0],n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],l=e[7],c=e[8],f=e[9],u=e[10],h=e[11],d=e[12],g=e[13],p=e[14],m=e[15],v=t*o-n*i,b=t*a-r*i,y=t*l-s*i,S=n*a-r*o,w=n*l-s*o,E=r*l-s*a,A=c*g-f*d,O=c*p-u*d,U=c*m-h*d,N=f*p-u*g,x=f*m-h*g,le=u*m-h*p;return v*le-b*x+y*N+S*U-w*O+E*A}var m3=p3;function p3(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],h=t[9],d=t[10],g=t[11],p=t[12],m=t[13],v=t[14],b=t[15],y=n[0],S=n[1],w=n[2],E=n[3];return e[0]=y*r+S*a+w*u+E*p,e[1]=y*s+S*l+w*h+E*m,e[2]=y*i+S*c+w*d+E*v,e[3]=y*o+S*f+w*g+E*b,y=n[4],S=n[5],w=n[6],E=n[7],e[4]=y*r+S*a+w*u+E*p,e[5]=y*s+S*l+w*h+E*m,e[6]=y*i+S*c+w*d+E*v,e[7]=y*o+S*f+w*g+E*b,y=n[8],S=n[9],w=n[10],E=n[11],e[8]=y*r+S*a+w*u+E*p,e[9]=y*s+S*l+w*h+E*m,e[10]=y*i+S*c+w*d+E*v,e[11]=y*o+S*f+w*g+E*b,y=n[12],S=n[13],w=n[14],E=n[15],e[12]=y*r+S*a+w*u+E*p,e[13]=y*s+S*l+w*h+E*m,e[14]=y*i+S*c+w*d+E*v,e[15]=y*o+S*f+w*g+E*b,e}var g3=v3;function v3(e,t,n){var r=n[0],s=n[1],i=n[2],o,a,l,c,f,u,h,d,g,p,m,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],h=t[6],d=t[7],g=t[8],p=t[9],m=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=h,e[7]=d,e[8]=g,e[9]=p,e[10]=m,e[11]=v,e[12]=o*r+f*s+g*i+t[12],e[13]=a*r+u*s+p*i+t[13],e[14]=l*r+h*s+m*i+t[14],e[15]=c*r+d*s+v*i+t[15]),e}var b3=_3;function _3(e,t,n){var r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var y3=A3;function A3(e,t,n,r){var s=r[0],i=r[1],o=r[2],a=Math.sqrt(s*s+i*i+o*o),l,c,f,u,h,d,g,p,m,v,b,y,S,w,E,A,O,U,N,x,le,$,W,Be;return Math.abs(a)<1e-6?null:(a=1/a,s*=a,i*=a,o*=a,l=Math.sin(n),c=Math.cos(n),f=1-c,u=t[0],h=t[1],d=t[2],g=t[3],p=t[4],m=t[5],v=t[6],b=t[7],y=t[8],S=t[9],w=t[10],E=t[11],A=s*s*f+c,O=i*s*f+o*l,U=o*s*f-i*l,N=s*i*f-o*l,x=i*i*f+c,le=o*i*f+s*l,$=s*o*f+i*l,W=i*o*f-s*l,Be=o*o*f+c,e[0]=u*A+p*O+y*U,e[1]=h*A+m*O+S*U,e[2]=d*A+v*O+w*U,e[3]=g*A+b*O+E*U,e[4]=u*N+p*x+y*le,e[5]=h*N+m*x+S*le,e[6]=d*N+v*x+w*le,e[7]=g*N+b*x+E*le,e[8]=u*$+p*W+y*Be,e[9]=h*$+m*W+S*Be,e[10]=d*$+v*W+w*Be,e[11]=g*$+b*W+E*Be,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}var S3=E3;function E3(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+h*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=h*s-l*r,e}var w3=T3;function T3(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-h*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+h*s,e}var C3=P3;function P3(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+h*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=h*s-l*r,e}var L3=O3;function O3(e,t,n){var r,s,i,o=n[0],a=n[1],l=n[2],c=Math.sqrt(o*o+a*a+l*l);return Math.abs(c)<1e-6?null:(c=1/c,o*=c,a*=c,l*=c,r=Math.sin(t),s=Math.cos(t),i=1-s,e[0]=o*o*i+s,e[1]=a*o*i+l*r,e[2]=l*o*i-a*r,e[3]=0,e[4]=o*a*i-l*r,e[5]=a*a*i+s,e[6]=l*a*i+o*r,e[7]=0,e[8]=o*l*i+a*r,e[9]=a*l*i-o*r,e[10]=l*l*i+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}var R3=M3;function M3(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=r+r,l=s+s,c=i+i,f=r*a,u=r*l,h=r*c,d=s*l,g=s*c,p=i*c,m=o*a,v=o*l,b=o*c;return e[0]=1-(d+p),e[1]=u+b,e[2]=h-v,e[3]=0,e[4]=u-b,e[5]=1-(f+p),e[6]=g+m,e[7]=0,e[8]=h+v,e[9]=g-m,e[10]=1-(f+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}var I3=D3;function D3(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var F3=x3;function x3(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}var k3=G3;function G3(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var B3=N3;function N3(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var $3=V3;function V3(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var U3=H3;function H3(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=n+n,a=r+r,l=s+s,c=n*o,f=r*o,u=r*a,h=s*o,d=s*a,g=s*l,p=i*o,m=i*a,v=i*l;return e[0]=1-u-g,e[1]=f+v,e[2]=h-m,e[3]=0,e[4]=f-v,e[5]=1-c-g,e[6]=d+p,e[7]=0,e[8]=h+m,e[9]=d-p,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var z3=j3;function j3(e,t,n,r,s,i,o){var a=1/(n-t),l=1/(s-r),c=1/(i-o);return e[0]=i*2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(s+r)*l,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}var q3=X3;function X3(e,t,n,r,s){var i=1/Math.tan(t/2),o=1/(r-s);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*r*o,e[15]=0,e}var W3=Y3;function Y3(e,t,n,r){var s=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(s+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((o-a)*l*.5),e[9]=(s-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}var Z3=K3;function K3(e,t,n,r,s,i,o){var a=1/(t-n),l=1/(r-s),c=1/(i-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(s+r)*l,e[14]=(o+i)*c,e[15]=1,e}var Q3=xg,J3=eA;function eA(e,t,n,r){var s,i,o,a,l,c,f,u,h,d,g=t[0],p=t[1],m=t[2],v=r[0],b=r[1],y=r[2],S=n[0],w=n[1],E=n[2];return Math.abs(g-S)<1e-6&&Math.abs(p-w)<1e-6&&Math.abs(m-E)<1e-6?Q3(e):(f=g-S,u=p-w,h=m-E,d=1/Math.sqrt(f*f+u*u+h*h),f*=d,u*=d,h*=d,s=b*h-y*u,i=y*f-v*h,o=v*u-b*f,d=Math.sqrt(s*s+i*i+o*o),d?(d=1/d,s*=d,i*=d,o*=d):(s=0,i=0,o=0),a=u*o-h*i,l=h*s-f*o,c=f*i-u*s,d=Math.sqrt(a*a+l*l+c*c),d?(d=1/d,a*=d,l*=d,c*=d):(a=0,l=0,c=0),e[0]=s,e[1]=a,e[2]=f,e[3]=0,e[4]=i,e[5]=l,e[6]=u,e[7]=0,e[8]=o,e[9]=c,e[10]=h,e[11]=0,e[12]=-(s*g+i*p+o*m),e[13]=-(a*g+l*p+c*m),e[14]=-(f*g+u*p+h*m),e[15]=1,e)}var tA=nA;function nA(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}var br={create:J5,clone:t3,copy:r3,identity:xg,transpose:o3,invert:l3,adjoint:f3,determinant:d3,multiply:m3,translate:g3,scale:b3,rotate:y3,rotateX:S3,rotateY:w3,rotateZ:C3,fromRotation:L3,fromRotationTranslation:R3,fromScaling:I3,fromTranslation:F3,fromXRotation:k3,fromYRotation:B3,fromZRotation:$3,fromQuat:U3,frustum:z3,perspective:q3,perspectiveFromFieldOfView:W3,ortho:Z3,lookAt:J3,str:tA};const Af=br,rA=(e,t={})=>{const{fbo:n}=t,r={cull:{enable:!0},context:{lightDirection:[.2,.2,1]},uniforms:{view:(s,i)=>i.camera.view,eye:(s,i)=>i.camera.position,projection:(s,i)=>i.camera.projection,camNear:(s,i)=>i.camera.near,camFar:(s,i)=>i.camera.far,invertedView:(s,i)=>Af.invert([],i.camera.view),lightPosition:(s,i)=>i&&i.rendering&&i.rendering.lightPosition?i.rendering.lightPosition:[100,200,100],lightDirection:(s,i)=>i&&i.rendering&&i.rendering.lightDirection?i.rendering.lightDirection:s.lightDirection||[0,0,0],lightView:s=>Af.lookAt([],s.lightDirection,[0,0,0],[0,0,1]),lightProjection:Af.ortho([],-25,-25,-20,20,-25,25),lightColor:(s,i)=>i&&i.rendering&&i.rendering.lightColor?i.rendering.lightColor:[1,.8,0],ambientLightAmount:(s,i)=>i&&i.rendering&&i.rendering.ambientLightAmount?i.rendering.ambientLightAmount:.3,diffuseLightAmount:(s,i)=>i&&i.rendering&&i.rendering.diffuseLightAmount?i&&i.rendering&&i.rendering.diffuseLightAmount:.89,specularLightAmount:(s,i)=>i&&i.rendering&&i.rendering.specularLightAmount?i.rendering.specularLightAmount:.16,uMaterialShininess:(s,i)=>i&&i.rendering&&i.rendering.materialShininess?i.rendering.materialShininess:8,materialAmbient:[.5,.8,.3],materialDiffuse:[.5,.8,.3],materialSpecular:[.5,.8,.3]},framebuffer:n};return e(Object.assign({},r,t.extras))};var sA=rA,Pl={background:[1,1,1,1],meshColor:[0,.6,1,1],lightColor:[1,1,1,1],lightDirection:[.2,.2,1],lightPosition:[100,200,100],ambientLightAmount:.3,diffuseLightAmount:.89,specularLightAmount:.16,materialShininess:8},Sf={exports:{}},I1;function iA(){return I1||(I1=1,function(e,t){(function(n,r){e.exports=r()})(zs,function(){var n=function(_){return _ instanceof Uint8Array||_ instanceof Uint16Array||_ instanceof Uint32Array||_ instanceof Int8Array||_ instanceof Int16Array||_ instanceof Int32Array||_ instanceof Float32Array||_ instanceof Float64Array||_ instanceof Uint8ClampedArray},r=function(_,C){for(var F=Object.keys(C),Q=0;Q<F.length;++Q)_[F[Q]]=C[F[Q]];return _},s=`
`;function i(_){return typeof atob<"u"?atob(_):"base64:"+_}function o(_){var C=new Error("(regl) "+_);throw console.error(C),C}function a(_,C){_||o(C)}function l(_){return _?": "+_:""}function c(_,C,F){_ in C||o("unknown parameter ("+_+")"+l(F)+". possible values: "+Object.keys(C).join())}function f(_,C){n(_)||o("invalid parameter type"+l(C)+". must be a typed array")}function u(_,C){switch(C){case"number":return typeof _=="number";case"object":return typeof _=="object";case"string":return typeof _=="string";case"boolean":return typeof _=="boolean";case"function":return typeof _=="function";case"undefined":return typeof _>"u";case"symbol":return typeof _=="symbol"}}function h(_,C,F){u(_,C)||o("invalid parameter type"+l(F)+". expected "+C+", got "+typeof _)}function d(_,C){_>=0&&(_|0)===_||o("invalid parameter type, ("+_+")"+l(C)+". must be a nonnegative integer")}function g(_,C,F){C.indexOf(_)<0&&o("invalid value"+l(F)+". must be one of: "+C)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(_){Object.keys(_).forEach(function(C){p.indexOf(C)<0&&o('invalid regl constructor argument "'+C+'". must be one of '+p)})}function v(_,C){for(_=_+"";_.length<C;)_=" "+_;return _}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(_,C){this.number=_,this.line=C,this.errors=[]}function S(_,C,F){this.file=_,this.line=C,this.message=F}function w(){var _=new Error,C=(_.stack||_).toString(),F=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(C);if(F)return F[1];var Q=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(C);return Q?Q[1]:"unknown"}function E(){var _=new Error,C=(_.stack||_).toString(),F=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(C);if(F)return F[1];var Q=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(C);return Q?Q[1]:"unknown"}function A(_,C){var F=_.split(`
`),Q=1,de=0,K={unknown:new b,0:new b};K.unknown.name=K[0].name=C||w(),K.unknown.lines.push(new y(0,""));for(var ie=0;ie<F.length;++ie){var _e=F[ie],be=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(_e);if(be)switch(be[1]){case"line":var we=/(\d+)(\s+\d+)?/.exec(be[2]);we&&(Q=we[1]|0,we[2]&&(de=we[2]|0,de in K||(K[de]=new b)));break;case"define":var Ce=/SHADER_NAME(_B64)?\s+(.*)$/.exec(be[2]);Ce&&(K[de].name=Ce[1]?i(Ce[2]):Ce[2]);break}K[de].lines.push(new y(Q++,_e))}return Object.keys(K).forEach(function(Te){var Re=K[Te];Re.lines.forEach(function(ye){Re.index[ye.number]=ye})}),K}function O(_){var C=[];return _.split(`
`).forEach(function(F){if(!(F.length<5)){var Q=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(F);Q?C.push(new S(Q[1]|0,Q[2]|0,Q[3].trim())):F.length>0&&C.push(new S("unknown",0,F))}}),C}function U(_,C){C.forEach(function(F){var Q=_[F.file];if(Q){var de=Q.index[F.line];if(de){de.errors.push(F),Q.hasErrors=!0;return}}_.unknown.hasErrors=!0,_.unknown.lines[0].errors.push(F)})}function N(_,C,F,Q,de){if(!_.getShaderParameter(C,_.COMPILE_STATUS)){var K=_.getShaderInfoLog(C),ie=Q===_.FRAGMENT_SHADER?"fragment":"vertex";H(F,"string",ie+" shader source must be a string",de);var _e=A(F,de),be=O(K);U(_e,be),Object.keys(_e).forEach(function(we){var Ce=_e[we];if(!Ce.hasErrors)return;var Te=[""],Re=[""];function ye(Ee,j){Te.push(Ee),Re.push(j||"")}ye("file number "+we+": "+Ce.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Ce.lines.forEach(function(Ee){if(Ee.errors.length>0){ye(v(Ee.number,4)+"|  ","background-color:yellow; font-weight:bold"),ye(Ee.line+s,"color:red; background-color:yellow; font-weight:bold");var j=0;Ee.errors.forEach(function(re){var Se=re.message,$e=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Se);if($e){var ve=$e[1];switch(Se=$e[2],ve){case"assign":ve="=";break}j=Math.max(Ee.line.indexOf(ve,j),0)}else j=0;ye(v("| ",6)),ye(v("^^^",j+3)+s,"font-weight:bold"),ye(v("| ",6)),ye(Se+s,"font-weight:bold")}),ye(v("| ",6)+s)}else ye(v(Ee.number,4)+"|  "),ye(Ee.line+s,"color:red")}),typeof document<"u"&&!window.chrome?(Re[0]=Te.join("%c"),console.log.apply(console,Re)):console.log(Te.join(""))}),a.raise("Error compiling "+ie+" shader, "+_e[0].name)}}function x(_,C,F,Q,de){if(!_.getProgramParameter(C,_.LINK_STATUS)){var K=_.getProgramInfoLog(C),ie=A(F,de),_e=A(Q,de),be='Error linking program with vertex shader, "'+_e[0].name+'", and fragment shader "'+ie[0].name+'"';typeof document<"u"?console.log("%c"+be+s+"%c"+K,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(be+s+K),a.raise(be)}}function le(_){_._commandRef=w()}function $(_,C,F,Q){le(_);function de(be){return be?Q.id(be):0}_._fragId=de(_.static.frag),_._vertId=de(_.static.vert);function K(be,we){Object.keys(we).forEach(function(Ce){be[Q.id(Ce)]=!0})}var ie=_._uniformSet={};K(ie,C.static),K(ie,C.dynamic);var _e=_._attributeSet={};K(_e,F.static),K(_e,F.dynamic),_._hasCount="count"in _.static||"count"in _.dynamic||"elements"in _.static||"elements"in _.dynamic}function W(_,C){var F=E();o(_+" in command "+(C||w())+(F==="unknown"?"":" called from "+F))}function Be(_,C,F){_||W(C,F||w())}function ne(_,C,F,Q){_ in C||W("unknown parameter ("+_+")"+l(F)+". possible values: "+Object.keys(C).join(),Q||w())}function H(_,C,F,Q){u(_,C)||W("invalid parameter type"+l(F)+". expected "+C+", got "+typeof _,Q||w())}function he(_){_()}function te(_,C,F){_.texture?g(_.texture._texture.internalformat,C,"unsupported texture format for attachment"):g(_.renderbuffer._renderbuffer.format,F,"unsupported renderbuffer format for attachment")}var oe=33071,ct=9728,ke=9984,Pt=9985,Xt=9986,$t=9987,On=5120,zn=5121,Ye=5122,Ve=5123,Rn=5124,Wi=5125,Yi=5126,Zo=32819,Zr=32820,Kr=33635,ys=34042,As=36193,Vn={};Vn[On]=Vn[zn]=1,Vn[Ye]=Vn[Ve]=Vn[As]=Vn[Kr]=Vn[Zo]=Vn[Zr]=2,Vn[Rn]=Vn[Wi]=Vn[Yi]=Vn[ys]=4;function Ko(_,C){return _===Zr||_===Zo||_===Kr?2:_===ys?4:Vn[_]*C}function ri(_){return!(_&_-1)&&!!_}function Zl(_,C,F){var Q,de=C.width,K=C.height,ie=C.channels;a(de>0&&de<=F.maxTextureSize&&K>0&&K<=F.maxTextureSize,"invalid texture shape"),(_.wrapS!==oe||_.wrapT!==oe)&&a(ri(de)&&ri(K),"incompatible wrap mode for texture, both width and height must be power of 2"),C.mipmask===1?de!==1&&K!==1&&a(_.minFilter!==ke&&_.minFilter!==Xt&&_.minFilter!==Pt&&_.minFilter!==$t,"min filter requires mipmap"):(a(ri(de)&&ri(K),"texture must be a square power of 2 to support mipmapping"),a(C.mipmask===(de<<1)-1,"missing or incomplete mipmap data")),C.type===Yi&&(F.extensions.indexOf("oes_texture_float_linear")<0&&a(_.minFilter===ct&&_.magFilter===ct,"filter not supported, must enable oes_texture_float_linear"),a(!_.genMipmaps,"mipmap generation not supported with float textures"));var _e=C.images;for(Q=0;Q<16;++Q)if(_e[Q]){var be=de>>Q,we=K>>Q;a(C.mipmask&1<<Q,"missing mipmap data");var Ce=_e[Q];if(a(Ce.width===be&&Ce.height===we,"invalid shape for mip images"),a(Ce.format===C.format&&Ce.internalformat===C.internalformat&&Ce.type===C.type,"incompatible type for mip image"),!Ce.compressed)if(Ce.data){var Te=Math.ceil(Ko(Ce.type,ie)*be/Ce.unpackAlignment)*Ce.unpackAlignment;a(Ce.data.byteLength===Te*we,"invalid data for image, buffer size is inconsistent with image format")}else Ce.element||Ce.copy}else _.genMipmaps||a((C.mipmask&1<<Q)===0,"extra mipmap data");C.compressed&&a(!_.genMipmaps,"mipmap generation for compressed images not supported")}function Kl(_,C,F,Q){var de=_.width,K=_.height,ie=_.channels;a(de>0&&de<=Q.maxTextureSize&&K>0&&K<=Q.maxTextureSize,"invalid texture shape"),a(de===K,"cube map must be square"),a(C.wrapS===oe&&C.wrapT===oe,"wrap mode not supported by cube map");for(var _e=0;_e<F.length;++_e){var be=F[_e];a(be.width===de&&be.height===K,"inconsistent cube map face shape"),C.genMipmaps&&(a(!be.compressed,"can not generate mipmap for compressed textures"),a(be.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var we=be.images,Ce=0;Ce<16;++Ce){var Te=we[Ce];if(Te){var Re=de>>Ce,ye=K>>Ce;a(be.mipmask&1<<Ce,"missing mipmap data"),a(Te.width===Re&&Te.height===ye,"invalid shape for mip images"),a(Te.format===_.format&&Te.internalformat===_.internalformat&&Te.type===_.type,"incompatible type for mip image"),Te.compressed||(Te.data?a(Te.data.byteLength===Re*ye*Math.max(Ko(Te.type,ie),Te.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Te.element||Te.copy)}}}}var P=r(a,{optional:he,raise:o,commandRaise:W,command:Be,parameter:c,commandParameter:ne,constructor:m,type:h,commandType:H,isTypedArray:f,nni:d,oneOf:g,shaderError:N,linkError:x,callSite:E,saveCommandRef:le,saveDrawInfo:$,framebufferFormat:te,guessCommand:w,texture2D:Zl,textureCube:Kl}),Ql=0,Qo=0,Jo=5,Jl=6;function kr(_,C){this.id=Ql++,this.type=_,this.data=C}function ea(_){return _.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Qr(_){if(_.length===0)return[];var C=_.charAt(0),F=_.charAt(_.length-1);if(_.length>1&&C===F&&(C==='"'||C==="'"))return['"'+ea(_.substr(1,_.length-2))+'"'];var Q=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(_);if(Q)return Qr(_.substr(0,Q.index)).concat(Qr(Q[1])).concat(Qr(_.substr(Q.index+Q[0].length)));var de=_.split(".");if(de.length===1)return['"'+ea(_)+'"'];for(var K=[],ie=0;ie<de.length;++ie)K=K.concat(Qr(de[ie]));return K}function Ss(_){return"["+Qr(_).join("][")+"]"}function ec(_,C){return new kr(_,Ss(C+""))}function tc(_){return typeof _=="function"&&!_._reglType||_ instanceof kr}function ta(_,C){if(typeof _=="function")return new kr(Qo,_);if(typeof _=="number"||typeof _=="boolean")return new kr(Jo,_);if(Array.isArray(_))return new kr(Jl,_.map(function(F,Q){return ta(F,C+"["+Q+"]")}));if(_ instanceof kr)return _;P(!1,"invalid option type in uniform "+C)}var jn={DynamicVariable:kr,define:ec,isDynamic:tc,unbox:ta,accessor:Ss},Zi={next:typeof requestAnimationFrame=="function"?function(_){return requestAnimationFrame(_)}:function(_){return setTimeout(_,16)},cancel:typeof cancelAnimationFrame=="function"?function(_){return cancelAnimationFrame(_)}:clearTimeout},na=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function nc(){var _={"":0},C=[""];return{id:function(F){var Q=_[F];return Q||(Q=_[F]=C.length,C.push(F),Q)},str:function(F){return C[F]}}}function rc(_,C,F){var Q=document.createElement("canvas");r(Q.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),_.appendChild(Q),_===document.body&&(Q.style.position="absolute",r(_.style,{margin:0,padding:0}));function de(){var _e=window.innerWidth,be=window.innerHeight;if(_!==document.body){var we=Q.getBoundingClientRect();_e=we.right-we.left,be=we.bottom-we.top}Q.width=F*_e,Q.height=F*be}var K;_!==document.body&&typeof ResizeObserver=="function"?(K=new ResizeObserver(function(){setTimeout(de)}),K.observe(_)):window.addEventListener("resize",de,!1);function ie(){K?K.disconnect():window.removeEventListener("resize",de),_.removeChild(Q)}return de(),{canvas:Q,onDestroy:ie}}function sc(_,C){function F(Q){try{return _.getContext(Q,C)}catch{return null}}return F("webgl")||F("experimental-webgl")||F("webgl-experimental")}function ic(_){return typeof _.nodeName=="string"&&typeof _.appendChild=="function"&&typeof _.getBoundingClientRect=="function"}function oc(_){return typeof _.drawArrays=="function"||typeof _.drawElements=="function"}function ra(_){return typeof _=="string"?_.split():(P(Array.isArray(_),"invalid extension array"),_)}function sa(_){return typeof _=="string"?(P(typeof document<"u","not supported outside of DOM"),document.querySelector(_)):_}function ac(_){var C=_||{},F,Q,de,K,ie={},_e=[],be=[],we=typeof window>"u"?1:window.devicePixelRatio,Ce=!1,Te=function(Ee){Ee&&P.raise(Ee)},Re=function(){};if(typeof C=="string"?(P(typeof document<"u","selector queries only supported in DOM enviroments"),F=document.querySelector(C),P(F,"invalid query string for element")):typeof C=="object"?ic(C)?F=C:oc(C)?(K=C,de=K.canvas):(P.constructor(C),"gl"in C?K=C.gl:"canvas"in C?de=sa(C.canvas):"container"in C&&(Q=sa(C.container)),"attributes"in C&&(ie=C.attributes,P.type(ie,"object","invalid context attributes")),"extensions"in C&&(_e=ra(C.extensions)),"optionalExtensions"in C&&(be=ra(C.optionalExtensions)),"onDone"in C&&(P.type(C.onDone,"function","invalid or missing onDone callback"),Te=C.onDone),"profile"in C&&(Ce=!!C.profile),"pixelRatio"in C&&(we=+C.pixelRatio,P(we>0,"invalid pixel ratio"))):P.raise("invalid arguments to regl"),F&&(F.nodeName.toLowerCase()==="canvas"?de=F:Q=F),!K){if(!de){P(typeof document<"u","must manually specify webgl context outside of DOM environments");var ye=rc(Q||document.body,Te,we);if(!ye)return null;de=ye.canvas,Re=ye.onDestroy}ie.premultipliedAlpha===void 0&&(ie.premultipliedAlpha=!0),K=sc(de,ie)}return K?{gl:K,canvas:de,container:Q,extensions:_e,optionalExtensions:be,pixelRatio:we,profile:Ce,onDone:Te,onDestroy:Re}:(Re(),Te("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function lc(_,C){var F={};function Q(ie){P.type(ie,"string","extension name must be string");var _e=ie.toLowerCase(),be;try{be=F[_e]=_.getExtension(_e)}catch{}return!!be}for(var de=0;de<C.extensions.length;++de){var K=C.extensions[de];if(!Q(K))return C.onDestroy(),C.onDone('"'+K+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return C.optionalExtensions.forEach(Q),{extensions:F,restore:function(){Object.keys(F).forEach(function(ie){if(F[ie]&&!Q(ie))throw new Error("(regl): error restoring extension "+ie)})}}}function qn(_,C){for(var F=Array(_),Q=0;Q<_;++Q)F[Q]=C(Q);return F}var cc=5120,fc=5121,uc=5122,dc=5123,hc=5124,mc=5125,pc=5126;function gc(_){for(var C=16;C<=1<<28;C*=16)if(_<=C)return C;return 0}function ia(_){var C,F;return C=(_>65535)<<4,_>>>=C,F=(_>255)<<3,_>>>=F,C|=F,F=(_>15)<<2,_>>>=F,C|=F,F=(_>3)<<1,_>>>=F,C|=F,C|_>>1}function oa(){var _=qn(8,function(){return[]});function C(K){var ie=gc(K),_e=_[ia(ie)>>2];return _e.length>0?_e.pop():new ArrayBuffer(ie)}function F(K){_[ia(K.byteLength)>>2].push(K)}function Q(K,ie){var _e=null;switch(K){case cc:_e=new Int8Array(C(ie),0,ie);break;case fc:_e=new Uint8Array(C(ie),0,ie);break;case uc:_e=new Int16Array(C(2*ie),0,ie);break;case dc:_e=new Uint16Array(C(2*ie),0,ie);break;case hc:_e=new Int32Array(C(4*ie),0,ie);break;case mc:_e=new Uint32Array(C(4*ie),0,ie);break;case pc:_e=new Float32Array(C(4*ie),0,ie);break;default:return null}return _e.length!==ie?_e.subarray(0,ie):_e}function de(K){F(K.buffer)}return{alloc:C,free:F,allocType:Q,freeType:de}}var sn=oa();sn.zero=oa();var vc=3408,bc=3410,_c=3411,J=3412,mn=3413,aa=3414,yc=3415,Ki=33901,Qi=33902,nb=3379,rb=3386,sb=34921,ib=36347,ob=36348,ab=35661,lb=35660,cb=34930,fb=36349,ub=34076,db=34024,hb=7936,mb=7937,pb=7938,gb=35724,vb=34047,bb=36063,_b=34852,la=3553,Ed=34067,yb=34069,Ab=33984,Ji=6408,Ac=5126,wd=5121,Sc=36160,Sb=36053,Eb=36064,wb=16384,Tb=function(_,C){var F=1;C.ext_texture_filter_anisotropic&&(F=_.getParameter(vb));var Q=1,de=1;C.webgl_draw_buffers&&(Q=_.getParameter(_b),de=_.getParameter(bb));var K=!!C.oes_texture_float;if(K){var ie=_.createTexture();_.bindTexture(la,ie),_.texImage2D(la,0,Ji,1,1,0,Ji,Ac,null);var _e=_.createFramebuffer();if(_.bindFramebuffer(Sc,_e),_.framebufferTexture2D(Sc,Eb,la,ie,0),_.bindTexture(la,null),_.checkFramebufferStatus(Sc)!==Sb)K=!1;else{_.viewport(0,0,1,1),_.clearColor(1,0,0,1),_.clear(wb);var be=sn.allocType(Ac,4);_.readPixels(0,0,1,1,Ji,Ac,be),_.getError()?K=!1:(_.deleteFramebuffer(_e),_.deleteTexture(ie),K=be[0]===1),sn.freeType(be)}}var we=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Ce=!0;if(!we){var Te=_.createTexture(),Re=sn.allocType(wd,36);_.activeTexture(Ab),_.bindTexture(Ed,Te),_.texImage2D(yb,0,Ji,3,3,0,Ji,wd,Re),sn.freeType(Re),_.bindTexture(Ed,null),_.deleteTexture(Te),Ce=!_.getError()}return{colorBits:[_.getParameter(bc),_.getParameter(_c),_.getParameter(J),_.getParameter(mn)],depthBits:_.getParameter(aa),stencilBits:_.getParameter(yc),subpixelBits:_.getParameter(vc),extensions:Object.keys(C).filter(function(ye){return!!C[ye]}),maxAnisotropic:F,maxDrawbuffers:Q,maxColorAttachments:de,pointSizeDims:_.getParameter(Ki),lineWidthDims:_.getParameter(Qi),maxViewportDims:_.getParameter(rb),maxCombinedTextureUnits:_.getParameter(ab),maxCubeMapSize:_.getParameter(ub),maxRenderbufferSize:_.getParameter(db),maxTextureUnits:_.getParameter(cb),maxTextureSize:_.getParameter(nb),maxAttributes:_.getParameter(sb),maxVertexUniforms:_.getParameter(ib),maxVertexTextureUnits:_.getParameter(lb),maxVaryingVectors:_.getParameter(ob),maxFragmentUniforms:_.getParameter(fb),glsl:_.getParameter(gb),renderer:_.getParameter(mb),vendor:_.getParameter(hb),version:_.getParameter(pb),readFloat:K,npotTextureCube:Ce}};function _r(_){return!!_&&typeof _=="object"&&Array.isArray(_.shape)&&Array.isArray(_.stride)&&typeof _.offset=="number"&&_.shape.length===_.stride.length&&(Array.isArray(_.data)||n(_.data))}var or=function(_){return Object.keys(_).map(function(C){return _[C]})},ca={shape:Ob,flatten:Lb};function Cb(_,C,F){for(var Q=0;Q<C;++Q)F[Q]=_[Q]}function Pb(_,C,F,Q){for(var de=0,K=0;K<C;++K)for(var ie=_[K],_e=0;_e<F;++_e)Q[de++]=ie[_e]}function Td(_,C,F,Q,de,K){for(var ie=K,_e=0;_e<C;++_e)for(var be=_[_e],we=0;we<F;++we)for(var Ce=be[we],Te=0;Te<Q;++Te)de[ie++]=Ce[Te]}function Cd(_,C,F,Q,de){for(var K=1,ie=F+1;ie<C.length;++ie)K*=C[ie];var _e=C[F];if(C.length-F===4){var be=C[F+1],we=C[F+2],Ce=C[F+3];for(ie=0;ie<_e;++ie)Td(_[ie],be,we,Ce,Q,de),de+=K}else for(ie=0;ie<_e;++ie)Cd(_[ie],C,F+1,Q,de),de+=K}function Lb(_,C,F,Q){var de=1;if(C.length)for(var K=0;K<C.length;++K)de*=C[K];else de=0;var ie=Q||sn.allocType(F,de);switch(C.length){case 0:break;case 1:Cb(_,C[0],ie);break;case 2:Pb(_,C[0],C[1],ie);break;case 3:Td(_,C[0],C[1],C[2],ie,0);break;default:Cd(_,C,0,ie,0)}return ie}function Ob(_){for(var C=[],F=_;F.length;F=F[0])C.push(F.length);return C}var Ec={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Rb=5120,Mb=5122,Ib=5124,Db=5121,Fb=5123,xb=5125,kb=5126,Gb=5126,Es={int8:Rb,int16:Mb,int32:Ib,uint8:Db,uint16:Fb,uint32:xb,float:kb,float32:Gb},Bb=35048,Nb=35040,fa={dynamic:Bb,stream:Nb,static:35044},wc=ca.flatten,Pd=ca.shape,Ld=35044,$b=35040,Tc=5121,Cc=5126,Jr=[];Jr[5120]=1,Jr[5122]=2,Jr[5124]=4,Jr[5121]=1,Jr[5123]=2,Jr[5125]=4,Jr[5126]=4;function ua(_){return Ec[Object.prototype.toString.call(_)]|0}function Od(_,C){for(var F=0;F<C.length;++F)_[F]=C[F]}function Rd(_,C,F,Q,de,K,ie){for(var _e=0,be=0;be<F;++be)for(var we=0;we<Q;++we)_[_e++]=C[de*be+K*we+ie]}function Vb(_,C,F,Q){var de=0,K={};function ie(j){this.id=de++,this.buffer=_.createBuffer(),this.type=j,this.usage=Ld,this.byteLength=0,this.dimension=1,this.dtype=Tc,this.persistentData=null,F.profile&&(this.stats={size:0})}ie.prototype.bind=function(){_.bindBuffer(this.type,this.buffer)},ie.prototype.destroy=function(){Re(this)};var _e=[];function be(j,re){var Se=_e.pop();return Se||(Se=new ie(j)),Se.bind(),Te(Se,re,$b,0,1,!1),Se}function we(j){_e.push(j)}function Ce(j,re,Se){j.byteLength=re.byteLength,_.bufferData(j.type,re,Se)}function Te(j,re,Se,$e,ve,Ge){var Fe;if(j.usage=Se,Array.isArray(re)){if(j.dtype=$e||Cc,re.length>0){var Ke;if(Array.isArray(re[0])){Fe=Pd(re);for(var me=1,ue=1;ue<Fe.length;++ue)me*=Fe[ue];j.dimension=me,Ke=wc(re,Fe,j.dtype),Ce(j,Ke,Se),Ge?j.persistentData=Ke:sn.freeType(Ke)}else if(typeof re[0]=="number"){j.dimension=ve;var ze=sn.allocType(j.dtype,re.length);Od(ze,re),Ce(j,ze,Se),Ge?j.persistentData=ze:sn.freeType(ze)}else n(re[0])?(j.dimension=re[0].length,j.dtype=$e||ua(re[0])||Cc,Ke=wc(re,[re.length,re[0].length],j.dtype),Ce(j,Ke,Se),Ge?j.persistentData=Ke:sn.freeType(Ke)):P.raise("invalid buffer data")}}else if(n(re))j.dtype=$e||ua(re),j.dimension=ve,Ce(j,re,Se),Ge&&(j.persistentData=new Uint8Array(new Uint8Array(re.buffer)));else if(_r(re)){Fe=re.shape;var Me=re.stride,Ae=re.offset,Ie=0,De=0,ft=0,at=0;Fe.length===1?(Ie=Fe[0],De=1,ft=Me[0],at=0):Fe.length===2?(Ie=Fe[0],De=Fe[1],ft=Me[0],at=Me[1]):P.raise("invalid shape"),j.dtype=$e||ua(re.data)||Cc,j.dimension=De;var xe=sn.allocType(j.dtype,Ie*De);Rd(xe,re.data,Ie,De,ft,at,Ae),Ce(j,xe,Se),Ge?j.persistentData=xe:sn.freeType(xe)}else re instanceof ArrayBuffer?(j.dtype=Tc,j.dimension=ve,Ce(j,re,Se),Ge&&(j.persistentData=new Uint8Array(new Uint8Array(re)))):P.raise("invalid buffer data")}function Re(j){C.bufferCount--,Q(j);var re=j.buffer;P(re,"buffer must not be deleted already"),_.deleteBuffer(re),j.buffer=null,delete K[j.id]}function ye(j,re,Se,$e){C.bufferCount++;var ve=new ie(re);K[ve.id]=ve;function Ge(me){var ue=Ld,ze=null,Me=0,Ae=0,Ie=1;return Array.isArray(me)||n(me)||_r(me)||me instanceof ArrayBuffer?ze=me:typeof me=="number"?Me=me|0:me&&(P.type(me,"object","buffer arguments must be an object, a number or an array"),"data"in me&&(P(ze===null||Array.isArray(ze)||n(ze)||_r(ze),"invalid data for buffer"),ze=me.data),"usage"in me&&(P.parameter(me.usage,fa,"invalid buffer usage"),ue=fa[me.usage]),"type"in me&&(P.parameter(me.type,Es,"invalid buffer type"),Ae=Es[me.type]),"dimension"in me&&(P.type(me.dimension,"number","invalid dimension"),Ie=me.dimension|0),"length"in me&&(P.nni(Me,"buffer length must be a nonnegative integer"),Me=me.length|0)),ve.bind(),ze?Te(ve,ze,ue,Ae,Ie,$e):(Me&&_.bufferData(ve.type,Me,ue),ve.dtype=Ae||Tc,ve.usage=ue,ve.dimension=Ie,ve.byteLength=Me),F.profile&&(ve.stats.size=ve.byteLength*Jr[ve.dtype]),Ge}function Fe(me,ue){P(ue+me.byteLength<=ve.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+me.byteLength+" starting from offset "+ue+" to a buffer of size "+ve.byteLength),_.bufferSubData(ve.type,ue,me)}function Ke(me,ue){var ze=(ue||0)|0,Me;if(ve.bind(),n(me)||me instanceof ArrayBuffer)Fe(me,ze);else if(Array.isArray(me)){if(me.length>0)if(typeof me[0]=="number"){var Ae=sn.allocType(ve.dtype,me.length);Od(Ae,me),Fe(Ae,ze),sn.freeType(Ae)}else if(Array.isArray(me[0])||n(me[0])){Me=Pd(me);var Ie=wc(me,Me,ve.dtype);Fe(Ie,ze),sn.freeType(Ie)}else P.raise("invalid buffer data")}else if(_r(me)){Me=me.shape;var De=me.stride,ft=0,at=0,xe=0,Ne=0;Me.length===1?(ft=Me[0],at=1,xe=De[0],Ne=0):Me.length===2?(ft=Me[0],at=Me[1],xe=De[0],Ne=De[1]):P.raise("invalid shape");var nt=Array.isArray(me.data)?ve.dtype:ua(me.data),ut=sn.allocType(nt,ft*at);Rd(ut,me.data,ft,at,xe,Ne,me.offset),Fe(ut,ze),sn.freeType(ut)}else P.raise("invalid data for buffer subdata");return Ge}return Se||Ge(j),Ge._reglType="buffer",Ge._buffer=ve,Ge.subdata=Ke,F.profile&&(Ge.stats=ve.stats),Ge.destroy=function(){Re(ve)},Ge}function Ee(){or(K).forEach(function(j){j.buffer=_.createBuffer(),_.bindBuffer(j.type,j.buffer),_.bufferData(j.type,j.persistentData||j.byteLength,j.usage)})}return F.profile&&(C.getTotalBufferSize=function(){var j=0;return Object.keys(K).forEach(function(re){j+=K[re].stats.size}),j}),{create:ye,createStream:be,destroyStream:we,clear:function(){or(K).forEach(Re),_e.forEach(Re)},getBuffer:function(j){return j&&j._buffer instanceof ie?j._buffer:null},restore:Ee,_initBuffer:Te}}var Ub=0,Hb=0,zb=1,jb=1,qb=4,Xb=4,es={points:Ub,point:Hb,lines:zb,line:jb,triangles:qb,triangle:Xb,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Wb=0,Yb=1,eo=4,Zb=5120,si=5121,Md=5122,ii=5123,Id=5124,ws=5125,Pc=34963,Kb=35040,Qb=35044;function Jb(_,C,F,Q){var de={},K=0,ie={uint8:si,uint16:ii};C.oes_element_index_uint&&(ie.uint32=ws);function _e(Ee){this.id=K++,de[this.id]=this,this.buffer=Ee,this.primType=eo,this.vertCount=0,this.type=0}_e.prototype.bind=function(){this.buffer.bind()};var be=[];function we(Ee){var j=be.pop();return j||(j=new _e(F.create(null,Pc,!0,!1)._buffer)),Te(j,Ee,Kb,-1,-1,0,0),j}function Ce(Ee){be.push(Ee)}function Te(Ee,j,re,Se,$e,ve,Ge){Ee.buffer.bind();var Fe;if(j){var Ke=Ge;!Ge&&(!n(j)||_r(j)&&!n(j.data))&&(Ke=C.oes_element_index_uint?ws:ii),F._initBuffer(Ee.buffer,j,re,Ke,3)}else _.bufferData(Pc,ve,re),Ee.buffer.dtype=Fe||si,Ee.buffer.usage=re,Ee.buffer.dimension=3,Ee.buffer.byteLength=ve;if(Fe=Ge,!Ge){switch(Ee.buffer.dtype){case si:case Zb:Fe=si;break;case ii:case Md:Fe=ii;break;case ws:case Id:Fe=ws;break;default:P.raise("unsupported type for element array")}Ee.buffer.dtype=Fe}Ee.type=Fe,P(Fe!==ws||!!C.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var me=$e;me<0&&(me=Ee.buffer.byteLength,Fe===ii?me>>=1:Fe===ws&&(me>>=2)),Ee.vertCount=me;var ue=Se;if(Se<0){ue=eo;var ze=Ee.buffer.dimension;ze===1&&(ue=Wb),ze===2&&(ue=Yb),ze===3&&(ue=eo)}Ee.primType=ue}function Re(Ee){Q.elementsCount--,P(Ee.buffer!==null,"must not double destroy elements"),delete de[Ee.id],Ee.buffer.destroy(),Ee.buffer=null}function ye(Ee,j){var re=F.create(null,Pc,!0),Se=new _e(re._buffer);Q.elementsCount++;function $e(ve){if(!ve)re(),Se.primType=eo,Se.vertCount=0,Se.type=si;else if(typeof ve=="number")re(ve),Se.primType=eo,Se.vertCount=ve|0,Se.type=si;else{var Ge=null,Fe=Qb,Ke=-1,me=-1,ue=0,ze=0;Array.isArray(ve)||n(ve)||_r(ve)?Ge=ve:(P.type(ve,"object","invalid arguments for elements"),"data"in ve&&(Ge=ve.data,P(Array.isArray(Ge)||n(Ge)||_r(Ge),"invalid data for element buffer")),"usage"in ve&&(P.parameter(ve.usage,fa,"invalid element buffer usage"),Fe=fa[ve.usage]),"primitive"in ve&&(P.parameter(ve.primitive,es,"invalid element buffer primitive"),Ke=es[ve.primitive]),"count"in ve&&(P(typeof ve.count=="number"&&ve.count>=0,"invalid vertex count for elements"),me=ve.count|0),"type"in ve&&(P.parameter(ve.type,ie,"invalid buffer type"),ze=ie[ve.type]),"length"in ve?ue=ve.length|0:(ue=me,ze===ii||ze===Md?ue*=2:(ze===ws||ze===Id)&&(ue*=4))),Te(Se,Ge,Fe,Ke,me,ue,ze)}return $e}return $e(Ee),$e._reglType="elements",$e._elements=Se,$e.subdata=function(ve,Ge){return re.subdata(ve,Ge),$e},$e.destroy=function(){Re(Se)},$e}return{create:ye,createStream:we,destroyStream:Ce,getElements:function(Ee){return typeof Ee=="function"&&Ee._elements instanceof _e?Ee._elements:null},clear:function(){or(de).forEach(Re)}}}var Dd=new Float32Array(1),e_=new Uint32Array(Dd.buffer),t_=5123;function Fd(_){for(var C=sn.allocType(t_,_.length),F=0;F<_.length;++F)if(isNaN(_[F]))C[F]=65535;else if(_[F]===1/0)C[F]=31744;else if(_[F]===-1/0)C[F]=64512;else{Dd[0]=_[F];var Q=e_[0],de=Q>>>31<<15,K=(Q<<1>>>24)-127,ie=Q>>13&1024-1;if(K<-24)C[F]=de;else if(K<-14){var _e=-14-K;C[F]=de+(ie+1024>>_e)}else K>15?C[F]=de+31744:C[F]=de+(K+15<<10)+ie}return C}function Kt(_){return Array.isArray(_)||n(_)}var xd=function(_){return!(_&_-1)&&!!_},n_=34467,wr=3553,Lc=34067,da=34069,Ts=6408,Oc=6406,ha=6407,to=6409,ma=6410,kd=32854,Rc=32855,Gd=36194,r_=32819,s_=32820,i_=33635,o_=34042,Mc=6402,pa=34041,Ic=35904,Dc=35906,oi=36193,Fc=33776,xc=33777,kc=33778,Gc=33779,Bd=35986,Nd=35987,$d=34798,Vd=35840,Ud=35841,Hd=35842,zd=35843,jd=36196,ai=5121,Bc=5123,Nc=5125,no=5126,a_=10242,l_=10243,c_=10497,$c=33071,f_=33648,u_=10240,d_=10241,Vc=9728,h_=9729,Uc=9984,qd=9985,Xd=9986,Hc=9987,m_=33170,ga=4352,p_=4353,g_=4354,v_=34046,b_=3317,__=37440,y_=37441,A_=37443,Wd=37444,ro=33984,S_=[Uc,Xd,qd,Hc],va=[0,to,ma,ha,Ts],hr={};hr[to]=hr[Oc]=hr[Mc]=1,hr[pa]=hr[ma]=2,hr[ha]=hr[Ic]=3,hr[Ts]=hr[Dc]=4;function li(_){return"[object "+_+"]"}var Yd=li("HTMLCanvasElement"),Zd=li("OffscreenCanvas"),Kd=li("CanvasRenderingContext2D"),Qd=li("ImageBitmap"),Jd=li("HTMLImageElement"),e0=li("HTMLVideoElement"),E_=Object.keys(Ec).concat([Yd,Zd,Kd,Qd,Jd,e0]),ci=[];ci[ai]=1,ci[no]=4,ci[oi]=2,ci[Bc]=2,ci[Nc]=4;var Dn=[];Dn[kd]=2,Dn[Rc]=2,Dn[Gd]=2,Dn[pa]=4,Dn[Fc]=.5,Dn[xc]=.5,Dn[kc]=1,Dn[Gc]=1,Dn[Bd]=.5,Dn[Nd]=1,Dn[$d]=1,Dn[Vd]=.5,Dn[Ud]=.25,Dn[Hd]=.5,Dn[zd]=.25,Dn[jd]=.5;function t0(_){return Array.isArray(_)&&(_.length===0||typeof _[0]=="number")}function n0(_){if(!Array.isArray(_))return!1;var C=_.length;return!(C===0||!Kt(_[0]))}function Cs(_){return Object.prototype.toString.call(_)}function r0(_){return Cs(_)===Yd}function s0(_){return Cs(_)===Zd}function w_(_){return Cs(_)===Kd}function T_(_){return Cs(_)===Qd}function C_(_){return Cs(_)===Jd}function P_(_){return Cs(_)===e0}function zc(_){if(!_)return!1;var C=Cs(_);return E_.indexOf(C)>=0?!0:t0(_)||n0(_)||_r(_)}function i0(_){return Ec[Object.prototype.toString.call(_)]|0}function L_(_,C){var F=C.length;switch(_.type){case ai:case Bc:case Nc:case no:var Q=sn.allocType(_.type,F);Q.set(C),_.data=Q;break;case oi:_.data=Fd(C);break;default:P.raise("unsupported texture type, must specify a typed array")}}function o0(_,C){return sn.allocType(_.type===oi?no:_.type,C)}function a0(_,C){_.type===oi?(_.data=Fd(C),sn.freeType(C)):_.data=C}function O_(_,C,F,Q,de,K){for(var ie=_.width,_e=_.height,be=_.channels,we=ie*_e*be,Ce=o0(_,we),Te=0,Re=0;Re<_e;++Re)for(var ye=0;ye<ie;++ye)for(var Ee=0;Ee<be;++Ee)Ce[Te++]=C[F*ye+Q*Re+de*Ee+K];a0(_,Ce)}function ba(_,C,F,Q,de,K){var ie;if(typeof Dn[_]<"u"?ie=Dn[_]:ie=hr[_]*ci[C],K&&(ie*=6),de){for(var _e=0,be=F;be>=1;)_e+=ie*be*be,be/=2;return _e}else return ie*F*Q}function R_(_,C,F,Q,de,K,ie){var _e={"don't care":ga,"dont care":ga,nice:g_,fast:p_},be={repeat:c_,clamp:$c,mirror:f_},we={nearest:Vc,linear:h_},Ce=r({mipmap:Hc,"nearest mipmap nearest":Uc,"linear mipmap nearest":qd,"nearest mipmap linear":Xd,"linear mipmap linear":Hc},we),Te={none:0,browser:Wd},Re={uint8:ai,rgba4:r_,rgb565:i_,"rgb5 a1":s_},ye={alpha:Oc,luminance:to,"luminance alpha":ma,rgb:ha,rgba:Ts,rgba4:kd,"rgb5 a1":Rc,rgb565:Gd},Ee={};C.ext_srgb&&(ye.srgb=Ic,ye.srgba=Dc),C.oes_texture_float&&(Re.float32=Re.float=no),C.oes_texture_half_float&&(Re.float16=Re["half float"]=oi),C.webgl_depth_texture&&(r(ye,{depth:Mc,"depth stencil":pa}),r(Re,{uint16:Bc,uint32:Nc,"depth stencil":o_})),C.webgl_compressed_texture_s3tc&&r(Ee,{"rgb s3tc dxt1":Fc,"rgba s3tc dxt1":xc,"rgba s3tc dxt3":kc,"rgba s3tc dxt5":Gc}),C.webgl_compressed_texture_atc&&r(Ee,{"rgb atc":Bd,"rgba atc explicit alpha":Nd,"rgba atc interpolated alpha":$d}),C.webgl_compressed_texture_pvrtc&&r(Ee,{"rgb pvrtc 4bppv1":Vd,"rgb pvrtc 2bppv1":Ud,"rgba pvrtc 4bppv1":Hd,"rgba pvrtc 2bppv1":zd}),C.webgl_compressed_texture_etc1&&(Ee["rgb etc1"]=jd);var j=Array.prototype.slice.call(_.getParameter(n_));Object.keys(Ee).forEach(function(I){var ee=Ee[I];j.indexOf(ee)>=0&&(ye[I]=ee)});var re=Object.keys(ye);F.textureFormats=re;var Se=[];Object.keys(ye).forEach(function(I){var ee=ye[I];Se[ee]=I});var $e=[];Object.keys(Re).forEach(function(I){var ee=Re[I];$e[ee]=I});var ve=[];Object.keys(we).forEach(function(I){var ee=we[I];ve[ee]=I});var Ge=[];Object.keys(Ce).forEach(function(I){var ee=Ce[I];Ge[ee]=I});var Fe=[];Object.keys(be).forEach(function(I){var ee=be[I];Fe[ee]=I});var Ke=re.reduce(function(I,ee){var Z=ye[ee];return Z===to||Z===Oc||Z===to||Z===ma||Z===Mc||Z===pa||C.ext_srgb&&(Z===Ic||Z===Dc)?I[Z]=Z:Z===Rc||ee.indexOf("rgba")>=0?I[Z]=Ts:I[Z]=ha,I},{});function me(){this.internalformat=Ts,this.format=Ts,this.type=ai,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Wd,this.width=0,this.height=0,this.channels=0}function ue(I,ee){I.internalformat=ee.internalformat,I.format=ee.format,I.type=ee.type,I.compressed=ee.compressed,I.premultiplyAlpha=ee.premultiplyAlpha,I.flipY=ee.flipY,I.unpackAlignment=ee.unpackAlignment,I.colorSpace=ee.colorSpace,I.width=ee.width,I.height=ee.height,I.channels=ee.channels}function ze(I,ee){if(!(typeof ee!="object"||!ee)){if("premultiplyAlpha"in ee&&(P.type(ee.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),I.premultiplyAlpha=ee.premultiplyAlpha),"flipY"in ee&&(P.type(ee.flipY,"boolean","invalid texture flip"),I.flipY=ee.flipY),"alignment"in ee&&(P.oneOf(ee.alignment,[1,2,4,8],"invalid texture unpack alignment"),I.unpackAlignment=ee.alignment),"colorSpace"in ee&&(P.parameter(ee.colorSpace,Te,"invalid colorSpace"),I.colorSpace=Te[ee.colorSpace]),"type"in ee){var Z=ee.type;P(C.oes_texture_float||!(Z==="float"||Z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),P(C.oes_texture_half_float||!(Z==="half float"||Z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),P(C.webgl_depth_texture||!(Z==="uint16"||Z==="uint32"||Z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(Z,Re,"invalid texture type"),I.type=Re[Z]}var He=I.width,pt=I.height,L=I.channels,T=!1;"shape"in ee?(P(Array.isArray(ee.shape)&&ee.shape.length>=2,"shape must be an array"),He=ee.shape[0],pt=ee.shape[1],ee.shape.length===3&&(L=ee.shape[2],P(L>0&&L<=4,"invalid number of channels"),T=!0),P(He>=0&&He<=F.maxTextureSize,"invalid width"),P(pt>=0&&pt<=F.maxTextureSize,"invalid height")):("radius"in ee&&(He=pt=ee.radius,P(He>=0&&He<=F.maxTextureSize,"invalid radius")),"width"in ee&&(He=ee.width,P(He>=0&&He<=F.maxTextureSize,"invalid width")),"height"in ee&&(pt=ee.height,P(pt>=0&&pt<=F.maxTextureSize,"invalid height")),"channels"in ee&&(L=ee.channels,P(L>0&&L<=4,"invalid number of channels"),T=!0)),I.width=He|0,I.height=pt|0,I.channels=L|0;var k=!1;if("format"in ee){var z=ee.format;P(C.webgl_depth_texture||!(z==="depth"||z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(z,ye,"invalid texture format");var q=I.internalformat=ye[z];I.format=Ke[q],z in Re&&("type"in ee||(I.type=Re[z])),z in Ee&&(I.compressed=!0),k=!0}!T&&k?I.channels=hr[I.format]:T&&!k?I.channels!==va[I.format]&&(I.format=I.internalformat=va[I.channels]):k&&T&&P(I.channels===hr[I.format],"number of channels inconsistent with specified format")}}function Me(I){_.pixelStorei(__,I.flipY),_.pixelStorei(y_,I.premultiplyAlpha),_.pixelStorei(A_,I.colorSpace),_.pixelStorei(b_,I.unpackAlignment)}function Ae(){me.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ie(I,ee){var Z=null;if(zc(ee)?Z=ee:ee&&(P.type(ee,"object","invalid pixel data type"),ze(I,ee),"x"in ee&&(I.xOffset=ee.x|0),"y"in ee&&(I.yOffset=ee.y|0),zc(ee.data)&&(Z=ee.data)),P(!I.compressed||Z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),ee.copy){P(!Z,"can not specify copy and data field for the same texture");var He=de.viewportWidth,pt=de.viewportHeight;I.width=I.width||He-I.xOffset,I.height=I.height||pt-I.yOffset,I.needsCopy=!0,P(I.xOffset>=0&&I.xOffset<He&&I.yOffset>=0&&I.yOffset<pt&&I.width>0&&I.width<=He&&I.height>0&&I.height<=pt,"copy texture read out of bounds")}else if(!Z)I.width=I.width||1,I.height=I.height||1,I.channels=I.channels||4;else if(n(Z))I.channels=I.channels||4,I.data=Z,!("type"in ee)&&I.type===ai&&(I.type=i0(Z));else if(t0(Z))I.channels=I.channels||4,L_(I,Z),I.alignment=1,I.needsFree=!0;else if(_r(Z)){var L=Z.data;!Array.isArray(L)&&I.type===ai&&(I.type=i0(L));var T=Z.shape,k=Z.stride,z,q,B,G,V,R;T.length===3?(B=T[2],R=k[2]):(P(T.length===2,"invalid ndarray pixel data, must be 2 or 3D"),B=1,R=1),z=T[0],q=T[1],G=k[0],V=k[1],I.alignment=1,I.width=z,I.height=q,I.channels=B,I.format=I.internalformat=va[B],I.needsFree=!0,O_(I,L,G,V,R,Z.offset)}else if(r0(Z)||s0(Z)||w_(Z))r0(Z)||s0(Z)?I.element=Z:I.element=Z.canvas,I.width=I.element.width,I.height=I.element.height,I.channels=4;else if(T_(Z))I.element=Z,I.width=Z.width,I.height=Z.height,I.channels=4;else if(C_(Z))I.element=Z,I.width=Z.naturalWidth,I.height=Z.naturalHeight,I.channels=4;else if(P_(Z))I.element=Z,I.width=Z.videoWidth,I.height=Z.videoHeight,I.channels=4;else if(n0(Z)){var D=I.width||Z[0].length,M=I.height||Z.length,Y=I.channels;Kt(Z[0][0])?Y=Y||Z[0][0].length:Y=Y||1;for(var X=ca.shape(Z),ce=1,pe=0;pe<X.length;++pe)ce*=X[pe];var Oe=o0(I,ce);ca.flatten(Z,X,"",Oe),a0(I,Oe),I.alignment=1,I.width=D,I.height=M,I.channels=Y,I.format=I.internalformat=va[Y],I.needsFree=!0}I.type===no?P(F.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):I.type===oi&&P(F.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function De(I,ee,Z){var He=I.element,pt=I.data,L=I.internalformat,T=I.format,k=I.type,z=I.width,q=I.height;Me(I),He?_.texImage2D(ee,Z,T,T,k,He):I.compressed?_.compressedTexImage2D(ee,Z,L,z,q,0,pt):I.needsCopy?(Q(),_.copyTexImage2D(ee,Z,T,I.xOffset,I.yOffset,z,q,0)):_.texImage2D(ee,Z,T,z,q,0,T,k,pt||null)}function ft(I,ee,Z,He,pt){var L=I.element,T=I.data,k=I.internalformat,z=I.format,q=I.type,B=I.width,G=I.height;Me(I),L?_.texSubImage2D(ee,pt,Z,He,z,q,L):I.compressed?_.compressedTexSubImage2D(ee,pt,Z,He,k,B,G,T):I.needsCopy?(Q(),_.copyTexSubImage2D(ee,pt,Z,He,I.xOffset,I.yOffset,B,G)):_.texSubImage2D(ee,pt,Z,He,B,G,z,q,T)}var at=[];function xe(){return at.pop()||new Ae}function Ne(I){I.needsFree&&sn.freeType(I.data),Ae.call(I),at.push(I)}function nt(){me.call(this),this.genMipmaps=!1,this.mipmapHint=ga,this.mipmask=0,this.images=Array(16)}function ut(I,ee,Z){var He=I.images[0]=xe();I.mipmask=1,He.width=I.width=ee,He.height=I.height=Z,He.channels=I.channels=4}function vt(I,ee){var Z=null;if(zc(ee))Z=I.images[0]=xe(),ue(Z,I),Ie(Z,ee),I.mipmask=1;else if(ze(I,ee),Array.isArray(ee.mipmap))for(var He=ee.mipmap,pt=0;pt<He.length;++pt)Z=I.images[pt]=xe(),ue(Z,I),Z.width>>=pt,Z.height>>=pt,Ie(Z,He[pt]),I.mipmask|=1<<pt;else Z=I.images[0]=xe(),ue(Z,I),Ie(Z,ee),I.mipmask=1;ue(I,I.images[0]),I.compressed&&(I.internalformat===Fc||I.internalformat===xc||I.internalformat===kc||I.internalformat===Gc)&&P(I.width%4===0&&I.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Qt(I,ee){for(var Z=I.images,He=0;He<Z.length;++He){if(!Z[He])return;De(Z[He],ee,He)}}var tn=[];function yt(){var I=tn.pop()||new nt;me.call(I),I.mipmask=0;for(var ee=0;ee<16;++ee)I.images[ee]=null;return I}function _n(I){for(var ee=I.images,Z=0;Z<ee.length;++Z)ee[Z]&&Ne(ee[Z]),ee[Z]=null;tn.push(I)}function zt(){this.minFilter=Vc,this.magFilter=Vc,this.wrapS=$c,this.wrapT=$c,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=ga}function gn(I,ee){if("min"in ee){var Z=ee.min;P.parameter(Z,Ce),I.minFilter=Ce[Z],S_.indexOf(I.minFilter)>=0&&!("faces"in ee)&&(I.genMipmaps=!0)}if("mag"in ee){var He=ee.mag;P.parameter(He,we),I.magFilter=we[He]}var pt=I.wrapS,L=I.wrapT;if("wrap"in ee){var T=ee.wrap;typeof T=="string"?(P.parameter(T,be),pt=L=be[T]):Array.isArray(T)&&(P.parameter(T[0],be),P.parameter(T[1],be),pt=be[T[0]],L=be[T[1]])}else{if("wrapS"in ee){var k=ee.wrapS;P.parameter(k,be),pt=be[k]}if("wrapT"in ee){var z=ee.wrapT;P.parameter(z,be),L=be[z]}}if(I.wrapS=pt,I.wrapT=L,"anisotropic"in ee){var q=ee.anisotropic;P(typeof q=="number"&&q>=1&&q<=F.maxAnisotropic,"aniso samples must be between 1 and "),I.anisotropic=ee.anisotropic}if("mipmap"in ee){var B=!1;switch(typeof ee.mipmap){case"string":P.parameter(ee.mipmap,_e,"invalid mipmap hint"),I.mipmapHint=_e[ee.mipmap],I.genMipmaps=!0,B=!0;break;case"boolean":B=I.genMipmaps=ee.mipmap;break;case"object":P(Array.isArray(ee.mipmap),"invalid mipmap type"),I.genMipmaps=!1,B=!0;break;default:P.raise("invalid mipmap type")}B&&!("min"in ee)&&(I.minFilter=Uc)}}function yn(I,ee){_.texParameteri(ee,d_,I.minFilter),_.texParameteri(ee,u_,I.magFilter),_.texParameteri(ee,a_,I.wrapS),_.texParameteri(ee,l_,I.wrapT),C.ext_texture_filter_anisotropic&&_.texParameteri(ee,v_,I.anisotropic),I.genMipmaps&&(_.hint(m_,I.mipmapHint),_.generateMipmap(ee))}var An=0,Mn={},Fn=F.maxTextureUnits,cn=Array(Fn).map(function(){return null});function ht(I){me.call(this),this.mipmask=0,this.internalformat=Ts,this.id=An++,this.refCount=1,this.target=I,this.texture=_.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new zt,ie.profile&&(this.stats={size:0})}function xn(I){_.activeTexture(ro),_.bindTexture(I.target,I.texture)}function It(){var I=cn[0];I?_.bindTexture(I.target,I.texture):_.bindTexture(wr,null)}function Qe(I){var ee=I.texture;P(ee,"must not double destroy texture");var Z=I.unit,He=I.target;Z>=0&&(_.activeTexture(ro+Z),_.bindTexture(He,null),cn[Z]=null),_.deleteTexture(ee),I.texture=null,I.params=null,I.pixels=null,I.refCount=0,delete Mn[I.id],K.textureCount--}r(ht.prototype,{bind:function(){var I=this;I.bindCount+=1;var ee=I.unit;if(ee<0){for(var Z=0;Z<Fn;++Z){var He=cn[Z];if(He){if(He.bindCount>0)continue;He.unit=-1}cn[Z]=I,ee=Z;break}ee>=Fn&&P.raise("insufficient number of texture units"),ie.profile&&K.maxTextureUnits<ee+1&&(K.maxTextureUnits=ee+1),I.unit=ee,_.activeTexture(ro+ee),_.bindTexture(I.target,I.texture)}return ee},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Qe(this)}});function bt(I,ee){var Z=new ht(wr);Mn[Z.id]=Z,K.textureCount++;function He(T,k){var z=Z.texInfo;zt.call(z);var q=yt();return typeof T=="number"?typeof k=="number"?ut(q,T|0,k|0):ut(q,T|0,T|0):T?(P.type(T,"object","invalid arguments to regl.texture"),gn(z,T),vt(q,T)):ut(q,1,1),z.genMipmaps&&(q.mipmask=(q.width<<1)-1),Z.mipmask=q.mipmask,ue(Z,q),P.texture2D(z,q,F),Z.internalformat=q.internalformat,He.width=q.width,He.height=q.height,xn(Z),Qt(q,wr),yn(z,wr),It(),_n(q),ie.profile&&(Z.stats.size=ba(Z.internalformat,Z.type,q.width,q.height,z.genMipmaps,!1)),He.format=Se[Z.internalformat],He.type=$e[Z.type],He.mag=ve[z.magFilter],He.min=Ge[z.minFilter],He.wrapS=Fe[z.wrapS],He.wrapT=Fe[z.wrapT],He}function pt(T,k,z,q){P(!!T,"must specify image data");var B=k|0,G=z|0,V=q|0,R=xe();return ue(R,Z),R.width=0,R.height=0,Ie(R,T),R.width=R.width||(Z.width>>V)-B,R.height=R.height||(Z.height>>V)-G,P(Z.type===R.type&&Z.format===R.format&&Z.internalformat===R.internalformat,"incompatible format for texture.subimage"),P(B>=0&&G>=0&&B+R.width<=Z.width&&G+R.height<=Z.height,"texture.subimage write out of bounds"),P(Z.mipmask&1<<V,"missing mipmap data"),P(R.data||R.element||R.needsCopy,"missing image data"),xn(Z),ft(R,wr,B,G,V),It(),Ne(R),He}function L(T,k){var z=T|0,q=k|0||z;if(z===Z.width&&q===Z.height)return He;He.width=Z.width=z,He.height=Z.height=q,xn(Z);for(var B=0;Z.mipmask>>B;++B){var G=z>>B,V=q>>B;if(!G||!V)break;_.texImage2D(wr,B,Z.format,G,V,0,Z.format,Z.type,null)}return It(),ie.profile&&(Z.stats.size=ba(Z.internalformat,Z.type,z,q,!1,!1)),He}return He(I,ee),He.subimage=pt,He.resize=L,He._reglType="texture2d",He._texture=Z,ie.profile&&(He.stats=Z.stats),He.destroy=function(){Z.decRef()},He}function Ct(I,ee,Z,He,pt,L){var T=new ht(Lc);Mn[T.id]=T,K.cubeCount++;var k=new Array(6);function z(G,V,R,D,M,Y){var X,ce=T.texInfo;for(zt.call(ce),X=0;X<6;++X)k[X]=yt();if(typeof G=="number"||!G){var pe=G|0||1;for(X=0;X<6;++X)ut(k[X],pe,pe)}else if(typeof G=="object")if(V)vt(k[0],G),vt(k[1],V),vt(k[2],R),vt(k[3],D),vt(k[4],M),vt(k[5],Y);else if(gn(ce,G),ze(T,G),"faces"in G){var Oe=G.faces;for(P(Array.isArray(Oe)&&Oe.length===6,"cube faces must be a length 6 array"),X=0;X<6;++X)P(typeof Oe[X]=="object"&&!!Oe[X],"invalid input for cube map face"),ue(k[X],T),vt(k[X],Oe[X])}else for(X=0;X<6;++X)vt(k[X],G);else P.raise("invalid arguments to cube map");for(ue(T,k[0]),P.optional(function(){F.npotTextureCube||P(xd(T.width)&&xd(T.height),"your browser does not support non power or two texture dimensions")}),ce.genMipmaps?T.mipmask=(k[0].width<<1)-1:T.mipmask=k[0].mipmask,P.textureCube(T,ce,k,F),T.internalformat=k[0].internalformat,z.width=k[0].width,z.height=k[0].height,xn(T),X=0;X<6;++X)Qt(k[X],da+X);for(yn(ce,Lc),It(),ie.profile&&(T.stats.size=ba(T.internalformat,T.type,z.width,z.height,ce.genMipmaps,!0)),z.format=Se[T.internalformat],z.type=$e[T.type],z.mag=ve[ce.magFilter],z.min=Ge[ce.minFilter],z.wrapS=Fe[ce.wrapS],z.wrapT=Fe[ce.wrapT],X=0;X<6;++X)_n(k[X]);return z}function q(G,V,R,D,M){P(!!V,"must specify image data"),P(typeof G=="number"&&G===(G|0)&&G>=0&&G<6,"invalid face");var Y=R|0,X=D|0,ce=M|0,pe=xe();return ue(pe,T),pe.width=0,pe.height=0,Ie(pe,V),pe.width=pe.width||(T.width>>ce)-Y,pe.height=pe.height||(T.height>>ce)-X,P(T.type===pe.type&&T.format===pe.format&&T.internalformat===pe.internalformat,"incompatible format for texture.subimage"),P(Y>=0&&X>=0&&Y+pe.width<=T.width&&X+pe.height<=T.height,"texture.subimage write out of bounds"),P(T.mipmask&1<<ce,"missing mipmap data"),P(pe.data||pe.element||pe.needsCopy,"missing image data"),xn(T),ft(pe,da+G,Y,X,ce),It(),Ne(pe),z}function B(G){var V=G|0;if(V!==T.width){z.width=T.width=V,z.height=T.height=V,xn(T);for(var R=0;R<6;++R)for(var D=0;T.mipmask>>D;++D)_.texImage2D(da+R,D,T.format,V>>D,V>>D,0,T.format,T.type,null);return It(),ie.profile&&(T.stats.size=ba(T.internalformat,T.type,z.width,z.height,!1,!0)),z}}return z(I,ee,Z,He,pt,L),z.subimage=q,z.resize=B,z._reglType="textureCube",z._texture=T,ie.profile&&(z.stats=T.stats),z.destroy=function(){T.decRef()},z}function fn(){for(var I=0;I<Fn;++I)_.activeTexture(ro+I),_.bindTexture(wr,null),cn[I]=null;or(Mn).forEach(Qe),K.cubeCount=0,K.textureCount=0}ie.profile&&(K.getTotalTextureSize=function(){var I=0;return Object.keys(Mn).forEach(function(ee){I+=Mn[ee].stats.size}),I});function Cr(){for(var I=0;I<Fn;++I){var ee=cn[I];ee&&(ee.bindCount=0,ee.unit=-1,cn[I]=null)}or(Mn).forEach(function(Z){Z.texture=_.createTexture(),_.bindTexture(Z.target,Z.texture);for(var He=0;He<32;++He)if(Z.mipmask&1<<He)if(Z.target===wr)_.texImage2D(wr,He,Z.internalformat,Z.width>>He,Z.height>>He,0,Z.internalformat,Z.type,null);else for(var pt=0;pt<6;++pt)_.texImage2D(da+pt,He,Z.internalformat,Z.width>>He,Z.height>>He,0,Z.internalformat,Z.type,null);yn(Z.texInfo,Z.target)})}function Ds(){for(var I=0;I<Fn;++I){var ee=cn[I];ee&&(ee.bindCount=0,ee.unit=-1,cn[I]=null),_.activeTexture(ro+I),_.bindTexture(wr,null),_.bindTexture(Lc,null)}}return{create2D:bt,createCube:Ct,clear:fn,getTexture:function(I){return null},restore:Cr,refresh:Ds}}var ts=36161,_a=32854,l0=32855,c0=36194,f0=33189,u0=36168,d0=34041,h0=35907,m0=34836,p0=34842,g0=34843,yr=[];yr[_a]=2,yr[l0]=2,yr[c0]=2,yr[f0]=2,yr[u0]=1,yr[d0]=4,yr[h0]=4,yr[m0]=16,yr[p0]=8,yr[g0]=6;function v0(_,C,F){return yr[_]*C*F}var M_=function(_,C,F,Q,de){var K={rgba4:_a,rgb565:c0,"rgb5 a1":l0,depth:f0,stencil:u0,"depth stencil":d0};C.ext_srgb&&(K.srgba=h0),C.ext_color_buffer_half_float&&(K.rgba16f=p0,K.rgb16f=g0),C.webgl_color_buffer_float&&(K.rgba32f=m0);var ie=[];Object.keys(K).forEach(function(ye){var Ee=K[ye];ie[Ee]=ye});var _e=0,be={};function we(ye){this.id=_e++,this.refCount=1,this.renderbuffer=ye,this.format=_a,this.width=0,this.height=0,de.profile&&(this.stats={size:0})}we.prototype.decRef=function(){--this.refCount<=0&&Ce(this)};function Ce(ye){var Ee=ye.renderbuffer;P(Ee,"must not double destroy renderbuffer"),_.bindRenderbuffer(ts,null),_.deleteRenderbuffer(Ee),ye.renderbuffer=null,ye.refCount=0,delete be[ye.id],Q.renderbufferCount--}function Te(ye,Ee){var j=new we(_.createRenderbuffer());be[j.id]=j,Q.renderbufferCount++;function re($e,ve){var Ge=0,Fe=0,Ke=_a;if(typeof $e=="object"&&$e){var me=$e;if("shape"in me){var ue=me.shape;P(Array.isArray(ue)&&ue.length>=2,"invalid renderbuffer shape"),Ge=ue[0]|0,Fe=ue[1]|0}else"radius"in me&&(Ge=Fe=me.radius|0),"width"in me&&(Ge=me.width|0),"height"in me&&(Fe=me.height|0);"format"in me&&(P.parameter(me.format,K,"invalid renderbuffer format"),Ke=K[me.format])}else typeof $e=="number"?(Ge=$e|0,typeof ve=="number"?Fe=ve|0:Fe=Ge):$e?P.raise("invalid arguments to renderbuffer constructor"):Ge=Fe=1;if(P(Ge>0&&Fe>0&&Ge<=F.maxRenderbufferSize&&Fe<=F.maxRenderbufferSize,"invalid renderbuffer size"),!(Ge===j.width&&Fe===j.height&&Ke===j.format))return re.width=j.width=Ge,re.height=j.height=Fe,j.format=Ke,_.bindRenderbuffer(ts,j.renderbuffer),_.renderbufferStorage(ts,Ke,Ge,Fe),P(_.getError()===0,"invalid render buffer format"),de.profile&&(j.stats.size=v0(j.format,j.width,j.height)),re.format=ie[j.format],re}function Se($e,ve){var Ge=$e|0,Fe=ve|0||Ge;return Ge===j.width&&Fe===j.height||(P(Ge>0&&Fe>0&&Ge<=F.maxRenderbufferSize&&Fe<=F.maxRenderbufferSize,"invalid renderbuffer size"),re.width=j.width=Ge,re.height=j.height=Fe,_.bindRenderbuffer(ts,j.renderbuffer),_.renderbufferStorage(ts,j.format,Ge,Fe),P(_.getError()===0,"invalid render buffer format"),de.profile&&(j.stats.size=v0(j.format,j.width,j.height))),re}return re(ye,Ee),re.resize=Se,re._reglType="renderbuffer",re._renderbuffer=j,de.profile&&(re.stats=j.stats),re.destroy=function(){j.decRef()},re}de.profile&&(Q.getTotalRenderbufferSize=function(){var ye=0;return Object.keys(be).forEach(function(Ee){ye+=be[Ee].stats.size}),ye});function Re(){or(be).forEach(function(ye){ye.renderbuffer=_.createRenderbuffer(),_.bindRenderbuffer(ts,ye.renderbuffer),_.renderbufferStorage(ts,ye.format,ye.width,ye.height)}),_.bindRenderbuffer(ts,null)}return{create:Te,clear:function(){or(be).forEach(Ce)},restore:Re}},Gr=36160,jc=36161,Ps=3553,ya=34069,b0=36064,_0=36096,y0=36128,A0=33306,S0=36053,I_=36054,D_=36055,F_=36057,x_=36061,k_=36193,G_=5121,B_=5126,E0=6407,w0=6408,N_=6402,$_=[E0,w0],qc=[];qc[w0]=4,qc[E0]=3;var Aa=[];Aa[G_]=1,Aa[B_]=4,Aa[k_]=2;var V_=32854,U_=32855,H_=36194,z_=33189,j_=36168,T0=34041,q_=35907,X_=34836,W_=34842,Y_=34843,Z_=[V_,U_,H_,q_,W_,Y_,X_],fi={};fi[S0]="complete",fi[I_]="incomplete attachment",fi[F_]="incomplete dimensions",fi[D_]="incomplete, missing attachment",fi[x_]="unsupported";function K_(_,C,F,Q,de,K){var ie={cur:null,next:null,dirty:!1,setFBO:null},_e=["rgba"],be=["rgba4","rgb565","rgb5 a1"];C.ext_srgb&&be.push("srgba"),C.ext_color_buffer_half_float&&be.push("rgba16f","rgb16f"),C.webgl_color_buffer_float&&be.push("rgba32f");var we=["uint8"];C.oes_texture_half_float&&we.push("half float","float16"),C.oes_texture_float&&we.push("float","float32");function Ce(Ae,Ie,De){this.target=Ae,this.texture=Ie,this.renderbuffer=De;var ft=0,at=0;Ie?(ft=Ie.width,at=Ie.height):De&&(ft=De.width,at=De.height),this.width=ft,this.height=at}function Te(Ae){Ae&&(Ae.texture&&Ae.texture._texture.decRef(),Ae.renderbuffer&&Ae.renderbuffer._renderbuffer.decRef())}function Re(Ae,Ie,De){if(Ae)if(Ae.texture){var ft=Ae.texture._texture,at=Math.max(1,ft.width),xe=Math.max(1,ft.height);P(at===Ie&&xe===De,"inconsistent width/height for supplied texture"),ft.refCount+=1}else{var Ne=Ae.renderbuffer._renderbuffer;P(Ne.width===Ie&&Ne.height===De,"inconsistent width/height for renderbuffer"),Ne.refCount+=1}}function ye(Ae,Ie){Ie&&(Ie.texture?_.framebufferTexture2D(Gr,Ae,Ie.target,Ie.texture._texture.texture,0):_.framebufferRenderbuffer(Gr,Ae,jc,Ie.renderbuffer._renderbuffer.renderbuffer))}function Ee(Ae){var Ie=Ps,De=null,ft=null,at=Ae;typeof Ae=="object"&&(at=Ae.data,"target"in Ae&&(Ie=Ae.target|0)),P.type(at,"function","invalid attachment data");var xe=at._reglType;return xe==="texture2d"?(De=at,P(Ie===Ps)):xe==="textureCube"?(De=at,P(Ie>=ya&&Ie<ya+6,"invalid cube map target")):xe==="renderbuffer"?(ft=at,Ie=jc):P.raise("invalid regl object for attachment"),new Ce(Ie,De,ft)}function j(Ae,Ie,De,ft,at){if(De){var xe=Q.create2D({width:Ae,height:Ie,format:ft,type:at});return xe._texture.refCount=0,new Ce(Ps,xe,null)}else{var Ne=de.create({width:Ae,height:Ie,format:ft});return Ne._renderbuffer.refCount=0,new Ce(jc,null,Ne)}}function re(Ae){return Ae&&(Ae.texture||Ae.renderbuffer)}function Se(Ae,Ie,De){Ae&&(Ae.texture?Ae.texture.resize(Ie,De):Ae.renderbuffer&&Ae.renderbuffer.resize(Ie,De),Ae.width=Ie,Ae.height=De)}var $e=0,ve={};function Ge(){this.id=$e++,ve[this.id]=this,this.framebuffer=_.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Fe(Ae){Ae.colorAttachments.forEach(Te),Te(Ae.depthAttachment),Te(Ae.stencilAttachment),Te(Ae.depthStencilAttachment)}function Ke(Ae){var Ie=Ae.framebuffer;P(Ie,"must not double destroy framebuffer"),_.deleteFramebuffer(Ie),Ae.framebuffer=null,K.framebufferCount--,delete ve[Ae.id]}function me(Ae){var Ie;_.bindFramebuffer(Gr,Ae.framebuffer);var De=Ae.colorAttachments;for(Ie=0;Ie<De.length;++Ie)ye(b0+Ie,De[Ie]);for(Ie=De.length;Ie<F.maxColorAttachments;++Ie)_.framebufferTexture2D(Gr,b0+Ie,Ps,null,0);_.framebufferTexture2D(Gr,A0,Ps,null,0),_.framebufferTexture2D(Gr,_0,Ps,null,0),_.framebufferTexture2D(Gr,y0,Ps,null,0),ye(_0,Ae.depthAttachment),ye(y0,Ae.stencilAttachment),ye(A0,Ae.depthStencilAttachment);var ft=_.checkFramebufferStatus(Gr);!_.isContextLost()&&ft!==S0&&P.raise("framebuffer configuration not supported, status = "+fi[ft]),_.bindFramebuffer(Gr,ie.next?ie.next.framebuffer:null),ie.cur=ie.next,_.getError()}function ue(Ae,Ie){var De=new Ge;K.framebufferCount++;function ft(xe,Ne){var nt;P(ie.next!==De,"can not update framebuffer which is currently in use");var ut=0,vt=0,Qt=!0,tn=!0,yt=null,_n=!0,zt="rgba",gn="uint8",yn=1,An=null,Mn=null,Fn=null,cn=!1;if(typeof xe=="number")ut=xe|0,vt=Ne|0||ut;else if(!xe)ut=vt=1;else{P.type(xe,"object","invalid arguments for framebuffer");var ht=xe;if("shape"in ht){var xn=ht.shape;P(Array.isArray(xn)&&xn.length>=2,"invalid shape for framebuffer"),ut=xn[0],vt=xn[1]}else"radius"in ht&&(ut=vt=ht.radius),"width"in ht&&(ut=ht.width),"height"in ht&&(vt=ht.height);("color"in ht||"colors"in ht)&&(yt=ht.color||ht.colors,Array.isArray(yt)&&P(yt.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),yt||("colorCount"in ht&&(yn=ht.colorCount|0,P(yn>0,"invalid color buffer count")),"colorTexture"in ht&&(_n=!!ht.colorTexture,zt="rgba4"),"colorType"in ht&&(gn=ht.colorType,_n?(P(C.oes_texture_float||!(gn==="float"||gn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),P(C.oes_texture_half_float||!(gn==="half float"||gn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):gn==="half float"||gn==="float16"?(P(C.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),zt="rgba16f"):(gn==="float"||gn==="float32")&&(P(C.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),zt="rgba32f"),P.oneOf(gn,we,"invalid color type")),"colorFormat"in ht&&(zt=ht.colorFormat,_e.indexOf(zt)>=0?_n=!0:be.indexOf(zt)>=0?_n=!1:P.optional(function(){_n?P.oneOf(ht.colorFormat,_e,"invalid color format for texture"):P.oneOf(ht.colorFormat,be,"invalid color format for renderbuffer")}))),("depthTexture"in ht||"depthStencilTexture"in ht)&&(cn=!!(ht.depthTexture||ht.depthStencilTexture),P(!cn||C.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ht&&(typeof ht.depth=="boolean"?Qt=ht.depth:(An=ht.depth,tn=!1)),"stencil"in ht&&(typeof ht.stencil=="boolean"?tn=ht.stencil:(Mn=ht.stencil,Qt=!1)),"depthStencil"in ht&&(typeof ht.depthStencil=="boolean"?Qt=tn=ht.depthStencil:(Fn=ht.depthStencil,Qt=!1,tn=!1))}var It=null,Qe=null,bt=null,Ct=null;if(Array.isArray(yt))It=yt.map(Ee);else if(yt)It=[Ee(yt)];else for(It=new Array(yn),nt=0;nt<yn;++nt)It[nt]=j(ut,vt,_n,zt,gn);P(C.webgl_draw_buffers||It.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),P(It.length<=F.maxColorAttachments,"too many color attachments, not supported"),ut=ut||It[0].width,vt=vt||It[0].height,An?Qe=Ee(An):Qt&&!tn&&(Qe=j(ut,vt,cn,"depth","uint32")),Mn?bt=Ee(Mn):tn&&!Qt&&(bt=j(ut,vt,!1,"stencil","uint8")),Fn?Ct=Ee(Fn):!An&&!Mn&&tn&&Qt&&(Ct=j(ut,vt,cn,"depth stencil","depth stencil")),P(!!An+!!Mn+!!Fn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var fn=null;for(nt=0;nt<It.length;++nt)if(Re(It[nt],ut,vt),P(!It[nt]||It[nt].texture&&$_.indexOf(It[nt].texture._texture.format)>=0||It[nt].renderbuffer&&Z_.indexOf(It[nt].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+nt+" is invalid"),It[nt]&&It[nt].texture){var Cr=qc[It[nt].texture._texture.format]*Aa[It[nt].texture._texture.type];fn===null?fn=Cr:P(fn===Cr,"all color attachments much have the same number of bits per pixel.")}return Re(Qe,ut,vt),P(!Qe||Qe.texture&&Qe.texture._texture.format===N_||Qe.renderbuffer&&Qe.renderbuffer._renderbuffer.format===z_,"invalid depth attachment for framebuffer object"),Re(bt,ut,vt),P(!bt||bt.renderbuffer&&bt.renderbuffer._renderbuffer.format===j_,"invalid stencil attachment for framebuffer object"),Re(Ct,ut,vt),P(!Ct||Ct.texture&&Ct.texture._texture.format===T0||Ct.renderbuffer&&Ct.renderbuffer._renderbuffer.format===T0,"invalid depth-stencil attachment for framebuffer object"),Fe(De),De.width=ut,De.height=vt,De.colorAttachments=It,De.depthAttachment=Qe,De.stencilAttachment=bt,De.depthStencilAttachment=Ct,ft.color=It.map(re),ft.depth=re(Qe),ft.stencil=re(bt),ft.depthStencil=re(Ct),ft.width=De.width,ft.height=De.height,me(De),ft}function at(xe,Ne){P(ie.next!==De,"can not resize a framebuffer which is currently in use");var nt=Math.max(xe|0,1),ut=Math.max(Ne|0||nt,1);if(nt===De.width&&ut===De.height)return ft;for(var vt=De.colorAttachments,Qt=0;Qt<vt.length;++Qt)Se(vt[Qt],nt,ut);return Se(De.depthAttachment,nt,ut),Se(De.stencilAttachment,nt,ut),Se(De.depthStencilAttachment,nt,ut),De.width=ft.width=nt,De.height=ft.height=ut,me(De),ft}return ft(Ae,Ie),r(ft,{resize:at,_reglType:"framebuffer",_framebuffer:De,destroy:function(){Ke(De),Fe(De)},use:function(xe){ie.setFBO({framebuffer:ft},xe)}})}function ze(Ae){var Ie=Array(6);function De(at){var xe;P(Ie.indexOf(ie.next)<0,"can not update framebuffer which is currently in use");var Ne={color:null},nt=0,ut=null,vt="rgba",Qt="uint8",tn=1;if(typeof at=="number")nt=at|0;else if(!at)nt=1;else{P.type(at,"object","invalid arguments for framebuffer");var yt=at;if("shape"in yt){var _n=yt.shape;P(Array.isArray(_n)&&_n.length>=2,"invalid shape for framebuffer"),P(_n[0]===_n[1],"cube framebuffer must be square"),nt=_n[0]}else"radius"in yt&&(nt=yt.radius|0),"width"in yt?(nt=yt.width|0,"height"in yt&&P(yt.height===nt,"must be square")):"height"in yt&&(nt=yt.height|0);("color"in yt||"colors"in yt)&&(ut=yt.color||yt.colors,Array.isArray(ut)&&P(ut.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),ut||("colorCount"in yt&&(tn=yt.colorCount|0,P(tn>0,"invalid color buffer count")),"colorType"in yt&&(P.oneOf(yt.colorType,we,"invalid color type"),Qt=yt.colorType),"colorFormat"in yt&&(vt=yt.colorFormat,P.oneOf(yt.colorFormat,_e,"invalid color format for texture"))),"depth"in yt&&(Ne.depth=yt.depth),"stencil"in yt&&(Ne.stencil=yt.stencil),"depthStencil"in yt&&(Ne.depthStencil=yt.depthStencil)}var zt;if(ut)if(Array.isArray(ut))for(zt=[],xe=0;xe<ut.length;++xe)zt[xe]=ut[xe];else zt=[ut];else{zt=Array(tn);var gn={radius:nt,format:vt,type:Qt};for(xe=0;xe<tn;++xe)zt[xe]=Q.createCube(gn)}for(Ne.color=Array(zt.length),xe=0;xe<zt.length;++xe){var yn=zt[xe];P(typeof yn=="function"&&yn._reglType==="textureCube","invalid cube map"),nt=nt||yn.width,P(yn.width===nt&&yn.height===nt,"invalid cube map shape"),Ne.color[xe]={target:ya,data:zt[xe]}}for(xe=0;xe<6;++xe){for(var An=0;An<zt.length;++An)Ne.color[An].target=ya+xe;xe>0&&(Ne.depth=Ie[0].depth,Ne.stencil=Ie[0].stencil,Ne.depthStencil=Ie[0].depthStencil),Ie[xe]?Ie[xe](Ne):Ie[xe]=ue(Ne)}return r(De,{width:nt,height:nt,color:zt})}function ft(at){var xe,Ne=at|0;if(P(Ne>0&&Ne<=F.maxCubeMapSize,"invalid radius for cube fbo"),Ne===De.width)return De;var nt=De.color;for(xe=0;xe<nt.length;++xe)nt[xe].resize(Ne);for(xe=0;xe<6;++xe)Ie[xe].resize(Ne);return De.width=De.height=Ne,De}return De(Ae),r(De,{faces:Ie,resize:ft,_reglType:"framebufferCube",destroy:function(){Ie.forEach(function(at){at.destroy()})}})}function Me(){ie.cur=null,ie.next=null,ie.dirty=!0,or(ve).forEach(function(Ae){Ae.framebuffer=_.createFramebuffer(),me(Ae)})}return r(ie,{getFramebuffer:function(Ae){if(typeof Ae=="function"&&Ae._reglType==="framebuffer"){var Ie=Ae._framebuffer;if(Ie instanceof Ge)return Ie}return null},create:ue,createCube:ze,clear:function(){or(ve).forEach(Ke)},restore:Me})}var Q_=5126,C0=34962,Sa=34963,P0=["attributes","elements","offset","count","primitive","instances"];function Xc(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Q_,this.offset=0,this.stride=0,this.divisor=0}function J_(_,C,F,Q,de,K,ie){for(var _e=F.maxAttributes,be=new Array(_e),we=0;we<_e;++we)be[we]=new Xc;var Ce=0,Te={},Re={Record:Xc,scope:{},state:be,currentVAO:null,targetVAO:null,restore:Ee()?Fe:function(){},createVAO:Ke,getVAO:re,destroyBuffer:ye,setVAO:Ee()?Se:$e,clear:Ee()?ve:function(){}};function ye(me){for(var ue=0;ue<be.length;++ue){var ze=be[ue];ze.buffer===me&&(_.disableVertexAttribArray(ue),ze.buffer=null)}}function Ee(){return C.oes_vertex_array_object}function j(){return C.angle_instanced_arrays}function re(me){return typeof me=="function"&&me._vao?me._vao:null}function Se(me){if(me!==Re.currentVAO){var ue=Ee();me?ue.bindVertexArrayOES(me.vao):ue.bindVertexArrayOES(null),Re.currentVAO=me}}function $e(me){if(me!==Re.currentVAO){if(me)me.bindAttrs();else{for(var ue=j(),ze=0;ze<be.length;++ze){var Me=be[ze];Me.buffer?(_.enableVertexAttribArray(ze),Me.buffer.bind(),_.vertexAttribPointer(ze,Me.size,Me.type,Me.normalized,Me.stride,Me.offfset),ue&&Me.divisor&&ue.vertexAttribDivisorANGLE(ze,Me.divisor)):(_.disableVertexAttribArray(ze),_.vertexAttrib4f(ze,Me.x,Me.y,Me.z,Me.w))}ie.elements?_.bindBuffer(Sa,ie.elements.buffer.buffer):_.bindBuffer(Sa,null)}Re.currentVAO=me}}function ve(){or(Te).forEach(function(me){me.destroy()})}function Ge(){this.id=++Ce,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var me=Ee();me?this.vao=me.createVertexArrayOES():this.vao=null,Te[this.id]=this,this.buffers=[]}Ge.prototype.bindAttrs=function(){for(var me=j(),ue=this.attributes,ze=0;ze<ue.length;++ze){var Me=ue[ze];Me.buffer?(_.enableVertexAttribArray(ze),_.bindBuffer(C0,Me.buffer.buffer),_.vertexAttribPointer(ze,Me.size,Me.type,Me.normalized,Me.stride,Me.offset),me&&Me.divisor&&me.vertexAttribDivisorANGLE(ze,Me.divisor)):(_.disableVertexAttribArray(ze),_.vertexAttrib4f(ze,Me.x,Me.y,Me.z,Me.w))}for(var Ae=ue.length;Ae<_e;++Ae)_.disableVertexAttribArray(Ae);var Ie=K.getElements(this.elements);Ie?_.bindBuffer(Sa,Ie.buffer.buffer):_.bindBuffer(Sa,null)},Ge.prototype.refresh=function(){var me=Ee();me&&(me.bindVertexArrayOES(this.vao),this.bindAttrs(),Re.currentVAO=null,me.bindVertexArrayOES(null))},Ge.prototype.destroy=function(){if(this.vao){var me=Ee();this===Re.currentVAO&&(Re.currentVAO=null,me.bindVertexArrayOES(null)),me.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Te[this.id]&&(delete Te[this.id],Q.vaoCount-=1)};function Fe(){var me=Ee();me&&or(Te).forEach(function(ue){ue.refresh()})}function Ke(me){var ue=new Ge;Q.vaoCount+=1;function ze(Me){var Ae;if(Array.isArray(Me))Ae=Me,ue.elements&&ue.ownsElements&&ue.elements.destroy(),ue.elements=null,ue.ownsElements=!1,ue.offset=0,ue.count=0,ue.instances=-1,ue.primitive=4;else{if(P(typeof Me=="object","invalid arguments for create vao"),P("attributes"in Me,"must specify attributes for vao"),Me.elements){var Ie=Me.elements;ue.ownsElements?typeof Ie=="function"&&Ie._reglType==="elements"?(ue.elements.destroy(),ue.ownsElements=!1):(ue.elements(Ie),ue.ownsElements=!1):K.getElements(Me.elements)?(ue.elements=Me.elements,ue.ownsElements=!1):(ue.elements=K.create(Me.elements),ue.ownsElements=!0)}else ue.elements=null,ue.ownsElements=!1;Ae=Me.attributes,ue.offset=0,ue.count=-1,ue.instances=-1,ue.primitive=4,ue.elements&&(ue.count=ue.elements._elements.vertCount,ue.primitive=ue.elements._elements.primType),"offset"in Me&&(ue.offset=Me.offset|0),"count"in Me&&(ue.count=Me.count|0),"instances"in Me&&(ue.instances=Me.instances|0),"primitive"in Me&&(P(Me.primitive in es,"bad primitive type: "+Me.primitive),ue.primitive=es[Me.primitive]),P.optional(()=>{for(var Qt=Object.keys(Me),tn=0;tn<Qt.length;++tn)P(P0.indexOf(Qt[tn])>=0,'invalid option for vao: "'+Qt[tn]+'" valid options are '+P0)}),P(Array.isArray(Ae),"attributes must be an array")}P(Ae.length<_e,"too many attributes"),P(Ae.length>0,"must specify at least one attribute");var De={},ft=ue.attributes;ft.length=Ae.length;for(var at=0;at<Ae.length;++at){var xe=Ae[at],Ne=ft[at]=new Xc,nt=xe.data||xe;if(Array.isArray(nt)||n(nt)||_r(nt)){var ut;ue.buffers[at]&&(ut=ue.buffers[at],n(nt)&&ut._buffer.byteLength>=nt.byteLength?ut.subdata(nt):(ut.destroy(),ue.buffers[at]=null)),ue.buffers[at]||(ut=ue.buffers[at]=de.create(xe,C0,!1,!0)),Ne.buffer=de.getBuffer(ut),Ne.size=Ne.buffer.dimension|0,Ne.normalized=!1,Ne.type=Ne.buffer.dtype,Ne.offset=0,Ne.stride=0,Ne.divisor=0,Ne.state=1,De[at]=1}else de.getBuffer(xe)?(Ne.buffer=de.getBuffer(xe),Ne.size=Ne.buffer.dimension|0,Ne.normalized=!1,Ne.type=Ne.buffer.dtype,Ne.offset=0,Ne.stride=0,Ne.divisor=0,Ne.state=1):de.getBuffer(xe.buffer)?(Ne.buffer=de.getBuffer(xe.buffer),Ne.size=(+xe.size||Ne.buffer.dimension)|0,Ne.normalized=!!xe.normalized||!1,"type"in xe?(P.parameter(xe.type,Es,"invalid buffer type"),Ne.type=Es[xe.type]):Ne.type=Ne.buffer.dtype,Ne.offset=(xe.offset||0)|0,Ne.stride=(xe.stride||0)|0,Ne.divisor=(xe.divisor||0)|0,Ne.state=1,P(Ne.size>=1&&Ne.size<=4,"size must be between 1 and 4"),P(Ne.offset>=0,"invalid offset"),P(Ne.stride>=0&&Ne.stride<=255,"stride must be between 0 and 255"),P(Ne.divisor>=0,"divisor must be positive"),P(!Ne.divisor||!!C.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in xe?(P(at>0,"first attribute must not be a constant"),Ne.x=+xe.x||0,Ne.y=+xe.y||0,Ne.z=+xe.z||0,Ne.w=+xe.w||0,Ne.state=2):P(!1,"invalid attribute spec for location "+at)}for(var vt=0;vt<ue.buffers.length;++vt)!De[vt]&&ue.buffers[vt]&&(ue.buffers[vt].destroy(),ue.buffers[vt]=null);return ue.refresh(),ze}return ze.destroy=function(){for(var Me=0;Me<ue.buffers.length;++Me)ue.buffers[Me]&&ue.buffers[Me].destroy();ue.buffers.length=0,ue.ownsElements&&(ue.elements.destroy(),ue.elements=null,ue.ownsElements=!1),ue.destroy()},ze._vao=ue,ze._reglType="vao",ze(me)}return Re}var L0=35632,ey=35633,ty=35718,ny=35721;function ry(_,C,F,Q){var de={},K={};function ie(j,re,Se,$e){this.name=j,this.id=re,this.location=Se,this.info=$e}function _e(j,re){for(var Se=0;Se<j.length;++Se)if(j[Se].id===re.id){j[Se].location=re.location;return}j.push(re)}function be(j,re,Se){var $e=j===L0?de:K,ve=$e[re];if(!ve){var Ge=C.str(re);ve=_.createShader(j),_.shaderSource(ve,Ge),_.compileShader(ve),P.shaderError(_,ve,Ge,j,Se),$e[re]=ve}return ve}var we={},Ce=[],Te=0;function Re(j,re){this.id=Te++,this.fragId=j,this.vertId=re,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Q.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ye(j,re,Se){var $e,ve,Ge=be(L0,j.fragId),Fe=be(ey,j.vertId),Ke=j.program=_.createProgram();if(_.attachShader(Ke,Ge),_.attachShader(Ke,Fe),Se)for($e=0;$e<Se.length;++$e){var me=Se[$e];_.bindAttribLocation(Ke,me[0],me[1])}_.linkProgram(Ke),P.linkError(_,Ke,C.str(j.fragId),C.str(j.vertId),re);var ue=_.getProgramParameter(Ke,ty);Q.profile&&(j.stats.uniformsCount=ue);var ze=j.uniforms;for($e=0;$e<ue;++$e)if(ve=_.getActiveUniform(Ke,$e),ve){if(ve.size>1)for(var Me=0;Me<ve.size;++Me){var Ae=ve.name.replace("[0]","["+Me+"]");_e(ze,new ie(Ae,C.id(Ae),_.getUniformLocation(Ke,Ae),ve))}var Ie=ve.name;ve.size>1&&(Ie=Ie.replace("[0]","")),_e(ze,new ie(Ie,C.id(Ie),_.getUniformLocation(Ke,Ie),ve))}var De=_.getProgramParameter(Ke,ny);Q.profile&&(j.stats.attributesCount=De);var ft=j.attributes;for($e=0;$e<De;++$e)ve=_.getActiveAttrib(Ke,$e),ve&&_e(ft,new ie(ve.name,C.id(ve.name),_.getAttribLocation(Ke,ve.name),ve))}Q.profile&&(F.getMaxUniformsCount=function(){var j=0;return Ce.forEach(function(re){re.stats.uniformsCount>j&&(j=re.stats.uniformsCount)}),j},F.getMaxAttributesCount=function(){var j=0;return Ce.forEach(function(re){re.stats.attributesCount>j&&(j=re.stats.attributesCount)}),j});function Ee(){de={},K={};for(var j=0;j<Ce.length;++j)ye(Ce[j],null,Ce[j].attributes.map(function(re){return[re.location,re.name]}))}return{clear:function(){var j=_.deleteShader.bind(_);or(de).forEach(j),de={},or(K).forEach(j),K={},Ce.forEach(function(re){_.deleteProgram(re.program)}),Ce.length=0,we={},F.shaderCount=0},program:function(j,re,Se,$e){P.command(j>=0,"missing vertex shader",Se),P.command(re>=0,"missing fragment shader",Se);var ve=we[re];ve||(ve=we[re]={});var Ge=ve[j];if(Ge&&(Ge.refCount++,!$e))return Ge;var Fe=new Re(re,j);return F.shaderCount++,ye(Fe,Se,$e),Ge||(ve[j]=Fe),Ce.push(Fe),r(Fe,{destroy:function(){if(Fe.refCount--,Fe.refCount<=0){_.deleteProgram(Fe.program);var Ke=Ce.indexOf(Fe);Ce.splice(Ke,1),F.shaderCount--}ve[Fe.vertId].refCount<=0&&(_.deleteShader(K[Fe.vertId]),delete K[Fe.vertId],delete we[Fe.fragId][Fe.vertId]),Object.keys(we[Fe.fragId]).length||(_.deleteShader(de[Fe.fragId]),delete de[Fe.fragId],delete we[Fe.fragId])}})},restore:Ee,shader:be,frag:-1,vert:-1}}var sy=6408,so=5121,iy=3333,Ea=5126;function oy(_,C,F,Q,de,K,ie){function _e(Ce){var Te;C.next===null?(P(de.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Te=so):(P(C.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Te=C.next.colorAttachments[0].texture._texture.type,P.optional(function(){K.oes_texture_float?(P(Te===so||Te===Ea,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Te===Ea&&P(ie.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):P(Te===so,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Re=0,ye=0,Ee=Q.framebufferWidth,j=Q.framebufferHeight,re=null;n(Ce)?re=Ce:Ce&&(P.type(Ce,"object","invalid arguments to regl.read()"),Re=Ce.x|0,ye=Ce.y|0,P(Re>=0&&Re<Q.framebufferWidth,"invalid x offset for regl.read"),P(ye>=0&&ye<Q.framebufferHeight,"invalid y offset for regl.read"),Ee=(Ce.width||Q.framebufferWidth-Re)|0,j=(Ce.height||Q.framebufferHeight-ye)|0,re=Ce.data||null),re&&(Te===so?P(re instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Te===Ea&&P(re instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),P(Ee>0&&Ee+Re<=Q.framebufferWidth,"invalid width for read pixels"),P(j>0&&j+ye<=Q.framebufferHeight,"invalid height for read pixels"),F();var Se=Ee*j*4;return re||(Te===so?re=new Uint8Array(Se):Te===Ea&&(re=re||new Float32Array(Se))),P.isTypedArray(re,"data buffer for regl.read() must be a typedarray"),P(re.byteLength>=Se,"data buffer for regl.read() too small"),_.pixelStorei(iy,4),_.readPixels(Re,ye,Ee,j,sy,Te,re),re}function be(Ce){var Te;return C.setFBO({framebuffer:Ce.framebuffer},function(){Te=_e(Ce)}),Te}function we(Ce){return!Ce||!("framebuffer"in Ce)?_e(Ce):be(Ce)}return we}function ui(_){return Array.prototype.slice.call(_)}function di(_){return ui(_).join("")}function ay(){var _=0,C=[],F=[];function Q(Te){for(var Re=0;Re<F.length;++Re)if(F[Re]===Te)return C[Re];var ye="g"+_++;return C.push(ye),F.push(Te),ye}function de(){var Te=[];function Re(){Te.push.apply(Te,ui(arguments))}var ye=[];function Ee(){var j="v"+_++;return ye.push(j),arguments.length>0&&(Te.push(j,"="),Te.push.apply(Te,ui(arguments)),Te.push(";")),j}return r(Re,{def:Ee,toString:function(){return di([ye.length>0?"var "+ye.join(",")+";":"",di(Te)])}})}function K(){var Te=de(),Re=de(),ye=Te.toString,Ee=Re.toString;function j(re,Se){Re(re,Se,"=",Te.def(re,Se),";")}return r(function(){Te.apply(Te,ui(arguments))},{def:Te.def,entry:Te,exit:Re,save:j,set:function(re,Se,$e){j(re,Se),Te(re,Se,"=",$e,";")},toString:function(){return ye()+Ee()}})}function ie(){var Te=di(arguments),Re=K(),ye=K(),Ee=Re.toString,j=ye.toString;return r(Re,{then:function(){return Re.apply(Re,ui(arguments)),this},else:function(){return ye.apply(ye,ui(arguments)),this},toString:function(){var re=j();return re&&(re="else{"+re+"}"),di(["if(",Te,"){",Ee(),"}",re])}})}var _e=de(),be={};function we(Te,Re){var ye=[];function Ee(){var ve="a"+ye.length;return ye.push(ve),ve}Re=Re||0;for(var j=0;j<Re;++j)Ee();var re=K(),Se=re.toString,$e=be[Te]=r(re,{arg:Ee,toString:function(){return di(["function(",ye.join(),"){",Se(),"}"])}});return $e}function Ce(){var Te=['"use strict";',_e,"return {"];Object.keys(be).forEach(function(Ee){Te.push('"',Ee,'":',be[Ee].toString(),",")}),Te.push("}");var Re=di(Te).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ye=Function.apply(null,C.concat(Re));return ye.apply(null,F)}return{global:_e,link:Q,block:de,proc:we,scope:K,cond:ie,compile:Ce}}var hi="xyzw".split(""),O0=5121,mi=1,Wc=2,Yc=0,Zc=1,Kc=2,Qc=3,wa=4,R0=5,M0=6,I0="dither",D0="blend.enable",F0="blend.color",Jc="blend.equation",ef="blend.func",x0="depth.enable",k0="depth.func",G0="depth.range",B0="depth.mask",tf="colorMask",N0="cull.enable",$0="cull.face",nf="frontFace",rf="lineWidth",V0="polygonOffset.enable",sf="polygonOffset.offset",U0="sample.alpha",H0="sample.enable",of="sample.coverage",z0="stencil.enable",j0="stencil.mask",af="stencil.func",lf="stencil.opFront",io="stencil.opBack",q0="scissor.enable",Ta="scissor.box",Br="viewport",oo="profile",Ls="framebuffer",ao="vert",lo="frag",Os="elements",Rs="primitive",Ms="count",Ca="offset",Pa="instances",co="vao",cf="Width",ff="Height",pi=Ls+cf,gi=Ls+ff,ly=Br+cf,cy=Br+ff,X0="drawingBuffer",W0=X0+cf,Y0=X0+ff,fy=[ef,Jc,af,lf,io,of,Br,Ta,sf],vi=34962,uf=34963,uy=35632,dy=35633,Z0=3553,hy=34067,my=2884,py=3042,gy=3024,vy=2960,by=2929,_y=3089,yy=32823,Ay=32926,Sy=32928,df=5126,La=35664,Oa=35665,Ra=35666,hf=5124,Ma=35667,Ia=35668,Da=35669,mf=35670,Fa=35671,xa=35672,ka=35673,fo=35674,uo=35675,ho=35676,mo=35678,po=35680,pf=4,go=1028,Is=1029,K0=2304,gf=2305,Ey=32775,wy=32776,Ty=519,ns=7680,Q0=0,J0=1,e1=32774,Cy=513,t1=36160,Py=36064,Tr={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},n1=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],bi={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},rs={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},r1={frag:uy,vert:dy},vf={cw:K0,ccw:gf};function Ga(_){return Array.isArray(_)||n(_)||_r(_)}function s1(_){return _.sort(function(C,F){return C===Br?-1:F===Br?1:C<F?-1:1})}function Tn(_,C,F,Q){this.thisDep=_,this.contextDep=C,this.propDep=F,this.append=Q}function ss(_){return _&&!(_.thisDep||_.contextDep||_.propDep)}function pn(_){return new Tn(!1,!1,!1,_)}function er(_,C){var F=_.type;if(F===Yc){var Q=_.data.length;return new Tn(!0,Q>=1,Q>=2,C)}else if(F===wa){var de=_.data;return new Tn(de.thisDep,de.contextDep,de.propDep,C)}else{if(F===R0)return new Tn(!1,!1,!1,C);if(F===M0){for(var K=!1,ie=!1,_e=!1,be=0;be<_.data.length;++be){var we=_.data[be];if(we.type===Zc)_e=!0;else if(we.type===Kc)ie=!0;else if(we.type===Qc)K=!0;else if(we.type===Yc){K=!0;var Ce=we.data;Ce>=1&&(ie=!0),Ce>=2&&(_e=!0)}else we.type===wa&&(K=K||we.data.thisDep,ie=ie||we.data.contextDep,_e=_e||we.data.propDep)}return new Tn(K,ie,_e,C)}else return new Tn(F===Qc,F===Kc,F===Zc,C)}}var i1=new Tn(!1,!1,!1,function(){});function Ly(_,C,F,Q,de,K,ie,_e,be,we,Ce,Te,Re,ye,Ee){var j=we.Record,re={add:32774,subtract:32778,"reverse subtract":32779};F.ext_blend_minmax&&(re.min=Ey,re.max=wy);var Se=F.angle_instanced_arrays,$e=F.webgl_draw_buffers,ve=F.oes_vertex_array_object,Ge={dirty:!0,profile:Ee.profile},Fe={},Ke=[],me={},ue={};function ze(L){return L.replace(".","_")}function Me(L,T,k){var z=ze(L);Ke.push(L),Fe[z]=Ge[z]=!!k,me[z]=T}function Ae(L,T,k){var z=ze(L);Ke.push(L),Array.isArray(k)?(Ge[z]=k.slice(),Fe[z]=k.slice()):Ge[z]=Fe[z]=k,ue[z]=T}Me(I0,gy),Me(D0,py),Ae(F0,"blendColor",[0,0,0,0]),Ae(Jc,"blendEquationSeparate",[e1,e1]),Ae(ef,"blendFuncSeparate",[J0,Q0,J0,Q0]),Me(x0,by,!0),Ae(k0,"depthFunc",Cy),Ae(G0,"depthRange",[0,1]),Ae(B0,"depthMask",!0),Ae(tf,tf,[!0,!0,!0,!0]),Me(N0,my),Ae($0,"cullFace",Is),Ae(nf,nf,gf),Ae(rf,rf,1),Me(V0,yy),Ae(sf,"polygonOffset",[0,0]),Me(U0,Ay),Me(H0,Sy),Ae(of,"sampleCoverage",[1,!1]),Me(z0,vy),Ae(j0,"stencilMask",-1),Ae(af,"stencilFunc",[Ty,0,-1]),Ae(lf,"stencilOpSeparate",[go,ns,ns,ns]),Ae(io,"stencilOpSeparate",[Is,ns,ns,ns]),Me(q0,_y),Ae(Ta,"scissor",[0,0,_.drawingBufferWidth,_.drawingBufferHeight]),Ae(Br,Br,[0,0,_.drawingBufferWidth,_.drawingBufferHeight]);var Ie={gl:_,context:Re,strings:C,next:Fe,current:Ge,draw:Te,elements:K,buffer:de,shader:Ce,attributes:we.state,vao:we,uniforms:be,framebuffer:_e,extensions:F,timer:ye,isBufferArgs:Ga},De={primTypes:es,compareFuncs:bi,blendFuncs:Tr,blendEquations:re,stencilOps:rs,glTypes:Es,orientationType:vf};P.optional(function(){Ie.isArrayLike=Kt}),$e&&(De.backBuffer=[Is],De.drawBuffer=qn(Q.maxDrawbuffers,function(L){return L===0?[0]:qn(L,function(T){return Py+T})}));var ft=0;function at(){var L=ay(),T=L.link,k=L.global;L.id=ft++,L.batchId="0";var z=T(Ie),q=L.shared={props:"a0"};Object.keys(Ie).forEach(function(D){q[D]=k.def(z,".",D)}),P.optional(function(){L.CHECK=T(P),L.commandStr=P.guessCommand(),L.command=T(L.commandStr),L.assert=function(D,M,Y){D("if(!(",M,"))",this.CHECK,".commandRaise(",T(Y),",",this.command,");")},De.invalidBlendCombinations=n1});var B=L.next={},G=L.current={};Object.keys(ue).forEach(function(D){Array.isArray(Ge[D])&&(B[D]=k.def(q.next,".",D),G[D]=k.def(q.current,".",D))});var V=L.constants={};Object.keys(De).forEach(function(D){V[D]=k.def(JSON.stringify(De[D]))}),L.invoke=function(D,M){switch(M.type){case Yc:var Y=["this",q.context,q.props,L.batchId];return D.def(T(M.data),".call(",Y.slice(0,Math.max(M.data.length+1,4)),")");case Zc:return D.def(q.props,M.data);case Kc:return D.def(q.context,M.data);case Qc:return D.def("this",M.data);case wa:return M.data.append(L,D),M.data.ref;case R0:return M.data.toString();case M0:return M.data.map(function(X){return L.invoke(D,X)})}},L.attribCache={};var R={};return L.scopeAttrib=function(D){var M=C.id(D);if(M in R)return R[M];var Y=we.scope[M];Y||(Y=we.scope[M]=new j);var X=R[M]=T(Y);return X},L}function xe(L){var T=L.static,k=L.dynamic,z;if(oo in T){var q=!!T[oo];z=pn(function(G,V){return q}),z.enable=q}else if(oo in k){var B=k[oo];z=er(B,function(G,V){return G.invoke(V,B)})}return z}function Ne(L,T){var k=L.static,z=L.dynamic;if(Ls in k){var q=k[Ls];return q?(q=_e.getFramebuffer(q),P.command(q,"invalid framebuffer object"),pn(function(G,V){var R=G.link(q),D=G.shared;V.set(D.framebuffer,".next",R);var M=D.context;return V.set(M,"."+pi,R+".width"),V.set(M,"."+gi,R+".height"),R})):pn(function(G,V){var R=G.shared;V.set(R.framebuffer,".next","null");var D=R.context;return V.set(D,"."+pi,D+"."+W0),V.set(D,"."+gi,D+"."+Y0),"null"})}else if(Ls in z){var B=z[Ls];return er(B,function(G,V){var R=G.invoke(V,B),D=G.shared,M=D.framebuffer,Y=V.def(M,".getFramebuffer(",R,")");P.optional(function(){G.assert(V,"!"+R+"||"+Y,"invalid framebuffer object")}),V.set(M,".next",Y);var X=D.context;return V.set(X,"."+pi,Y+"?"+Y+".width:"+X+"."+W0),V.set(X,"."+gi,Y+"?"+Y+".height:"+X+"."+Y0),Y})}else return null}function nt(L,T,k){var z=L.static,q=L.dynamic;function B(R){if(R in z){var D=z[R];P.commandType(D,"object","invalid "+R,k.commandStr);var M=!0,Y=D.x|0,X=D.y|0,ce,pe;return"width"in D?(ce=D.width|0,P.command(ce>=0,"invalid "+R,k.commandStr)):M=!1,"height"in D?(pe=D.height|0,P.command(pe>=0,"invalid "+R,k.commandStr)):M=!1,new Tn(!M&&T&&T.thisDep,!M&&T&&T.contextDep,!M&&T&&T.propDep,function(Ze,Ue){var ge=Ze.shared.context,ae=ce;"width"in D||(ae=Ue.def(ge,".",pi,"-",Y));var We=pe;return"height"in D||(We=Ue.def(ge,".",gi,"-",X)),[Y,X,ae,We]})}else if(R in q){var Oe=q[R],st=er(Oe,function(Ze,Ue){var ge=Ze.invoke(Ue,Oe);P.optional(function(){Ze.assert(Ue,ge+"&&typeof "+ge+'==="object"',"invalid "+R)});var ae=Ze.shared.context,We=Ue.def(ge,".x|0"),qe=Ue.def(ge,".y|0"),rt=Ue.def('"width" in ',ge,"?",ge,".width|0:","(",ae,".",pi,"-",We,")"),xt=Ue.def('"height" in ',ge,"?",ge,".height|0:","(",ae,".",gi,"-",qe,")");return P.optional(function(){Ze.assert(Ue,rt+">=0&&"+xt+">=0","invalid "+R)}),[We,qe,rt,xt]});return T&&(st.thisDep=st.thisDep||T.thisDep,st.contextDep=st.contextDep||T.contextDep,st.propDep=st.propDep||T.propDep),st}else return T?new Tn(T.thisDep,T.contextDep,T.propDep,function(Ze,Ue){var ge=Ze.shared.context;return[0,0,Ue.def(ge,".",pi),Ue.def(ge,".",gi)]}):null}var G=B(Br);if(G){var V=G;G=new Tn(G.thisDep,G.contextDep,G.propDep,function(R,D){var M=V.append(R,D),Y=R.shared.context;return D.set(Y,"."+ly,M[2]),D.set(Y,"."+cy,M[3]),M})}return{viewport:G,scissor_box:B(Ta)}}function ut(L,T){var k=L.static,z=typeof k[lo]=="string"&&typeof k[ao]=="string";if(z){if(Object.keys(T.dynamic).length>0)return null;var q=T.static,B=Object.keys(q);if(B.length>0&&typeof q[B[0]]=="number"){for(var G=[],V=0;V<B.length;++V)P(typeof q[B[V]]=="number","must specify all vertex attribute locations when using vaos"),G.push([q[B[V]]|0,B[V]]);return G}}return null}function vt(L,T,k){var z=L.static,q=L.dynamic;function B(M){if(M in z){var Y=C.id(z[M]);P.optional(function(){Ce.shader(r1[M],Y,P.guessCommand())});var X=pn(function(){return Y});return X.id=Y,X}else if(M in q){var ce=q[M];return er(ce,function(pe,Oe){var st=pe.invoke(Oe,ce),Ze=Oe.def(pe.shared.strings,".id(",st,")");return P.optional(function(){Oe(pe.shared.shader,".shader(",r1[M],",",Ze,",",pe.command,");")}),Ze})}return null}var G=B(lo),V=B(ao),R=null,D;return ss(G)&&ss(V)?(R=Ce.program(V.id,G.id,null,k),D=pn(function(M,Y){return M.link(R)})):D=new Tn(G&&G.thisDep||V&&V.thisDep,G&&G.contextDep||V&&V.contextDep,G&&G.propDep||V&&V.propDep,function(M,Y){var X=M.shared.shader,ce;G?ce=G.append(M,Y):ce=Y.def(X,".",lo);var pe;V?pe=V.append(M,Y):pe=Y.def(X,".",ao);var Oe=X+".program("+pe+","+ce;return P.optional(function(){Oe+=","+M.command}),Y.def(Oe+")")}),{frag:G,vert:V,progVar:D,program:R}}function Qt(L,T){var k=L.static,z=L.dynamic,q={},B=!1;function G(){if(co in k){var Ue=k[co];return Ue!==null&&we.getVAO(Ue)===null&&(Ue=we.createVAO(Ue)),B=!0,q.vao=Ue,pn(function(ae){var We=we.getVAO(Ue);return We?ae.link(We):"null"})}else if(co in z){B=!0;var ge=z[co];return er(ge,function(ae,We){var qe=ae.invoke(We,ge);return We.def(ae.shared.vao+".getVAO("+qe+")")})}return null}var V=G(),R=!1;function D(){if(Os in k){var Ue=k[Os];if(q.elements=Ue,Ga(Ue)){var ge=q.elements=K.create(Ue,!0);Ue=K.getElements(ge),R=!0}else Ue&&(Ue=K.getElements(Ue),R=!0,P.command(Ue,"invalid elements",T.commandStr));var ae=pn(function(qe,rt){if(Ue){var xt=qe.link(Ue);return qe.ELEMENTS=xt,xt}return qe.ELEMENTS=null,null});return ae.value=Ue,ae}else if(Os in z){R=!0;var We=z[Os];return er(We,function(qe,rt){var xt=qe.shared,kn=xt.isBufferArgs,Fs=xt.elements,Nr=qe.invoke(rt,We),Pr=rt.def("null"),is=rt.def(kn,"(",Nr,")"),xs=qe.cond(is).then(Pr,"=",Fs,".createStream(",Nr,");").else(Pr,"=",Fs,".getElements(",Nr,");");return P.optional(function(){qe.assert(xs.else,"!"+Nr+"||"+Pr,"invalid elements")}),rt.entry(xs),rt.exit(qe.cond(is).then(Fs,".destroyStream(",Pr,");")),qe.ELEMENTS=Pr,Pr})}else if(B)return new Tn(V.thisDep,V.contextDep,V.propDep,function(qe,rt){return rt.def(qe.shared.vao+".currentVAO?"+qe.shared.elements+".getElements("+qe.shared.vao+".currentVAO.elements):null")});return null}var M=D();function Y(){if(Rs in k){var Ue=k[Rs];return q.primitive=Ue,P.commandParameter(Ue,es,"invalid primitve",T.commandStr),pn(function(ae,We){return es[Ue]})}else if(Rs in z){var ge=z[Rs];return er(ge,function(ae,We){var qe=ae.constants.primTypes,rt=ae.invoke(We,ge);return P.optional(function(){ae.assert(We,rt+" in "+qe,"invalid primitive, must be one of "+Object.keys(es))}),We.def(qe,"[",rt,"]")})}else{if(R)return ss(M)?M.value?pn(function(ae,We){return We.def(ae.ELEMENTS,".primType")}):pn(function(){return pf}):new Tn(M.thisDep,M.contextDep,M.propDep,function(ae,We){var qe=ae.ELEMENTS;return We.def(qe,"?",qe,".primType:",pf)});if(B)return new Tn(V.thisDep,V.contextDep,V.propDep,function(ae,We){return We.def(ae.shared.vao+".currentVAO?"+ae.shared.vao+".currentVAO.primitive:"+pf)})}return null}function X(Ue,ge){if(Ue in k){var ae=k[Ue]|0;return ge?q.offset=ae:q.instances=ae,P.command(!ge||ae>=0,"invalid "+Ue,T.commandStr),pn(function(qe,rt){return ge&&(qe.OFFSET=ae),ae})}else if(Ue in z){var We=z[Ue];return er(We,function(qe,rt){var xt=qe.invoke(rt,We);return ge&&(qe.OFFSET=xt,P.optional(function(){qe.assert(rt,xt+">=0","invalid "+Ue)})),xt})}else if(ge){if(R)return pn(function(qe,rt){return qe.OFFSET=0,0});if(B)return new Tn(V.thisDep,V.contextDep,V.propDep,function(qe,rt){return rt.def(qe.shared.vao+".currentVAO?"+qe.shared.vao+".currentVAO.offset:0")})}else if(B)return new Tn(V.thisDep,V.contextDep,V.propDep,function(qe,rt){return rt.def(qe.shared.vao+".currentVAO?"+qe.shared.vao+".currentVAO.instances:-1")});return null}var ce=X(Ca,!0);function pe(){if(Ms in k){var Ue=k[Ms]|0;return q.count=Ue,P.command(typeof Ue=="number"&&Ue>=0,"invalid vertex count",T.commandStr),pn(function(){return Ue})}else if(Ms in z){var ge=z[Ms];return er(ge,function(rt,xt){var kn=rt.invoke(xt,ge);return P.optional(function(){rt.assert(xt,"typeof "+kn+'==="number"&&'+kn+">=0&&"+kn+"===("+kn+"|0)","invalid vertex count")}),kn})}else if(R)if(ss(M)){if(M)return ce?new Tn(ce.thisDep,ce.contextDep,ce.propDep,function(rt,xt){var kn=xt.def(rt.ELEMENTS,".vertCount-",rt.OFFSET);return P.optional(function(){rt.assert(xt,kn+">=0","invalid vertex offset/element buffer too small")}),kn}):pn(function(rt,xt){return xt.def(rt.ELEMENTS,".vertCount")});var ae=pn(function(){return-1});return P.optional(function(){ae.MISSING=!0}),ae}else{var We=new Tn(M.thisDep||ce.thisDep,M.contextDep||ce.contextDep,M.propDep||ce.propDep,function(rt,xt){var kn=rt.ELEMENTS;return rt.OFFSET?xt.def(kn,"?",kn,".vertCount-",rt.OFFSET,":-1"):xt.def(kn,"?",kn,".vertCount:-1")});return P.optional(function(){We.DYNAMIC=!0}),We}else if(B){var qe=new Tn(V.thisDep,V.contextDep,V.propDep,function(rt,xt){return xt.def(rt.shared.vao,".currentVAO?",rt.shared.vao,".currentVAO.count:-1")});return qe}return null}var Oe=Y(),st=pe(),Ze=X(Pa,!1);return{elements:M,primitive:Oe,count:st,instances:Ze,offset:ce,vao:V,vaoActive:B,elementsActive:R,static:q}}function tn(L,T){var k=L.static,z=L.dynamic,q={};return Ke.forEach(function(B){var G=ze(B);function V(R,D){if(B in k){var M=R(k[B]);q[G]=pn(function(){return M})}else if(B in z){var Y=z[B];q[G]=er(Y,function(X,ce){return D(X,ce,X.invoke(ce,Y))})}}switch(B){case N0:case D0:case I0:case z0:case x0:case q0:case V0:case U0:case H0:case B0:return V(function(R){return P.commandType(R,"boolean",B,T.commandStr),R},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="boolean"',"invalid flag "+B,R.commandStr)}),M});case k0:return V(function(R){return P.commandParameter(R,bi,"invalid "+B,T.commandStr),bi[R]},function(R,D,M){var Y=R.constants.compareFuncs;return P.optional(function(){R.assert(D,M+" in "+Y,"invalid "+B+", must be one of "+Object.keys(bi))}),D.def(Y,"[",M,"]")});case G0:return V(function(R){return P.command(Kt(R)&&R.length===2&&typeof R[0]=="number"&&typeof R[1]=="number"&&R[0]<=R[1],"depth range is 2d array",T.commandStr),R},function(R,D,M){P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===2&&typeof "+M+'[0]==="number"&&typeof '+M+'[1]==="number"&&'+M+"[0]<="+M+"[1]","depth range must be a 2d array")});var Y=D.def("+",M,"[0]"),X=D.def("+",M,"[1]");return[Y,X]});case ef:return V(function(R){P.commandType(R,"object","blend.func",T.commandStr);var D="srcRGB"in R?R.srcRGB:R.src,M="srcAlpha"in R?R.srcAlpha:R.src,Y="dstRGB"in R?R.dstRGB:R.dst,X="dstAlpha"in R?R.dstAlpha:R.dst;return P.commandParameter(D,Tr,G+".srcRGB",T.commandStr),P.commandParameter(M,Tr,G+".srcAlpha",T.commandStr),P.commandParameter(Y,Tr,G+".dstRGB",T.commandStr),P.commandParameter(X,Tr,G+".dstAlpha",T.commandStr),P.command(n1.indexOf(D+", "+Y)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+D+", "+Y+")",T.commandStr),[Tr[D],Tr[Y],Tr[M],Tr[X]]},function(R,D,M){var Y=R.constants.blendFuncs;P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid blend func, must be an object")});function X(ge,ae){var We=D.def('"',ge,ae,'" in ',M,"?",M,".",ge,ae,":",M,".",ge);return P.optional(function(){R.assert(D,We+" in "+Y,"invalid "+B+"."+ge+ae+", must be one of "+Object.keys(Tr))}),We}var ce=X("src","RGB"),pe=X("dst","RGB");P.optional(function(){var ge=R.constants.invalidBlendCombinations;R.assert(D,ge+".indexOf("+ce+'+", "+'+pe+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Oe=D.def(Y,"[",ce,"]"),st=D.def(Y,"[",X("src","Alpha"),"]"),Ze=D.def(Y,"[",pe,"]"),Ue=D.def(Y,"[",X("dst","Alpha"),"]");return[Oe,Ze,st,Ue]});case Jc:return V(function(R){if(typeof R=="string")return P.commandParameter(R,re,"invalid "+B,T.commandStr),[re[R],re[R]];if(typeof R=="object")return P.commandParameter(R.rgb,re,B+".rgb",T.commandStr),P.commandParameter(R.alpha,re,B+".alpha",T.commandStr),[re[R.rgb],re[R.alpha]];P.commandRaise("invalid blend.equation",T.commandStr)},function(R,D,M){var Y=R.constants.blendEquations,X=D.def(),ce=D.def(),pe=R.cond("typeof ",M,'==="string"');return P.optional(function(){function Oe(st,Ze,Ue){R.assert(st,Ue+" in "+Y,"invalid "+Ze+", must be one of "+Object.keys(re))}Oe(pe.then,B,M),R.assert(pe.else,M+"&&typeof "+M+'==="object"',"invalid "+B),Oe(pe.else,B+".rgb",M+".rgb"),Oe(pe.else,B+".alpha",M+".alpha")}),pe.then(X,"=",ce,"=",Y,"[",M,"];"),pe.else(X,"=",Y,"[",M,".rgb];",ce,"=",Y,"[",M,".alpha];"),D(pe),[X,ce]});case F0:return V(function(R){return P.command(Kt(R)&&R.length===4,"blend.color must be a 4d array",T.commandStr),qn(4,function(D){return+R[D]})},function(R,D,M){return P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===4","blend.color must be a 4d array")}),qn(4,function(Y){return D.def("+",M,"[",Y,"]")})});case j0:return V(function(R){return P.commandType(R,"number",G,T.commandStr),R|0},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="number"',"invalid stencil.mask")}),D.def(M,"|0")});case af:return V(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.cmp||"keep",M=R.ref||0,Y="mask"in R?R.mask:-1;return P.commandParameter(D,bi,B+".cmp",T.commandStr),P.commandType(M,"number",B+".ref",T.commandStr),P.commandType(Y,"number",B+".mask",T.commandStr),[bi[D],M,Y]},function(R,D,M){var Y=R.constants.compareFuncs;P.optional(function(){function Oe(){R.assert(D,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Oe(M+"&&typeof ",M,'==="object"'),Oe('!("cmp" in ',M,")||(",M,".cmp in ",Y,")")});var X=D.def('"cmp" in ',M,"?",Y,"[",M,".cmp]",":",ns),ce=D.def(M,".ref|0"),pe=D.def('"mask" in ',M,"?",M,".mask|0:-1");return[X,ce,pe]});case lf:case io:return V(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.fail||"keep",M=R.zfail||"keep",Y=R.zpass||"keep";return P.commandParameter(D,rs,B+".fail",T.commandStr),P.commandParameter(M,rs,B+".zfail",T.commandStr),P.commandParameter(Y,rs,B+".zpass",T.commandStr),[B===io?Is:go,rs[D],rs[M],rs[Y]]},function(R,D,M){var Y=R.constants.stencilOps;P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid "+B)});function X(ce){return P.optional(function(){R.assert(D,'!("'+ce+'" in '+M+")||("+M+"."+ce+" in "+Y+")","invalid "+B+"."+ce+", must be one of "+Object.keys(rs))}),D.def('"',ce,'" in ',M,"?",Y,"[",M,".",ce,"]:",ns)}return[B===io?Is:go,X("fail"),X("zfail"),X("zpass")]});case sf:return V(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.factor|0,M=R.units|0;return P.commandType(D,"number",G+".factor",T.commandStr),P.commandType(M,"number",G+".units",T.commandStr),[D,M]},function(R,D,M){P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid "+B)});var Y=D.def(M,".factor|0"),X=D.def(M,".units|0");return[Y,X]});case $0:return V(function(R){var D=0;return R==="front"?D=go:R==="back"&&(D=Is),P.command(!!D,G,T.commandStr),D},function(R,D,M){return P.optional(function(){R.assert(D,M+'==="front"||'+M+'==="back"',"invalid cull.face")}),D.def(M,'==="front"?',go,":",Is)});case rf:return V(function(R){return P.command(typeof R=="number"&&R>=Q.lineWidthDims[0]&&R<=Q.lineWidthDims[1],"invalid line width, must be a positive number between "+Q.lineWidthDims[0]+" and "+Q.lineWidthDims[1],T.commandStr),R},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="number"&&'+M+">="+Q.lineWidthDims[0]+"&&"+M+"<="+Q.lineWidthDims[1],"invalid line width")}),M});case nf:return V(function(R){return P.commandParameter(R,vf,G,T.commandStr),vf[R]},function(R,D,M){return P.optional(function(){R.assert(D,M+'==="cw"||'+M+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),D.def(M+'==="cw"?'+K0+":"+gf)});case tf:return V(function(R){return P.command(Kt(R)&&R.length===4,"color.mask must be length 4 array",T.commandStr),R.map(function(D){return!!D})},function(R,D,M){return P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===4","invalid color.mask")}),qn(4,function(Y){return"!!"+M+"["+Y+"]"})});case of:return V(function(R){P.command(typeof R=="object"&&R,G,T.commandStr);var D="value"in R?R.value:1,M=!!R.invert;return P.command(typeof D=="number"&&D>=0&&D<=1,"sample.coverage.value must be a number between 0 and 1",T.commandStr),[D,M]},function(R,D,M){P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid sample.coverage")});var Y=D.def('"value" in ',M,"?+",M,".value:1"),X=D.def("!!",M,".invert");return[Y,X]})}}),q}function yt(L,T){var k=L.static,z=L.dynamic,q={};return Object.keys(k).forEach(function(B){var G=k[B],V;if(typeof G=="number"||typeof G=="boolean")V=pn(function(){return G});else if(typeof G=="function"){var R=G._reglType;R==="texture2d"||R==="textureCube"?V=pn(function(D){return D.link(G)}):R==="framebuffer"||R==="framebufferCube"?(P.command(G.color.length>0,'missing color attachment for framebuffer sent to uniform "'+B+'"',T.commandStr),V=pn(function(D){return D.link(G.color[0])})):P.commandRaise('invalid data for uniform "'+B+'"',T.commandStr)}else Kt(G)?V=pn(function(D){var M=D.global.def("[",qn(G.length,function(Y){return P.command(typeof G[Y]=="number"||typeof G[Y]=="boolean","invalid uniform "+B,D.commandStr),G[Y]}),"]");return M}):P.commandRaise('invalid or missing data for uniform "'+B+'"',T.commandStr);V.value=G,q[B]=V}),Object.keys(z).forEach(function(B){var G=z[B];q[B]=er(G,function(V,R){return V.invoke(R,G)})}),q}function _n(L,T){var k=L.static,z=L.dynamic,q={};return Object.keys(k).forEach(function(B){var G=k[B],V=C.id(B),R=new j;if(Ga(G))R.state=mi,R.buffer=de.getBuffer(de.create(G,vi,!1,!0)),R.type=0;else{var D=de.getBuffer(G);if(D)R.state=mi,R.buffer=D,R.type=0;else if(P.command(typeof G=="object"&&G,"invalid data for attribute "+B,T.commandStr),"constant"in G){var M=G.constant;R.buffer="null",R.state=Wc,typeof M=="number"?R.x=M:(P.command(Kt(M)&&M.length>0&&M.length<=4,"invalid constant for attribute "+B,T.commandStr),hi.forEach(function(Ze,Ue){Ue<M.length&&(R[Ze]=M[Ue])}))}else{Ga(G.buffer)?D=de.getBuffer(de.create(G.buffer,vi,!1,!0)):D=de.getBuffer(G.buffer),P.command(!!D,'missing buffer for attribute "'+B+'"',T.commandStr);var Y=G.offset|0;P.command(Y>=0,'invalid offset for attribute "'+B+'"',T.commandStr);var X=G.stride|0;P.command(X>=0&&X<256,'invalid stride for attribute "'+B+'", must be integer betweeen [0, 255]',T.commandStr);var ce=G.size|0;P.command(!("size"in G)||ce>0&&ce<=4,'invalid size for attribute "'+B+'", must be 1,2,3,4',T.commandStr);var pe=!!G.normalized,Oe=0;"type"in G&&(P.commandParameter(G.type,Es,"invalid type for attribute "+B,T.commandStr),Oe=Es[G.type]);var st=G.divisor|0;P.optional(function(){"divisor"in G&&(P.command(st===0||Se,'cannot specify divisor for attribute "'+B+'", instancing not supported',T.commandStr),P.command(st>=0,'invalid divisor for attribute "'+B+'"',T.commandStr));var Ze=T.commandStr,Ue=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(G).forEach(function(ge){P.command(Ue.indexOf(ge)>=0,'unknown parameter "'+ge+'" for attribute pointer "'+B+'" (valid parameters are '+Ue+")",Ze)})}),R.buffer=D,R.state=mi,R.size=ce,R.normalized=pe,R.type=Oe||D.dtype,R.offset=Y,R.stride=X,R.divisor=st}}q[B]=pn(function(Ze,Ue){var ge=Ze.attribCache;if(V in ge)return ge[V];var ae={isStream:!1};return Object.keys(R).forEach(function(We){ae[We]=R[We]}),R.buffer&&(ae.buffer=Ze.link(R.buffer),ae.type=ae.type||ae.buffer+".dtype"),ge[V]=ae,ae})}),Object.keys(z).forEach(function(B){var G=z[B];function V(R,D){var M=R.invoke(D,G),Y=R.shared,X=R.constants,ce=Y.isBufferArgs,pe=Y.buffer;P.optional(function(){R.assert(D,M+"&&(typeof "+M+'==="object"||typeof '+M+'==="function")&&('+ce+"("+M+")||"+pe+".getBuffer("+M+")||"+pe+".getBuffer("+M+".buffer)||"+ce+"("+M+'.buffer)||("constant" in '+M+"&&(typeof "+M+'.constant==="number"||'+Y.isArrayLike+"("+M+".constant))))",'invalid dynamic attribute "'+B+'"')});var Oe={isStream:D.def(!1)},st=new j;st.state=mi,Object.keys(st).forEach(function(ae){Oe[ae]=D.def(""+st[ae])});var Ze=Oe.buffer,Ue=Oe.type;D("if(",ce,"(",M,")){",Oe.isStream,"=true;",Ze,"=",pe,".createStream(",vi,",",M,");",Ue,"=",Ze,".dtype;","}else{",Ze,"=",pe,".getBuffer(",M,");","if(",Ze,"){",Ue,"=",Ze,".dtype;",'}else if("constant" in ',M,"){",Oe.state,"=",Wc,";","if(typeof "+M+'.constant === "number"){',Oe[hi[0]],"=",M,".constant;",hi.slice(1).map(function(ae){return Oe[ae]}).join("="),"=0;","}else{",hi.map(function(ae,We){return Oe[ae]+"="+M+".constant.length>"+We+"?"+M+".constant["+We+"]:0;"}).join(""),"}}else{","if(",ce,"(",M,".buffer)){",Ze,"=",pe,".createStream(",vi,",",M,".buffer);","}else{",Ze,"=",pe,".getBuffer(",M,".buffer);","}",Ue,'="type" in ',M,"?",X.glTypes,"[",M,".type]:",Ze,".dtype;",Oe.normalized,"=!!",M,".normalized;");function ge(ae){D(Oe[ae],"=",M,".",ae,"|0;")}return ge("size"),ge("offset"),ge("stride"),ge("divisor"),D("}}"),D.exit("if(",Oe.isStream,"){",pe,".destroyStream(",Ze,");","}"),Oe}q[B]=er(G,V)}),q}function zt(L){var T=L.static,k=L.dynamic,z={};return Object.keys(T).forEach(function(q){var B=T[q];z[q]=pn(function(G,V){return typeof B=="number"||typeof B=="boolean"?""+B:G.link(B)})}),Object.keys(k).forEach(function(q){var B=k[q];z[q]=er(B,function(G,V){return G.invoke(V,B)})}),z}function gn(L,T,k,z,q){var B=L.static,G=L.dynamic;P.optional(function(){var ge=[Ls,ao,lo,Os,Rs,Ca,Ms,Pa,oo,co].concat(Ke);function ae(We){Object.keys(We).forEach(function(qe){P.command(ge.indexOf(qe)>=0,'unknown parameter "'+qe+'"',q.commandStr)})}ae(B),ae(G)});var V=ut(L,T),R=Ne(L),D=nt(L,R,q),M=Qt(L,q),Y=tn(L,q),X=vt(L,q,V);function ce(ge){var ae=D[ge];ae&&(Y[ge]=ae)}ce(Br),ce(ze(Ta));var pe=Object.keys(Y).length>0,Oe={framebuffer:R,draw:M,shader:X,state:Y,dirty:pe,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Oe.profile=xe(L),Oe.uniforms=yt(k,q),Oe.drawVAO=Oe.scopeVAO=M.vao,!Oe.drawVAO&&X.program&&!V&&F.angle_instanced_arrays&&M.static.elements){var st=!0,Ze=X.program.attributes.map(function(ge){var ae=T.static[ge];return st=st&&!!ae,ae});if(st&&Ze.length>0){var Ue=we.getVAO(we.createVAO({attributes:Ze,elements:M.static.elements}));Oe.drawVAO=new Tn(null,null,null,function(ge,ae){return ge.link(Ue)}),Oe.useVAO=!0}}return V?Oe.useVAO=!0:Oe.attributes=_n(T,q),Oe.context=zt(z),Oe}function yn(L,T,k){var z=L.shared,q=z.context,B=L.scope();Object.keys(k).forEach(function(G){T.save(q,"."+G);var V=k[G],R=V.append(L,T);Array.isArray(R)?B(q,".",G,"=[",R.join(),"];"):B(q,".",G,"=",R,";")}),T(B)}function An(L,T,k,z){var q=L.shared,B=q.gl,G=q.framebuffer,V;$e&&(V=T.def(q.extensions,".webgl_draw_buffers"));var R=L.constants,D=R.drawBuffer,M=R.backBuffer,Y;k?Y=k.append(L,T):Y=T.def(G,".next"),z||T("if(",Y,"!==",G,".cur){"),T("if(",Y,"){",B,".bindFramebuffer(",t1,",",Y,".framebuffer);"),$e&&T(V,".drawBuffersWEBGL(",D,"[",Y,".colorAttachments.length]);"),T("}else{",B,".bindFramebuffer(",t1,",null);"),$e&&T(V,".drawBuffersWEBGL(",M,");"),T("}",G,".cur=",Y,";"),z||T("}")}function Mn(L,T,k){var z=L.shared,q=z.gl,B=L.current,G=L.next,V=z.current,R=z.next,D=L.cond(V,".dirty");Ke.forEach(function(M){var Y=ze(M);if(!(Y in k.state)){var X,ce;if(Y in G){X=G[Y],ce=B[Y];var pe=qn(Ge[Y].length,function(st){return D.def(X,"[",st,"]")});D(L.cond(pe.map(function(st,Ze){return st+"!=="+ce+"["+Ze+"]"}).join("||")).then(q,".",ue[Y],"(",pe,");",pe.map(function(st,Ze){return ce+"["+Ze+"]="+st}).join(";"),";"))}else{X=D.def(R,".",Y);var Oe=L.cond(X,"!==",V,".",Y);D(Oe),Y in me?Oe(L.cond(X).then(q,".enable(",me[Y],");").else(q,".disable(",me[Y],");"),V,".",Y,"=",X,";"):Oe(q,".",ue[Y],"(",X,");",V,".",Y,"=",X,";")}}}),Object.keys(k.state).length===0&&D(V,".dirty=false;"),T(D)}function Fn(L,T,k,z){var q=L.shared,B=L.current,G=q.current,V=q.gl;s1(Object.keys(k)).forEach(function(R){var D=k[R];if(!(z&&!z(D))){var M=D.append(L,T);if(me[R]){var Y=me[R];ss(D)?M?T(V,".enable(",Y,");"):T(V,".disable(",Y,");"):T(L.cond(M).then(V,".enable(",Y,");").else(V,".disable(",Y,");")),T(G,".",R,"=",M,";")}else if(Kt(M)){var X=B[R];T(V,".",ue[R],"(",M,");",M.map(function(ce,pe){return X+"["+pe+"]="+ce}).join(";"),";")}else T(V,".",ue[R],"(",M,");",G,".",R,"=",M,";")}})}function cn(L,T){Se&&(L.instancing=T.def(L.shared.extensions,".angle_instanced_arrays"))}function ht(L,T,k,z,q){var B=L.shared,G=L.stats,V=B.current,R=B.timer,D=k.profile;function M(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Y,X;function ce(ge){Y=T.def(),ge(Y,"=",M(),";"),typeof q=="string"?ge(G,".count+=",q,";"):ge(G,".count++;"),ye&&(z?(X=T.def(),ge(X,"=",R,".getNumPendingQueries();")):ge(R,".beginQuery(",G,");"))}function pe(ge){ge(G,".cpuTime+=",M(),"-",Y,";"),ye&&(z?ge(R,".pushScopeStats(",X,",",R,".getNumPendingQueries(),",G,");"):ge(R,".endQuery();"))}function Oe(ge){var ae=T.def(V,".profile");T(V,".profile=",ge,";"),T.exit(V,".profile=",ae,";")}var st;if(D){if(ss(D)){D.enable?(ce(T),pe(T.exit),Oe("true")):Oe("false");return}st=D.append(L,T),Oe(st)}else st=T.def(V,".profile");var Ze=L.block();ce(Ze),T("if(",st,"){",Ze,"}");var Ue=L.block();pe(Ue),T.exit("if(",st,"){",Ue,"}")}function xn(L,T,k,z,q){var B=L.shared;function G(R){switch(R){case La:case Ma:case Fa:return 2;case Oa:case Ia:case xa:return 3;case Ra:case Da:case ka:return 4;default:return 1}}function V(R,D,M){var Y=B.gl,X=T.def(R,".location"),ce=T.def(B.attributes,"[",X,"]"),pe=M.state,Oe=M.buffer,st=[M.x,M.y,M.z,M.w],Ze=["buffer","normalized","offset","stride"];function Ue(){T("if(!",ce,".buffer){",Y,".enableVertexAttribArray(",X,");}");var ae=M.type,We;if(M.size?We=T.def(M.size,"||",D):We=D,T("if(",ce,".type!==",ae,"||",ce,".size!==",We,"||",Ze.map(function(rt){return ce+"."+rt+"!=="+M[rt]}).join("||"),"){",Y,".bindBuffer(",vi,",",Oe,".buffer);",Y,".vertexAttribPointer(",[X,We,ae,M.normalized,M.stride,M.offset],");",ce,".type=",ae,";",ce,".size=",We,";",Ze.map(function(rt){return ce+"."+rt+"="+M[rt]+";"}).join(""),"}"),Se){var qe=M.divisor;T("if(",ce,".divisor!==",qe,"){",L.instancing,".vertexAttribDivisorANGLE(",[X,qe],");",ce,".divisor=",qe,";}")}}function ge(){T("if(",ce,".buffer){",Y,".disableVertexAttribArray(",X,");",ce,".buffer=null;","}if(",hi.map(function(ae,We){return ce+"."+ae+"!=="+st[We]}).join("||"),"){",Y,".vertexAttrib4f(",X,",",st,");",hi.map(function(ae,We){return ce+"."+ae+"="+st[We]+";"}).join(""),"}")}pe===mi?Ue():pe===Wc?ge():(T("if(",pe,"===",mi,"){"),Ue(),T("}else{"),ge(),T("}"))}z.forEach(function(R){var D=R.name,M=k.attributes[D],Y;if(M){if(!q(M))return;Y=M.append(L,T)}else{if(!q(i1))return;var X=L.scopeAttrib(D);P.optional(function(){L.assert(T,X+".state","missing attribute "+D)}),Y={},Object.keys(new j).forEach(function(ce){Y[ce]=T.def(X,".",ce)})}V(L.link(R),G(R.info.type),Y)})}function It(L,T,k,z,q,B){for(var G=L.shared,V=G.gl,R={},D,M=0;M<z.length;++M){var Y=z[M],X=Y.name,ce=Y.info.type,pe=Y.info.size,Oe=k.uniforms[X];if(pe>1){if(!Oe)continue;var st=X.replace("[0]","");if(R[st])continue;R[st]=1}var Ze=L.link(Y),Ue=Ze+".location",ge;if(Oe){if(!q(Oe))continue;if(ss(Oe)){var ae=Oe.value;if(P.command(ae!==null&&typeof ae<"u",'missing uniform "'+X+'"',L.commandStr),ce===mo||ce===po){P.command(typeof ae=="function"&&(ce===mo&&(ae._reglType==="texture2d"||ae._reglType==="framebuffer")||ce===po&&(ae._reglType==="textureCube"||ae._reglType==="framebufferCube")),"invalid texture for uniform "+X,L.commandStr);var We=L.link(ae._texture||ae.color[0]._texture);T(V,".uniform1i(",Ue,",",We+".bind());"),T.exit(We,".unbind();")}else if(ce===fo||ce===uo||ce===ho){P.optional(function(){P.command(Kt(ae),"invalid matrix for uniform "+X,L.commandStr),P.command(ce===fo&&ae.length===4||ce===uo&&ae.length===9||ce===ho&&ae.length===16,"invalid length for matrix uniform "+X,L.commandStr)});var qe=L.global.def("new Float32Array(["+Array.prototype.slice.call(ae)+"])"),rt=2;ce===uo?rt=3:ce===ho&&(rt=4),T(V,".uniformMatrix",rt,"fv(",Ue,",false,",qe,");")}else{switch(ce){case df:pe===1?P.commandType(ae,"number","uniform "+X,L.commandStr):P.command(Kt(ae)&&ae.length===pe,"uniform "+X,L.commandStr),D="1f";break;case La:P.command(Kt(ae)&&ae.length&&ae.length%2===0&&ae.length<=pe*2,"uniform "+X,L.commandStr),D="2f";break;case Oa:P.command(Kt(ae)&&ae.length&&ae.length%3===0&&ae.length<=pe*3,"uniform "+X,L.commandStr),D="3f";break;case Ra:P.command(Kt(ae)&&ae.length&&ae.length%4===0&&ae.length<=pe*4,"uniform "+X,L.commandStr),D="4f";break;case mf:pe===1?P.commandType(ae,"boolean","uniform "+X,L.commandStr):P.command(Kt(ae)&&ae.length===pe,"uniform "+X,L.commandStr),D="1i";break;case hf:pe===1?P.commandType(ae,"number","uniform "+X,L.commandStr):P.command(Kt(ae)&&ae.length===pe,"uniform "+X,L.commandStr),D="1i";break;case Fa:P.command(Kt(ae)&&ae.length&&ae.length%2===0&&ae.length<=pe*2,"uniform "+X,L.commandStr),D="2i";break;case Ma:P.command(Kt(ae)&&ae.length&&ae.length%2===0&&ae.length<=pe*2,"uniform "+X,L.commandStr),D="2i";break;case xa:P.command(Kt(ae)&&ae.length&&ae.length%3===0&&ae.length<=pe*3,"uniform "+X,L.commandStr),D="3i";break;case Ia:P.command(Kt(ae)&&ae.length&&ae.length%3===0&&ae.length<=pe*3,"uniform "+X,L.commandStr),D="3i";break;case ka:P.command(Kt(ae)&&ae.length&&ae.length%4===0&&ae.length<=pe*4,"uniform "+X,L.commandStr),D="4i";break;case Da:P.command(Kt(ae)&&ae.length&&ae.length%4===0&&ae.length<=pe*4,"uniform "+X,L.commandStr),D="4i";break}pe>1?(D+="v",ae=L.global.def("["+Array.prototype.slice.call(ae)+"]")):ae=Kt(ae)?Array.prototype.slice.call(ae):ae,T(V,".uniform",D,"(",Ue,",",ae,");")}continue}else ge=Oe.append(L,T)}else{if(!q(i1))continue;ge=T.def(G.uniforms,"[",C.id(X),"]")}ce===mo?(P(!Array.isArray(ge),"must specify a scalar prop for textures"),T("if(",ge,"&&",ge,'._reglType==="framebuffer"){',ge,"=",ge,".color[0];","}")):ce===po&&(P(!Array.isArray(ge),"must specify a scalar prop for cube maps"),T("if(",ge,"&&",ge,'._reglType==="framebufferCube"){',ge,"=",ge,".color[0];","}")),P.optional(function(){function ar(tr,Ba){L.assert(T,tr,'bad data or missing for uniform "'+X+'".  '+Ba)}function ks(tr,Ba){Ba===1&&P(!Array.isArray(ge),"must not specify an array type for uniform"),ar("Array.isArray("+ge+") && typeof "+ge+'[0]===" '+tr+'" || typeof '+ge+'==="'+tr+'"',"invalid type, expected "+tr)}function mr(tr,Ba,Na){Array.isArray(ge)?P(ge.length&&ge.length%tr===0&&ge.length<=tr*Na,"must have length of "+(Na===1?"":"n * ")+tr):ar(G.isArrayLike+"("+ge+")&&"+ge+".length && "+ge+".length % "+tr+" === 0 && "+ge+".length<="+tr*Na,"invalid vector, should have length of "+(Na===1?"":"n * ")+tr,L.commandStr)}function d1(tr){P(!Array.isArray(ge),"must not specify a value type"),ar("typeof "+ge+'==="function"&&'+ge+'._reglType==="texture'+(tr===Z0?"2d":"Cube")+'"',"invalid texture type",L.commandStr)}switch(ce){case hf:ks("number",pe);break;case Ma:mr(2,"number",pe);break;case Ia:mr(3,"number",pe);break;case Da:mr(4,"number",pe);break;case df:ks("number",pe);break;case La:mr(2,"number",pe);break;case Oa:mr(3,"number",pe);break;case Ra:mr(4,"number",pe);break;case mf:ks("boolean",pe);break;case Fa:mr(2,"boolean",pe);break;case xa:mr(3,"boolean",pe);break;case ka:mr(4,"boolean",pe);break;case fo:mr(4,"number",pe);break;case uo:mr(9,"number",pe);break;case ho:mr(16,"number",pe);break;case mo:d1(Z0);break;case po:d1(hy);break}});var xt=1;switch(ce){case mo:case po:var kn=T.def(ge,"._texture");T(V,".uniform1i(",Ue,",",kn,".bind());"),T.exit(kn,".unbind();");continue;case hf:case mf:D="1i";break;case Ma:case Fa:D="2i",xt=2;break;case Ia:case xa:D="3i",xt=3;break;case Da:case ka:D="4i",xt=4;break;case df:D="1f";break;case La:D="2f",xt=2;break;case Oa:D="3f",xt=3;break;case Ra:D="4f",xt=4;break;case fo:D="Matrix2fv";break;case uo:D="Matrix3fv";break;case ho:D="Matrix4fv";break}if(D.indexOf("Matrix")===-1&&pe>1&&(D+="v",xt=1),D.charAt(0)==="M"){T(V,".uniform",D,"(",Ue,",");var Fs=Math.pow(ce-fo+2,2),Nr=L.global.def("new Float32Array(",Fs,")");Array.isArray(ge)?T("false,(",qn(Fs,function(ar){return Nr+"["+ar+"]="+ge[ar]}),",",Nr,")"):T("false,(Array.isArray(",ge,")||",ge," instanceof Float32Array)?",ge,":(",qn(Fs,function(ar){return Nr+"["+ar+"]="+ge+"["+ar+"]"}),",",Nr,")"),T(");")}else if(xt>1){for(var Pr=[],is=[],xs=0;xs<xt;++xs)Array.isArray(ge)?is.push(ge[xs]):is.push(T.def(ge+"["+xs+"]")),B&&Pr.push(T.def());B&&T("if(!",L.batchId,"||",Pr.map(function(ar,ks){return ar+"!=="+is[ks]}).join("||"),"){",Pr.map(function(ar,ks){return ar+"="+is[ks]+";"}).join("")),T(V,".uniform",D,"(",Ue,",",is.join(","),");"),B&&T("}")}else{if(P(!Array.isArray(ge),"uniform value must not be an array"),B){var u1=T.def();T("if(!",L.batchId,"||",u1,"!==",ge,"){",u1,"=",ge,";")}T(V,".uniform",D,"(",Ue,",",ge,");"),B&&T("}")}}}function Qe(L,T,k,z){var q=L.shared,B=q.gl,G=q.draw,V=z.draw;function R(){var We=V.elements,qe,rt=T;return We?((We.contextDep&&z.contextDynamic||We.propDep)&&(rt=k),qe=We.append(L,rt),V.elementsActive&&rt("if("+qe+")"+B+".bindBuffer("+uf+","+qe+".buffer.buffer);")):(qe=rt.def(),rt(qe,"=",G,".",Os,";","if(",qe,"){",B,".bindBuffer(",uf,",",qe,".buffer.buffer);}","else if(",q.vao,".currentVAO){",qe,"=",L.shared.elements+".getElements("+q.vao,".currentVAO.elements);",ve?"":"if("+qe+")"+B+".bindBuffer("+uf+","+qe+".buffer.buffer);","}")),qe}function D(){var We=V.count,qe,rt=T;return We?((We.contextDep&&z.contextDynamic||We.propDep)&&(rt=k),qe=We.append(L,rt),P.optional(function(){We.MISSING&&L.assert(T,"false","missing vertex count"),We.DYNAMIC&&L.assert(rt,qe+">=0","missing vertex count")})):(qe=rt.def(G,".",Ms),P.optional(function(){L.assert(rt,qe+">=0","missing vertex count")})),qe}var M=R();function Y(We){var qe=V[We];return qe?qe.contextDep&&z.contextDynamic||qe.propDep?qe.append(L,k):qe.append(L,T):T.def(G,".",We)}var X=Y(Rs),ce=Y(Ca),pe=D();if(typeof pe=="number"){if(pe===0)return}else k("if(",pe,"){"),k.exit("}");var Oe,st;Se&&(Oe=Y(Pa),st=L.instancing);var Ze=M+".type",Ue=V.elements&&ss(V.elements)&&!V.vaoActive;function ge(){function We(){k(st,".drawElementsInstancedANGLE(",[X,pe,Ze,ce+"<<(("+Ze+"-"+O0+")>>1)",Oe],");")}function qe(){k(st,".drawArraysInstancedANGLE(",[X,ce,pe,Oe],");")}M&&M!=="null"?Ue?We():(k("if(",M,"){"),We(),k("}else{"),qe(),k("}")):qe()}function ae(){function We(){k(B+".drawElements("+[X,pe,Ze,ce+"<<(("+Ze+"-"+O0+")>>1)"]+");")}function qe(){k(B+".drawArrays("+[X,ce,pe]+");")}M&&M!=="null"?Ue?We():(k("if(",M,"){"),We(),k("}else{"),qe(),k("}")):qe()}Se&&(typeof Oe!="number"||Oe>=0)?typeof Oe=="string"?(k("if(",Oe,">0){"),ge(),k("}else if(",Oe,"<0){"),ae(),k("}")):ge():ae()}function bt(L,T,k,z,q){var B=at(),G=B.proc("body",q);return P.optional(function(){B.commandStr=T.commandStr,B.command=B.link(T.commandStr)}),Se&&(B.instancing=G.def(B.shared.extensions,".angle_instanced_arrays")),L(B,G,k,z),B.compile().body}function Ct(L,T,k,z){cn(L,T),k.useVAO?k.drawVAO?T(L.shared.vao,".setVAO(",k.drawVAO.append(L,T),");"):T(L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"):(T(L.shared.vao,".setVAO(null);"),xn(L,T,k,z.attributes,function(){return!0})),It(L,T,k,z.uniforms,function(){return!0},!1),Qe(L,T,T,k)}function fn(L,T){var k=L.proc("draw",1);cn(L,k),yn(L,k,T.context),An(L,k,T.framebuffer),Mn(L,k,T),Fn(L,k,T.state),ht(L,k,T,!1,!0);var z=T.shader.progVar.append(L,k);if(k(L.shared.gl,".useProgram(",z,".program);"),T.shader.program)Ct(L,k,T,T.shader.program);else{k(L.shared.vao,".setVAO(null);");var q=L.global.def("{}"),B=k.def(z,".id"),G=k.def(q,"[",B,"]");k(L.cond(G).then(G,".call(this,a0);").else(G,"=",q,"[",B,"]=",L.link(function(V){return bt(Ct,L,T,V,1)}),"(",z,");",G,".call(this,a0);"))}Object.keys(T.state).length>0&&k(L.shared.current,".dirty=true;"),L.shared.vao&&k(L.shared.vao,".setVAO(null);")}function Cr(L,T,k,z){L.batchId="a1",cn(L,T);function q(){return!0}xn(L,T,k,z.attributes,q),It(L,T,k,z.uniforms,q,!1),Qe(L,T,T,k)}function Ds(L,T,k,z){cn(L,T);var q=k.contextDep,B=T.def(),G="a0",V="a1",R=T.def();L.shared.props=R,L.batchId=B;var D=L.scope(),M=L.scope();T(D.entry,"for(",B,"=0;",B,"<",V,";++",B,"){",R,"=",G,"[",B,"];",M,"}",D.exit);function Y(Ze){return Ze.contextDep&&q||Ze.propDep}function X(Ze){return!Y(Ze)}if(k.needsContext&&yn(L,M,k.context),k.needsFramebuffer&&An(L,M,k.framebuffer),Fn(L,M,k.state,Y),k.profile&&Y(k.profile)&&ht(L,M,k,!1,!0),z)k.useVAO?k.drawVAO?Y(k.drawVAO)?M(L.shared.vao,".setVAO(",k.drawVAO.append(L,M),");"):D(L.shared.vao,".setVAO(",k.drawVAO.append(L,D),");"):D(L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"):(D(L.shared.vao,".setVAO(null);"),xn(L,D,k,z.attributes,X),xn(L,M,k,z.attributes,Y)),It(L,D,k,z.uniforms,X,!1),It(L,M,k,z.uniforms,Y,!0),Qe(L,D,M,k);else{var ce=L.global.def("{}"),pe=k.shader.progVar.append(L,M),Oe=M.def(pe,".id"),st=M.def(ce,"[",Oe,"]");M(L.shared.gl,".useProgram(",pe,".program);","if(!",st,"){",st,"=",ce,"[",Oe,"]=",L.link(function(Ze){return bt(Cr,L,k,Ze,2)}),"(",pe,");}",st,".call(this,a0[",B,"],",B,");")}}function I(L,T){var k=L.proc("batch",2);L.batchId="0",cn(L,k);var z=!1,q=!0;Object.keys(T.context).forEach(function(ce){z=z||T.context[ce].propDep}),z||(yn(L,k,T.context),q=!1);var B=T.framebuffer,G=!1;B?(B.propDep?z=G=!0:B.contextDep&&z&&(G=!0),G||An(L,k,B)):An(L,k,null),T.state.viewport&&T.state.viewport.propDep&&(z=!0);function V(ce){return ce.contextDep&&z||ce.propDep}Mn(L,k,T),Fn(L,k,T.state,function(ce){return!V(ce)}),(!T.profile||!V(T.profile))&&ht(L,k,T,!1,"a1"),T.contextDep=z,T.needsContext=q,T.needsFramebuffer=G;var R=T.shader.progVar;if(R.contextDep&&z||R.propDep)Ds(L,k,T,null);else{var D=R.append(L,k);if(k(L.shared.gl,".useProgram(",D,".program);"),T.shader.program)Ds(L,k,T,T.shader.program);else{k(L.shared.vao,".setVAO(null);");var M=L.global.def("{}"),Y=k.def(D,".id"),X=k.def(M,"[",Y,"]");k(L.cond(X).then(X,".call(this,a0,a1);").else(X,"=",M,"[",Y,"]=",L.link(function(ce){return bt(Ds,L,T,ce,2)}),"(",D,");",X,".call(this,a0,a1);"))}}Object.keys(T.state).length>0&&k(L.shared.current,".dirty=true;"),L.shared.vao&&k(L.shared.vao,".setVAO(null);")}function ee(L,T){var k=L.proc("scope",3);L.batchId="a2";var z=L.shared,q=z.current;yn(L,k,T.context),T.framebuffer&&T.framebuffer.append(L,k),s1(Object.keys(T.state)).forEach(function(G){var V=T.state[G],R=V.append(L,k);Kt(R)?R.forEach(function(D,M){k.set(L.next[G],"["+M+"]",D)}):k.set(z.next,"."+G,R)}),ht(L,k,T,!0,!0),[Os,Ca,Ms,Pa,Rs].forEach(function(G){var V=T.draw[G];V&&k.set(z.draw,"."+G,""+V.append(L,k))}),Object.keys(T.uniforms).forEach(function(G){var V=T.uniforms[G].append(L,k);Array.isArray(V)&&(V="["+V.join()+"]"),k.set(z.uniforms,"["+C.id(G)+"]",V)}),Object.keys(T.attributes).forEach(function(G){var V=T.attributes[G].append(L,k),R=L.scopeAttrib(G);Object.keys(new j).forEach(function(D){k.set(R,"."+D,V[D])})}),T.scopeVAO&&k.set(z.vao,".targetVAO",T.scopeVAO.append(L,k));function B(G){var V=T.shader[G];V&&k.set(z.shader,"."+G,V.append(L,k))}B(ao),B(lo),Object.keys(T.state).length>0&&(k(q,".dirty=true;"),k.exit(q,".dirty=true;")),k("a1(",L.shared.context,",a0,",L.batchId,");")}function Z(L){if(!(typeof L!="object"||Kt(L))){for(var T=Object.keys(L),k=0;k<T.length;++k)if(jn.isDynamic(L[T[k]]))return!0;return!1}}function He(L,T,k){var z=T.static[k];if(!z||!Z(z))return;var q=L.global,B=Object.keys(z),G=!1,V=!1,R=!1,D=L.global.def("{}");B.forEach(function(Y){var X=z[Y];if(jn.isDynamic(X)){typeof X=="function"&&(X=z[Y]=jn.unbox(X));var ce=er(X,null);G=G||ce.thisDep,R=R||ce.propDep,V=V||ce.contextDep}else{switch(q(D,".",Y,"="),typeof X){case"number":q(X);break;case"string":q('"',X,'"');break;case"object":Array.isArray(X)&&q("[",X.join(),"]");break;default:q(L.link(X));break}q(";")}});function M(Y,X){B.forEach(function(ce){var pe=z[ce];if(jn.isDynamic(pe)){var Oe=Y.invoke(X,pe);X(D,".",ce,"=",Oe,";")}})}T.dynamic[k]=new jn.DynamicVariable(wa,{thisDep:G,contextDep:V,propDep:R,ref:D,append:M}),delete T.static[k]}function pt(L,T,k,z,q){var B=at();B.stats=B.link(q),Object.keys(T.static).forEach(function(V){He(B,T,V)}),fy.forEach(function(V){He(B,L,V)});var G=gn(L,T,k,z,B);return fn(B,G),ee(B,G),I(B,G),r(B.compile(),{destroy:function(){G.shader.program.destroy()}})}return{next:Fe,current:Ge,procs:function(){var L=at(),T=L.proc("poll"),k=L.proc("refresh"),z=L.block();T(z),k(z);var q=L.shared,B=q.gl,G=q.next,V=q.current;z(V,".dirty=false;"),An(L,T),An(L,k,null,!0);var R;Se&&(R=L.link(Se)),F.oes_vertex_array_object&&k(L.link(F.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var D=0;D<Q.maxAttributes;++D){var M=k.def(q.attributes,"[",D,"]"),Y=L.cond(M,".buffer");Y.then(B,".enableVertexAttribArray(",D,");",B,".bindBuffer(",vi,",",M,".buffer.buffer);",B,".vertexAttribPointer(",D,",",M,".size,",M,".type,",M,".normalized,",M,".stride,",M,".offset);").else(B,".disableVertexAttribArray(",D,");",B,".vertexAttrib4f(",D,",",M,".x,",M,".y,",M,".z,",M,".w);",M,".buffer=null;"),k(Y),Se&&k(R,".vertexAttribDivisorANGLE(",D,",",M,".divisor);")}return k(L.shared.vao,".currentVAO=null;",L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"),Object.keys(me).forEach(function(X){var ce=me[X],pe=z.def(G,".",X),Oe=L.block();Oe("if(",pe,"){",B,".enable(",ce,")}else{",B,".disable(",ce,")}",V,".",X,"=",pe,";"),k(Oe),T("if(",pe,"!==",V,".",X,"){",Oe,"}")}),Object.keys(ue).forEach(function(X){var ce=ue[X],pe=Ge[X],Oe,st,Ze=L.block();if(Ze(B,".",ce,"("),Kt(pe)){var Ue=pe.length;Oe=L.global.def(G,".",X),st=L.global.def(V,".",X),Ze(qn(Ue,function(ge){return Oe+"["+ge+"]"}),");",qn(Ue,function(ge){return st+"["+ge+"]="+Oe+"["+ge+"];"}).join("")),T("if(",qn(Ue,function(ge){return Oe+"["+ge+"]!=="+st+"["+ge+"]"}).join("||"),"){",Ze,"}")}else Oe=z.def(G,".",X),st=z.def(V,".",X),Ze(Oe,");",V,".",X,"=",Oe,";"),T("if(",Oe,"!==",st,"){",Ze,"}");k(Ze)}),L.compile()}(),compile:pt}}function Oy(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Ry=34918,My=34919,o1=35007,Iy=function(_,C){if(!C.ext_disjoint_timer_query)return null;var F=[];function Q(){return F.pop()||C.ext_disjoint_timer_query.createQueryEXT()}function de(Se){F.push(Se)}var K=[];function ie(Se){var $e=Q();C.ext_disjoint_timer_query.beginQueryEXT(o1,$e),K.push($e),ye(K.length-1,K.length,Se)}function _e(){C.ext_disjoint_timer_query.endQueryEXT(o1)}function be(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var we=[];function Ce(){return we.pop()||new be}function Te(Se){we.push(Se)}var Re=[];function ye(Se,$e,ve){var Ge=Ce();Ge.startQueryIndex=Se,Ge.endQueryIndex=$e,Ge.sum=0,Ge.stats=ve,Re.push(Ge)}var Ee=[],j=[];function re(){var Se,$e,ve=K.length;if(ve!==0){j.length=Math.max(j.length,ve+1),Ee.length=Math.max(Ee.length,ve+1),Ee[0]=0,j[0]=0;var Ge=0;for(Se=0,$e=0;$e<K.length;++$e){var Fe=K[$e];C.ext_disjoint_timer_query.getQueryObjectEXT(Fe,My)?(Ge+=C.ext_disjoint_timer_query.getQueryObjectEXT(Fe,Ry),de(Fe)):K[Se++]=Fe,Ee[$e+1]=Ge,j[$e+1]=Se}for(K.length=Se,Se=0,$e=0;$e<Re.length;++$e){var Ke=Re[$e],me=Ke.startQueryIndex,ue=Ke.endQueryIndex;Ke.sum+=Ee[ue]-Ee[me];var ze=j[me],Me=j[ue];Me===ze?(Ke.stats.gpuTime+=Ke.sum/1e6,Te(Ke)):(Ke.startQueryIndex=ze,Ke.endQueryIndex=Me,Re[Se++]=Ke)}Re.length=Se}}return{beginQuery:ie,endQuery:_e,pushScopeStats:ye,update:re,getNumPendingQueries:function(){return K.length},clear:function(){F.push.apply(F,K);for(var Se=0;Se<F.length;Se++)C.ext_disjoint_timer_query.deleteQueryEXT(F[Se]);K.length=0,F.length=0},restore:function(){K.length=0,F.length=0}}},Dy=16384,Fy=256,xy=1024,ky=34962,a1="webglcontextlost",l1="webglcontextrestored",c1=1,Gy=2,By=3;function f1(_,C){for(var F=0;F<_.length;++F)if(_[F]===C)return F;return-1}function Ny(_){var C=ac(_);if(!C)return null;var F=C.gl,Q=F.getContextAttributes(),de=F.isContextLost(),K=lc(F,C);if(!K)return null;var ie=nc(),_e=Oy(),be=K.extensions,we=Iy(F,be),Ce=na(),Te=F.drawingBufferWidth,Re=F.drawingBufferHeight,ye={tick:0,time:0,viewportWidth:Te,viewportHeight:Re,framebufferWidth:Te,framebufferHeight:Re,drawingBufferWidth:Te,drawingBufferHeight:Re,pixelRatio:C.pixelRatio},Ee={},j={elements:null,primitive:4,count:-1,offset:0,instances:-1},re=Tb(F,be),Se=Vb(F,_e,C,Ge),$e=Jb(F,be,Se,_e),ve=J_(F,be,re,_e,Se,$e,j);function Ge(Qe){return ve.destroyBuffer(Qe)}var Fe=ry(F,ie,_e,C),Ke=R_(F,be,re,function(){ze.procs.poll()},ye,_e,C),me=M_(F,be,re,_e,C),ue=K_(F,be,re,Ke,me,_e),ze=Ly(F,ie,be,re,Se,$e,Ke,ue,Ee,ve,Fe,j,ye,we,C),Me=oy(F,ue,ze.procs.poll,ye,Q,be,re),Ae=ze.next,Ie=F.canvas,De=[],ft=[],at=[],xe=[C.onDestroy],Ne=null;function nt(){if(De.length===0){we&&we.update(),Ne=null;return}Ne=Zi.next(nt),Fn();for(var Qe=De.length-1;Qe>=0;--Qe){var bt=De[Qe];bt&&bt(ye,null,0)}F.flush(),we&&we.update()}function ut(){!Ne&&De.length>0&&(Ne=Zi.next(nt))}function vt(){Ne&&(Zi.cancel(nt),Ne=null)}function Qt(Qe){Qe.preventDefault(),de=!0,vt(),ft.forEach(function(bt){bt()})}function tn(Qe){F.getError(),de=!1,K.restore(),Fe.restore(),Se.restore(),Ke.restore(),me.restore(),ue.restore(),ve.restore(),we&&we.restore(),ze.procs.refresh(),ut(),at.forEach(function(bt){bt()})}Ie&&(Ie.addEventListener(a1,Qt,!1),Ie.addEventListener(l1,tn,!1));function yt(){De.length=0,vt(),Ie&&(Ie.removeEventListener(a1,Qt),Ie.removeEventListener(l1,tn)),Fe.clear(),ue.clear(),me.clear(),ve.clear(),Ke.clear(),$e.clear(),Se.clear(),we&&we.clear(),xe.forEach(function(Qe){Qe()})}function _n(Qe){P(!!Qe,"invalid args to regl({...})"),P.type(Qe,"object","invalid args to regl({...})");function bt(q){var B=r({},q);delete B.uniforms,delete B.attributes,delete B.context,delete B.vao,"stencil"in B&&B.stencil.op&&(B.stencil.opBack=B.stencil.opFront=B.stencil.op,delete B.stencil.op);function G(V){if(V in B){var R=B[V];delete B[V],Object.keys(R).forEach(function(D){B[V+"."+D]=R[D]})}}return G("blend"),G("depth"),G("cull"),G("stencil"),G("polygonOffset"),G("scissor"),G("sample"),"vao"in q&&(B.vao=q.vao),B}function Ct(q,B){var G={},V={};return Object.keys(q).forEach(function(R){var D=q[R];if(jn.isDynamic(D)){V[R]=jn.unbox(D,R);return}else if(B&&Array.isArray(D)){for(var M=0;M<D.length;++M)if(jn.isDynamic(D[M])){V[R]=jn.unbox(D,R);return}}G[R]=D}),{dynamic:V,static:G}}var fn=Ct(Qe.context||{},!0),Cr=Ct(Qe.uniforms||{},!0),Ds=Ct(Qe.attributes||{},!1),I=Ct(bt(Qe),!1),ee={gpuTime:0,cpuTime:0,count:0},Z=ze.compile(I,Ds,Cr,fn,ee),He=Z.draw,pt=Z.batch,L=Z.scope,T=[];function k(q){for(;T.length<q;)T.push(null);return T}function z(q,B){var G;if(de&&P.raise("context lost"),typeof q=="function")return L.call(this,null,q,0);if(typeof B=="function")if(typeof q=="number")for(G=0;G<q;++G)L.call(this,null,B,G);else if(Array.isArray(q))for(G=0;G<q.length;++G)L.call(this,q[G],B,G);else return L.call(this,q,B,0);else if(typeof q=="number"){if(q>0)return pt.call(this,k(q|0),q|0)}else if(Array.isArray(q)){if(q.length)return pt.call(this,q,q.length)}else return He.call(this,q)}return r(z,{stats:ee,destroy:function(){Z.destroy()}})}var zt=ue.setFBO=_n({framebuffer:jn.define.call(null,c1,"framebuffer")});function gn(Qe,bt){var Ct=0;ze.procs.poll();var fn=bt.color;fn&&(F.clearColor(+fn[0]||0,+fn[1]||0,+fn[2]||0,+fn[3]||0),Ct|=Dy),"depth"in bt&&(F.clearDepth(+bt.depth),Ct|=Fy),"stencil"in bt&&(F.clearStencil(bt.stencil|0),Ct|=xy),P(!!Ct,"called regl.clear with no buffer specified"),F.clear(Ct)}function yn(Qe){if(P(typeof Qe=="object"&&Qe,"regl.clear() takes an object as input"),"framebuffer"in Qe)if(Qe.framebuffer&&Qe.framebuffer_reglType==="framebufferCube")for(var bt=0;bt<6;++bt)zt(r({framebuffer:Qe.framebuffer.faces[bt]},Qe),gn);else zt(Qe,gn);else gn(null,Qe)}function An(Qe){P.type(Qe,"function","regl.frame() callback must be a function"),De.push(Qe);function bt(){var Ct=f1(De,Qe);P(Ct>=0,"cannot cancel a frame twice");function fn(){var Cr=f1(De,fn);De[Cr]=De[De.length-1],De.length-=1,De.length<=0&&vt()}De[Ct]=fn}return ut(),{cancel:bt}}function Mn(){var Qe=Ae.viewport,bt=Ae.scissor_box;Qe[0]=Qe[1]=bt[0]=bt[1]=0,ye.viewportWidth=ye.framebufferWidth=ye.drawingBufferWidth=Qe[2]=bt[2]=F.drawingBufferWidth,ye.viewportHeight=ye.framebufferHeight=ye.drawingBufferHeight=Qe[3]=bt[3]=F.drawingBufferHeight}function Fn(){ye.tick+=1,ye.time=ht(),Mn(),ze.procs.poll()}function cn(){Ke.refresh(),Mn(),ze.procs.refresh(),we&&we.update()}function ht(){return(na()-Ce)/1e3}cn();function xn(Qe,bt){P.type(bt,"function","listener callback must be a function");var Ct;switch(Qe){case"frame":return An(bt);case"lost":Ct=ft;break;case"restore":Ct=at;break;case"destroy":Ct=xe;break;default:P.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ct.push(bt),{cancel:function(){for(var fn=0;fn<Ct.length;++fn)if(Ct[fn]===bt){Ct[fn]=Ct[Ct.length-1],Ct.pop();return}}}}var It=r(_n,{clear:yn,prop:jn.define.bind(null,c1),context:jn.define.bind(null,Gy),this:jn.define.bind(null,By),draw:_n({}),buffer:function(Qe){return Se.create(Qe,ky,!1,!1)},elements:function(Qe){return $e.create(Qe,!1)},texture:Ke.create2D,cube:Ke.createCube,renderbuffer:me.create,framebuffer:ue.create,framebufferCube:ue.createCube,vao:ve.createVAO,attributes:Q,frame:An,on:xn,limits:re,hasExtension:function(Qe){return re.extensions.indexOf(Qe.toLowerCase())>=0},read:Me,destroy:yt,_gl:F,_refresh:cn,poll:function(){Fn(),we&&we.update()},now:ht,stats:_e});return C.onDone(null,It),It}return Ny})}(Sf)),Sf.exports}const oA=sA,aA=Pl,lA=e=>{const n=Object.assign({},{},e.glOptions,{onDone:(o,a)=>{if(o)throw o}}),r=iA()(n),s=new Map,i=o=>{o.rendering=Object.assign({},aA,o.rendering),oA(r)(o,a=>{r.clear({color:o.rendering.background,depth:1}),o.entities&&o.entities.sort((l,c)=>{const f="transparent"in l.visuals?l.visuals.transparent:!1,u="transparent"in c.visuals?c.visuals.transparent:!1;return f===u?0:f?1:-1}).forEach(l=>{const{visuals:c}=l;if(("show"in c?c.show:!0)&&c.drawCmd&&o.drawCommands[c.drawCmd]){let u;c.cacheId?u=s.get(c.cacheId):(c.cacheId=s.size,u=o.drawCommands[c.drawCmd](r,l),s.set(c.cacheId,u));const h={...l,...c,camera:o.camera};u(h)}})})};return function(a){r.poll(),i(a)}};var cA=lA,Ef,D1;function F1(){if(D1)return Ef;D1=1;const e=br;return Ef=(n,r={})=>{const s=[],i={visuals:{color:[0,0,1,1],fadeOut:!1},ticks:1,size:[16,16],centered:!1,lineWidth:2},o=Object.assign({},i.visuals,r.visuals||{}),{fadeOut:a,color:l}=o,{size:c,ticks:f,centered:u,lineWidth:h}=Object.assign({},i,r),d=c[0],g=c[1];if(u){const p=d*.5,m=g*.5,v=p%f,b=-p+v,y=-b,S=m%f,w=-m+S,E=-w,A=0;for(let O=b,U=0;O<=y;O+=f,U+=1)U%A!==0&&(s.push(w,O,0),s.push(E,O,0),s.push(w,O,0));for(let O=w,U=0;O<=E;O+=f,U+=1)U%A!==0&&(s.push(O,b,0),s.push(O,y,0),s.push(O,b,0))}else{for(let p=-d*.5;p<=d*.5;p+=f)s.push(-g*.5,p,0),s.push(g*.5,p,0),s.push(-g*.5,p,0);for(let p=-g*.5;p<=g*.5;p+=f)s.push(p,-d*.5,0),s.push(p,d*.5,0),s.push(p,-d*.5,0)}return n({vert:`precision mediump float;

    uniform float camNear, camFar;
    uniform mat4 model, view, projection;

    attribute vec3 position;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    void main() {
      fragPosition = position;
      worldPosition = model * vec4(position, 1);
      vec4 glPosition = projection * view * worldPosition;
      gl_Position = glPosition;
    }`,frag:`precision mediump float;
    uniform vec4 color;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    uniform vec4 fogColor;
    uniform bool fadeOut;
    void main() {
      float dist = .5;
      if(fadeOut){
        dist = distance( vec2(0.,0.), vec2(worldPosition.x, worldPosition.y));
        dist *= 0.0025;
        dist = sqrt(dist);
      }

      gl_FragColor = mix(color, fogColor, dist);
    }
    `,attributes:{position:n.buffer(s)},count:s.length/3,uniforms:{model:(p,m)=>m&&m.model?m.model:e.identity([]),color:(p,m)=>m&&m.color?m.color:l,fogColor:(p,m)=>m&&m.color?[m.color[0],m.color[1],m.color[2],0]:[l[0],l[1],l[2],0],fadeOut:(p,m)=>m&&m.fadeOut!==void 0?m.fadeOut:a},lineWidth:(p,m)=>Math.min(m&&m.lineWidth?m.lineWidth:h,n.limits.lineWidthDims[1]),primitive:"lines",cull:{enable:!0,face:"front"},polygonOffset:{enable:!0,offset:{factor:1,units:Math.random()*10}},blend:{enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}})},Ef}const fA=(e,t)=>{const n={size:[50,50],ticks:[10,1]},{size:r,ticks:s}=Object.assign({},n,t),i=F1()(e,{size:r,ticks:s[0]}),o=F1()(e,{size:r,ticks:s[1]});return l=>{i(l),o({color:l.subColor,fadeOut:l.fadeOut})}};var uA=fA;const Xn=br,dA=(e,t)=>{const n={xColor:[1,0,0,1],yColor:[0,1,0,1],zColor:[0,0,1,1],size:10,lineWidth:3,alwaysVisible:!0};let{size:r,xColor:s,yColor:i,zColor:o,lineWidth:a,alwaysVisible:l}=Object.assign({},n,t);a>e.limits.lineWidthDims[1]&&(a=e.limits.lineWidthDims[1]);const c=[0,0,0,r,0,0],f={frag:`precision mediump float;
    uniform vec4 color;
    void main() {
      gl_FragColor = color;
    }`,vert:`
    precision mediump float;
    attribute vec3 position;
    uniform mat4 model, view, projection;
    void main() {
      gl_Position = projection * view * model * vec4(position, 1);
    }`,uniforms:{model:(p,m)=>m&&m.model?m.model:Xn.identity([]),color:(p,m)=>m.color,angle:(p,m)=>m.angle},attributes:{position:c},count:c.length/3,primitive:"line loop",lineWidth:a,depth:{enable:!l}},u=Xn.identity([]),h=Xn.rotateZ(Xn.create(),Xn.identity([]),Math.PI/2),d=Xn.rotateY(Xn.create(),Xn.identity([]),-Math.PI/2),g=e(f);return p=>{const m={model:Xn.identity([])};return p=Object.assign({},m,p),g([{color:s,model:Xn.multiply(Xn.create(),p.model,u)},{color:i,model:Xn.multiply(Xn.create(),p.model,h)},{color:o,model:Xn.multiply(Xn.create(),p.model,d)}])}};var hA=dA,wf,x1;function k1(){return x1||(x1=1,wf={frag:`
precision mediump float;
varying vec3 surfaceNormal, surfacePosition;

uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform float specularLightAmount;

uniform vec3 lightDirection;
uniform vec4 lightColor;
uniform vec3 opacity;
uniform float uMaterialShininess;

varying vec4 vColor;
uniform vec4 ucolor;
uniform float vColorToggler;

uniform vec2 printableArea;
vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);//vec4(0.15, 0.15, 0.15, 0.3);
varying vec4 _worldSpacePosition;
varying float ambientAo;

void main () {
  vec4 depth = gl_FragCoord;
  vec4 endColor = vColor * vColorToggler + ucolor * (1.0 - vColorToggler);

  vec3 ambient = ambientLightAmount * endColor.rgb ; //ambientAo * 

  float diffuseWeight = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(diffuseWeight , 0.0, 1.0 );

  //specular
  
  vec4 specularColor = vec4(lightColor);
  vec3 eyeDirection = normalize(surfacePosition.xyz);
  vec3 reflectionDirection = reflect(-lightDirection, -surfaceNormal);
  float specularLightWeight = pow(max(dot(reflectionDirection, eyeDirection), 0.0), uMaterialShininess);
  vec3 specular = specularColor.rgb * specularLightWeight * specularLightAmount;

  gl_FragColor = vec4((ambient + diffuse + specular), endColor.a);
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection, unormal;

attribute vec3 position, normal;
attribute vec4 color;

attribute float ao;
varying float ambientAo;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  surfacePosition = (unormal * vec4(position, 1.0)).xyz;
  surfaceNormal = normalize((unormal * vec4(normal, 1.0)).xyz); //vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;
  //gl_Position = projection * view * worldSpacePosition;

  vColor = color;

  //ambientAo = (1. - ao) * (0.5 * max(normal.x, 0.) + 0.5);

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
  //gl_Position = zBufferAdjust(glPosition, camNear, camFar);
}
`}),wf}var Tf,G1;function B1(){return G1||(G1=1,Tf={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;

void main() {
  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Tf}const os=br,{meshColor:mA}=Pl,pA=(e,t={extras:{}})=>{const n={useVertexColors:!0,dynamicCulling:!0,geometry:void 0,color:mA,visuals:{}},{geometry:r,dynamicCulling:s,useVertexColors:i,color:o,visuals:a}=Object.assign({},n,t),l=e.buffer([]),c=!!(r.indices&&r.indices.length>0),f=!!(r.normals&&r.normals.length>0),u="transparent"in a?a.transparent:!1,h=!!(i&&r.colors&&r.colors.length>0),d=r.transforms||os.create(),g=os.determinant(d)<0,p=s&&g?"front":"back",m=h?k1().vert:B1().vert,v=h?k1().frag:B1().frag,b=os.invert(os.create(),d);let y={primitive:"triangles",vert:m,frag:v,uniforms:{model:(S,w)=>d,ucolor:(S,w)=>w&&w.color?w.color:o,vColorToggler:(S,w)=>w&&w.useVertexColors&&w.useVertexColors===!0?1:0,unormal:(S,w)=>{const E=os.invert(os.create(),w.camera.view);return os.multiply(E,b,E),os.transpose(E,E),E}},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions}),ao:l},cull:{enable:!0,face:p}};return u&&(y.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),r.cells?y.elements=r.cells:c?y.elements=e.elements({usage:"static",type:"uint16",data:r.indices}):r.triangles?y.elements=r.triangles:y.count=r.positions.length/3,f&&(y.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),h&&(y.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),y=Object.assign({},y,t.extras),e(y)};var gA=pA,Cf,N1;function $1(){return N1||(N1=1,Cf={frag:`
precision mediump float;
varying vec4 vColor;

void main () {
  gl_FragColor = vColor;
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;
attribute vec4 color;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  vColor = color;

  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`}),Cf}var Pf,V1;function vA(){return V1||(V1=1,Pf={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;


varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;


void main() {


  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Pf}var Lf,U1;function bA(){return U1||(U1=1,Lf={frag:`
precision mediump float;
uniform vec4 ucolor;

void main () {
  gl_FragColor = ucolor;
}
`}),Lf}const _A=br,{meshColor:yA}=Pl,AA=(e,t={})=>{const n={color:yA,geometry:void 0};let{geometry:r,color:s,transparent:i}=Object.assign({},n,t);"color"in r&&(s=r.color);const o=!!(r.indices&&r.indices.length>0),a=!!(r.normals&&r.normals.length>0),l=!!(r.colors&&r.colors.length>0),c=l?$1().vert:vA().vert,f=l?$1().frag:bA().frag,u={primitive:"lines",vert:c,frag:f,uniforms:{model:(h,d)=>d.model||r.transforms||_A.create(),ucolor:(h,d)=>d&&d.color?d.color:s},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions})}};return i&&(u.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),l&&(u.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),o&&(u.elements=e.elements({usage:"static",type:"uint16",data:r.indices})),a&&(u.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),e(u)};var SA=AA,kg=1e-6,Gg=EA;function EA(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}var wA=TA;function TA(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}var Bg=CA;function CA(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}var Ng=PA;function PA(e,t){var n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}var $g=LA;function LA(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}var OA=MA,H1=Bg,z1=Ng,RA=$g;function MA(e,t){var n=H1(e[0],e[1],e[2]),r=H1(t[0],t[1],t[2]);z1(n,n),z1(r,r);var s=RA(n,r);return s>1?0:Math.acos(s)}var IA=DA;function DA(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}var FA=xA;function xA(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}var kA=GA,Of=kg;function GA(e,t){var n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2];return Math.abs(n-i)<=Of*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=Of*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-a)<=Of*Math.max(1,Math.abs(s),Math.abs(a))}var BA=NA;function NA(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var $A=VA;function VA(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var Vg=UA;function UA(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}var HA=Vg,Ug=zA;function zA(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}var jA=Ug,Hg=qA;function qA(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}var XA=Hg,WA=YA;function YA(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}var ZA=KA;function KA(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}var QA=JA;function JA(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}var eS=tS;function tS(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}var nS=rS;function rS(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}var sS=iS;function iS(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}var oS=aS;function aS(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}var zg=lS;function lS(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)}var cS=zg,jg=fS;function fS(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s}var uS=jg,qg=dS;function dS(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}var hS=qg,Xg=mS;function mS(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}var pS=Xg,gS=vS;function vS(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}var bS=_S;function _S(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}var yS=AS;function AS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e}var SS=ES;function ES(e,t,n,r){var s=t[0],i=t[1],o=t[2];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}var wS=TS;function TS(e,t){t=t||1;var n=Math.random()*2*Math.PI,r=Math.random()*2-1,s=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=r*t,e}var CS=PS;function PS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e}var LS=OS;function OS(e,t,n){var r=t[0],s=t[1],i=t[2];return e[0]=r*n[0]+s*n[3]+i*n[6],e[1]=r*n[1]+s*n[4]+i*n[7],e[2]=r*n[2]+s*n[5]+i*n[8],e}var RS=MS;function MS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2],c=n[3],f=c*r+a*i-l*s,u=c*s+l*r-o*i,h=c*i+o*s-a*r,d=-o*r-a*s-l*i;return e[0]=f*c+d*-o+u*-l-h*-a,e[1]=u*c+d*-a+h*-o-f*-l,e[2]=h*c+d*-l+f*-a-u*-o,e}var IS=DS;function DS(e,t,n,r){var s=n[1],i=n[2],o=t[1]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=t[0],e[1]=s+o*c-a*l,e[2]=i+o*l+a*c,e}var FS=xS;function xS(e,t,n,r){var s=n[0],i=n[2],o=t[0]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+a*l+o*c,e[1]=t[1],e[2]=i+a*c-o*l,e}var kS=GS;function GS(e,t,n,r){var s=n[0],i=n[1],o=t[0]-s,a=t[1]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+o*c-a*l,e[1]=i+o*l+a*c,e[2]=t[2],e}var BS=NS,as=Gg();function NS(e,t,n,r,s,i){var o,a;for(t||(t=3),n||(n=0),r?a=Math.min(r*t+n,e.length):a=e.length,o=n;o<a;o+=t)as[0]=e[o],as[1]=e[o+1],as[2]=e[o+2],s(as,as,i),e[o]=as[0],e[o+1]=as[1],e[o+2]=as[2];return e}var zo={EPSILON:kg,create:Gg,clone:wA,angle:OA,fromValues:Bg,copy:IA,set:FA,equals:kA,exactEquals:BA,add:$A,subtract:Vg,sub:HA,multiply:Ug,mul:jA,divide:Hg,div:XA,min:WA,max:ZA,floor:QA,ceil:eS,round:nS,scale:sS,scaleAndAdd:oS,distance:zg,dist:cS,squaredDistance:jg,sqrDist:uS,length:qg,len:hS,squaredLength:Xg,sqrLen:pS,negate:gS,inverse:bS,normalize:Ng,dot:$g,cross:yS,lerp:SS,random:wS,transformMat4:CS,transformMat3:LS,transformQuat:RS,rotateX:IS,rotateY:FS,rotateZ:kS,forEach:BS};const Zs=br,Rf=zo,Wg={view:Zs.identity(new Float32Array(16)),projection:Zs.identity(new Float32Array(16)),matrix:Zs.identity(new Float32Array(16)),near:1,far:18e3,up:[0,0,1],eye:new Float32Array(3),position:[450,550,700],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],projectionType:"perspective"},Yg={},$S=Object.assign({},Wg,Yg),VS=(e,t,n)=>{const r=n.width/n.height,s=Zs.perspective(Zs.identity([]),t.fov,r,t.near,t.far),i=[0,0,n.width,n.height],o=e||{};return o.projection=s,o.aspect=r,o.viewport=i,o},US=(e,t)=>{t||(t=e);const{position:n,target:r,up:s}=t,i=Rf.subtract([],n,r),o=Rf.add(Rf.create(),r,i),a=Zs.lookAt(Zs.create(),o,r,s),l=e||{};return l.position=o,l.view=a,l};var Gu={cameraState:Wg,cameraProps:Yg,defaults:$S,setProjection:VS,update:US};const ml=br,HS={view:ml.identity(new Float32Array(16)),projection:ml.identity(new Float32Array(16)),matrix:ml.identity(new Float32Array(16)),near:1,far:1300,up:[0,0,1],eye:new Float32Array(3),position:[150,250,200],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],zoom:1,projectionType:"orthographic"},zS={},jS=(e,t)=>{const{width:n,height:r}=t,s=n/r,i=[0,0,n,r],o=e.zoom,a=-n*o,l=n*o,c=-r*o,f=r*o;return{projection:ml.ortho([],a,l,c,f,e.near,e.far),aspect:s,viewport:i}};var bl={cameraState:HS,cameraProps:zS,setProjection:jS};const xi=zo,_l=br,qS=e=>{const{near:t,far:n,fov:r,zoom:s}=e,{viewport:i}=e,o=Gu.setProjection(e,{width:i[2],height:i[3]}),{projectionType:a}=Gu.cameraState;return Object.assign({},e,o,{projectionType:a},{near:t,far:n,fov:r})},XS=e=>{const{fov:t,aspect:n}=e,r=xi.length(xi.subtract([],e.position,e.target))*.3,s=Math.tan(t)*r*n,i=Math.tan(t)*r,{near:o,far:a,viewport:l}=e,c={zoom:1,near:o,far:a},f=bl.cameraState,u=bl.setProjection(c,{width:s,height:i});return Object.assign({},f,e,u,{projectionType:f.projectionType,viewport:l})},WS=({camera:e})=>{const n=xi.distance(e.position,e.target),r=[n,n,n];return{view:_l.lookAt(_l.create(),r,e.target,e.up),position:r}},YS=(e,{camera:t})=>{const n={top:[0,-1e-6,1],bottom:[0,0,-1],front:[0,1,0],back:[0,-1,0],left:[-1,0,0],right:[1,0,0],undefined:[0,0,0]},r=xi.distance(t.position,t.target),s=xi.add(xi.create(),n[e].map(o=>o*r),t.target);return{view:_l.lookAt(_l.create(),s,t.target,t.up),position:s}};var ZS={toPerspectiveView:WS,toPresetView:YS,fromOrthographicToPerspective:qS,fromPerspectiveToOrthographic:XS};const Zg=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Zg(n)):t.concat(n),[]);var KS=Zg;const QS=(e,t)=>e-t;var JS=QS;const eE=e=>{if(!(!Array.isArray(e)||e.length===0))return e[0]};var tE=eE;const nE=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}return e.splice(r,0,t),e};var rE=nE;const sE=(e,t)=>{if(!(!Array.isArray(e)||e.length<t))return e[t]};var iE=sE;const oE=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var aE=oE;const lE=e=>Array.isArray(e)?e:e==null?[]:[e];var cE=lE,Zu={flatten:KS,fnNumberSort:JS,head:tE,insertSorted:rE,nth:iE,padToLength:aE,toArray:cE};const fE=e=>{if(e.length===0)return[[0,0,0],[0,0,0]];const t=Array.isArray(e)&&Array.isArray(e[0]),n=t?e[0].length:3,r=new Array(n),s=new Array(n);for(let i=0;i<n;i+=1)r[i]=1/0,s[i]=-1/0;if(t)e.forEach(i=>{for(let o=0;o<n;o+=1){const a=t?i[o]:i;s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}});else for(let i=0;i<e.length;i+=n)for(let o=0;o<n;o+=1){const a=e[o+i];s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}return[r,s]};var uE=fE;const lr=zo,{flatten:dE}=Zu,hE=uE,mE=(...e)=>{e=dE(e);let t;e.forEach(l=>{let c=hE(l.positions);c=c.map(f=>lr.transformMat4(f,f,l.transforms)),t?(lr.min(t[0],t[0],c[0]),lr.max(t[1],t[1],c[1])):t=c});const n=lr.min(lr.create(),t[1],t[0]),r=lr.max(lr.create(),t[1],t[0]),s=lr.subtract(lr.create(),r,n);let i=lr.scale(lr.create(),s,.5);return i=lr.add(i,n,i),{dia:lr.distance(i,r),center:[...i],min:[...n],max:[...r],size:[...s]}};var pE=mE,Mf,j1;function gE(){if(j1)return Mf;j1=1,Mf=e;function e(t,n,r){var s=n[0],i=n[1],o=n[2],a=r[0],l=r[1],c=r[2],f=r[3],u=r[4],h=r[5],d=r[6],g=r[7],p=r[8],m=r[9],v=r[10],b=r[11],y=r[12],S=r[13],w=r[14],E=r[15],A=1/(s*f+i*g+o*b+E);return t[0]=(s*a+i*u+o*p+y)*A,t[1]=(s*l+i*h+o*m+S)*A,t[2]=(s*c+i*d+o*v+w)*A,t}return Mf}var If,q1;function vE(){if(q1)return If;q1=1;var e=gE();If=t;function t(n,r,s,i){var o=s[0],a=s[1],l=s[2],c=s[3],f=r[0],u=r[1],h=r[2];return f=f-o,u=c-u-1,u=u-a,n[0]=2*f/l-1,n[1]=2*u/c-1,n[2]=2*h-1,e(n,n,i)}return If}const Kn=zo,$o=br,{max:Df,min:Ff,sqrt:X1,PI:bE,sin:Ai,cos:Ha,atan2:za}=Math,_E=pE,Ku={limits:{minDistance:.01,maxDistance:1e4},drag:.27,EPS:1e-6,zoomToFit:{auto:!0,targets:"all",tightness:1.5},userControl:{zoom:!0,zoomSpeed:1,rotate:!0,rotateSpeed:1,pan:!0,panSpeed:1},autoRotate:{enabled:!1,speed:1},autoAdjustPlanes:!0},Kg={thetaDelta:0,phiDelta:0,scale:1},yE=Object.assign({},Kg,Ku),AE=({controls:e,camera:t},n)=>{const{EPS:r,drag:s}=e,{position:i,target:o}=t,a=e.up?e.up:t.up;let l=e.thetaDelta;const c=e.phiDelta,f=e.scale,u=Kn.subtract([],i,o);let h,d;a[2]===1?(h=za(u[0],u[1]),d=za(X1(u[0]*u[0]+u[1]*u[1]),u[2])):(h=za(u[0],u[2]),d=za(X1(u[0]*u[0]+u[2]*u[2]),u[1])),e.autoRotate.enabled&&e.userControl.rotate&&(l+=2*Math.PI/60/60*e.autoRotate.speed),h+=l,d+=c,d=Df(r,Ff(bE-r,d));const g=Df(e.limits.minDistance,Ff(e.limits.maxDistance,Kn.length(u)*f));a[2]===1?(u[0]=g*Ai(d)*Ai(h),u[2]=g*Ha(d),u[1]=g*Ai(d)*Ha(h)):(u[0]=g*Ai(d)*Ai(h),u[1]=g*Ha(d),u[2]=g*Ai(d)*Ha(h));const p=Kn.add(Kn.create(),o,u),m=$o.lookAt($o.create(),p,o,a),v=1-Df(Ff(s,1),.01),b=Kn.distance(i,p)>.001;return{controls:{thetaDelta:l*v,phiDelta:c*v,scale:1,changed:b},camera:{position:p,view:m}}},SE=({controls:e,camera:t,speed:n=1},r)=>{let{thetaDelta:s,phiDelta:i}=e;return e.userControl.rotate&&(s+=r[0]*n,i+=r[1]*n),{controls:{thetaDelta:s,phiDelta:i},camera:t}},EE=({controls:e,camera:t,speed:n=1},r=0)=>{let{scale:s}=e;if(e.userControl.zoom&&t&&r!==void 0&&r!==0&&!isNaN(r)){const i=Math.sign(r)===0?1:Math.sign(r);r=r/r*i*n;const o=r+e.scale,a=Kn.distance(t.position,t.target)*o;if(a>e.limits.minDistance&&a<e.limits.maxDistance&&(s+=r),t.projectionType==="orthographic"){const l=Kn.length(Kn.subtract([],t.position,t.target))*.3,c=Math.tan(t.fov)*l*t.aspect,f=Math.tan(t.fov)*l;t=bl.setProjection(t,{width:c,height:f})}}return{controls:{scale:s},camera:t}},wE=({controls:e,camera:t,speed:n=1},r)=>{const s=vE(),{projection:i,view:o,viewport:a}=t,l=$o.multiply([],i,o),c=$o.invert([],l),f=[a[2],a[3],0],u=[a[2]-r[0],a[3]+r[1],0],h=s([],f,a,c),d=s([],u,a,c),g=Kn.distance(t.position,t.eye),p=Kn.subtract([],h,d).map(m=>m*n*g*e.scale);return{controls:e,camera:{position:Kn.add(Kn.create(),t.position,p),target:Kn.add(Kn.create(),t.target,p)}}},TE=({controls:e,camera:t,entities:n})=>{const{zoomToFit:r}=e;if(r.targets!=="all")return{controls:e,camera:t};if(n.length===0)return{controls:e,camera:t};const s=n.map(d=>d.geometry),i=_E(s),{fov:o,target:a,position:l}=t,{tightness:c}=Object.assign({},r,Ku.zoomToFit),f=i.dia*c/Math.tan(o/2),u=Kn.distance(a,l),h=f/u;return{camera:{target:i.center},controls:{scale:h}}},CE=({controls:e,camera:t},n)=>({camera:{position:n.camera.position,target:n.camera.target,projection:$o.perspective([],t.fov,t.aspect,t.near,t.far),view:n.camera.view},controls:{thetaDelta:n.controls.thetaDelta,phiDelta:n.controls.phiDelta,scale:n.controls.scale}});var PE={controlsProps:Ku,controlsState:Kg,defaults:yE,update:AE,rotate:SE,zoom:EE,pan:wE,zoomToFit:TE,reset:CE};const W1=br,xf=Math.floor(65535/2),LE=(e,t)=>{let{color:n}=e;const r=t.sides;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=[],o=Math.floor(r.length/xf)+1,a=(c,f)=>{i.push(c,f||c)},l=[];for(let c=0;c<o;c++){const f=c*xf,u=Math.min(f+xf,r.length),h=[];for(let m=f;m<u;m++){const v=r[m];if(v.color){if(i.length===0&&h.length>0){const b=h.length;for(let y=0;y<b;y++)i.push(n)}a(v.color,v.endColor)}else i.length&&a(n);h.push([v[0][0],v[0][1],0]),h.push([v[1][0],v[1][1],0])}const d=h.map(m=>[0,0,-1]),g=h.map((m,v)=>v),p=t.transforms?W1.clone(t.transforms):W1.create();l.push({type:"2d",positions:h,normals:d,indices:g,transforms:p,color:n,colors:i,isTransparent:s})}return l};var OE=LE;const ls=zo,Y1=br,RE=65535,ME=(e,t)=>{let{color:n,smoothLighting:r}=e;"color"in t&&(n=t.color);const s=t.polygons,i=t.transforms?Y1.clone(t.transforms):Y1.create(),o=[];let a=0;for(;a<s.length;){let l=0,c=a;for(let m=a;m<s.length&&(l+=s[m].vertices.length,!(l>RE));m++)c++;const f=[],u=[],h=[],d=[],g=n[3]<1;for(let m=a;m<c;m++){const v=s[m],b=v.vertices,y=DE(v),S=IE(v,n),w=[];for(let E=0;E<b.length;E++){const A=b[E];f.push(A),u.push(y),d.push(S);const O=f.length-1;w.push(O)}for(let E=2;E<w.length;E++)h.push([w[0],w[E-1],w[E]])}const p={type:"3d",positions:f,normals:u,indices:h,colors:d,transforms:i,isTransparent:g};o.push(p),a=c}return o},IE=(e,t)=>{let n=t;return e.color&&(n=e.color),n&&n.length<4&&n.push(1),n},DE=e=>{if(e.plane)return ls.clone(e.plane);const t=e.vertices,n=ls.create();ls.subtract(n,t[1],t[0]);const r=ls.create();ls.subtract(r,t[2],t[0]);const s=ls.create();return ls.cross(s,n,r),ls.normalize(s,s),s};var FE=ME;const Z1=br,kf=Math.floor(65535/2)-2,xE=(e,t)=>{let{color:n}=e;const r=t.points;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=Math.floor(r.length/kf)+1,o=[];for(let a=0;a<i;a++){const l=a*kf,c=Math.min(l+kf,r.length),f=[];let u;for(let p=l;p<c;p++){const m=r[p];u&&(f.push([u[0],u[1],0]),f.push([m[0],m[1],0])),u=m}if(a+1===i&&t.isClosed&&u){const p=r[0];f.push([u[0],u[1],0]),f.push([p[0],p[1],0])}const h=f.map(p=>[0,0,-1]),d=f.map((p,m)=>m),g=t.transforms?Z1.clone(t.transforms):Z1.create();o.push({type:"2d",positions:f,normals:h,indices:d,transforms:g,color:n,isTransparent:s})}return o};var kE=xE;const{flatten:GE,toArray:BE}=Zu,{meshColor:NE}=Pl,$E=OE,VE=FE,UE=kE,HE=e=>e.map(n=>{const r={drawCmd:n.type==="2d"?"drawLines":"drawMesh",show:!0,transparent:n.isTransparent,useVertexColors:!0};return{geometry:n,visuals:r}}),zE=(e,...t)=>{const n={color:NE,smoothNormals:!0},{color:r,smoothNormals:s}=Object.assign({},n,e);t=GE(BE(t)),t=t.filter(o=>o&&o instanceof Object);const i=[];return t.forEach(o=>{let a=[];"sides"in o?a=$E({color:r},o):"points"in o?a=UE({color:r},o):"polygons"in o&&(a=VE({smoothLighting:s,normalThreshold:.3,color:r},o)),i.push(...HE(a))}),i};var jE=zE,cs={prepareRender:cA,drawCommands:{drawGrid:uA,drawAxis:hA,drawMesh:gA,drawLines:SA},cameras:{camera:ZS,orthographic:bl,perspective:Gu},controls:{orbit:PE},entitiesFromSolids:jE};function qE(e){let t;return{c(){t=Tt("div"),Dt(t,"class","svelte-1lbbz30")},m(n,r){Le(n,t,r),e[4](t)},p:an,i:an,o:an,d(n){n&&Pe(t),e[4](null)}}}function XE(e,t,n){let r,s,{model:i}=t,o;const a=cs.cameras.perspective,l=cs.controls.orbit,c={controls:l.defaults,camera:{...a.defaults,position:[0,0,400]}};ir(()=>{s.glOptions.container=o;const u=new ResizeObserver(()=>{a.setProjection(c.camera,c.camera,{width:o.clientWidth,height:o.clientHeight}),d=!0});u.observe(o);const h=cs.prepareRender(s);let d=!0;const g=()=>{if(S[0]||S[1]){const W=l.rotate({controls:c.controls,camera:c.camera,speed:v},S);n(2,c.controls={...c.controls,...W.controls},c),d=!0,S=[0,0]}if(w[0]||w[1]){const W=l.pan({controls:c.controls,camera:c.camera,speed:b},w);n(2,c.controls={...c.controls,...W.controls},c),w=[0,0],n(2,c.camera.position=W.camera.position,c),n(2,c.camera.target=W.camera.target,c),d=!0}if(E){const W=l.zoom({controls:c.controls,camera:c.camera,speed:y},E);n(2,c.controls={...c.controls,...W.controls},c),E=0,d=!0}};let p=0,m=0;const v=.002,b=1,y=.08;let S=[0,0],w=[0,0],E=0,A=!1;const O=W=>{if(!A)return;const Be=p-W.pageX,ne=W.pageY-m;W.shiftKey===!0||W.touches&&W.touches.length>2||W.buttons==2?(w[0]+=Be,w[1]+=ne):(S[0]-=Be,S[1]-=ne),p=W.pageX,m=W.pageY,W.preventDefault()},U=W=>{A=!0,p=W.pageX,m=W.pageY,o.setPointerCapture(W.pointerId)},N=W=>{A=!1,o.releasePointerCapture(W.pointerId)},x=W=>{E+=W.deltaY,W.preventDefault()};n(0,o.onpointermove=O,o),n(0,o.onpointerdown=U,o),n(0,o.onpointerup=N,o),n(0,o.onwheel=x,o),n(0,o.oncontextmenu=W=>{W.preventDefault()},o);let le;const $=()=>{if(g(),d){const W=l.update({controls:c.controls,camera:c.camera});n(2,c.controls={...c.controls,...W.controls},c),d=c.controls.changed,n(2,c.camera.position=W.camera.position,c),a.update(c.camera),h(s)}le=window.requestAnimationFrame($)};return le=window.requestAnimationFrame($),()=>{typeof le=="number"&&window.cancelAnimationFrame(le),u.disconnect()}});function f(u){lt[u?"unshift":"push"](()=>{o=u,n(0,o)})}return e.$$set=u=>{"model"in u&&n(1,i=u.model)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=cs.entitiesFromSolids({},i)),e.$$.dirty&13&&(s={glOptions:{container:o},camera:c.camera,drawCommands:{drawAxis:cs.drawCommands.drawAxis,drawGrid:cs.drawCommands.drawGrid,drawLines:cs.drawCommands.drawLines,drawMesh:cs.drawCommands.drawMesh},entities:r})},[o,i,c,r,f]}class WE extends en{constructor(t){super(),Jt(this,t,XE,qE,Ut,{model:1})}}const Qg=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Qg(n)):t.concat(n),[]);var mt=Qg;const YE=e=>Object.assign({},e);var ZE=YE;const KE=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e);var QE=KE;const JE=()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var Qu=JE;const ew=Qu,tw=e=>{const t=ew();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var nw=tw;const rw=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e);var Jg=rw;const sw=(e,t)=>{const n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],g=t[12],p=t[13],m=t[14],v=t[15],b=n*a-r*o,y=n*l-s*o,S=n*c-i*o,w=r*l-s*a,E=r*c-i*a,A=s*c-i*l,O=f*p-u*g,U=f*m-h*g,N=f*v-d*g,x=u*m-h*p,le=u*v-d*p,$=h*v-d*m;let W=b*$-y*le+S*x+w*N-E*U+A*O;return W?(W=1/W,e[0]=(a*$-l*le+c*x)*W,e[1]=(s*le-r*$-i*x)*W,e[2]=(p*A-m*E+v*w)*W,e[3]=(h*E-u*A-d*w)*W,e[4]=(l*N-o*$-c*U)*W,e[5]=(n*$-s*N+i*U)*W,e[6]=(m*S-g*A-v*y)*W,e[7]=(f*A-h*S+d*y)*W,e[8]=(o*le-a*N+c*O)*W,e[9]=(r*N-n*le-i*O)*W,e[10]=(g*E-p*S+v*b)*W,e[11]=(u*S-f*E-d*b)*W,e[12]=(a*U-o*x-l*O)*W,e[13]=(n*x-r*U+s*O)*W,e[14]=(p*y-g*w-m*b)*W,e[15]=(f*w-u*y+h*b)*W,e):null};var iw=sw;const ow=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15];var aw=ow;const lw=1e5,cw=1e-5,fw=1e-13,uw=Math.PI*2;var Ft={EPS:cw,NEPS:fw,TAU:uw,spatialResolution:lw};const{NEPS:dw}=Ft,ev=e=>Math.abs(e)<dw?0:e,hw=e=>ev(Math.sin(e)),mw=e=>ev(Math.cos(e));var Hn={sin:hw,cos:mw};const pw=e=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var tv=pw;const{EPS:gw}=Ft,{sin:vw,cos:bw}=Hn,_w=tv,yw=(e,t,n)=>{let[r,s,i]=n;const o=r*r+s*s+i*i;if(Math.abs(o)<gw)return _w(e);const a=1/Math.sqrt(o);r*=a,s*=a,i*=a;const l=vw(t),c=bw(t),f=1-c;return e[0]=r*r*f+c,e[1]=s*r*f+i*l,e[2]=i*r*f-s*l,e[3]=0,e[4]=r*s*f-i*l,e[5]=s*s*f+c,e[6]=i*s*f+r*l,e[7]=0,e[8]=r*i*f+s*l,e[9]=s*i*f-r*l,e[10]=i*i*f+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var nv=yw;const Aw=(e,t)=>(e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var Sw=Aw;const{sin:Gf,cos:Bf}=Hn,Ew=(e,t,n,r)=>{const s=Gf(t),i=Bf(t),o=Gf(n),a=Bf(n),l=Gf(r),c=Bf(r);return e[0]=a*i,e[1]=a*s,e[2]=-o,e[3]=0,e[4]=l*o*i-c*s,e[5]=c*i+l*o*s,e[6]=l*a,e[7]=0,e[8]=l*s+c*o*i,e[9]=c*o*s-l*i,e[10]=c*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var ww=Ew;const Tw=(e,t)=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e);var Cw=Tw;const Pw=Qu,Lw=(e,t,n,r,s,i,o,a,l,c,f,u,h,d,g,p)=>{const m=Pw();return m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=s,m[5]=i,m[6]=o,m[7]=a,m[8]=l,m[9]=c,m[10]=f,m[11]=u,m[12]=h,m[13]=d,m[14]=g,m[15]=p,m};var Ow=Lw;const Rw=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e);var rv=Rw;const Mw=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e);var sv=Mw;const Iw=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2];var Ll=Iw;const Dw=Ll,Fw=(e,t)=>{const n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2],l=Math.sqrt(n*n+r*r+s*s),c=Math.sqrt(i*i+o*o+a*a),f=l*c,u=f&&Dw(e,t)/f;return Math.acos(Math.min(Math.max(u,-1),1))};var xw=Fw;const kw=()=>[0,0,0];var Ol=kw;const Gw=Ol,Bw=e=>{const t=Gw();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var Nw=Bw;const $w=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var iv=$w;const Vw=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e};var jo=Vw;const Uw=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)};var ov=Uw;const Hw=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e);var zw=Hw;const jw=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var qw=jw;const Xw=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e);var Ww=Xw;const Yw=Ol,Zw=(e,t,n)=>{const r=Yw();return r[0]=e,r[1]=t,r[2]=n,r};var Kw=Zw;const Qw=(e,t,n=0)=>(e[0]=t[0],e[1]=t[1],e[2]=n,e);var Jw=Qw;const e4=e=>{const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)};var av=e4;const t4=(e,t,n,r)=>(e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e[2]=t[2]+r*(n[2]-t[2]),e);var n4=t4;const r4=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e);var lv=r4;const s4=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e);var cv=s4;const i4=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e);var o4=i4;const a4=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e);var l4=a4;const c4=(e,t)=>{const n=t[0],r=t[1],s=t[2];let i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i)),e[0]=n*i,e[1]=r*i,e[2]=s*i,e};var Ju=c4;const f4=rv,u4=Ol,d4=jo,h4=(e,t)=>{const n=f4(u4(),t),r=0+(n[0]<n[1]&&n[0]<n[2]),s=0+(n[1]<=n[0]&&n[1]<n[2]),i=0+(n[2]<=n[0]&&n[2]<=n[1]);return d4(e,t,[r,s,i])};var m4=h4;const p4=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[0],i[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),i[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var g4=p4;const v4=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),i[1]=s[1],i[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var b4=v4;const _4=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],i[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),i[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=t[2],e};var y4=_4;const A4=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e);var fv=A4;const S4=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e[2]=Math.round(t[2]/n)*n+0,e);var E4=S4;const w4=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s};var uv=w4;const T4=e=>{const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};var dv=T4;const C4=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e);var Rl=C4;const P4=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)}]`;var L4=P4;const O4=(e,t,n)=>{const r=t[0],s=t[1],i=t[2];let o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e};var R4=O4,it={abs:rv,add:sv,angle:xw,clone:Nw,copy:iv,create:Ol,cross:jo,distance:ov,divide:zw,dot:Ll,equals:qw,fromScalar:Ww,fromValues:Kw,fromVec2:Jw,length:av,lerp:n4,max:lv,min:cv,multiply:o4,negate:l4,normalize:Ju,orthogonal:m4,rotateX:g4,rotateY:b4,rotateZ:y4,scale:fv,snap:E4,squaredDistance:uv,squaredLength:dv,subtract:Rl,toString:L4,transform:R4};const fs=it,M4=nv,I4=(e,t,n)=>{const r=fs.normalize(fs.create(),t),s=fs.normalize(fs.create(),n),i=fs.cross(fs.create(),s,r),o=fs.dot(s,r);if(o===-1)return M4(e,Math.PI,fs.orthogonal(i,r));const a=1/(1+o);return e[0]=i[0]*i[0]*a+o,e[1]=i[1]*i[0]*a-i[2],e[2]=i[2]*i[0]*a+i[1],e[3]=0,e[4]=i[0]*i[1]*a+i[2],e[5]=i[1]*i[1]*a+o,e[6]=i[2]*i[1]*a-i[0],e[7]=0,e[8]=i[0]*i[2]*a-i[1],e[9]=i[1]*i[2]*a+i[0],e[10]=i[2]*i[2]*a+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var D4=I4;const{sin:F4,cos:x4}=Hn,k4=(e,t)=>{const n=F4(t),r=x4(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var G4=k4;const{sin:B4,cos:N4}=Hn,$4=(e,t)=>{const n=B4(t),r=N4(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var V4=$4;const{sin:U4,cos:H4}=Hn,z4=(e,t)=>{const n=U4(t),r=H4(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var j4=z4;const q4=e=>e[0]===1&&e[1]===0&&e[2]===0&&e[3]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[7]===0&&e[8]===0&&e[9]===0&&e[10]===1&&e[11]===0&&e[12]===0&&e[13]===0&&e[14]===0&&e[15]===1;var X4=q4;const W4=e=>$r(e[1])&&$r(e[2])&&$r(e[3])&&$r(e[4])&&$r(e[6])&&$r(e[7])&&$r(e[8])&&$r(e[9])&&$r(e[11])&&e[15]===1,$r=e=>Math.abs(e)<Number.EPSILON;var Y4=W4;const Z4=e=>{const t=e[4]*e[9]-e[8]*e[5],n=e[8]*e[1]-e[0]*e[9],r=e[0]*e[5]-e[4]*e[1];return t*e[2]+n*e[6]+r*e[10]<0};var K4=Z4;const Q4=(e,t)=>{const[n,r,s,i]=t;return e[0]=1-2*n*n,e[1]=-2*r*n,e[2]=-2*s*n,e[3]=0,e[4]=-2*n*r,e[5]=1-2*r*r,e[6]=-2*s*r,e[7]=0,e[8]=-2*n*s,e[9]=-2*r*s,e[10]=1-2*s*s,e[11]=0,e[12]=2*n*i,e[13]=2*r*i,e[14]=2*s*i,e[15]=1,e};var J4=Q4;const eT=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],h=t[9],d=t[10],g=t[11],p=t[12],m=t[13],v=t[14],b=t[15];let y=n[0],S=n[1],w=n[2],E=n[3];return e[0]=y*r+S*a+w*u+E*p,e[1]=y*s+S*l+w*h+E*m,e[2]=y*i+S*c+w*d+E*v,e[3]=y*o+S*f+w*g+E*b,y=n[4],S=n[5],w=n[6],E=n[7],e[4]=y*r+S*a+w*u+E*p,e[5]=y*s+S*l+w*h+E*m,e[6]=y*i+S*c+w*d+E*v,e[7]=y*o+S*f+w*g+E*b,y=n[8],S=n[9],w=n[10],E=n[11],e[8]=y*r+S*a+w*u+E*p,e[9]=y*s+S*l+w*h+E*m,e[10]=y*i+S*c+w*d+E*v,e[11]=y*o+S*f+w*g+E*b,y=n[12],S=n[13],w=n[14],E=n[15],e[12]=y*r+S*a+w*u+E*p,e[13]=y*s+S*l+w*h+E*m,e[14]=y*i+S*c+w*d+E*v,e[15]=y*o+S*f+w*g+E*b,e};var tT=eT;const{EPS:nT}=Ft,{sin:rT,cos:sT}=Hn,iT=Jg,oT=(e,t,n,r)=>{let[s,i,o]=r;const a=s*s+i*i+o*o;if(Math.abs(a)<nT)return iT(e,t);const l=1/Math.sqrt(a);s*=l,i*=l,o*=l;const c=rT(n),f=sT(n),u=1-f,h=t[0],d=t[1],g=t[2],p=t[3],m=t[4],v=t[5],b=t[6],y=t[7],S=t[8],w=t[9],E=t[10],A=t[11],O=s*s*u+f,U=i*s*u+o*c,N=o*s*u-i*c,x=s*i*u-o*c,le=i*i*u+f,$=o*i*u+s*c,W=s*o*u+i*c,Be=i*o*u-s*c,ne=o*o*u+f;return e[0]=h*O+m*U+S*N,e[1]=d*O+v*U+w*N,e[2]=g*O+b*U+E*N,e[3]=p*O+y*U+A*N,e[4]=h*x+m*le+S*$,e[5]=d*x+v*le+w*$,e[6]=g*x+b*le+E*$,e[7]=p*x+y*le+A*$,e[8]=h*W+m*Be+S*ne,e[9]=d*W+v*Be+w*ne,e[10]=g*W+b*Be+E*ne,e[11]=p*W+y*Be+A*ne,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e};var aT=oT;const{sin:lT,cos:cT}=Hn,fT=(e,t,n)=>{const r=lT(n),s=cT(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+h*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=h*s-l*r,e};var uT=fT;const{sin:dT,cos:hT}=Hn,mT=(e,t,n)=>{const r=dT(n),s=hT(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-h*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+h*s,e};var pT=mT;const{sin:gT,cos:vT}=Hn,bT=(e,t,n)=>{const r=gT(n),s=vT(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+h*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=h*s-l*r,e};var _T=bT;const yT=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};var AT=yT;const ST=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e);var ET=ST;const wT=e=>e.map(t=>t.toFixed(7)).toString();var TT=wT;const CT=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];let o,a,l,c,f,u,h,d,g,p,m,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],h=t[6],d=t[7],g=t[8],p=t[9],m=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=h,e[7]=d,e[8]=g,e[9]=p,e[10]=m,e[11]=v,e[12]=o*r+f*s+g*i+t[12],e[13]=a*r+u*s+p*i+t[13],e[14]=l*r+h*s+m*i+t[14],e[15]=c*r+d*s+v*i+t[15]),e};var PT=CT,qt={add:QE,clone:nw,copy:Jg,create:Qu,invert:iw,equals:aw,fromRotation:nv,fromScaling:Sw,fromTaitBryanRotation:ww,fromTranslation:Cw,fromValues:Ow,fromVectorRotation:D4,fromXRotation:G4,fromYRotation:V4,fromZRotation:j4,identity:tv,isIdentity:X4,isOnlyTransformScale:Y4,isMirroring:K4,mirrorByPlane:J4,multiply:tT,rotate:aT,rotateX:uT,rotateY:pT,rotateZ:_T,scale:AT,subtract:ET,toString:TT,translate:PT};const LT=qt,OT=e=>(e===void 0&&(e=[]),{sides:e,transforms:LT.create()});var Ml=OT;const RT=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e);var MT=RT;const IT=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e);var DT=IT;const FT=e=>Math.atan2(e[1],e[0]);var ed=FT,xT=ed;const kT=ed,GT=e=>kT(e)*57.29577951308232;var BT=GT;const NT=()=>[0,0];var Il=NT;const $T=Il,VT=e=>{const t=$T();return t[0]=e[0],t[1]=e[1],t};var UT=VT;const HT=(e,t)=>(e[0]=t[0],e[1]=t[1],e);var zT=HT;const jT=(e,t,n)=>(e[0]=0,e[1]=0,e[2]=t[0]*n[1]-t[1]*n[0],e);var qT=jT;const XT=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)};var WT=XT;const YT=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e);var ZT=YT;const KT=(e,t)=>e[0]*t[0]+e[1]*t[1];var QT=KT;const JT=(e,t)=>e[0]===t[0]&&e[1]===t[1];var eC=JT;const{sin:tC,cos:nC}=Hn,rC=(e,t)=>(e[0]=nC(t),e[1]=tC(t),e);var hv=rC;const sC=hv,iC=(e,t)=>sC(e,t*.017453292519943295);var oC=iC;const aC=(e,t)=>(e[0]=t,e[1]=t,e);var lC=aC;const cC=Il,fC=(e,t)=>{const n=cC();return n[0]=e,n[1]=t,n};var uC=fC;const dC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]);var hC=dC;const mC=(e,t,n,r)=>{const s=t[0],i=t[1];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e};var pC=mC;const gC=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e);var vC=gC;const bC=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e);var _C=bC;const yC=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e);var AC=yC;const SC=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e);var EC=SC;const wC=(e,t,n,r)=>{const s=t[0]-n[0],i=t[1]-n[1],o=Math.cos(r),a=Math.sin(r);return e[0]=s*o-i*a+n[0],e[1]=s*a+i*o+n[1],e};var mv=wC;const{TAU:TC}=Ft,CC=Il,PC=mv,LC=(e,t)=>PC(e,t,CC(),TC/4);var OC=LC;const RC=(e,t)=>{const n=t[0],r=t[1];let s=n*n+r*r;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e};var MC=RC;const IC=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e);var DC=IC;const FC=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e);var xC=FC;const kC=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r};var GC=kC;const BC=e=>{const t=e[0],n=e[1];return t*t+n*n};var NC=BC;const $C=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e);var VC=$C;const UC=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}]`;var HC=UC;const zC=(e,t,n)=>{const r=t[0],s=t[1];return e[0]=n[0]*r+n[4]*s+n[12],e[1]=n[1]*r+n[5]*s+n[13],e};var jC=zC,Et={abs:MT,add:DT,angle:xT,angleDegrees:BT,angleRadians:ed,clone:UT,copy:zT,create:Il,cross:qT,distance:WT,divide:ZT,dot:QT,equals:eC,fromAngleDegrees:oC,fromAngleRadians:hv,fromScalar:lC,fromValues:uC,length:hC,lerp:pC,max:vC,min:_C,multiply:AC,negate:EC,normal:OC,normalize:MC,rotate:mv,scale:DC,snap:xC,squaredDistance:GC,squaredLength:NC,subtract:VC,toString:HC,transform:jC};const Nf=Et,qC=Ml,XC=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");let t=e.length;if(t<3)throw new Error("the given points must define a closed geometry with three or more points");Nf.equals(e[0],e[t-1])&&--t;const n=[];let r=e[t-1];for(let s=0;s<t;s++){const i=e[s];n.push([Nf.clone(r),Nf.clone(i)]),r=i}return qC(n)};var WC=XC;const YC=qt,K1=Et,ZC=Ml,KC=e=>{if(e[0]!==0)throw new Error("invalid compact binary data");const t=ZC();t.transforms=YC.clone(e.slice(1,17));for(let n=21;n<e.length;n+=4){const r=K1.fromValues(e[n+0],e[n+1]),s=K1.fromValues(e[n+2],e[n+3]);t.sides.push([r,s])}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var QC=KC;const JC=e=>!!(e&&typeof e=="object"&&"sides"in e&&"transforms"in e&&Array.isArray(e.sides)&&"length"in e.transforms);var pv=JC;const Q1=qt,ja=Et,eP=e=>(Q1.isIdentity(e.transforms)||(e.sides=e.sides.map(t=>{const n=ja.transform(ja.create(),t[0],e.transforms),r=ja.transform(ja.create(),t[1],e.transforms);return[n,r]}),e.transforms=Q1.create()),e);var tP=eP;const nP=tP,rP=e=>nP(e).sides;var qo=rP;const sP=Ml,iP=qo,oP=e=>{const n=iP(e).map(r=>[r[1],r[0]]);return n.reverse(),sP(n)};var aP=oP;const vo=Et,lP=qo,cP=e=>{const t=new Map,n=r=>{const s=r.toString();return t.has(s)?t.get(s):(t.set(s,r),r)};return e.map(r=>r.map(n))},fP=e=>{const t=new Map;return cP(e).forEach(r=>{t.has(r[0])?t.get(r[0]).push(r):t.set(r[0],[r])}),t},uP=e=>{const t=fP(lP(e)),n=[];for(;;){let r;for(const[o,a]of t){if(r=a.shift(),!r){t.delete(o);continue}break}if(r===void 0)break;const s=[],i=r[0];for(;;){s.push(r[0]);const o=r[1];if(o===i)break;const a=t.get(o);if(!a)throw new Error(`geometry is not closed at vertex ${o}`);const l=dP(r,a);a.length===0&&t.delete(o),r=l}s.length>0&&s.push(s.shift()),n.push(s)}return t.clear(),n},dP=(e,t)=>{if(t.length===1)return t.pop();const n=vo.create(),r=vo.angleDegrees(vo.subtract(n,e[1],e[0]));let s,i;t.forEach((a,l)=>{let f=vo.angleDegrees(vo.subtract(n,a[1],a[0]))-r;f<-180&&(f+=360),f>=180&&(f-=360),(i===void 0||f>s)&&(i=l,s=f)});const o=t[i];return t.splice(i,1),o};var gv=uP;const hP=qo,mP=e=>{const n=hP(e).map(r=>r[0]);return n.length>0&&n.push(n.shift()),n};var pP=mP;const J1=Et,gP=qo,vP=e=>{const t=gP(e);let n="geom2 ("+t.length+` sides):
[
`;return t.forEach(r=>{n+="  ["+J1.toString(r[0])+", "+J1.toString(r[1])+`]
`}),n+=`]
`,n};var bP=vP;const _P=e=>{const t=e.sides,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+4+t.length*4);s[0]=0,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=r[0],s[18]=r[1],s[19]=r[2],s[20]=r[3];for(let i=0;i<t.length;i++){const o=i*4+21,a=t[i][0],l=t[i][1];s[o+0]=a[0],s[o+1]=a[1],s[o+2]=l[0],s[o+3]=l[1]}return s};var yP=_P;const eh=qt,AP=(e,t)=>{const n=eh.multiply(eh.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var SP=AP;const EP=Et,wP=pv,TP=gv,CP=e=>{if(!wP(e))throw new Error("invalid geom2 structure");if(TP(e),e.sides.forEach(t=>{if(EP.equals(t[0],t[1]))throw new Error(`geom2 self-edge ${t[0]}`)}),!e.transforms.every(Number.isFinite))throw new Error(`geom2 invalid transforms ${e.transforms}`)};var PP=CP,gt={clone:ZE,create:Ml,fromPoints:WC,fromCompactBinary:QC,isA:pv,reverse:aP,toOutlines:gv,toPoints:pP,toSides:qo,toString:bP,toCompactBinary:yP,transform:SP,validate:PP};const LP=e=>Object.assign({},e);var OP=LP;const RP=qt,MP=e=>(e===void 0&&(e=[]),{polygons:e,transforms:RP.create()});var Dl=MP;const IP=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var zi=IP;const DP=zi,FP=it,xP=(...e)=>{let t,n;return e.length===1?(t=DP(),n=e[0]):(t=e[0],n=e[1]),t.vertices=n.vertices.map(r=>FP.clone(r)),t};var kP=xP;const GP=it,BP=zi,NP=e=>{const t=e.map(n=>GP.clone(n));return BP(t)};var $P=NP;const VP=zi,UP=(e,t)=>{const n=VP(e);return n.plane=t,n};var HP=UP;const zP=()=>[0,0,0,0];var Fl=zP;const jP=Fl,qP=e=>{const t=jP();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};var vv=qP;const XP=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e);var bv=XP;const WP=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3];var _v=WP;const YP=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e);var yv=YP;const $f=it,ZP=(e,t,n)=>{const r=$f.normalize($f.create(),t),s=$f.dot(n,r);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=s,e};var KP=ZP;const QP=Fl,JP=(e,t,n,r)=>{const s=QP();return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s};var Av=JP;const Lr=it,eL=(e,...t)=>{const n=t.length,r=Lr.create(),s=Lr.create(),i=o=>{const a=t[o],l=t[(o+1)%n],c=t[(o+2)%n];return Lr.subtract(r,l,a),Lr.subtract(s,c,a),Lr.cross(r,r,s),Lr.normalize(r,r),r};return e[0]=0,e[1]=0,e[2]=0,n===3?Lr.copy(e,i(0)):(t.forEach((o,a)=>{Lr.add(e,e,i(a))}),Lr.normalize(e,e)),e[3]=Lr.dot(e,t[0]),e};var Sv=eL;const{EPS:Vf}=Ft,Wn=it,tL=(e,t,n,r)=>{let s=Wn.subtract(Wn.create(),n,t),i=Wn.subtract(Wn.create(),r,t);Wn.length(s)<Vf&&(s=Wn.orthogonal(s,i)),Wn.length(i)<Vf&&(i=Wn.orthogonal(i,s));let o=Wn.cross(Wn.create(),s,i);Wn.length(o)<Vf&&(i=Wn.orthogonal(i,s),o=Wn.cross(o,s,i)),o=Wn.normalize(o,o);const a=Wn.dot(o,t);return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=a,e};var nL=tL;const rL=it,sL=(e,t)=>{const n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]-e[3],r=t[0]-n*e[0],s=t[1]-n*e[1],i=t[2]-n*e[2];return rL.fromValues(r,s,i)};var iL=sL;const oL=it,aL=(e,t)=>oL.dot(e,t)-e[3];var Ev=aL;const lL=e=>`(${e[0].toFixed(9)}, ${e[1].toFixed(9)}, ${e[2].toFixed(9)}, ${e[3].toFixed(9)})`;var wv=lL;const cL=qt,Yn=it,fL=Sv,uL=yv,dL=(e,t,n)=>{const r=cL.isMirroring(n),s=Yn.orthogonal(Yn.create(),t),i=Yn.cross(s,t,s),o=Yn.cross(Yn.create(),t,i);let a=Yn.fromScalar(Yn.create(),t[3]);Yn.multiply(a,a,t);let l=Yn.add(Yn.create(),a,i),c=Yn.add(Yn.create(),a,o);return a=Yn.transform(a,a,n),l=Yn.transform(l,l,n),c=Yn.transform(c,c,n),fL(e,a,l,c),r&&uL(e,e),e};var hL=dL,xr={clone:vv,copy:bv,create:Fl,equals:_v,flip:yv,fromNormalAndPoint:KP,fromValues:Av,fromPoints:Sv,fromPointsRandom:nL,projectionOfPoint:iL,signedDistanceToPoint:Ev,toString:wv,transform:hL};const th=xr,mL=zi,pL=e=>{const t=e.vertices.slice().reverse(),n=mL(t);return e.plane&&(n.plane=th.flip(th.create(),e.plane)),n};var gL=pL;const vL=e=>!!(e&&typeof e=="object"&&"vertices"in e&&Array.isArray(e.vertices));var Tv=vL;const nh=xr,Gs=it,bL=e=>_L(e.vertices),_L=e=>{const t=e.length;if(t>2){const n=nh.fromPoints(nh.create(),...e);let r=e[t-2],s=e[t-1];for(let i=0;i<t;i++){const o=e[i];if(!yL(r,s,o,n))return!1;r=s,s=o}}return!0},yL=(e,t,n,r)=>{const s=Gs.cross(Gs.create(),Gs.subtract(Gs.create(),t,e),Gs.subtract(Gs.create(),n,t));return Gs.dot(s,r)>=0};var Cv=bL;const rh=xr,AL=e=>(e.plane||(e.plane=rh.fromPoints(rh.create(),...e.vertices)),e.plane);var td=AL;const SL=td,EL=e=>{const t=e.vertices.length;if(t<3)return 0;const n=e.vertices,r=SL(e),s=Math.abs(r[0]),i=Math.abs(r[1]),o=Math.abs(r[2]);if(s+i+o===0)return 0;let a=3;s>i&&s>o?a=1:i>o&&(a=2);let l=0,c=0,f=1,u=2;switch(a){case 1:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][1]*(n[u][2]-n[c][2]);l+=n[0][1]*(n[1][2]-n[t-1][2]),l/=2*r[0];break;case 2:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][2]*(n[u][0]-n[c][0]);l+=n[0][2]*(n[1][0]-n[t-1][0]),l/=2*r[1];break;case 3:default:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][0]*(n[u][1]-n[c][1]);l+=n[0][0]*(n[1][1]-n[t-1][1]),l/=2*r[2];break}return l};var Pv=EL;const bo=it,wL=e=>{const t=e.vertices,n=t.length,r=n===0?bo.create():bo.clone(t[0]),s=bo.clone(r);for(let i=1;i<n;i++)bo.min(r,r,t[i]),bo.max(s,s,t[i]);return[r,s]};var TL=wL;const CL=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];var PL=CL;const LL=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e[3]=t,e);var OL=LL;const RL=(e,t,n)=>{const[r,s,i,o]=t;return e[0]=n[0]*r+n[4]*s+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*s+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*s+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*s+n[11]*i+n[15]*o,e};var ML=RL,Lv={clone:vv,copy:bv,create:Fl,dot:PL,equals:_v,fromScalar:OL,fromValues:Av,toString:wv,transform:ML};const IL=Lv,sh=new WeakMap,DL=e=>{let t=sh.get(e);if(t)return t;const n=e.vertices,r=IL.create();if(n.length===0)return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r;let s=n[0],i=s,o=s,a=s,l=s,c=s;n.forEach(d=>{s[0]>d[0]&&(s=d),i[1]>d[1]&&(i=d),o[2]>d[2]&&(o=d),a[0]<d[0]&&(a=d),l[1]<d[1]&&(l=d),c[2]<d[2]&&(c=d)}),r[0]=(s[0]+a[0])*.5,r[1]=(i[1]+l[1])*.5,r[2]=(o[2]+c[2])*.5;const f=r[0]-a[0],u=r[1]-l[1],h=r[2]-c[2];return r[3]=Math.sqrt(f*f+u*u+h*h),sh.set(e,r),r};var FL=DL;const Uf=it,xL=e=>{let t=0;const n=e.vertices,r=Uf.create();for(let s=0;s<n.length-2;s++)Uf.cross(r,n[s+1],n[s+2]),t+=Uf.dot(n[0],r);return t/=6,t};var kL=xL;const GL=e=>e.vertices;var BL=GL;const NL=it,$L=e=>{let t="poly3: vertices: [";return e.vertices.forEach(n=>{t+=`${NL.toString(n)}, `}),t+="]",t};var VL=$L;const UL=qt,ih=it,HL=zi,zL=(e,t)=>{const n=t.vertices.map(r=>ih.transform(ih.create(),r,e));return UL.isMirroring(e)&&n.reverse(),HL(n)};var jL=zL;const qL=Ev,{NEPS:XL}=Ft,WL=it,YL=Tv,ZL=Cv,KL=Pv,QL=td,JL=e=>{if(!YL(e))throw new Error("invalid poly3 structure");if(e.vertices.length<3)throw new Error(`poly3 not enough vertices ${e.vertices.length}`);if(KL(e)<=0)throw new Error("poly3 area must be greater than zero");for(let t=0;t<e.vertices.length;t++)if(WL.equals(e.vertices[t],e.vertices[(t+1)%e.vertices.length]))throw new Error(`poly3 duplicate vertex ${e.vertices[t]}`);if(!ZL(e))throw new Error("poly3 must be convex");if(e.vertices.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`poly3 invalid vertex ${t}`)}),e.vertices.length>3){const t=QL(e);e.vertices.forEach(n=>{const r=Math.abs(qL(t,n));if(r>XL)throw new Error(`poly3 must be coplanar: vertex ${n} distance ${r}`)})}};var eO=JL,Mt={clone:kP,create:zi,fromPoints:$P,fromPointsAndPlane:HP,invert:gL,isA:Tv,isConvex:Cv,measureArea:Pv,measureBoundingBox:TL,measureBoundingSphere:FL,measureSignedVolume:kL,plane:td,toPoints:BL,toString:VL,transform:jL,validate:eO};const tO=Mt,nO=Dl,rO=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const t=e.map((r,s)=>tO.create(r));return nO(t)};var sO=rO;const iO=it,oO=qt,aO=Mt,lO=Dl,cO=e=>{if(e[0]!==1)throw new Error("invalid compact binary data");const t=lO();t.transforms=oO.clone(e.slice(1,17));const n=e[21];let r=22,s=e.length-n*3;for(;s<e.length;){const i=e[r];r++;const o=[];for(let a=0;a<i;a++)o.push(iO.fromValues(e[s],e[s+1],e[s+2])),s+=3;t.polygons.push(aO.create(o))}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var fO=cO;const oh=qt,uO=Mt,dO=e=>(oh.isIdentity(e.transforms)||(e.polygons=e.polygons.map(t=>uO.transform(e.transforms,t)),e.transforms=oh.create()),e);var hO=dO;const mO=hO,pO=e=>mO(e).polygons;var xl=pO;const gO=Mt,vO=Dl,bO=xl,_O=e=>{const n=bO(e).map(r=>gO.invert(r));return vO(n)};var yO=_O;const AO=e=>!!(e&&typeof e=="object"&&"polygons"in e&&"transforms"in e&&Array.isArray(e.polygons)&&"length"in e.transforms);var Ov=AO;const SO=Mt,EO=xl,wO=e=>EO(e).map(r=>SO.toPoints(r));var TO=wO;const CO=Mt,PO=xl,LO=e=>{const t=PO(e);let n="geom3 ("+t.length+` polygons):
`;return t.forEach(r=>{n+="  "+CO.toString(r)+`
`}),n};var OO=LO;const RO=Mt,MO=e=>{const t=e.polygons,n=e.transforms,r=t.length,s=t.reduce((c,f)=>c+f.vertices.length,0);let i=[-1,-1,-1,-1];e.color&&(i=e.color);const o=new Float32Array(1+16+4+1+r+s*3);o[0]=1,o[1]=n[0],o[2]=n[1],o[3]=n[2],o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=n[6],o[8]=n[7],o[9]=n[8],o[10]=n[9],o[11]=n[10],o[12]=n[11],o[13]=n[12],o[14]=n[13],o[15]=n[14],o[16]=n[15],o[17]=i[0],o[18]=i[1],o[19]=i[2],o[20]=i[3],o[21]=s;let a=22,l=a+r;return t.forEach(c=>{const f=RO.toPoints(c);o[a]=f.length,a++;for(let u=0;u<f.length;u++){const h=f[u];o[l+0]=h[0],o[l+1]=h[1],o[l+2]=h[2],l+=3}}),o};var IO=MO;const ah=qt,DO=(e,t)=>{const n=ah.multiply(ah.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var FO=DO;const xO=Mt,kO=Ov,GO=e=>{if(!kO(e))throw new Error("invalid geom3 structure");if(e.polygons.forEach(xO.validate),BO(e),!e.transforms.every(Number.isFinite))throw new Error(`geom3 invalid transforms ${e.transforms}`)},BO=e=>{const t=new Map;e.polygons.forEach(({vertices:r})=>{r.forEach((s,i)=>{const o=`${s}`,a=`${r[(i+1)%r.length]}`,l=`${o}/${a}`,c=t.has(l)?t.get(l):0;t.set(l,c+1)})});const n=[];if(t.forEach((r,s)=>{const i=s.split("/").reverse().join("/"),o=t.get(i);r!==o&&n.push(s.replace("/"," -> "))}),n.length>0)throw new Error(`non-manifold edges ${n.length}
${n.join(`
`)}`)};var NO=GO,_t={clone:OP,create:Dl,fromPoints:sO,fromCompactBinary:fO,invert:yO,isA:Ov,toPoints:TO,toPolygons:xl,toString:OO,toCompactBinary:IO,transform:FO,validate:NO};const $O=e=>Object.assign({},e);var nd=$O;const{EPS:lh}=Ft,VO=Et,UO=nd,HO=e=>{if(e.isClosed)return e;const t=UO(e);if(t.isClosed=!0,t.points.length>1){const n=t.points,r=n[0];let s=n[n.length-1];for(;VO.distance(r,s)<lh*lh&&(n.pop(),n.length!==1);)s=n[n.length-1]}return t};var Rv=HO;const zO=qt,jO=e=>(e===void 0&&(e=[]),{points:e,isClosed:!1,transforms:zO.create()});var kl=jO;const{EPS:ch}=Ft,fh=Et,qO=Rv,XO=kl,WO=(e,t)=>{const n={closed:!1};let{closed:r}=Object.assign({},n,e),s=XO();if(s.points=t.map(i=>fh.clone(i)),s.points.length>1){const i=s.points[0],o=s.points[s.points.length-1];fh.distance(i,o)<ch*ch&&(r=!0)}return r===!0&&(s=qO(s)),s};var rd=WO;const uh=qt,dh=Et,YO=e=>(uh.isIdentity(e.transforms)||(e.points=e.points.map(t=>dh.transform(dh.create(),t,e.transforms)),e.transforms=uh.create()),e);var ZO=YO;const KO=ZO,QO=e=>KO(e).points;var ji=QO;const{TAU:qa}=Ft,Cn=Et,JO=rd,eR=ji,tR=(e,t)=>{const n={radius:[0,0],xaxisrotation:0,clockwise:!1,large:!1,segments:16};let{endpoint:r,radius:s,xaxisrotation:i,clockwise:o,large:a,segments:l}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("endpoint must be an array of X and Y values");if(r.length<2)throw new Error("endpoint must contain X and Y values");if(r=Cn.clone(r),!Array.isArray(s))throw new Error("radius must be an array of X and Y values");if(s.length<2)throw new Error("radius must contain X and Y values");if(l<4)throw new Error("segments must be four or more");const c=1e5;if(t.isClosed)throw new Error("the given path cannot be closed");const f=eR(t);if(f.length<1)throw new Error("the given path must contain one or more points (as the starting point for the arc)");let u=s[0],h=s[1];const d=f[f.length-1];u=Math.round(u*c)/c,h=Math.round(h*c)/c,r=Cn.fromValues(Math.round(r[0]*c)/c,Math.round(r[1]*c)/c);const g=!o;let p=[];if(u===0||h===0)p.push(r);else{u=Math.abs(u),h=Math.abs(h);const v=i,b=Math.cos(v),y=Math.sin(v),S=Cn.subtract(Cn.create(),d,r);Cn.scale(S,S,.5);const w=Math.round((b*S[0]+y*S[1])*c)/c,E=Math.round((-y*S[0]+b*S[1])*c)/c,A=Cn.fromValues(w,E),O=A[0]*A[0]/(u*u)+A[1]*A[1]/(h*h);if(O>1){const he=Math.sqrt(O);u*=he,h*=he,u=Math.round(u*c)/c,h=Math.round(h*c)/c}let U=Math.sqrt((u*u*h*h-u*u*A[1]*A[1]-h*h*A[0]*A[0])/(u*u*A[1]*A[1]+h*h*A[0]*A[0]));g===a&&(U=-U);const N=Cn.fromValues(u*A[1]/h,-h*A[0]/u);Cn.scale(N,N,U);let x=Cn.fromValues(b*N[0]-y*N[1],y*N[0]+b*N[1]);x=Cn.add(x,x,Cn.scale(Cn.create(),Cn.add(Cn.create(),d,r),.5));const le=Cn.fromValues((A[0]-N[0])/u,(A[1]-N[1])/h),$=Cn.fromValues((-A[0]-N[0])/u,(-A[1]-N[1])/h),W=Cn.angleRadians(le);let ne=Cn.angleRadians($)-W;ne=ne%qa,!g&&ne>0?ne-=qa:g&&ne<0&&(ne+=qa);let H=Math.ceil(Math.abs(ne)/qa*l)+1;H<1&&(H=1);for(let he=1;he<H;he++){const te=W+he/H*ne,oe=Math.cos(te),ct=Math.sin(te),ke=Cn.fromValues(b*u*oe-y*h*ct,y*u*oe+b*h*ct);Cn.add(ke,ke,x),p.push(ke)}H&&p.push(e.endpoint)}return p=f.concat(p),JO({},p)};var nR=tR;const rR=rd,sR=ji,{equals:iR}=Et,oR=(...e)=>{let t=!1,n=[];return e.forEach((r,s)=>{const i=sR(r).slice();if(n.length>0&&i.length>0&&iR(i[0],n[n.length-1])&&i.shift(),i.length>0&&t)throw new Error(`Cannot concatenate to a closed path; check the ${s}th path`);t=r.isClosed,n=n.concat(i)}),rR({closed:t},n)};var Mv=oR;const aR=Mv,lR=kl,cR=(e,t)=>aR(t,lR(e));var Iv=cR;const{TAU:fR}=Ft,cr=Et,uR=Et,dR=Iv,hR=ji,mR=(e,t)=>{const n={segments:16};let{controlPoints:r,segments:s}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("controlPoints must be an array of one or more points");if(r.length<1)throw new Error("controlPoints must be an array of one or more points");if(s<4)throw new Error("segments must be four or more");if(t.isClosed)throw new Error("the given geometry cannot be closed");const i=hR(t);if(i.length<1)throw new Error("the given path must contain one or more points (as the starting point for the bezier curve)");if(r=r.slice(),r[0]===null){if(r.length<2)throw new Error("a null control point must be passed with one more control points");let E=i[i.length-2];if("lastBezierControlPoint"in t&&(E=t.lastBezierControlPoint),!Array.isArray(E))throw new Error("the given path must contain TWO or more points if given a null control point");const A=cr.scale(cr.create(),i[i.length-1],2);cr.subtract(A,A,E),r[0]=A}r.unshift(i[i.length-1]);const a=r.length-1,l=[];let c=1;for(let E=0;E<=a;++E)E>0&&(c*=E),l.push(c);const f=[];for(let E=0;E<=a;++E){const A=l[a]/(l[E]*l[a-E]);f.push(A)}const u=cr.create(),h=cr.create(),d=uR.create(),g=E=>{let A=1,O=Math.pow(1-E,a);const U=E!==1?1/(1-E):1,N=cr.create();for(let x=0;x<=a;++x){x===a&&(O=1);const le=f[x]*A*O,$=cr.scale(u,r[x],le);cr.add(N,N,$),A*=E,O*=U}return N},p=[],m=[],v=a+1;for(let E=0;E<v;++E){const A=E/(v-1),O=g(A);p.push(O),m.push(A)}let b=1;const y=fR/s,S=Math.sin(y);for(;b<p.length-1;){const E=cr.subtract(u,p[b],p[b-1]);cr.normalize(E,E);const A=cr.subtract(h,p[b+1],p[b]);cr.normalize(A,A);const O=cr.cross(d,E,A);if(Math.abs(O[2])>S){const U=m[b-1],N=m[b+1],x=U+(N-U)*1/3,le=U+(N-U)*2/3,$=g(x),W=g(le);p.splice(b,1,$,W),m.splice(b,1,x,le),b--,b<1&&(b=1)}else++b}p.shift();const w=dR(p,t);return w.lastBezierControlPoint=r[r.length-2],w};var pR=mR;const gR=Et,hh=ji,vR=(e,t)=>{if(e.isClosed!==t.isClosed||e.points.length!==t.points.length)return!1;const n=hh(e),r=hh(t),s=n.length;let i=0;do{let o=!1;for(let a=0;a<s;a++)if(!gR.equals(n[a],r[(a+i)%s])){o=!0;break}if(o===!1)return!0;if(!e.isClosed)return!1}while(++i<s);return!1};var bR=vR;const _R=qt,yR=Et,AR=kl,SR=e=>{if(e[0]!==2)throw new Error("invalid compact binary data");const t=AR();t.transforms=_R.clone(e.slice(1,17)),t.isClosed=!!e[17];for(let n=22;n<e.length;n+=2){const r=yR.fromValues(e[n],e[n+1]);t.points.push(r)}return e[18]>=0&&(t.color=[e[18],e[19],e[20],e[21]]),t};var ER=SR;const wR=e=>!!(e&&typeof e=="object"&&"points"in e&&"transforms"in e&&"isClosed"in e&&Array.isArray(e.points)&&"length"in e.transforms);var Dv=wR;const TR=nd,CR=e=>{const t=TR(e);return t.points=e.points.slice().reverse(),t};var PR=CR;const LR=Et,OR=ji,RR=e=>{const t=OR(e);let n="path ("+t.length+" points, "+e.isClosed+`):
[
`;return t.forEach(r=>{n+="  "+LR.toString(r)+`,
`}),n+=`]
`,n};var MR=RR;const IR=e=>{const t=e.points,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+1+4+t.length*2);s[0]=2,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=e.isClosed?1:0,s[18]=r[0],s[19]=r[1],s[20]=r[2],s[21]=r[3];for(let i=0;i<t.length;i++){const o=i*2+22,a=t[i];s[o]=a[0],s[o+1]=a[1]}return s};var DR=IR;const mh=qt,FR=(e,t)=>{const n=mh.multiply(mh.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var xR=FR;const kR=Et,GR=Dv,BR=e=>{if(!GR(e))throw new Error("invalid path2 structure");if(e.points.length>1){for(let t=0;t<e.points.length;t++)if(kR.equals(e.points[t],e.points[(t+1)%e.points.length]))throw new Error(`path2 duplicate points ${e.points[t]}`)}if(e.points.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`path2 invalid point ${t}`)}),!e.transforms.every(Number.isFinite))throw new Error(`path2 invalid transforms ${e.transforms}`)};var NR=BR,Ht={appendArc:nR,appendBezier:pR,appendPoints:Iv,clone:nd,close:Rv,concat:Mv,create:kl,equals:bR,fromPoints:rd,fromCompactBinary:ER,isA:Dv,reverse:PR,toPoints:ji,toString:MR,toCompactBinary:DR,transform:xR,validate:NR};const $R=mt,Fv=gt,xv=_t,kv=Ht,Gv=Mt,VR=(e,t)=>{const n=Fv.clone(t);return n.color=e,n},UR=(e,t)=>{const n=xv.clone(t);return n.color=e,n},HR=(e,t)=>{const n=kv.clone(t);return n.color=e,n},zR=(e,t)=>{const n=Gv.clone(t);return n.color=e,n},jR=(e,...t)=>{if(!Array.isArray(e))throw new Error("color must be an array");if(e.length<3)throw new Error("color must contain R, G and B values");if(e.length===3&&(e=[e[0],e[1],e[2],1]),t=$R(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>Fv.isA(r)?VR(e,r):xv.isA(r)?UR(e,r):kv.isA(r)?HR(e,r):Gv.isA(r)?zR(e,r):(r.color=e,r));return n.length===1?n[0]:n};var qR=jR;const XR={black:[0/255,0/255,0/255],silver:[192/255,192/255,192/255],gray:[128/255,128/255,128/255],white:[255/255,255/255,255/255],maroon:[128/255,0/255,0/255],red:[255/255,0/255,0/255],purple:[128/255,0/255,128/255],fuchsia:[255/255,0/255,255/255],green:[0/255,128/255,0/255],lime:[0/255,255/255,0/255],olive:[128/255,128/255,0/255],yellow:[255/255,255/255,0/255],navy:[0/255,0/255,128/255],blue:[0/255,0/255,255/255],teal:[0/255,128/255,128/255],aqua:[0/255,255/255,255/255],aliceblue:[240/255,248/255,255/255],antiquewhite:[250/255,235/255,215/255],aquamarine:[127/255,255/255,212/255],azure:[240/255,255/255,255/255],beige:[245/255,245/255,220/255],bisque:[255/255,228/255,196/255],blanchedalmond:[255/255,235/255,205/255],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,255/255,0/255],chocolate:[210/255,105/255,30/255],coral:[255/255,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[255/255,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0/255,255/255,255/255],darkblue:[0/255,0/255,139/255],darkcyan:[0/255,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0/255,100/255,0/255],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0/255,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[255/255,140/255,0/255],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0/255,0/255],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0/255,206/255,209/255],darkviolet:[148/255,0/255,211/255],deeppink:[255/255,20/255,147/255],deepskyblue:[0/255,191/255,255/255],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,255/255],firebrick:[178/255,34/255,34/255],floralwhite:[255/255,250/255,240/255],forestgreen:[34/255,139/255,34/255],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,255/255],gold:[255/255,215/255,0/255],goldenrod:[218/255,165/255,32/255],greenyellow:[173/255,255/255,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,255/255,240/255],hotpink:[255/255,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0/255,130/255],ivory:[255/255,255/255,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[255/255,240/255,245/255],lawngreen:[124/255,252/255,0/255],lemonchiffon:[255/255,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,255/255,255/255],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[255/255,182/255,193/255],lightsalmon:[255/255,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[255/255,255/255,224/255],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[255/255,0/255,255/255],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0/255,0/255,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0/255,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,255/255,250/255],mistyrose:[255/255,228/255,225/255],moccasin:[255/255,228/255,181/255],navajowhite:[255/255,222/255,173/255],oldlace:[253/255,245/255,230/255],olivedrab:[107/255,142/255,35/255],orange:[255/255,165/255,0/255],orangered:[255/255,69/255,0/255],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[255/255,239/255,213/255],peachpuff:[255/255,218/255,185/255],peru:[205/255,133/255,63/255],pink:[255/255,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[255/255,245/255,238/255],sienna:[160/255,82/255,45/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[255/255,250/255,250/255],springgreen:[0/255,255/255,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],thistle:[216/255,191/255,216/255],tomato:[255/255,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],whitesmoke:[245/255,245/255,245/255],yellowgreen:[154/255,205/255,50/255]};var Bv=XR;const WR=Bv,YR=e=>WR[e.toLowerCase()];var ZR=YR;const KR=e=>{if(e=e.replace("#",""),e.length<6)throw new Error("the given notation must contain 3 or more hex values");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255;if(e.length>=8){const s=parseInt(e.substring(6,8),16)/255;return[t,n,r,s]}return[t,n,r]};var QR=KR;const JR=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e);var Nv=JR;const e6=mt,Hf=Nv,t6=(...e)=>{if(e=e6(e),e.length<3)throw new Error("values must contain H, S and L values");const t=e[0],n=e[1],r=e[2];let s=r,i=r,o=r;if(n!==0){const a=r<.5?r*(1+n):r+n-r*n,l=2*r-a;s=Hf(l,a,t+1/3),i=Hf(l,a,t),o=Hf(l,a,t-1/3)}if(e.length>3){const a=e[3];return[s,i,o,a]}return[s,i,o]};var n6=t6;const r6=mt,s6=(...e)=>{if(e=r6(e),e.length<3)throw new Error("values must contain H, S and V values");const t=e[0],n=e[1],r=e[2];let s=0,i=0,o=0;const a=Math.floor(t*6),l=t*6-a,c=r*(1-n),f=r*(1-l*n),u=r*(1-(1-l)*n);switch(a%6){case 0:s=r,i=u,o=c;break;case 1:s=f,i=r,o=c;break;case 2:s=c,i=r,o=u;break;case 3:s=c,i=f,o=r;break;case 4:s=u,i=c,o=r;break;case 5:s=r,i=c,o=f;break}if(e.length>3){const h=e[3];return[s,i,o,h]}return[s,i,o]};var i6=s6;const o6=mt,a6=(...e)=>{if(e=o6(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0]*255,n=e[1]*255,r=e[2]*255;let s=`#${Number(16777216+t*65536+n*256+r).toString(16).substring(1,7)}`;return e.length>3&&(s=s+Number(e[3]*255).toString(16)),s};var l6=a6;const c6=mt,f6=(...e)=>{if(e=c6(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o,a;const l=(s+i)/2;if(s===i)o=a=0;else{const c=s-i;switch(a=l>.5?c/(2-s-i):c/(s+i),s){case t:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-t)/c+2;break;case r:o=(t-n)/c+4;break}o/=6}if(e.length>3){const c=e[3];return[o,a,l,c]}return[o,a,l]};var u6=f6;const d6=mt,h6=(...e)=>{if(e=d6(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o;const a=s,l=s-i,c=s===0?0:l/s;if(s===i)o=0;else{switch(s){case t:o=(n-r)/l+(n<r?6:0);break;case n:o=(r-t)/l+2;break;case r:o=(t-n)/l+4;break}o/=6}if(e.length>3){const f=e[3];return[o,c,a,f]}return[o,c,a]};var m6=h6,p6={colorize:qR,colorNameToRgb:ZR,cssColors:Bv,hexToRgb:QR,hslToRgb:n6,hsvToRgb:i6,hueToColorComponent:Nv,rgbToHex:l6,rgbToHsl:u6,rgbToHsv:m6};const g6=e=>{if(!Array.isArray(e))throw new Error("Bezier points must be a valid array/");if(e.length<2)throw new Error("Bezier points must contain at least 2 values.");const t=v6(e);return{points:e,pointType:t,dimensions:t==="float_single"?0:e[0].length,permutations:ph(e.length-1),tangentPermutations:ph(e.length-2)}},v6=function(e){let t=null;return e.forEach(n=>{let r="";if(Number.isFinite(n))r="float_single";else if(Array.isArray(n))n.forEach(s=>{if(!Number.isFinite(s))throw new Error("Bezier point values must all be numbers.")}),r="float_"+n.length;else throw new Error("Bezier points must all be numbers or arrays of number.");if(t==null)t=r;else if(t!==r)throw new Error("Bezier points must be either all numbers or all arrays of numbers of the same size.")}),t},ph=function(e){const t=[];for(let n=0;n<=e;n++)t.push(zf(e)/(zf(n)*zf(e-n)));return t},zf=function(e){let t=1;for(let n=2;n<=e;n++)t*=n;return t};var b6=g6;const _6=(e,t)=>{if(e<0||e>1)throw new Error("Bezier valueAt() input must be between 0 and 1");if(t.pointType==="float_single")return gh(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(gh(t,s,e))}return n}},gh=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<=r;i++)s+=e.permutations[i]*Math.pow(1-n,r-i)*Math.pow(n,i)*t[i];return s};var y6=_6;const A6=(e,t)=>{if(e<0||e>1)throw new Error("Bezier tangentAt() input must be between 0 and 1");if(t.pointType==="float_single")return vh(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(vh(t,s,e))}return n}},vh=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<r;i++){const o=r*(t[i+1]-t[i]);s+=e.tangentPermutations[i]*Math.pow(1-n,r-1-i)*Math.pow(n,i)*o}return s};var S6=A6,E6={create:b6,valueAt:y6,tangentAt:S6},w6={bezier:E6};const T6=e=>{let t=0;for(let n=0;n<e.length;n++){const r=(n+1)%e.length;t+=e[n][0]*e[r][1],t-=e[r][0]*e[n][1]}return t/2};var Gl=T6;const C6=Gl,P6=e=>C6(e.vertices);var $v=P6;const L6=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var Vv=L6;const O6=Vv,R6=e=>{const t=e.vertices.slice().reverse();return O6(t)};var Uv=R6;const M6=$v,I6=Uv,D6=(e,t)=>{if(e.length===0)return 0;const n=t.vertices;return n.length<3?0:(M6(t)<0&&(t=I6(t)),e.reduce((s,i)=>s+F6(i,n),0)===e.length?1:0)},F6=(e,t)=>{const n=t.length,r=e[0],s=e[1];let i=t[n-1],o=t[0],a=i[1]>s,l=0,c=0;for(let f=n+1;--f;){const u=o[1]>s;if(a!==u){const h=i[0]>r,d=o[0]>r;(h&&d||o[0]-(o[1]-s)*(i[0]-o[0])/(i[1]-o[1])>=r)&&(l=!l)}a=u,i=o,o=t[++c]}return l};var x6=D6,sd={arePointsInside:x6,create:Vv,flip:Uv,measureArea:$v},id={geom2:gt,geom3:_t,path2:Ht,poly2:sd,poly3:Mt};const k6=()=>[0,1,0];var od=k6;const G6=od,B6=e=>{const t=G6();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var N6=B6;const jf=Et,$6=e=>{const t=jf.normal(jf.create(),e);return jf.negate(t,t),t};var ad=$6;const bh=Et,V6=e=>bh.scale(bh.create(),e,e[2]);var Bl=V6;const U6=Et,H6=ad,z6=Bl,j6=(e,t)=>{const n=z6(e),r=H6(e),s=(r[1]-n[1])/(r[0]-n[0]),i=n[1]-s*n[0],o=-1/s,l=(t[1]-o*t[0]-i)/(s-o),c=s*l+i;return U6.fromValues(l,c)};var q6=j6;const X6=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var Hv=X6;const W6=Et,Y6=(e,t)=>{let n=W6.dot(t,e);return n=Math.abs(n-e[2]),n};var Z6=Y6;const K6=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var Q6=K6;const _o=Et,J6=(e,t,n)=>{const r=_o.subtract(_o.create(),n,t);_o.normal(r,r),_o.normalize(r,r);const s=_o.dot(t,r);return e[0]=r[0],e[1]=r[1],e[2]=s,e};var zv=J6;const e8=od,t8=(e,t,n)=>{const r=e8();return r[0]=e,r[1]=t,r[2]=n,r};var jv=t8;const{NEPS:qf}=Ft,n8=(e,t)=>Math.abs(e[0]-t[0])<=qf&&Math.abs(e[1]-t[1])<=qf&&Math.abs(e[2]-t[2])<=qf;var Nl=n8;const r8=(e,t,n)=>{let r=n-e[1],s=t[1]-e[1];s<0&&(r=-r,s=-s);let i;return r<=0?i=0:r>=s?i=1:s<1e-10?i=.5:i=r/s,e[0]+i*(t[0]-e[0])};var qv=r8;const s8=(e,t,n,r)=>{if(e[0]===t[0]&&e[1]===t[1]||n[0]===r[0]&&n[1]===r[1])return;const s=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(Math.abs(s)<Number.MIN_VALUE)return;const i=((r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]))/s,o=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/s;if(i<0||i>1||o<0||o>1)return;const a=e[0]+i*(t[0]-e[0]),l=e[1]+i*(t[1]-e[1]);return[a,l]};var Xv=s8;const i8=(e,t,n,r,s,i)=>{const a=1/(e*r-t*n);let l=s*r-t*i,c=-s*n+e*i;return l*=a,c*=a,[l,c]};var o8=i8,Xo={aboutEqualNormals:Nl,area:Gl,cos:Hn.cos,interpolateBetween2DPointsForY:qv,intersect:Xv,sin:Hn.sin,solve2Linear:o8};const a8=Et,{solve2Linear:l8}=Xo,c8=(e,t)=>{const n=l8(e[0],e[1],t[0],t[1],e[2],t[2]);return a8.clone(n)};var f8=c8;const _h=Et,u8=Hv,d8=jv,h8=(e,t)=>{const n=_h.negate(_h.create(),t),r=-t[2];return u8(e,d8(n[0],n[1],r))};var m8=h8;const p8=e=>`line2: (${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)})`;var g8=p8;const yh=Et,v8=zv,b8=Bl,_8=ad,y8=(e,t,n)=>{const r=b8(t),s=_8(t);return yh.transform(r,r,n),yh.transform(s,s,n),v8(e,r,s)};var A8=y8;const S8=Bl,E8=(e,t)=>{let n=(e[2]-e[1]*t)/e[0];return Number.isNaN(n)&&(n=S8(e)[0]),n};var w8=E8,ld={clone:N6,closestPoint:q6,copy:Hv,create:od,direction:ad,distanceToPoint:Z6,equals:Q6,fromPoints:zv,fromValues:jv,intersectPointOfLines:f8,origin:Bl,reverse:m8,toString:g8,transform:A8,xAtY:w8};const Ah=it,T8=()=>[Ah.fromValues(0,0,0),Ah.fromValues(0,0,1)];var Wv=T8;const Sh=it,C8=Wv,P8=e=>{const t=C8();return Sh.copy(t[0],e[0]),Sh.copy(t[1],e[1]),t};var L8=P8;const Bs=it,O8=(e,t)=>{const n=e[0],r=e[1],s=Bs.dot(Bs.subtract(Bs.create(),t,n),r),i=Bs.dot(r,r),o=s/i,a=Bs.scale(Bs.create(),r,o);return Bs.add(a,a,n),a};var Yv=O8;const Eh=it,R8=(e,t)=>(Eh.copy(e[0],t[0]),Eh.copy(e[1],t[1]),e);var M8=R8;const I8=e=>e[1];var D8=I8;const Xf=it,F8=Yv,x8=(e,t)=>{const n=F8(e,t),r=Xf.subtract(Xf.create(),t,n);return Xf.length(r)};var k8=x8;const wh=it,G8=(e,t)=>!(!wh.equals(e[1],t[1])||!wh.equals(e[0],t[0]));var B8=G8;const Xa=it,N8=(e,t,n)=>{const r=Xa.normalize(Xa.create(),n);return Xa.copy(e[0],t),Xa.copy(e[1],r),e};var Wo=N8;const Ns=it,{solve2Linear:Wf}=Xo,{EPS:$8}=Ft,V8=Wo,U8=(e,t,n)=>{let r=Ns.cross(Ns.create(),t,n),s=Ns.length(r);if(s<$8)throw new Error("parallel planes do not intersect");s=1/s,r=Ns.scale(r,r,s);const i=Math.abs(r[0]),o=Math.abs(r[1]),a=Math.abs(r[2]);let l,c;return i>=o&&i>=a?(c=Wf(t[1],t[2],n[1],n[2],t[3],n[3]),l=Ns.fromValues(0,c[0],c[1])):o>=i&&o>=a?(c=Wf(t[0],t[2],n[0],n[2],t[3],n[3]),l=Ns.fromValues(c[0],0,c[1])):(c=Wf(t[0],t[1],n[0],n[1],t[3],n[3]),l=Ns.fromValues(c[0],c[1],0)),V8(e,l,r)};var H8=U8;const Th=it,z8=Wo,j8=(e,t,n)=>{const r=Th.subtract(Th.create(),n,t);return z8(e,t,r)};var q8=j8;const Si=it,X8=(e,t)=>{const n=t,r=t[3],s=e[0],i=e[1],o=(r-Si.dot(n,s))/Si.dot(n,i);return Si.add(Si.create(),s,Si.scale(Si.create(),i,o))};var W8=X8;const Y8=e=>e[0];var Z8=Y8;const Yf=it,K8=Wo,Q8=(e,t)=>{const n=Yf.clone(t[0]),r=Yf.negate(Yf.create(),t[1]);return K8(e,n,r)};var J8=Q8;const eM=e=>{const t=e[0],n=e[1];return`line3: point: (${t[0].toFixed(7)}, ${t[1].toFixed(7)}, ${t[2].toFixed(7)}) direction: (${n[0].toFixed(7)}, ${n[1].toFixed(7)}, ${n[2].toFixed(7)})`};var tM=eM;const Ei=it,nM=Wo,rM=(e,t,n)=>{const r=t[0],s=t[1],i=Ei.add(Ei.create(),r,s),o=Ei.transform(Ei.create(),r,n),a=Ei.transform(i,i,n),l=Ei.subtract(a,a,o);return nM(e,o,l)};var sM=rM,iM={clone:L8,closestPoint:Yv,copy:M8,create:Wv,direction:D8,distanceToPoint:k8,equals:B8,fromPlanes:H8,fromPointAndDirection:Wo,fromPoints:q8,intersectPointOfLineAndPlane:W8,origin:Z8,reverse:J8,toString:tM,transform:sM},oM={constants:Ft,line2:ld,line3:iM,mat4:qt,plane:xr,utils:Xo,vec2:Et,vec3:it,vec4:Lv};const aM=mt,Zv=gt,Kv=_t,lM=Ht,cM=Mt,yl=new WeakMap,fM=()=>0,uM=e=>{let t=yl.get(e);return t||(t=Zv.toSides(e).reduce((r,s)=>r+(s[0][0]*s[1][1]-s[0][1]*s[1][0]),0),t*=.5,yl.set(e,t),t)},dM=e=>{let t=yl.get(e);return t||(t=Kv.toPolygons(e).reduce((r,s)=>r+cM.measureArea(s),0),yl.set(e,t),t)},hM=(...e)=>{if(e=aM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>lM.isA(n)?fM():Zv.isA(n)?uM(n):Kv.isA(n)?dM(n):0);return t.length===1?t[0]:t};var Qv=hM;const mM=mt,pM=Qv,gM=(...e)=>{if(e=mM(e),e.length===0)throw new Error("measureAggregateArea: no geometries supplied");const t=pM(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var vM=gM;const bM=mt,Dr=Et,yo=it,Jv=gt,e2=_t,t2=Ht,Ch=Mt,Bi=new WeakMap,_M=e=>{let t=Bi.get(e);if(t)return t;const n=t2.toPoints(e);let r;n.length===0?r=Dr.create():r=Dr.clone(n[0]);let s=Dr.clone(r);return n.forEach(i=>{Dr.min(r,r,i),Dr.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],Bi.set(e,t),t},yM=e=>{let t=Bi.get(e);if(t)return t;const n=Jv.toPoints(e);let r;n.length===0?r=Dr.create():r=Dr.clone(n[0]);let s=Dr.clone(r);return n.forEach(i=>{Dr.min(r,r,i),Dr.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],Bi.set(e,t),t},AM=e=>{let t=Bi.get(e);if(t)return t;const n=e2.toPolygons(e);let r=yo.create();if(n.length>0){const i=Ch.toPoints(n[0]);yo.copy(r,i[0])}let s=yo.clone(r);return n.forEach(i=>{Ch.toPoints(i).forEach(o=>{yo.min(r,r,o),yo.max(s,s,o)})}),r=[r[0],r[1],r[2]],s=[s[0],s[1],s[2]],t=[r,s],Bi.set(e,t),t},SM=(...e)=>{if(e=bM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>t2.isA(n)?_M(n):Jv.isA(n)?yM(n):e2.isA(n)?AM(n):[[0,0,0],[0,0,0]]);return t.length===1?t[0]:t};var Js=SM;const EM=mt,wM=cv,TM=lv,CM=Js,PM=(...e)=>{if(e=EM(e),e.length===0)throw new Error("measureAggregateBoundingBox: no geometries supplied");const t=CM(e);if(e.length===1)return t;const n=[[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]];return t.reduce((r,s)=>(r=[wM(r[0],r[0],s[0]),TM(r[1],r[1],s[1])],r),n)};var cd=PM;const{EPS:LM}=Ft,OM=(e,t)=>{let n=0;for(let r=0;r<t;r++)n+=e[1][r]-e[0][r];return LM*n/t};var n2=OM;const RM=mt,MM=cd,IM=n2,{geom2:DM,geom3:FM,path2:xM}=id,kM=(...e)=>{if(e=RM(e),e.length===0)throw new Error("measureAggregateEpsilon: no geometries supplied");const t=MM(e);let n=0;return n=e.reduce((r,s)=>xM.isA(s)||DM.isA(s)?Math.max(r,2):FM.isA(s)?Math.max(r,3):0,n),IM(t,n)};var GM=kM;const BM=mt,NM=gt,r2=_t,$M=Ht,VM=Mt,Ph=new WeakMap,UM=()=>0,HM=()=>0,zM=e=>{let t=Ph.get(e);return t||(t=r2.toPolygons(e).reduce((r,s)=>r+VM.measureSignedVolume(s),0),Ph.set(e,t),t)},jM=(...e)=>{if(e=BM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>$M.isA(n)?UM():NM.isA(n)?HM():r2.isA(n)?zM(n):0);return t.length===1?t[0]:t};var s2=jM;const qM=mt,XM=s2,WM=(...e)=>{if(e=qM(e),e.length===0)throw new Error("measureAggregateVolume: no geometries supplied");const t=XM(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var YM=WM;const ZM=mt,i2=Et,rr=it,o2=gt,a2=_t,l2=Ht,Lh=Mt,Ni=new WeakMap,KM=e=>{let t=Ni.get(e);if(t!==void 0)return t;const n=rr.create();let r=0;const s=l2.toPoints(e);if(s.length>0){let i=0;const o=rr.create();s.forEach(a=>{rr.add(n,n,rr.fromVec2(o,a,0)),i++}),rr.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,i2.squaredDistance(n,a))}),r=Math.sqrt(r)}return t=[n,r],Ni.set(e,t),t},QM=e=>{let t=Ni.get(e);if(t!==void 0)return t;const n=rr.create();let r=0;const s=o2.toSides(e);if(s.length>0){let i=0;const o=rr.create();s.forEach(a=>{rr.add(n,n,rr.fromVec2(o,a[0],0)),i++}),rr.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,i2.squaredDistance(n,a[0]))}),r=Math.sqrt(r)}return t=[n,r],Ni.set(e,t),t},JM=e=>{let t=Ni.get(e);if(t!==void 0)return t;const n=rr.create();let r=0;const s=a2.toPolygons(e);if(s.length>0){let i=0;s.forEach(o=>{Lh.toPoints(o).forEach(a=>{rr.add(n,n,a),i++})}),rr.scale(n,n,1/i),s.forEach(o=>{Lh.toPoints(o).forEach(a=>{r=Math.max(r,rr.squaredDistance(n,a))})}),r=Math.sqrt(r)}return t=[n,r],Ni.set(e,t),t},eI=(...e)=>{e=ZM(e);const t=e.map(n=>l2.isA(n)?KM(n):o2.isA(n)?QM(n):a2.isA(n)?JM(n):[[0,0,0],0]);return t.length===1?t[0]:t};var tI=eI;const nI=mt,rI=Js,sI=(...e)=>{e=nI(e);const t=e.map(n=>{const r=rI(n);return[r[0][0]+(r[1][0]-r[0][0])/2,r[0][1]+(r[1][1]-r[0][1])/2,r[0][2]+(r[1][2]-r[0][2])/2]});return t.length===1?t[0]:t};var iI=sI;const oI=mt,Mr=it,c2=gt,f2=_t,Al=new WeakMap,aI=e=>{let t=Al.get(e);if(t!==void 0)return t;const n=c2.toSides(e);let r=0,s=0,i=0;if(n.length>0){for(let a=0;a<n.length;a++){const l=n[a][0],c=n[a][1],f=l[0]*c[1]-l[1]*c[0];r+=f,s+=(l[0]+c[0])*f,i+=(l[1]+c[1])*f}r/=2;const o=1/(r*6);s*=o,i*=o}return t=Mr.fromValues(s,i,0),Al.set(e,t),t},lI=e=>{let t=Al.get(e);if(t!==void 0)return t;t=Mr.create();const n=f2.toPolygons(e);if(n.length===0)return t;let r=0;const s=Mr.create();return n.forEach(i=>{const o=i.vertices;for(let a=0;a<o.length-2;a++){Mr.cross(s,o[a+1],o[a+2]);const l=Mr.dot(o[0],s)/6;r+=l,Mr.add(s,o[0],o[a+1]),Mr.add(s,s,o[a+2]);const c=Mr.scale(s,s,1/4*l);Mr.add(t,t,c)}}),Mr.scale(t,t,1/r),Al.set(e,t),t},cI=(...e)=>{e=oI(e);const t=e.map(n=>c2.isA(n)?aI(n):f2.isA(n)?lI(n):[0,0,0]);return t.length===1?t[0]:t};var fI=cI;const uI=mt,dI=Js,hI=(...e)=>{e=uI(e);const t=e.map(n=>{const r=dI(n);return[r[1][0]-r[0][0],r[1][1]-r[0][1],r[1][2]-r[0][2]]});return t.length===1?t[0]:t};var mI=hI;const pI=mt,{geom2:gI,geom3:vI,path2:bI}=id,fd=n2,ud=Js,_I=e=>fd(ud(e),2),yI=e=>fd(ud(e),2),AI=e=>fd(ud(e),3),SI=(...e)=>{if(e=pI(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>bI.isA(n)?_I(n):gI.isA(n)?yI(n):vI.isA(n)?AI(n):0);return t.length===1?t[0]:t};var _s=SI,Bu={measureAggregateArea:vM,measureAggregateBoundingBox:cd,measureAggregateEpsilon:GM,measureAggregateVolume:YM,measureArea:Qv,measureBoundingBox:Js,measureBoundingSphere:tI,measureCenter:iI,measureCenterOfMass:fI,measureDimensions:mI,measureEpsilon:_s,measureVolume:s2};const EI=(e,t)=>Array.isArray(e)&&e.length>=t?e.every(n=>Number.isFinite(n)):!1,wI=(e,t)=>Number.isFinite(e)&&e>t,TI=(e,t)=>Number.isFinite(e)&&e>=t;var In={isNumberArray:EI,isGT:wI,isGTE:TI};const{EPS:Oh,TAU:wi}=Ft,Vr=Et,CI=Ht,{isGT:PI,isGTE:Zf,isNumberArray:LI}=In,OI=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:wi,makeTangent:!1,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,makeTangent:o,segments:a}=Object.assign({},t,e);if(!LI(n,2))throw new Error("center must be an array of X and Y values");if(!PI(r,0))throw new Error("radius must be greater than zero");if(!Zf(s,0))throw new Error("startAngle must be positive");if(!Zf(i,0))throw new Error("endAngle must be positive");if(!Zf(a,4))throw new Error("segments must be four or more");s=s%wi,i=i%wi;let l=wi;s<i&&(l=i-s),s>i&&(l=i+(wi-s));const c=Math.acos((r*r+r*r-Oh*Oh)/(2*r*r)),f=Vr.clone(n);let u;const h=[];if(l<c)u=Vr.fromAngleRadians(Vr.create(),s),Vr.scale(u,u,r),Vr.add(u,u,f),h.push(u);else{const d=Math.max(1,Math.floor(a*(l/wi)))+1;let g=d*.5/l;g>.25&&(g=.25);const p=o?d+2:d;for(let m=0;m<=p;m++){let v=m;o&&(v=(m-1)*(d-2*g)/d+g,v<0&&(v=0),v>d&&(v=d));const b=s+v*(l/d);u=Vr.fromAngleRadians(Vr.create(),b),Vr.scale(u,u,r),Vr.add(u,u,f),h.push(u)}}return CI.fromPoints({closed:!1},h)};var RI=OI;const{EPS:Rh,TAU:us}=Ft,Kf=Et,MI=gt,{sin:II,cos:DI}=Hn,{isGTE:Qf,isNumberArray:Mh}=In,FI=e=>{const t={center:[0,0],radius:[1,1],startAngle:0,endAngle:us,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!Mh(n,2))throw new Error("center must be an array of X and Y values");if(!Mh(r,2))throw new Error("radius must be an array of X and Y values");if(!r.every(d=>d>0))throw new Error("radius values must be greater than zero");if(!Qf(s,0))throw new Error("startAngle must be positive");if(!Qf(i,0))throw new Error("endAngle must be positive");if(!Qf(o,3))throw new Error("segments must be three or more");s=s%us,i=i%us;let a=us;s<i&&(a=i-s),s>i&&(a=i+(us-s));const l=Math.min(r[0],r[1]),c=Math.acos((l*l+l*l-Rh*Rh)/(2*l*l));if(a<c)throw new Error("startAngle and endAngle do not define a significant rotation");o=Math.floor(o*(a/us));const f=Kf.clone(n),u=a/o,h=[];o=a<us?o+1:o;for(let d=0;d<o;d++){const g=u*d+s,p=Kf.fromValues(r[0]*DI(g),r[1]*II(g));Kf.add(p,f,p),h.push(p)}return a<us&&h.push(f),MI.fromPoints(h)};var u2=FI;const{TAU:xI}=Ft,kI=u2,{isGT:GI}=In,BI=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:xI,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!GI(r,0))throw new Error("radius must be greater than zero");return r=[r,r],kI({center:n,radius:r,startAngle:s,endAngle:i,segments:o})};var d2=BI;const NI=_t,$I=Mt,{isNumberArray:Ih}=In,VI=e=>{const t={center:[0,0,0],size:[2,2,2]},{center:n,size:r}=Object.assign({},t,e);if(!Ih(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Ih(r,3))throw new Error("size must be an array of width, depth and height values");if(!r.every(i=>i>0))throw new Error("size values must be greater than zero");return NI.create([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(i=>{const o=i[0].map(a=>[n[0]+r[0]/2*(2*!!(a&1)-1),n[1]+r[1]/2*(2*!!(a&2)-1),n[2]+r[2]/2*(2*!!(a&4)-1)]);return $I.create(o)}))};var h2=VI;const UI=h2,{isGT:HI}=In,zI=e=>{const t={center:[0,0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!HI(r,0))throw new Error("size must be greater than zero");return r=[r,r,r],UI({center:n,size:r})};var jI=zI;const{EPS:Dh,TAU:ds}=Ft,Gn=it,qI=_t,XI=Mt,{sin:WI,cos:YI}=Hn,{isGT:ZI,isGTE:Jf,isNumberArray:eu}=In,KI=e=>{const t={center:[0,0,0],height:2,startRadius:[1,1],startAngle:0,endRadius:[1,1],endAngle:ds,segments:32};let{center:n,height:r,startRadius:s,startAngle:i,endRadius:o,endAngle:a,segments:l}=Object.assign({},t,e);if(!eu(n,3))throw new Error("center must be an array of X, Y and Z values");if(!ZI(r,0))throw new Error("height must be greater then zero");if(!eu(s,2))throw new Error("startRadius must be an array of X and Y values");if(!s.every(U=>U>=0))throw new Error("startRadius values must be positive");if(!eu(o,2))throw new Error("endRadius must be an array of X and Y values");if(!o.every(U=>U>=0))throw new Error("endRadius values must be positive");if(o.every(U=>U===0)&&s.every(U=>U===0))throw new Error("at least one radius must be positive");if(!Jf(i,0))throw new Error("startAngle must be positive");if(!Jf(a,0))throw new Error("endAngle must be positive");if(!Jf(l,4))throw new Error("segments must be four or more");i=i%ds,a=a%ds;let c=ds;i<a&&(c=a-i),i>a&&(c=a+(ds-i));const f=Math.min(s[0],s[1],o[0],o[1]),u=Math.acos((f*f+f*f-Dh*Dh)/(2*f*f));if(c<u)throw new Error("startAngle and endAngle do not define a significant rotation");const h=Math.floor(l*(c/ds)),d=Gn.fromValues(0,0,-(r/2)),g=Gn.fromValues(0,0,r/2),p=Gn.subtract(Gn.create(),g,d),m=Gn.fromValues(1,0,0),v=Gn.fromValues(0,1,0),b=Gn.create(),y=Gn.create(),S=Gn.create(),w=(U,N,x)=>{const le=N*c+i;return Gn.scale(b,m,x[0]*YI(le)),Gn.scale(y,v,x[1]*WI(le)),Gn.add(b,b,y),Gn.scale(S,p,U),Gn.add(S,S,d),Gn.add(Gn.create(),b,S)},E=(...U)=>{const N=U.map(x=>Gn.add(Gn.create(),x,n));return XI.create(N)},A=[];for(let U=0;U<h;U++){const N=U/h;let x=(U+1)/h;c===ds&&U===h-1&&(x=0),o[0]===s[0]&&o[1]===s[1]?(A.push(E(d,w(0,x,o),w(0,N,o))),A.push(E(w(0,x,o),w(1,x,o),w(1,N,o),w(0,N,o))),A.push(E(g,w(1,N,o),w(1,x,o)))):(s[0]>0&&s[1]>0&&A.push(E(d,w(0,x,s),w(0,N,s))),(s[0]>0||s[1]>0)&&A.push(E(w(0,N,s),w(0,x,s),w(1,N,o))),o[0]>0&&o[1]>0&&A.push(E(g,w(1,N,o),w(1,x,o))),(o[0]>0||o[1]>0)&&A.push(E(w(1,N,o),w(0,x,s),w(1,x,o))))}return c<ds&&(A.push(E(d,w(0,0,s),g)),A.push(E(w(0,0,s),w(1,0,o),g)),A.push(E(d,g,w(0,1,s))),A.push(E(w(0,1,s),g,w(1,1,o)))),qI.create(A)};var m2=KI;const QI=m2,{isGT:JI}=In,eD=e=>{const t={center:[0,0,0],height:2,radius:1,segments:32},{center:n,height:r,radius:s,segments:i}=Object.assign({},t,e);if(!JI(s,0))throw new Error("radius must be greater than zero");return QI({center:n,height:r,startRadius:[s,s],endRadius:[s,s],segments:i})};var tD=eD;const{TAU:Fh}=Ft,ot=it,nD=_t,xh=Mt,{sin:kh,cos:Gh}=Hn,{isGTE:rD,isNumberArray:Bh}=In,sD=e=>{const t={center:[0,0,0],radius:[1,1,1],segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!Bh(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Bh(r,3))throw new Error("radius must be an array of X, Y and Z values");if(!r.every(g=>g>0))throw new Error("radius values must be greater than zero");if(!rD(s,4))throw new Error("segments must be four or more");const o=ot.scale(ot.create(),ot.normalize(ot.create(),i[0]),r[0]),a=ot.scale(ot.create(),ot.normalize(ot.create(),i[1]),r[1]),l=ot.scale(ot.create(),ot.normalize(ot.create(),i[2]),r[2]),c=Math.round(s/4);let f;const u=[],h=ot.create(),d=ot.create();for(let g=0;g<=s;g++){const p=Fh*g/s,m=ot.add(ot.create(),ot.scale(h,o,Gh(p)),ot.scale(d,a,kh(p)));if(g>0){let v,b;for(let y=0;y<=c;y++){const S=Fh/4*y/c,w=Gh(S),E=kh(S);if(y>0){let A=[],O;O=ot.subtract(ot.create(),ot.scale(h,f,v),ot.scale(d,l,b)),A.push(ot.add(O,O,n)),O=ot.subtract(ot.create(),ot.scale(h,m,v),ot.scale(d,l,b)),A.push(ot.add(O,O,n)),y<c&&(O=ot.subtract(ot.create(),ot.scale(h,m,w),ot.scale(d,l,E)),A.push(ot.add(O,O,n))),O=ot.subtract(ot.create(),ot.scale(h,f,w),ot.scale(d,l,E)),A.push(ot.add(O,O,n)),u.push(xh.create(A)),A=[],O=ot.add(ot.create(),ot.scale(h,f,v),ot.scale(d,l,b)),A.push(ot.add(ot.create(),n,O)),O=ot.add(O,ot.scale(h,m,v),ot.scale(d,l,b)),A.push(ot.add(ot.create(),n,O)),y<c&&(O=ot.add(O,ot.scale(h,m,w),ot.scale(d,l,E)),A.push(ot.add(ot.create(),n,O))),O=ot.add(O,ot.scale(h,f,w),ot.scale(d,l,E)),A.push(ot.add(ot.create(),n,O)),A.reverse(),u.push(xh.create(A))}v=w,b=E}}f=m}return nD.create(u)};var p2=sD;const iD=_t,oD=Mt,{isNumberArray:Nh}=In,aD=e=>{const t={points:[],faces:[],colors:void 0,orientation:"outward"},{points:n,faces:r,colors:s,orientation:i}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and faces must be arrays");if(n.length<3)throw new Error("three or more points are required");if(r.length<1)throw new Error("one or more faces are required");if(s){if(!Array.isArray(s))throw new Error("colors must be an array");if(s.length!==r.length)throw new Error("faces and colors must have the same length")}n.forEach((a,l)=>{if(!Nh(a,3))throw new Error(`point ${l} must be an array of X, Y, Z values`)}),r.forEach((a,l)=>{if(a.length<3)throw new Error(`face ${l} must contain 3 or more indexes`);if(!Nh(a,a.length))throw new Error(`face ${l} must be an array of numbers`)}),i!=="outward"&&r.forEach(a=>a.reverse());const o=r.map((a,l)=>{const c=oD.create(a.map(f=>n[f]));return s&&s[l]&&(c.color=s[l]),c});return iD.create(o)};var g2=aD;const $h=qt,Vh=it,lD=_t,cD=g2,{isGT:fD,isGTE:uD}=In,dD=e=>{const t={radius:1,frequency:6};let{radius:n,frequency:r}=Object.assign({},t,e);if(!fD(n,0))throw new Error("radius must be greater than zero");if(!uD(r,6))throw new Error("frequency must be six or more");r=Math.floor(r/6);const s=[[.850651,0,-.525731],[.850651,-0,.525731],[-.850651,-0,.525731],[-.850651,0,-.525731],[0,-.525731,.850651],[0,.525731,.850651],[0,.525731,-.850651],[0,-.525731,-.850651],[-.525731,-.850651,-0],[.525731,-.850651,-0],[.525731,.850651,0],[-.525731,.850651,0]],i=[[0,9,1],[1,10,0],[6,7,0],[10,6,0],[7,9,0],[5,1,4],[4,1,9],[5,10,1],[2,8,3],[3,11,2],[2,5,4],[4,8,2],[2,11,5],[3,7,6],[6,11,3],[8,7,3],[9,8,4],[11,10,5],[10,11,6],[8,9,7]],o=(h,d,g)=>{const p=h[0],m=h[1],v=h[2];let b=g;const y=[],S=[];for(let w=0;w<d;w++)for(let E=0;E<d-w;E++){const A=w/d,O=(w+1)/d,U=E/(d-w),N=(E+1)/(d-w),x=d-w-1?E/(d-w-1):1,le=[];le[0]=a(a(p,m,U),v,A),le[1]=a(a(p,m,N),v,A),le[2]=a(a(p,m,x),v,O);for(let $=0;$<3;$++){const W=Vh.length(le[$]);for(let Be=0;Be<3;Be++)le[$][Be]/=W}if(y.push(le[0],le[1],le[2]),S.push([b,b+1,b+2]),b+=3,E<d-w-1){const $=d-w-1?(E+1)/(d-w-1):1;le[0]=a(a(p,m,N),v,A),le[1]=a(a(p,m,$),v,O),le[2]=a(a(p,m,x),v,O);for(let W=0;W<3;W++){const Be=Vh.length(le[W]);for(let ne=0;ne<3;ne++)le[W][ne]/=Be}y.push(le[0],le[1],le[2]),S.push([b,b+1,b+2]),b+=3}}return{points:y,triangles:S,offset:b}},a=(h,d,g)=>{const p=1-g,m=[];for(let v=0;v<3;v++)m[v]=h[v]*p+d[v]*g;return m};let l=[],c=[],f=0;for(let h=0;h<i.length;h++){const d=o([s[i[h][0]],s[i[h][1]],s[i[h][2]]],r,f);l=l.concat(d.points),c=c.concat(d.triangles),f=d.offset}let u=cD({points:l,faces:c,orientation:"inward"});return n!==1&&(u=lD.transform($h.fromScaling($h.create(),[n,n,n]),u)),u};var hD=dD;const mD=Ht,pD=e=>{if(!Array.isArray(e))throw new Error("points must be an array");return mD.fromPoints({},e)};var gD=pD;const tu=gt,vD=e=>{const t={points:[],paths:[]},{points:n,paths:r}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and paths must be arrays");let s=n;Array.isArray(n[0])&&(Array.isArray(n[0][0])||(s=[n])),s.forEach((l,c)=>{if(!Array.isArray(l))throw new Error("list of points "+c+" must be an array");if(l.length<3)throw new Error("list of points "+c+" must contain three or more points");l.forEach((f,u)=>{if(!Array.isArray(f))throw new Error("list of points "+c+", point "+u+" must be an array");if(f.length<2)throw new Error("list of points "+c+", point "+u+" must contain by X and Y values")})});let i=r;if(r.length===0){let l=0;i=s.map(c=>c.map(f=>l++))}const o=[];s.forEach(l=>l.forEach(c=>o.push(c)));let a=[];return i.forEach(l=>{const c=l.map(u=>o[u]),f=tu.fromPoints(c);a=a.concat(tu.toSides(f))}),tu.create(a)};var bD=vD;const hs=Et,_D=gt,{isNumberArray:Uh}=In,yD=e=>{const t={center:[0,0],size:[2,2]},{center:n,size:r}=Object.assign({},t,e);if(!Uh(n,2))throw new Error("center must be an array of X and Y values");if(!Uh(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(a=>a>0))throw new Error("size values must be greater than zero");const s=[r[0]/2,r[1]/2],i=[s[0],-s[1]],o=[hs.subtract(hs.create(),n,s),hs.add(hs.create(),n,i),hs.add(hs.create(),n,s),hs.subtract(hs.create(),n,i)];return _D.fromPoints(o)};var v2=yD;const{EPS:pl,TAU:Ao}=Ft,nu=Et,Sn=it,AD=_t,$i=Mt,{sin:SD,cos:ED}=Hn,{isGT:wD,isGTE:TD,isNumberArray:Hh}=In,zh=(e,t,n,r,s,i)=>{const o=Ao/4*s/r,a=ED(o),l=SD(o),c=r-s;let f=n*a,u=t[2]-(n-n*l);i||(u=n-n*l-t[2]),f=f>pl?f:0;const h=Sn.add(Sn.create(),e,[t[0]-n,t[1]-n,u]),d=Sn.add(Sn.create(),e,[n-t[0],t[1]-n,u]),g=Sn.add(Sn.create(),e,[n-t[0],n-t[1],u]),p=Sn.add(Sn.create(),e,[t[0]-n,n-t[1],u]),m=[],v=[],b=[],y=[];for(let S=0;S<=c;S++){const w=c>0?Ao/4*S/c:0,E=nu.fromAngleRadians(nu.create(),w);nu.scale(E,E,f);const A=Sn.fromVec2(Sn.create(),E);m.push(Sn.add(Sn.create(),h,A)),Sn.rotateZ(A,A,[0,0,0],Ao/4),v.push(Sn.add(Sn.create(),d,A)),Sn.rotateZ(A,A,[0,0,0],Ao/4),b.push(Sn.add(Sn.create(),g,A)),Sn.rotateZ(A,A,[0,0,0],Ao/4),y.push(Sn.add(Sn.create(),p,A))}return i?[m,v,b,y]:(m.reverse(),v.reverse(),b.reverse(),y.reverse(),[y,b,v,m])},jh=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];for(let o=0;o<s.length-1;o++)n.push($i.create([s[o],s[o+1],i[o]])),o<i.length-1&&n.push($i.create([i[o],s[o+1],i[o+1]]))}return n},qh=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t[r];const o=s[s.length-1],a=i[i.length-1],l=(r+1)%e.length;s=e[l],i=t[l];const c=s[0],f=i[0];n.push($i.create([o,c,f,a]))}return n},CD=(e,t)=>{e=[e[3],e[2],e[1],e[0]],e=e.map(i=>i.slice().reverse());const n=[];e.forEach(i=>{i.forEach(o=>n.push(o))});const r=[];t.forEach(i=>{i.forEach(o=>r.push(o))});const s=[];for(let i=0;i<r.length;i++){const o=(i+1)%r.length;s.push($i.create([n[i],n[o],r[o],r[i]]))}return s},PD=e=>{const t={center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!Hh(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Hh(r,3))throw new Error("size must be an array of X, Y and Z values");if(!r.every(c=>c>0))throw new Error("size values must be greater than zero");if(!wD(s,0))throw new Error("roundRadius must be greater than zero");if(!TD(i,4))throw new Error("segments must be four or more");if(r=r.map(c=>c/2),s>r[0]-pl||s>r[1]-pl||s>r[2]-pl)throw new Error("roundRadius must be smaller then the radius of all dimensions");i=Math.floor(i/4);let o=null,a=null,l=[];for(let c=0;c<=i;c++){const f=zh(n,r,s,i,c,!0),u=zh(n,r,s,i,c,!1);if(c===0&&(l=l.concat(CD(u,f))),o&&(l=l.concat(jh(o,f),qh(o,f))),a&&(l=l.concat(jh(a,u),qh(a,u))),c===i){let h=f.map(d=>d[0]);l.push($i.create(h)),h=u.map(d=>d[0]),l.push($i.create(h))}o=f,a=u}return AD.create(l)};var LD=PD;const{EPS:Xh,TAU:Wh}=Ft,Xe=it,OD=_t,RD=Mt,{sin:Yh,cos:Zh}=Hn,{isGT:ru,isGTE:MD,isNumberArray:ID}=In,DD=e=>{const t={center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},{center:n,height:r,radius:s,roundRadius:i,segments:o}=Object.assign({},t,e);if(!ID(n,3))throw new Error("center must be an array of X, Y and Z values");if(!ru(r,0))throw new Error("height must be greater then zero");if(!ru(s,0))throw new Error("radius must be greater then zero");if(!ru(i,0))throw new Error("roundRadius must be greater then zero");if(i>s-Xh)throw new Error("roundRadius must be smaller then the radius");if(!MD(o,4))throw new Error("segments must be four or more");const a=[0,0,-(r/2)],l=[0,0,r/2],c=Xe.subtract(Xe.create(),l,a),f=Xe.length(c);if(2*i>f-Xh)throw new Error("height must be larger than twice roundRadius");let u;Math.abs(c[0])>Math.abs(c[1])?u=Xe.fromValues(0,1,0):u=Xe.fromValues(1,0,0);const h=Xe.scale(Xe.create(),Xe.normalize(Xe.create(),c),i),d=Xe.scale(Xe.create(),Xe.normalize(Xe.create(),Xe.cross(Xe.create(),h,u)),s),g=Xe.scale(Xe.create(),Xe.normalize(Xe.create(),Xe.cross(Xe.create(),d,h)),s);Xe.add(a,a,h),Xe.subtract(l,l,h);const p=Math.floor(.25*o),m=E=>{const A=E.map(O=>Xe.add(O,O,n));return RD.create(A)},v=[],b=Xe.create(),y=Xe.create();let S;for(let E=0;E<=o;E++){const A=Wh*E/o,O=Xe.add(Xe.create(),Xe.scale(b,d,Zh(A)),Xe.scale(y,g,Yh(A)));if(E>0){let U=[];U.push(Xe.add(Xe.create(),a,O)),U.push(Xe.add(Xe.create(),a,S)),U.push(Xe.add(Xe.create(),l,S)),U.push(Xe.add(Xe.create(),l,O)),v.push(m(U));let N,x;for(let le=0;le<=p;le++){const $=Wh/4*le/p,W=Zh($),Be=Yh($);if(le>0){U=[];let ne;ne=Xe.add(Xe.create(),a,Xe.subtract(b,Xe.scale(b,S,N),Xe.scale(y,h,x))),U.push(ne),ne=Xe.add(Xe.create(),a,Xe.subtract(b,Xe.scale(b,O,N),Xe.scale(y,h,x))),U.push(ne),le<p&&(ne=Xe.add(Xe.create(),a,Xe.subtract(b,Xe.scale(b,O,W),Xe.scale(y,h,Be))),U.push(ne)),ne=Xe.add(Xe.create(),a,Xe.subtract(b,Xe.scale(b,S,W),Xe.scale(y,h,Be))),U.push(ne),v.push(m(U)),U=[],ne=Xe.add(Xe.create(),Xe.scale(b,S,N),Xe.scale(y,h,x)),Xe.add(ne,ne,l),U.push(ne),ne=Xe.add(Xe.create(),Xe.scale(b,O,N),Xe.scale(y,h,x)),Xe.add(ne,ne,l),U.push(ne),le<p&&(ne=Xe.add(Xe.create(),Xe.scale(b,O,W),Xe.scale(y,h,Be)),Xe.add(ne,ne,l),U.push(ne)),ne=Xe.add(Xe.create(),Xe.scale(b,S,W),Xe.scale(y,h,Be)),Xe.add(ne,ne,l),U.push(ne),U.reverse(),v.push(m(U))}N=W,x=Be}}S=O}return OD.create(v)};var FD=DD;const{EPS:Kh,TAU:Wa}=Ft,nn=Et,xD=gt,{isGT:kD,isGTE:GD,isNumberArray:Qh}=In,BD=e=>{const t={center:[0,0],size:[2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!Qh(n,2))throw new Error("center must be an array of X and Y values");if(!Qh(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(p=>p>0))throw new Error("size values must be greater than zero");if(!kD(s,0))throw new Error("roundRadius must be greater than zero");if(!GD(i,4))throw new Error("segments must be four or more");if(r=r.map(p=>p/2),s>r[0]-Kh||s>r[1]-Kh)throw new Error("roundRadius must be smaller then the radius of all dimensions");const o=Math.floor(i/4),a=nn.add(nn.create(),n,[r[0]-s,r[1]-s]),l=nn.add(nn.create(),n,[s-r[0],r[1]-s]),c=nn.add(nn.create(),n,[s-r[0],s-r[1]]),f=nn.add(nn.create(),n,[r[0]-s,s-r[1]]),u=[],h=[],d=[],g=[];for(let p=0;p<=o;p++){const m=Wa/4*p/o,v=nn.fromAngleRadians(nn.create(),m);nn.scale(v,v,s),u.push(nn.add(nn.create(),a,v)),nn.rotate(v,v,nn.create(),Wa/4),h.push(nn.add(nn.create(),l,v)),nn.rotate(v,v,nn.create(),Wa/4),d.push(nn.add(nn.create(),c,v)),nn.rotate(v,v,nn.create(),Wa/4),g.push(nn.add(nn.create(),f,v))}return xD.fromPoints(u.concat(h,d,g))};var ND=BD;const $D=p2,{isGT:VD}=In,UD=e=>{const t={center:[0,0,0],radius:1,segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]};let{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!VD(r,0))throw new Error("radius must be greater than zero");return r=[r,r,r],$D({center:n,radius:r,segments:s,axes:i})};var b2=UD;const HD=v2,{isGT:zD}=In,jD=e=>{const t={center:[0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!zD(r,0))throw new Error("size must be greater than zero");return r=[r,r],HD({center:n,size:r})};var qD=jD;const{TAU:_2}=Ft,Ro=Et,XD=gt,{isGT:WD,isGTE:Ya,isNumberArray:YD}=In,ZD=(e,t)=>e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0,Jh=(e,t,n,r)=>{const s=_2/e,i=[];for(let o=0;o<e;o++){const a=Ro.fromAngleRadians(Ro.create(),s*o+n);Ro.scale(a,a,t),Ro.add(a,r,a),i.push(a)}return i},KD=e=>{const t={center:[0,0],vertices:5,outerRadius:1,innerRadius:0,density:2,startAngle:0};let{center:n,vertices:r,outerRadius:s,innerRadius:i,density:o,startAngle:a}=Object.assign({},t,e);if(!YD(n,2))throw new Error("center must be an array of X and Y values");if(!Ya(r,2))throw new Error("vertices must be two or more");if(!WD(s,0))throw new Error("outerRadius must be greater than zero");if(!Ya(i,0))throw new Error("innerRadius must be greater than zero");if(!Ya(a,0))throw new Error("startAngle must be greater than zero");if(r=Math.floor(r),o=Math.floor(o),a=a%_2,i===0){if(!Ya(o,2))throw new Error("density must be two or more");i=s*ZD(r,o)}const l=Ro.clone(n),c=Jh(r,s,a,l),f=Jh(r,i,a+Math.PI/r,l),u=[];for(let h=0;h<r;h++)u.push(c[h]),u.push(f[h]);return XD.fromPoints(u)};var QD=KD;const JD=mt,em=qt,tm=xr,nm=gt,rm=_t,sm=Ht,$l=(e,...t)=>{const n={origin:[0,0,0],normal:[0,0,1]},{origin:r,normal:s}=Object.assign({},n,e);if(t=JD(t),t.length===0)throw new Error("wrong number of arguments");const i=tm.fromNormalAndPoint(tm.create(),s,r);if(Number.isNaN(i[0]))throw new Error("the given origin and normal do not define a proper plane");const o=em.mirrorByPlane(em.create(),i),a=t.map(l=>sm.isA(l)?sm.transform(o,l):nm.isA(l)?nm.transform(o,l):rm.isA(l)?rm.transform(o,l):l);return a.length===1?a[0]:a},eF=(...e)=>$l({normal:[1,0,0]},e),tF=(...e)=>$l({normal:[0,1,0]},e),nF=(...e)=>$l({normal:[0,0,1]},e);var Mo={mirror:$l,mirrorX:eF,mirrorY:tF,mirrorZ:nF};const im=xr,$s=it,rF=e=>{const t=e.edges;if(t.length<3)throw new Error("slices must have 3 or more edges to calculate a plane");const n=t.reduce((o,a)=>$s.add($s.create(),o,a[0]),$s.create());$s.scale(n,n,1/t.length);let r,s=0;t.forEach(o=>{if(!$s.equals(o[0],o[1])){const a=$s.squaredDistance(n,o[0]);a>s&&(r=o,s=a)}});const i=t.find(o=>$s.equals(o[1],r[0]));return im.fromPoints(im.create(),i[0],r[0],r[1])};var y2=rF;const sF=e=>(e||(e=[]),{edges:e});var ei=sF;const iF=ei,om=it,oF=(...e)=>{let t,n;return e.length===1?(t=iF(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[om.clone(r[0]),om.clone(r[1])]),t};var aF=oF;const lF=it,cF=(e,t)=>{const n=e.edges,r=t.edges;return n.length!==r.length?!1:n.reduce((i,o,a)=>{const l=r[a],c=lF.squaredDistance(o[0],l[0]);return i&&c<Number.EPSILON},!0)};var fF=cF;const Za=it,uF=ei,dF=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");if(e.length<3)throw new Error("the given points must contain THREE or more points");const t=[];let n=e[e.length-1];return e.forEach(r=>{r.length===2&&t.push([Za.fromVec2(Za.create(),n),Za.fromVec2(Za.create(),r)]),r.length===3&&t.push([n,r]),n=r}),uF(t)};var hF=dF;const Ka=it,mF=ei,pF=e=>{if(!Array.isArray(e))throw new Error("the given sides must be an array");const t=[];return e.forEach(n=>{t.push([Ka.fromVec2(Ka.create(),n[0]),Ka.fromVec2(Ka.create(),n[1])])}),mF(t)};var gF=pF;const vF=e=>!!(e&&typeof e=="object"&&"edges"in e&&Array.isArray(e.edges));var bF=vF;const _F=ei,yF=(...e)=>{let t,n;return e.length===1?(t=_F(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[r[1],r[0]]),t};var AF=yF;const SF=e=>e.edges;var EF=SF;const wF=(e,t)=>{let n,r,s,i,o,a=1;do{r=e,e=null;let l=null;for(o=0;r;){o++,s=r;let c=0;for(n=0;n<a&&(c++,s=s.nextZ,!!s);n++);let f=a;for(;c>0||f>0&&s;)c!==0&&(f===0||!s||t(r)<=t(s))?(i=r,r=r.nextZ,c--):(i=s,s=s.nextZ,f--),l?l.nextZ=i:e=i,i.prevZ=l,l=i;r=s}l.nextZ=null,a*=2}while(o>1);return e};var TF=wF;const CF=TF;let A2=class{constructor(t,n,r){this.i=t,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}};const PF=(e,t,n,r)=>{const s=new A2(e,t,n);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s},LF=e=>{e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)};var S2={Node:A2,insertNode:PF,removeNode:LF,sortLinked:CF};const OF=(e,t,n,r,s,i,o,a)=>(s-o)*(t-a)-(e-o)*(i-a)>=0&&(e-o)*(r-a)-(n-o)*(t-a)>=0&&(n-o)*(i-a)-(s-o)*(r-a)>=0,RF=(e,t,n)=>(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);var dd={area:RF,pointInTriangle:OF};const{Node:am,insertNode:lm,removeNode:Sl}=S2,{area:sr}=dd,MF=(e,t,n,r,s)=>{let i;if(s===GF(e,t,n,r)>0)for(let o=t;o<n;o+=r)i=lm(o,e[o],e[o+1],i);else for(let o=n-r;o>=t;o-=r)i=lm(o,e[o],e[o+1],i);return i&&Vl(i,i.next)&&(Sl(i),i=i.next),i},E2=(e,t)=>{if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&(Vl(n,n.next)||sr(n.prev,n,n.next)===0)){if(Sl(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t},IF=(e,t,n)=>{let r=e;do{const s=r.prev,i=r.next.next;!Vl(s,i)&&w2(s,r,r.next,i)&&Vo(s,i)&&Vo(i,s)&&(t.push(s.i/n),t.push(r.i/n),t.push(i.i/n),Sl(r),Sl(r.next),r=e=i),r=r.next}while(r!==e);return E2(r)},DF=(e,t)=>{let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&w2(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1},Vo=(e,t)=>sr(e.prev,e,e.next)<0?sr(e,t,e.next)>=0&&sr(e,e.prev,t)>=0:sr(e,t,e.prev)<0||sr(e,e.next,t)<0,FF=(e,t)=>{let n=e,r=!1;const s=(e.x+t.x)/2,i=(e.y+t.y)/2;do n.y>i!=n.next.y>i&&n.next.y!==n.y&&s<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r},xF=(e,t)=>{const n=new am(e.i,e.x,e.y),r=new am(t.i,t.x,t.y),s=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=s,s.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r},kF=(e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!DF(e,t)&&(Vo(e,t)&&Vo(t,e)&&FF(e,t)&&(sr(e.prev,e,t.prev)||sr(e,t.prev,t))||Vl(e,t)&&sr(e.prev,e,e.next)>0&&sr(t.prev,t,t.next)>0),w2=(e,t,n,r)=>{const s=Math.sign(sr(e,t,n)),i=Math.sign(sr(e,t,r)),o=Math.sign(sr(n,r,e)),a=Math.sign(sr(n,r,t));return!!(s!==i&&o!==a||s===0&&Qa(e,n,t)||i===0&&Qa(e,r,t)||o===0&&Qa(n,e,r)||a===0&&Qa(n,t,r))},Qa=(e,t,n)=>t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y),GF=(e,t,n,r)=>{let s=0;for(let i=t,o=n-r;i<n;i+=r)s+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return s},Vl=(e,t)=>e.x===t.x&&e.y===t.y;var T2={cureLocalIntersections:IF,filterPoints:E2,isValidDiagonal:kF,linkedPolygon:MF,locallyInside:Vo,splitPolygon:xF};const{filterPoints:Nu,linkedPolygon:BF,locallyInside:NF,splitPolygon:$F}=T2,{area:cm,pointInTriangle:VF}=dd,UF=(e,t,n,r)=>{const s=[];for(let i=0,o=t.length;i<o;i++){const a=t[i]*r,l=i<o-1?t[i+1]*r:e.length,c=BF(e,a,l,r,!1);c===c.next&&(c.steiner=!0),s.push(qF(c))}s.sort((i,o)=>i.x-o.x);for(let i=0;i<s.length;i++)n=HF(s[i],n),n=Nu(n,n.next);return n},HF=(e,t)=>{const n=zF(e,t);if(!n)return t;const r=$F(n,e),s=Nu(n,n.next);return Nu(r,r.next),t===n?s:t},zF=(e,t)=>{let n=t;const r=e.x,s=e.y;let i=-1/0,o;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const u=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>i){if(i=u,u===r){if(s===n.y)return n;if(s===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===i)return o;const a=o,l=o.x,c=o.y;let f=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&VF(s<c?r:i,s,l,c,s<c?i:r,s,n.x,n.y)){const u=Math.abs(s-n.y)/(r-n.x);NF(n,e)&&(u<f||u===f&&(n.x>o.x||n.x===o.x&&jF(o,n)))&&(o=n,f=u)}n=n.next}while(n!==a);return o},jF=(e,t)=>cm(e.prev,e,t.prev)<0&&cm(t.next,e,e.next)<0,qF=e=>{let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n};var XF=UF;const WF=XF,{removeNode:YF,sortLinked:ZF}=S2,{cureLocalIntersections:KF,filterPoints:El,isValidDiagonal:QF,linkedPolygon:JF,splitPolygon:e7}=T2,{area:js,pointInTriangle:Io}=dd,t7=(e,t,n=2)=>{const r=t&&t.length,s=r?t[0]*n:e.length;let i=JF(e,0,s,n,!0);const o=[];if(!i||i.next===i.prev)return o;let a,l,c,f,u;if(r&&(i=WF(e,t,i,n)),e.length>80*n){a=c=e[0],l=f=e[1];for(let h=n;h<s;h+=n){const d=e[h],g=e[h+1];d<a&&(a=d),g<l&&(l=g),d>c&&(c=d),g>f&&(f=g)}u=Math.max(c-a,f-l),u=u!==0?1/u:0}return Uo(i,o,n,a,l,u),o},Uo=(e,t,n,r,s,i,o)=>{if(!e)return;!o&&i&&i7(e,r,s,i);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,i?r7(e,r,s,i):n7(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),YF(e),e=c.next,a=c.next;continue}if(e=c,e===a){o?o===1?(e=KF(El(e),t,n),Uo(e,t,n,r,s,i,2)):o===2&&s7(e,t,n,r,s,i):Uo(El(e),t,n,r,s,i,1);break}}},n7=e=>{const t=e.prev,n=e,r=e.next;if(js(t,n,r)>=0)return!1;let s=e.next.next;for(;s!==e.prev;){if(Io(t.x,t.y,n.x,n.y,r.x,r.y,s.x,s.y)&&js(s.prev,s,s.next)>=0)return!1;s=s.next}return!0},r7=(e,t,n,r)=>{const s=e.prev,i=e,o=e.next;if(js(s,i,o)>=0)return!1;const a=s.x<i.x?s.x<o.x?s.x:o.x:i.x<o.x?i.x:o.x,l=s.y<i.y?s.y<o.y?s.y:o.y:i.y<o.y?i.y:o.y,c=s.x>i.x?s.x>o.x?s.x:o.x:i.x>o.x?i.x:o.x,f=s.y>i.y?s.y>o.y?s.y:o.y:i.y>o.y?i.y:o.y,u=$u(a,l,t,n,r),h=$u(c,f,t,n,r);let d=e.prevZ,g=e.nextZ;for(;d&&d.z>=u&&g&&g.z<=h;){if(d!==e.prev&&d!==e.next&&Io(s.x,s.y,i.x,i.y,o.x,o.y,d.x,d.y)&&js(d.prev,d,d.next)>=0||(d=d.prevZ,g!==e.prev&&g!==e.next&&Io(s.x,s.y,i.x,i.y,o.x,o.y,g.x,g.y)&&js(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;d&&d.z>=u;){if(d!==e.prev&&d!==e.next&&Io(s.x,s.y,i.x,i.y,o.x,o.y,d.x,d.y)&&js(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;g&&g.z<=h;){if(g!==e.prev&&g!==e.next&&Io(s.x,s.y,i.x,i.y,o.x,o.y,g.x,g.y)&&js(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0},s7=(e,t,n,r,s,i)=>{let o=e;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&QF(o,a)){let l=e7(o,a);o=El(o,o.next),l=El(l,l.next),Uo(o,t,n,r,s,i),Uo(l,t,n,r,s,i);return}a=a.next}o=o.next}while(o!==e)},i7=(e,t,n,r)=>{let s=e;do s.z===null&&(s.z=$u(s.x,s.y,t,n,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,ZF(s,i=>i.z)},$u=(e,t,n,r,s)=>(e=32767*(e-n)*s,t=32767*(t-r)*s,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1);var o7=t7;const{area:a7}=Xo,{toOutlines:l7}=gt,{arePointsInside:c7}=sd,f7=e=>{const t=l7(e),n=[],r=[];t.forEach((o,a)=>{const l=a7(o);l<0?r.push(a):l>0&&n.push(a)});const s=[],i=[];return n.forEach((o,a)=>{const l=t[o];s[a]=[],r.forEach((c,f)=>{const u=t[c];c7([u[0]],{vertices:l})&&(s[a].push(c),i[f]||(i[f]=[]),i[f].push(a))})}),r.forEach((o,a)=>{if(i[a]&&i[a].length>1){const l=u7(i[a],c=>s[c].length);i[a].forEach((c,f)=>{f!==l&&(s[c]=s[c].filter(u=>u!==o))})}}),s.map((o,a)=>({solid:t[n[a]],holes:o.map(l=>t[l])}))},u7=(e,t)=>{let n,r;return e.forEach((s,i)=>{const o=t(s);(r===void 0||o<r)&&(n=i,r=o)}),n};var d7=f7;const h7=gt,fm=xr,m7=Et,Un=it,p7=y2,g7=d7;let v7=class{constructor(t){this.plane=p7(t);const n=Un.orthogonal(Un.create(),this.plane),r=Un.cross(Un.create(),this.plane,n);this.v=Un.normalize(r,r),this.u=Un.cross(Un.create(),this.v,this.plane),this.basisMap=new Map;const s=t.edges.map(o=>o.map(a=>this.to2D(a))),i=h7.create(s);this.roots=g7(i)}to2D(t){const n=m7.fromValues(Un.dot(t,this.u),Un.dot(t,this.v));return this.basisMap.set(n,t),n}to3D(t){const n=this.basisMap.get(t);if(n)return n;{console.log("Warning: point not in original slice");const r=Un.scale(Un.create(),this.u,t[0]),s=Un.scale(Un.create(),this.v,t[1]),i=Un.scale(Un.create(),fm,fm[3]),o=Un.add(r,r,i);return Un.add(s,s,o)}}};var b7=v7;const _7=Mt,y7=o7,A7=b7,S7=e=>{const t=new A7(e),n=[];return t.roots.forEach(({solid:r,holes:s})=>{let i=r.length;const o=[];s.forEach((u,h)=>{o.push(i),i+=u.length});const a=[r,...s].flat(),l=a.flat(),c=u=>t.to3D(a[u]),f=y7(l,o);for(let u=0;u<f.length;u+=3){const h=f.slice(u,u+3).map(c);n.push(_7.fromPointsAndPlane(h,t.plane))}}),n};var E7=S7;const um=it,w7=e=>e.reduce((t,n)=>t+=`[${um.toString(n[0])}, ${um.toString(n[1])}], `,""),T7=e=>`[${w7(e.edges)}]`;var C7=T7;const Ja=it,P7=ei,L7=(e,t)=>{const n=t.edges.map(r=>[Ja.transform(Ja.create(),r[0],e),Ja.transform(Ja.create(),r[1],e)]);return P7(n)};var O7=L7,qi={calculatePlane:y2,clone:aF,create:ei,equals:fF,fromPoints:hF,fromSides:gF,isA:bF,reverse:AF,toEdges:EF,toPolygons:E7,toString:C7,transform:O7};const dm=it,R7=ei,M7=e=>{if(!e.edges)return e;let t=e.edges;const n=new Map,r=new Map;t=t.filter(o=>!dm.equals(o[0],o[1])),t.forEach(o=>{const a=o[0].toString(),l=o[1].toString();n.set(a,o[0]),n.set(l,o[1]),r.set(a,(r.get(a)||0)+1),r.set(l,(r.get(l)||0)-1)});const s=[],i=[];return r.forEach((o,a)=>{o<0&&s.push(a),o>0&&i.push(a)}),s.forEach(o=>{const a=n.get(o);let l=1/0,c;i.forEach(f=>{const u=n.get(f),h=dm.distance(a,u);h<l&&(l=h,c=u)}),console.warn(`slice.repair: repairing vertex gap ${a} to ${c} distance ${l}`),t=t.map(f=>f[0].toString()===o?[c,f[1]]:f[1].toString()===o?[f[0],c]:f)}),R7(t)};var I7=M7;const{EPS:hm}=Ft,Ti=it,el=Mt,mm=qi,Vu=(e,t)=>e===t?e:e<t?Vu(t,e):t===1?1:t===0?e:Vu(t,e%t),D7=(e,t)=>e*t/Vu(e,t),pm=(e,t)=>{const n=e/t.length;if(n===1)return t;const r=Ti.fromValues(n,n,n),s=[];return t.forEach(i=>{const o=Ti.subtract(Ti.create(),i[1],i[0]);Ti.divide(o,o,r);let a=i[0];for(let l=1;l<=n;++l){const c=Ti.add(Ti.create(),a,o);s.push([a,c]),a=c}}),s},gm=hm*hm/2*Math.sin(Math.PI/3),F7=(e,t)=>{let n=mm.toEdges(e),r=mm.toEdges(t);if(n.length!==r.length){const i=D7(n.length,r.length);i!==n.length&&(n=pm(i,n)),i!==r.length&&(r=pm(i,r))}const s=[];return n.forEach((i,o)=>{const a=r[o],l=el.create([i[0],i[1],a[1]]),c=el.measureArea(l);Number.isFinite(c)&&c>gm&&s.push(l);const f=el.create([i[0],a[1],a[0]]),u=el.measureArea(f);Number.isFinite(u)&&u>gm&&s.push(f)}),s};var x7=F7;const vm=qt,bm=gt,k7=_t,Uu=Mt,vs=qi,G7=I7,_m=x7,B7=(e,t,n)=>{let r=null;return bm.isA(n)&&(r=vs.fromSides(bm.toSides(n))),Uu.isA(n)&&(r=vs.fromPoints(Uu.toPoints(n))),e===0||e===1?vs.transform(vm.fromTranslation(vm.create(),[0,0,e]),r):null},N7=(e,t)=>{const n={numberOfSlices:2,capStart:!0,capEnd:!0,close:!1,repair:!0,callback:B7},{numberOfSlices:r,capStart:s,capEnd:i,close:o,repair:a,callback:l}=Object.assign({},n,e);if(r<2)throw new Error("numberOfSlices must be 2 or more");a&&(t=G7(t));const c=r-1;let f=null,u=null,h=null,d=[];for(let g=0;g<r;g++){const p=l(g/c,g,t);if(p){if(!vs.isA(p))throw new Error("the callback function must return slice objects");if(vs.toEdges(p).length===0)throw new Error("the callback function must return slices with one or more edges");h&&(d=d.concat(_m(h,p))),g===0&&(f=p),g===r-1&&(u=p),h=p}}if(i){const g=vs.toPolygons(u);d=d.concat(g)}if(s){const g=vs.toPolygons(f).map(Uu.invert);d=d.concat(g)}return!s&&!i&&o&&!vs.equals(u,f)&&(d=d.concat(_m(u,f))),k7.create(d)};var Ul=N7;const{TAU:fr}=Ft,So=qt,{mirrorX:$7}=Mo,Eo=gt,su=qi,V7=Ul,U7=(e,t)=>{const n={segments:12,startAngle:0,angle:fr,overflow:"cap"};let{segments:r,startAngle:s,angle:i,overflow:o}=Object.assign({},n,e);if(r<3)throw new Error("segments must be greater then 3");s=Math.abs(s)>fr?s%fr:s,i=Math.abs(i)>fr?i%fr:i;let a=s+i;if(a=Math.abs(a)>fr?a%fr:a,a<s){const b=s;s=a,a=b}let l=a-s;if(l<=0&&(l=fr),Math.abs(l)<fr){const b=fr/r;r=Math.floor(Math.abs(l)/b),Math.abs(l)>r*b&&r++}let c=Eo.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(b=>b[0][0]<0),u=c.filter(b=>b[0][0]>=0);f.length>0&&u.length>0&&o==="cap"&&(f.length>u.length?(c=c.map(b=>{let y=b[0],S=b[1];return y=[Math.min(y[0],0),y[1]],S=[Math.min(S[0],0),S[1]],[y,S]}),t=Eo.reverse(Eo.create(c)),t=$7(t)):u.length>=f.length&&(c=c.map(b=>{let y=b[0],S=b[1];return y=[Math.max(y[0],0),y[1]],S=[Math.max(S[0],0),S[1]],[y,S]}),t=Eo.create(c)));const d=l/r,g=Math.abs(l)<fr,p=su.fromSides(Eo.toSides(t));su.reverse(p,p);const m=So.create(),v=(b,y,S)=>{let w=d*y+s;return l===fr&&y===r&&(w=s),So.multiply(m,So.fromZRotation(m,w),So.fromXRotation(So.create(),fr/4)),su.transform(m,S)};return e={numberOfSlices:r+1,capStart:g,capEnd:g,close:!g,callback:v},V7(e,p)};var C2=U7;const H7=mt,ym=qt,Am=gt,Sm=_t,Em=Ht,Hl=(e,...t)=>{if(!Array.isArray(e))throw new Error("angles must be an array");if(t=H7(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=e[2],r=e[1],s=e[0],i=ym.fromTaitBryanRotation(ym.create(),n,r,s),o=t.map(a=>Em.isA(a)?Em.transform(i,a):Am.isA(a)?Am.transform(i,a):Sm.isA(a)?Sm.transform(i,a):a);return o.length===1?o[0]:o},z7=(e,...t)=>Hl([e,0,0],t),j7=(e,...t)=>Hl([0,e,0],t),q7=(e,...t)=>Hl([0,0,e],t);var Do={rotate:Hl,rotateX:z7,rotateY:j7,rotateZ:q7};const X7=mt,wm=qt,Tm=gt,Cm=_t,Pm=Ht,zl=(e,...t)=>{if(!Array.isArray(e))throw new Error("offset must be an array");if(t=X7(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=wm.fromTranslation(wm.create(),e),r=t.map(s=>Pm.isA(s)?Pm.transform(n,s):Tm.isA(s)?Tm.transform(n,s):Cm.isA(s)?Cm.transform(n,s):s);return r.length===1?r[0]:r},W7=(e,...t)=>zl([e,0,0],t),Y7=(e,...t)=>zl([0,e,0],t),Z7=(e,...t)=>zl([0,0,e],t);var Ws={translate:zl,translateX:W7,translateY:Y7,translateZ:Z7};const{TAU:K7}=Ft,Q7=C2,{rotate:J7}=Do,{translate:ex}=Ws,tx=d2,{isGT:iu,isGTE:ou}=In,nx=e=>{const t={innerRadius:1,innerSegments:32,outerRadius:4,outerSegments:32,innerRotation:0,startAngle:0,outerRotation:K7},{innerRadius:n,innerSegments:r,outerRadius:s,outerSegments:i,innerRotation:o,startAngle:a,outerRotation:l}=Object.assign({},t,e);if(!iu(n,0))throw new Error("innerRadius must be greater than zero");if(!ou(r,3))throw new Error("innerSegments must be three or more");if(!iu(s,0))throw new Error("outerRadius must be greater than zero");if(!ou(i,3))throw new Error("outerSegments must be three or more");if(!ou(a,0))throw new Error("startAngle must be positive");if(!iu(l,0))throw new Error("outerRotation must be greater than zero");if(n>=s)throw new Error("inner circle is two large to rotate about the outer circle");let c=tx({radius:n,segments:r});return o!==0&&(c=J7([0,0,o],c)),c=ex([s,0],c),Q7({startAngle:a,angle:l,segments:i},c)};var rx=nx;const{NEPS:Vi}=Ft,wo=Et,sx=gt,{isNumberArray:ix}=In,Hu=(e,t,n)=>Math.acos((e*e+t*t-n*n)/(2*e*t)),ox=(e,t,n)=>t>Vi?Math.sqrt(e*e+n*n-2*e*n*Math.cos(t)):Math.sqrt((e-n)*(e-n)+e*n*t*t*(1-t*t/12)),ax=e=>{if(Math.abs(e[0]+e[1]+e[2]-Math.PI)>Vi)throw new Error("AAA triangles require angles that sum to PI");const n=e[0],r=e[1],s=Math.PI-n-r,i=1,o=i/Math.sin(s)*Math.sin(n),a=i/Math.sin(s)*Math.sin(r);return Xi(n,r,s,o,a,i)},lx=e=>{const t=e[0],n=e[1],r=Math.PI+Vi-t-n;if(r<Vi)throw new Error("AAS triangles require angles that sum to PI");const s=e[2],i=s/Math.sin(t)*Math.sin(n),o=s/Math.sin(t)*Math.sin(r);return Xi(t,n,r,s,i,o)},cx=e=>{const t=e[0],n=e[2],r=Math.PI+Vi-t-n;if(r<Vi)throw new Error("ASA triangles require angles that sum to PI");const s=e[1],i=s/Math.sin(r)*Math.sin(t),o=s/Math.sin(r)*Math.sin(n);return Xi(t,n,r,i,o,s)},fx=e=>{const t=e[0],n=e[1],r=e[2],s=ox(t,n,r),i=Hu(s,t,r),o=Math.PI-i-n;return Xi(i,n,o,r,s,t)},ux=e=>{const t=e[0],n=e[1],r=e[2],s=Math.asin(n*Math.sin(r)/t),i=Math.PI-s-r,o=t/Math.sin(r)*Math.sin(i);return Xi(s,i,r,n,o,t)},dx=e=>{const t=e[1],n=e[2],r=e[0];if(t+n<=r||n+r<=t||r+t<=n)throw new Error("SSS triangle is incorrect, as the longest side is longer than the sum of the other sides");const s=Hu(n,r,t),i=Hu(r,t,n),o=Math.PI-s-i;return Xi(s,i,o,t,n,r)},Xi=(e,t,n,r,s,i)=>{const o=wo.fromValues(0,0),a=wo.fromValues(i,0),l=wo.fromValues(r,0);return wo.add(l,wo.rotate(l,l,[0,0],Math.PI-t),a),sx.fromPoints([o,a,l])},hx=e=>{const t={type:"SSS",values:[1,1,1]};let{type:n,values:r}=Object.assign({},t,e);if(typeof n!="string")throw new Error("triangle type must be a string");if(n=n.toUpperCase(),!((n[0]==="A"||n[0]==="S")&&(n[1]==="A"||n[1]==="S")&&(n[2]==="A"||n[2]==="S")))throw new Error("triangle type must contain three letters; A or S");if(!ix(r,3))throw new Error("triangle values must contain three values");if(!r.every(s=>s>0))throw new Error("triangle values must be greater than zero");switch(n){case"AAA":return ax(r);case"AAS":return lx(r);case"ASA":return cx(r);case"SAS":return fx(r);case"SSA":return ux(r);case"SSS":return dx(r);default:throw new Error("invalid triangle type, try again")}};var mx=hx,P2={arc:RI,circle:d2,cube:jI,cuboid:h2,cylinder:tD,cylinderElliptic:m2,ellipse:u2,ellipsoid:p2,geodesicSphere:hD,line:gD,polygon:bD,polyhedron:g2,rectangle:v2,roundedCuboid:LD,roundedCylinder:FD,roundedRectangle:ND,sphere:b2,square:qD,star:QD,torus:rx,triangle:mx},px={height:14,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]};const gx=px,vx={xOffset:0,yOffset:0,input:"?",align:"left",font:gx,height:14,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0},bx=(e,t)=>{!t&&typeof e=="string"&&(e={input:e}),e=e||{};const n=Object.assign({},vx,e);return n.input=t||n.input,n};var L2=bx;const _x=L2,yx=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,extrudeOffset:a}=_x(e,t);let l=s.charCodeAt(0);(!l||!i[l])&&(l=63);const c=[].concat(i[l]),f=(o-a)/i.height,u=a/2,h=c.shift()*f,d=[];let g=[];for(let p=0,m=c.length;p<m;p+=2){const v=f*c[p]+n,b=f*c[p+1]+r+u;if(c[p]!==void 0){g.push([v,b]);continue}d.push(g),g=[],p--}return g.length&&d.push(g),{width:h,height:o,segments:d}};var O2=yx;const Ax=O2,Sx=L2,Lm=(e,t)=>{const{x:n,y:r}=Object.assign({x:0,y:0},e||{}),s=t.segments;let i=null,o=null;for(let a=0,l=s.length;a<l;a++){i=s[a];for(let c=0,f=i.length;c<f;c++)o=i[c],i[c]=[o[0]+n,o[1]+r]}return t},Ex=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,align:a,extrudeOffset:l,lineSpacing:c,letterSpacing:f}=Sx(e,t);let[u,h]=[n,r],d,g,p,m,v,b,y={width:0,segments:[]};const S=[];let w=[],E=0;const A=u,O=()=>{S.push(y),E=Math.max(E,y.width),y={width:0,segments:[]}};for(d=0,g=s.length;d<g;d++){if(p=s[d],m=Ax({xOffset:u,yOffset:h,font:i,height:o,extrudeOffset:l},p),p===`
`){u=A,h-=m.height*c,O();continue}v=m.width*f,y.width+=v,u+=v,p!==" "&&(y.segments=y.segments.concat(m.segments))}for(y.segments.length&&O(),d=0,g=S.length;d<g;d++)y=S[d],E>y.width&&(b=E-y.width,a==="right"?y=Lm({x:b},y):a==="center"&&(y=Lm({x:b/2},y))),w=w.concat(y.segments);return w};var wx=Ex,Tx={vectorChar:O2,vectorText:wx};const Cx=gt,Px=_t,Lx=Ht,Ox=e=>{let t;for(const n of e){let r=0;if(Cx.isA(n)&&(r=1),Px.isA(n)&&(r=2),Lx.isA(n)&&(r=3),t&&r!==t)return!1;t=r}return!0};var Yo=Ox;const Rx=e=>e*.017453292519943295;var Mx=Rx;const Ix=(e,t)=>e-t;var R2=Ix;const Dx=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}e.splice(r,0,t)};var Fx=Dx;const{TAU:Om}=Ft,xx=(e,t,n)=>{const r=t>0?e*Om/t:0,s=n>0?Om/n:0;return Math.ceil(Math.max(r,s,4))};var kx=xx;const Gx=e=>e*57.29577951308232;var Bx=Gx,M2={areAllShapesTheSameType:Yo,degToRad:Mx,flatten:mt,fnNumberSort:R2,insertSorted:Fx,radiusToSegments:kx,radToDeg:Bx};const Rm=Et,Nx=gt,$x=(e,t)=>{if(t.vertices.length<4)return null;const n=[],r=t.vertices.filter((o,a)=>o[2]>0?(n.push(a),!0):!1);if(r.length!==2)throw new Error("Assertion failed: fromFakePolygon: not enough points found");const s=r.map(o=>{const a=Math.round(o[0]/e)*e+0,l=Math.round(o[1]/e)*e+0;return Rm.fromValues(a,l)});if(Rm.equals(s[0],s[1]))return null;const i=n[1]-n[0];if(i===1||i===3)i===1&&s.reverse();else throw new Error("Assertion failed: fromFakePolygon: unknown index ordering");return s},Vx=(e,t)=>{const n=t.map(r=>$x(e,r)).filter(r=>r!==null);return Nx.create(n)};var hd=Vx;const ms=it,Ux=gt,Hx=_t,zx=Mt,jx=(e,t,n)=>{const r=[ms.fromVec2(ms.create(),n[0],e),ms.fromVec2(ms.create(),n[1],e),ms.fromVec2(ms.create(),n[1],t),ms.fromVec2(ms.create(),n[0],t)];return zx.create(r)},qx=(e,t)=>{const r=Ux.toSides(t).map(i=>jx(e.z0,e.z1,i));return Hx.create(r)};var md=qx;const Mm=qt,Xx=Et,Pn=it,Ks=function(e,t){arguments.length<2&&(t=Pn.orthogonal(Pn.create(),e)),this.v=Pn.normalize(Pn.create(),Pn.cross(Pn.create(),e,t)),this.u=Pn.cross(Pn.create(),this.v,e),this.plane=e,this.planeorigin=Pn.scale(Pn.create(),e,e[3])};Ks.GetCartesian=function(e,t){const n=e+"/"+t;let r,s;if(n==="X/Y")r=[0,0,1],s=[1,0,0];else if(n==="Y/-X")r=[0,0,1],s=[0,1,0];else if(n==="-X/-Y")r=[0,0,1],s=[-1,0,0];else if(n==="-Y/X")r=[0,0,1],s=[0,-1,0];else if(n==="-X/Y")r=[0,0,-1],s=[-1,0,0];else if(n==="-Y/-X")r=[0,0,-1],s=[0,-1,0];else if(n==="X/-Y")r=[0,0,-1],s=[1,0,0];else if(n==="Y/X")r=[0,0,-1],s=[0,1,0];else if(n==="X/Z")r=[0,-1,0],s=[1,0,0];else if(n==="Z/-X")r=[0,-1,0],s=[0,0,1];else if(n==="-X/-Z")r=[0,-1,0],s=[-1,0,0];else if(n==="-Z/X")r=[0,-1,0],s=[0,0,-1];else if(n==="-X/Z")r=[0,1,0],s=[-1,0,0];else if(n==="-Z/-X")r=[0,1,0],s=[0,0,-1];else if(n==="X/-Z")r=[0,1,0],s=[1,0,0];else if(n==="Z/X")r=[0,1,0],s=[0,0,1];else if(n==="Y/Z")r=[1,0,0],s=[0,1,0];else if(n==="Z/-Y")r=[1,0,0],s=[0,0,1];else if(n==="-Y/-Z")r=[1,0,0],s=[0,-1,0];else if(n==="-Z/Y")r=[1,0,0],s=[0,0,-1];else if(n==="-Y/Z")r=[-1,0,0],s=[0,-1,0];else if(n==="-Z/-Y")r=[-1,0,0],s=[0,0,-1];else if(n==="Y/-Z")r=[-1,0,0],s=[0,1,0];else if(n==="Z/Y")r=[-1,0,0],s=[0,0,1];else throw new Error("OrthoNormalBasis.GetCartesian: invalid combination of axis identifiers. Should pass two string arguments from [X,Y,Z,-X,-Y,-Z], being two different axes.");return new Ks(new Plane(new Vector3D(r),0),new Vector3D(s))};Ks.Z0Plane=function(){const e=new Plane(new Vector3D([0,0,1]),0);return new Ks(e,new Vector3D([1,0,0]))};Ks.prototype={getProjectionMatrix:function(){return Mm.fromValues(this.u[0],this.v[0],this.plane[0],0,this.u[1],this.v[1],this.plane[1],0,this.u[2],this.v[2],this.plane[2],0,0,0,-this.plane[3],1)},getInverseProjectionMatrix:function(){const e=Pn.scale(Pn.create(),this.plane,this.plane[3]);return Mm.fromValues(this.u[0],this.u[1],this.u[2],0,this.v[0],this.v[1],this.v[2],0,this.plane[0],this.plane[1],this.plane[2],0,e[0],e[1],e[2],1)},to2D:function(e){return Xx.fromValues(Pn.dot(e,this.u),Pn.dot(e,this.v))},to3D:function(e){const t=Pn.scale(Pn.create(),this.u,e[0]),n=Pn.scale(Pn.create(),this.v,e[1]),r=Pn.add(t,t,this.planeorigin);return Pn.add(n,n,r)},line3Dto2D:function(e){const t=e.point,n=e.direction.plus(t),r=this.to2D(t),s=this.to2D(n);return Line2D.fromPoints(r,s)},line2Dto3D:function(e){const t=e.origin(),n=e.direction().plus(t),r=this.to3D(t),s=this.to3D(n);return Line3D.fromPoints(r,s)},transform:function(e){const t=this.plane.transform(e),n=this.u.transform(e),r=new Vector3D(0,0,0).transform(e),s=n.minus(r);return new Ks(t,s)}};var Wx=Ks;const{EPS:Ur}=Ft,ps=ld,Ar=Et,Yx=Wx,Ci=qv,{insertSorted:Zx,fnNumberSort:Kx}=M2,Im=Mt,Qx=e=>{if(e.length<2)return e;const t=[],n=e.length,r=Im.plane(e[0]),s=new Yx(r),i=[],o=[],a=new Map,l=new Map,c=new Map,f=10/Ur;for(let g=0;g<n;g++){const p=e[g];let m=[],v=p.vertices.length,b=-1;if(v>0){let y,S;for(let w=0;w<v;w++){let E=s.to2D(p.vertices[w]);const A=Math.floor(E[1]*f);let O;c.has(A)?O=c.get(A):c.has(A+1)?O=c.get(A+1):c.has(A-1)?O=c.get(A-1):(O=E[1],c.set(A,E[1])),E=Ar.fromValues(E[0],O),m.push(E);const U=E[1];(w===0||U<y)&&(y=U,b=w),(w===0||U>S)&&(S=U);let N=l.get(U);N||(N={},l.set(U,N)),N[g]=!0}if(y>=S)m=[],v=0,b=-1;else{let w=a.get(y);w||(w=[],a.set(y,w)),w.push(g)}}m.reverse(),b=v-b-1,i.push(m),o.push(b)}const u=[];l.forEach((g,p)=>u.push(p)),u.sort(Kx);let h=[],d=[];for(let g=0;g<u.length;g++){const p=[],m=u[g],v=l.get(m);for(let y=0;y<h.length;++y){const S=h[y],w=S.polygonindex;if(v[w]){const E=i[w],A=E.length;let O=S.leftvertexindex,U=S.rightvertexindex;for(;;){let x=O+1;if(x>=A&&(x=0),E[x][1]!==m)break;O=x}let N=U-1;if(N<0&&(N=A-1),E[N][1]===m&&(U=N),O!==S.leftvertexindex&&O===U)h.splice(y,1),--y;else{S.leftvertexindex=O,S.rightvertexindex=U,S.topleft=E[O],S.topright=E[U];let x=O+1;x>=A&&(x=0),S.bottomleft=E[x];let le=U-1;le<0&&(le=A-1),S.bottomright=E[le]}}}let b;if(g>=u.length-1)h=[],b=null;else{b=Number(u[g+1]);const y=.5*(m+b),S=a.get(m);for(const w in S){const E=S[w],A=i[E],O=A.length,U=o[E];let N=U;for(;;){let Be=N+1;if(Be>=O&&(Be=0),A[Be][1]!==m||Be===U)break;N=Be}let x=U;for(;;){let Be=x-1;if(Be<0&&(Be=O-1),A[Be][1]!==m||Be===N)break;x=Be}let le=N+1;le>=O&&(le=0);let $=x-1;$<0&&($=O-1);const W={polygonindex:E,leftvertexindex:N,rightvertexindex:x,topleft:A[N],topright:A[x],bottomleft:A[le],bottomright:A[$]};Zx(h,W,(Be,ne)=>{const H=Ci(Be.topleft,Be.bottomleft,y),he=Ci(ne.topleft,ne.bottomleft,y);return H>he?1:H<he?-1:0})}}for(const y in h){const S=h[y];let w=Ci(S.topleft,S.bottomleft,m);const E=Ar.fromValues(w,m);w=Ci(S.topright,S.bottomright,m);const A=Ar.fromValues(w,m);w=Ci(S.topleft,S.bottomleft,b);const O=Ar.fromValues(w,b);w=Ci(S.topright,S.bottomright,b);const U=Ar.fromValues(w,b),N={topleft:E,topright:A,bottomleft:O,bottomright:U,leftline:ps.fromPoints(ps.create(),E,O),rightline:ps.fromPoints(ps.create(),U,A)};if(p.length>0){const x=p[p.length-1],le=Ar.distance(N.topleft,x.topright),$=Ar.distance(N.bottomleft,x.bottomright);le<Ur&&$<Ur&&(N.topleft=x.topleft,N.leftline=x.leftline,N.bottomleft=x.bottomleft,p.splice(p.length-1,1))}p.push(N)}if(g>0){const y=new Set,S=new Set;for(let w=0;w<p.length;w++){const E=p[w];for(let A=0;A<d.length;A++)if(!S.has(A)){const O=d[A];if(Ar.distance(O.bottomleft,E.topleft)<Ur&&Ar.distance(O.bottomright,E.topright)<Ur){S.add(A);const U=ps.direction(E.leftline),N=ps.direction(O.leftline),x=U[0]-N[0],le=ps.direction(E.rightline),$=ps.direction(O.rightline),W=le[0]-$[0],Be=Math.abs(x)<Ur,ne=Math.abs(W)<Ur,H=Be||x>=0,he=ne||W>=0;H&&he&&(E.outpolygon=O.outpolygon,E.leftlinecontinues=Be,E.rightlinecontinues=ne,y.add(A));break}}}for(let w=0;w<d.length;w++)if(!y.has(w)){const E=d[w];E.outpolygon.rightpoints.push(E.bottomright),Ar.distance(E.bottomright,E.bottomleft)>Ur&&E.outpolygon.leftpoints.push(E.bottomleft),E.outpolygon.leftpoints.reverse();const O=E.outpolygon.rightpoints.concat(E.outpolygon.leftpoints).map(N=>s.to3D(N)),U=Im.fromPointsAndPlane(O,r);U.vertices.length&&t.push(U)}}for(let y=0;y<p.length;y++){const S=p[y];S.outpolygon?(S.leftlinecontinues||S.outpolygon.leftpoints.push(S.topleft),S.rightlinecontinues||S.outpolygon.rightpoints.push(S.topright)):(S.outpolygon={leftpoints:[],rightpoints:[]},S.outpolygon.leftpoints.push(S.topleft),Ar.distance(S.topleft,S.topright)>Ur&&S.outpolygon.rightpoints.push(S.topright))}d=p}return t};var Jx=Qx;const Dm=_t,Fm=Mt,ek=Nl,tk=Jx,nk=(e,t)=>Math.abs(e[3]-t[3])<15e-8?ek(e,t):!1,rk=e=>{if(e.isRetesselated)return e;const t=Dm.toPolygons(e),n=[];t.forEach(i=>{const o=n.find(a=>nk(a[0],Fm.plane(i)));o?o[1].push(i):n.push([Fm.plane(i),[i]])});let r=[];n.forEach(i=>{const o=i[1],a=tk(o);r=r.concat(a)});const s=Dm.create(r);return s.isRetesselated=!0,s};var jl=rk;const{EPS:Pi}=Ft,xm=Js,sk=(e,t)=>{if(e.polygons.length===0||t.polygons.length===0)return!1;const n=xm(e),r=n[0],s=n[1],i=xm(t),o=i[0],a=i[1];return!(o[0]-s[0]>Pi||r[0]-a[0]>Pi||o[1]-s[1]>Pi||r[1]-a[1]>Pi||o[2]-s[2]>Pi||r[2]-a[2]>Pi)};var pd=sk;const km=xr,ik=Mt;let ok=class zu{constructor(t){this.plane=null,this.front=null,this.back=null,this.polygontreenodes=[],this.parent=t}invert(){const t=[this];let n;for(let r=0;r<t.length;r++){n=t[r],n.plane&&(n.plane=km.flip(km.create(),n.plane)),n.front&&t.push(n.front),n.back&&t.push(n.back);const s=n.front;n.front=n.back,n.back=s}}clipPolygons(t,n){let r={node:this,polygontreenodes:t},s;const i=[];do{if(s=r.node,t=r.polygontreenodes,s.plane){const o=s.plane,a=[],l=[],c=n?a:l,f=t.length;for(let h=0;h<f;h++){const d=t[h];d.isRemoved()||d.splitByPlane(o,c,a,l,a)}s.front&&l.length>0&&i.push({node:s.front,polygontreenodes:l});const u=a.length;if(s.back&&u>0)i.push({node:s.back,polygontreenodes:a});else for(let h=0;h<u;h++)a[h].remove()}r=i.pop()}while(r!==void 0)}clipTo(t,n){let r=this;const s=[];do r.polygontreenodes.length>0&&t.rootnode.clipPolygons(r.polygontreenodes,n),r.front&&s.push(r.front),r.back&&s.push(r.back),r=s.pop();while(r!==void 0)}addPolygonTreeNodes(t){let n={node:this,polygontreenodes:t};const r=[];do{const s=n.node,i=n.polygontreenodes;if(i.length===0){n=r.pop();continue}if(!s.plane){let c=0;c=Math.floor(i.length/2);const f=i[c].getPolygon();s.plane=ik.plane(f)}const o=[],a=[],l=i.length;for(let c=0;c<l;++c)i[c].splitByPlane(s.plane,s.polygontreenodes,a,o,a);o.length>0&&(s.front||(s.front=new zu(s)),l===o.length&&a.length===0?s.front.polygontreenodes=o:r.push({node:s.front,polygontreenodes:o})),a.length>0&&(s.back||(s.back=new zu(s)),l===a.length&&o.length===0?s.back.polygontreenodes=a:r.push({node:s.back,polygontreenodes:a})),n=r.pop()}while(n!==void 0)}};var ak=ok;const Li=it,lk=(e,t,n)=>{const r=Li.subtract(Li.create(),n,t);let s=(e[3]-Li.dot(e,t))/Li.dot(e,r);return Number.isNaN(s)&&(s=0),s>1&&(s=1),s<0&&(s=0),Li.scale(r,r,s),Li.add(r,t,r),r};var ck=lk;const{EPS:tl}=Ft,fk=xr,nl=it,au=Mt,uk=ck,dk=(e,t)=>{const n={type:null,front:null,back:null},r=t.vertices,s=r.length,i=au.plane(t);if(fk.equals(i,e))n.type=0;else{let o=!1,a=!1;const l=[],c=-tl;for(let f=0;f<s;f++){const u=nl.dot(e,r[f])-e[3],h=u<c;l.push(h),u>tl&&(o=!0),u<c&&(a=!0)}if(!o&&!a){const f=nl.dot(e,i);n.type=f>=0?0:1}else if(!a)n.type=2;else if(!o)n.type=3;else{n.type=4;const f=[],u=[];let h=l[0];for(let g=0;g<s;g++){const p=r[g];let m=g+1;m>=s&&(m=0);const v=l[m];if(h===v)h?u.push(p):f.push(p);else{const b=r[m],y=uk(e,p,b);h?(u.push(p),u.push(y),f.push(y)):(f.push(p),f.push(y),u.push(y))}h=v}const d=tl*tl;if(u.length>=3){let g=u[u.length-1];for(let p=0;p<u.length;p++){const m=u[p];nl.squaredDistance(m,g)<d&&(u.splice(p,1),p--),g=m}}if(f.length>=3){let g=f[f.length-1];for(let p=0;p<f.length;p++){const m=f[p];nl.squaredDistance(m,g)<d&&(f.splice(p,1),p--),g=m}}f.length>=3&&(n.front=au.fromPointsAndPlane(f,i)),u.length>=3&&(n.back=au.fromPointsAndPlane(u,i))}}return n};var hk=dk;const{EPS:mk}=Ft,pk=it,Gm=Mt,gk=hk;let vk=class I2{constructor(t,n){this.parent=t,this.children=[],this.polygon=n,this.removed=!1}addPolygons(t){if(!this.isRootNode())throw new Error("Assertion failed");const n=this;t.forEach(r=>{n.addChild(r)})}remove(){if(!this.removed){this.removed=!0,this.polygon=null;const t=this.parent.children,n=t.indexOf(this);if(n<0)throw new Error("Assertion failed");t.splice(n,1),this.parent.recursivelyInvalidatePolygon()}}isRemoved(){return this.removed}isRootNode(){return!this.parent}invert(){if(!this.isRootNode())throw new Error("Assertion failed");this.invertSub()}getPolygon(){if(!this.polygon)throw new Error("Assertion failed");return this.polygon}getPolygons(t){let n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s)for(n=r[s],i=0,o=n.length;i<o;i++)a=n[i],a.polygon?t.push(a.polygon):a.children.length>0&&r.push(a.children)}splitByPlane(t,n,r,s,i){if(this.children.length){const o=[this.children];let a,l,c,f,u;for(a=0;a<o.length;a++)for(u=o[a],l=0,c=u.length;l<c;l++)f=u[l],f.children.length>0?o.push(f.children):f._splitByPlane(t,n,r,s,i)}else this._splitByPlane(t,n,r,s,i)}_splitByPlane(t,n,r,s,i){const o=this.polygon;if(o){const a=Gm.measureBoundingSphere(o),l=a[3]+mk,c=a,f=pk.dot(t,c)-t[3];if(f>l)s.push(this);else if(f<-l)i.push(this);else{const u=gk(t,o);switch(u.type){case 0:n.push(this);break;case 1:r.push(this);break;case 2:s.push(this);break;case 3:i.push(this);break;case 4:if(u.front){const h=this.addChild(u.front);s.push(h)}if(u.back){const h=this.addChild(u.back);i.push(h)}break}}}}addChild(t){const n=new I2(this,t);return this.children.push(n),n}invertSub(){let t=[this];const n=[t];let r,s,i,o;for(r=0;r<n.length;r++)for(t=n[r],s=0,i=t.length;s<i;s++)o=t[s],o.polygon&&(o.polygon=Gm.invert(o.polygon)),o.children.length>0&&n.push(o.children)}recursivelyInvalidatePolygon(){this.polygon=null,this.parent&&this.parent.recursivelyInvalidatePolygon()}clear(){let t=[this];const n=[t];for(let r=0;r<n.length;++r){t=n[r];const s=t.length;for(let i=0;i<s;i++){const o=t[i];o.polygon&&(o.polygon=null),o.parent&&(o.parent=null),o.children.length>0&&n.push(o.children),o.children=[]}}}toString(){let t="",n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s){n=r[s];const l=" ".repeat(s);for(i=0,o=n.length;i<o;i++)a=n[i],t+=`${l}PolygonTreeNode (${a.isRootNode()}): ${a.children.length}`,a.polygon?t+=`
 ${l}polygon: ${a.polygon.vertices}
`:t+=`
`,a.children.length>0&&r.push(a.children)}return t}};var bk=vk;const _k=ak,yk=bk;let Ak=class{constructor(t){this.polygonTree=new yk,this.rootnode=new _k(null),t&&this.addPolygons(t)}invert(){this.polygonTree.invert(),this.rootnode.invert()}clipTo(t,n=!1){this.rootnode.clipTo(t,n)}allPolygons(){const t=[];return this.polygonTree.getPolygons(t),t}addPolygons(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=this.polygonTree.addChild(t[r]);this.rootnode.addPolygonTreeNodes(n)}clear(){this.polygonTree.clear()}toString(){return"Tree: "+this.polygonTree.toString("")}};var Sk=Ak,gd={Tree:Sk};const rl=_t,Ek=pd,{Tree:Bm}=gd,wk=(e,t)=>{if(!Ek(e,t))return rl.create();const n=new Bm(rl.toPolygons(e)),r=new Bm(rl.toPolygons(t));n.invert(),r.clipTo(n),r.invert(),n.clipTo(r),r.clipTo(n),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return rl.create(s)};var Tk=wk;const Ck=mt,Pk=jl,Lk=Tk,Ok=(...e)=>{e=Ck(e);let t=e.shift();return e.forEach(n=>{t=Lk(t,n)}),t=Pk(t),t};var D2=Ok;const Rk=mt,Mk=_t,Ik=_s,Dk=hd,Fk=md,xk=D2,kk=(...e)=>{e=Rk(e);const t=e.map(s=>Fk({z0:-1,z1:1},s)),n=xk(t),r=Ik(n);return Dk(r,Mk.toPolygons(n))};var Gk=kk;const Bk=mt,Nk=Yo,$k=gt,Vk=_t,Uk=Gk,Hk=D2,zk=(...e)=>{if(e=Bk(e),e.length===0)throw new Error("wrong number of arguments");if(!Nk(e))throw new Error("only intersect of the types are supported");const t=e[0];return $k.isA(t)?Uk(e):Vk.isA(t)?Hk(e):t};var jk=zk;const lu=it,qk=_s,Nm=_t,Xk=e=>e.sort((t,n)=>t-n).filter((t,n,r)=>!n||t!==r[n-1]),Wk=(e,t,n)=>{const r=`${t}`,s=e.get(r);s===void 0?e.set(r,[n]):s.push(n)},Yk=(e,t)=>{const n=`${t}`;return e.get(n)},Zk=e=>{const t=qk(e),n=Nm.toPolygons(e),r=n.length,s=new Map,i=lu.create();n.forEach((f,u)=>{f.vertices.forEach(h=>{Wk(s,lu.snap(i,h,t),u)})});const o=n.map(f=>{let u=[];return f.vertices.forEach(h=>{u=u.concat(Yk(s,lu.snap(i,h,t)))}),{e:1,d:Xk(u)}});s.clear();let a=0;const l=o.length;for(let f=0;f<l;f++){const u=o[f];if(u.e>0){const h=new Array(r);h[f]=!0;do a=0,h.forEach((d,g)=>{const p=o[g];if(p.e>0){p.e=-1;for(let m=0;m<p.d.length;m++)h[p.d[m]]=!0;a++}});while(a>0);u.indexes=h}}const c=[];for(let f=0;f<l;f++)if(o[f].indexes){const u=[];o[f].indexes.forEach((h,d)=>u.push(n[d])),c.push(Nm.create(u))}return c};var Kk=Zk;const Qk=mt,Jk=_t,eG=Kk,tG=(...e)=>{if(e=Qk(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>Jk.isA(n)?eG(n):n);return t.length===1?t[0]:t};var nG=tG;const sl=_t,rG=pd,{Tree:$m}=gd,sG=(e,t)=>{if(!rG(e,t))return sl.clone(e);const n=new $m(sl.toPolygons(e)),r=new $m(sl.toPolygons(t));n.invert(),n.clipTo(r),r.clipTo(n,!0),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return sl.create(s)};var iG=sG;const oG=mt,aG=jl,lG=iG,cG=(...e)=>{e=oG(e);let t=e.shift();return e.forEach(n=>{t=lG(t,n)}),t=aG(t),t};var F2=cG;const fG=mt,uG=_t,dG=_s,hG=hd,mG=md,pG=F2,gG=(...e)=>{e=fG(e);const t=e.map(s=>mG({z0:-1,z1:1},s)),n=pG(t),r=dG(n);return hG(r,uG.toPolygons(n))};var vG=gG;const bG=mt,_G=Yo,yG=gt,AG=_t,SG=vG,EG=F2,wG=(...e)=>{if(e=bG(e),e.length===0)throw new Error("wrong number of arguments");if(!_G(e))throw new Error("only subtract of the types are supported");const t=e[0];return yG.isA(t)?SG(e):AG.isA(t)?EG(e):t};var TG=wG;const ki=_t,CG=pd,{Tree:Vm}=gd,PG=(e,t)=>{if(!CG(e,t))return LG(e,t);const n=new Vm(ki.toPolygons(e)),r=new Vm(ki.toPolygons(t));n.clipTo(r,!1),r.clipTo(n),r.invert(),r.clipTo(n),r.invert();const s=n.allPolygons().concat(r.allPolygons());return ki.create(s)},LG=(e,t)=>{let n=ki.toPolygons(e);return n=n.concat(ki.toPolygons(t)),ki.create(n)};var x2=PG;const OG=mt,RG=jl,MG=x2,IG=(...e)=>{e=OG(e);let t;for(t=1;t<e.length;t+=2)e.push(MG(e[t-1],e[t]));let n=e[t-1];return n=RG(n),n};var k2=IG;const DG=mt,FG=_t,xG=_s,kG=hd,GG=md,BG=k2,NG=(...e)=>{e=DG(e);const t=e.map(s=>GG({z0:-1,z1:1},s)),n=BG(t),r=xG(n);return kG(r,FG.toPolygons(n))};var G2=NG;const $G=mt,VG=Yo,UG=gt,HG=_t,zG=G2,jG=k2,qG=(...e)=>{if(e=$G(e),e.length===0)throw new Error("wrong number of arguments");if(!VG(e))throw new Error("only unions of the same type are supported");const t=e[0];return UG.isA(t)?zG(e):HG.isA(t)?jG(e):t};var vd=qG,XG={intersect:jk,scission:nG,subtract:TG,union:vd};const{EPS:WG,TAU:YG}=Ft,Um=Xv,To=ld,un=Et,ZG=Gl,KG=(e,t)=>{const n={delta:1,corners:"edge",closed:!1,segments:16};let{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(Math.abs(r)<WG)return t;let a=e.closed?ZG(t):1;a===0&&(a=1);const l=a>0&&r>=0||a<0&&r<0;r=Math.abs(r);let c=null,f=[];const u=[],h=un.create(),d=t.length;for(let g=0;g<d;g++){const p=(g+1)%d,m=t[g],v=t[p];l?un.subtract(h,m,v):un.subtract(h,v,m),un.normal(h,h),un.normalize(h,h),un.scale(h,h,r);const b=un.add(un.create(),m,h),y=un.add(un.create(),v,h),S=[b,y];if(c!=null&&(i||!i&&p!==0)){const w=Um(c[0],c[1],S[0],S[1]);w?(f.pop(),S[0]=w):u.push({c:m,s0:c,s1:S})}c=[b,y],!(p===0&&!i)&&(f.push(S[0]),f.push(S[1]))}if(i&&c!=null){const g=f[0],p=f[1],m=Um(c[0],c[1],g,p);if(m)f[0]=m,f.pop();else{const v=t[0],b=[g,p];u.push({c:v,s0:c,s1:b})}}if(s==="edge"){const g=new Map;f.forEach((v,b)=>g.set(v,b));const p=To.create(),m=To.create();u.forEach(v=>{To.fromPoints(p,v.s0[0],v.s0[1]),To.fromPoints(m,v.s1[0],v.s1[1]);const b=To.intersectPointOfLines(p,m);if(Number.isFinite(b[0])&&Number.isFinite(b[1])){const y=v.s0[1],S=g.get(y);f[S]=b,f[(S+1)%f.length]=void 0}else{const y=v.s1[0],S=g.get(y);f[S]=void 0}}),f=f.filter(v=>v!==void 0)}if(s==="round"){let g=Math.floor(o/4);const p=un.create();u.forEach(m=>{let v=un.angle(un.subtract(p,m.s1[0],m.c));if(v-=un.angle(un.subtract(p,m.s0[1],m.c)),l&&v<0&&(v=v+Math.PI,v<0&&(v=v+Math.PI)),!l&&v>0&&(v=v-Math.PI,v>0&&(v=v-Math.PI)),v!==0){g=Math.floor(o*(Math.abs(v)/YG));const b=v/g,y=un.angle(un.subtract(p,m.s0[1],m.c)),S=[];for(let w=1;w<g;w++){const E=y+b*w,A=un.fromAngleRadians(un.create(),E);un.scale(A,A,r),un.add(A,A,m.c),S.push(A)}if(S.length>0){const w=m.s0[1];let E=f.findIndex(A=>un.equals(w,A));E=(E+1)%f.length,f.splice(E,0,...S)}}else{const b=m.s1[0],y=f.findIndex(S=>un.equals(b,S));f.splice(y,1)}})}return f};var ql=KG;const il=gt,QG=ql,JG=(e,t)=>{const n={delta:1,corners:"edge",segments:16},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const l=il.toOutlines(t).map(c=>(e={delta:r,corners:s,closed:!0,segments:i},QG(e,c))).reduce((c,f)=>c.concat(il.toSides(il.fromPoints(f))),[]);return il.create(l)};var eB=JG;const Hm=qt,tB=it,nB=_t,Co=Mt,rB=(e,t)=>{tB.dot(Co.plane(t),e)>0&&(t=Co.invert(t));const r=[t],s=Co.transform(Hm.fromTranslation(Hm.create(),e),t),i=t.vertices.length;for(let o=0;o<i;o++){const a=o<i-1?o+1:0,l=Co.create([t.vertices[o],s.vertices[o],s.vertices[a],t.vertices[a]]);r.push(l)}return r.push(Co.invert(s)),nB.create(r)};var sB=rB;const{EPS:iB,TAU:cu}=Ft,zm=qt,Wt=it,oB=R2,fu=_t,Vs=Mt,aB=b2,lB=jl,uu=x2,cB=sB,fB=(e,t,n)=>{const r=t.toString();if(e.has(r))e.get(r)[1].push(n);else{const s=[t,[n]];e.set(r,s)}},uB=(e,t,n)=>{const r=t[0].toString(),s=t[1].toString(),i=r<s?`${r},${s}`:`${s},${r}`;if(e.has(i))e.get(i)[1].push(n);else{const o=[t,[n]];e.set(i,o)}},du=(e,t)=>{e.findIndex(r=>r===t)<0&&e.push(t)},dB=(e,t)=>{const n={delta:1,segments:12},{delta:r,segments:s}=Object.assign({},n,e);let i=fu.create();const o=new Map,a=new Map,l=Wt.create(),c=Wt.create();return fu.toPolygons(t).forEach((u,h)=>{const d=Wt.scale(Wt.create(),Vs.plane(u),2*r),g=Vs.transform(zm.fromTranslation(zm.create(),Wt.scale(Wt.create(),d,-.5)),u),p=cB(d,g);i=uu(i,p);const m=u.vertices;for(let v=0;v<m.length;v++){fB(o,m[v],Vs.plane(u));const b=(v+1)%m.length,y=[m[v],m[b]];uB(a,y,Vs.plane(u))}}),a.forEach(u=>{const h=u[0],d=u[1],g=h[0],p=h[1],m=Wt.subtract(Wt.create(),p,g);Wt.normalize(m,m);const v=d[0],b=Wt.cross(Wt.create(),v,m);let y=[];for(let x=0;x<s;x++)du(y,x*cu/s);for(let x=0,le=d.length;x<le;x++){const $=d[x],W=Wt.dot(b,$),Be=Wt.dot(v,$);let ne=Math.atan2(W,Be);ne<0&&(ne+=cu),du(y,ne),ne=Math.atan2(-W,-Be),ne<0&&(ne+=cu),du(y,ne)}y=y.sort(oB);const S=y.length;let w,E;const A=[],O=[],U=[];for(let x=-1;x<S;x++){const le=y[x<0?x+S:x],$=Math.sin(le),W=Math.cos(le);Wt.scale(l,v,W*r),Wt.scale(c,b,$*r),Wt.add(l,l,c);const Be=Wt.add(Wt.create(),g,l),ne=Wt.add(Wt.create(),p,l);let H=!1;if(x>=0&&Wt.distance(Be,w)<iB&&(H=!0),!H){if(x>=0){A.push(Be),O.push(ne);const he=[E,ne,Be,w],te=Vs.create(he);U.push(te)}w=Be,E=ne}}O.reverse(),U.push(Vs.create(A)),U.push(Vs.create(O));const N=fu.create(U);i=uu(i,N)}),o.forEach(u=>{const h=u[0],d=u[1],g=d[0];let p=null,m=0;for(let S=1;S<d.length;S++){const w=d[S],E=Wt.cross(l,g,w),A=Wt.length(E);A>.05&&A>m&&(m=A,p=w)}p||(p=Wt.orthogonal(l,g));const v=Wt.cross(l,g,p);Wt.normalize(v,v);const b=Wt.cross(c,v,g),y=aB({center:[h[0],h[1],h[2]],radius:r,segments:s,axes:[g,v,b]});i=uu(i,y)}),lB(i)};var hB=dB;const mB=_t,pB=vd,gB=hB,vB=(e,t)=>{const n={delta:1,corners:"round",segments:12},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(s!=="round")throw new Error('corners must be "round" for 3D geometries');if(mB.toPolygons(t).length===0)throw new Error("the given geometry cannot be empty");e={delta:r,corners:s,segments:i};const a=gB(e,t);return pB(t,a)};var bB=vB;const _B=Gl,nr=Et,Ii=gt,Fo=Ht,jm=ql,yB=e=>{let{external:t,internal:n}=e;_B(t)<0?t=t.reverse():n=n.reverse();const r=Fo.fromPoints({closed:!0},t),s=Fo.fromPoints({closed:!0},n),i=Ii.toSides(Ii.fromPoints(Fo.toPoints(r))),o=Ii.toSides(Ii.fromPoints(Fo.toPoints(s)));return i.push(...o),Ii.create(i)},AB=(e,t,n,r)=>{const{points:s,external:i,internal:o}=e,a=Math.floor(t/2),l=[],c=[];if(n==="round"&&a>0){const u=Math.PI/a,h=s[s.length-1],d=nr.angle(nr.subtract(nr.create(),i[i.length-1],h)),g=s[0],p=nr.angle(nr.subtract(nr.create(),o[0],g));for(let m=1;m<a;m++){let v=d+u*m,b=nr.fromAngleRadians(nr.create(),v);nr.scale(b,b,r),nr.add(b,b,h),l.push(b),v=p+u*m,b=nr.fromAngleRadians(nr.create(),v),nr.scale(b,b,r),nr.add(b,b,g),c.push(b)}}const f=[];return f.push(...i,...l,...o.reverse(),...c),Ii.fromPoints(f)},SB=(e,t)=>{e=Object.assign({},{delta:1,corners:"edge",segments:16},e);const{delta:r,corners:s,segments:i}=e;if(r<=0)throw new Error("the given delta must be positive for paths");if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=t.isClosed,a=Fo.toPoints(t);if(a.length===0)throw new Error("the given geometry cannot be empty");const l={points:a,external:jm({delta:r,corners:s,segments:i,closed:o},a),internal:jm({delta:-r,corners:s,segments:i,closed:o},a)};return t.isClosed?yB(l):AB(l,i,s,r)};var EB=SB;const wB=mt,TB=gt,CB=_t,PB=Ht,LB=eB,OB=bB,RB=EB,MB=(e,...t)=>{if(t=wB(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>PB.isA(r)?RB(e,r):TB.isA(r)?LB(e,r):CB.isA(r)?OB(e,r):r);return n.length===1?n[0]:n};var bd=MB;const ol=gt,qm=sd,IB=ql,DB=(e,t)=>{const n={delta:1,corners:"edge",segments:0},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=ol.toOutlines(t),l=o.map(c=>(e={delta:o.reduce((h,d)=>h+qm.arePointsInside(c,qm.create(d)),0)%2===0?r:-r,corners:s,closed:!0,segments:i},IB(e,c))).reduce((c,f)=>c.concat(ol.toSides(ol.fromPoints(f))),[]);return ol.create(l)};var FB=DB;const Xm=Ht,xB=ql,kB=(e,t)=>{const n={delta:1,corners:"edge",closed:t.isClosed,segments:16},{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');e={delta:r,corners:s,closed:i,segments:o};const a=xB(e,Xm.toPoints(t));return Xm.fromPoints({closed:i},a)};var GB=kB;const BB=mt,NB=gt,$B=Ht,VB=FB,UB=GB,HB=(e,...t)=>{if(t=BB(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>$B.isA(r)?UB(e,r):NB.isA(r)?VB(e,r):r);return n.length===1?n[0]:n};var zB=HB,jB={expand:bd,offset:zB};const Po=qt,hu=it,qB=gt,mu=qi,XB=Ul,WB=(e,t)=>{const n={offset:[0,0,1],twistAngle:0,twistSteps:12,repair:!0};let{offset:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(i<1)throw new Error("twistSteps must be 1 or more");s===0&&(i=1);const a=hu.clone(r),l=qB.toSides(t);if(l.length===0)throw new Error("the given geometry cannot be empty");const c=mu.fromSides(l);a[2]<0&&mu.reverse(c,c);const f=Po.create(),u=(h,d,g)=>{const p=d/i*s,m=hu.scale(hu.create(),a,d/i);return Po.multiply(f,Po.fromZRotation(f,p),Po.fromTranslation(Po.create(),m)),mu.transform(f,g)};return e={numberOfSlices:i+1,capStart:!0,capEnd:!0,repair:o,callback:u},XB(e,c)};var Xl=WB;const YB=gt,ZB=Ht,KB=Xl,QB=(e,t)=>{if(!t.isClosed)throw new Error("extruded path must be closed");const n=ZB.toPoints(t),r=YB.fromPoints(n);return KB(e,r)};var JB=QB;const eN=mt,tN=gt,nN=Ht,rN=Xl,sN=JB,iN=(e,...t)=>{const n={height:1,twistAngle:0,twistSteps:1,repair:!0},{height:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(t=eN(t),t.length===0)throw new Error("wrong number of arguments");e={offset:[0,0,r],twistAngle:s,twistSteps:i,repair:o};const a=t.map(l=>nN.isA(l)?sN(e,l):tN.isA(l)?rN(e,l):l);return a.length===1?a[0]:a};var oN=iN;const aN=Ht,lN=bd,cN=Xl,fN=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(e.delta=r,e.offset=[0,0,s],aN.toPoints(t).length===0)throw new Error("the given geometry cannot be empty");const o=lN(e,t);return cN(e,o)};var uN=fN;const{area:dN}=Xo,pu=gt,hN=Ht,mN=bd,pN=Xl,gN=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);e.delta=r,e.offset=[0,0,s];const i=pu.toOutlines(t);if(i.length===0)throw new Error("the given geometry cannot be empty");const a=i.map(c=>(dN(c)<0&&c.reverse(),mN(e,hN.fromPoints({closed:!0},c)))).reduce((c,f)=>c.concat(pu.toSides(f)),[]),l=pu.create(a);return pN(e,l)};var vN=gN;const bN=mt,_N=gt,yN=Ht,AN=uN,SN=vN,EN=(e,...t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(t=bN(t),t.length===0)throw new Error("wrong number of arguments");if(r<=0)throw new Error("size must be positive");if(s<=0)throw new Error("height must be positive");const i=t.map(o=>yN.isA(o)?AN(e,o):_N.isA(o)?SN(e,o):o);return i.length===1?i[0]:i};var wN=EN;const{TAU:Lo}=Ft,gu=qi,Or=qt,TN=Ul,CN=gt,PN=(e,t)=>{const n={angle:Lo,startAngle:0,pitch:10,endOffset:0,segmentsPerRotation:32},{angle:r,endOffset:s,segmentsPerRotation:i,startAngle:o}=Object.assign({},n,e);let a;if(!e.pitch&&e.height?a=e.height/(r/Lo):a=e.pitch?e.pitch:n.pitch,i<3)throw new Error("The number of segments per rotation needs to be at least 3.");let c=CN.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(v=>v[0][0]>=0);let u=gu.fromSides(c);f.length===0&&(u=gu.reverse(u));const h=Math.round(i/Lo*Math.abs(r)),d=h>=2?h:2,g=Or.create();let p;const m=(v,b,y)=>{const S=o+r/d*b,w=s/d*b,E=(S-o)/Lo*a;return Or.multiply(g,Or.fromTranslation(Or.create(),[w,0,E*Math.sign(r)]),Or.fromXRotation(Or.create(),-Lo/4*Math.sign(r))),p=Or.create(),Or.multiply(p,Or.fromZRotation(Or.create(),S),g),gu.transform(p,y)};return TN({numberOfSlices:d+1,callback:m},u)};var LN=PN;const ON=mt,Wm=Nl,vu=xr,Ym=qt,Zm=gt,B2=_t,Oi=Mt,RN=_s,MN=G2,IN=(e,t)=>{const n=vu.fromNormalAndPoint(vu.create(),e.axis,e.origin);if(Number.isNaN(n[0])||Number.isNaN(n[1])||Number.isNaN(n[2])||Number.isNaN(n[3]))throw new Error("project: invalid axis or origin");const r=RN(t),s=r*r*Math.sqrt(3)/4;if(r===0)return Zm.create();const i=B2.toPolygons(t);let o=[];for(let l=0;l<i.length;l++){const c=i[l].vertices.map(h=>vu.projectionOfPoint(n,h)),f=Oi.create(c),u=Oi.plane(f);Wm(n,u)&&(Oi.measureArea(f)<s||o.push(f))}if(!Wm(n,[0,0,1])){const l=Ym.fromVectorRotation(Ym.create(),n,[0,0,1]);o=o.map(c=>Oi.transform(l,c))}o=o.sort((l,c)=>Oi.measureArea(c)-Oi.measureArea(l));const a=o.map(l=>Zm.fromPoints(l.vertices));return MN(a)},DN=(e,...t)=>{const n={axis:[0,0,1],origin:[0,0,0]},{axis:r,origin:s}=Object.assign({},n,e);if(t=ON(t),t.length===0)throw new Error("wrong number of arguments");e={axis:r,origin:s};const i=t.map(o=>B2.isA(o)?IN(e,o):o);return i.length===1?i[0]:i};var FN=DN,xN={extrudeFromSlices:Ul,extrudeLinear:oN,extrudeRectangular:wN,extrudeRotate:C2,extrudeHelical:LN,project:FN,slice:qi};const Km=Et,kN=e=>{let t=Km.fromValues(1/0,1/0);e.forEach(s=>{(s[1]<t[1]||s[1]===t[1]&&s[0]<t[0])&&(t=s)});const n=[];e.forEach(s=>{const i=BN(s[1]-t[1],s[0]-t[0]),o=Km.squaredDistance(s,t);n.push({point:s,angle:i,distSq:o})}),n.sort((s,i)=>s.angle<i.angle?-1:s.angle>i.angle?1:s.distSq<i.distSq?-1:s.distSq>i.distSq?1:0);const r=[];return n.forEach(s=>{let i=r.length;for(;i>1&&GN(r[i-2],r[i-1],s.point)<=Number.EPSILON;)r.pop(),i=r.length;r.push(s.point)}),r},GN=(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]),BN=(e,t)=>e===0&&t===0?-1/0:-t/e;var N2=kN;const Qm=gt,Jm=_t,ep=Ht,NN=e=>{const t=new Set,n=[],r=s=>{const i=s.toString();t.has(i)||(n.push(s),t.add(i))};return e.forEach(s=>{Qm.isA(s)?Qm.toPoints(s).forEach(r):Jm.isA(s)?Jm.toPoints(s).forEach(i=>i.forEach(r)):ep.isA(s)&&ep.toPoints(s).forEach(r)}),n};var _d=NN;const $N=mt,VN=Ht,UN=N2,HN=_d,zN=(...e)=>{e=$N(e);const t=HN(e),n=UN(t);return VN.fromPoints({closed:!0},n)};var jN=zN;const qN=mt,tp=gt,XN=N2,WN=_d,YN=(...e)=>{e=qN(e);const t=WN(e),n=XN(t);return n.length<3?tp.create():tp.fromPoints(n)};var ZN=YN;const KN=jo,np=Rl,rp=dv,QN=(e,t,n)=>{const r=[],s=[],i=[];np(r,n,t),np(s,e,t);const o=rp(KN(i,s,r)),a=rp(r);if(a===0)throw Error("a and b are the same point");return o/a},JN=(e,t,n)=>Math.sqrt(QN(e,t,n));var e9=JN;const t9=jo,n9=Ju,sp=Rl,r9=(e,t,n,r)=>{const s=[0,0,0];return sp(e,t,n),sp(s,n,r),t9(e,e,s),n9(e,e)};var s9=r9;let i9=class{constructor(){this.head=null,this.tail=null}clear(){this.head=this.tail=null}insertBefore(t,n){n.prev=t.prev,n.next=t,n.prev?n.prev.next=n:this.head=n,t.prev=n}insertAfter(t,n){n.prev=t,n.next=t.next,n.next?n.next.prev=n:this.tail=n,t.next=n}add(t){this.head?this.tail.next=t:this.head=t,t.prev=this.tail,t.next=null,this.tail=t}addAll(t){for(this.head?this.tail.next=t:this.head=t,t.prev=this.tail;t.next;)t=t.next;this.tail=t}remove(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}removeChain(t,n){t.prev?t.prev.next=n.next:this.head=n.next,n.next?n.next.prev=t.prev:this.tail=t.prev}first(){return this.head}isEmpty(){return!this.head}};var o9=i9;let a9=class{constructor(t,n){this.point=t,this.index=n,this.next=null,this.prev=null,this.face=null}};var l9=a9;const c9=ov,f9=uv;let u9=class{constructor(t,n){this.vertex=t,this.face=n,this.next=null,this.prev=null,this.opposite=null}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){return this.tail()?c9(this.tail().point,this.head().point):-1}lengthSquared(){return this.tail()?f9(this.tail().point,this.head().point):-1}setOpposite(t){this.opposite=t,t.opposite=this}};var d9=u9;const bu=sv,h9=iv,m9=jo,_u=Ll,p9=av,g9=Ju,al=fv,yu=Rl,Au=d9,$2=0,v9=1,ju=2;let b9=class V2{constructor(){this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=$2,this.edge=null,this.nVertices=0}getEdge(t){if(typeof t!="number")throw Error("requires a number");let n=this.edge;for(;t>0;)n=n.next,t-=1;for(;t<0;)n=n.prev,t+=1;return n}computeNormal(){const t=this.edge,n=t.next;let r=n.next;const s=yu([],n.head().point,t.head().point),i=[],o=[];for(this.nVertices=2,this.normal=[0,0,0];r!==t;)h9(o,s),yu(s,r.head().point,t.head().point),bu(this.normal,this.normal,m9(i,o,s)),r=r.next,this.nVertices+=1;this.area=p9(this.normal),this.normal=al(this.normal,this.normal,1/this.area)}computeNormalMinArea(t){if(this.computeNormal(),this.area<t){let n,r=0,s=this.edge;do{const f=s.lengthSquared();f>r&&(n=s,r=f),s=s.next}while(s!==this.edge);const i=n.tail().point,o=n.head().point,a=yu([],o,i),l=Math.sqrt(r);al(a,a,1/l);const c=_u(this.normal,a);al(a,a,-c),bu(this.normal,this.normal,a),g9(this.normal,this.normal)}}computeCentroid(){this.centroid=[0,0,0];let t=this.edge;do bu(this.centroid,this.centroid,t.head().point),t=t.next;while(t!==this.edge);al(this.centroid,this.centroid,1/this.nVertices)}computeNormalAndCentroid(t){typeof t<"u"?this.computeNormalMinArea(t):this.computeNormal(),this.computeCentroid(),this.offset=_u(this.normal,this.centroid)}distanceToPlane(t){return _u(this.normal,t)-this.offset}connectHalfEdges(t,n){let r;if(t.opposite.face===n.opposite.face){const s=n.opposite.face;let i;t===this.edge&&(this.edge=n),s.nVertices===3?(i=n.opposite.prev.opposite,s.mark=ju,r=s):(i=n.opposite.next,s.edge===i.prev&&(s.edge=i),i.prev=i.prev.prev,i.prev.next=i),n.prev=t.prev,n.prev.next=n,n.setOpposite(i),s.computeNormalAndCentroid()}else t.next=n,n.prev=t;return r}mergeAdjacentFaces(t,n){const r=t.opposite,s=r.face;n.push(s),s.mark=ju;let i=t.prev,o=t.next,a=r.prev,l=r.next;for(;i.opposite.face===s;)i=i.prev,l=l.next;for(;o.opposite.face===s;)o=o.next,a=a.prev;let c;for(c=l;c!==a.next;c=c.next)c.face=this;this.edge=o;let f;return f=this.connectHalfEdges(a,o),f&&n.push(f),f=this.connectHalfEdges(i,l),f&&n.push(f),this.computeNormalAndCentroid(),n}collectIndices(){const t=[];let n=this.edge;do t.push(n.head().index),n=n.next;while(n!==this.edge);return t}static createTriangle(t,n,r,s=0){const i=new V2,o=new Au(t,i),a=new Au(n,i),l=new Au(r,i);return o.next=l.prev=a,a.next=o.prev=l,l.next=a.prev=o,i.edge=o,i.computeNormalAndCentroid(s),i}};var _9={VISIBLE:$2,NON_CONVEX:v9,DELETED:ju,Face:b9};const Su=Ll,y9=e9,A9=s9,ip=o9,S9=l9,{Face:Hr,VISIBLE:Ri,NON_CONVEX:op,DELETED:E9}=_9,w9=1,ap=2;let T9=class{constructor(t){if(!Array.isArray(t))throw TypeError("input is not a valid array");if(t.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=t.length,this.faces=[],this.newFaces=[],this.claimed=new ip,this.unclaimed=new ip,this.vertices=[];for(let n=0;n<t.length;n+=1)this.vertices.push(new S9(t[n],n));this.discardedFaces=[],this.vertexPointIndices=[]}addVertexToFace(t,n){t.face=n,n.outside?this.claimed.insertBefore(n.outside,t):this.claimed.add(t),n.outside=t}removeVertexFromFace(t,n){t===n.outside&&(t.next&&t.next.face===n?n.outside=t.next:n.outside=null),this.claimed.remove(t)}removeAllVerticesFromFace(t){if(t.outside){let n=t.outside;for(;n.next&&n.next.face===t;)n=n.next;return this.claimed.removeChain(t.outside,n),n.next=null,t.outside}}deleteFaceVertices(t,n){const r=this.removeAllVerticesFromFace(t);if(r)if(!n)this.unclaimed.addAll(r);else{let s;for(let i=r;i;i=s)s=i.next,n.distanceToPlane(i.point)>this.tolerance?this.addVertexToFace(i,n):this.unclaimed.add(i)}}resolveUnclaimedPoints(t){let n=this.unclaimed.first();for(let r=n;r;r=n){n=r.next;let s=this.tolerance,i;for(let o=0;o<t.length;o+=1){const a=t[o];if(a.mark===Ri){const l=a.distanceToPlane(r.point);if(l>s&&(s=l,i=a),s>1e3*this.tolerance)break}}i&&this.addVertexToFace(r,i)}}computeExtremes(){const t=[],n=[],r=[],s=[];let i,o;for(i=0;i<3;i+=1)r[i]=s[i]=this.vertices[0];for(i=0;i<3;i+=1)t[i]=n[i]=this.vertices[0].point[i];for(i=1;i<this.vertices.length;i+=1){const a=this.vertices[i],l=a.point;for(o=0;o<3;o+=1)l[o]<t[o]&&(t[o]=l[o],r[o]=a);for(o=0;o<3;o+=1)l[o]>n[o]&&(n[o]=l[o],s[o]=a)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(t[0]),Math.abs(n[0]))+Math.max(Math.abs(t[1]),Math.abs(n[1]))+Math.max(Math.abs(t[2]),Math.abs(n[2]))),[r,s]}createInitialSimplex(){const t=this.vertices,[n,r]=this.computeExtremes();let s,i,o,a,l=0,c=0;for(o=0;o<3;o+=1){const p=r[o].point[o]-n[o].point[o];p>l&&(l=p,c=o)}const f=n[c],u=r[c];for(l=0,o=0;o<this.vertices.length;o+=1){const p=this.vertices[o];if(p!==f&&p!==u){const m=y9(p.point,f.point,u.point);m>l&&(l=m,s=p)}}const h=A9([],f.point,u.point,s.point),d=Su(f.point,h);for(l=-1,o=0;o<this.vertices.length;o+=1){const p=this.vertices[o];if(p!==f&&p!==u&&p!==s){const m=Math.abs(Su(h,p.point)-d);m>l&&(l=m,i=p)}}const g=[];if(Su(i.point,h)-d<0)for(g.push(Hr.createTriangle(f,u,s),Hr.createTriangle(i,u,f),Hr.createTriangle(i,s,u),Hr.createTriangle(i,f,s)),o=0;o<3;o+=1){const p=(o+1)%3;g[o+1].getEdge(2).setOpposite(g[0].getEdge(p)),g[o+1].getEdge(1).setOpposite(g[p+1].getEdge(0))}else for(g.push(Hr.createTriangle(f,s,u),Hr.createTriangle(i,f,u),Hr.createTriangle(i,u,s),Hr.createTriangle(i,s,f)),o=0;o<3;o+=1){const p=(o+1)%3;g[o+1].getEdge(2).setOpposite(g[0].getEdge((3-o)%3)),g[o+1].getEdge(0).setOpposite(g[p+1].getEdge(1))}for(o=0;o<4;o+=1)this.faces.push(g[o]);for(o=0;o<t.length;o+=1){const p=t[o];if(p!==f&&p!==u&&p!==s&&p!==i){l=this.tolerance;let m;for(a=0;a<4;a+=1){const v=g[a].distanceToPlane(p.point);v>l&&(l=v,m=g[a])}m&&this.addVertexToFace(p,m)}}}reindexFaceAndVertices(){const t=[];for(let n=0;n<this.faces.length;n+=1){const r=this.faces[n];r.mark===Ri&&t.push(r)}this.faces=t}collectFaces(t){const n=[];for(let r=0;r<this.faces.length;r+=1){if(this.faces[r].mark!==Ri)throw Error("attempt to include a destroyed face in the hull");const s=this.faces[r].collectIndices();if(t)n.push(s);else for(let i=0;i<s.length-2;i+=1)n.push([s[0],s[i+1],s[i+2]])}return n}nextVertexToAdd(){if(!this.claimed.isEmpty()){let t,n,r=0;const s=this.claimed.first().face;for(n=s.outside;n&&n.face===s;n=n.next){const i=s.distanceToPlane(n.point);i>r&&(r=i,t=n)}return t}}computeHorizon(t,n,r,s){this.deleteFaceVertices(r),r.mark=E9;let i;n?i=n.next:i=n=r.getEdge(0);do{const o=i.opposite,a=o.face;a.mark===Ri&&(a.distanceToPlane(t)>this.tolerance?this.computeHorizon(t,o,a,s):s.push(i)),i=i.next}while(i!==n)}addAdjoiningFace(t,n){const r=Hr.createTriangle(t,n.tail(),n.head());return this.faces.push(r),r.getEdge(-1).setOpposite(n.opposite),r.getEdge(0)}addNewFaces(t,n){this.newFaces=[];let r,s;for(let i=0;i<n.length;i+=1){const o=n[i],a=this.addAdjoiningFace(t,o);r?a.next.setOpposite(s):r=a,this.newFaces.push(a.face),s=a}r.next.setOpposite(s)}oppositeFaceDistance(t){return t.face.distanceToPlane(t.opposite.face.centroid)}doAdjacentMerge(t,n){let r=t.edge,s=!0,i=0;do{if(i>=t.nVertices)throw Error("merge recursion limit exceeded");const o=r.opposite.face;let a=!1;if(n===ap?(this.oppositeFaceDistance(r)>-this.tolerance||this.oppositeFaceDistance(r.opposite)>-this.tolerance)&&(a=!0):t.area>o.area?this.oppositeFaceDistance(r)>-this.tolerance?a=!0:this.oppositeFaceDistance(r.opposite)>-this.tolerance&&(s=!1):this.oppositeFaceDistance(r.opposite)>-this.tolerance?a=!0:this.oppositeFaceDistance(r)>-this.tolerance&&(s=!1),a){const l=t.mergeAdjacentFaces(r,[]);for(let c=0;c<l.length;c+=1)this.deleteFaceVertices(l[c],t);return!0}r=r.next,i+=1}while(r!==t.edge);return s||(t.mark=op),!1}addVertexToHull(t){const n=[];this.unclaimed.clear(),this.removeVertexFromFace(t,t.face),this.computeHorizon(t.point,null,t.face,n),this.addNewFaces(t,n);for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===Ri)for(;this.doAdjacentMerge(s,w9););}for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===op)for(s.mark=Ri;this.doAdjacentMerge(s,ap););}this.resolveUnclaimedPoints(this.newFaces)}build(){let t;for(this.createInitialSimplex();t=this.nextVertexToAdd();)this.addVertexToHull(t);this.reindexFaceAndVertices()}};var C9=T9;const P9=C9,L9=(e,t={})=>{const n=new P9(e);return n.build(),n.collectFaces(t.skipTriangulation)};var O9=L9;const R9=mt,M9=_t,I9=Mt,D9=O9,F9=_d,x9=(...e)=>{if(e=R9(e),e.length===1)return e[0];const t=F9(e),r=D9(t,{skipTriangulation:!0}).map(s=>{const i=s.map(o=>t[o]);return I9.create(i)});return M9.create(r)};var k9=x9;const G9=mt,B9=Yo,N9=gt,$9=_t,V9=Ht,U9=jN,H9=ZN,z9=k9,j9=(...e)=>{if(e=G9(e),e.length===0)throw new Error("wrong number of arguments");if(!B9(e))throw new Error("only hulls of the same type are supported");const t=e[0];return V9.isA(t)?U9(e):N9.isA(t)?H9(e):$9.isA(t)?z9(e):t};var U2=j9;const q9=mt,X9=vd,W9=U2,Y9=(...e)=>{if(e=q9(e),e.length<2)throw new Error("wrong number of arguments");const t=[];for(let n=1;n<e.length;n++)t.push(W9(e[n-1],e[n]));return X9(t)};var Z9=Y9,K9={hull:U2,hullChain:Z9};const Eu=it,H2=Mt,Q9=(e,t)=>{const n=Math.abs(H2.measureArea(t));return Number.isFinite(n)&&n>e},J9=(e,t)=>{let n=t.map(s=>{const i=s.vertices.map(l=>Eu.snap(Eu.create(),l,e)),o=[];for(let l=0;l<i.length;l++){const c=(l+1)%i.length;Eu.equals(i[l],i[c])||o.push(i[l])}const a=H2.create(o);return s.color&&(a.color=s.color),a});const r=e*e*Math.sqrt(3)/4;return n=n.filter(s=>Q9(r,s)),n};var z2=J9;const e$=Nl,Di=it,wl=Mt,t$=e=>{const t=wl.toPoints(e),n=[];for(let r=0;r<t.length;r++){const s=(r+1)%t.length,i={v1:t[r],v2:t[s]};n.push(i)}for(let r=0;r<n.length;r++){const s=(r+1)%t.length;n[r].next=n[s],n[s].prev=n[r]}return n},n$=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.set(n,t)},wu=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.delete(n)},r$=(e,t)=>{const n=`${t.v2}:${t.v1}`;return e.get(n)},s$=(e,t,n)=>{let r=e.prev.v1,s=e.prev.v2,i=t.next.v2;const o=lp(r,s,i,n);r=t.prev.v1,s=t.prev.v2,i=e.next.v2;const a=lp(r,s,i,n);return[o,a]},i$=Di.create(),o$=Di.create(),lp=(e,t,n,r)=>{const s=Di.subtract(i$,t,e),i=Di.subtract(o$,n,t);return Di.cross(s,s,i),Di.dot(s,r)},a$=e=>{let t;const n=[];for(;e.next;){const r=e.next;n.push(e.v1),e.v1=null,e.v2=null,e.next=null,e.prev=null,e=r}return n.length>0&&(t=wl.create(n)),t},l$=e=>{if(e.length<2)return e;const t=e[0].plane,n=e.slice(),r=new Map;for(;n.length>0;){const i=n.shift(),o=t$(i);for(let a=0;a<o.length;a++){const l=o[a],c=r$(r,l);if(c){const f=s$(l,c,t);if(f[0]>=0&&f[1]>=0){const u=c.next,h=l.next;l.prev.next=c.next,l.next.prev=c.prev,c.prev.next=l.next,c.next.prev=l.prev,l.v1=null,l.v2=null,l.next=null,l.prev=null,wu(r,c),c.v1=null,c.v2=null,c.next=null,c.prev=null;const d=(g,p,m)=>{const v={v1:m.v1,v2:p.v2,next:p.next,prev:m.prev};m.prev.next=v,p.next.prev=v,wu(g,p),p.v1=null,p.v2=null,p.next=null,p.prev=null,wu(g,m),m.v1=null,m.v2=null,m.next=null,m.prev=null};f[0]===0&&d(r,u,u.prev),f[1]===0&&d(r,h,h.prev)}}else l.next&&n$(r,l)}}const s=[];return r.forEach(i=>{const o=a$(i);o&&s.push(o)}),r.clear(),s},c$=(e,t)=>Math.abs(e[3]-t[3])<15e-8?e$(e,t):!1,f$=(e,t)=>{const n=[];t.forEach(s=>{const i=n.find(o=>c$(o[0],wl.plane(s)));i?i[1].push(s):n.push([wl.plane(s),[s]])});let r=[];return n.forEach(s=>{const i=s[1],o=l$(i);r=r.concat(o)}),r};var u$=f$;const cp=Ft,Rr=it,d$=Mt,Zn=e=>`${e}`,fp=(e,t,n,r,s,i)=>{const o=Zn(r),a=Zn(s),l=`${o}/${a}`,c=`${a}/${o}`;if(e.has(c))return gl(e,t,n,s,r,null),null;const f={vertex0:r,vertex1:s,polygonindex:i};return e.has(l)?e.get(l).push(f):e.set(l,[f]),t.has(o)?t.get(o).push(l):t.set(o,[l]),n.has(a)?n.get(a).push(l):n.set(a,[l]),l},gl=(e,t,n,r,s,i)=>{const o=Zn(r),a=Zn(s),l=`${o}/${a}`;let c=-1;const f=e.get(l);for(let u=0;u<f.length;u++){const h=f[u];let d=Zn(h.vertex0);if(d===o&&(d=Zn(h.vertex1),d===a&&!(i!==null&&h.polygonindex!==i))){c=u;break}}f.splice(c,1),f.length===0&&e.delete(l),c=t.get(o).indexOf(l),t.get(o).splice(c,1),t.get(o).length===0&&t.delete(o),c=n.get(a).indexOf(l),n.get(a).splice(c,1),n.get(a).length===0&&n.delete(a)},h$=e=>{const t=new Map;for(let n=0;n<e.length;n++){const r=e[n],s=r.vertices.length;if(s>=3){let i=r.vertices[0],o=Zn(i);for(let a=0;a<s;a++){let l=a+1;l===s&&(l=0);const c=r.vertices[l],f=Zn(c),u=`${o}/${f}`,h=`${f}/${o}`;if(t.has(h)){const d=t.get(h);d.splice(-1,1),d.length===0&&t.delete(h)}else{const d={vertex0:i,vertex1:c,polygonindex:n};t.has(u)?t.get(u).push(d):t.set(u,[d])}i=c,o=f}}else console.warn("warning: invalid polygon found during insertTjunctions")}if(t.size>0){const n=new Map,r=new Map,s=new Map;for(const[o,a]of t)s.set(o,!0),a.forEach(l=>{const c=Zn(l.vertex0),f=Zn(l.vertex1);n.has(c)?n.get(c).push(o):n.set(c,[o]),r.has(f)?r.get(f).push(o):r.set(f,[o])});const i=e.slice(0);for(;t.size!==0;){for(const a of t.keys())s.set(a,!0);let o=!1;for(;;){const a=Array.from(s.keys());if(a.length===0)break;const l=a[0];let c=!0;if(t.has(l)){const u=t.get(l)[0];for(let h=0;h<2;h++){const d=h===0?u.vertex0:u.vertex1,g=h===0?u.vertex1:u.vertex0,p=Zn(d),m=Zn(g);let v=[];h===0?r.has(p)&&(v=r.get(p)):n.has(p)&&(v=n.get(p));for(let b=0;b<v.length;b++){const y=v[b],S=t.get(y)[0],w=h===0?S.vertex0:S.vertex1;if(h===0?S.vertex1:S.vertex0,Zn(w)===m){gl(t,n,r,d,g,null),gl(t,n,r,g,d,null),c=!1,h=2,o=!0;break}else{const A=d,O=g,U=w,N=Rr.subtract(Rr.create(),U,A),x=Rr.dot(Rr.subtract(Rr.create(),O,A),N)/Rr.dot(N,N);if(x>0&&x<1){const le=Rr.scale(Rr.create(),N,x);if(Rr.add(le,le,A),Rr.squaredDistance(le,O)<cp.EPS*cp.EPS){const W=S.polygonindex,Be=i[W],ne=Zn(S.vertex1);let H=-1;for(let ke=0;ke<Be.vertices.length;ke++)if(Zn(Be.vertices[ke])===ne){H=ke;break}const he=Be.vertices.slice(0);he.splice(H,0,g);const te=d$.create(he);i[W]=te,gl(t,n,r,S.vertex0,S.vertex1,W);const oe=fp(t,n,r,S.vertex0,g,W),ct=fp(t,n,r,g,S.vertex1,W);oe!==null&&s.set(oe,!0),ct!==null&&s.set(ct,!0),c=!1,h=2,o=!0;break}}}}}}c&&s.delete(l)}if(!o)break}e=i}return t.clear(),e};var m$=h$;const Tu=it,Cu=Mt,p$=(e,t,n)=>{const r=t.vertices.length;if(r>3){if(r>4){const o=[0,0,0];t.vertices.forEach(a=>Tu.add(o,o,a)),Tu.snap(o,Tu.divide(o,o,[r,r,r]),e);for(let a=0;a<r;a++){const l=Cu.create([o,t.vertices[a],t.vertices[(a+1)%r]]);t.color&&(l.color=t.color),n.push(l)}return}const s=Cu.create([t.vertices[0],t.vertices[1],t.vertices[2]]),i=Cu.create([t.vertices[0],t.vertices[2],t.vertices[3]]);t.color&&(s.color=t.color,i.color=t.color),n.push(s,i);return}n.push(t)},g$=(e,t)=>{const n=[];return t.forEach(r=>{p$(e,r,n)}),n};var v$=g$;const b$=mt,_$=_s,y$=gt,j2=_t,A$=Ht,S$=z2,E$=u$,w$=m$,T$=v$,C$=(e,t)=>t,P$=(e,t)=>t,L$=(e,t)=>{const n={snap:!1,simplify:!1,triangulate:!1},{snap:r,simplify:s,triangulate:i}=Object.assign({},n,e),o=_$(t);let a=j2.toPolygons(t);r&&(a=S$(o,a)),s&&(a=E$(o,a)),i&&(a=w$(a),a=T$(o,a));const l=Object.assign({},t);return l.polygons=a,l},O$=(e,...t)=>{if(t=b$(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>{if(A$.isA(r))return C$(e,r);if(y$.isA(r))return P$(e,r);if(j2.isA(r))return L$(e,r);throw new Error("invalid geometry")});return n.length===1?n[0]:n};var R$=O$;const M$=mt,qs=Et,qu=gt,Xu=_t,Wu=Ht,yd=_s,I$=z2,D$=e=>{const t=yd(e),r=Wu.toPoints(e).map(s=>qs.snap(qs.create(),s,t));return Wu.create(r)},F$=e=>{const t=yd(e);let r=qu.toSides(e).map(s=>[qs.snap(qs.create(),s[0],t),qs.snap(qs.create(),s[1],t)]);return r=r.filter(s=>!qs.equals(s[0],s[1])),qu.create(r)},x$=e=>{const t=yd(e),n=Xu.toPolygons(e),r=I$(t,n);return Xu.create(r)},k$=(...e)=>{if(e=M$(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>Wu.isA(n)?D$(n):qu.isA(n)?F$(n):Xu.isA(n)?x$(n):n);return t.length===1?t[0]:t};var G$=k$,B$={generalize:R$,snap:G$};const N$=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var $$=N$;const V$=mt,up=$$,q2=cd,{translate:U$}=Ws,H$=e=>{if(!Array.isArray(e.modes)||e.modes.length>3)throw new Error("align(): modes must be an array of length <= 3");if(e.modes=up(e.modes,"none",3),e.modes.filter(t=>["center","max","min","none"].includes(t)).length!==3)throw new Error('align(): all modes must be one of "center", "max" or "min"');if(!Array.isArray(e.relativeTo)||e.relativeTo.length>3)throw new Error("align(): relativeTo must be an array of length <= 3");if(e.relativeTo=up(e.relativeTo,0,3),e.relativeTo.filter(t=>Number.isFinite(t)||t==null).length!==3)throw new Error("align(): all relativeTo values must be a number, or null.");if(typeof e.grouped!="boolean")throw new Error("align(): grouped must be a boolean value.");return e},z$=(e,t,n)=>{for(let r=0;r<3;r++)e[r]==null&&(t[r]==="center"?e[r]=(n[0][r]+n[1][r])/2:t[r]==="max"?e[r]=n[1][r]:t[r]==="min"&&(e[r]=n[0][r]));return e},dp=(e,t,n)=>{const r=q2(e),s=[0,0,0];for(let i=0;i<3;i++)t[i]==="center"?s[i]=n[i]-(r[0][i]+r[1][i])/2:t[i]==="max"?s[i]=n[i]-r[1][i]:t[i]==="min"&&(s[i]=n[i]-r[0][i]);return U$(s,e)},j$=(e,...t)=>{e=Object.assign({},{modes:["center","center","min"],relativeTo:[0,0,0],grouped:!1},e),e=H$(e);let{modes:r,relativeTo:s,grouped:i}=e;if(t=V$(t),t.length===0)throw new Error("align(): No geometries were provided to act upon");if(s.filter(o=>o==null).length){const o=q2(t);s=z$(s,r,o)}return i?t=dp(t,r,s):t=t.map(o=>dp(o,r,s)),t.length===1?t[0]:t};var q$=j$;const X$=mt,W$=gt,Y$=_t,Z$=Ht,K$=Js,{translate:Q$}=Ws,Pu=(e,t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e),i=K$(t),o=[0,0,0];return r[0]&&(o[0]=s[0]-(i[0][0]+(i[1][0]-i[0][0])/2)),r[1]&&(o[1]=s[1]-(i[0][1]+(i[1][1]-i[0][1])/2)),r[2]&&(o[2]=s[2]-(i[0][2]+(i[1][2]-i[0][2])/2)),Q$(o,t)},Wl=(e,...t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e);if(t=X$(t),t.length===0)throw new Error("wrong number of arguments");if(s.length!==3)throw new Error("relativeTo must be an array of length 3");e={axes:r,relativeTo:s};const i=t.map(o=>Z$.isA(o)||W$.isA(o)||Y$.isA(o)?Pu(e,o):o);return i.length===1?i[0]:i},J$=(...e)=>Wl({axes:[!0,!1,!1]},e),eV=(...e)=>Wl({axes:[!1,!0,!1]},e),tV=(...e)=>Wl({axes:[!1,!1,!0]},e);var ll={center:Wl,centerX:J$,centerY:eV,centerZ:tV};const nV=mt,hp=qt,mp=gt,pp=_t,gp=Ht,Yl=(e,...t)=>{if(!Array.isArray(e))throw new Error("factors must be an array");if(t=nV(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(1);if(e[0]<=0||e[1]<=0||e[2]<=0)throw new Error("factors must be positive");const n=hp.fromScaling(hp.create(),e),r=t.map(s=>gp.isA(s)?gp.transform(n,s):mp.isA(s)?mp.transform(n,s):pp.isA(s)?pp.transform(n,s):s);return r.length===1?r[0]:r},rV=(e,...t)=>Yl([e,1,1],t),sV=(e,...t)=>Yl([1,e,1],t),iV=(e,...t)=>Yl([1,1,e],t);var cl={scale:Yl,scaleX:rV,scaleY:sV,scaleZ:iV};const oV=mt,vp=gt,bp=_t,_p=Ht,aV=(e,...t)=>{if(t=oV(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>_p.isA(r)?_p.transform(e,r):vp.isA(r)?vp.transform(e,r):bp.isA(r)?bp.transform(e,r):r);return n.length===1?n[0]:n};var lV=aV,cV={align:q$,center:ll.center,centerX:ll.centerX,centerY:ll.centerY,centerZ:ll.centerZ,mirror:Mo.mirror,mirrorX:Mo.mirrorX,mirrorY:Mo.mirrorY,mirrorZ:Mo.mirrorZ,rotate:Do.rotate,rotateX:Do.rotateX,rotateY:Do.rotateY,rotateZ:Do.rotateZ,scale:cl.scale,scaleX:cl.scaleX,scaleY:cl.scaleY,scaleZ:cl.scaleZ,transform:lV,translate:Ws.translate,translateX:Ws.translateX,translateY:Ws.translateY,translateZ:Ws.translateZ},Yr={colors:p6,curves:w6,geometries:id,maths:oM,measurements:Bu,primitives:P2,text:Tx,utils:M2,booleans:XG,expansions:jB,extrusions:xN,hulls:K9,modifiers:B$,transforms:cV};const{geometries:Lu}=Yr,fV=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=new ArrayBuffer(4),r=new Int32Array(n,0,1),s=new Int8Array(n,0,4);if(r[0]=287454020,s[0]!==68)throw new Error("Binary STL output is currently only supported on little-endian (Intel) processors");let i=0,o=0;e.forEach((m,v)=>{Lu.geom3.toPolygons(m).forEach(y=>{const S=y.vertices.length,w=S>=3?S-2:0;i+=w,o+=1})});const a=new Uint8Array(80);for(let m=0;m<80;m++)a[m]=65;const l=new Uint32Array(1);l[0]=i;const c=new ArrayBuffer(50*i),f=new Int8Array(c),u=new ArrayBuffer(50),h=new Int8Array(u),d=new Float32Array(u,0,12),g=new Uint16Array(u,48,1);let p=0;return e.forEach(m=>{Lu.geom3.toPolygons(m).forEach((b,y)=>{const S=b.vertices,w=S.length,E=Lu.poly3.plane(b);for(let A=0;A<w-2;A++){d[0]=E[0],d[1]=E[1],d[2]=E[2];let O=3;for(let U=0;U<3;U++){const N=U+(U>0?A:0),x=S[N];d[O++]=x[0],d[O++]=x[1],d[O++]=x[2]}g[0]=0,f.set(h,p),p+=50}t.statusCallback&&t.statusCallback({progress:100*y/o})})}),t.statusCallback&&t.statusCallback({progress:100}),[a.buffer,l.buffer,c]};var uV={serializeBinary:fV};const{geometries:X2}=Yr,dV=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=`solid JSCAD
${hV(e,t)}
endsolid JSCAD
`;return t.statusCallback&&t.statusCallback({progress:100}),[n]},hV=(e,t)=>{const n=[];return e.forEach((r,s)=>{n.push(mV(r)),t.statusCallback&&t.statusCallback({progress:100*s/e.length})}),n.join(`
`)},mV=(e,t)=>{const n=[];return X2.geom3.toPolygons(e).forEach((s,i)=>{n.push(pV(s))}),n.join(`
`)},W2=e=>`${e[0]} ${e[1]} ${e[2]}`,Ou=e=>`vertex ${W2(e)}`,pV=e=>{const t=[];if(e.vertices.length>=3){const n=Ou(e.vertices[0]);for(let r=0;r<e.vertices.length-2;r++){const s=`facet normal ${W2(X2.poly3.plane(e))}
outer loop
${n}
${Ou(e.vertices[r+1])}
${Ou(e.vertices[r+2])}
endloop
endfacet`;t.push(s)}}return t.join(`
`)};var gV={serializeText:dV};const{geometries:vV,modifiers:bV}=Yr,{flatten:_V,toArray:yV}=Zu,{serializeBinary:AV}=uV,{serializeText:SV}=gV,EV="application/sla",wV=(e,...t)=>{e=Object.assign({},{binary:!0,statusCallback:null},e),t=_V(t);let r=t.filter(s=>vV.geom3.isA(s));if(r.length===0)throw new Error("only 3D geometries can be serialized to STL");return t.length!==r.length&&console.warn("some objects could not be serialized to STL"),r=yV(bV.generalize({snap:!0,triangulate:!0},r)),e.binary?AV(r,e):SV(r,e)};var TV={mimeType:EV,serialize:wV};const CV=n5(TV);var Y2={exports:{}};(function(e,t){(function(n,r){r()})(zs,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,u){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,f,u)},h.onerror=function(){console.error("could not download file")},h.send()}function s(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof zs=="object"&&zs.global===zs?zs:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,u){var h=o.URL||o.webkitURL,d=document.createElement("a");f=f||c.name||"download",d.download=f,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?i(d):s(d.href)?r(c,f,u):i(d,d.target="_blank")):(d.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,u){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,u),f);else if(s(c))r(c,f,u);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){i(h)})}}:function(c,f,u,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,u);var d=c.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&g||a)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var y=m.result;y=p?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=y:location=y,h=null},m.readAsDataURL(c)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(c);h?h.location=b:location.href=b,h=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(Y2);var PV=Y2.exports;const LV=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Z2=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,2,2,1,2,2,2,0,2,2,2,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,0,0,0,0,0,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,0,2,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,3,2,1,2,3,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],OV=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,2,0,0,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,2,2,3,2,2,2,2,1,3,2,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,1,2,1,2,2,2,2,2,2,2,3,3,2,2,0,2,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,3,2,2,2,2,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,2,2,2,3,2,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,2,1,2,0,2,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,2,2,2,3,2,2,2,2,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,3,2,1,2,3,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,2,2,2,2,1,3,3,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],RV=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,2,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,1,0,2,2,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,2,2,2,0,0,2,2,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,1,0,2,2,0,1,0,2,2,0,1,3,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,2,1,0,2,3,2,0,1,2,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,2,0,3,1,1,1,3,0,2,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,2,0,2,1,2,1,2,0,2,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,2,1,3,2,1,2,3,1,2,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,1,2,2,0,0,3,0,0,2,2,1,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,2,0,0,2,2,1,2,2,0,0,2,3,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,2,0,0,2,2,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,1,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],{rotateY:MV,rotate:IV,scale:fl,translate:Sr,translateY:yp,translateZ:Ho,rotateX:DV}=Yr.transforms,{intersect:FV,subtract:Ad,union:qr}=Yr.booleans,{cuboid:Tl,cylinder:Go,polygon:xV,roundedRectangle:kV,torus:GV}=Yr.primitives,{extrudeLinear:K2}=Yr.extrusions;function BV(e,t,n){const r=Math.min(n,e/2-1e-5,t/2-1e-5);return[0,1,2].map(s=>MV(s*Math.PI/3,Ho(-r-e,K2({height:(e+r)*2},r>0?kV({size:[e,t],roundRadius:r,segments:64}):P2.rectangle({size:[e,t]}))))).reduce((s,i)=>FV(s,i))}function Ap(e,t){const n=Math.sqrt(3)*e/4;return K2({height:t},xV({points:[[e/2,0],[e/4,n],[-e/4,n],[-e/2,0],[-e/4,-n],[e/4,-n]]}))}function Q2(e,t,n,r,s,i=!1){const o=Ho(t/2-(i?s/2+n/2:s),IV([Math.PI/2,0,Math.PI/6],BV(e*.8658-.1,t-(i?n+s:0),r)));return i?o:Ad(o,Ho(n-t/2,Tl({size:[e,e,t]})))}function NV(e,t,n,r,s,i){const o=Ad(Ap(e+n*2,t),Ho(i===1?-1e-4:n,Ap(e,t+n*4)));return i===3?qr(o,Q2(e,t,n,r,s)):o}const Ys=7;function Sp(){return qr(Go({height:Ys,radius:10+2}),yp(-20,Go({height:Ys,radius:10+2})),yp(-10,Tl({size:[20+2*2,20,Ys]})))}function Ep(){return qr(Sr([0,0,-1.5],Go({height:6+1.5,radius:10})),Sr([0,-20,0],Go({height:6-1.5,radius:10})),Sr([0,-20,-2*1.5],Go({height:2*1.5,radius:5})),Sr([0,-10,-2*1.5],Tl({size:[10,20,6]})),Sr([0,-10,0],Tl({size:[20,20,6-1.5]})))}function $V(e,t,n,r,s,i,o,a){const l=[];for(let m=0;m<e.length;m++)for(let v=0;v<e[m].length;v++){const b=e[m][v];b&&l.push(Sr([.75*v*(t+n),Math.sqrt(3)*.5*(t+n)*(v%2*.5+m),0],NV(t,r,n,s,i,b)))}const c=qr(Q2(t,r,n,s,i,!0),Ho(r-n-i+1.5,DV(Math.PI/2,GV({innerRadius:1.5,outerRadius:5,outerSegments:128,innerSegments:64})))),f=qr(l),u=Bu.measureBoundingBox(f);let h,d,g;if(!isNaN(a)){const m=isNaN(o)?(u[0][0]+u[1][0])/2:(u[0][0]+u[1][0])/4-o/2,v=isNaN(o)?void 0:(u[0][0]+u[1][0])*(3/4)+o/2,b=(u[0][1]+u[1][1])/2+a;h=Sr([m,b,Ys/2],fl([.5,.5,1],Sp())),d=v===void 0?void 0:Sr([v,b,Ys/2],fl([.5,.5,1],Sp()));const y=Sr([m,b,Ys/2],fl([.5,.5,1],Ep()));g=v===void 0?y:qr(y,Sr([v,b,Ys/2],fl([.5,.5,1],Ep())))}const p=Bu.measureBoundingBox(c);return qr(Ad(d===void 0?qr(f,h):qr(f,h,d),g),Sr([(u[1][0]-u[0][0])/2,u[0][1]-(p[1][1]-p[0][1])*(3/2)],c))}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var VV={ACTIVE:"mdc-tab-indicator--active",FADE:"mdc-tab-indicator--fade",NO_TRANSITION:"mdc-tab-indicator--no-transition"},UV={CONTENT_SELECTOR:".mdc-tab-indicator__content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Xr=function(e){Jn(t,e);function t(n){return e.call(this,dn(dn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return VV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return UV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},computeContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setContentStyleProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.computeContentClientRect=function(){return this.adapter.computeContentClientRect()},t}(Fr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var HV=function(e){Jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(){this.adapter.addClass(Xr.cssClasses.ACTIVE)},t.prototype.deactivate=function(){this.adapter.removeClass(Xr.cssClasses.ACTIVE)},t}(Xr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var wp=function(e){Jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(n){if(!n){this.adapter.addClass(Xr.cssClasses.ACTIVE);return}var r=this.computeContentClientRect(),s=n.width/r.width,i=n.left-r.left;this.adapter.addClass(Xr.cssClasses.NO_TRANSITION),this.adapter.setContentStyleProperty("transform","translateX("+i+"px) scaleX("+s+")"),this.computeContentClientRect(),this.adapter.removeClass(Xr.cssClasses.NO_TRANSITION),this.adapter.addClass(Xr.cssClasses.ACTIVE),this.adapter.setContentStyleProperty("transform","")},t.prototype.deactivate=function(){this.adapter.removeClass(Xr.cssClasses.ACTIVE)},t}(Xr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ul={ACTIVE:"mdc-tab--active"},Oo={ARIA_SELECTED:"aria-selected",CONTENT_SELECTOR:".mdc-tab__content",INTERACTED_EVENT:"MDCTab:interacted",RIPPLE_SELECTOR:".mdc-tab__ripple",TABINDEX:"tabIndex",TAB_INDICATOR_SELECTOR:".mdc-tab-indicator"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var zV=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.focusOnActivate=!0,r}return Object.defineProperty(t,"cssClasses",{get:function(){return ul},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Oo},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},activateIndicator:function(){},deactivateIndicator:function(){},notifyInteracted:function(){},getOffsetLeft:function(){return 0},getOffsetWidth:function(){return 0},getContentOffsetLeft:function(){return 0},getContentOffsetWidth:function(){return 0},focus:function(){}}},enumerable:!1,configurable:!0}),t.prototype.handleClick=function(){this.adapter.notifyInteracted()},t.prototype.isActive=function(){return this.adapter.hasClass(ul.ACTIVE)},t.prototype.setFocusOnActivate=function(n){this.focusOnActivate=n},t.prototype.activate=function(n){this.adapter.addClass(ul.ACTIVE),this.adapter.setAttr(Oo.ARIA_SELECTED,"true"),this.adapter.setAttr(Oo.TABINDEX,"0"),this.adapter.activateIndicator(n),this.focusOnActivate&&this.adapter.focus()},t.prototype.deactivate=function(){this.isActive()&&(this.adapter.removeClass(ul.ACTIVE),this.adapter.setAttr(Oo.ARIA_SELECTED,"false"),this.adapter.setAttr(Oo.TABINDEX,"-1"),this.adapter.deactivateIndicator())},t.prototype.computeDimensions=function(){var n=this.adapter.getOffsetWidth(),r=this.adapter.getOffsetLeft(),s=this.adapter.getContentOffsetWidth(),i=this.adapter.getContentOffsetLeft();return{contentLeft:r+i,contentRight:r+i+s,rootLeft:r,rootRight:r+n}},t}(Fr);function jV(e){let t,n,r,s,i,o,a,l,c,f,u;const h=e[21].default,d=kt(h,e,e[20],null);let g=[{class:r=dt({[e[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":e[3]==="underline","mdc-tab-indicator__content--icon":e[3]==="icon"})},{style:s=Object.entries(e[10]).map(Tp).join(" ")},{"aria-hidden":i=e[3]==="icon"?"true":void 0},jt(e[12],"content$")],p={};for(let b=0;b<g.length;b+=1)p=je(p,g[b]);let m=[{class:a=dt({[e[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":e[0],"mdc-tab-indicator--fade":e[4]==="fade",...e[9]})},gr(e[12],["content$"])],v={};for(let b=0;b<m.length;b+=1)v=je(v,m[b]);return{c(){t=Tt("span"),n=Tt("span"),d&&d.c(),Lt(n,p),Lt(t,v)},m(b,y){Le(b,t,y),En(t,n),d&&d.m(n,null),e[22](n),e[23](t),c=!0,f||(u=[St(o=vn.call(null,n,e[5])),St(l=vn.call(null,t,e[1])),St(e[11].call(null,t))],f=!0)},p(b,[y]){d&&d.p&&(!c||y&1048576)&&Bt(d,h,b,b[20],c?Gt(h,b[20],y,null):Nt(b[20]),null),Lt(n,p=Ot(g,[(!c||y&72&&r!==(r=dt({[b[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":b[3]==="underline","mdc-tab-indicator__content--icon":b[3]==="icon"})))&&{class:r},(!c||y&1024&&s!==(s=Object.entries(b[10]).map(Tp).join(" ")))&&{style:s},(!c||y&8&&i!==(i=b[3]==="icon"?"true":void 0))&&{"aria-hidden":i},y&4096&&jt(b[12],"content$")])),o&&Vt(o.update)&&y&32&&o.update.call(null,b[5]),Lt(t,v=Ot(m,[(!c||y&533&&a!==(a=dt({[b[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":b[0],"mdc-tab-indicator--fade":b[4]==="fade",...b[9]})))&&{class:a},y&4096&&gr(b[12],["content$"])])),l&&Vt(l.update)&&y&2&&l.update.call(null,b[1])},i(b){c||(se(d,b),c=!0)},o(b){fe(d,b),c=!1},d(b){b&&Pe(t),d&&d.d(b),e[22](null),e[23](null),f=!1,ln(u)}}}const Tp=([e,t])=>`${e}: ${t};`;function qV(e,t,n){const r=["use","class","active","type","transition","content$use","content$class","activate","deactivate","computeContentClientRect","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(rn());let{use:l=[]}=t,{class:c=""}=t,{active:f=!1}=t,{type:u="underline"}=t,{transition:h="slide"}=t,{content$use:d=[]}=t,{content$class:g=""}=t,p,m,v,b={},y={},S=[],w=h;ir(()=>(n(17,m=E()),m.init(),()=>{m.destroy()}));function E(){const H={fade:HV,slide:wp}[h]||wp;return new H({addClass:(...he)=>A(()=>O(...he)),removeClass:(...he)=>A(()=>U(...he)),computeContentClientRect:$,setContentStyleProperty:(...he)=>A(()=>N(...he))})}function A(H){S.length?S[S.length-1].push(H):H()}function O(H){b[H]||n(9,b[H]=!0,b)}function U(H){(!(H in b)||b[H])&&n(9,b[H]=!1,b)}function N(H,he){y[H]!=he&&(he===""||he==null?(delete y[H],n(10,y),n(19,w),n(4,h),n(17,m)):n(10,y[H]=he,y))}function x(H){n(0,f=!0),m.activate(H)}function le(){n(0,f=!1),m.deactivate()}function $(){return S.push([]),n(18,S),v.getBoundingClientRect()}function W(){return p}function Be(H){lt[H?"unshift":"push"](()=>{v=H,n(8,v)})}function ne(H){lt[H?"unshift":"push"](()=>{p=H,n(7,p)})}return e.$$set=H=>{t=je(je({},t),bn(H)),n(12,s=wt(t,r)),"use"in H&&n(1,l=H.use),"class"in H&&n(2,c=H.class),"active"in H&&n(0,f=H.active),"type"in H&&n(3,u=H.type),"transition"in H&&n(4,h=H.transition),"content$use"in H&&n(5,d=H.content$use),"content$class"in H&&n(6,g=H.content$class),"$$scope"in H&&n(20,o=H.$$scope)},e.$$.update=()=>{e.$$.dirty&655376&&w!==h&&(n(19,w=h),m&&m.destroy(),n(9,b={}),n(10,y={}),n(17,m=E()),m.init()),e.$$.dirty&262144&&S.length&&requestAnimationFrame(()=>{var H;const he=(H=S.shift())!==null&&H!==void 0?H:[];n(18,S);for(const te of he)te()})},[f,l,c,u,h,d,g,p,v,b,y,a,s,x,le,$,W,m,S,w,o,i,Be,ne]}class J2 extends en{constructor(t){super(),Jt(this,t,qV,jV,Ut,{use:1,class:2,active:0,type:3,transition:4,content$use:5,content$class:6,activate:13,deactivate:14,computeContentClientRect:15,getElement:16})}get activate(){return this.$$.ctx[13]}get deactivate(){return this.$$.ctx[14]}get computeContentClientRect(){return this.$$.ctx[15]}get getElement(){return this.$$.ctx[16]}}const XV=e=>({}),Cp=e=>({}),WV=e=>({}),Pp=e=>({});function Lp(e){let t,n;const r=[{active:e[18]},jt(e[25],"tabIndicator$")];let s={$$slots:{default:[YV]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new J2({props:s}),e[33](t),{c(){tt(t.$$.fragment)},m(i,o){Je(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?Ot(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&on(jt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(se(t.$$.fragment,i),n=!0)},o(i){fe(t.$$.fragment,i),n=!1},d(i){e[33](null),et(t,i)}}}function YV(e){let t;const n=e[32]["tab-indicator"],r=kt(n,e,e[37],Pp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&Bt(r,n,s,s[37],t?Gt(n,s[37],i,WV):Nt(s[37]),Pp)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function Op(e){let t,n;const r=[{active:e[18]},jt(e[25],"tabIndicator$")];let s={$$slots:{default:[ZV]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new J2({props:s}),e[35](t),{c(){tt(t.$$.fragment)},m(i,o){Je(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?Ot(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&on(jt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(se(t.$$.fragment,i),n=!0)},o(i){fe(t.$$.fragment,i),n=!1},d(i){e[35](null),et(t,i)}}}function ZV(e){let t;const n=e[32]["tab-indicator"],r=kt(n,e,e[37],Cp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&Bt(r,n,s,s[37],t?Gt(n,s[37],i,XV):Nt(s[37]),Cp)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function KV(e){let t,n,r,s,i,o,a,l,c,f;const u=e[32].default,h=kt(u,e,e[37],null);let d=e[6]&&Lp(e),g=[{class:r=dt({[e[9]]:!0,"mdc-tab__content":!0})},jt(e[25],"content$")],p={};for(let v=0;v<g.length;v+=1)p=je(p,g[v]);let m=!e[6]&&Op(e);return{c(){t=Tt("span"),h&&h.c(),n=At(),d&&d.c(),i=At(),m&&m.c(),o=At(),a=Tt("span"),Lt(t,p),Dt(a,"class","mdc-tab__ripple")},m(v,b){Le(v,t,b),h&&h.m(t,null),En(t,n),d&&d.m(t,null),e[34](t),Le(v,i,b),m&&m.m(v,b),Le(v,o,b),Le(v,a,b),l=!0,c||(f=St(s=vn.call(null,t,e[8])),c=!0)},p(v,b){h&&h.p&&(!l||b[1]&64)&&Bt(h,u,v,v[37],l?Gt(u,v[37],b,null):Nt(v[37]),null),v[6]?d?(d.p(v,b),b[0]&64&&se(d,1)):(d=Lp(v),d.c(),se(d,1),d.m(t,null)):d&&(Yt(),fe(d,1,1,()=>{d=null}),Zt()),Lt(t,p=Ot(g,[(!l||b[0]&512&&r!==(r=dt({[v[9]]:!0,"mdc-tab__content":!0})))&&{class:r},b[0]&33554432&&jt(v[25],"content$")])),s&&Vt(s.update)&&b[0]&256&&s.update.call(null,v[8]),v[6]?m&&(Yt(),fe(m,1,1,()=>{m=null}),Zt()):m?(m.p(v,b),b[0]&64&&se(m,1)):(m=Op(v),m.c(),se(m,1),m.m(o.parentNode,o))},i(v){l||(se(h,v),se(d),se(m),l=!0)},o(v){fe(h,v),fe(d),fe(m),l=!1},d(v){v&&Pe(t),h&&h.d(v),d&&d.d(),e[34](null),v&&Pe(i),m&&m.d(v),v&&Pe(o),v&&Pe(a),c=!1,f()}}}function QV(e){let t,n,r;const s=[{tag:e[11]},{use:[[Wr,{ripple:e[3],unbounded:!1,addClass:e[21],removeClass:e[22],addStyle:e[23]}],e[20],...e[0]]},{class:dt({[e[1]]:!0,"mdc-tab":!0,"mdc-tab--active":e[18],"mdc-tab--stacked":e[4],"mdc-tab--min-width":e[5],...e[15]})},{style:Object.entries(e[16]).map(Rp).concat([e[2]]).join(" ")},{role:"tab"},{"aria-selected":e[18]?"true":"false"},{tabindex:e[18]||e[19]?"0":"-1"},{href:e[7]},e[17],gr(e[25],["content$","tabIndicator$"])];var i=e[10];function o(a){let l={$$slots:{default:[KV]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[36](t),t.$on("click",e[24])),{c(){t&&tt(t.$$.fragment),n=hn()},m(a,l){t&&Je(t,a,l),Le(a,n,l),r=!0},p(a,l){const c=l[0]&50301119?Ot(s,[l[0]&2048&&{tag:a[11]},l[0]&15728649&&{use:[[Wr,{ripple:a[3],unbounded:!1,addClass:a[21],removeClass:a[22],addStyle:a[23]}],a[20],...a[0]]},l[0]&294962&&{class:dt({[a[1]]:!0,"mdc-tab":!0,"mdc-tab--active":a[18],"mdc-tab--stacked":a[4],"mdc-tab--min-width":a[5],...a[15]})},l[0]&65540&&{style:Object.entries(a[16]).map(Rp).concat([a[2]]).join(" ")},s[4],l[0]&262144&&{"aria-selected":a[18]?"true":"false"},l[0]&786432&&{tabindex:a[18]||a[19]?"0":"-1"},l[0]&128&&{href:a[7]},l[0]&131072&&on(a[17]),l[0]&33554432&&on(gr(a[25],["content$","tabIndicator$"]))]):{};if(l[0]&33841984|l[1]&64&&(c.$$scope={dirty:l,ctx:a}),l[0]&1024&&i!==(i=a[10])){if(t){Yt();const f=t;fe(f.$$.fragment,1,0,()=>{et(f,1)}),Zt()}i?(t=pr(i,o(a)),a[36](t),t.$on("click",a[24]),tt(t.$$.fragment),se(t.$$.fragment,1),Je(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&se(t.$$.fragment,a),r=!0)},o(a){t&&fe(t.$$.fragment,a),r=!1},d(a){e[36](null),a&&Pe(n),t&&et(t,a)}}}const Rp=([e,t])=>`${e}: ${t};`;function JV(e,t,n){const r=["use","class","style","tab","ripple","stacked","minWidth","indicatorSpanOnlyContent","href","content$use","content$class","component","tag","activate","deactivate","focus","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(rn());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{tab:u}=t,{ripple:h=!0}=t,{stacked:d=!1}=t,{minWidth:g=!1}=t,{indicatorSpanOnlyContent:p=!1}=t,{href:m=void 0}=t,{content$use:v=[]}=t,{content$class:b=""}=t,y,S,w,E,A={},O={},U={},N=dr("SMUI:tab:focusOnActivate"),x=u===dr("SMUI:tab:initialActive"),le=!1,{component:$=vr}=t,{tag:W=$===vr?m==null?"button":"a":void 0}=t;if(ur("SMUI:label:context","tab"),ur("SMUI:icon:context","tab"),!u)throw new Error("The tab property is required! It should be passed down from the TabBar to the Tab.");ir(()=>{n(31,S=new zV({setAttr:te,addClass:ne,removeClass:H,hasClass:Be,activateIndicator:Rn=>E.activate(Rn),deactivateIndicator:()=>E.deactivate(),notifyInteracted:()=>$n(Xt(),"SMUITab:interacted",{tabId:u},void 0,!0),getOffsetLeft:()=>Xt().offsetLeft,getOffsetWidth:()=>Xt().offsetWidth,getContentOffsetLeft:()=>w.offsetLeft,getContentOffsetWidth:()=>w.offsetWidth,focus:Pt}));const Ve={tabId:u,get element(){return Xt()},get active(){return x},forceAccessible(Rn){n(19,le=Rn)},computeIndicatorClientRect:()=>E.computeContentClientRect(),computeDimensions:()=>S.computeDimensions(),focus:Pt,activate:ct,deactivate:ke};return $n(Xt(),"SMUITab:mount",Ve),S.init(),()=>{$n(Xt(),"SMUITab:unmount",Ve),S.destroy()}});function Be(Ve){return Ve in A?A[Ve]:Xt().classList.contains(Ve)}function ne(Ve){A[Ve]||n(15,A[Ve]=!0,A)}function H(Ve){(!(Ve in A)||A[Ve])&&n(15,A[Ve]=!1,A)}function he(Ve,Rn){O[Ve]!=Rn&&(Rn===""||Rn==null?(delete O[Ve],n(16,O)):n(16,O[Ve]=Rn,O))}function te(Ve,Rn){U[Ve]!==Rn&&n(17,U[Ve]=Rn,U)}function oe(Ve){!Ve.defaultPrevented&&S&&S.handleClick()}function ct(Ve,Rn){n(18,x=!0),Rn&&S.setFocusOnActivate(!1),S.activate(Ve),Rn&&S.setFocusOnActivate(N)}function ke(){n(18,x=!1),S.deactivate()}function Pt(){Xt().focus()}function Xt(){return y.getElement()}function $t(Ve){lt[Ve?"unshift":"push"](()=>{E=Ve,n(14,E)})}function On(Ve){lt[Ve?"unshift":"push"](()=>{w=Ve,n(13,w)})}function zn(Ve){lt[Ve?"unshift":"push"](()=>{E=Ve,n(14,E)})}function Ye(Ve){lt[Ve?"unshift":"push"](()=>{y=Ve,n(12,y)})}return e.$$set=Ve=>{t=je(je({},t),bn(Ve)),n(25,s=wt(t,r)),"use"in Ve&&n(0,l=Ve.use),"class"in Ve&&n(1,c=Ve.class),"style"in Ve&&n(2,f=Ve.style),"tab"in Ve&&n(26,u=Ve.tab),"ripple"in Ve&&n(3,h=Ve.ripple),"stacked"in Ve&&n(4,d=Ve.stacked),"minWidth"in Ve&&n(5,g=Ve.minWidth),"indicatorSpanOnlyContent"in Ve&&n(6,p=Ve.indicatorSpanOnlyContent),"href"in Ve&&n(7,m=Ve.href),"content$use"in Ve&&n(8,v=Ve.content$use),"content$class"in Ve&&n(9,b=Ve.content$class),"component"in Ve&&n(10,$=Ve.component),"tag"in Ve&&n(11,W=Ve.tag),"$$scope"in Ve&&n(37,o=Ve.$$scope)},e.$$.update=()=>{e.$$.dirty[1]&1&&S&&S.setFocusOnActivate(N)},[l,c,f,h,d,g,p,m,v,b,$,W,y,w,E,A,O,U,x,le,a,ne,H,he,oe,s,u,ct,ke,Pt,Xt,S,i,$t,On,zn,Ye,o]}class eU extends en{constructor(t){super(),Jt(this,t,JV,QV,Ut,{use:0,class:1,style:2,tab:26,ripple:3,stacked:4,minWidth:5,indicatorSpanOnlyContent:6,href:7,content$use:8,content$class:9,component:10,tag:11,activate:27,deactivate:28,focus:29,getElement:30},null,[-1,-1])}get activate(){return this.$$.ctx[27]}get deactivate(){return this.$$.ctx[28]}get focus(){return this.$$.ctx[29]}get getElement(){return this.$$.ctx[30]}}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var eb={ANIMATING:"mdc-tab-scroller--animating",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll",SCROLL_TEST:"mdc-tab-scroller__test"},tU={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Sd=function(){function e(t){this.adapter=t}return e}();/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var nU=function(e){Jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(){var n=this.adapter.getScrollAreaScrollLeft(),r=this.calculateScrollEdges().right;return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.calculateScrollEdges(),s=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(r.right-n);return{finalScrollPosition:i,scrollDelta:i-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n){return n},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t}(Sd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var rU=function(e){Jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(n-r)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n,r){return n-r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:r-n,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.max(Math.min(r.right,n),r.left)},t}(Sd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var sU=function(e){Jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r+n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.getAnimatingScrollPosition=function(n,r){return n+r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:n-r,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.right,n),r.left)},t}(Sd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var iU=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.isAnimating=!1,r}return Object.defineProperty(t,"cssClasses",{get:function(){return eb},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return tU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{eventTargetMatchesSelector:function(){return!1},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){return""},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){return 0},getScrollContentOffsetWidth:function(){return 0},getScrollAreaOffsetWidth:function(){return 0},computeScrollAreaClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeScrollContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeHorizontalScrollbarHeight:function(){return 0}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this.adapter.computeHorizontalScrollbarHeight();this.adapter.setScrollAreaStyleProperty("margin-bottom",-n+"px"),this.adapter.addScrollAreaClass(t.cssClasses.SCROLL_AREA_SCROLL)},t.prototype.getScrollPosition=function(){if(this.isRTL())return this.computeCurrentScrollPositionRTL();var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return r-n},t.prototype.handleInteraction=function(){this.isAnimating&&this.stopScrollAnimation()},t.prototype.handleTransitionEnd=function(n){var r=n.target;!this.isAnimating||!this.adapter.eventTargetMatchesSelector(r,t.strings.CONTENT_SELECTOR)||(this.isAnimating=!1,this.adapter.removeClass(t.cssClasses.ANIMATING))},t.prototype.incrementScroll=function(n){n!==0&&this.animate(this.getIncrementScrollOperation(n))},t.prototype.incrementScrollImmediate=function(n){if(n!==0){var r=this.getIncrementScrollOperation(n);r.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(r.finalScrollPosition))}},t.prototype.scrollTo=function(n){if(this.isRTL()){this.scrollToImplRTL(n);return}this.scrollToImpl(n)},t.prototype.getRTLScroller=function(){return this.rtlScrollerInstance||(this.rtlScrollerInstance=this.rtlScrollerFactory()),this.rtlScrollerInstance},t.prototype.calculateCurrentTranslateX=function(){var n=this.adapter.getScrollContentStyleValue("transform");if(n==="none")return 0;var r=/\((.+?)\)/.exec(n);if(!r)return 0;var s=r[1],i=L5(s.split(","),6);i[0],i[1],i[2],i[3];var o=i[4];return i[5],parseFloat(o)},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t.prototype.computeCurrentScrollPositionRTL=function(){var n=this.calculateCurrentTranslateX();return this.getRTLScroller().getScrollPositionRTL(n)},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.scrollToImpl=function(n){var r=this.getScrollPosition(),s=this.clampScrollValue(n),i=s-r;this.animate({finalScrollPosition:s,scrollDelta:i})},t.prototype.scrollToImplRTL=function(n){var r=this.getRTLScroller().scrollToRTL(n);this.animate(r)},t.prototype.getIncrementScrollOperation=function(n){if(this.isRTL())return this.getRTLScroller().incrementScrollRTL(n);var r=this.getScrollPosition(),s=n+r,i=this.clampScrollValue(s),o=i-r;return{finalScrollPosition:i,scrollDelta:o}},t.prototype.animate=function(n){var r=this;n.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(n.finalScrollPosition),this.adapter.setScrollContentStyleProperty("transform","translateX("+n.scrollDelta+"px)"),this.adapter.computeScrollAreaClientRect(),requestAnimationFrame(function(){r.adapter.addClass(t.cssClasses.ANIMATING),r.adapter.setScrollContentStyleProperty("transform","none")}),this.isAnimating=!0)},t.prototype.stopScrollAnimation=function(){this.isAnimating=!1;var n=this.getAnimatingScrollPosition();this.adapter.removeClass(t.cssClasses.ANIMATING),this.adapter.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter.setScrollAreaScrollLeft(n)},t.prototype.getAnimatingScrollPosition=function(){var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return this.isRTL()?this.getRTLScroller().getAnimatingScrollPosition(r,n):r-n},t.prototype.rtlScrollerFactory=function(){var n=this.adapter.getScrollAreaScrollLeft();this.adapter.setScrollAreaScrollLeft(n-1);var r=this.adapter.getScrollAreaScrollLeft();if(r<0)return this.adapter.setScrollAreaScrollLeft(n),new rU(this.adapter);var s=this.adapter.computeScrollAreaClientRect(),i=this.adapter.computeScrollContentClientRect(),o=Math.round(i.right-s.right);return this.adapter.setScrollAreaScrollLeft(n),o===r?new sU(this.adapter):new nU(this.adapter)},t.prototype.isRTL=function(){return this.adapter.getScrollContentStyleValue("direction")==="rtl"},t}(Fr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ru;function oU(e,t){if(t===void 0&&(t=!0),t&&typeof Ru<"u")return Ru;var n=e.createElement("div");n.classList.add(eb.SCROLL_TEST),e.body.appendChild(n);var r=n.offsetHeight-n.clientHeight;return e.body.removeChild(n),t&&(Ru=r),r}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ln={ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",ENTER_KEY:"Enter",HOME_KEY:"Home",SPACE_KEY:"Space",TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab"},Er={ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,ENTER_KEYCODE:13,EXTRA_SCROLL_AMOUNT:20,HOME_KEYCODE:36,SPACE_KEYCODE:32};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ti=new Set;ti.add(Ln.ARROW_LEFT_KEY);ti.add(Ln.ARROW_RIGHT_KEY);ti.add(Ln.END_KEY);ti.add(Ln.HOME_KEY);ti.add(Ln.ENTER_KEY);ti.add(Ln.SPACE_KEY);var ni=new Map;ni.set(Er.ARROW_LEFT_KEYCODE,Ln.ARROW_LEFT_KEY);ni.set(Er.ARROW_RIGHT_KEYCODE,Ln.ARROW_RIGHT_KEY);ni.set(Er.END_KEYCODE,Ln.END_KEY);ni.set(Er.HOME_KEYCODE,Ln.HOME_KEY);ni.set(Er.ENTER_KEYCODE,Ln.ENTER_KEY);ni.set(Er.SPACE_KEYCODE,Ln.SPACE_KEY);var aU=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.useAutomaticActivation=!1,r}return Object.defineProperty(t,"strings",{get:function(){return Ln},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Er},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){return 0},getScrollContentWidth:function(){return 0},getOffsetWidth:function(){return 0},isRTL:function(){return!1},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabDimensionsAtIndex:function(){return{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:function(){return-1},getFocusedTabIndex:function(){return-1},getIndexOfTabById:function(){return-1},getTabListLength:function(){return 0},notifyTabActivated:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setUseAutomaticActivation=function(n){this.useAutomaticActivation=n},t.prototype.activateTab=function(n){var r=this.adapter.getPreviousActiveTabIndex();if(!(!this.indexIsInRange(n)||n===r)){var s;r!==-1&&(this.adapter.deactivateTabAtIndex(r),s=this.adapter.getTabIndicatorClientRectAtIndex(r)),this.adapter.activateTabAtIndex(n,s),this.scrollIntoView(n),this.adapter.notifyTabActivated(n)}},t.prototype.handleKeyDown=function(n){var r=this.getKeyFromEvent(n);if(r!==void 0)if(this.isActivationKey(r)||n.preventDefault(),this.useAutomaticActivation){if(this.isActivationKey(r))return;var s=this.determineTargetFromKey(this.adapter.getPreviousActiveTabIndex(),r);this.adapter.setActiveTab(s),this.scrollIntoView(s)}else{var i=this.adapter.getFocusedTabIndex();if(this.isActivationKey(r))this.adapter.setActiveTab(i);else{var s=this.determineTargetFromKey(i,r);this.adapter.focusTabAtIndex(s),this.scrollIntoView(s)}}},t.prototype.handleTabInteraction=function(n){this.adapter.setActiveTab(this.adapter.getIndexOfTabById(n.detail.tabId))},t.prototype.scrollIntoView=function(n){if(this.indexIsInRange(n)){if(n===0){this.adapter.scrollTo(0);return}if(n===this.adapter.getTabListLength()-1){this.adapter.scrollTo(this.adapter.getScrollContentWidth());return}if(this.isRTL()){this.scrollIntoViewImplRTL(n);return}this.scrollIntoViewImpl(n)}},t.prototype.determineTargetFromKey=function(n,r){var s=this.isRTL(),i=this.adapter.getTabListLength()-1,o=r===Ln.END_KEY,a=r===Ln.ARROW_LEFT_KEY&&!s||r===Ln.ARROW_RIGHT_KEY&&s,l=r===Ln.ARROW_RIGHT_KEY&&!s||r===Ln.ARROW_LEFT_KEY&&s,c=n;return o?c=i:a?c-=1:l?c+=1:c=0,c<0?c=i:c>i&&(c=0),c},t.prototype.calculateScrollIncrement=function(n,r,s,i){var o=this.adapter.getTabDimensionsAtIndex(r),a=o.contentLeft-s-i,l=o.contentRight-s,c=l-Er.EXTRA_SCROLL_AMOUNT,f=a+Er.EXTRA_SCROLL_AMOUNT;return r<n?Math.min(c,0):Math.max(f,0)},t.prototype.calculateScrollIncrementRTL=function(n,r,s,i,o){var a=this.adapter.getTabDimensionsAtIndex(r),l=o-a.contentLeft-s,c=o-a.contentRight-s-i,f=c+Er.EXTRA_SCROLL_AMOUNT,u=l-Er.EXTRA_SCROLL_AMOUNT;return r>n?Math.max(f,0):Math.min(u,0)},t.prototype.findAdjacentTabIndexClosestToEdge=function(n,r,s,i){var o=r.rootLeft-s,a=r.rootRight-s-i,l=o+a,c=o<0||l<0,f=a>0||l>0;return c?n-1:f?n+1:-1},t.prototype.findAdjacentTabIndexClosestToEdgeRTL=function(n,r,s,i,o){var a=o-r.rootLeft-i-s,l=o-r.rootRight-s,c=a+l,f=a>0||c>0,u=l<0||c<0;return f?n+1:u?n-1:-1},t.prototype.getKeyFromEvent=function(n){return ti.has(n.key)?n.key:ni.get(n.keyCode)},t.prototype.isActivationKey=function(n){return n===Ln.SPACE_KEY||n===Ln.ENTER_KEY},t.prototype.indexIsInRange=function(n){return n>=0&&n<this.adapter.getTabListLength()},t.prototype.isRTL=function(){return this.adapter.isRTL()},t.prototype.scrollIntoViewImpl=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.findAdjacentTabIndexClosestToEdge(n,i,r,s);if(this.indexIsInRange(o)){var a=this.calculateScrollIncrement(n,o,r,s);this.adapter.incrementScroll(a)}},t.prototype.scrollIntoViewImplRTL=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.adapter.getScrollContentWidth(),a=this.findAdjacentTabIndexClosestToEdgeRTL(n,i,r,s,o);if(this.indexIsInRange(a)){var l=this.calculateScrollIncrementRTL(n,a,r,s,o);this.adapter.incrementScroll(l)}},t}(Fr);function lU(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g;const p=e[23].default,m=kt(p,e,e[22],null);let v=[{class:s=dt({[e[6]]:!0,"mdc-tab-scroller__scroll-content":!0})},{style:i=Object.entries(e[14]).map(Mp).join(" ")},jt(e[16],"scrollContent$")],b={};for(let A=0;A<v.length;A+=1)b=je(b,v[A]);let y=[{class:a=dt({[e[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...e[12]})},{style:l=Object.entries(e[13]).map(Ip).join(" ")},jt(e[16],"scrollArea$")],S={};for(let A=0;A<y.length;A+=1)S=je(S,y[A]);let w=[{class:f=dt({[e[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":e[2]==="start","mdc-tab-scroller--align-end":e[2]==="end","mdc-tab-scroller--align-center":e[2]==="center",...e[11]})},gr(e[16],["scrollArea$","scrollContent$"])],E={};for(let A=0;A<w.length;A+=1)E=je(E,w[A]);return{c(){t=Tt("div"),n=Tt("div"),r=Tt("div"),m&&m.c(),Lt(r,b),Lt(n,S),Lt(t,E)},m(A,O){Le(A,t,O),En(t,n),En(n,r),m&&m.m(r,null),e[24](r),e[26](n),e[32](t),h=!0,d||(g=[St(o=vn.call(null,r,e[5])),Rt(r,"transitionend",e[25]),St(c=vn.call(null,n,e[3])),Rt(n,"wheel",e[27],{passive:!0}),Rt(n,"touchstart",e[28],{passive:!0}),Rt(n,"pointerdown",e[29]),Rt(n,"mousedown",e[30]),Rt(n,"keydown",e[31]),St(u=vn.call(null,t,e[0])),St(e[15].call(null,t))],d=!0)},p(A,O){m&&m.p&&(!h||O[0]&4194304)&&Bt(m,p,A,A[22],h?Gt(p,A[22],O,null):Nt(A[22]),null),Lt(r,b=Ot(v,[(!h||O[0]&64&&s!==(s=dt({[A[6]]:!0,"mdc-tab-scroller__scroll-content":!0})))&&{class:s},(!h||O[0]&16384&&i!==(i=Object.entries(A[14]).map(Mp).join(" ")))&&{style:i},O[0]&65536&&jt(A[16],"scrollContent$")])),o&&Vt(o.update)&&O[0]&32&&o.update.call(null,A[5]),Lt(n,S=Ot(y,[(!h||O[0]&4112&&a!==(a=dt({[A[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...A[12]})))&&{class:a},(!h||O[0]&8192&&l!==(l=Object.entries(A[13]).map(Ip).join(" ")))&&{style:l},O[0]&65536&&jt(A[16],"scrollArea$")])),c&&Vt(c.update)&&O[0]&8&&c.update.call(null,A[3]),Lt(t,E=Ot(w,[(!h||O[0]&2054&&f!==(f=dt({[A[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":A[2]==="start","mdc-tab-scroller--align-end":A[2]==="end","mdc-tab-scroller--align-center":A[2]==="center",...A[11]})))&&{class:f},O[0]&65536&&gr(A[16],["scrollArea$","scrollContent$"])])),u&&Vt(u.update)&&O[0]&1&&u.update.call(null,A[0])},i(A){h||(se(m,A),h=!0)},o(A){fe(m,A),h=!1},d(A){A&&Pe(t),m&&m.d(A),e[24](null),e[26](null),e[32](null),d=!1,ln(g)}}}const Mp=([e,t])=>`${e}: ${t};`,Ip=([e,t])=>`${e}: ${t};`;function cU(e,t,n){const r=["use","class","align","scrollArea$use","scrollArea$class","scrollContent$use","scrollContent$class","getScrollPosition","getScrollContentWidth","incrementScroll","scrollTo","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const{matches:a}=Fg,l=wn(rn());let{use:c=[]}=t,{class:f=""}=t,{align:u=void 0}=t,{scrollArea$use:h=[]}=t,{scrollArea$class:d=""}=t,{scrollContent$use:g=[]}=t,{scrollContent$class:p=""}=t,m,v,b,y,S={},w={},E={},A={};ir(()=>(n(8,v=new iU({eventTargetMatchesSelector:(Ye,Ve)=>a(Ye,Ve),addClass:O,removeClass:U,addScrollAreaClass:N,setScrollAreaStyleProperty:x,setScrollContentStyleProperty:le,getScrollContentStyleValue:$,setScrollAreaScrollLeft:Ye=>n(9,b.scrollLeft=Ye,b),getScrollAreaScrollLeft:()=>b.scrollLeft,getScrollContentOffsetWidth:()=>y.offsetWidth,getScrollAreaOffsetWidth:()=>b.offsetWidth,computeScrollAreaClientRect:()=>b.getBoundingClientRect(),computeScrollContentClientRect:()=>y.getBoundingClientRect(),computeHorizontalScrollbarHeight:()=>oU(document)})),v.init(),()=>{v.destroy()}));function O(Ye){S[Ye]||n(11,S[Ye]=!0,S)}function U(Ye){(!(Ye in S)||S[Ye])&&n(11,S[Ye]=!1,S)}function N(Ye){w[Ye]||n(12,w[Ye]=!0,w)}function x(Ye,Ve){E[Ye]!=Ve&&(Ve===""||Ve==null?(delete E[Ye],n(13,E)):n(13,E[Ye]=Ve,E))}function le(Ye,Ve){A[Ye]!=Ve&&(Ve===""||Ve==null?(delete A[Ye],n(14,A)):n(14,A[Ye]=Ve,A))}function $(Ye){return Ye in A?A[Ye]:getComputedStyle(y).getPropertyValue(Ye)}function W(){return v.getScrollPosition()}function Be(){return y.offsetWidth}function ne(Ye){v.incrementScroll(Ye)}function H(Ye){v.scrollTo(Ye)}function he(){return m}function te(Ye){lt[Ye?"unshift":"push"](()=>{y=Ye,n(10,y)})}const oe=Ye=>v&&v.handleTransitionEnd(Ye);function ct(Ye){lt[Ye?"unshift":"push"](()=>{b=Ye,n(9,b)})}const ke=()=>v&&v.handleInteraction(),Pt=()=>v&&v.handleInteraction(),Xt=()=>v&&v.handleInteraction(),$t=()=>v&&v.handleInteraction(),On=()=>v&&v.handleInteraction();function zn(Ye){lt[Ye?"unshift":"push"](()=>{m=Ye,n(7,m)})}return e.$$set=Ye=>{t=je(je({},t),bn(Ye)),n(16,s=wt(t,r)),"use"in Ye&&n(0,c=Ye.use),"class"in Ye&&n(1,f=Ye.class),"align"in Ye&&n(2,u=Ye.align),"scrollArea$use"in Ye&&n(3,h=Ye.scrollArea$use),"scrollArea$class"in Ye&&n(4,d=Ye.scrollArea$class),"scrollContent$use"in Ye&&n(5,g=Ye.scrollContent$use),"scrollContent$class"in Ye&&n(6,p=Ye.scrollContent$class),"$$scope"in Ye&&n(22,o=Ye.$$scope)},[c,f,u,h,d,g,p,m,v,b,y,S,w,E,A,l,s,W,Be,ne,H,he,o,i,te,oe,ct,ke,Pt,Xt,$t,On,zn]}class fU extends en{constructor(t){super(),Jt(this,t,cU,lU,Ut,{use:0,class:1,align:2,scrollArea$use:3,scrollArea$class:4,scrollContent$use:5,scrollContent$class:6,getScrollPosition:17,getScrollContentWidth:18,incrementScroll:19,scrollTo:20,getElement:21},null,[-1,-1])}get getScrollPosition(){return this.$$.ctx[17]}get getScrollContentWidth(){return this.$$.ctx[18]}get incrementScroll(){return this.$$.ctx[19]}get scrollTo(){return this.$$.ctx[20]}get getElement(){return this.$$.ctx[21]}}function Dp(e,t,n){const r=e.slice();return r[29]=t[n],r}const uU=e=>({tab:e[0]&4}),Fp=e=>({tab:e[29]});function xp(e,t){let n,r;const s=t[21].default,i=kt(s,t,t[24],Fp);return{key:e,first:null,c(){n=hn(),i&&i.c(),this.first=n},m(o,a){Le(o,n,a),i&&i.m(o,a),r=!0},p(o,a){t=o,i&&i.p&&(!r||a[0]&16777220)&&Bt(i,s,t,t[24],r?Gt(s,t[24],a,uU):Nt(t[24]),Fp)},i(o){r||(se(i,o),r=!0)},o(o){fe(i,o),r=!1},d(o){o&&Pe(n),i&&i.d(o)}}}function dU(e){let t=[],n=new Map,r,s,i=e[2];const o=a=>a[3](a[29]);for(let a=0;a<i.length;a+=1){let l=Dp(e,i,a),c=o(l);n.set(c,t[a]=xp(c,l))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();r=hn()},m(a,l){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(a,l);Le(a,r,l),s=!0},p(a,l){l[0]&16777228&&(i=a[2],Yt(),t=Lg(t,l,o,1,a,i,n,r.parentNode,Pg,xp,r,Dp),Zt())},i(a){if(!s){for(let l=0;l<i.length;l+=1)se(t[l]);s=!0}},o(a){for(let l=0;l<t.length;l+=1)fe(t[l]);s=!1},d(a){for(let l=0;l<t.length;l+=1)t[l].d(a);a&&Pe(r)}}}function hU(e){let t,n,r,s,i,o,a;const l=[jt(e[11],"tabScroller$")];let c={$$slots:{default:[dU]},$$scope:{ctx:e}};for(let h=0;h<l.length;h+=1)c=je(c,l[h]);n=new fU({props:c}),e[22](n);let f=[{class:r=dt({[e[1]]:!0,"mdc-tab-bar":!0})},{role:"tablist"},{tabindex:e[4]},gr(e[11],["tabScroller$"])],u={};for(let h=0;h<f.length;h+=1)u=je(u,f[h]);return{c(){t=Tt("div"),tt(n.$$.fragment),Lt(t,u)},m(h,d){Le(h,t,d),Je(n,t,null),e[23](t),i=!0,o||(a=[St(s=vn.call(null,t,e[0])),St(e[8].call(null,t)),Rt(t,"SMUITab:mount",e[9]),Rt(t,"SMUITab:unmount",e[10]),Rt(t,"SMUITab:interacted",function(){Vt(e[5]&&e[5].handleTabInteraction.bind(e[5]))&&(e[5]&&e[5].handleTabInteraction.bind(e[5])).apply(this,arguments)}),Rt(t,"keydown",function(){Vt(e[5]&&e[5].handleKeyDown.bind(e[5]))&&(e[5]&&e[5].handleKeyDown.bind(e[5])).apply(this,arguments)})],o=!0)},p(h,d){e=h;const g=d[0]&2048?Ot(l,[on(jt(e[11],"tabScroller$"))]):{};d[0]&16777220&&(g.$$scope={dirty:d,ctx:e}),n.$set(g),Lt(t,u=Ot(f,[(!i||d[0]&2&&r!==(r=dt({[e[1]]:!0,"mdc-tab-bar":!0})))&&{class:r},{role:"tablist"},(!i||d[0]&16)&&{tabindex:e[4]},d[0]&2048&&gr(e[11],["tabScroller$"])])),s&&Vt(s.update)&&d[0]&1&&s.update.call(null,e[0])},i(h){i||(se(n.$$.fragment,h),i=!0)},o(h){fe(n.$$.fragment,h),i=!1},d(h){h&&Pe(t),e[22](null),et(n),e[23](null),o=!1,ln(a)}}}function mU(e,t,n){const r=["use","class","tabs","key","focusOnActivate","focusOnProgrammatic","useAutomaticActivation","active","tabindex","scrollIntoView","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(rn());let{use:l=[]}=t,{class:c=""}=t,{tabs:f=[]}=t,{key:u=H=>H}=t,{focusOnActivate:h=!0}=t,{focusOnProgrammatic:d=!1}=t,{useAutomaticActivation:g=!0}=t,{active:p=void 0}=t,{tabindex:m=0}=t,v,b,y,S=f.indexOf(p),w={},E=new WeakMap,A=!1;ur("SMUI:tab:focusOnActivate",h),ur("SMUI:tab:initialActive",p),ir(()=>(n(5,b=new aU({scrollTo:H=>y.scrollTo(H),incrementScroll:H=>y.incrementScroll(H),getScrollPosition:()=>y.getScrollPosition(),getScrollContentWidth:()=>y.getScrollContentWidth(),getOffsetWidth:()=>W().offsetWidth,isRTL:()=>getComputedStyle(W()).getPropertyValue("direction")==="rtl",setActiveTab:H=>{n(12,p=f[H]),n(18,S=H),b.activateTab(H)},activateTabAtIndex:(H,he)=>{var te;return(te=N(f[H]))===null||te===void 0?void 0:te.activate(he,A)},deactivateTabAtIndex:H=>{var he;return(he=N(f[H]))===null||he===void 0?void 0:he.deactivate()},focusTabAtIndex:H=>{var he;return(he=N(f[H]))===null||he===void 0?void 0:he.focus()},getTabIndicatorClientRectAtIndex:H=>{var he,te;return(te=(he=N(f[H]))===null||he===void 0?void 0:he.computeIndicatorClientRect())!==null&&te!==void 0?te:new DOMRect},getTabDimensionsAtIndex:H=>{var he,te;return(te=(he=N(f[H]))===null||he===void 0?void 0:he.computeDimensions())!==null&&te!==void 0?te:{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:()=>{var H;for(let he=0;he<f.length;he++)if(!((H=N(f[he]))===null||H===void 0)&&H.active)return he;return-1},getFocusedTabIndex:()=>{const H=f.map(te=>{var oe;return(oe=N(te))===null||oe===void 0?void 0:oe.element}),he=document.activeElement;return H.indexOf(he)},getIndexOfTabById:H=>f.indexOf(H),getTabListLength:()=>f.length,notifyTabActivated:H=>$n(W(),"SMUITabBar:activated",{index:H},void 0,!0)})),b.init(),()=>{b.destroy()}));function O(H){const he=H.detail;x(he.tabId,he)}function U(H){const he=H.detail;le(he.tabId)}function N(H){return H instanceof Object?E.get(H):w[H]}function x(H,he){H instanceof Object?(E.set(H,he),n(20,E)):(n(19,w[H]=he,w),n(19,w))}function le(H){H instanceof Object?(E.delete(H),n(20,E)):(delete w[H],n(19,w))}function $(H){b.scrollIntoView(H)}function W(){return v}function Be(H){lt[H?"unshift":"push"](()=>{y=H,n(7,y)})}function ne(H){lt[H?"unshift":"push"](()=>{v=H,n(6,v)})}return e.$$set=H=>{t=je(je({},t),bn(H)),n(11,s=wt(t,r)),"use"in H&&n(0,l=H.use),"class"in H&&n(1,c=H.class),"tabs"in H&&n(2,f=H.tabs),"key"in H&&n(3,u=H.key),"focusOnActivate"in H&&n(13,h=H.focusOnActivate),"focusOnProgrammatic"in H&&n(14,d=H.focusOnProgrammatic),"useAutomaticActivation"in H&&n(15,g=H.useAutomaticActivation),"active"in H&&n(12,p=H.active),"tabindex"in H&&n(4,m=H.tabindex),"$$scope"in H&&n(24,o=H.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&282660&&p!==f[S]&&(n(18,S=f.indexOf(p)),b&&(A=!d,b.activateTab(S),A=!1)),e.$$.dirty[0]&1835012&&f.length){const H=f[0]instanceof Object?E.get(f[0]):w[f[0]];H&&H.forceAccessible(S===-1)}e.$$.dirty[0]&32800&&b&&b.setUseAutomaticActivation(g)},[l,c,f,u,m,b,v,y,a,O,U,s,p,h,d,g,$,W,S,w,E,i,Be,ne,o]}class pU extends en{constructor(t){super(),Jt(this,t,mU,hU,Ut,{use:0,class:1,tabs:2,key:3,focusOnActivate:13,focusOnProgrammatic:14,useAutomaticActivation:15,active:12,tabindex:4,scrollIntoView:16,getElement:17},null,[-1,-1])}get scrollIntoView(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var gU={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var vU=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.shakeAnimationEndHandler=function(){r.handleShakeAnimationEnd()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return gU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(n){var r=t.cssClasses.LABEL_SHAKE;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.float=function(n){var r=t.cssClasses,s=r.LABEL_FLOAT_ABOVE,i=r.LABEL_SHAKE;n?this.adapter.addClass(s):(this.adapter.removeClass(s),this.adapter.removeClass(i))},t.prototype.setRequired=function(n){var r=t.cssClasses.LABEL_REQUIRED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleShakeAnimationEnd=function(){var n=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(n)},t}(Fr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Us={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var bU=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.transitionEndHandler=function(s){r.handleTransitionEnd(s)},r}return Object.defineProperty(t,"cssClasses",{get:function(){return Us},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},t.prototype.activate=function(){this.adapter.removeClass(Us.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(Us.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(n){this.adapter.setStyle("transform-origin",n+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(Us.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(n){var r=this.adapter.hasClass(Us.LINE_RIPPLE_DEACTIVATING);n.propertyName==="opacity"&&r&&(this.adapter.removeClass(Us.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(Us.LINE_RIPPLE_DEACTIVATING))},t}(Fr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var _U={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},kp={NOTCH_ELEMENT_PADDING:8},yU={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var AU=function(e){Jn(t,e);function t(n){return e.call(this,dn(dn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"strings",{get:function(){return _U},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return yU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return kp},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.notch=function(n){var r=t.cssClasses.OUTLINE_NOTCHED;n>0&&(n+=kp.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(n),this.adapter.addClass(r)},t.prototype.closeNotch=function(){var n=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(n),this.adapter.removeNotchWidthProperty()},t}(Fr);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Mu={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},SU={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},Gp={LABEL_SCALE:.75},EU=["pattern","min","max","required","step","minlength","maxlength"],wU=["color","date","datetime-local","month","range","time","week"];/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Bp=["mousedown","touchstart"],Np=["click","keydown"],TU=function(e){Jn(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return s.isFocused=!1,s.receivedUserInput=!1,s.valid=!0,s.useNativeValidation=!0,s.validateOnValueChange=!0,s.helperText=r.helperText,s.characterCounter=r.characterCounter,s.leadingIcon=r.leadingIcon,s.trailingIcon=r.trailingIcon,s.inputFocusHandler=function(){s.activateFocus()},s.inputBlurHandler=function(){s.deactivateFocus()},s.inputInputHandler=function(){s.handleInput()},s.setPointerXOffset=function(i){s.setTransformOrigin(i)},s.textFieldInteractionHandler=function(){s.handleTextFieldInteraction()},s.validationAttributeChangeHandler=function(i){s.handleValidationAttributeChange(i)},s}return Object.defineProperty(t,"cssClasses",{get:function(){return SU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Mu},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Gp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat",{get:function(){var n=this.getNativeInput().type;return wU.indexOf(n)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n,r,s,i;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var o=bs(Bp),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.registerInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=bs(Np),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.registerTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},t.prototype.destroy=function(){var n,r,s,i;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var o=bs(Bp),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.deregisterInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=bs(Np),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.deregisterTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},t.prototype.handleTextFieldInteraction=function(){var n=this.adapter.getNativeInput();n&&n.disabled||(this.receivedUserInput=!0)},t.prototype.handleValidationAttributeChange=function(n){var r=this;n.some(function(s){return EU.indexOf(s)>-1?(r.styleValidity(!0),r.adapter.setLabelRequired(r.getNativeInput().required),!0):!1}),n.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},t.prototype.notchOutline=function(n){if(!(!this.adapter.hasOutline()||!this.adapter.hasLabel()))if(n){var r=this.adapter.getLabelWidth()*Gp.LABEL_SCALE;this.adapter.notchOutline(r)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.helperText&&(this.helperText.isPersistent()||!this.helperText.isValidation()||!this.valid)&&this.helperText.showToScreenReader()},t.prototype.setTransformOrigin=function(n){if(!(this.isDisabled()||this.adapter.hasOutline())){var r=n.touches,s=r?r[0]:n,i=s.target.getBoundingClientRect(),o=s.clientX-i.left;this.adapter.setLineRippleTransformOrigin(o)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var n=this.isValid();this.styleValidity(n),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},t.prototype.getValue=function(){return this.getNativeInput().value},t.prototype.setValue=function(n){if(this.getValue()!==n&&(this.getNativeInput().value=n),this.setcharacterCounter(n.length),this.validateOnValueChange){var r=this.isValid();this.styleValidity(r)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},t.prototype.setValid=function(n){this.valid=n,this.styleValidity(n);var r=!n&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(r)},t.prototype.setValidateOnValueChange=function(n){this.validateOnValueChange=n},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},t.prototype.setUseNativeValidation=function(n){this.useNativeValidation=n},t.prototype.isDisabled=function(){return this.getNativeInput().disabled},t.prototype.setDisabled=function(n){this.getNativeInput().disabled=n,this.styleDisabled(n)},t.prototype.setHelperTextContent=function(n){this.helperText&&this.helperText.setContent(n)},t.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon&&this.leadingIcon.setAriaLabel(n)},t.prototype.setLeadingIconContent=function(n){this.leadingIcon&&this.leadingIcon.setContent(n)},t.prototype.setTrailingIconAriaLabel=function(n){this.trailingIcon&&this.trailingIcon.setAriaLabel(n)},t.prototype.setTrailingIconContent=function(n){this.trailingIcon&&this.trailingIcon.setContent(n)},t.prototype.setcharacterCounter=function(n){if(this.characterCounter){var r=this.getNativeInput().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(n,r)}},t.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},t.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},t.prototype.styleValidity=function(n){var r=t.cssClasses.INVALID;if(n?this.adapter.removeClass(r):this.adapter.addClass(r),this.helperText){this.helperText.setValidity(n);var s=this.helperText.isValidation();if(!s)return;var i=this.helperText.isVisible(),o=this.helperText.getId();i&&o?this.adapter.setInputAttr(Mu.ARIA_DESCRIBEDBY,o):this.adapter.removeInputAttr(Mu.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused=function(n){var r=t.cssClasses.FOCUSED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.styleDisabled=function(n){var r=t.cssClasses,s=r.DISABLED,i=r.INVALID;n?(this.adapter.addClass(s),this.adapter.removeClass(i)):this.adapter.removeClass(s),this.leadingIcon&&this.leadingIcon.setDisabled(n),this.trailingIcon&&this.trailingIcon.setDisabled(n)},t.prototype.styleFloating=function(n){var r=t.cssClasses.LABEL_FLOATING;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.getNativeInput=function(){var n=this.adapter?this.adapter.getNativeInput():null;return n||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(Fr);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ir={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},zr={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+Ir.ROOT};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var CU=function(e){Jn(t,e);function t(n){return e.call(this,dn(dn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return Ir},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return zr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.adapter.getAttr("id")},t.prototype.isVisible=function(){return this.adapter.getAttr(zr.ARIA_HIDDEN)!=="true"},t.prototype.setContent=function(n){this.adapter.setContent(n)},t.prototype.isPersistent=function(){return this.adapter.hasClass(Ir.HELPER_TEXT_PERSISTENT)},t.prototype.setPersistent=function(n){n?this.adapter.addClass(Ir.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(Ir.HELPER_TEXT_PERSISTENT)},t.prototype.isValidation=function(){return this.adapter.hasClass(Ir.HELPER_TEXT_VALIDATION_MSG)},t.prototype.setValidation=function(n){n?this.adapter.addClass(Ir.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(Ir.HELPER_TEXT_VALIDATION_MSG)},t.prototype.showToScreenReader=function(){this.adapter.removeAttr(zr.ARIA_HIDDEN)},t.prototype.setValidity=function(n){var r=this.adapter.hasClass(Ir.HELPER_TEXT_PERSISTENT),s=this.adapter.hasClass(Ir.HELPER_TEXT_VALIDATION_MSG),i=s&&!n;i?(this.showToScreenReader(),this.adapter.getAttr(zr.ROLE)==="alert"?this.refreshAlertRole():this.adapter.setAttr(zr.ROLE,"alert")):this.adapter.removeAttr(zr.ROLE),!r&&!i&&this.hide()},t.prototype.hide=function(){this.adapter.setAttr(zr.ARIA_HIDDEN,"true")},t.prototype.refreshAlertRole=function(){var n=this;this.adapter.removeAttr(zr.ROLE),requestAnimationFrame(function(){n.adapter.setAttr(zr.ROLE,"alert")})},t}(Fr);function PU(e){let t,n,r,s,i,o,a,l;const c=e[22].default,f=kt(c,e,e[21],null);let u=[{class:n=dt({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(Vp).concat([e[4]]).join(" ")},{for:s=e[5]||(e[11]?e[11].id:void 0)},e[12]],h={};for(let d=0;d<u.length;d+=1)h=je(h,u[d]);return{c(){t=Tt("label"),f&&f.c(),Lt(t,h)},m(d,g){Le(d,t,g),f&&f.m(t,null),e[24](t),o=!0,a||(l=[St(i=vn.call(null,t,e[2])),St(e[10].call(null,t))],a=!0)},p(d,g){f&&f.p&&(!o||g&2097152)&&Bt(f,c,d,d[21],o?Gt(c,d[21],g,null):Nt(d[21]),null),Lt(t,h=Ot(u,[(!o||g&267&&n!==(n=dt({[d[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":d[0],"mdc-floating-label--required":d[1],...d[8]})))&&{class:n},(!o||g&528&&r!==(r=Object.entries(d[9]).map(Vp).concat([d[4]]).join(" ")))&&{style:r},(!o||g&32&&s!==(s=d[5]||(d[11]?d[11].id:void 0)))&&{for:s},g&4096&&d[12]])),i&&Vt(i.update)&&g&4&&i.update.call(null,d[2])},i(d){o||(se(f,d),o=!0)},o(d){fe(f,d),o=!1},d(d){d&&Pe(t),f&&f.d(d),e[24](null),a=!1,ln(l)}}}function LU(e){let t,n,r,s,i,o,a;const l=e[22].default,c=kt(l,e,e[21],null);let f=[{class:n=dt({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map($p).concat([e[4]]).join(" ")},e[12]],u={};for(let h=0;h<f.length;h+=1)u=je(u,f[h]);return{c(){t=Tt("span"),c&&c.c(),Lt(t,u)},m(h,d){Le(h,t,d),c&&c.m(t,null),e[23](t),i=!0,o||(a=[St(s=vn.call(null,t,e[2])),St(e[10].call(null,t))],o=!0)},p(h,d){c&&c.p&&(!i||d&2097152)&&Bt(c,l,h,h[21],i?Gt(l,h[21],d,null):Nt(h[21]),null),Lt(t,u=Ot(f,[(!i||d&267&&n!==(n=dt({[h[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":h[0],"mdc-floating-label--required":h[1],...h[8]})))&&{class:n},(!i||d&528&&r!==(r=Object.entries(h[9]).map($p).concat([h[4]]).join(" ")))&&{style:r},d&4096&&h[12]])),s&&Vt(s.update)&&d&4&&s.update.call(null,h[2])},i(h){i||(se(c,h),i=!0)},o(h){fe(c,h),i=!1},d(h){h&&Pe(t),c&&c.d(h),e[23](null),o=!1,ln(a)}}}function OU(e){let t,n,r,s;const i=[LU,PU],o=[];function a(l,c){return l[6]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=hn()},m(l,c){o[t].m(l,c),Le(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(Yt(),fe(o[f],1,1,()=>{o[f]=null}),Zt(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),se(n,1),n.m(r.parentNode,r))},i(l){s||(se(n),s=!0)},o(l){fe(n),s=!1},d(l){o[t].d(l),l&&Pe(r)}}}const $p=([e,t])=>`${e}: ${t};`,Vp=([e,t])=>`${e}: ${t};`;function RU(e,t,n){const r=["use","class","style","for","floatAbove","required","wrapped","shake","float","setRequired","getWidth","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;var a;const l=wn(rn());let{use:c=[]}=t,{class:f=""}=t,{style:u=""}=t,{for:h=void 0}=t,{floatAbove:d=!1}=t,{required:g=!1}=t,{wrapped:p=!1}=t,m,v,b={},y={},S=(a=dr("SMUI:generic:input:props"))!==null&&a!==void 0?a:{},w=d,E=g;ir(()=>{n(18,v=new vU({addClass:A,removeClass:O,getWidth:()=>{var te,oe;const ct=Be(),ke=ct.cloneNode(!0);(te=ct.parentNode)===null||te===void 0||te.appendChild(ke),ke.classList.add("smui-floating-label--remove-transition"),ke.classList.add("smui-floating-label--force-size"),ke.classList.remove("mdc-floating-label--float-above");const Pt=ke.scrollWidth;return(oe=ct.parentNode)===null||oe===void 0||oe.removeChild(ke),Pt},registerInteractionHandler:(te,oe)=>Be().addEventListener(te,oe),deregisterInteractionHandler:(te,oe)=>Be().removeEventListener(te,oe)}));const he={get element(){return Be()},addStyle:U,removeStyle:N};return $n(m,"SMUIFloatingLabel:mount",he),v.init(),()=>{$n(m,"SMUIFloatingLabel:unmount",he),v.destroy()}});function A(he){b[he]||n(8,b[he]=!0,b)}function O(he){(!(he in b)||b[he])&&n(8,b[he]=!1,b)}function U(he,te){y[he]!=te&&(te===""||te==null?(delete y[he],n(9,y)):n(9,y[he]=te,y))}function N(he){he in y&&(delete y[he],n(9,y))}function x(he){v.shake(he)}function le(he){n(0,d=he)}function $(he){n(1,g=he)}function W(){return v.getWidth()}function Be(){return m}function ne(he){lt[he?"unshift":"push"](()=>{m=he,n(7,m)})}function H(he){lt[he?"unshift":"push"](()=>{m=he,n(7,m)})}return e.$$set=he=>{t=je(je({},t),bn(he)),n(12,s=wt(t,r)),"use"in he&&n(2,c=he.use),"class"in he&&n(3,f=he.class),"style"in he&&n(4,u=he.style),"for"in he&&n(5,h=he.for),"floatAbove"in he&&n(0,d=he.floatAbove),"required"in he&&n(1,g=he.required),"wrapped"in he&&n(6,p=he.wrapped),"$$scope"in he&&n(21,o=he.$$scope)},e.$$.update=()=>{e.$$.dirty&786433&&v&&w!==d&&(n(19,w=d),v.float(d)),e.$$.dirty&1310722&&v&&E!==g&&(n(20,E=g),v.setRequired(g))},[d,g,c,f,u,h,p,m,b,y,l,S,s,x,le,$,W,Be,v,w,E,o,i,ne,H]}class tb extends en{constructor(t){super(),Jt(this,t,RU,OU,Ut,{use:2,class:3,style:4,for:5,floatAbove:0,required:1,wrapped:6,shake:13,float:14,setRequired:15,getWidth:16,getElement:17})}get shake(){return this.$$.ctx[13]}get float(){return this.$$.ctx[14]}get setRequired(){return this.$$.ctx[15]}get getWidth(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}function MU(e){let t,n,r,s,i,o,a=[{class:n=dt({[e[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":e[3],...e[5]})},{style:r=Object.entries(e[6]).map(Up).concat([e[2]]).join(" ")},e[8]],l={};for(let c=0;c<a.length;c+=1)l=je(l,a[c]);return{c(){t=Tt("div"),Lt(t,l)},m(c,f){Le(c,t,f),e[13](t),i||(o=[St(s=vn.call(null,t,e[0])),St(e[7].call(null,t))],i=!0)},p(c,[f]){Lt(t,l=Ot(a,[f&42&&n!==(n=dt({[c[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":c[3],...c[5]}))&&{class:n},f&68&&r!==(r=Object.entries(c[6]).map(Up).concat([c[2]]).join(" "))&&{style:r},f&256&&c[8]])),s&&Vt(s.update)&&f&1&&s.update.call(null,c[0])},i:an,o:an,d(c){c&&Pe(t),e[13](null),i=!1,ln(o)}}}const Up=([e,t])=>`${e}: ${t};`;function IU(e,t,n){const r=["use","class","style","active","activate","deactivate","setRippleCenter","getElement"];let s=wt(t,r);const i=wn(rn());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{active:c=!1}=t,f,u,h={},d={};ir(()=>(u=new bU({addClass:p,removeClass:m,hasClass:g,setStyle:v,registerEventHandler:(A,O)=>w().addEventListener(A,O),deregisterEventHandler:(A,O)=>w().removeEventListener(A,O)}),u.init(),()=>{u.destroy()}));function g(A){return A in h?h[A]:w().classList.contains(A)}function p(A){h[A]||n(5,h[A]=!0,h)}function m(A){(!(A in h)||h[A])&&n(5,h[A]=!1,h)}function v(A,O){d[A]!=O&&(O===""||O==null?(delete d[A],n(6,d)):n(6,d[A]=O,d))}function b(){u.activate()}function y(){u.deactivate()}function S(A){u.setRippleCenter(A)}function w(){return f}function E(A){lt[A?"unshift":"push"](()=>{f=A,n(4,f)})}return e.$$set=A=>{t=je(je({},t),bn(A)),n(8,s=wt(t,r)),"use"in A&&n(0,o=A.use),"class"in A&&n(1,a=A.class),"style"in A&&n(2,l=A.style),"active"in A&&n(3,c=A.active)},[o,a,l,c,f,h,d,i,s,b,y,S,w,E]}class DU extends en{constructor(t){super(),Jt(this,t,IU,MU,Ut,{use:0,class:1,style:2,active:3,activate:9,deactivate:10,setRippleCenter:11,getElement:12})}get activate(){return this.$$.ctx[9]}get deactivate(){return this.$$.ctx[10]}get setRippleCenter(){return this.$$.ctx[11]}get getElement(){return this.$$.ctx[12]}}function Hp(e){let t,n,r;const s=e[15].default,i=kt(s,e,e[14],null);return{c(){t=Tt("div"),i&&i.c(),Dt(t,"class","mdc-notched-outline__notch"),Dt(t,"style",n=Object.entries(e[7]).map(zp).join(" "))},m(o,a){Le(o,t,a),i&&i.m(t,null),r=!0},p(o,a){i&&i.p&&(!r||a&16384)&&Bt(i,s,o,o[14],r?Gt(s,o[14],a,null):Nt(o[14]),null),(!r||a&128&&n!==(n=Object.entries(o[7]).map(zp).join(" ")))&&Dt(t,"style",n)},i(o){r||(se(i,o),r=!0)},o(o){fe(i,o),r=!1},d(o){o&&Pe(t),i&&i.d(o)}}}function FU(e){let t,n,r,s,i,o,a,l,c,f,u=!e[3]&&Hp(e),h=[{class:o=dt({[e[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":e[2],"mdc-notched-outline--no-label":e[3],...e[6]})},e[10]],d={};for(let g=0;g<h.length;g+=1)d=je(d,h[g]);return{c(){t=Tt("div"),n=Tt("div"),r=At(),u&&u.c(),s=At(),i=Tt("div"),Dt(n,"class","mdc-notched-outline__leading"),Dt(i,"class","mdc-notched-outline__trailing"),Lt(t,d)},m(g,p){Le(g,t,p),En(t,n),En(t,r),u&&u.m(t,null),En(t,s),En(t,i),e[16](t),l=!0,c||(f=[St(a=vn.call(null,t,e[0])),St(e[8].call(null,t)),Rt(t,"SMUIFloatingLabel:mount",e[9]),Rt(t,"SMUIFloatingLabel:unmount",e[17])],c=!0)},p(g,[p]){g[3]?u&&(Yt(),fe(u,1,1,()=>{u=null}),Zt()):u?(u.p(g,p),p&8&&se(u,1)):(u=Hp(g),u.c(),se(u,1),u.m(t,s)),Lt(t,d=Ot(h,[(!l||p&78&&o!==(o=dt({[g[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":g[2],"mdc-notched-outline--no-label":g[3],...g[6]})))&&{class:o},p&1024&&g[10]])),a&&Vt(a.update)&&p&1&&a.update.call(null,g[0])},i(g){l||(se(u),l=!0)},o(g){fe(u),l=!1},d(g){g&&Pe(t),u&&u.d(),e[16](null),c=!1,ln(f)}}}const zp=([e,t])=>`${e}: ${t};`;function xU(e,t,n){const r=["use","class","notched","noLabel","notch","closeNotch","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(rn());let{use:l=[]}=t,{class:c=""}=t,{notched:f=!1}=t,{noLabel:u=!1}=t,h,d,g,p={},m={};ir(()=>(d=new AU({addClass:b,removeClass:y,setNotchWidthProperty:x=>S("width",x+"px"),removeNotchWidthProperty:()=>w("width")}),d.init(),()=>{d.destroy()}));function v(x){n(4,g=x.detail)}function b(x){p[x]||n(6,p[x]=!0,p)}function y(x){(!(x in p)||p[x])&&n(6,p[x]=!1,p)}function S(x,le){m[x]!=le&&(le===""||le==null?(delete m[x],n(7,m)):n(7,m[x]=le,m))}function w(x){x in m&&(delete m[x],n(7,m))}function E(x){d.notch(x)}function A(){d.closeNotch()}function O(){return h}function U(x){lt[x?"unshift":"push"](()=>{h=x,n(5,h)})}const N=()=>n(4,g=void 0);return e.$$set=x=>{t=je(je({},t),bn(x)),n(10,s=wt(t,r)),"use"in x&&n(0,l=x.use),"class"in x&&n(1,c=x.class),"notched"in x&&n(2,f=x.notched),"noLabel"in x&&n(3,u=x.noLabel),"$$scope"in x&&n(14,o=x.$$scope)},e.$$.update=()=>{e.$$.dirty&16&&(g?(g.addStyle("transition-duration","0s"),b("mdc-notched-outline--upgraded"),requestAnimationFrame(()=>{g&&g.removeStyle("transition-duration")})):y("mdc-notched-outline--upgraded"))},[l,c,f,u,g,h,p,m,a,v,s,E,A,O,o,i,U,N]}class kU extends en{constructor(t){super(),Jt(this,t,xU,FU,Ut,{use:0,class:1,notched:2,noLabel:3,notch:11,closeNotch:12,getElement:13})}get notch(){return this.$$.ctx[11]}get closeNotch(){return this.$$.ctx[12]}get getElement(){return this.$$.ctx[13]}}const GU=Hi({class:"mdc-text-field-helper-line",tag:"div"}),BU=Hi({class:"mdc-text-field__affix mdc-text-field__affix--prefix",tag:"span"}),NU=Hi({class:"mdc-text-field__affix mdc-text-field__affix--suffix",tag:"span"});function $U(e){let t,n,r,s,i,o=[{class:n=dt({[e[1]]:!0,"mdc-text-field__input":!0})},{type:e[2]},{placeholder:e[3]},e[4],e[6],e[10]],a={};for(let l=0;l<o.length;l+=1)a=je(a,o[l]);return{c(){t=Tt("input"),Lt(t,a)},m(l,c){Le(l,t,c),t.autofocus&&t.focus(),e[26](t),s||(i=[St(r=vn.call(null,t,e[0])),St(e[7].call(null,t)),Rt(t,"input",e[27]),Rt(t,"change",e[9]),Rt(t,"blur",e[24]),Rt(t,"focus",e[25])],s=!0)},p(l,[c]){Lt(t,a=Ot(o,[c&2&&n!==(n=dt({[l[1]]:!0,"mdc-text-field__input":!0}))&&{class:n},c&4&&{type:l[2]},c&8&&{placeholder:l[3]},c&16&&l[4],c&64&&l[6],c&1024&&l[10]])),r&&Vt(r.update)&&c&1&&r.update.call(null,l[0])},i:an,o:an,d(l){l&&Pe(t),e[26](null),s=!1,ln(i)}}}function VU(e){return e===""?Number.NaN:+e}function UU(e,t,n){const r=["use","class","type","placeholder","value","files","dirty","invalid","updateInvalid","emptyValueNull","emptyValueUndefined","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=wt(t,r);const i=wn(rn());let o=()=>{};function a(te){return te===o}let{use:l=[]}=t,{class:c=""}=t,{type:f="text"}=t,{placeholder:u=" "}=t,{value:h=o}=t;const d=a(h);d&&(h="");let{files:g=null}=t,{dirty:p=!1}=t,{invalid:m=!1}=t,{updateInvalid:v=!0}=t,{emptyValueNull:b=h===null}=t;d&&b&&(h=null);let{emptyValueUndefined:y=h===void 0}=t;d&&y&&(h=void 0);let S,w={},E={};ir(()=>{v&&n(14,m=S.matches(":invalid"))});function A(te){if(f==="file"){n(12,g=te.currentTarget.files);return}if(te.currentTarget.value===""&&b){n(11,h=null);return}if(te.currentTarget.value===""&&y){n(11,h=void 0);return}switch(f){case"number":case"range":n(11,h=VU(te.currentTarget.value));break;default:n(11,h=te.currentTarget.value);break}}function O(te){(f==="file"||f==="range")&&A(te),n(13,p=!0),v&&n(14,m=S.matches(":invalid"))}function U(te){var oe;return te in w?(oe=w[te])!==null&&oe!==void 0?oe:null:W().getAttribute(te)}function N(te,oe){w[te]!==oe&&n(6,w[te]=oe,w)}function x(te){(!(te in w)||w[te]!=null)&&n(6,w[te]=void 0,w)}function le(){W().focus()}function $(){W().blur()}function W(){return S}function Be(te){No.call(this,e,te)}function ne(te){No.call(this,e,te)}function H(te){lt[te?"unshift":"push"](()=>{S=te,n(5,S)})}const he=te=>f!=="file"&&A(te);return e.$$set=te=>{t=je(je({},t),bn(te)),n(10,s=wt(t,r)),"use"in te&&n(0,l=te.use),"class"in te&&n(1,c=te.class),"type"in te&&n(2,f=te.type),"placeholder"in te&&n(3,u=te.placeholder),"value"in te&&n(11,h=te.value),"files"in te&&n(12,g=te.files),"dirty"in te&&n(13,p=te.dirty),"invalid"in te&&n(14,m=te.invalid),"updateInvalid"in te&&n(15,v=te.updateInvalid),"emptyValueNull"in te&&n(16,b=te.emptyValueNull),"emptyValueUndefined"in te&&n(17,y=te.emptyValueUndefined)},e.$$.update=()=>{e.$$.dirty&2068&&(f==="file"?(delete E.value,n(4,E),n(2,f),n(11,h)):n(4,E.value=h??"",E))},[l,c,f,u,E,S,w,i,A,O,s,h,g,p,m,v,b,y,U,N,x,le,$,W,Be,ne,H,he]}class HU extends en{constructor(t){super(),Jt(this,t,UU,$U,Ut,{use:0,class:1,type:2,placeholder:3,value:11,files:12,dirty:13,invalid:14,updateInvalid:15,emptyValueNull:16,emptyValueUndefined:17,getAttr:18,addAttr:19,removeAttr:20,focus:21,blur:22,getElement:23})}get getAttr(){return this.$$.ctx[18]}get addAttr(){return this.$$.ctx[19]}get removeAttr(){return this.$$.ctx[20]}get focus(){return this.$$.ctx[21]}get blur(){return this.$$.ctx[22]}get getElement(){return this.$$.ctx[23]}}function zU(e){let t,n,r,s,i,o,a=[{class:n=dt({[e[2]]:!0,"mdc-text-field__input":!0})},{style:r=`${e[4]?"":"resize: none; "}${e[3]}`},e[6],e[9]],l={};for(let c=0;c<a.length;c+=1)l=je(l,a[c]);return{c(){t=Tt("textarea"),Lt(t,l)},m(c,f){Le(c,t,f),t.autofocus&&t.focus(),e[21](t),p1(t,e[0]),i||(o=[St(s=vn.call(null,t,e[1])),St(e[7].call(null,t)),Rt(t,"change",e[8]),Rt(t,"blur",e[19]),Rt(t,"focus",e[20]),Rt(t,"input",e[22])],i=!0)},p(c,[f]){Lt(t,l=Ot(a,[f&4&&n!==(n=dt({[c[2]]:!0,"mdc-text-field__input":!0}))&&{class:n},f&24&&r!==(r=`${c[4]?"":"resize: none; "}${c[3]}`)&&{style:r},f&64&&c[6],f&512&&c[9]])),s&&Vt(s.update)&&f&2&&s.update.call(null,c[1]),f&1&&p1(t,c[0])},i:an,o:an,d(c){c&&Pe(t),e[21](null),i=!1,ln(o)}}}function jU(e,t,n){const r=["use","class","style","value","dirty","invalid","updateInvalid","resizable","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=wt(t,r);const i=wn(rn());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{value:c=""}=t,{dirty:f=!1}=t,{invalid:u=!1}=t,{updateInvalid:h=!0}=t,{resizable:d=!0}=t,g,p={};ir(()=>{h&&n(11,u=g.matches(":invalid"))});function m(){n(10,f=!0),h&&n(11,u=g.matches(":invalid"))}function v(x){var le;return x in p?(le=p[x])!==null&&le!==void 0?le:null:E().getAttribute(x)}function b(x,le){p[x]!==le&&n(6,p[x]=le,p)}function y(x){(!(x in p)||p[x]!=null)&&n(6,p[x]=void 0,p)}function S(){E().focus()}function w(){E().blur()}function E(){return g}function A(x){No.call(this,e,x)}function O(x){No.call(this,e,x)}function U(x){lt[x?"unshift":"push"](()=>{g=x,n(5,g)})}function N(){c=this.value,n(0,c)}return e.$$set=x=>{t=je(je({},t),bn(x)),n(9,s=wt(t,r)),"use"in x&&n(1,o=x.use),"class"in x&&n(2,a=x.class),"style"in x&&n(3,l=x.style),"value"in x&&n(0,c=x.value),"dirty"in x&&n(10,f=x.dirty),"invalid"in x&&n(11,u=x.invalid),"updateInvalid"in x&&n(12,h=x.updateInvalid),"resizable"in x&&n(4,d=x.resizable)},[c,o,a,l,d,g,p,i,m,s,f,u,h,v,b,y,S,w,E,A,O,U,N]}class qU extends en{constructor(t){super(),Jt(this,t,jU,zU,Ut,{use:1,class:2,style:3,value:0,dirty:10,invalid:11,updateInvalid:12,resizable:4,getAttr:13,addAttr:14,removeAttr:15,focus:16,blur:17,getElement:18})}get getAttr(){return this.$$.ctx[13]}get addAttr(){return this.$$.ctx[14]}get removeAttr(){return this.$$.ctx[15]}get focus(){return this.$$.ctx[16]}get blur(){return this.$$.ctx[17]}get getElement(){return this.$$.ctx[18]}}const XU=e=>({}),jp=e=>({}),WU=e=>({}),qp=e=>({}),YU=e=>({}),Xp=e=>({}),ZU=e=>({}),Wp=e=>({}),KU=e=>({}),Yp=e=>({}),QU=e=>({}),Zp=e=>({}),JU=e=>({}),Kp=e=>({}),eH=e=>({}),Qp=e=>({}),tH=e=>({}),Jp=e=>({}),nH=e=>({}),eg=e=>({}),rH=e=>({}),tg=e=>({}),sH=e=>({}),ng=e=>({});function iH(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g;const p=e[56].label,m=kt(p,e,e[87],Yp);r=new Gi({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[aH]},$$scope:{ctx:e}}});const v=e[56].default,b=kt(v,e,e[87],null);o=new Gi({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[lH]},$$scope:{ctx:e}}});const y=e[56].ripple,S=kt(y,e,e[87],qp);let w=[{class:l=dt({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||!e[47].label,"mdc-text-field--with-leading-icon":e[47].leadingIcon,"mdc-text-field--with-trailing-icon":e[47].trailingIcon,"mdc-text-field--invalid":e[1],...e[25]})},{style:c=Object.entries(e[26]).map(hg).concat([e[10]]).join(" ")},gr(e[46],["input$","label$","ripple$","outline$","helperLine$"])],E={};for(let A=0;A<w.length;A+=1)E=je(E,w[A]);return{c(){t=Tt("div"),m&&m.c(),n=At(),tt(r.$$.fragment),s=At(),b&&b.c(),i=At(),tt(o.$$.fragment),a=At(),S&&S.c(),Lt(t,E)},m(A,O){Le(A,t,O),m&&m.m(t,null),En(t,n),Je(r,t,null),En(t,s),b&&b.m(t,null),En(t,i),Je(o,t,null),En(t,a),S&&S.m(t,null),e[82](t),h=!0,d||(g=[St(f=Wr.call(null,t,{ripple:e[11],unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45]})),St(u=vn.call(null,t,e[8])),St(e[34].call(null,t)),Rt(t,"SMUITextfieldLeadingIcon:mount",e[38]),Rt(t,"SMUITextfieldLeadingIcon:unmount",e[83]),Rt(t,"SMUITextfieldTrailingIcon:mount",e[39]),Rt(t,"SMUITextfieldTrailingIcon:unmount",e[84])],d=!0)},p(A,O){m&&m.p&&(!h||O[2]&33554432)&&Bt(m,p,A,A[87],h?Gt(p,A[87],O,KU):Nt(A[87]),Yp);const U={};O[2]&33554432&&(U.$$scope={dirty:O,ctx:A}),r.$set(U),b&&b.p&&(!h||O[2]&33554432)&&Bt(b,v,A,A[87],h?Gt(v,A[87],O,null):Nt(A[87]),null);const N={};O[2]&33554432&&(N.$$scope={dirty:O,ctx:A}),o.$set(N),S&&S.p&&(!h||O[2]&33554432)&&Bt(S,y,A,A[87],h?Gt(y,A[87],O,WU):Nt(A[87]),qp),Lt(t,E=Ot(w,[(!h||O[0]&33673730|O[1]&65536&&l!==(l=dt({[A[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":A[12],"mdc-text-field--textarea":A[14],"mdc-text-field--filled":A[15]==="filled","mdc-text-field--outlined":A[15]==="outlined","smui-text-field--standard":A[15]==="standard"&&!A[14],"mdc-text-field--no-label":A[16]||!A[47].label,"mdc-text-field--with-leading-icon":A[47].leadingIcon,"mdc-text-field--with-trailing-icon":A[47].trailingIcon,"mdc-text-field--invalid":A[1],...A[25]})))&&{class:l},(!h||O[0]&67109888&&c!==(c=Object.entries(A[26]).map(hg).concat([A[10]]).join(" ")))&&{style:c},O[1]&32768&&gr(A[46],["input$","label$","ripple$","outline$","helperLine$"])])),f&&Vt(f.update)&&O[0]&2048&&f.update.call(null,{ripple:A[11],unbounded:!1,addClass:A[43],removeClass:A[44],addStyle:A[45]}),u&&Vt(u.update)&&O[0]&256&&u.update.call(null,A[8])},i(A){h||(se(m,A),se(r.$$.fragment,A),se(b,A),se(o.$$.fragment,A),se(S,A),h=!0)},o(A){fe(m,A),fe(r.$$.fragment,A),fe(b,A),fe(o.$$.fragment,A),fe(S,A),h=!1},d(A){A&&Pe(t),m&&m.d(A),et(r),b&&b.d(A),et(o),S&&S.d(A),e[82](null),d=!1,ln(g)}}}function oH(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g,p,m,v,b,y=!e[14]&&e[15]!=="outlined"&&rg(e),S=(e[14]||e[15]==="outlined")&&og(e);s=new Gi({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[dH]},$$scope:{ctx:e}}});const w=e[56].default,E=kt(w,e,e[87],null),A=[mH,hH],O=[];function U($,W){return $[14]&&typeof $[0]=="string"?0:1}a=U(e),l=O[a]=A[a](e),f=new Gi({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[vH]},$$scope:{ctx:e}}});let N=!e[14]&&e[15]!=="outlined"&&e[11]&&fg(e),x=[{class:h=dt({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||e[17]==null&&!e[47].label,"mdc-text-field--label-floating":e[28]||e[0]!=null&&e[0]!=="","mdc-text-field--with-leading-icon":e[35](e[22])?e[47].leadingIcon:e[22],"mdc-text-field--with-trailing-icon":e[35](e[23])?e[47].trailingIcon:e[23],"mdc-text-field--with-internal-counter":e[14]&&e[47].internalCounter,"mdc-text-field--invalid":e[1],...e[25]})},{style:d=Object.entries(e[26]).map(dg).concat([e[10]]).join(" ")},{for:void 0},gr(e[46],["input$","label$","ripple$","outline$","helperLine$"])],le={};for(let $=0;$<x.length;$+=1)le=je(le,x[$]);return{c(){t=Tt("label"),y&&y.c(),n=At(),S&&S.c(),r=At(),tt(s.$$.fragment),i=At(),E&&E.c(),o=At(),l.c(),c=At(),tt(f.$$.fragment),u=At(),N&&N.c(),Lt(t,le)},m($,W){Le($,t,W),y&&y.m(t,null),En(t,n),S&&S.m(t,null),En(t,r),Je(s,t,null),En(t,i),E&&E.m(t,null),En(t,o),O[a].m(t,null),En(t,c),Je(f,t,null),En(t,u),N&&N.m(t,null),e[78](t),m=!0,v||(b=[St(g=Wr.call(null,t,{ripple:!e[14]&&e[15]==="filled",unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45],eventTarget:e[33],activeTarget:e[33],initPromise:e[37]})),St(p=vn.call(null,t,e[8])),St(e[34].call(null,t)),Rt(t,"SMUITextfieldLeadingIcon:mount",e[38]),Rt(t,"SMUITextfieldLeadingIcon:unmount",e[79]),Rt(t,"SMUITextfieldTrailingIcon:mount",e[39]),Rt(t,"SMUITextfieldTrailingIcon:unmount",e[80]),Rt(t,"SMUITextfieldCharacterCounter:mount",e[40]),Rt(t,"SMUITextfieldCharacterCounter:unmount",e[81])],v=!0)},p($,W){!$[14]&&$[15]!=="outlined"?y?(y.p($,W),W[0]&49152&&se(y,1)):(y=rg($),y.c(),se(y,1),y.m(t,n)):y&&(Yt(),fe(y,1,1,()=>{y=null}),Zt()),$[14]||$[15]==="outlined"?S?(S.p($,W),W[0]&49152&&se(S,1)):(S=og($),S.c(),se(S,1),S.m(t,r)):S&&(Yt(),fe(S,1,1,()=>{S=null}),Zt());const Be={};W[2]&33554432&&(Be.$$scope={dirty:W,ctx:$}),s.$set(Be),E&&E.p&&(!m||W[2]&33554432)&&Bt(E,w,$,$[87],m?Gt(w,$[87],W,null):Nt($[87]),null);let ne=a;a=U($),a===ne?O[a].p($,W):(Yt(),fe(O[ne],1,1,()=>{O[ne]=null}),Zt(),l=O[a],l?l.p($,W):(l=O[a]=A[a]($),l.c()),se(l,1),l.m(t,c));const H={};W[2]&33554432&&(H.$$scope={dirty:W,ctx:$}),f.$set(H),!$[14]&&$[15]!=="outlined"&&$[11]?N?(N.p($,W),W[0]&51200&&se(N,1)):(N=fg($),N.c(),se(N,1),N.m(t,null)):N&&(Yt(),fe(N,1,1,()=>{N=null}),Zt()),Lt(t,le=Ot(x,[(!m||W[0]&314823171|W[1]&65536&&h!==(h=dt({[$[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":$[12],"mdc-text-field--textarea":$[14],"mdc-text-field--filled":$[15]==="filled","mdc-text-field--outlined":$[15]==="outlined","smui-text-field--standard":$[15]==="standard"&&!$[14],"mdc-text-field--no-label":$[16]||$[17]==null&&!$[47].label,"mdc-text-field--label-floating":$[28]||$[0]!=null&&$[0]!=="","mdc-text-field--with-leading-icon":$[35]($[22])?$[47].leadingIcon:$[22],"mdc-text-field--with-trailing-icon":$[35]($[23])?$[47].trailingIcon:$[23],"mdc-text-field--with-internal-counter":$[14]&&$[47].internalCounter,"mdc-text-field--invalid":$[1],...$[25]})))&&{class:h},(!m||W[0]&67109888&&d!==(d=Object.entries($[26]).map(dg).concat([$[10]]).join(" ")))&&{style:d},{for:void 0},W[1]&32768&&gr($[46],["input$","label$","ripple$","outline$","helperLine$"])])),g&&Vt(g.update)&&W[0]&49152|W[1]&4&&g.update.call(null,{ripple:!$[14]&&$[15]==="filled",unbounded:!1,addClass:$[43],removeClass:$[44],addStyle:$[45],eventTarget:$[33],activeTarget:$[33],initPromise:$[37]}),p&&Vt(p.update)&&W[0]&256&&p.update.call(null,$[8])},i($){m||(se(y),se(S),se(s.$$.fragment,$),se(E,$),se(l),se(f.$$.fragment,$),se(N),m=!0)},o($){fe(y),fe(S),fe(s.$$.fragment,$),fe(E,$),fe(l),fe(f.$$.fragment,$),fe(N),m=!1},d($){$&&Pe(t),y&&y.d(),S&&S.d(),et(s),E&&E.d($),O[a].d(),et(f),N&&N.d(),e[78](null),v=!1,ln(b)}}}function aH(e){let t;const n=e[56].leadingIcon,r=kt(n,e,e[87],Wp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Bt(r,n,s,s[87],t?Gt(n,s[87],i,ZU):Nt(s[87]),Wp)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function lH(e){let t;const n=e[56].trailingIcon,r=kt(n,e,e[87],Xp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Bt(r,n,s,s[87],t?Gt(n,s[87],i,YU):Nt(s[87]),Xp)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function rg(e){let t,n,r,s=e[15]==="filled"&&sg(),i=!e[16]&&(e[17]!=null||e[47].label)&&ig(e);return{c(){s&&s.c(),t=At(),i&&i.c(),n=hn()},m(o,a){s&&s.m(o,a),Le(o,t,a),i&&i.m(o,a),Le(o,n,a),r=!0},p(o,a){o[15]==="filled"?s||(s=sg(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),!o[16]&&(o[17]!=null||o[47].label)?i?(i.p(o,a),a[0]&196608|a[1]&65536&&se(i,1)):(i=ig(o),i.c(),se(i,1),i.m(n.parentNode,n)):i&&(Yt(),fe(i,1,1,()=>{i=null}),Zt())},i(o){r||(se(i),r=!0)},o(o){fe(i),r=!1},d(o){s&&s.d(o),o&&Pe(t),i&&i.d(o),o&&Pe(n)}}}function sg(e){let t;return{c(){t=Tt("span"),Dt(t,"class","mdc-text-field__ripple")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function ig(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},jt(e[46],"label$")];let s={$$slots:{default:[cH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new tb({props:s}),e[57](t),{c(){tt(t.$$.fragment)},m(i,o){Je(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?Ot(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&on(jt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(se(t.$$.fragment,i),n=!0)},o(i){fe(t.$$.fragment,i),n=!1},d(i){e[57](null),et(t,i)}}}function cH(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=kt(s,e,e[87],ng);return{c(){n=Qn(t),i&&i.c()},m(o,a){Le(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&Qs(n,t),i&&i.p&&(!r||a[2]&33554432)&&Bt(i,s,o,o[87],r?Gt(s,o[87],a,sH):Nt(o[87]),ng)},i(o){r||(se(i,o),r=!0)},o(o){fe(i,o),r=!1},d(o){o&&Pe(n),i&&i.d(o)}}}function og(e){let t,n;const r=[{noLabel:e[16]||e[17]==null&&!e[47].label},jt(e[46],"outline$")];let s={$$slots:{default:[uH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new kU({props:s}),e[59](t),{c(){tt(t.$$.fragment)},m(i,o){Je(t,i,o),n=!0},p(i,o){const a=o[0]&196608|o[1]&98304?Ot(r,[o[0]&196608|o[1]&65536&&{noLabel:i[16]||i[17]==null&&!i[47].label},o[1]&32768&&on(jt(i[46],"outline$"))]):{};o[0]&268640289|o[1]&98304|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(se(t.$$.fragment,i),n=!0)},o(i){fe(t.$$.fragment,i),n=!1},d(i){e[59](null),et(t,i)}}}function ag(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},jt(e[46],"label$")];let s={$$slots:{default:[fH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new tb({props:s}),e[58](t),{c(){tt(t.$$.fragment)},m(i,o){Je(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?Ot(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&on(jt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(se(t.$$.fragment,i),n=!0)},o(i){fe(t.$$.fragment,i),n=!1},d(i){e[58](null),et(t,i)}}}function fH(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=kt(s,e,e[87],tg);return{c(){n=Qn(t),i&&i.c()},m(o,a){Le(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&Qs(n,t),i&&i.p&&(!r||a[2]&33554432)&&Bt(i,s,o,o[87],r?Gt(s,o[87],a,rH):Nt(o[87]),tg)},i(o){r||(se(i,o),r=!0)},o(o){fe(i,o),r=!1},d(o){o&&Pe(n),i&&i.d(o)}}}function uH(e){let t,n,r=!e[16]&&(e[17]!=null||e[47].label)&&ag(e);return{c(){r&&r.c(),t=hn()},m(s,i){r&&r.m(s,i),Le(s,t,i),n=!0},p(s,i){!s[16]&&(s[17]!=null||s[47].label)?r?(r.p(s,i),i[0]&196608|i[1]&65536&&se(r,1)):(r=ag(s),r.c(),se(r,1),r.m(t.parentNode,t)):r&&(Yt(),fe(r,1,1,()=>{r=null}),Zt())},i(s){n||(se(r),n=!0)},o(s){fe(r),n=!1},d(s){r&&r.d(s),s&&Pe(t)}}}function dH(e){let t;const n=e[56].leadingIcon,r=kt(n,e,e[87],eg);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Bt(r,n,s,s[87],t?Gt(n,s[87],i,nH):Nt(s[87]),eg)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function hH(e){let t,n,r,s,i,o,a,l,c,f;const u=e[56].prefix,h=kt(u,e,e[87],Qp);let d=e[20]!=null&&lg(e);const g=[{type:e[18]},{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},e[16]&&e[17]!=null?{placeholder:e[17]}:{},jt(e[46],"input$")];function p(A){e[69](A)}function m(A){e[70](A)}function v(A){e[71](A)}function b(A){e[72](A)}let y={};for(let A=0;A<g.length;A+=1)y=je(y,g[A]);e[0]!==void 0&&(y.value=e[0]),e[3]!==void 0&&(y.files=e[3]),e[4]!==void 0&&(y.dirty=e[4]),e[1]!==void 0&&(y.invalid=e[1]),r=new HU({props:y}),e[68](r),lt.push(()=>Nn(r,"value",p)),lt.push(()=>Nn(r,"files",m)),lt.push(()=>Nn(r,"dirty",v)),lt.push(()=>Nn(r,"invalid",b)),r.$on("blur",e[73]),r.$on("focus",e[74]),r.$on("blur",e[75]),r.$on("focus",e[76]);let S=e[21]!=null&&cg(e);const w=e[56].suffix,E=kt(w,e,e[87],Kp);return{c(){h&&h.c(),t=At(),d&&d.c(),n=At(),tt(r.$$.fragment),l=At(),S&&S.c(),c=At(),E&&E.c()},m(A,O){h&&h.m(A,O),Le(A,t,O),d&&d.m(A,O),Le(A,n,O),Je(r,A,O),Le(A,l,O),S&&S.m(A,O),Le(A,c,O),E&&E.m(A,O),f=!0},p(A,O){h&&h.p&&(!f||O[2]&33554432)&&Bt(h,u,A,A[87],f?Gt(u,A[87],O,eH):Nt(A[87]),Qp),A[20]!=null?d?(d.p(A,O),O[0]&1048576&&se(d,1)):(d=lg(A),d.c(),se(d,1),d.m(n.parentNode,n)):d&&(Yt(),fe(d,1,1,()=>{d=null}),Zt());const U=O[0]&135213056|O[1]&32768?Ot(g,[O[0]&262144&&{type:A[18]},O[0]&4096&&{disabled:A[12]},O[0]&8192&&{required:A[13]},O[0]&524288&&{updateInvalid:A[19]},O[0]&134217728&&{"aria-controls":A[27]},O[0]&134217728&&{"aria-describedby":A[27]},O[0]&196608&&on(A[16]&&A[17]!=null?{placeholder:A[17]}:{}),O[1]&32768&&on(jt(A[46],"input$"))]):{};!s&&O[0]&1&&(s=!0,U.value=A[0],Bn(()=>s=!1)),!i&&O[0]&8&&(i=!0,U.files=A[3],Bn(()=>i=!1)),!o&&O[0]&16&&(o=!0,U.dirty=A[4],Bn(()=>o=!1)),!a&&O[0]&2&&(a=!0,U.invalid=A[1],Bn(()=>a=!1)),r.$set(U),A[21]!=null?S?(S.p(A,O),O[0]&2097152&&se(S,1)):(S=cg(A),S.c(),se(S,1),S.m(c.parentNode,c)):S&&(Yt(),fe(S,1,1,()=>{S=null}),Zt()),E&&E.p&&(!f||O[2]&33554432)&&Bt(E,w,A,A[87],f?Gt(w,A[87],O,JU):Nt(A[87]),Kp)},i(A){f||(se(h,A),se(d),se(r.$$.fragment,A),se(S),se(E,A),f=!0)},o(A){fe(h,A),fe(d),fe(r.$$.fragment,A),fe(S),fe(E,A),f=!1},d(A){h&&h.d(A),A&&Pe(t),d&&d.d(A),A&&Pe(n),e[68](null),et(r,A),A&&Pe(l),S&&S.d(A),A&&Pe(c),E&&E.d(A)}}}function mH(e){let t,n,r,s,i,o,a,l;const c=[{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},jt(e[46],"input$")];function f(m){e[61](m)}function u(m){e[62](m)}function h(m){e[63](m)}let d={};for(let m=0;m<c.length;m+=1)d=je(d,c[m]);e[0]!==void 0&&(d.value=e[0]),e[4]!==void 0&&(d.dirty=e[4]),e[1]!==void 0&&(d.invalid=e[1]),n=new qU({props:d}),e[60](n),lt.push(()=>Nn(n,"value",f)),lt.push(()=>Nn(n,"dirty",u)),lt.push(()=>Nn(n,"invalid",h)),n.$on("blur",e[64]),n.$on("focus",e[65]),n.$on("blur",e[66]),n.$on("focus",e[67]);const g=e[56].internalCounter,p=kt(g,e,e[87],Jp);return{c(){t=Tt("span"),tt(n.$$.fragment),o=At(),p&&p.c(),Dt(t,"class",a=dt({"mdc-text-field__resizer":!("input$resizable"in e[46])||e[46].input$resizable}))},m(m,v){Le(m,t,v),Je(n,t,null),En(t,o),p&&p.m(t,null),l=!0},p(m,v){const b=v[0]&134754304|v[1]&32768?Ot(c,[v[0]&4096&&{disabled:m[12]},v[0]&8192&&{required:m[13]},v[0]&524288&&{updateInvalid:m[19]},v[0]&134217728&&{"aria-controls":m[27]},v[0]&134217728&&{"aria-describedby":m[27]},v[1]&32768&&on(jt(m[46],"input$"))]):{};!r&&v[0]&1&&(r=!0,b.value=m[0],Bn(()=>r=!1)),!s&&v[0]&16&&(s=!0,b.dirty=m[4],Bn(()=>s=!1)),!i&&v[0]&2&&(i=!0,b.invalid=m[1],Bn(()=>i=!1)),n.$set(b),p&&p.p&&(!l||v[2]&33554432)&&Bt(p,g,m,m[87],l?Gt(g,m[87],v,tH):Nt(m[87]),Jp),(!l||v[1]&32768&&a!==(a=dt({"mdc-text-field__resizer":!("input$resizable"in m[46])||m[46].input$resizable})))&&Dt(t,"class",a)},i(m){l||(se(n.$$.fragment,m),se(p,m),l=!0)},o(m){fe(n.$$.fragment,m),fe(p,m),l=!1},d(m){m&&Pe(t),e[60](null),et(n),p&&p.d(m)}}}function lg(e){let t,n;return t=new BU({props:{$$slots:{default:[pH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s[0]&1048576|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function pH(e){let t;return{c(){t=Qn(e[20])},m(n,r){Le(n,t,r)},p(n,r){r[0]&1048576&&Qs(t,n[20])},d(n){n&&Pe(t)}}}function cg(e){let t,n;return t=new NU({props:{$$slots:{default:[gH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s[0]&2097152|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function gH(e){let t;return{c(){t=Qn(e[21])},m(n,r){Le(n,t,r)},p(n,r){r[0]&2097152&&Qs(t,n[21])},d(n){n&&Pe(t)}}}function vH(e){let t;const n=e[56].trailingIcon,r=kt(n,e,e[87],Zp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Bt(r,n,s,s[87],t?Gt(n,s[87],i,QU):Nt(s[87]),Zp)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function fg(e){let t,n;const r=[jt(e[46],"ripple$")];let s={};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new DU({props:s}),e[77](t),{c(){tt(t.$$.fragment)},m(i,o){Je(t,i,o),n=!0},p(i,o){const a=o[1]&32768?Ot(r,[on(jt(i[46],"ripple$"))]):{};t.$set(a)},i(i){n||(se(t.$$.fragment,i),n=!0)},o(i){fe(t.$$.fragment,i),n=!1},d(i){e[77](null),et(t,i)}}}function ug(e){let t,n;const r=[jt(e[46],"helperLine$")];let s={$$slots:{default:[bH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new GU({props:s}),t.$on("SMUITextfieldHelperText:id",e[41]),t.$on("SMUITextfieldHelperText:mount",e[42]),t.$on("SMUITextfieldHelperText:unmount",e[85]),t.$on("SMUITextfieldCharacterCounter:mount",e[40]),t.$on("SMUITextfieldCharacterCounter:unmount",e[86]),{c(){tt(t.$$.fragment)},m(i,o){Je(t,i,o),n=!0},p(i,o){const a=o[1]&32768?Ot(r,[on(jt(i[46],"helperLine$"))]):{};o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(se(t.$$.fragment,i),n=!0)},o(i){fe(t.$$.fragment,i),n=!1},d(i){et(t,i)}}}function bH(e){let t;const n=e[56].helper,r=kt(n,e,e[87],jp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Bt(r,n,s,s[87],t?Gt(n,s[87],i,XU):Nt(s[87]),jp)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function _H(e){let t,n,r,s,i;const o=[oH,iH],a=[];function l(f,u){return f[36]?0:1}t=l(e),n=a[t]=o[t](e);let c=e[47].helper&&ug(e);return{c(){n.c(),r=At(),c&&c.c(),s=hn()},m(f,u){a[t].m(f,u),Le(f,r,u),c&&c.m(f,u),Le(f,s,u),i=!0},p(f,u){n.p(f,u),f[47].helper?c?(c.p(f,u),u[1]&65536&&se(c,1)):(c=ug(f),c.c(),se(c,1),c.m(s.parentNode,s)):c&&(Yt(),fe(c,1,1,()=>{c=null}),Zt())},i(f){i||(se(n),se(c),i=!0)},o(f){fe(n),fe(c),i=!1},d(f){a[t].d(f),f&&Pe(r),c&&c.d(f),f&&Pe(s)}}}const dg=([e,t])=>`${e}: ${t};`,hg=([e,t])=>`${e}: ${t};`;function yH(e,t,n){let r;const s=["use","class","style","ripple","disabled","required","textarea","variant","noLabel","label","type","value","files","invalid","updateInvalid","dirty","prefix","suffix","validateOnValueChange","useNativeValidation","withLeadingIcon","withTrailingIcon","input","floatingLabel","lineRipple","notchedOutline","focus","blur","layout","getElement"];let i=wt(t,s),{$$slots:o={},$$scope:a}=t;const l=Uy(o),{applyPassive:c}=Ig,f=wn(rn());let u=()=>{};function h(J){return J===u}let{use:d=[]}=t,{class:g=""}=t,{style:p=""}=t,{ripple:m=!0}=t,{disabled:v=!1}=t,{required:b=!1}=t,{textarea:y=!1}=t,{variant:S=y?"outlined":"standard"}=t,{noLabel:w=!1}=t,{label:E=void 0}=t,{type:A="text"}=t,{value:O=i.input$emptyValueUndefined?void 0:u}=t,{files:U=u}=t;const N=!h(O)||!h(U);h(O)&&(O=void 0),h(U)&&(U=null);let{invalid:x=u}=t,{updateInvalid:le=h(x)}=t;h(x)&&(x=!1);let{dirty:$=!1}=t,{prefix:W=void 0}=t,{suffix:Be=void 0}=t,{validateOnValueChange:ne=le}=t,{useNativeValidation:H=le}=t,{withLeadingIcon:he=u}=t,{withTrailingIcon:te=u}=t,{input:oe=void 0}=t,{floatingLabel:ct=void 0}=t,{lineRipple:ke=void 0}=t,{notchedOutline:Pt=void 0}=t,Xt,$t,On={},zn={},Ye,Ve=!1,Rn=dr("SMUI:addLayoutListener"),Wi,Yi,Zo=new Promise(J=>Yi=J),Zr,Kr,ys,As,Vn=O;Rn&&(Wi=Rn(Qr)),ir(()=>{if(n(54,$t=new TU({addClass:Qo,removeClass:Jo,hasClass:Ql,registerTextFieldInteractionHandler:(J,mn)=>Ss().addEventListener(J,mn),deregisterTextFieldInteractionHandler:(J,mn)=>Ss().removeEventListener(J,mn),registerValidationAttributeChangeHandler:J=>{const mn=Ki=>Ki.map(Qi=>Qi.attributeName).filter(Qi=>Qi),aa=new MutationObserver(Ki=>{H&&J(mn(Ki))}),yc={attributes:!0};return oe&&aa.observe(oe.getElement(),yc),aa},deregisterValidationAttributeChangeHandler:J=>{J.disconnect()},getNativeInput:()=>{var J;return(J=oe==null?void 0:oe.getElement())!==null&&J!==void 0?J:null},setInputAttr:(J,mn)=>{oe==null||oe.addAttr(J,mn)},removeInputAttr:J=>{oe==null||oe.removeAttr(J)},isFocused:()=>document.activeElement===(oe==null?void 0:oe.getElement()),registerInputInteractionHandler:(J,mn)=>{oe==null||oe.getElement().addEventListener(J,mn,c())},deregisterInputInteractionHandler:(J,mn)=>{oe==null||oe.getElement().removeEventListener(J,mn,c())},floatLabel:J=>ct&&ct.float(J),getLabelWidth:()=>ct?ct.getWidth():0,hasLabel:()=>!!ct,shakeLabel:J=>ct&&ct.shake(J),setLabelRequired:J=>ct&&ct.setRequired(J),activateLineRipple:()=>ke&&ke.activate(),deactivateLineRipple:()=>ke&&ke.deactivate(),setLineRippleTransformOrigin:J=>ke&&ke.setRippleCenter(J),closeOutline:()=>Pt&&Pt.closeNotch(),hasOutline:()=>!!Pt,notchOutline:J=>Pt&&Pt.notch(J)},{get helperText(){return ys},get characterCounter(){return As},get leadingIcon(){return Zr},get trailingIcon(){return Kr}})),N){if(oe==null)throw new Error("SMUI Textfield initialized without Input component.");$t.init()}else Yy().then(()=>{if(oe==null)throw new Error("SMUI Textfield initialized without Input component.");$t.init()});return Yi(),()=>{$t.destroy()}}),Yu(()=>{Wi&&Wi()});function Ko(J){n(29,Zr=J.detail)}function ri(J){n(30,Kr=J.detail)}function Zl(J){n(32,As=J.detail)}function Kl(J){n(27,Ye=J.detail)}function P(J){n(31,ys=J.detail)}function Ql(J){var mn;return J in On?(mn=On[J])!==null&&mn!==void 0?mn:null:Ss().classList.contains(J)}function Qo(J){On[J]||n(25,On[J]=!0,On)}function Jo(J){(!(J in On)||On[J])&&n(25,On[J]=!1,On)}function Jl(J,mn){zn[J]!=mn&&(mn===""||mn==null?(delete zn[J],n(26,zn)):n(26,zn[J]=mn,zn))}function kr(){oe==null||oe.focus()}function ea(){oe==null||oe.blur()}function Qr(){if($t){const J=$t.shouldFloat;$t.notchOutline(J)}}function Ss(){return Xt}function ec(J){lt[J?"unshift":"push"](()=>{ct=J,n(5,ct)})}function tc(J){lt[J?"unshift":"push"](()=>{ct=J,n(5,ct)})}function ta(J){lt[J?"unshift":"push"](()=>{Pt=J,n(7,Pt)})}function jn(J){lt[J?"unshift":"push"](()=>{oe=J,n(2,oe)})}function Zi(J){O=J,n(0,O)}function na(J){$=J,n(4,$)}function nc(J){x=J,n(1,x),n(54,$t),n(19,le)}const rc=()=>n(28,Ve=!1),sc=()=>n(28,Ve=!0),ic=J=>$n(Xt,"blur",J),oc=J=>$n(Xt,"focus",J);function ra(J){lt[J?"unshift":"push"](()=>{oe=J,n(2,oe)})}function sa(J){O=J,n(0,O)}function ac(J){U=J,n(3,U)}function lc(J){$=J,n(4,$)}function qn(J){x=J,n(1,x),n(54,$t),n(19,le)}const cc=()=>n(28,Ve=!1),fc=()=>n(28,Ve=!0),uc=J=>$n(Xt,"blur",J),dc=J=>$n(Xt,"focus",J);function hc(J){lt[J?"unshift":"push"](()=>{ke=J,n(6,ke)})}function mc(J){lt[J?"unshift":"push"](()=>{Xt=J,n(24,Xt)})}const pc=()=>n(29,Zr=void 0),gc=()=>n(30,Kr=void 0),ia=()=>n(32,As=void 0);function oa(J){lt[J?"unshift":"push"](()=>{Xt=J,n(24,Xt)})}const sn=()=>n(29,Zr=void 0),vc=()=>n(30,Kr=void 0),bc=()=>{n(27,Ye=void 0),n(31,ys=void 0)},_c=()=>n(32,As=void 0);return e.$$set=J=>{t=je(je({},t),bn(J)),n(46,i=wt(t,s)),"use"in J&&n(8,d=J.use),"class"in J&&n(9,g=J.class),"style"in J&&n(10,p=J.style),"ripple"in J&&n(11,m=J.ripple),"disabled"in J&&n(12,v=J.disabled),"required"in J&&n(13,b=J.required),"textarea"in J&&n(14,y=J.textarea),"variant"in J&&n(15,S=J.variant),"noLabel"in J&&n(16,w=J.noLabel),"label"in J&&n(17,E=J.label),"type"in J&&n(18,A=J.type),"value"in J&&n(0,O=J.value),"files"in J&&n(3,U=J.files),"invalid"in J&&n(1,x=J.invalid),"updateInvalid"in J&&n(19,le=J.updateInvalid),"dirty"in J&&n(4,$=J.dirty),"prefix"in J&&n(20,W=J.prefix),"suffix"in J&&n(21,Be=J.suffix),"validateOnValueChange"in J&&n(48,ne=J.validateOnValueChange),"useNativeValidation"in J&&n(49,H=J.useNativeValidation),"withLeadingIcon"in J&&n(22,he=J.withLeadingIcon),"withTrailingIcon"in J&&n(23,te=J.withTrailingIcon),"input"in J&&n(2,oe=J.input),"floatingLabel"in J&&n(5,ct=J.floatingLabel),"lineRipple"in J&&n(6,ke=J.lineRipple),"notchedOutline"in J&&n(7,Pt=J.notchedOutline),"$$scope"in J&&n(87,a=J.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&4&&n(33,r=oe&&oe.getElement()),e.$$.dirty[0]&524290|e.$$.dirty[1]&8388608&&$t&&$t.isValid()!==!x&&(le?n(1,x=!$t.isValid()):$t.setValid(!x)),e.$$.dirty[1]&8519680&&$t&&$t.getValidateOnValueChange()!==ne&&$t.setValidateOnValueChange(h(ne)?!1:ne),e.$$.dirty[1]&8650752&&$t&&$t.setUseNativeValidation(h(H)?!0:H),e.$$.dirty[0]&4096|e.$$.dirty[1]&8388608&&$t&&$t.setDisabled(v),e.$$.dirty[0]&1|e.$$.dirty[1]&25165824&&$t&&N&&Vn!==O){n(55,Vn=O);const J=`${O}`;$t.getValue()!==J&&$t.setValue(J)}},[O,x,oe,U,$,ct,ke,Pt,d,g,p,m,v,b,y,S,w,E,A,le,W,Be,he,te,Xt,On,zn,Ye,Ve,Zr,Kr,ys,As,r,f,h,N,Zo,Ko,ri,Zl,Kl,P,Qo,Jo,Jl,i,l,ne,H,kr,ea,Qr,Ss,$t,Vn,o,ec,tc,ta,jn,Zi,na,nc,rc,sc,ic,oc,ra,sa,ac,lc,qn,cc,fc,uc,dc,hc,mc,pc,gc,ia,oa,sn,vc,bc,_c,a]}class gs extends en{constructor(t){super(),Jt(this,t,yH,_H,Ut,{use:8,class:9,style:10,ripple:11,disabled:12,required:13,textarea:14,variant:15,noLabel:16,label:17,type:18,value:0,files:3,invalid:1,updateInvalid:19,dirty:4,prefix:20,suffix:21,validateOnValueChange:48,useNativeValidation:49,withLeadingIcon:22,withTrailingIcon:23,input:2,floatingLabel:5,lineRipple:6,notchedOutline:7,focus:50,blur:51,layout:52,getElement:53},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[50]}get blur(){return this.$$.ctx[51]}get layout(){return this.$$.ctx[52]}get getElement(){return this.$$.ctx[53]}}function AH(e){let t;return{c(){t=Qn(e[8])},m(n,r){Le(n,t,r)},p(n,r){r&256&&Qs(t,n[8])},i:an,o:an,d(n){n&&Pe(t)}}}function SH(e){let t;const n=e[13].default,r=kt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&Bt(r,n,s,s[12],t?Gt(n,s[12],i,null):Nt(s[12]),null)},i(s){t||(se(r,s),t=!0)},o(s){fe(r,s),t=!1},d(s){r&&r.d(s)}}}function EH(e){let t,n,r,s,i,o,a,l,c;const f=[SH,AH],u=[];function h(p,m){return p[8]==null?0:1}n=h(e),r=u[n]=f[n](e);let d=[{class:s=dt({[e[1]]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":e[3],"mdc-text-field-helper-text--validation-msg":e[4],...e[6]})},{"aria-hidden":i=e[3]?void 0:"true"},{id:e[2]},e[7],e[10]],g={};for(let p=0;p<d.length;p+=1)g=je(g,d[p]);return{c(){t=Tt("div"),r.c(),Lt(t,g)},m(p,m){Le(p,t,m),u[n].m(t,null),e[14](t),a=!0,l||(c=[St(o=vn.call(null,t,e[0])),St(e[9].call(null,t))],l=!0)},p(p,[m]){let v=n;n=h(p),n===v?u[n].p(p,m):(Yt(),fe(u[v],1,1,()=>{u[v]=null}),Zt(),r=u[n],r?r.p(p,m):(r=u[n]=f[n](p),r.c()),se(r,1),r.m(t,null)),Lt(t,g=Ot(d,[(!a||m&90&&s!==(s=dt({[p[1]]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":p[3],"mdc-text-field-helper-text--validation-msg":p[4],...p[6]})))&&{class:s},(!a||m&8&&i!==(i=p[3]?void 0:"true"))&&{"aria-hidden":i},(!a||m&4)&&{id:p[2]},m&128&&p[7],m&1024&&p[10]])),o&&Vt(o.update)&&m&1&&o.update.call(null,p[0])},i(p){a||(se(r),a=!0)},o(p){fe(r),a=!1},d(p){p&&Pe(t),u[n].d(),e[14](null),l=!1,ln(c)}}}let wH=0;function TH(e,t,n){const r=["use","class","id","persistent","validationMsg","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(rn());let{use:l=[]}=t,{class:c=""}=t,{id:f="SMUI-textfield-helper-text-"+wH++}=t,{persistent:u=!1}=t,{validationMsg:h=!1}=t,d,g,p={},m={},v;ir(()=>(g=new CU({addClass:y,removeClass:S,hasClass:b,getAttr:w,setAttr:E,removeAttr:A,setContent:N=>{n(8,v=N)}}),f.startsWith("SMUI-textfield-helper-text-")&&$n(O(),"SMUITextfieldHelperText:id",f),$n(O(),"SMUITextfieldHelperText:mount",g),g.init(),()=>{$n(O(),"SMUITextfieldHelperText:unmount",g),g.destroy()}));function b(N){return N in p?p[N]:O().classList.contains(N)}function y(N){p[N]||n(6,p[N]=!0,p)}function S(N){(!(N in p)||p[N])&&n(6,p[N]=!1,p)}function w(N){var x;return N in m?(x=m[N])!==null&&x!==void 0?x:null:O().getAttribute(N)}function E(N,x){m[N]!==x&&n(7,m[N]=x,m)}function A(N){(!(N in m)||m[N]!=null)&&n(7,m[N]=void 0,m)}function O(){return d}function U(N){lt[N?"unshift":"push"](()=>{d=N,n(5,d)})}return e.$$set=N=>{t=je(je({},t),bn(N)),n(10,s=wt(t,r)),"use"in N&&n(0,l=N.use),"class"in N&&n(1,c=N.class),"id"in N&&n(2,f=N.id),"persistent"in N&&n(3,u=N.persistent),"validationMsg"in N&&n(4,h=N.validationMsg),"$$scope"in N&&n(12,o=N.$$scope)},[l,c,f,u,h,d,p,m,v,a,s,O,o,i,U]}class CH extends en{constructor(t){super(),Jt(this,t,TH,EH,Ut,{use:0,class:1,id:2,persistent:3,validationMsg:4,getElement:11})}get getElement(){return this.$$.ctx[11]}}function mg(e){let t;return{c(){t=Tt("div"),Dt(t,"class","mdc-fab__focus-ring")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function pg(e){let t;return{c(){t=Tt("div"),Dt(t,"class","mdc-fab__touch")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function PH(e){let t,n,r,s,i,o=e[4]&&mg();const a=e[22].default,l=kt(a,e,e[24],null);let c=e[9]&&pg();return{c(){t=Tt("div"),n=At(),o&&o.c(),r=At(),l&&l.c(),c&&c.c(),s=hn(),Dt(t,"class","mdc-fab__ripple")},m(f,u){Le(f,t,u),Le(f,n,u),o&&o.m(f,u),Le(f,r,u),l&&l.m(f,u),c&&c.m(f,u),Le(f,s,u),i=!0},p(f,u){f[4]?o||(o=mg(),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),l&&l.p&&(!i||u&16777216)&&Bt(l,a,f,f[24],i?Gt(a,f[24],u,null):Nt(f[24]),null),f[9]?c||(c=pg(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(f){i||(se(l,f),i=!0)},o(f){fe(l,f),i=!1},d(f){f&&Pe(t),f&&Pe(n),o&&o.d(f),f&&Pe(r),l&&l.d(f),c&&c.d(f),f&&Pe(s)}}}function LH(e){let t,n,r;const s=[{tag:e[12]},{use:[[Wr,{ripple:e[3],unbounded:!1,color:e[5],disabled:!!e[20].disabled,addClass:e[17],removeClass:e[18],addStyle:e[19]}],e[16],...e[0]]},{class:dt({[e[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":e[6],"mdc-fab--exited":e[7],"mdc-fab--extended":e[8],"smui-fab--color-primary":e[5]==="primary","mdc-fab--touch":e[9],...e[14]})},{style:Object.entries(e[15]).map(gg).concat([e[2]]).join(" ")},{href:e[10]},e[20]];var i=e[11];function o(a){let l={$$slots:{default:[PH]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[23](t)),{c(){t&&tt(t.$$.fragment),n=hn()},m(a,l){t&&Je(t,a,l),Le(a,n,l),r=!0},p(a,[l]){const c=l&2086895?Ot(s,[l&4096&&{tag:a[12]},l&2031657&&{use:[[Wr,{ripple:a[3],unbounded:!1,color:a[5],disabled:!!a[20].disabled,addClass:a[17],removeClass:a[18],addStyle:a[19]}],a[16],...a[0]]},l&17378&&{class:dt({[a[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":a[6],"mdc-fab--exited":a[7],"mdc-fab--extended":a[8],"smui-fab--color-primary":a[5]==="primary","mdc-fab--touch":a[9],...a[14]})},l&32772&&{style:Object.entries(a[15]).map(gg).concat([a[2]]).join(" ")},l&1024&&{href:a[10]},l&1048576&&on(a[20])]):{};if(l&16777744&&(c.$$scope={dirty:l,ctx:a}),l&2048&&i!==(i=a[11])){if(t){Yt();const f=t;fe(f.$$.fragment,1,0,()=>{et(f,1)}),Zt()}i?(t=pr(i,o(a)),a[23](t),tt(t.$$.fragment),se(t.$$.fragment,1),Je(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&se(t.$$.fragment,a),r=!0)},o(a){t&&fe(t.$$.fragment,a),r=!1},d(a){e[23](null),a&&Pe(n),t&&et(t,a)}}}const gg=([e,t])=>`${e}: ${t};`;function OH(e,t,n){const r=["use","class","style","ripple","focusRing","color","mini","exited","extended","touch","href","component","tag","getElement"];let s=wt(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(rn());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{ripple:u=!0}=t,{focusRing:h=!1}=t,{color:d="secondary"}=t,{mini:g=!1}=t,{exited:p=!1}=t,{extended:m=!1}=t,{touch:v=!1}=t,{href:b=void 0}=t,y,S={},w={},{component:E=vr}=t,{tag:A=E===vr?b==null?"button":"a":void 0}=t;ur("SMUI:label:context","fab"),ur("SMUI:icon:context","fab");function O($){S[$]||n(14,S[$]=!0,S)}function U($){(!($ in S)||S[$])&&n(14,S[$]=!1,S)}function N($,W){w[$]!=W&&(W===""||W==null?(delete w[$],n(15,w)):n(15,w[$]=W,w))}function x(){return y.getElement()}function le($){lt[$?"unshift":"push"](()=>{y=$,n(13,y)})}return e.$$set=$=>{t=je(je({},t),bn($)),n(20,s=wt(t,r)),"use"in $&&n(0,l=$.use),"class"in $&&n(1,c=$.class),"style"in $&&n(2,f=$.style),"ripple"in $&&n(3,u=$.ripple),"focusRing"in $&&n(4,h=$.focusRing),"color"in $&&n(5,d=$.color),"mini"in $&&n(6,g=$.mini),"exited"in $&&n(7,p=$.exited),"extended"in $&&n(8,m=$.extended),"touch"in $&&n(9,v=$.touch),"href"in $&&n(10,b=$.href),"component"in $&&n(11,E=$.component),"tag"in $&&n(12,A=$.tag),"$$scope"in $&&n(24,o=$.$$scope)},[l,c,f,u,h,d,g,p,m,v,b,E,A,y,S,w,a,O,U,N,s,x,i,le,o]}class RH extends en{constructor(t){super(),Jt(this,t,OH,LH,Ut,{use:0,class:1,style:2,ripple:3,focusRing:4,color:5,mini:6,exited:7,extended:8,touch:9,href:10,component:11,tag:12,getElement:21})}get getElement(){return this.$$.ctx[21]}}function vg(e){let t;return{c(){t=Tt("div"),Dt(t,"class","mdc-button__touch")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function MH(e){let t,n,r,s;const i=e[28].default,o=kt(i,e,e[30],null);let a=e[6]&&vg();return{c(){t=Tt("div"),n=At(),o&&o.c(),a&&a.c(),r=hn(),Dt(t,"class","mdc-button__ripple")},m(l,c){Le(l,t,c),Le(l,n,c),o&&o.m(l,c),a&&a.m(l,c),Le(l,r,c),s=!0},p(l,c){o&&o.p&&(!s||c[0]&1073741824)&&Bt(o,i,l,l[30],s?Gt(i,l[30],c,null):Nt(l[30]),null),l[6]?a||(a=vg(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(l){s||(se(o,l),s=!0)},o(l){fe(o,l),s=!1},d(l){l&&Pe(t),l&&Pe(n),o&&o.d(l),a&&a.d(l),l&&Pe(r)}}}function IH(e){let t,n,r;const s=[{tag:e[10]},{use:[[Wr,{ripple:e[3],unbounded:!1,color:e[4],disabled:!!e[23].disabled,addClass:e[19],removeClass:e[20],addStyle:e[21]}],e[17],...e[0]]},{class:dt({[e[1]]:!0,"mdc-button":!0,"mdc-button--raised":e[5]==="raised","mdc-button--unelevated":e[5]==="unelevated","mdc-button--outlined":e[5]==="outlined","smui-button--color-secondary":e[4]==="secondary","mdc-button--touch":e[6],"mdc-card__action":e[18]==="card:action","mdc-card__action--button":e[18]==="card:action","mdc-dialog__button":e[18]==="dialog:action","mdc-top-app-bar__navigation-icon":e[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":e[18]==="top-app-bar:action","mdc-snackbar__action":e[18]==="snackbar:actions","mdc-banner__secondary-action":e[18]==="banner"&&e[8],"mdc-banner__primary-action":e[18]==="banner"&&!e[8],"mdc-tooltip__action":e[18]==="tooltip:rich-actions",...e[12]})},{style:Object.entries(e[13]).map(bg).concat([e[2]]).join(" ")},e[16],e[15],e[14],{href:e[7]},e[23]];var i=e[9];function o(a){let l={$$slots:{default:[MH]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[29](t),t.$on("click",e[22])),{c(){t&&tt(t.$$.fragment),n=hn()},m(a,l){t&&Je(t,a,l),Le(a,n,l),r=!0},p(a,l){const c=l[0]&12580351?Ot(s,[l[0]&1024&&{tag:a[10]},l[0]&12189721&&{use:[[Wr,{ripple:a[3],unbounded:!1,color:a[4],disabled:!!a[23].disabled,addClass:a[19],removeClass:a[20],addStyle:a[21]}],a[17],...a[0]]},l[0]&266610&&{class:dt({[a[1]]:!0,"mdc-button":!0,"mdc-button--raised":a[5]==="raised","mdc-button--unelevated":a[5]==="unelevated","mdc-button--outlined":a[5]==="outlined","smui-button--color-secondary":a[4]==="secondary","mdc-button--touch":a[6],"mdc-card__action":a[18]==="card:action","mdc-card__action--button":a[18]==="card:action","mdc-dialog__button":a[18]==="dialog:action","mdc-top-app-bar__navigation-icon":a[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":a[18]==="top-app-bar:action","mdc-snackbar__action":a[18]==="snackbar:actions","mdc-banner__secondary-action":a[18]==="banner"&&a[8],"mdc-banner__primary-action":a[18]==="banner"&&!a[8],"mdc-tooltip__action":a[18]==="tooltip:rich-actions",...a[12]})},l[0]&8196&&{style:Object.entries(a[13]).map(bg).concat([a[2]]).join(" ")},l[0]&65536&&on(a[16]),l[0]&32768&&on(a[15]),l[0]&16384&&on(a[14]),l[0]&128&&{href:a[7]},l[0]&8388608&&on(a[23])]):{};if(l[0]&1073741888&&(c.$$scope={dirty:l,ctx:a}),l[0]&512&&i!==(i=a[9])){if(t){Yt();const f=t;fe(f.$$.fragment,1,0,()=>{et(f,1)}),Zt()}i?(t=pr(i,o(a)),a[29](t),t.$on("click",a[22]),tt(t.$$.fragment),se(t.$$.fragment,1),Je(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&se(t.$$.fragment,a),r=!0)},o(a){t&&fe(t.$$.fragment,a),r=!1},d(a){e[29](null),a&&Pe(n),t&&et(t,a)}}}const bg=([e,t])=>`${e}: ${t};`;function DH(e,t,n){let r,s,i;const o=["use","class","style","ripple","color","variant","touch","href","action","defaultAction","secondary","component","tag","getElement"];let a=wt(t,o),{$$slots:l={},$$scope:c}=t;const f=wn(rn());let{use:u=[]}=t,{class:h=""}=t,{style:d=""}=t,{ripple:g=!0}=t,{color:p="primary"}=t,{variant:m="text"}=t,{touch:v=!1}=t,{href:b=void 0}=t,{action:y="close"}=t,{defaultAction:S=!1}=t,{secondary:w=!1}=t,E,A={},O={},U=dr("SMUI:button:context"),{component:N=vr}=t,{tag:x=N===vr?b==null?"button":"a":void 0}=t,le=a.disabled;ur("SMUI:label:context","button"),ur("SMUI:icon:context","button");function $(te){A[te]||n(12,A[te]=!0,A)}function W(te){(!(te in A)||A[te])&&n(12,A[te]=!1,A)}function Be(te,oe){O[te]!=oe&&(oe===""||oe==null?(delete O[te],n(13,O)):n(13,O[te]=oe,O))}function ne(){U==="banner"&&$n(H(),w?"SMUIBannerButton:secondaryActionClick":"SMUIBannerButton:primaryActionClick")}function H(){return E.getElement()}function he(te){lt[te?"unshift":"push"](()=>{E=te,n(11,E)})}return e.$$set=te=>{n(31,t=je(je({},t),bn(te))),n(23,a=wt(t,o)),"use"in te&&n(0,u=te.use),"class"in te&&n(1,h=te.class),"style"in te&&n(2,d=te.style),"ripple"in te&&n(3,g=te.ripple),"color"in te&&n(4,p=te.color),"variant"in te&&n(5,m=te.variant),"touch"in te&&n(6,v=te.touch),"href"in te&&n(7,b=te.href),"action"in te&&n(24,y=te.action),"defaultAction"in te&&n(25,S=te.defaultAction),"secondary"in te&&n(8,w=te.secondary),"component"in te&&n(9,N=te.component),"tag"in te&&n(10,x=te.tag),"$$scope"in te&&n(30,c=te.$$scope)},e.$$.update=()=>{if(n(16,r=U==="dialog:action"&&y!=null?{"data-mdc-dialog-action":y}:{action:t.action}),n(15,s=U==="dialog:action"&&S?{"data-mdc-dialog-button-default":""}:{default:t.default}),n(14,i=U==="banner"?{}:{secondary:t.secondary}),le!==a.disabled){const te=H();"blur"in te&&te.blur(),n(27,le=a.disabled)}},t=bn(t),[u,h,d,g,p,m,v,b,w,N,x,E,A,O,i,s,r,f,U,$,W,Be,ne,a,y,S,H,le,l,he,c]}class dl extends en{constructor(t){super(),Jt(this,t,DH,IH,Ut,{use:0,class:1,style:2,ripple:3,color:4,variant:5,touch:6,href:7,action:24,defaultAction:25,secondary:8,component:9,tag:10,getElement:26},null,[-1,-1])}get getElement(){return this.$$.ctx[26]}}function FH(e){let t;return{c(){t=Qn("download")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function xH(e){let t,n;return t=new f5({props:{class:"material-icons",$$slots:{default:[FH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function kH(e){let t=e[24]+"",n;return{c(){n=Qn(t)},m(r,s){Le(r,n,s)},p(r,s){s&16777216&&t!==(t=r[24]+"")&&Qs(n,t)},d(r){r&&Pe(n)}}}function GH(e){let t,n;return t=new Ui({props:{$$slots:{default:[kH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&50331648&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function BH(e){let t,n;return t=new eU({props:{tab:e[24],$$slots:{default:[GH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&16777216&&(i.tab=r[24]),s&50331648&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function NH(e){let t,n;return t=new Cl({props:{variant:"unelevated",style:" height: 100%",$$slots:{default:[ez]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&33555456&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function $H(e){let t,n,r=e[9]&&_g(e);return{c(){r&&r.c(),t=hn()},m(s,i){r&&r.m(s,i),Le(s,t,i),n=!0},p(s,i){s[9]?r?(r.p(s,i),i&512&&se(r,1)):(r=_g(s),r.c(),se(r,1),r.m(t.parentNode,t)):r&&(Yt(),fe(r,1,1,()=>{r=null}),Zt())},i(s){n||(se(r),n=!0)},o(s){fe(r),n=!1},d(s){r&&r.d(s),s&&Pe(t)}}}function VH(e){let t,n;return t=new Cl({props:{variant:"unelevated",class:"settings",$$slots:{default:[tz]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&33554940&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function UH(e){let t,n,r;function s(o){e[15](o)}let i={};return e[0]!==void 0&&(i.model=e[0]),t=new Q5({props:i}),lt.push(()=>Nn(t,"model",s)),{c(){tt(t.$$.fragment)},m(o,a){Je(t,o,a),r=!0},p(o,a){const l={};!n&&a&1&&(n=!0,l.model=o[0],Bn(()=>n=!1)),t.$set(l)},i(o){r||(se(t.$$.fragment,o),r=!0)},o(o){fe(t.$$.fragment,o),r=!1},d(o){et(t,o)}}}function HH(e){let t,n;return t=new Cl({props:{variant:"unelevated",$$slots:{default:[nz]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function zH(e){let t;return{c(){t=Qn("Copy/paste to save/load the state")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function jH(e){let t,n;return t=new CH({props:{slot:"helper",$$slots:{default:[zH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function qH(e){let t;return{c(){t=Qn("Clear")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function XH(e){let t,n;return t=new Ui({props:{$$slots:{default:[qH]},$$scope:{ctx:e}}}),t.$on("click",e[13](LV)),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function WH(e){let t;return{c(){t=Qn("Small")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function YH(e){let t,n;return t=new Ui({props:{$$slots:{default:[WH]},$$scope:{ctx:e}}}),t.$on("click",e[13](Z2)),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function ZH(e){let t;return{c(){t=Qn("Big")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function KH(e){let t,n;return t=new Ui({props:{$$slots:{default:[ZH]},$$scope:{ctx:e}}}),t.$on("click",e[13](OV)),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function QH(e){let t;return{c(){t=Qn("Sun")},m(n,r){Le(n,t,r)},d(n){n&&Pe(t)}}}function JH(e){let t,n;return t=new Ui({props:{$$slots:{default:[QH]},$$scope:{ctx:e}}}),t.$on("click",e[13](RV)),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function ez(e){let t,n,r,s,i,o,a,l,c,f,u,h;return t=new gs({props:{style:"width: 100%",input$style:"width: 100%",class:"save-area",textarea:!0,value:e[10],label:"State",input$resizable:!1,input$rows:6,$$slots:{helper:[jH]},$$scope:{ctx:e}}}),t.$on("input",e[11]),i=new dl({props:{$$slots:{default:[XH]},$$scope:{ctx:e}}}),a=new dl({props:{$$slots:{default:[YH]},$$scope:{ctx:e}}}),c=new dl({props:{$$slots:{default:[KH]},$$scope:{ctx:e}}}),u=new dl({props:{$$slots:{default:[JH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment),n=At(),r=Tt("div"),r.textContent="Load model",s=At(),tt(i.$$.fragment),o=At(),tt(a.$$.fragment),l=At(),tt(c.$$.fragment),f=At(),tt(u.$$.fragment),Dt(r,"class","mdc-typography--subtitle1"),Hs(r,"margin-top","1rem")},m(d,g){Je(t,d,g),Le(d,n,g),Le(d,r,g),Le(d,s,g),Je(i,d,g),Le(d,o,g),Je(a,d,g),Le(d,l,g),Je(c,d,g),Le(d,f,g),Je(u,d,g),h=!0},p(d,g){const p={};g&1024&&(p.value=d[10]),g&33554432&&(p.$$scope={dirty:g,ctx:d}),t.$set(p);const m={};g&33554432&&(m.$$scope={dirty:g,ctx:d}),i.$set(m);const v={};g&33554432&&(v.$$scope={dirty:g,ctx:d}),a.$set(v);const b={};g&33554432&&(b.$$scope={dirty:g,ctx:d}),c.$set(b);const y={};g&33554432&&(y.$$scope={dirty:g,ctx:d}),u.$set(y)},i(d){h||(se(t.$$.fragment,d),se(i.$$.fragment,d),se(a.$$.fragment,d),se(c.$$.fragment,d),se(u.$$.fragment,d),h=!0)},o(d){fe(t.$$.fragment,d),fe(i.$$.fragment,d),fe(a.$$.fragment,d),fe(c.$$.fragment,d),fe(u.$$.fragment,d),h=!1},d(d){et(t,d),d&&Pe(n),d&&Pe(r),d&&Pe(s),et(i,d),d&&Pe(o),et(a,d),d&&Pe(l),et(c,d),d&&Pe(f),et(u,d)}}}function _g(e){let t,n;return t=new WE({props:{model:e[9]}}),{c(){tt(t.$$.fragment)},m(r,s){Je(t,r,s),n=!0},p(r,s){const i={};s&512&&(i.model=r[9]),t.$set(i)},i(r){n||(se(t.$$.fragment,r),n=!0)},o(r){fe(t.$$.fragment,r),n=!1},d(r){et(t,r)}}}function tz(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,g,p,m,v,b,y,S,w;function E(oe){e[16](oe)}let A={label:"Inner cell perimeter",type:"number",min:"0"};e[2]!==void 0&&(A.value=e[2]),t=new gs({props:A}),lt.push(()=>Nn(t,"value",E));function O(oe){e[17](oe)}let U={label:"Wall width",type:"number",min:"0"};e[3]!==void 0&&(U.value=e[3]),s=new gs({props:U}),lt.push(()=>Nn(s,"value",O));function N(oe){e[18](oe)}let x={label:"Depth",type:"number",min:"0"};e[4]!==void 0&&(x.value=e[4]),a=new gs({props:x}),lt.push(()=>Nn(a,"value",N));function le(oe){e[19](oe)}let $={label:"Cap radius",type:"number",min:"0"};e[5]!==void 0&&($.value=e[5]),f=new gs({props:$}),lt.push(()=>Nn(f,"value",le));function W(oe){e[20](oe)}let Be={label:"Cap inset",type:"number",min:"0"};e[6]!==void 0&&(Be.value=e[6]),d=new gs({props:Be}),lt.push(()=>Nn(d,"value",W));function ne(oe){e[21](oe)}let H={label:"Wall mount holes horiz. dist. offset",type:"number"};e[7]!==void 0&&(H.value=e[7]),m=new gs({props:H}),lt.push(()=>Nn(m,"value",ne));function he(oe){e[22](oe)}let te={label:"Wall mount holes vertical offset",type:"number"};return e[8]!==void 0&&(te.value=e[8]),y=new gs({props:te}),lt.push(()=>Nn(y,"value",he)),{c(){tt(t.$$.fragment),r=At(),tt(s.$$.fragment),o=At(),tt(a.$$.fragment),c=At(),tt(f.$$.fragment),h=At(),tt(d.$$.fragment),p=At(),tt(m.$$.fragment),b=At(),tt(y.$$.fragment)},m(oe,ct){Je(t,oe,ct),Le(oe,r,ct),Je(s,oe,ct),Le(oe,o,ct),Je(a,oe,ct),Le(oe,c,ct),Je(f,oe,ct),Le(oe,h,ct),Je(d,oe,ct),Le(oe,p,ct),Je(m,oe,ct),Le(oe,b,ct),Je(y,oe,ct),w=!0},p(oe,ct){const ke={};!n&&ct&4&&(n=!0,ke.value=oe[2],Bn(()=>n=!1)),t.$set(ke);const Pt={};!i&&ct&8&&(i=!0,Pt.value=oe[3],Bn(()=>i=!1)),s.$set(Pt);const Xt={};!l&&ct&16&&(l=!0,Xt.value=oe[4],Bn(()=>l=!1)),a.$set(Xt);const $t={};!u&&ct&32&&(u=!0,$t.value=oe[5],Bn(()=>u=!1)),f.$set($t);const On={};!g&&ct&64&&(g=!0,On.value=oe[6],Bn(()=>g=!1)),d.$set(On);const zn={};!v&&ct&128&&(v=!0,zn.value=oe[7],Bn(()=>v=!1)),m.$set(zn);const Ye={};!S&&ct&256&&(S=!0,Ye.value=oe[8],Bn(()=>S=!1)),y.$set(Ye)},i(oe){w||(se(t.$$.fragment,oe),se(s.$$.fragment,oe),se(a.$$.fragment,oe),se(f.$$.fragment,oe),se(d.$$.fragment,oe),se(m.$$.fragment,oe),se(y.$$.fragment,oe),w=!0)},o(oe){fe(t.$$.fragment,oe),fe(s.$$.fragment,oe),fe(a.$$.fragment,oe),fe(f.$$.fragment,oe),fe(d.$$.fragment,oe),fe(m.$$.fragment,oe),fe(y.$$.fragment,oe),w=!1},d(oe){et(t,oe),oe&&Pe(r),et(s,oe),oe&&Pe(o),et(a,oe),oe&&Pe(c),et(f,oe),oe&&Pe(h),et(d,oe),oe&&Pe(p),et(m,oe),oe&&Pe(b),et(y,oe)}}}function nz(e){let t,n,r,s,i,o,a,l,c;return{c(){t=Tt("h1"),t.textContent="Honeycomb Key Organizer Designer",n=At(),r=Tt("p"),r.innerHTML='Inspired by different <a href="https://www.printables.com/model/12877-honeycomb-key-organizer">honeycomb key organizer</a>.',s=At(),i=Tt("p"),i.innerHTML='More details at <a href="https://www.printables.com/model/506546-customizable-honeycomb-key-organizer">Printables.com model page</a>.',o=At(),a=Tt("p"),a.innerHTML='<a href="https://github.com/zdila/honeycomb-key-organizer-designer">Source code is on GitHub.</a>',l=At(),c=Tt("p"),c.innerHTML='Author: <a href="mailto:m.zdila@gmail.com">Martin Ždila</a>',Dt(t,"class","mdc-typography--headline4"),Dt(r,"class","mdc-typography--body1"),Dt(i,"class","mdc-typography--body1"),Dt(a,"class","mdc-typography--body1"),Dt(c,"class","mdc-typography--body1")},m(f,u){Le(f,t,u),Le(f,n,u),Le(f,r,u),Le(f,s,u),Le(f,i,u),Le(f,o,u),Le(f,a,u),Le(f,l,u),Le(f,c,u)},p:an,d(f){f&&Pe(t),f&&Pe(n),f&&Pe(r),f&&Pe(s),f&&Pe(i),f&&Pe(o),f&&Pe(a),f&&Pe(l),f&&Pe(c)}}}function rz(e){let t,n,r,s,i,o,a,l,c;t=new RH({props:{color:"primary",style:"position: fixed; right: 1rem; bottom: 1rem; z-index: 1",$$slots:{default:[xH]},$$scope:{ctx:e}}}),t.$on("click",e[12]);function f(p){e[14](p)}let u={tabs:["About","Parameters","Design","Preview","Load/Save"],$$slots:{default:[BH,({tab:p})=>({24:p}),({tab:p})=>p?16777216:0]},$$scope:{ctx:e}};e[1]!==void 0&&(u.active=e[1]),r=new pU({props:u}),lt.push(()=>Nn(r,"active",f));const h=[HH,UH,VH,$H,NH],d=[];function g(p,m){return p[1]==="About"?0:p[1]==="Design"?1:p[1]==="Parameters"?2:p[1]==="Preview"?3:p[1]==="Load/Save"?4:-1}return~(o=g(e))&&(a=d[o]=h[o](e)),{c(){tt(t.$$.fragment),n=At(),tt(r.$$.fragment),i=At(),a&&a.c(),l=hn()},m(p,m){Je(t,p,m),Le(p,n,m),Je(r,p,m),Le(p,i,m),~o&&d[o].m(p,m),Le(p,l,m),c=!0},p(p,[m]){const v={};m&33554432&&(v.$$scope={dirty:m,ctx:p}),t.$set(v);const b={};m&50331648&&(b.$$scope={dirty:m,ctx:p}),!s&&m&2&&(s=!0,b.active=p[1],Bn(()=>s=!1)),r.$set(b);let y=o;o=g(p),o===y?~o&&d[o].p(p,m):(a&&(Yt(),fe(d[y],1,1,()=>{d[y]=null}),Zt()),~o?(a=d[o],a?a.p(p,m):(a=d[o]=h[o](p),a.c()),se(a,1),a.m(l.parentNode,l)):a=null)},i(p){c||(se(t.$$.fragment,p),se(r.$$.fragment,p),se(a),c=!0)},o(p){fe(t.$$.fragment,p),fe(r.$$.fragment,p),fe(a),c=!1},d(p){et(t,p),p&&Pe(n),et(r,p),p&&Pe(i),~o&&d[o].d(p),p&&Pe(l)}}}function sz(e,t,n){let r,s=structuredClone(Z2),i="About",o=30,a=2.25,l=22,c=1.5,f=1,u=0,h=0;function d(x){n(0,{model:s,cellSize:o,wallWidth:a,height:l,radius:c,inset:f,keyholeHorizontalDistanceOffset:u,keyholeVerticalOffset:h}=JSON.parse(x.target.value),s,n(2,o),n(3,a),n(4,l),n(5,c),n(6,f),n(7,u),n(8,h))}function g(){PV.saveAs(new Blob(CV.serialize({binary:!0},m())),"model.stl")}let p;function m(){return $V(s,o/2,a,l,c,f,u,h)}function v(x){return()=>{n(0,s=structuredClone(x))}}function b(x){i=x,n(1,i)}function y(x){s=x,n(0,s)}function S(x){o=x,n(2,o)}function w(x){a=x,n(3,a)}function E(x){l=x,n(4,l)}function A(x){c=x,n(5,c)}function O(x){f=x,n(6,f)}function U(x){u=x,n(7,u)}function N(x){h=x,n(8,h)}return e.$$.update=()=>{e.$$.dirty&509&&n(10,r=JSON.stringify({model:s,cellSize:o,wallWidth:a,height:l,radius:c,inset:f,keyholeHorizontalDistanceOffset:u,keyholeVerticalOffset:h})),e.$$.dirty&514&&i==="Preview"&&(n(9,p=m()),n(9,p=Yr.transforms.rotateZ(Math.PI,Yr.transforms.center({},p))))},[s,i,o,a,l,c,f,u,h,p,r,d,g,v,b,y,S,w,E,A,O,U,N]}class iz extends en{constructor(t){super(),Jt(this,t,sz,rz,Ut,{})}}new iz({target:document.getElementById("app")});
