(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function un(){}function je(e,t){for(const n in t)e[n]=t[n];return e}function _g(e){return e()}function d1(){return Object.create(null)}function an(e){e.forEach(_g)}function Vt(e){return typeof e=="function"}function jt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function $y(e){return Object.keys(e).length===0}function Vy(e,...t){if(e==null)return un;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function xo(e,t,n){e.$$.on_destroy.push(Vy(t,n))}function xt(e,t,n,r){if(e){const s=yg(e,t,n,r);return e[0](s)}}function yg(e,t,n,r){return e[1]&&r?je(n.ctx.slice(),e[1](r(t))):n.ctx}function kt(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(t.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=t.dirty[a]|s[a];return i}return t.dirty|s}return t.dirty}function Gt(e,t,n,r,s,i){if(s){const o=yg(t,n,r,i);e.p(o,s)}}function Bt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function vn(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Et(e,t){const n={};t=new Set(t);for(const r in e)!t.has(r)&&r[0]!=="$"&&(n[r]=e[r]);return n}function Uy(e){const t={};for(const n in e)t[n]=!0;return t}function Ag(e,t,n){return e.set(n),t}function At(e){return e&&Vt(e.destroy)?e.destroy:un}function Sn(e,t){e.appendChild(t)}function De(e,t,n){e.insertBefore(t,n||null)}function Me(e){e.parentNode&&e.parentNode.removeChild(e)}function Sg(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Lt(e){return document.createElement(e)}function Mu(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Qn(e){return document.createTextNode(e)}function wt(){return Qn(" ")}function En(){return Qn("")}function Rt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Hy(e){return function(t){return t.preventDefault(),e.call(this,t)}}function zy(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function $t(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const jy=["width","height"];function Pt(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)t[r]==null?e.removeAttribute(r):r==="style"?e.style.cssText=t[r]:r==="__value"?e.value=e[r]=t[r]:n[r]&&n[r].set&&jy.indexOf(r)===-1?e[r]=t[r]:$t(e,r,t[r])}function h1(e,t){for(const n in t)$t(e,n,t[n])}function qy(e,t){Object.keys(t).forEach(n=>{Xy(e,n,t[n])})}function Xy(e,t,n){t in e?e[t]=typeof e[t]=="boolean"&&n===""?!0:n:$t(e,t,n)}function vl(e){return/-/.test(e)?qy:Pt}function Wy(e){return Array.from(e.childNodes)}function Qs(e,t){t=""+t,e.data!==t&&(e.data=t)}function m1(e,t){e.value=t??""}function Hs(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function pr(e,t){return new e(t)}let Bo;function ko(e){Bo=e}function tn(){if(!Bo)throw new Error("Function called outside component initialization");return Bo}function ir(e){tn().$$.on_mount.push(e)}function Wu(e){tn().$$.on_destroy.push(e)}function ur(e,t){return tn().$$.context.set(e,t),t}function dr(e){return tn().$$.context.get(e)}function No(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Mi=[],ct=[];let Fi=[];const Iu=[],Eg=Promise.resolve();let Du=!1;function wg(){Du||(Du=!0,Eg.then(Tg))}function Yy(){return wg(),Eg}function Fu(e){Fi.push(e)}function Vn(e){Iu.push(e)}const vf=new Set;let _i=0;function Tg(){if(_i!==0)return;const e=Bo;do{try{for(;_i<Mi.length;){const t=Mi[_i];_i++,ko(t),Zy(t.$$)}}catch(t){throw Mi.length=0,_i=0,t}for(ko(null),Mi.length=0,_i=0;ct.length;)ct.pop()();for(let t=0;t<Fi.length;t+=1){const n=Fi[t];vf.has(n)||(vf.add(n),n())}Fi.length=0}while(Mi.length);for(;Iu.length;)Iu.pop()();Du=!1,vf.clear(),ko(e)}function Zy(e){if(e.fragment!==null){e.update(),an(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Fu)}}function Ky(e){const t=[],n=[];Fi.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Fi=t}const hl=new Set;let Xs;function Yt(){Xs={r:0,c:[],p:Xs}}function Zt(){Xs.r||an(Xs.c),Xs=Xs.p}function ie(e,t){e&&e.i&&(hl.delete(e),e.i(t))}function de(e,t,n,r){if(e&&e.o){if(hl.has(e))return;hl.add(e),Xs.c.push(()=>{hl.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Cg(e,t){de(e,1,1,()=>{t.delete(e.key)})}function Pg(e,t,n,r,s,i,o,a,l,c,f,u){let h=e.length,d=i.length,p=h;const g={};for(;p--;)g[e[p].key]=p;const m=[],v=new Map,b=new Map,y=[];for(p=d;p--;){const A=u(s,i,p),O=n(A);let z=o.get(O);z?r&&y.push(()=>z.p(A,t)):(z=c(O,A),z.c()),v.set(O,m[p]=z),O in g&&b.set(O,Math.abs(p-g[O]))}const S=new Set,w=new Set;function E(A){ie(A,1),A.m(a,f),o.set(A.key,A),f=A.first,d--}for(;h&&d;){const A=m[d-1],O=e[h-1],z=A.key,N=O.key;A===O?(f=A.first,h--,d--):v.has(N)?!o.has(z)||S.has(z)?E(A):w.has(N)?h--:b.get(z)>b.get(N)?(w.add(z),E(A)):(S.add(N),h--):(l(O,o),h--)}for(;h--;){const A=e[h];v.has(A.key)||l(A,o)}for(;d;)E(m[d-1]);return an(y),m}function Ot(e,t){const n={},r={},s={$$scope:1};let i=e.length;for(;i--;){const o=e[i],a=t[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);e[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function on(e){return typeof e=="object"&&e!==null?e:{}}function Un(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ot(e){e&&e.c()}function nt(e,t,n,r){const{fragment:s,after_update:i}=e.$$;s&&s.m(t,n),r||Fu(()=>{const o=e.$$.on_mount.map(_g).filter(Vt);e.$$.on_destroy?e.$$.on_destroy.push(...o):an(o),e.$$.on_mount=[]}),i.forEach(Fu)}function rt(e,t){const n=e.$$;n.fragment!==null&&(Ky(n.after_update),an(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Qy(e,t){e.$$.dirty[0]===-1&&(Mi.push(e),wg(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function nn(e,t,n,r,s,i,o,a=[-1]){const l=Bo;ko(e);const c=e.$$={fragment:null,ctx:[],props:i,update:un,not_equal:s,bound:d1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:d1(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(e,t.props||{},(u,h,...d)=>{const p=d.length?d[0]:h;return c.ctx&&s(c.ctx[u],c.ctx[u]=p)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](p),f&&Qy(e,u)),h}):[],c.update(),f=!0,an(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const u=Wy(t.target);c.fragment&&c.fragment.l(u),u.forEach(Me)}else c.fragment&&c.fragment.c();t.intro&&ie(e.$$.fragment),nt(e,t.target,t.anchor,t.customElement),Tg()}ko(l)}class rn{$destroy(){rt(this,1),this.$destroy=un}$on(t,n){if(!Vt(n))return un;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!$y(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Jy(e){let t,n,r,s,i,o,a;return{c(){t=Mu("svg"),n=Mu("polygon"),$t(n,"points","300,150 225,280 75,280 0,150 75,20 225,20"),$t(n,"fill",r=["white","#eee","yellow","orange"][e[0]]),$t(n,"stroke",s=e[0]?"black":"silver"),$t(n,"stroke-width",i=e[0]?10:2),$t(t,"width","50"),$t(t,"viewBox","-5 15 310 290"),Hs(t,"left",e[2]/2),Hs(t,"top",e[1]/2),Hs(t,"z-index",e[0]?1:0),$t(t,"class","svelte-x6infa")},m(l,c){De(l,t,c),Sn(t,n),o||(a=Rt(n,"click",e[3]),o=!0)},p(l,[c]){c&1&&r!==(r=["white","#eee","yellow","orange"][l[0]])&&$t(n,"fill",r),c&1&&s!==(s=l[0]?"black":"silver")&&$t(n,"stroke",s),c&1&&i!==(i=l[0]?10:2)&&$t(n,"stroke-width",i),c&4&&Hs(t,"left",l[2]/2),c&2&&Hs(t,"top",l[1]/2),c&1&&Hs(t,"z-index",l[0]?1:0)},i:un,o:un,d(l){l&&Me(t),o=!1,a()}}}function e5(e,t,n){let r,s,{x:i}=t,{y:o}=t,{value:a}=t,{mode:l}=t;function c(){n(0,a=l)}return e.$$set=f=>{"x"in f&&n(4,i=f.x),"y"in f&&n(5,o=f.y),"value"in f&&n(0,a=f.value),"mode"in f&&n(6,l=f.mode)},e.$$.update=()=>{e.$$.dirty&16&&n(2,r=i*72.7),e.$$.dirty&48&&n(1,s=(19-o)*83.5+(i%2?0:41.7))},[a,s,r,c,i,o,l]}class t5 extends rn{constructor(t){super(),nn(this,t,e5,Jy,jt,{x:4,y:5,value:0,mode:6})}}var zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r5=s5;function s5(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var i5=o5;function o5(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var a5=l5;function l5(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var Lg=c5;function c5(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var f5=u5;function u5(e,t){if(e===t){var n=t[1],r=t[2],s=t[3],i=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=s,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}var d5=h5;function h5(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],p=t[12],g=t[13],m=t[14],v=t[15],b=n*a-r*o,y=n*l-s*o,S=n*c-i*o,w=r*l-s*a,E=r*c-i*a,A=s*c-i*l,O=f*g-u*p,z=f*m-h*p,N=f*v-d*p,k=u*m-h*g,le=u*v-d*g,$=h*v-d*m,V=b*$-y*le+S*k+w*N-E*z+A*O;return V?(V=1/V,e[0]=(a*$-l*le+c*k)*V,e[1]=(s*le-r*$-i*k)*V,e[2]=(g*A-m*E+v*w)*V,e[3]=(h*E-u*A-d*w)*V,e[4]=(l*N-o*$-c*z)*V,e[5]=(n*$-s*N+i*z)*V,e[6]=(m*S-p*A-v*y)*V,e[7]=(f*A-h*S+d*y)*V,e[8]=(o*le-a*N+c*O)*V,e[9]=(r*N-n*le-i*O)*V,e[10]=(p*E-g*S+v*b)*V,e[11]=(u*S-f*E-d*b)*V,e[12]=(a*z-o*k-l*O)*V,e[13]=(n*k-r*z+s*O)*V,e[14]=(g*y-p*w-m*b)*V,e[15]=(f*w-u*y+h*b)*V,e):null}var m5=p5;function p5(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],p=t[12],g=t[13],m=t[14],v=t[15];return e[0]=a*(h*v-d*m)-u*(l*v-c*m)+g*(l*d-c*h),e[1]=-(r*(h*v-d*m)-u*(s*v-i*m)+g*(s*d-i*h)),e[2]=r*(l*v-c*m)-a*(s*v-i*m)+g*(s*c-i*l),e[3]=-(r*(l*d-c*h)-a*(s*d-i*h)+u*(s*c-i*l)),e[4]=-(o*(h*v-d*m)-f*(l*v-c*m)+p*(l*d-c*h)),e[5]=n*(h*v-d*m)-f*(s*v-i*m)+p*(s*d-i*h),e[6]=-(n*(l*v-c*m)-o*(s*v-i*m)+p*(s*c-i*l)),e[7]=n*(l*d-c*h)-o*(s*d-i*h)+f*(s*c-i*l),e[8]=o*(u*v-d*g)-f*(a*v-c*g)+p*(a*d-c*u),e[9]=-(n*(u*v-d*g)-f*(r*v-i*g)+p*(r*d-i*u)),e[10]=n*(a*v-c*g)-o*(r*v-i*g)+p*(r*c-i*a),e[11]=-(n*(a*d-c*u)-o*(r*d-i*u)+f*(r*c-i*a)),e[12]=-(o*(u*m-h*g)-f*(a*m-l*g)+p*(a*h-l*u)),e[13]=n*(u*m-h*g)-f*(r*m-s*g)+p*(r*h-s*u),e[14]=-(n*(a*m-l*g)-o*(r*m-s*g)+p*(r*l-s*a)),e[15]=n*(a*h-l*u)-o*(r*h-s*u)+f*(r*l-s*a),e}var g5=v5;function v5(e){var t=e[0],n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],l=e[7],c=e[8],f=e[9],u=e[10],h=e[11],d=e[12],p=e[13],g=e[14],m=e[15],v=t*o-n*i,b=t*a-r*i,y=t*l-s*i,S=n*a-r*o,w=n*l-s*o,E=r*l-s*a,A=c*p-f*d,O=c*g-u*d,z=c*m-h*d,N=f*g-u*p,k=f*m-h*p,le=u*m-h*g;return v*le-b*k+y*N+S*z-w*O+E*A}var b5=_5;function _5(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],h=t[9],d=t[10],p=t[11],g=t[12],m=t[13],v=t[14],b=t[15],y=n[0],S=n[1],w=n[2],E=n[3];return e[0]=y*r+S*a+w*u+E*g,e[1]=y*s+S*l+w*h+E*m,e[2]=y*i+S*c+w*d+E*v,e[3]=y*o+S*f+w*p+E*b,y=n[4],S=n[5],w=n[6],E=n[7],e[4]=y*r+S*a+w*u+E*g,e[5]=y*s+S*l+w*h+E*m,e[6]=y*i+S*c+w*d+E*v,e[7]=y*o+S*f+w*p+E*b,y=n[8],S=n[9],w=n[10],E=n[11],e[8]=y*r+S*a+w*u+E*g,e[9]=y*s+S*l+w*h+E*m,e[10]=y*i+S*c+w*d+E*v,e[11]=y*o+S*f+w*p+E*b,y=n[12],S=n[13],w=n[14],E=n[15],e[12]=y*r+S*a+w*u+E*g,e[13]=y*s+S*l+w*h+E*m,e[14]=y*i+S*c+w*d+E*v,e[15]=y*o+S*f+w*p+E*b,e}var y5=A5;function A5(e,t,n){var r=n[0],s=n[1],i=n[2],o,a,l,c,f,u,h,d,p,g,m,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],h=t[6],d=t[7],p=t[8],g=t[9],m=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=h,e[7]=d,e[8]=p,e[9]=g,e[10]=m,e[11]=v,e[12]=o*r+f*s+p*i+t[12],e[13]=a*r+u*s+g*i+t[13],e[14]=l*r+h*s+m*i+t[14],e[15]=c*r+d*s+v*i+t[15]),e}var S5=E5;function E5(e,t,n){var r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var w5=T5;function T5(e,t,n,r){var s=r[0],i=r[1],o=r[2],a=Math.sqrt(s*s+i*i+o*o),l,c,f,u,h,d,p,g,m,v,b,y,S,w,E,A,O,z,N,k,le,$,V,Ge;return Math.abs(a)<1e-6?null:(a=1/a,s*=a,i*=a,o*=a,l=Math.sin(n),c=Math.cos(n),f=1-c,u=t[0],h=t[1],d=t[2],p=t[3],g=t[4],m=t[5],v=t[6],b=t[7],y=t[8],S=t[9],w=t[10],E=t[11],A=s*s*f+c,O=i*s*f+o*l,z=o*s*f-i*l,N=s*i*f-o*l,k=i*i*f+c,le=o*i*f+s*l,$=s*o*f+i*l,V=i*o*f-s*l,Ge=o*o*f+c,e[0]=u*A+g*O+y*z,e[1]=h*A+m*O+S*z,e[2]=d*A+v*O+w*z,e[3]=p*A+b*O+E*z,e[4]=u*N+g*k+y*le,e[5]=h*N+m*k+S*le,e[6]=d*N+v*k+w*le,e[7]=p*N+b*k+E*le,e[8]=u*$+g*V+y*Ge,e[9]=h*$+m*V+S*Ge,e[10]=d*$+v*V+w*Ge,e[11]=p*$+b*V+E*Ge,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}var C5=P5;function P5(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+h*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=h*s-l*r,e}var L5=O5;function O5(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-h*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+h*s,e}var R5=M5;function M5(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+h*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=h*s-l*r,e}var I5=D5;function D5(e,t,n){var r,s,i,o=n[0],a=n[1],l=n[2],c=Math.sqrt(o*o+a*a+l*l);return Math.abs(c)<1e-6?null:(c=1/c,o*=c,a*=c,l*=c,r=Math.sin(t),s=Math.cos(t),i=1-s,e[0]=o*o*i+s,e[1]=a*o*i+l*r,e[2]=l*o*i-a*r,e[3]=0,e[4]=o*a*i-l*r,e[5]=a*a*i+s,e[6]=l*a*i+o*r,e[7]=0,e[8]=o*l*i+a*r,e[9]=a*l*i-o*r,e[10]=l*l*i+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}var F5=x5;function x5(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=r+r,l=s+s,c=i+i,f=r*a,u=r*l,h=r*c,d=s*l,p=s*c,g=i*c,m=o*a,v=o*l,b=o*c;return e[0]=1-(d+g),e[1]=u+b,e[2]=h-v,e[3]=0,e[4]=u-b,e[5]=1-(f+g),e[6]=p+m,e[7]=0,e[8]=h+v,e[9]=p-m,e[10]=1-(f+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}var k5=G5;function G5(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var B5=N5;function N5(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}var $5=V5;function V5(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var U5=H5;function H5(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var z5=j5;function j5(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var q5=X5;function X5(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=n+n,a=r+r,l=s+s,c=n*o,f=r*o,u=r*a,h=s*o,d=s*a,p=s*l,g=i*o,m=i*a,v=i*l;return e[0]=1-u-p,e[1]=f+v,e[2]=h-m,e[3]=0,e[4]=f-v,e[5]=1-c-p,e[6]=d+g,e[7]=0,e[8]=h+m,e[9]=d-g,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var W5=Y5;function Y5(e,t,n,r,s,i,o){var a=1/(n-t),l=1/(s-r),c=1/(i-o);return e[0]=i*2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(s+r)*l,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}var Z5=K5;function K5(e,t,n,r,s){var i=1/Math.tan(t/2),o=1/(r-s);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*r*o,e[15]=0,e}var Q5=J5;function J5(e,t,n,r){var s=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(s+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((o-a)*l*.5),e[9]=(s-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}var e3=t3;function t3(e,t,n,r,s,i,o){var a=1/(t-n),l=1/(r-s),c=1/(i-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(s+r)*l,e[14]=(o+i)*c,e[15]=1,e}var n3=Lg,r3=s3;function s3(e,t,n,r){var s,i,o,a,l,c,f,u,h,d,p=t[0],g=t[1],m=t[2],v=r[0],b=r[1],y=r[2],S=n[0],w=n[1],E=n[2];return Math.abs(p-S)<1e-6&&Math.abs(g-w)<1e-6&&Math.abs(m-E)<1e-6?n3(e):(f=p-S,u=g-w,h=m-E,d=1/Math.sqrt(f*f+u*u+h*h),f*=d,u*=d,h*=d,s=b*h-y*u,i=y*f-v*h,o=v*u-b*f,d=Math.sqrt(s*s+i*i+o*o),d?(d=1/d,s*=d,i*=d,o*=d):(s=0,i=0,o=0),a=u*o-h*i,l=h*s-f*o,c=f*i-u*s,d=Math.sqrt(a*a+l*l+c*c),d?(d=1/d,a*=d,l*=d,c*=d):(a=0,l=0,c=0),e[0]=s,e[1]=a,e[2]=f,e[3]=0,e[4]=i,e[5]=l,e[6]=u,e[7]=0,e[8]=o,e[9]=c,e[10]=h,e[11]=0,e[12]=-(s*p+i*g+o*m),e[13]=-(a*p+l*g+c*m),e[14]=-(f*p+u*g+h*m),e[15]=1,e)}var i3=o3;function o3(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}var br={create:r5,clone:i5,copy:a5,identity:Lg,transpose:f5,invert:d5,adjoint:m5,determinant:g5,multiply:b5,translate:y5,scale:S5,rotate:w5,rotateX:C5,rotateY:L5,rotateZ:R5,fromRotation:I5,fromRotationTranslation:F5,fromScaling:k5,fromTranslation:B5,fromXRotation:$5,fromYRotation:U5,fromZRotation:z5,fromQuat:q5,frustum:W5,perspective:Z5,perspectiveFromFieldOfView:Q5,ortho:e3,lookAt:r3,str:i3};const bf=br,a3=(e,t={})=>{const{fbo:n}=t,r={cull:{enable:!0},context:{lightDirection:[.2,.2,1]},uniforms:{view:(s,i)=>i.camera.view,eye:(s,i)=>i.camera.position,projection:(s,i)=>i.camera.projection,camNear:(s,i)=>i.camera.near,camFar:(s,i)=>i.camera.far,invertedView:(s,i)=>bf.invert([],i.camera.view),lightPosition:(s,i)=>i&&i.rendering&&i.rendering.lightPosition?i.rendering.lightPosition:[100,200,100],lightDirection:(s,i)=>i&&i.rendering&&i.rendering.lightDirection?i.rendering.lightDirection:s.lightDirection||[0,0,0],lightView:s=>bf.lookAt([],s.lightDirection,[0,0,0],[0,0,1]),lightProjection:bf.ortho([],-25,-25,-20,20,-25,25),lightColor:(s,i)=>i&&i.rendering&&i.rendering.lightColor?i.rendering.lightColor:[1,.8,0],ambientLightAmount:(s,i)=>i&&i.rendering&&i.rendering.ambientLightAmount?i.rendering.ambientLightAmount:.3,diffuseLightAmount:(s,i)=>i&&i.rendering&&i.rendering.diffuseLightAmount?i&&i.rendering&&i.rendering.diffuseLightAmount:.89,specularLightAmount:(s,i)=>i&&i.rendering&&i.rendering.specularLightAmount?i.rendering.specularLightAmount:.16,uMaterialShininess:(s,i)=>i&&i.rendering&&i.rendering.materialShininess?i.rendering.materialShininess:8,materialAmbient:[.5,.8,.3],materialDiffuse:[.5,.8,.3],materialSpecular:[.5,.8,.3]},framebuffer:n};return e(Object.assign({},r,t.extras))};var l3=a3,Cl={background:[1,1,1,1],meshColor:[0,.6,1,1],lightColor:[1,1,1,1],lightDirection:[.2,.2,1],lightPosition:[100,200,100],ambientLightAmount:.3,diffuseLightAmount:.89,specularLightAmount:.16,materialShininess:8},_f={exports:{}},p1;function c3(){return p1||(p1=1,function(e,t){(function(n,r){e.exports=r()})(zs,function(){var n=function(_){return _ instanceof Uint8Array||_ instanceof Uint16Array||_ instanceof Uint32Array||_ instanceof Int8Array||_ instanceof Int16Array||_ instanceof Int32Array||_ instanceof Float32Array||_ instanceof Float64Array||_ instanceof Uint8ClampedArray},r=function(_,C){for(var F=Object.keys(C),Q=0;Q<F.length;++Q)_[F[Q]]=C[F[Q]];return _},s=`
`;function i(_){return typeof atob<"u"?atob(_):"base64:"+_}function o(_){var C=new Error("(regl) "+_);throw console.error(C),C}function a(_,C){_||o(C)}function l(_){return _?": "+_:""}function c(_,C,F){_ in C||o("unknown parameter ("+_+")"+l(F)+". possible values: "+Object.keys(C).join())}function f(_,C){n(_)||o("invalid parameter type"+l(C)+". must be a typed array")}function u(_,C){switch(C){case"number":return typeof _=="number";case"object":return typeof _=="object";case"string":return typeof _=="string";case"boolean":return typeof _=="boolean";case"function":return typeof _=="function";case"undefined":return typeof _>"u";case"symbol":return typeof _=="symbol"}}function h(_,C,F){u(_,C)||o("invalid parameter type"+l(F)+". expected "+C+", got "+typeof _)}function d(_,C){_>=0&&(_|0)===_||o("invalid parameter type, ("+_+")"+l(C)+". must be a nonnegative integer")}function p(_,C,F){C.indexOf(_)<0&&o("invalid value"+l(F)+". must be one of: "+C)}var g=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(_){Object.keys(_).forEach(function(C){g.indexOf(C)<0&&o('invalid regl constructor argument "'+C+'". must be one of '+g)})}function v(_,C){for(_=_+"";_.length<C;)_=" "+_;return _}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(_,C){this.number=_,this.line=C,this.errors=[]}function S(_,C,F){this.file=_,this.line=C,this.message=F}function w(){var _=new Error,C=(_.stack||_).toString(),F=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(C);if(F)return F[1];var Q=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(C);return Q?Q[1]:"unknown"}function E(){var _=new Error,C=(_.stack||_).toString(),F=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(C);if(F)return F[1];var Q=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(C);return Q?Q[1]:"unknown"}function A(_,C){var F=_.split(`
`),Q=1,ue=0,K={unknown:new b,0:new b};K.unknown.name=K[0].name=C||w(),K.unknown.lines.push(new y(0,""));for(var se=0;se<F.length;++se){var _e=F[se],be=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(_e);if(be)switch(be[1]){case"line":var we=/(\d+)(\s+\d+)?/.exec(be[2]);we&&(Q=we[1]|0,we[2]&&(ue=we[2]|0,ue in K||(K[ue]=new b)));break;case"define":var Ce=/SHADER_NAME(_B64)?\s+(.*)$/.exec(be[2]);Ce&&(K[ue].name=Ce[1]?i(Ce[2]):Ce[2]);break}K[ue].lines.push(new y(Q++,_e))}return Object.keys(K).forEach(function(Te){var Le=K[Te];Le.lines.forEach(function(ye){Le.index[ye.number]=ye})}),K}function O(_){var C=[];return _.split(`
`).forEach(function(F){if(!(F.length<5)){var Q=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(F);Q?C.push(new S(Q[1]|0,Q[2]|0,Q[3].trim())):F.length>0&&C.push(new S("unknown",0,F))}}),C}function z(_,C){C.forEach(function(F){var Q=_[F.file];if(Q){var ue=Q.index[F.line];if(ue){ue.errors.push(F),Q.hasErrors=!0;return}}_.unknown.hasErrors=!0,_.unknown.lines[0].errors.push(F)})}function N(_,C,F,Q,ue){if(!_.getShaderParameter(C,_.COMPILE_STATUS)){var K=_.getShaderInfoLog(C),se=Q===_.FRAGMENT_SHADER?"fragment":"vertex";H(F,"string",se+" shader source must be a string",ue);var _e=A(F,ue),be=O(K);z(_e,be),Object.keys(_e).forEach(function(we){var Ce=_e[we];if(!Ce.hasErrors)return;var Te=[""],Le=[""];function ye(Ee,q){Te.push(Ee),Le.push(q||"")}ye("file number "+we+": "+Ce.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Ce.lines.forEach(function(Ee){if(Ee.errors.length>0){ye(v(Ee.number,4)+"|  ","background-color:yellow; font-weight:bold"),ye(Ee.line+s,"color:red; background-color:yellow; font-weight:bold");var q=0;Ee.errors.forEach(function(re){var Se=re.message,$e=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Se);if($e){var ve=$e[1];switch(Se=$e[2],ve){case"assign":ve="=";break}q=Math.max(Ee.line.indexOf(ve,q),0)}else q=0;ye(v("| ",6)),ye(v("^^^",q+3)+s,"font-weight:bold"),ye(v("| ",6)),ye(Se+s,"font-weight:bold")}),ye(v("| ",6)+s)}else ye(v(Ee.number,4)+"|  "),ye(Ee.line+s,"color:red")}),typeof document<"u"&&!window.chrome?(Le[0]=Te.join("%c"),console.log.apply(console,Le)):console.log(Te.join(""))}),a.raise("Error compiling "+se+" shader, "+_e[0].name)}}function k(_,C,F,Q,ue){if(!_.getProgramParameter(C,_.LINK_STATUS)){var K=_.getProgramInfoLog(C),se=A(F,ue),_e=A(Q,ue),be='Error linking program with vertex shader, "'+_e[0].name+'", and fragment shader "'+se[0].name+'"';typeof document<"u"?console.log("%c"+be+s+"%c"+K,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(be+s+K),a.raise(be)}}function le(_){_._commandRef=w()}function $(_,C,F,Q){le(_);function ue(be){return be?Q.id(be):0}_._fragId=ue(_.static.frag),_._vertId=ue(_.static.vert);function K(be,we){Object.keys(we).forEach(function(Ce){be[Q.id(Ce)]=!0})}var se=_._uniformSet={};K(se,C.static),K(se,C.dynamic);var _e=_._attributeSet={};K(_e,F.static),K(_e,F.dynamic),_._hasCount="count"in _.static||"count"in _.dynamic||"elements"in _.static||"elements"in _.dynamic}function V(_,C){var F=E();o(_+" in command "+(C||w())+(F==="unknown"?"":" called from "+F))}function Ge(_,C,F){_||V(C,F||w())}function ne(_,C,F,Q){_ in C||V("unknown parameter ("+_+")"+l(F)+". possible values: "+Object.keys(C).join(),Q||w())}function H(_,C,F,Q){u(_,C)||V("invalid parameter type"+l(F)+". expected "+C+", got "+typeof _,Q||w())}function he(_){_()}function te(_,C,F){_.texture?p(_.texture._texture.internalformat,C,"unsupported texture format for attachment"):p(_.renderbuffer._renderbuffer.format,F,"unsupported renderbuffer format for attachment")}var oe=33071,lt=9728,ke=9984,Ct=9985,Xt=9986,Nt=9987,On=5120,zn=5121,Ye=5122,Ve=5123,Rn=5124,Wi=5125,Yi=5126,Zo=32819,Zr=32820,Kr=33635,ys=34042,As=36193,Nn={};Nn[On]=Nn[zn]=1,Nn[Ye]=Nn[Ve]=Nn[As]=Nn[Kr]=Nn[Zo]=Nn[Zr]=2,Nn[Rn]=Nn[Wi]=Nn[Yi]=Nn[ys]=4;function Ko(_,C){return _===Zr||_===Zo||_===Kr?2:_===ys?4:Nn[_]*C}function ri(_){return!(_&_-1)&&!!_}function Yl(_,C,F){var Q,ue=C.width,K=C.height,se=C.channels;a(ue>0&&ue<=F.maxTextureSize&&K>0&&K<=F.maxTextureSize,"invalid texture shape"),(_.wrapS!==oe||_.wrapT!==oe)&&a(ri(ue)&&ri(K),"incompatible wrap mode for texture, both width and height must be power of 2"),C.mipmask===1?ue!==1&&K!==1&&a(_.minFilter!==ke&&_.minFilter!==Xt&&_.minFilter!==Ct&&_.minFilter!==Nt,"min filter requires mipmap"):(a(ri(ue)&&ri(K),"texture must be a square power of 2 to support mipmapping"),a(C.mipmask===(ue<<1)-1,"missing or incomplete mipmap data")),C.type===Yi&&(F.extensions.indexOf("oes_texture_float_linear")<0&&a(_.minFilter===lt&&_.magFilter===lt,"filter not supported, must enable oes_texture_float_linear"),a(!_.genMipmaps,"mipmap generation not supported with float textures"));var _e=C.images;for(Q=0;Q<16;++Q)if(_e[Q]){var be=ue>>Q,we=K>>Q;a(C.mipmask&1<<Q,"missing mipmap data");var Ce=_e[Q];if(a(Ce.width===be&&Ce.height===we,"invalid shape for mip images"),a(Ce.format===C.format&&Ce.internalformat===C.internalformat&&Ce.type===C.type,"incompatible type for mip image"),!Ce.compressed)if(Ce.data){var Te=Math.ceil(Ko(Ce.type,se)*be/Ce.unpackAlignment)*Ce.unpackAlignment;a(Ce.data.byteLength===Te*we,"invalid data for image, buffer size is inconsistent with image format")}else Ce.element||Ce.copy}else _.genMipmaps||a((C.mipmask&1<<Q)===0,"extra mipmap data");C.compressed&&a(!_.genMipmaps,"mipmap generation for compressed images not supported")}function Zl(_,C,F,Q){var ue=_.width,K=_.height,se=_.channels;a(ue>0&&ue<=Q.maxTextureSize&&K>0&&K<=Q.maxTextureSize,"invalid texture shape"),a(ue===K,"cube map must be square"),a(C.wrapS===oe&&C.wrapT===oe,"wrap mode not supported by cube map");for(var _e=0;_e<F.length;++_e){var be=F[_e];a(be.width===ue&&be.height===K,"inconsistent cube map face shape"),C.genMipmaps&&(a(!be.compressed,"can not generate mipmap for compressed textures"),a(be.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var we=be.images,Ce=0;Ce<16;++Ce){var Te=we[Ce];if(Te){var Le=ue>>Ce,ye=K>>Ce;a(be.mipmask&1<<Ce,"missing mipmap data"),a(Te.width===Le&&Te.height===ye,"invalid shape for mip images"),a(Te.format===_.format&&Te.internalformat===_.internalformat&&Te.type===_.type,"incompatible type for mip image"),Te.compressed||(Te.data?a(Te.data.byteLength===Le*ye*Math.max(Ko(Te.type,se),Te.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Te.element||Te.copy)}}}}var P=r(a,{optional:he,raise:o,commandRaise:V,command:Ge,parameter:c,commandParameter:ne,constructor:m,type:h,commandType:H,isTypedArray:f,nni:d,oneOf:p,shaderError:N,linkError:k,callSite:E,saveCommandRef:le,saveDrawInfo:$,framebufferFormat:te,guessCommand:w,texture2D:Yl,textureCube:Zl}),Kl=0,Qo=0,Jo=5,Ql=6;function kr(_,C){this.id=Kl++,this.type=_,this.data=C}function ea(_){return _.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Qr(_){if(_.length===0)return[];var C=_.charAt(0),F=_.charAt(_.length-1);if(_.length>1&&C===F&&(C==='"'||C==="'"))return['"'+ea(_.substr(1,_.length-2))+'"'];var Q=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(_);if(Q)return Qr(_.substr(0,Q.index)).concat(Qr(Q[1])).concat(Qr(_.substr(Q.index+Q[0].length)));var ue=_.split(".");if(ue.length===1)return['"'+ea(_)+'"'];for(var K=[],se=0;se<ue.length;++se)K=K.concat(Qr(ue[se]));return K}function Ss(_){return"["+Qr(_).join("][")+"]"}function Jl(_,C){return new kr(_,Ss(C+""))}function ec(_){return typeof _=="function"&&!_._reglType||_ instanceof kr}function ta(_,C){if(typeof _=="function")return new kr(Qo,_);if(typeof _=="number"||typeof _=="boolean")return new kr(Jo,_);if(Array.isArray(_))return new kr(Ql,_.map(function(F,Q){return ta(F,C+"["+Q+"]")}));if(_ instanceof kr)return _;P(!1,"invalid option type in uniform "+C)}var jn={DynamicVariable:kr,define:Jl,isDynamic:ec,unbox:ta,accessor:Ss},Zi={next:typeof requestAnimationFrame=="function"?function(_){return requestAnimationFrame(_)}:function(_){return setTimeout(_,16)},cancel:typeof cancelAnimationFrame=="function"?function(_){return cancelAnimationFrame(_)}:clearTimeout},na=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function tc(){var _={"":0},C=[""];return{id:function(F){var Q=_[F];return Q||(Q=_[F]=C.length,C.push(F),Q)},str:function(F){return C[F]}}}function nc(_,C,F){var Q=document.createElement("canvas");r(Q.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),_.appendChild(Q),_===document.body&&(Q.style.position="absolute",r(_.style,{margin:0,padding:0}));function ue(){var _e=window.innerWidth,be=window.innerHeight;if(_!==document.body){var we=Q.getBoundingClientRect();_e=we.right-we.left,be=we.bottom-we.top}Q.width=F*_e,Q.height=F*be}var K;_!==document.body&&typeof ResizeObserver=="function"?(K=new ResizeObserver(function(){setTimeout(ue)}),K.observe(_)):window.addEventListener("resize",ue,!1);function se(){K?K.disconnect():window.removeEventListener("resize",ue),_.removeChild(Q)}return ue(),{canvas:Q,onDestroy:se}}function rc(_,C){function F(Q){try{return _.getContext(Q,C)}catch{return null}}return F("webgl")||F("experimental-webgl")||F("webgl-experimental")}function sc(_){return typeof _.nodeName=="string"&&typeof _.appendChild=="function"&&typeof _.getBoundingClientRect=="function"}function ic(_){return typeof _.drawArrays=="function"||typeof _.drawElements=="function"}function ra(_){return typeof _=="string"?_.split():(P(Array.isArray(_),"invalid extension array"),_)}function sa(_){return typeof _=="string"?(P(typeof document<"u","not supported outside of DOM"),document.querySelector(_)):_}function oc(_){var C=_||{},F,Q,ue,K,se={},_e=[],be=[],we=typeof window>"u"?1:window.devicePixelRatio,Ce=!1,Te=function(Ee){Ee&&P.raise(Ee)},Le=function(){};if(typeof C=="string"?(P(typeof document<"u","selector queries only supported in DOM enviroments"),F=document.querySelector(C),P(F,"invalid query string for element")):typeof C=="object"?sc(C)?F=C:ic(C)?(K=C,ue=K.canvas):(P.constructor(C),"gl"in C?K=C.gl:"canvas"in C?ue=sa(C.canvas):"container"in C&&(Q=sa(C.container)),"attributes"in C&&(se=C.attributes,P.type(se,"object","invalid context attributes")),"extensions"in C&&(_e=ra(C.extensions)),"optionalExtensions"in C&&(be=ra(C.optionalExtensions)),"onDone"in C&&(P.type(C.onDone,"function","invalid or missing onDone callback"),Te=C.onDone),"profile"in C&&(Ce=!!C.profile),"pixelRatio"in C&&(we=+C.pixelRatio,P(we>0,"invalid pixel ratio"))):P.raise("invalid arguments to regl"),F&&(F.nodeName.toLowerCase()==="canvas"?ue=F:Q=F),!K){if(!ue){P(typeof document<"u","must manually specify webgl context outside of DOM environments");var ye=nc(Q||document.body,Te,we);if(!ye)return null;ue=ye.canvas,Le=ye.onDestroy}se.premultipliedAlpha===void 0&&(se.premultipliedAlpha=!0),K=rc(ue,se)}return K?{gl:K,canvas:ue,container:Q,extensions:_e,optionalExtensions:be,pixelRatio:we,profile:Ce,onDone:Te,onDestroy:Le}:(Le(),Te("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ac(_,C){var F={};function Q(se){P.type(se,"string","extension name must be string");var _e=se.toLowerCase(),be;try{be=F[_e]=_.getExtension(_e)}catch{}return!!be}for(var ue=0;ue<C.extensions.length;++ue){var K=C.extensions[ue];if(!Q(K))return C.onDestroy(),C.onDone('"'+K+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return C.optionalExtensions.forEach(Q),{extensions:F,restore:function(){Object.keys(F).forEach(function(se){if(F[se]&&!Q(se))throw new Error("(regl): error restoring extension "+se)})}}}function qn(_,C){for(var F=Array(_),Q=0;Q<_;++Q)F[Q]=C(Q);return F}var lc=5120,cc=5121,fc=5122,uc=5123,dc=5124,hc=5125,mc=5126;function pc(_){for(var C=16;C<=1<<28;C*=16)if(_<=C)return C;return 0}function ia(_){var C,F;return C=(_>65535)<<4,_>>>=C,F=(_>255)<<3,_>>>=F,C|=F,F=(_>15)<<2,_>>>=F,C|=F,F=(_>3)<<1,_>>>=F,C|=F,C|_>>1}function oa(){var _=qn(8,function(){return[]});function C(K){var se=pc(K),_e=_[ia(se)>>2];return _e.length>0?_e.pop():new ArrayBuffer(se)}function F(K){_[ia(K.byteLength)>>2].push(K)}function Q(K,se){var _e=null;switch(K){case lc:_e=new Int8Array(C(se),0,se);break;case cc:_e=new Uint8Array(C(se),0,se);break;case fc:_e=new Int16Array(C(2*se),0,se);break;case uc:_e=new Uint16Array(C(2*se),0,se);break;case dc:_e=new Int32Array(C(4*se),0,se);break;case hc:_e=new Uint32Array(C(4*se),0,se);break;case mc:_e=new Float32Array(C(4*se),0,se);break;default:return null}return _e.length!==se?_e.subarray(0,se):_e}function ue(K){F(K.buffer)}return{alloc:C,free:F,allocType:Q,freeType:ue}}var sn=oa();sn.zero=oa();var gc=3408,vc=3410,bc=3411,J=3412,hn=3413,aa=3414,_c=3415,Ki=33901,Qi=33902,nb=3379,rb=3386,sb=34921,ib=36347,ob=36348,ab=35661,lb=35660,cb=34930,fb=36349,ub=34076,db=34024,hb=7936,mb=7937,pb=7938,gb=35724,vb=34047,bb=36063,_b=34852,la=3553,Sd=34067,yb=34069,Ab=33984,Ji=6408,yc=5126,Ed=5121,Ac=36160,Sb=36053,Eb=36064,wb=16384,Tb=function(_,C){var F=1;C.ext_texture_filter_anisotropic&&(F=_.getParameter(vb));var Q=1,ue=1;C.webgl_draw_buffers&&(Q=_.getParameter(_b),ue=_.getParameter(bb));var K=!!C.oes_texture_float;if(K){var se=_.createTexture();_.bindTexture(la,se),_.texImage2D(la,0,Ji,1,1,0,Ji,yc,null);var _e=_.createFramebuffer();if(_.bindFramebuffer(Ac,_e),_.framebufferTexture2D(Ac,Eb,la,se,0),_.bindTexture(la,null),_.checkFramebufferStatus(Ac)!==Sb)K=!1;else{_.viewport(0,0,1,1),_.clearColor(1,0,0,1),_.clear(wb);var be=sn.allocType(yc,4);_.readPixels(0,0,1,1,Ji,yc,be),_.getError()?K=!1:(_.deleteFramebuffer(_e),_.deleteTexture(se),K=be[0]===1),sn.freeType(be)}}var we=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Ce=!0;if(!we){var Te=_.createTexture(),Le=sn.allocType(Ed,36);_.activeTexture(Ab),_.bindTexture(Sd,Te),_.texImage2D(yb,0,Ji,3,3,0,Ji,Ed,Le),sn.freeType(Le),_.bindTexture(Sd,null),_.deleteTexture(Te),Ce=!_.getError()}return{colorBits:[_.getParameter(vc),_.getParameter(bc),_.getParameter(J),_.getParameter(hn)],depthBits:_.getParameter(aa),stencilBits:_.getParameter(_c),subpixelBits:_.getParameter(gc),extensions:Object.keys(C).filter(function(ye){return!!C[ye]}),maxAnisotropic:F,maxDrawbuffers:Q,maxColorAttachments:ue,pointSizeDims:_.getParameter(Ki),lineWidthDims:_.getParameter(Qi),maxViewportDims:_.getParameter(rb),maxCombinedTextureUnits:_.getParameter(ab),maxCubeMapSize:_.getParameter(ub),maxRenderbufferSize:_.getParameter(db),maxTextureUnits:_.getParameter(cb),maxTextureSize:_.getParameter(nb),maxAttributes:_.getParameter(sb),maxVertexUniforms:_.getParameter(ib),maxVertexTextureUnits:_.getParameter(lb),maxVaryingVectors:_.getParameter(ob),maxFragmentUniforms:_.getParameter(fb),glsl:_.getParameter(gb),renderer:_.getParameter(mb),vendor:_.getParameter(hb),version:_.getParameter(pb),readFloat:K,npotTextureCube:Ce}};function _r(_){return!!_&&typeof _=="object"&&Array.isArray(_.shape)&&Array.isArray(_.stride)&&typeof _.offset=="number"&&_.shape.length===_.stride.length&&(Array.isArray(_.data)||n(_.data))}var or=function(_){return Object.keys(_).map(function(C){return _[C]})},ca={shape:Ob,flatten:Lb};function Cb(_,C,F){for(var Q=0;Q<C;++Q)F[Q]=_[Q]}function Pb(_,C,F,Q){for(var ue=0,K=0;K<C;++K)for(var se=_[K],_e=0;_e<F;++_e)Q[ue++]=se[_e]}function wd(_,C,F,Q,ue,K){for(var se=K,_e=0;_e<C;++_e)for(var be=_[_e],we=0;we<F;++we)for(var Ce=be[we],Te=0;Te<Q;++Te)ue[se++]=Ce[Te]}function Td(_,C,F,Q,ue){for(var K=1,se=F+1;se<C.length;++se)K*=C[se];var _e=C[F];if(C.length-F===4){var be=C[F+1],we=C[F+2],Ce=C[F+3];for(se=0;se<_e;++se)wd(_[se],be,we,Ce,Q,ue),ue+=K}else for(se=0;se<_e;++se)Td(_[se],C,F+1,Q,ue),ue+=K}function Lb(_,C,F,Q){var ue=1;if(C.length)for(var K=0;K<C.length;++K)ue*=C[K];else ue=0;var se=Q||sn.allocType(F,ue);switch(C.length){case 0:break;case 1:Cb(_,C[0],se);break;case 2:Pb(_,C[0],C[1],se);break;case 3:wd(_,C[0],C[1],C[2],se,0);break;default:Td(_,C,0,se,0)}return se}function Ob(_){for(var C=[],F=_;F.length;F=F[0])C.push(F.length);return C}var Sc={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Rb=5120,Mb=5122,Ib=5124,Db=5121,Fb=5123,xb=5125,kb=5126,Gb=5126,Es={int8:Rb,int16:Mb,int32:Ib,uint8:Db,uint16:Fb,uint32:xb,float:kb,float32:Gb},Bb=35048,Nb=35040,fa={dynamic:Bb,stream:Nb,static:35044},Ec=ca.flatten,Cd=ca.shape,Pd=35044,$b=35040,wc=5121,Tc=5126,Jr=[];Jr[5120]=1,Jr[5122]=2,Jr[5124]=4,Jr[5121]=1,Jr[5123]=2,Jr[5125]=4,Jr[5126]=4;function ua(_){return Sc[Object.prototype.toString.call(_)]|0}function Ld(_,C){for(var F=0;F<C.length;++F)_[F]=C[F]}function Od(_,C,F,Q,ue,K,se){for(var _e=0,be=0;be<F;++be)for(var we=0;we<Q;++we)_[_e++]=C[ue*be+K*we+se]}function Vb(_,C,F,Q){var ue=0,K={};function se(q){this.id=ue++,this.buffer=_.createBuffer(),this.type=q,this.usage=Pd,this.byteLength=0,this.dimension=1,this.dtype=wc,this.persistentData=null,F.profile&&(this.stats={size:0})}se.prototype.bind=function(){_.bindBuffer(this.type,this.buffer)},se.prototype.destroy=function(){Le(this)};var _e=[];function be(q,re){var Se=_e.pop();return Se||(Se=new se(q)),Se.bind(),Te(Se,re,$b,0,1,!1),Se}function we(q){_e.push(q)}function Ce(q,re,Se){q.byteLength=re.byteLength,_.bufferData(q.type,re,Se)}function Te(q,re,Se,$e,ve,Be){var Fe;if(q.usage=Se,Array.isArray(re)){if(q.dtype=$e||Tc,re.length>0){var Ke;if(Array.isArray(re[0])){Fe=Cd(re);for(var me=1,fe=1;fe<Fe.length;++fe)me*=Fe[fe];q.dimension=me,Ke=Ec(re,Fe,q.dtype),Ce(q,Ke,Se),Be?q.persistentData=Ke:sn.freeType(Ke)}else if(typeof re[0]=="number"){q.dimension=ve;var ze=sn.allocType(q.dtype,re.length);Ld(ze,re),Ce(q,ze,Se),Be?q.persistentData=ze:sn.freeType(ze)}else n(re[0])?(q.dimension=re[0].length,q.dtype=$e||ua(re[0])||Tc,Ke=Ec(re,[re.length,re[0].length],q.dtype),Ce(q,Ke,Se),Be?q.persistentData=Ke:sn.freeType(Ke)):P.raise("invalid buffer data")}}else if(n(re))q.dtype=$e||ua(re),q.dimension=ve,Ce(q,re,Se),Be&&(q.persistentData=new Uint8Array(new Uint8Array(re.buffer)));else if(_r(re)){Fe=re.shape;var Oe=re.stride,Ae=re.offset,Re=0,Ie=0,ft=0,at=0;Fe.length===1?(Re=Fe[0],Ie=1,ft=Oe[0],at=0):Fe.length===2?(Re=Fe[0],Ie=Fe[1],ft=Oe[0],at=Oe[1]):P.raise("invalid shape"),q.dtype=$e||ua(re.data)||Tc,q.dimension=Ie;var xe=sn.allocType(q.dtype,Re*Ie);Od(xe,re.data,Re,Ie,ft,at,Ae),Ce(q,xe,Se),Be?q.persistentData=xe:sn.freeType(xe)}else re instanceof ArrayBuffer?(q.dtype=wc,q.dimension=ve,Ce(q,re,Se),Be&&(q.persistentData=new Uint8Array(new Uint8Array(re)))):P.raise("invalid buffer data")}function Le(q){C.bufferCount--,Q(q);var re=q.buffer;P(re,"buffer must not be deleted already"),_.deleteBuffer(re),q.buffer=null,delete K[q.id]}function ye(q,re,Se,$e){C.bufferCount++;var ve=new se(re);K[ve.id]=ve;function Be(me){var fe=Pd,ze=null,Oe=0,Ae=0,Re=1;return Array.isArray(me)||n(me)||_r(me)||me instanceof ArrayBuffer?ze=me:typeof me=="number"?Oe=me|0:me&&(P.type(me,"object","buffer arguments must be an object, a number or an array"),"data"in me&&(P(ze===null||Array.isArray(ze)||n(ze)||_r(ze),"invalid data for buffer"),ze=me.data),"usage"in me&&(P.parameter(me.usage,fa,"invalid buffer usage"),fe=fa[me.usage]),"type"in me&&(P.parameter(me.type,Es,"invalid buffer type"),Ae=Es[me.type]),"dimension"in me&&(P.type(me.dimension,"number","invalid dimension"),Re=me.dimension|0),"length"in me&&(P.nni(Oe,"buffer length must be a nonnegative integer"),Oe=me.length|0)),ve.bind(),ze?Te(ve,ze,fe,Ae,Re,$e):(Oe&&_.bufferData(ve.type,Oe,fe),ve.dtype=Ae||wc,ve.usage=fe,ve.dimension=Re,ve.byteLength=Oe),F.profile&&(ve.stats.size=ve.byteLength*Jr[ve.dtype]),Be}function Fe(me,fe){P(fe+me.byteLength<=ve.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+me.byteLength+" starting from offset "+fe+" to a buffer of size "+ve.byteLength),_.bufferSubData(ve.type,fe,me)}function Ke(me,fe){var ze=(fe||0)|0,Oe;if(ve.bind(),n(me)||me instanceof ArrayBuffer)Fe(me,ze);else if(Array.isArray(me)){if(me.length>0)if(typeof me[0]=="number"){var Ae=sn.allocType(ve.dtype,me.length);Ld(Ae,me),Fe(Ae,ze),sn.freeType(Ae)}else if(Array.isArray(me[0])||n(me[0])){Oe=Cd(me);var Re=Ec(me,Oe,ve.dtype);Fe(Re,ze),sn.freeType(Re)}else P.raise("invalid buffer data")}else if(_r(me)){Oe=me.shape;var Ie=me.stride,ft=0,at=0,xe=0,Ne=0;Oe.length===1?(ft=Oe[0],at=1,xe=Ie[0],Ne=0):Oe.length===2?(ft=Oe[0],at=Oe[1],xe=Ie[0],Ne=Ie[1]):P.raise("invalid shape");var Je=Array.isArray(me.data)?ve.dtype:ua(me.data),ut=sn.allocType(Je,ft*at);Od(ut,me.data,ft,at,xe,Ne,me.offset),Fe(ut,ze),sn.freeType(ut)}else P.raise("invalid data for buffer subdata");return Be}return Se||Be(q),Be._reglType="buffer",Be._buffer=ve,Be.subdata=Ke,F.profile&&(Be.stats=ve.stats),Be.destroy=function(){Le(ve)},Be}function Ee(){or(K).forEach(function(q){q.buffer=_.createBuffer(),_.bindBuffer(q.type,q.buffer),_.bufferData(q.type,q.persistentData||q.byteLength,q.usage)})}return F.profile&&(C.getTotalBufferSize=function(){var q=0;return Object.keys(K).forEach(function(re){q+=K[re].stats.size}),q}),{create:ye,createStream:be,destroyStream:we,clear:function(){or(K).forEach(Le),_e.forEach(Le)},getBuffer:function(q){return q&&q._buffer instanceof se?q._buffer:null},restore:Ee,_initBuffer:Te}}var Ub=0,Hb=0,zb=1,jb=1,qb=4,Xb=4,es={points:Ub,point:Hb,lines:zb,line:jb,triangles:qb,triangle:Xb,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Wb=0,Yb=1,eo=4,Zb=5120,si=5121,Rd=5122,ii=5123,Md=5124,ws=5125,Cc=34963,Kb=35040,Qb=35044;function Jb(_,C,F,Q){var ue={},K=0,se={uint8:si,uint16:ii};C.oes_element_index_uint&&(se.uint32=ws);function _e(Ee){this.id=K++,ue[this.id]=this,this.buffer=Ee,this.primType=eo,this.vertCount=0,this.type=0}_e.prototype.bind=function(){this.buffer.bind()};var be=[];function we(Ee){var q=be.pop();return q||(q=new _e(F.create(null,Cc,!0,!1)._buffer)),Te(q,Ee,Kb,-1,-1,0,0),q}function Ce(Ee){be.push(Ee)}function Te(Ee,q,re,Se,$e,ve,Be){Ee.buffer.bind();var Fe;if(q){var Ke=Be;!Be&&(!n(q)||_r(q)&&!n(q.data))&&(Ke=C.oes_element_index_uint?ws:ii),F._initBuffer(Ee.buffer,q,re,Ke,3)}else _.bufferData(Cc,ve,re),Ee.buffer.dtype=Fe||si,Ee.buffer.usage=re,Ee.buffer.dimension=3,Ee.buffer.byteLength=ve;if(Fe=Be,!Be){switch(Ee.buffer.dtype){case si:case Zb:Fe=si;break;case ii:case Rd:Fe=ii;break;case ws:case Md:Fe=ws;break;default:P.raise("unsupported type for element array")}Ee.buffer.dtype=Fe}Ee.type=Fe,P(Fe!==ws||!!C.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var me=$e;me<0&&(me=Ee.buffer.byteLength,Fe===ii?me>>=1:Fe===ws&&(me>>=2)),Ee.vertCount=me;var fe=Se;if(Se<0){fe=eo;var ze=Ee.buffer.dimension;ze===1&&(fe=Wb),ze===2&&(fe=Yb),ze===3&&(fe=eo)}Ee.primType=fe}function Le(Ee){Q.elementsCount--,P(Ee.buffer!==null,"must not double destroy elements"),delete ue[Ee.id],Ee.buffer.destroy(),Ee.buffer=null}function ye(Ee,q){var re=F.create(null,Cc,!0),Se=new _e(re._buffer);Q.elementsCount++;function $e(ve){if(!ve)re(),Se.primType=eo,Se.vertCount=0,Se.type=si;else if(typeof ve=="number")re(ve),Se.primType=eo,Se.vertCount=ve|0,Se.type=si;else{var Be=null,Fe=Qb,Ke=-1,me=-1,fe=0,ze=0;Array.isArray(ve)||n(ve)||_r(ve)?Be=ve:(P.type(ve,"object","invalid arguments for elements"),"data"in ve&&(Be=ve.data,P(Array.isArray(Be)||n(Be)||_r(Be),"invalid data for element buffer")),"usage"in ve&&(P.parameter(ve.usage,fa,"invalid element buffer usage"),Fe=fa[ve.usage]),"primitive"in ve&&(P.parameter(ve.primitive,es,"invalid element buffer primitive"),Ke=es[ve.primitive]),"count"in ve&&(P(typeof ve.count=="number"&&ve.count>=0,"invalid vertex count for elements"),me=ve.count|0),"type"in ve&&(P.parameter(ve.type,se,"invalid buffer type"),ze=se[ve.type]),"length"in ve?fe=ve.length|0:(fe=me,ze===ii||ze===Rd?fe*=2:(ze===ws||ze===Md)&&(fe*=4))),Te(Se,Be,Fe,Ke,me,fe,ze)}return $e}return $e(Ee),$e._reglType="elements",$e._elements=Se,$e.subdata=function(ve,Be){return re.subdata(ve,Be),$e},$e.destroy=function(){Le(Se)},$e}return{create:ye,createStream:we,destroyStream:Ce,getElements:function(Ee){return typeof Ee=="function"&&Ee._elements instanceof _e?Ee._elements:null},clear:function(){or(ue).forEach(Le)}}}var Id=new Float32Array(1),e_=new Uint32Array(Id.buffer),t_=5123;function Dd(_){for(var C=sn.allocType(t_,_.length),F=0;F<_.length;++F)if(isNaN(_[F]))C[F]=65535;else if(_[F]===1/0)C[F]=31744;else if(_[F]===-1/0)C[F]=64512;else{Id[0]=_[F];var Q=e_[0],ue=Q>>>31<<15,K=(Q<<1>>>24)-127,se=Q>>13&1024-1;if(K<-24)C[F]=ue;else if(K<-14){var _e=-14-K;C[F]=ue+(se+1024>>_e)}else K>15?C[F]=ue+31744:C[F]=ue+(K+15<<10)+se}return C}function Kt(_){return Array.isArray(_)||n(_)}var Fd=function(_){return!(_&_-1)&&!!_},n_=34467,wr=3553,Pc=34067,da=34069,Ts=6408,Lc=6406,ha=6407,to=6409,ma=6410,xd=32854,Oc=32855,kd=36194,r_=32819,s_=32820,i_=33635,o_=34042,Rc=6402,pa=34041,Mc=35904,Ic=35906,oi=36193,Dc=33776,Fc=33777,xc=33778,kc=33779,Gd=35986,Bd=35987,Nd=34798,$d=35840,Vd=35841,Ud=35842,Hd=35843,zd=36196,ai=5121,Gc=5123,Bc=5125,no=5126,a_=10242,l_=10243,c_=10497,Nc=33071,f_=33648,u_=10240,d_=10241,$c=9728,h_=9729,Vc=9984,jd=9985,qd=9986,Uc=9987,m_=33170,ga=4352,p_=4353,g_=4354,v_=34046,b_=3317,__=37440,y_=37441,A_=37443,Xd=37444,ro=33984,S_=[Vc,qd,jd,Uc],va=[0,to,ma,ha,Ts],hr={};hr[to]=hr[Lc]=hr[Rc]=1,hr[pa]=hr[ma]=2,hr[ha]=hr[Mc]=3,hr[Ts]=hr[Ic]=4;function li(_){return"[object "+_+"]"}var Wd=li("HTMLCanvasElement"),Yd=li("OffscreenCanvas"),Zd=li("CanvasRenderingContext2D"),Kd=li("ImageBitmap"),Qd=li("HTMLImageElement"),Jd=li("HTMLVideoElement"),E_=Object.keys(Sc).concat([Wd,Yd,Zd,Kd,Qd,Jd]),ci=[];ci[ai]=1,ci[no]=4,ci[oi]=2,ci[Gc]=2,ci[Bc]=4;var Dn=[];Dn[xd]=2,Dn[Oc]=2,Dn[kd]=2,Dn[pa]=4,Dn[Dc]=.5,Dn[Fc]=.5,Dn[xc]=1,Dn[kc]=1,Dn[Gd]=.5,Dn[Bd]=1,Dn[Nd]=1,Dn[$d]=.5,Dn[Vd]=.25,Dn[Ud]=.5,Dn[Hd]=.25,Dn[zd]=.5;function e0(_){return Array.isArray(_)&&(_.length===0||typeof _[0]=="number")}function t0(_){if(!Array.isArray(_))return!1;var C=_.length;return!(C===0||!Kt(_[0]))}function Cs(_){return Object.prototype.toString.call(_)}function n0(_){return Cs(_)===Wd}function r0(_){return Cs(_)===Yd}function w_(_){return Cs(_)===Zd}function T_(_){return Cs(_)===Kd}function C_(_){return Cs(_)===Qd}function P_(_){return Cs(_)===Jd}function Hc(_){if(!_)return!1;var C=Cs(_);return E_.indexOf(C)>=0?!0:e0(_)||t0(_)||_r(_)}function s0(_){return Sc[Object.prototype.toString.call(_)]|0}function L_(_,C){var F=C.length;switch(_.type){case ai:case Gc:case Bc:case no:var Q=sn.allocType(_.type,F);Q.set(C),_.data=Q;break;case oi:_.data=Dd(C);break;default:P.raise("unsupported texture type, must specify a typed array")}}function i0(_,C){return sn.allocType(_.type===oi?no:_.type,C)}function o0(_,C){_.type===oi?(_.data=Dd(C),sn.freeType(C)):_.data=C}function O_(_,C,F,Q,ue,K){for(var se=_.width,_e=_.height,be=_.channels,we=se*_e*be,Ce=i0(_,we),Te=0,Le=0;Le<_e;++Le)for(var ye=0;ye<se;++ye)for(var Ee=0;Ee<be;++Ee)Ce[Te++]=C[F*ye+Q*Le+ue*Ee+K];o0(_,Ce)}function ba(_,C,F,Q,ue,K){var se;if(typeof Dn[_]<"u"?se=Dn[_]:se=hr[_]*ci[C],K&&(se*=6),ue){for(var _e=0,be=F;be>=1;)_e+=se*be*be,be/=2;return _e}else return se*F*Q}function R_(_,C,F,Q,ue,K,se){var _e={"don't care":ga,"dont care":ga,nice:g_,fast:p_},be={repeat:c_,clamp:Nc,mirror:f_},we={nearest:$c,linear:h_},Ce=r({mipmap:Uc,"nearest mipmap nearest":Vc,"linear mipmap nearest":jd,"nearest mipmap linear":qd,"linear mipmap linear":Uc},we),Te={none:0,browser:Xd},Le={uint8:ai,rgba4:r_,rgb565:i_,"rgb5 a1":s_},ye={alpha:Lc,luminance:to,"luminance alpha":ma,rgb:ha,rgba:Ts,rgba4:xd,"rgb5 a1":Oc,rgb565:kd},Ee={};C.ext_srgb&&(ye.srgb=Mc,ye.srgba=Ic),C.oes_texture_float&&(Le.float32=Le.float=no),C.oes_texture_half_float&&(Le.float16=Le["half float"]=oi),C.webgl_depth_texture&&(r(ye,{depth:Rc,"depth stencil":pa}),r(Le,{uint16:Gc,uint32:Bc,"depth stencil":o_})),C.webgl_compressed_texture_s3tc&&r(Ee,{"rgb s3tc dxt1":Dc,"rgba s3tc dxt1":Fc,"rgba s3tc dxt3":xc,"rgba s3tc dxt5":kc}),C.webgl_compressed_texture_atc&&r(Ee,{"rgb atc":Gd,"rgba atc explicit alpha":Bd,"rgba atc interpolated alpha":Nd}),C.webgl_compressed_texture_pvrtc&&r(Ee,{"rgb pvrtc 4bppv1":$d,"rgb pvrtc 2bppv1":Vd,"rgba pvrtc 4bppv1":Ud,"rgba pvrtc 2bppv1":Hd}),C.webgl_compressed_texture_etc1&&(Ee["rgb etc1"]=zd);var q=Array.prototype.slice.call(_.getParameter(n_));Object.keys(Ee).forEach(function(I){var ee=Ee[I];q.indexOf(ee)>=0&&(ye[I]=ee)});var re=Object.keys(ye);F.textureFormats=re;var Se=[];Object.keys(ye).forEach(function(I){var ee=ye[I];Se[ee]=I});var $e=[];Object.keys(Le).forEach(function(I){var ee=Le[I];$e[ee]=I});var ve=[];Object.keys(we).forEach(function(I){var ee=we[I];ve[ee]=I});var Be=[];Object.keys(Ce).forEach(function(I){var ee=Ce[I];Be[ee]=I});var Fe=[];Object.keys(be).forEach(function(I){var ee=be[I];Fe[ee]=I});var Ke=re.reduce(function(I,ee){var Z=ye[ee];return Z===to||Z===Lc||Z===to||Z===ma||Z===Rc||Z===pa||C.ext_srgb&&(Z===Mc||Z===Ic)?I[Z]=Z:Z===Oc||ee.indexOf("rgba")>=0?I[Z]=Ts:I[Z]=ha,I},{});function me(){this.internalformat=Ts,this.format=Ts,this.type=ai,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Xd,this.width=0,this.height=0,this.channels=0}function fe(I,ee){I.internalformat=ee.internalformat,I.format=ee.format,I.type=ee.type,I.compressed=ee.compressed,I.premultiplyAlpha=ee.premultiplyAlpha,I.flipY=ee.flipY,I.unpackAlignment=ee.unpackAlignment,I.colorSpace=ee.colorSpace,I.width=ee.width,I.height=ee.height,I.channels=ee.channels}function ze(I,ee){if(!(typeof ee!="object"||!ee)){if("premultiplyAlpha"in ee&&(P.type(ee.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),I.premultiplyAlpha=ee.premultiplyAlpha),"flipY"in ee&&(P.type(ee.flipY,"boolean","invalid texture flip"),I.flipY=ee.flipY),"alignment"in ee&&(P.oneOf(ee.alignment,[1,2,4,8],"invalid texture unpack alignment"),I.unpackAlignment=ee.alignment),"colorSpace"in ee&&(P.parameter(ee.colorSpace,Te,"invalid colorSpace"),I.colorSpace=Te[ee.colorSpace]),"type"in ee){var Z=ee.type;P(C.oes_texture_float||!(Z==="float"||Z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),P(C.oes_texture_half_float||!(Z==="half float"||Z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),P(C.webgl_depth_texture||!(Z==="uint16"||Z==="uint32"||Z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(Z,Le,"invalid texture type"),I.type=Le[Z]}var He=I.width,pt=I.height,L=I.channels,T=!1;"shape"in ee?(P(Array.isArray(ee.shape)&&ee.shape.length>=2,"shape must be an array"),He=ee.shape[0],pt=ee.shape[1],ee.shape.length===3&&(L=ee.shape[2],P(L>0&&L<=4,"invalid number of channels"),T=!0),P(He>=0&&He<=F.maxTextureSize,"invalid width"),P(pt>=0&&pt<=F.maxTextureSize,"invalid height")):("radius"in ee&&(He=pt=ee.radius,P(He>=0&&He<=F.maxTextureSize,"invalid radius")),"width"in ee&&(He=ee.width,P(He>=0&&He<=F.maxTextureSize,"invalid width")),"height"in ee&&(pt=ee.height,P(pt>=0&&pt<=F.maxTextureSize,"invalid height")),"channels"in ee&&(L=ee.channels,P(L>0&&L<=4,"invalid number of channels"),T=!0)),I.width=He|0,I.height=pt|0,I.channels=L|0;var x=!1;if("format"in ee){var j=ee.format;P(C.webgl_depth_texture||!(j==="depth"||j==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(j,ye,"invalid texture format");var X=I.internalformat=ye[j];I.format=Ke[X],j in Le&&("type"in ee||(I.type=Le[j])),j in Ee&&(I.compressed=!0),x=!0}!T&&x?I.channels=hr[I.format]:T&&!x?I.channels!==va[I.format]&&(I.format=I.internalformat=va[I.channels]):x&&T&&P(I.channels===hr[I.format],"number of channels inconsistent with specified format")}}function Oe(I){_.pixelStorei(__,I.flipY),_.pixelStorei(y_,I.premultiplyAlpha),_.pixelStorei(A_,I.colorSpace),_.pixelStorei(b_,I.unpackAlignment)}function Ae(){me.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Re(I,ee){var Z=null;if(Hc(ee)?Z=ee:ee&&(P.type(ee,"object","invalid pixel data type"),ze(I,ee),"x"in ee&&(I.xOffset=ee.x|0),"y"in ee&&(I.yOffset=ee.y|0),Hc(ee.data)&&(Z=ee.data)),P(!I.compressed||Z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),ee.copy){P(!Z,"can not specify copy and data field for the same texture");var He=ue.viewportWidth,pt=ue.viewportHeight;I.width=I.width||He-I.xOffset,I.height=I.height||pt-I.yOffset,I.needsCopy=!0,P(I.xOffset>=0&&I.xOffset<He&&I.yOffset>=0&&I.yOffset<pt&&I.width>0&&I.width<=He&&I.height>0&&I.height<=pt,"copy texture read out of bounds")}else if(!Z)I.width=I.width||1,I.height=I.height||1,I.channels=I.channels||4;else if(n(Z))I.channels=I.channels||4,I.data=Z,!("type"in ee)&&I.type===ai&&(I.type=s0(Z));else if(e0(Z))I.channels=I.channels||4,L_(I,Z),I.alignment=1,I.needsFree=!0;else if(_r(Z)){var L=Z.data;!Array.isArray(L)&&I.type===ai&&(I.type=s0(L));var T=Z.shape,x=Z.stride,j,X,B,G,U,R;T.length===3?(B=T[2],R=x[2]):(P(T.length===2,"invalid ndarray pixel data, must be 2 or 3D"),B=1,R=1),j=T[0],X=T[1],G=x[0],U=x[1],I.alignment=1,I.width=j,I.height=X,I.channels=B,I.format=I.internalformat=va[B],I.needsFree=!0,O_(I,L,G,U,R,Z.offset)}else if(n0(Z)||r0(Z)||w_(Z))n0(Z)||r0(Z)?I.element=Z:I.element=Z.canvas,I.width=I.element.width,I.height=I.element.height,I.channels=4;else if(T_(Z))I.element=Z,I.width=Z.width,I.height=Z.height,I.channels=4;else if(C_(Z))I.element=Z,I.width=Z.naturalWidth,I.height=Z.naturalHeight,I.channels=4;else if(P_(Z))I.element=Z,I.width=Z.videoWidth,I.height=Z.videoHeight,I.channels=4;else if(t0(Z)){var D=I.width||Z[0].length,M=I.height||Z.length,Y=I.channels;Kt(Z[0][0])?Y=Y||Z[0][0].length:Y=Y||1;for(var W=ca.shape(Z),ce=1,pe=0;pe<W.length;++pe)ce*=W[pe];var Pe=i0(I,ce);ca.flatten(Z,W,"",Pe),o0(I,Pe),I.alignment=1,I.width=D,I.height=M,I.channels=Y,I.format=I.internalformat=va[Y],I.needsFree=!0}I.type===no?P(F.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):I.type===oi&&P(F.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Ie(I,ee,Z){var He=I.element,pt=I.data,L=I.internalformat,T=I.format,x=I.type,j=I.width,X=I.height;Oe(I),He?_.texImage2D(ee,Z,T,T,x,He):I.compressed?_.compressedTexImage2D(ee,Z,L,j,X,0,pt):I.needsCopy?(Q(),_.copyTexImage2D(ee,Z,T,I.xOffset,I.yOffset,j,X,0)):_.texImage2D(ee,Z,T,j,X,0,T,x,pt||null)}function ft(I,ee,Z,He,pt){var L=I.element,T=I.data,x=I.internalformat,j=I.format,X=I.type,B=I.width,G=I.height;Oe(I),L?_.texSubImage2D(ee,pt,Z,He,j,X,L):I.compressed?_.compressedTexSubImage2D(ee,pt,Z,He,x,B,G,T):I.needsCopy?(Q(),_.copyTexSubImage2D(ee,pt,Z,He,I.xOffset,I.yOffset,B,G)):_.texSubImage2D(ee,pt,Z,He,B,G,j,X,T)}var at=[];function xe(){return at.pop()||new Ae}function Ne(I){I.needsFree&&sn.freeType(I.data),Ae.call(I),at.push(I)}function Je(){me.call(this),this.genMipmaps=!1,this.mipmapHint=ga,this.mipmask=0,this.images=Array(16)}function ut(I,ee,Z){var He=I.images[0]=xe();I.mipmask=1,He.width=I.width=ee,He.height=I.height=Z,He.channels=I.channels=4}function vt(I,ee){var Z=null;if(Hc(ee))Z=I.images[0]=xe(),fe(Z,I),Re(Z,ee),I.mipmask=1;else if(ze(I,ee),Array.isArray(ee.mipmap))for(var He=ee.mipmap,pt=0;pt<He.length;++pt)Z=I.images[pt]=xe(),fe(Z,I),Z.width>>=pt,Z.height>>=pt,Re(Z,He[pt]),I.mipmask|=1<<pt;else Z=I.images[0]=xe(),fe(Z,I),Re(Z,ee),I.mipmask=1;fe(I,I.images[0]),I.compressed&&(I.internalformat===Dc||I.internalformat===Fc||I.internalformat===xc||I.internalformat===kc)&&P(I.width%4===0&&I.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Qt(I,ee){for(var Z=I.images,He=0;He<Z.length;++He){if(!Z[He])return;Ie(Z[He],ee,He)}}var Jt=[];function yt(){var I=Jt.pop()||new Je;me.call(I),I.mipmask=0;for(var ee=0;ee<16;++ee)I.images[ee]=null;return I}function bn(I){for(var ee=I.images,Z=0;Z<ee.length;++Z)ee[Z]&&Ne(ee[Z]),ee[Z]=null;Jt.push(I)}function Ht(){this.minFilter=$c,this.magFilter=$c,this.wrapS=Nc,this.wrapT=Nc,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=ga}function pn(I,ee){if("min"in ee){var Z=ee.min;P.parameter(Z,Ce),I.minFilter=Ce[Z],S_.indexOf(I.minFilter)>=0&&!("faces"in ee)&&(I.genMipmaps=!0)}if("mag"in ee){var He=ee.mag;P.parameter(He,we),I.magFilter=we[He]}var pt=I.wrapS,L=I.wrapT;if("wrap"in ee){var T=ee.wrap;typeof T=="string"?(P.parameter(T,be),pt=L=be[T]):Array.isArray(T)&&(P.parameter(T[0],be),P.parameter(T[1],be),pt=be[T[0]],L=be[T[1]])}else{if("wrapS"in ee){var x=ee.wrapS;P.parameter(x,be),pt=be[x]}if("wrapT"in ee){var j=ee.wrapT;P.parameter(j,be),L=be[j]}}if(I.wrapS=pt,I.wrapT=L,"anisotropic"in ee){var X=ee.anisotropic;P(typeof X=="number"&&X>=1&&X<=F.maxAnisotropic,"aniso samples must be between 1 and "),I.anisotropic=ee.anisotropic}if("mipmap"in ee){var B=!1;switch(typeof ee.mipmap){case"string":P.parameter(ee.mipmap,_e,"invalid mipmap hint"),I.mipmapHint=_e[ee.mipmap],I.genMipmaps=!0,B=!0;break;case"boolean":B=I.genMipmaps=ee.mipmap;break;case"object":P(Array.isArray(ee.mipmap),"invalid mipmap type"),I.genMipmaps=!1,B=!0;break;default:P.raise("invalid mipmap type")}B&&!("min"in ee)&&(I.minFilter=Vc)}}function _n(I,ee){_.texParameteri(ee,d_,I.minFilter),_.texParameteri(ee,u_,I.magFilter),_.texParameteri(ee,a_,I.wrapS),_.texParameteri(ee,l_,I.wrapT),C.ext_texture_filter_anisotropic&&_.texParameteri(ee,v_,I.anisotropic),I.genMipmaps&&(_.hint(m_,I.mipmapHint),_.generateMipmap(ee))}var yn=0,Mn={},Fn=F.maxTextureUnits,ln=Array(Fn).map(function(){return null});function ht(I){me.call(this),this.mipmask=0,this.internalformat=Ts,this.id=yn++,this.refCount=1,this.target=I,this.texture=_.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Ht,se.profile&&(this.stats={size:0})}function xn(I){_.activeTexture(ro),_.bindTexture(I.target,I.texture)}function It(){var I=ln[0];I?_.bindTexture(I.target,I.texture):_.bindTexture(wr,null)}function Qe(I){var ee=I.texture;P(ee,"must not double destroy texture");var Z=I.unit,He=I.target;Z>=0&&(_.activeTexture(ro+Z),_.bindTexture(He,null),ln[Z]=null),_.deleteTexture(ee),I.texture=null,I.params=null,I.pixels=null,I.refCount=0,delete Mn[I.id],K.textureCount--}r(ht.prototype,{bind:function(){var I=this;I.bindCount+=1;var ee=I.unit;if(ee<0){for(var Z=0;Z<Fn;++Z){var He=ln[Z];if(He){if(He.bindCount>0)continue;He.unit=-1}ln[Z]=I,ee=Z;break}ee>=Fn&&P.raise("insufficient number of texture units"),se.profile&&K.maxTextureUnits<ee+1&&(K.maxTextureUnits=ee+1),I.unit=ee,_.activeTexture(ro+ee),_.bindTexture(I.target,I.texture)}return ee},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Qe(this)}});function bt(I,ee){var Z=new ht(wr);Mn[Z.id]=Z,K.textureCount++;function He(T,x){var j=Z.texInfo;Ht.call(j);var X=yt();return typeof T=="number"?typeof x=="number"?ut(X,T|0,x|0):ut(X,T|0,T|0):T?(P.type(T,"object","invalid arguments to regl.texture"),pn(j,T),vt(X,T)):ut(X,1,1),j.genMipmaps&&(X.mipmask=(X.width<<1)-1),Z.mipmask=X.mipmask,fe(Z,X),P.texture2D(j,X,F),Z.internalformat=X.internalformat,He.width=X.width,He.height=X.height,xn(Z),Qt(X,wr),_n(j,wr),It(),bn(X),se.profile&&(Z.stats.size=ba(Z.internalformat,Z.type,X.width,X.height,j.genMipmaps,!1)),He.format=Se[Z.internalformat],He.type=$e[Z.type],He.mag=ve[j.magFilter],He.min=Be[j.minFilter],He.wrapS=Fe[j.wrapS],He.wrapT=Fe[j.wrapT],He}function pt(T,x,j,X){P(!!T,"must specify image data");var B=x|0,G=j|0,U=X|0,R=xe();return fe(R,Z),R.width=0,R.height=0,Re(R,T),R.width=R.width||(Z.width>>U)-B,R.height=R.height||(Z.height>>U)-G,P(Z.type===R.type&&Z.format===R.format&&Z.internalformat===R.internalformat,"incompatible format for texture.subimage"),P(B>=0&&G>=0&&B+R.width<=Z.width&&G+R.height<=Z.height,"texture.subimage write out of bounds"),P(Z.mipmask&1<<U,"missing mipmap data"),P(R.data||R.element||R.needsCopy,"missing image data"),xn(Z),ft(R,wr,B,G,U),It(),Ne(R),He}function L(T,x){var j=T|0,X=x|0||j;if(j===Z.width&&X===Z.height)return He;He.width=Z.width=j,He.height=Z.height=X,xn(Z);for(var B=0;Z.mipmask>>B;++B){var G=j>>B,U=X>>B;if(!G||!U)break;_.texImage2D(wr,B,Z.format,G,U,0,Z.format,Z.type,null)}return It(),se.profile&&(Z.stats.size=ba(Z.internalformat,Z.type,j,X,!1,!1)),He}return He(I,ee),He.subimage=pt,He.resize=L,He._reglType="texture2d",He._texture=Z,se.profile&&(He.stats=Z.stats),He.destroy=function(){Z.decRef()},He}function Tt(I,ee,Z,He,pt,L){var T=new ht(Pc);Mn[T.id]=T,K.cubeCount++;var x=new Array(6);function j(G,U,R,D,M,Y){var W,ce=T.texInfo;for(Ht.call(ce),W=0;W<6;++W)x[W]=yt();if(typeof G=="number"||!G){var pe=G|0||1;for(W=0;W<6;++W)ut(x[W],pe,pe)}else if(typeof G=="object")if(U)vt(x[0],G),vt(x[1],U),vt(x[2],R),vt(x[3],D),vt(x[4],M),vt(x[5],Y);else if(pn(ce,G),ze(T,G),"faces"in G){var Pe=G.faces;for(P(Array.isArray(Pe)&&Pe.length===6,"cube faces must be a length 6 array"),W=0;W<6;++W)P(typeof Pe[W]=="object"&&!!Pe[W],"invalid input for cube map face"),fe(x[W],T),vt(x[W],Pe[W])}else for(W=0;W<6;++W)vt(x[W],G);else P.raise("invalid arguments to cube map");for(fe(T,x[0]),P.optional(function(){F.npotTextureCube||P(Fd(T.width)&&Fd(T.height),"your browser does not support non power or two texture dimensions")}),ce.genMipmaps?T.mipmask=(x[0].width<<1)-1:T.mipmask=x[0].mipmask,P.textureCube(T,ce,x,F),T.internalformat=x[0].internalformat,j.width=x[0].width,j.height=x[0].height,xn(T),W=0;W<6;++W)Qt(x[W],da+W);for(_n(ce,Pc),It(),se.profile&&(T.stats.size=ba(T.internalformat,T.type,j.width,j.height,ce.genMipmaps,!0)),j.format=Se[T.internalformat],j.type=$e[T.type],j.mag=ve[ce.magFilter],j.min=Be[ce.minFilter],j.wrapS=Fe[ce.wrapS],j.wrapT=Fe[ce.wrapT],W=0;W<6;++W)bn(x[W]);return j}function X(G,U,R,D,M){P(!!U,"must specify image data"),P(typeof G=="number"&&G===(G|0)&&G>=0&&G<6,"invalid face");var Y=R|0,W=D|0,ce=M|0,pe=xe();return fe(pe,T),pe.width=0,pe.height=0,Re(pe,U),pe.width=pe.width||(T.width>>ce)-Y,pe.height=pe.height||(T.height>>ce)-W,P(T.type===pe.type&&T.format===pe.format&&T.internalformat===pe.internalformat,"incompatible format for texture.subimage"),P(Y>=0&&W>=0&&Y+pe.width<=T.width&&W+pe.height<=T.height,"texture.subimage write out of bounds"),P(T.mipmask&1<<ce,"missing mipmap data"),P(pe.data||pe.element||pe.needsCopy,"missing image data"),xn(T),ft(pe,da+G,Y,W,ce),It(),Ne(pe),j}function B(G){var U=G|0;if(U!==T.width){j.width=T.width=U,j.height=T.height=U,xn(T);for(var R=0;R<6;++R)for(var D=0;T.mipmask>>D;++D)_.texImage2D(da+R,D,T.format,U>>D,U>>D,0,T.format,T.type,null);return It(),se.profile&&(T.stats.size=ba(T.internalformat,T.type,j.width,j.height,!1,!0)),j}}return j(I,ee,Z,He,pt,L),j.subimage=X,j.resize=B,j._reglType="textureCube",j._texture=T,se.profile&&(j.stats=T.stats),j.destroy=function(){T.decRef()},j}function cn(){for(var I=0;I<Fn;++I)_.activeTexture(ro+I),_.bindTexture(wr,null),ln[I]=null;or(Mn).forEach(Qe),K.cubeCount=0,K.textureCount=0}se.profile&&(K.getTotalTextureSize=function(){var I=0;return Object.keys(Mn).forEach(function(ee){I+=Mn[ee].stats.size}),I});function Cr(){for(var I=0;I<Fn;++I){var ee=ln[I];ee&&(ee.bindCount=0,ee.unit=-1,ln[I]=null)}or(Mn).forEach(function(Z){Z.texture=_.createTexture(),_.bindTexture(Z.target,Z.texture);for(var He=0;He<32;++He)if(Z.mipmask&1<<He)if(Z.target===wr)_.texImage2D(wr,He,Z.internalformat,Z.width>>He,Z.height>>He,0,Z.internalformat,Z.type,null);else for(var pt=0;pt<6;++pt)_.texImage2D(da+pt,He,Z.internalformat,Z.width>>He,Z.height>>He,0,Z.internalformat,Z.type,null);_n(Z.texInfo,Z.target)})}function Ds(){for(var I=0;I<Fn;++I){var ee=ln[I];ee&&(ee.bindCount=0,ee.unit=-1,ln[I]=null),_.activeTexture(ro+I),_.bindTexture(wr,null),_.bindTexture(Pc,null)}}return{create2D:bt,createCube:Tt,clear:cn,getTexture:function(I){return null},restore:Cr,refresh:Ds}}var ts=36161,_a=32854,a0=32855,l0=36194,c0=33189,f0=36168,u0=34041,d0=35907,h0=34836,m0=34842,p0=34843,yr=[];yr[_a]=2,yr[a0]=2,yr[l0]=2,yr[c0]=2,yr[f0]=1,yr[u0]=4,yr[d0]=4,yr[h0]=16,yr[m0]=8,yr[p0]=6;function g0(_,C,F){return yr[_]*C*F}var M_=function(_,C,F,Q,ue){var K={rgba4:_a,rgb565:l0,"rgb5 a1":a0,depth:c0,stencil:f0,"depth stencil":u0};C.ext_srgb&&(K.srgba=d0),C.ext_color_buffer_half_float&&(K.rgba16f=m0,K.rgb16f=p0),C.webgl_color_buffer_float&&(K.rgba32f=h0);var se=[];Object.keys(K).forEach(function(ye){var Ee=K[ye];se[Ee]=ye});var _e=0,be={};function we(ye){this.id=_e++,this.refCount=1,this.renderbuffer=ye,this.format=_a,this.width=0,this.height=0,ue.profile&&(this.stats={size:0})}we.prototype.decRef=function(){--this.refCount<=0&&Ce(this)};function Ce(ye){var Ee=ye.renderbuffer;P(Ee,"must not double destroy renderbuffer"),_.bindRenderbuffer(ts,null),_.deleteRenderbuffer(Ee),ye.renderbuffer=null,ye.refCount=0,delete be[ye.id],Q.renderbufferCount--}function Te(ye,Ee){var q=new we(_.createRenderbuffer());be[q.id]=q,Q.renderbufferCount++;function re($e,ve){var Be=0,Fe=0,Ke=_a;if(typeof $e=="object"&&$e){var me=$e;if("shape"in me){var fe=me.shape;P(Array.isArray(fe)&&fe.length>=2,"invalid renderbuffer shape"),Be=fe[0]|0,Fe=fe[1]|0}else"radius"in me&&(Be=Fe=me.radius|0),"width"in me&&(Be=me.width|0),"height"in me&&(Fe=me.height|0);"format"in me&&(P.parameter(me.format,K,"invalid renderbuffer format"),Ke=K[me.format])}else typeof $e=="number"?(Be=$e|0,typeof ve=="number"?Fe=ve|0:Fe=Be):$e?P.raise("invalid arguments to renderbuffer constructor"):Be=Fe=1;if(P(Be>0&&Fe>0&&Be<=F.maxRenderbufferSize&&Fe<=F.maxRenderbufferSize,"invalid renderbuffer size"),!(Be===q.width&&Fe===q.height&&Ke===q.format))return re.width=q.width=Be,re.height=q.height=Fe,q.format=Ke,_.bindRenderbuffer(ts,q.renderbuffer),_.renderbufferStorage(ts,Ke,Be,Fe),P(_.getError()===0,"invalid render buffer format"),ue.profile&&(q.stats.size=g0(q.format,q.width,q.height)),re.format=se[q.format],re}function Se($e,ve){var Be=$e|0,Fe=ve|0||Be;return Be===q.width&&Fe===q.height||(P(Be>0&&Fe>0&&Be<=F.maxRenderbufferSize&&Fe<=F.maxRenderbufferSize,"invalid renderbuffer size"),re.width=q.width=Be,re.height=q.height=Fe,_.bindRenderbuffer(ts,q.renderbuffer),_.renderbufferStorage(ts,q.format,Be,Fe),P(_.getError()===0,"invalid render buffer format"),ue.profile&&(q.stats.size=g0(q.format,q.width,q.height))),re}return re(ye,Ee),re.resize=Se,re._reglType="renderbuffer",re._renderbuffer=q,ue.profile&&(re.stats=q.stats),re.destroy=function(){q.decRef()},re}ue.profile&&(Q.getTotalRenderbufferSize=function(){var ye=0;return Object.keys(be).forEach(function(Ee){ye+=be[Ee].stats.size}),ye});function Le(){or(be).forEach(function(ye){ye.renderbuffer=_.createRenderbuffer(),_.bindRenderbuffer(ts,ye.renderbuffer),_.renderbufferStorage(ts,ye.format,ye.width,ye.height)}),_.bindRenderbuffer(ts,null)}return{create:Te,clear:function(){or(be).forEach(Ce)},restore:Le}},Gr=36160,zc=36161,Ps=3553,ya=34069,v0=36064,b0=36096,_0=36128,y0=33306,A0=36053,I_=36054,D_=36055,F_=36057,x_=36061,k_=36193,G_=5121,B_=5126,S0=6407,E0=6408,N_=6402,$_=[S0,E0],jc=[];jc[E0]=4,jc[S0]=3;var Aa=[];Aa[G_]=1,Aa[B_]=4,Aa[k_]=2;var V_=32854,U_=32855,H_=36194,z_=33189,j_=36168,w0=34041,q_=35907,X_=34836,W_=34842,Y_=34843,Z_=[V_,U_,H_,q_,W_,Y_,X_],fi={};fi[A0]="complete",fi[I_]="incomplete attachment",fi[F_]="incomplete dimensions",fi[D_]="incomplete, missing attachment",fi[x_]="unsupported";function K_(_,C,F,Q,ue,K){var se={cur:null,next:null,dirty:!1,setFBO:null},_e=["rgba"],be=["rgba4","rgb565","rgb5 a1"];C.ext_srgb&&be.push("srgba"),C.ext_color_buffer_half_float&&be.push("rgba16f","rgb16f"),C.webgl_color_buffer_float&&be.push("rgba32f");var we=["uint8"];C.oes_texture_half_float&&we.push("half float","float16"),C.oes_texture_float&&we.push("float","float32");function Ce(Ae,Re,Ie){this.target=Ae,this.texture=Re,this.renderbuffer=Ie;var ft=0,at=0;Re?(ft=Re.width,at=Re.height):Ie&&(ft=Ie.width,at=Ie.height),this.width=ft,this.height=at}function Te(Ae){Ae&&(Ae.texture&&Ae.texture._texture.decRef(),Ae.renderbuffer&&Ae.renderbuffer._renderbuffer.decRef())}function Le(Ae,Re,Ie){if(Ae)if(Ae.texture){var ft=Ae.texture._texture,at=Math.max(1,ft.width),xe=Math.max(1,ft.height);P(at===Re&&xe===Ie,"inconsistent width/height for supplied texture"),ft.refCount+=1}else{var Ne=Ae.renderbuffer._renderbuffer;P(Ne.width===Re&&Ne.height===Ie,"inconsistent width/height for renderbuffer"),Ne.refCount+=1}}function ye(Ae,Re){Re&&(Re.texture?_.framebufferTexture2D(Gr,Ae,Re.target,Re.texture._texture.texture,0):_.framebufferRenderbuffer(Gr,Ae,zc,Re.renderbuffer._renderbuffer.renderbuffer))}function Ee(Ae){var Re=Ps,Ie=null,ft=null,at=Ae;typeof Ae=="object"&&(at=Ae.data,"target"in Ae&&(Re=Ae.target|0)),P.type(at,"function","invalid attachment data");var xe=at._reglType;return xe==="texture2d"?(Ie=at,P(Re===Ps)):xe==="textureCube"?(Ie=at,P(Re>=ya&&Re<ya+6,"invalid cube map target")):xe==="renderbuffer"?(ft=at,Re=zc):P.raise("invalid regl object for attachment"),new Ce(Re,Ie,ft)}function q(Ae,Re,Ie,ft,at){if(Ie){var xe=Q.create2D({width:Ae,height:Re,format:ft,type:at});return xe._texture.refCount=0,new Ce(Ps,xe,null)}else{var Ne=ue.create({width:Ae,height:Re,format:ft});return Ne._renderbuffer.refCount=0,new Ce(zc,null,Ne)}}function re(Ae){return Ae&&(Ae.texture||Ae.renderbuffer)}function Se(Ae,Re,Ie){Ae&&(Ae.texture?Ae.texture.resize(Re,Ie):Ae.renderbuffer&&Ae.renderbuffer.resize(Re,Ie),Ae.width=Re,Ae.height=Ie)}var $e=0,ve={};function Be(){this.id=$e++,ve[this.id]=this,this.framebuffer=_.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Fe(Ae){Ae.colorAttachments.forEach(Te),Te(Ae.depthAttachment),Te(Ae.stencilAttachment),Te(Ae.depthStencilAttachment)}function Ke(Ae){var Re=Ae.framebuffer;P(Re,"must not double destroy framebuffer"),_.deleteFramebuffer(Re),Ae.framebuffer=null,K.framebufferCount--,delete ve[Ae.id]}function me(Ae){var Re;_.bindFramebuffer(Gr,Ae.framebuffer);var Ie=Ae.colorAttachments;for(Re=0;Re<Ie.length;++Re)ye(v0+Re,Ie[Re]);for(Re=Ie.length;Re<F.maxColorAttachments;++Re)_.framebufferTexture2D(Gr,v0+Re,Ps,null,0);_.framebufferTexture2D(Gr,y0,Ps,null,0),_.framebufferTexture2D(Gr,b0,Ps,null,0),_.framebufferTexture2D(Gr,_0,Ps,null,0),ye(b0,Ae.depthAttachment),ye(_0,Ae.stencilAttachment),ye(y0,Ae.depthStencilAttachment);var ft=_.checkFramebufferStatus(Gr);!_.isContextLost()&&ft!==A0&&P.raise("framebuffer configuration not supported, status = "+fi[ft]),_.bindFramebuffer(Gr,se.next?se.next.framebuffer:null),se.cur=se.next,_.getError()}function fe(Ae,Re){var Ie=new Be;K.framebufferCount++;function ft(xe,Ne){var Je;P(se.next!==Ie,"can not update framebuffer which is currently in use");var ut=0,vt=0,Qt=!0,Jt=!0,yt=null,bn=!0,Ht="rgba",pn="uint8",_n=1,yn=null,Mn=null,Fn=null,ln=!1;if(typeof xe=="number")ut=xe|0,vt=Ne|0||ut;else if(!xe)ut=vt=1;else{P.type(xe,"object","invalid arguments for framebuffer");var ht=xe;if("shape"in ht){var xn=ht.shape;P(Array.isArray(xn)&&xn.length>=2,"invalid shape for framebuffer"),ut=xn[0],vt=xn[1]}else"radius"in ht&&(ut=vt=ht.radius),"width"in ht&&(ut=ht.width),"height"in ht&&(vt=ht.height);("color"in ht||"colors"in ht)&&(yt=ht.color||ht.colors,Array.isArray(yt)&&P(yt.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),yt||("colorCount"in ht&&(_n=ht.colorCount|0,P(_n>0,"invalid color buffer count")),"colorTexture"in ht&&(bn=!!ht.colorTexture,Ht="rgba4"),"colorType"in ht&&(pn=ht.colorType,bn?(P(C.oes_texture_float||!(pn==="float"||pn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),P(C.oes_texture_half_float||!(pn==="half float"||pn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):pn==="half float"||pn==="float16"?(P(C.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Ht="rgba16f"):(pn==="float"||pn==="float32")&&(P(C.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Ht="rgba32f"),P.oneOf(pn,we,"invalid color type")),"colorFormat"in ht&&(Ht=ht.colorFormat,_e.indexOf(Ht)>=0?bn=!0:be.indexOf(Ht)>=0?bn=!1:P.optional(function(){bn?P.oneOf(ht.colorFormat,_e,"invalid color format for texture"):P.oneOf(ht.colorFormat,be,"invalid color format for renderbuffer")}))),("depthTexture"in ht||"depthStencilTexture"in ht)&&(ln=!!(ht.depthTexture||ht.depthStencilTexture),P(!ln||C.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ht&&(typeof ht.depth=="boolean"?Qt=ht.depth:(yn=ht.depth,Jt=!1)),"stencil"in ht&&(typeof ht.stencil=="boolean"?Jt=ht.stencil:(Mn=ht.stencil,Qt=!1)),"depthStencil"in ht&&(typeof ht.depthStencil=="boolean"?Qt=Jt=ht.depthStencil:(Fn=ht.depthStencil,Qt=!1,Jt=!1))}var It=null,Qe=null,bt=null,Tt=null;if(Array.isArray(yt))It=yt.map(Ee);else if(yt)It=[Ee(yt)];else for(It=new Array(_n),Je=0;Je<_n;++Je)It[Je]=q(ut,vt,bn,Ht,pn);P(C.webgl_draw_buffers||It.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),P(It.length<=F.maxColorAttachments,"too many color attachments, not supported"),ut=ut||It[0].width,vt=vt||It[0].height,yn?Qe=Ee(yn):Qt&&!Jt&&(Qe=q(ut,vt,ln,"depth","uint32")),Mn?bt=Ee(Mn):Jt&&!Qt&&(bt=q(ut,vt,!1,"stencil","uint8")),Fn?Tt=Ee(Fn):!yn&&!Mn&&Jt&&Qt&&(Tt=q(ut,vt,ln,"depth stencil","depth stencil")),P(!!yn+!!Mn+!!Fn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var cn=null;for(Je=0;Je<It.length;++Je)if(Le(It[Je],ut,vt),P(!It[Je]||It[Je].texture&&$_.indexOf(It[Je].texture._texture.format)>=0||It[Je].renderbuffer&&Z_.indexOf(It[Je].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Je+" is invalid"),It[Je]&&It[Je].texture){var Cr=jc[It[Je].texture._texture.format]*Aa[It[Je].texture._texture.type];cn===null?cn=Cr:P(cn===Cr,"all color attachments much have the same number of bits per pixel.")}return Le(Qe,ut,vt),P(!Qe||Qe.texture&&Qe.texture._texture.format===N_||Qe.renderbuffer&&Qe.renderbuffer._renderbuffer.format===z_,"invalid depth attachment for framebuffer object"),Le(bt,ut,vt),P(!bt||bt.renderbuffer&&bt.renderbuffer._renderbuffer.format===j_,"invalid stencil attachment for framebuffer object"),Le(Tt,ut,vt),P(!Tt||Tt.texture&&Tt.texture._texture.format===w0||Tt.renderbuffer&&Tt.renderbuffer._renderbuffer.format===w0,"invalid depth-stencil attachment for framebuffer object"),Fe(Ie),Ie.width=ut,Ie.height=vt,Ie.colorAttachments=It,Ie.depthAttachment=Qe,Ie.stencilAttachment=bt,Ie.depthStencilAttachment=Tt,ft.color=It.map(re),ft.depth=re(Qe),ft.stencil=re(bt),ft.depthStencil=re(Tt),ft.width=Ie.width,ft.height=Ie.height,me(Ie),ft}function at(xe,Ne){P(se.next!==Ie,"can not resize a framebuffer which is currently in use");var Je=Math.max(xe|0,1),ut=Math.max(Ne|0||Je,1);if(Je===Ie.width&&ut===Ie.height)return ft;for(var vt=Ie.colorAttachments,Qt=0;Qt<vt.length;++Qt)Se(vt[Qt],Je,ut);return Se(Ie.depthAttachment,Je,ut),Se(Ie.stencilAttachment,Je,ut),Se(Ie.depthStencilAttachment,Je,ut),Ie.width=ft.width=Je,Ie.height=ft.height=ut,me(Ie),ft}return ft(Ae,Re),r(ft,{resize:at,_reglType:"framebuffer",_framebuffer:Ie,destroy:function(){Ke(Ie),Fe(Ie)},use:function(xe){se.setFBO({framebuffer:ft},xe)}})}function ze(Ae){var Re=Array(6);function Ie(at){var xe;P(Re.indexOf(se.next)<0,"can not update framebuffer which is currently in use");var Ne={color:null},Je=0,ut=null,vt="rgba",Qt="uint8",Jt=1;if(typeof at=="number")Je=at|0;else if(!at)Je=1;else{P.type(at,"object","invalid arguments for framebuffer");var yt=at;if("shape"in yt){var bn=yt.shape;P(Array.isArray(bn)&&bn.length>=2,"invalid shape for framebuffer"),P(bn[0]===bn[1],"cube framebuffer must be square"),Je=bn[0]}else"radius"in yt&&(Je=yt.radius|0),"width"in yt?(Je=yt.width|0,"height"in yt&&P(yt.height===Je,"must be square")):"height"in yt&&(Je=yt.height|0);("color"in yt||"colors"in yt)&&(ut=yt.color||yt.colors,Array.isArray(ut)&&P(ut.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),ut||("colorCount"in yt&&(Jt=yt.colorCount|0,P(Jt>0,"invalid color buffer count")),"colorType"in yt&&(P.oneOf(yt.colorType,we,"invalid color type"),Qt=yt.colorType),"colorFormat"in yt&&(vt=yt.colorFormat,P.oneOf(yt.colorFormat,_e,"invalid color format for texture"))),"depth"in yt&&(Ne.depth=yt.depth),"stencil"in yt&&(Ne.stencil=yt.stencil),"depthStencil"in yt&&(Ne.depthStencil=yt.depthStencil)}var Ht;if(ut)if(Array.isArray(ut))for(Ht=[],xe=0;xe<ut.length;++xe)Ht[xe]=ut[xe];else Ht=[ut];else{Ht=Array(Jt);var pn={radius:Je,format:vt,type:Qt};for(xe=0;xe<Jt;++xe)Ht[xe]=Q.createCube(pn)}for(Ne.color=Array(Ht.length),xe=0;xe<Ht.length;++xe){var _n=Ht[xe];P(typeof _n=="function"&&_n._reglType==="textureCube","invalid cube map"),Je=Je||_n.width,P(_n.width===Je&&_n.height===Je,"invalid cube map shape"),Ne.color[xe]={target:ya,data:Ht[xe]}}for(xe=0;xe<6;++xe){for(var yn=0;yn<Ht.length;++yn)Ne.color[yn].target=ya+xe;xe>0&&(Ne.depth=Re[0].depth,Ne.stencil=Re[0].stencil,Ne.depthStencil=Re[0].depthStencil),Re[xe]?Re[xe](Ne):Re[xe]=fe(Ne)}return r(Ie,{width:Je,height:Je,color:Ht})}function ft(at){var xe,Ne=at|0;if(P(Ne>0&&Ne<=F.maxCubeMapSize,"invalid radius for cube fbo"),Ne===Ie.width)return Ie;var Je=Ie.color;for(xe=0;xe<Je.length;++xe)Je[xe].resize(Ne);for(xe=0;xe<6;++xe)Re[xe].resize(Ne);return Ie.width=Ie.height=Ne,Ie}return Ie(Ae),r(Ie,{faces:Re,resize:ft,_reglType:"framebufferCube",destroy:function(){Re.forEach(function(at){at.destroy()})}})}function Oe(){se.cur=null,se.next=null,se.dirty=!0,or(ve).forEach(function(Ae){Ae.framebuffer=_.createFramebuffer(),me(Ae)})}return r(se,{getFramebuffer:function(Ae){if(typeof Ae=="function"&&Ae._reglType==="framebuffer"){var Re=Ae._framebuffer;if(Re instanceof Be)return Re}return null},create:fe,createCube:ze,clear:function(){or(ve).forEach(Ke)},restore:Oe})}var Q_=5126,T0=34962,Sa=34963,C0=["attributes","elements","offset","count","primitive","instances"];function qc(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Q_,this.offset=0,this.stride=0,this.divisor=0}function J_(_,C,F,Q,ue,K,se){for(var _e=F.maxAttributes,be=new Array(_e),we=0;we<_e;++we)be[we]=new qc;var Ce=0,Te={},Le={Record:qc,scope:{},state:be,currentVAO:null,targetVAO:null,restore:Ee()?Fe:function(){},createVAO:Ke,getVAO:re,destroyBuffer:ye,setVAO:Ee()?Se:$e,clear:Ee()?ve:function(){}};function ye(me){for(var fe=0;fe<be.length;++fe){var ze=be[fe];ze.buffer===me&&(_.disableVertexAttribArray(fe),ze.buffer=null)}}function Ee(){return C.oes_vertex_array_object}function q(){return C.angle_instanced_arrays}function re(me){return typeof me=="function"&&me._vao?me._vao:null}function Se(me){if(me!==Le.currentVAO){var fe=Ee();me?fe.bindVertexArrayOES(me.vao):fe.bindVertexArrayOES(null),Le.currentVAO=me}}function $e(me){if(me!==Le.currentVAO){if(me)me.bindAttrs();else{for(var fe=q(),ze=0;ze<be.length;++ze){var Oe=be[ze];Oe.buffer?(_.enableVertexAttribArray(ze),Oe.buffer.bind(),_.vertexAttribPointer(ze,Oe.size,Oe.type,Oe.normalized,Oe.stride,Oe.offfset),fe&&Oe.divisor&&fe.vertexAttribDivisorANGLE(ze,Oe.divisor)):(_.disableVertexAttribArray(ze),_.vertexAttrib4f(ze,Oe.x,Oe.y,Oe.z,Oe.w))}se.elements?_.bindBuffer(Sa,se.elements.buffer.buffer):_.bindBuffer(Sa,null)}Le.currentVAO=me}}function ve(){or(Te).forEach(function(me){me.destroy()})}function Be(){this.id=++Ce,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var me=Ee();me?this.vao=me.createVertexArrayOES():this.vao=null,Te[this.id]=this,this.buffers=[]}Be.prototype.bindAttrs=function(){for(var me=q(),fe=this.attributes,ze=0;ze<fe.length;++ze){var Oe=fe[ze];Oe.buffer?(_.enableVertexAttribArray(ze),_.bindBuffer(T0,Oe.buffer.buffer),_.vertexAttribPointer(ze,Oe.size,Oe.type,Oe.normalized,Oe.stride,Oe.offset),me&&Oe.divisor&&me.vertexAttribDivisorANGLE(ze,Oe.divisor)):(_.disableVertexAttribArray(ze),_.vertexAttrib4f(ze,Oe.x,Oe.y,Oe.z,Oe.w))}for(var Ae=fe.length;Ae<_e;++Ae)_.disableVertexAttribArray(Ae);var Re=K.getElements(this.elements);Re?_.bindBuffer(Sa,Re.buffer.buffer):_.bindBuffer(Sa,null)},Be.prototype.refresh=function(){var me=Ee();me&&(me.bindVertexArrayOES(this.vao),this.bindAttrs(),Le.currentVAO=null,me.bindVertexArrayOES(null))},Be.prototype.destroy=function(){if(this.vao){var me=Ee();this===Le.currentVAO&&(Le.currentVAO=null,me.bindVertexArrayOES(null)),me.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Te[this.id]&&(delete Te[this.id],Q.vaoCount-=1)};function Fe(){var me=Ee();me&&or(Te).forEach(function(fe){fe.refresh()})}function Ke(me){var fe=new Be;Q.vaoCount+=1;function ze(Oe){var Ae;if(Array.isArray(Oe))Ae=Oe,fe.elements&&fe.ownsElements&&fe.elements.destroy(),fe.elements=null,fe.ownsElements=!1,fe.offset=0,fe.count=0,fe.instances=-1,fe.primitive=4;else{if(P(typeof Oe=="object","invalid arguments for create vao"),P("attributes"in Oe,"must specify attributes for vao"),Oe.elements){var Re=Oe.elements;fe.ownsElements?typeof Re=="function"&&Re._reglType==="elements"?(fe.elements.destroy(),fe.ownsElements=!1):(fe.elements(Re),fe.ownsElements=!1):K.getElements(Oe.elements)?(fe.elements=Oe.elements,fe.ownsElements=!1):(fe.elements=K.create(Oe.elements),fe.ownsElements=!0)}else fe.elements=null,fe.ownsElements=!1;Ae=Oe.attributes,fe.offset=0,fe.count=-1,fe.instances=-1,fe.primitive=4,fe.elements&&(fe.count=fe.elements._elements.vertCount,fe.primitive=fe.elements._elements.primType),"offset"in Oe&&(fe.offset=Oe.offset|0),"count"in Oe&&(fe.count=Oe.count|0),"instances"in Oe&&(fe.instances=Oe.instances|0),"primitive"in Oe&&(P(Oe.primitive in es,"bad primitive type: "+Oe.primitive),fe.primitive=es[Oe.primitive]),P.optional(()=>{for(var Qt=Object.keys(Oe),Jt=0;Jt<Qt.length;++Jt)P(C0.indexOf(Qt[Jt])>=0,'invalid option for vao: "'+Qt[Jt]+'" valid options are '+C0)}),P(Array.isArray(Ae),"attributes must be an array")}P(Ae.length<_e,"too many attributes"),P(Ae.length>0,"must specify at least one attribute");var Ie={},ft=fe.attributes;ft.length=Ae.length;for(var at=0;at<Ae.length;++at){var xe=Ae[at],Ne=ft[at]=new qc,Je=xe.data||xe;if(Array.isArray(Je)||n(Je)||_r(Je)){var ut;fe.buffers[at]&&(ut=fe.buffers[at],n(Je)&&ut._buffer.byteLength>=Je.byteLength?ut.subdata(Je):(ut.destroy(),fe.buffers[at]=null)),fe.buffers[at]||(ut=fe.buffers[at]=ue.create(xe,T0,!1,!0)),Ne.buffer=ue.getBuffer(ut),Ne.size=Ne.buffer.dimension|0,Ne.normalized=!1,Ne.type=Ne.buffer.dtype,Ne.offset=0,Ne.stride=0,Ne.divisor=0,Ne.state=1,Ie[at]=1}else ue.getBuffer(xe)?(Ne.buffer=ue.getBuffer(xe),Ne.size=Ne.buffer.dimension|0,Ne.normalized=!1,Ne.type=Ne.buffer.dtype,Ne.offset=0,Ne.stride=0,Ne.divisor=0,Ne.state=1):ue.getBuffer(xe.buffer)?(Ne.buffer=ue.getBuffer(xe.buffer),Ne.size=(+xe.size||Ne.buffer.dimension)|0,Ne.normalized=!!xe.normalized||!1,"type"in xe?(P.parameter(xe.type,Es,"invalid buffer type"),Ne.type=Es[xe.type]):Ne.type=Ne.buffer.dtype,Ne.offset=(xe.offset||0)|0,Ne.stride=(xe.stride||0)|0,Ne.divisor=(xe.divisor||0)|0,Ne.state=1,P(Ne.size>=1&&Ne.size<=4,"size must be between 1 and 4"),P(Ne.offset>=0,"invalid offset"),P(Ne.stride>=0&&Ne.stride<=255,"stride must be between 0 and 255"),P(Ne.divisor>=0,"divisor must be positive"),P(!Ne.divisor||!!C.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in xe?(P(at>0,"first attribute must not be a constant"),Ne.x=+xe.x||0,Ne.y=+xe.y||0,Ne.z=+xe.z||0,Ne.w=+xe.w||0,Ne.state=2):P(!1,"invalid attribute spec for location "+at)}for(var vt=0;vt<fe.buffers.length;++vt)!Ie[vt]&&fe.buffers[vt]&&(fe.buffers[vt].destroy(),fe.buffers[vt]=null);return fe.refresh(),ze}return ze.destroy=function(){for(var Oe=0;Oe<fe.buffers.length;++Oe)fe.buffers[Oe]&&fe.buffers[Oe].destroy();fe.buffers.length=0,fe.ownsElements&&(fe.elements.destroy(),fe.elements=null,fe.ownsElements=!1),fe.destroy()},ze._vao=fe,ze._reglType="vao",ze(me)}return Le}var P0=35632,ey=35633,ty=35718,ny=35721;function ry(_,C,F,Q){var ue={},K={};function se(q,re,Se,$e){this.name=q,this.id=re,this.location=Se,this.info=$e}function _e(q,re){for(var Se=0;Se<q.length;++Se)if(q[Se].id===re.id){q[Se].location=re.location;return}q.push(re)}function be(q,re,Se){var $e=q===P0?ue:K,ve=$e[re];if(!ve){var Be=C.str(re);ve=_.createShader(q),_.shaderSource(ve,Be),_.compileShader(ve),P.shaderError(_,ve,Be,q,Se),$e[re]=ve}return ve}var we={},Ce=[],Te=0;function Le(q,re){this.id=Te++,this.fragId=q,this.vertId=re,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Q.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ye(q,re,Se){var $e,ve,Be=be(P0,q.fragId),Fe=be(ey,q.vertId),Ke=q.program=_.createProgram();if(_.attachShader(Ke,Be),_.attachShader(Ke,Fe),Se)for($e=0;$e<Se.length;++$e){var me=Se[$e];_.bindAttribLocation(Ke,me[0],me[1])}_.linkProgram(Ke),P.linkError(_,Ke,C.str(q.fragId),C.str(q.vertId),re);var fe=_.getProgramParameter(Ke,ty);Q.profile&&(q.stats.uniformsCount=fe);var ze=q.uniforms;for($e=0;$e<fe;++$e)if(ve=_.getActiveUniform(Ke,$e),ve){if(ve.size>1)for(var Oe=0;Oe<ve.size;++Oe){var Ae=ve.name.replace("[0]","["+Oe+"]");_e(ze,new se(Ae,C.id(Ae),_.getUniformLocation(Ke,Ae),ve))}var Re=ve.name;ve.size>1&&(Re=Re.replace("[0]","")),_e(ze,new se(Re,C.id(Re),_.getUniformLocation(Ke,Re),ve))}var Ie=_.getProgramParameter(Ke,ny);Q.profile&&(q.stats.attributesCount=Ie);var ft=q.attributes;for($e=0;$e<Ie;++$e)ve=_.getActiveAttrib(Ke,$e),ve&&_e(ft,new se(ve.name,C.id(ve.name),_.getAttribLocation(Ke,ve.name),ve))}Q.profile&&(F.getMaxUniformsCount=function(){var q=0;return Ce.forEach(function(re){re.stats.uniformsCount>q&&(q=re.stats.uniformsCount)}),q},F.getMaxAttributesCount=function(){var q=0;return Ce.forEach(function(re){re.stats.attributesCount>q&&(q=re.stats.attributesCount)}),q});function Ee(){ue={},K={};for(var q=0;q<Ce.length;++q)ye(Ce[q],null,Ce[q].attributes.map(function(re){return[re.location,re.name]}))}return{clear:function(){var q=_.deleteShader.bind(_);or(ue).forEach(q),ue={},or(K).forEach(q),K={},Ce.forEach(function(re){_.deleteProgram(re.program)}),Ce.length=0,we={},F.shaderCount=0},program:function(q,re,Se,$e){P.command(q>=0,"missing vertex shader",Se),P.command(re>=0,"missing fragment shader",Se);var ve=we[re];ve||(ve=we[re]={});var Be=ve[q];if(Be&&(Be.refCount++,!$e))return Be;var Fe=new Le(re,q);return F.shaderCount++,ye(Fe,Se,$e),Be||(ve[q]=Fe),Ce.push(Fe),r(Fe,{destroy:function(){if(Fe.refCount--,Fe.refCount<=0){_.deleteProgram(Fe.program);var Ke=Ce.indexOf(Fe);Ce.splice(Ke,1),F.shaderCount--}ve[Fe.vertId].refCount<=0&&(_.deleteShader(K[Fe.vertId]),delete K[Fe.vertId],delete we[Fe.fragId][Fe.vertId]),Object.keys(we[Fe.fragId]).length||(_.deleteShader(ue[Fe.fragId]),delete ue[Fe.fragId],delete we[Fe.fragId])}})},restore:Ee,shader:be,frag:-1,vert:-1}}var sy=6408,so=5121,iy=3333,Ea=5126;function oy(_,C,F,Q,ue,K,se){function _e(Ce){var Te;C.next===null?(P(ue.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Te=so):(P(C.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Te=C.next.colorAttachments[0].texture._texture.type,P.optional(function(){K.oes_texture_float?(P(Te===so||Te===Ea,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Te===Ea&&P(se.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):P(Te===so,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Le=0,ye=0,Ee=Q.framebufferWidth,q=Q.framebufferHeight,re=null;n(Ce)?re=Ce:Ce&&(P.type(Ce,"object","invalid arguments to regl.read()"),Le=Ce.x|0,ye=Ce.y|0,P(Le>=0&&Le<Q.framebufferWidth,"invalid x offset for regl.read"),P(ye>=0&&ye<Q.framebufferHeight,"invalid y offset for regl.read"),Ee=(Ce.width||Q.framebufferWidth-Le)|0,q=(Ce.height||Q.framebufferHeight-ye)|0,re=Ce.data||null),re&&(Te===so?P(re instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Te===Ea&&P(re instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),P(Ee>0&&Ee+Le<=Q.framebufferWidth,"invalid width for read pixels"),P(q>0&&q+ye<=Q.framebufferHeight,"invalid height for read pixels"),F();var Se=Ee*q*4;return re||(Te===so?re=new Uint8Array(Se):Te===Ea&&(re=re||new Float32Array(Se))),P.isTypedArray(re,"data buffer for regl.read() must be a typedarray"),P(re.byteLength>=Se,"data buffer for regl.read() too small"),_.pixelStorei(iy,4),_.readPixels(Le,ye,Ee,q,sy,Te,re),re}function be(Ce){var Te;return C.setFBO({framebuffer:Ce.framebuffer},function(){Te=_e(Ce)}),Te}function we(Ce){return!Ce||!("framebuffer"in Ce)?_e(Ce):be(Ce)}return we}function ui(_){return Array.prototype.slice.call(_)}function di(_){return ui(_).join("")}function ay(){var _=0,C=[],F=[];function Q(Te){for(var Le=0;Le<F.length;++Le)if(F[Le]===Te)return C[Le];var ye="g"+_++;return C.push(ye),F.push(Te),ye}function ue(){var Te=[];function Le(){Te.push.apply(Te,ui(arguments))}var ye=[];function Ee(){var q="v"+_++;return ye.push(q),arguments.length>0&&(Te.push(q,"="),Te.push.apply(Te,ui(arguments)),Te.push(";")),q}return r(Le,{def:Ee,toString:function(){return di([ye.length>0?"var "+ye.join(",")+";":"",di(Te)])}})}function K(){var Te=ue(),Le=ue(),ye=Te.toString,Ee=Le.toString;function q(re,Se){Le(re,Se,"=",Te.def(re,Se),";")}return r(function(){Te.apply(Te,ui(arguments))},{def:Te.def,entry:Te,exit:Le,save:q,set:function(re,Se,$e){q(re,Se),Te(re,Se,"=",$e,";")},toString:function(){return ye()+Ee()}})}function se(){var Te=di(arguments),Le=K(),ye=K(),Ee=Le.toString,q=ye.toString;return r(Le,{then:function(){return Le.apply(Le,ui(arguments)),this},else:function(){return ye.apply(ye,ui(arguments)),this},toString:function(){var re=q();return re&&(re="else{"+re+"}"),di(["if(",Te,"){",Ee(),"}",re])}})}var _e=ue(),be={};function we(Te,Le){var ye=[];function Ee(){var ve="a"+ye.length;return ye.push(ve),ve}Le=Le||0;for(var q=0;q<Le;++q)Ee();var re=K(),Se=re.toString,$e=be[Te]=r(re,{arg:Ee,toString:function(){return di(["function(",ye.join(),"){",Se(),"}"])}});return $e}function Ce(){var Te=['"use strict";',_e,"return {"];Object.keys(be).forEach(function(Ee){Te.push('"',Ee,'":',be[Ee].toString(),",")}),Te.push("}");var Le=di(Te).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ye=Function.apply(null,C.concat(Le));return ye.apply(null,F)}return{global:_e,link:Q,block:ue,proc:we,scope:K,cond:se,compile:Ce}}var hi="xyzw".split(""),L0=5121,mi=1,Xc=2,Wc=0,Yc=1,Zc=2,Kc=3,wa=4,O0=5,R0=6,M0="dither",I0="blend.enable",D0="blend.color",Qc="blend.equation",Jc="blend.func",F0="depth.enable",x0="depth.func",k0="depth.range",G0="depth.mask",ef="colorMask",B0="cull.enable",N0="cull.face",tf="frontFace",nf="lineWidth",$0="polygonOffset.enable",rf="polygonOffset.offset",V0="sample.alpha",U0="sample.enable",sf="sample.coverage",H0="stencil.enable",z0="stencil.mask",of="stencil.func",af="stencil.opFront",io="stencil.opBack",j0="scissor.enable",Ta="scissor.box",Br="viewport",oo="profile",Ls="framebuffer",ao="vert",lo="frag",Os="elements",Rs="primitive",Ms="count",Ca="offset",Pa="instances",co="vao",lf="Width",cf="Height",pi=Ls+lf,gi=Ls+cf,ly=Br+lf,cy=Br+cf,q0="drawingBuffer",X0=q0+lf,W0=q0+cf,fy=[Jc,Qc,of,af,io,sf,Br,Ta,rf],vi=34962,ff=34963,uy=35632,dy=35633,Y0=3553,hy=34067,my=2884,py=3042,gy=3024,vy=2960,by=2929,_y=3089,yy=32823,Ay=32926,Sy=32928,uf=5126,La=35664,Oa=35665,Ra=35666,df=5124,Ma=35667,Ia=35668,Da=35669,hf=35670,Fa=35671,xa=35672,ka=35673,fo=35674,uo=35675,ho=35676,mo=35678,po=35680,mf=4,go=1028,Is=1029,Z0=2304,pf=2305,Ey=32775,wy=32776,Ty=519,ns=7680,K0=0,Q0=1,J0=32774,Cy=513,e1=36160,Py=36064,Tr={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},t1=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],bi={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},rs={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},n1={frag:uy,vert:dy},gf={cw:Z0,ccw:pf};function Ga(_){return Array.isArray(_)||n(_)||_r(_)}function r1(_){return _.sort(function(C,F){return C===Br?-1:F===Br?1:C<F?-1:1})}function Tn(_,C,F,Q){this.thisDep=_,this.contextDep=C,this.propDep=F,this.append=Q}function ss(_){return _&&!(_.thisDep||_.contextDep||_.propDep)}function mn(_){return new Tn(!1,!1,!1,_)}function er(_,C){var F=_.type;if(F===Wc){var Q=_.data.length;return new Tn(!0,Q>=1,Q>=2,C)}else if(F===wa){var ue=_.data;return new Tn(ue.thisDep,ue.contextDep,ue.propDep,C)}else{if(F===O0)return new Tn(!1,!1,!1,C);if(F===R0){for(var K=!1,se=!1,_e=!1,be=0;be<_.data.length;++be){var we=_.data[be];if(we.type===Yc)_e=!0;else if(we.type===Zc)se=!0;else if(we.type===Kc)K=!0;else if(we.type===Wc){K=!0;var Ce=we.data;Ce>=1&&(se=!0),Ce>=2&&(_e=!0)}else we.type===wa&&(K=K||we.data.thisDep,se=se||we.data.contextDep,_e=_e||we.data.propDep)}return new Tn(K,se,_e,C)}else return new Tn(F===Kc,F===Zc,F===Yc,C)}}var s1=new Tn(!1,!1,!1,function(){});function Ly(_,C,F,Q,ue,K,se,_e,be,we,Ce,Te,Le,ye,Ee){var q=we.Record,re={add:32774,subtract:32778,"reverse subtract":32779};F.ext_blend_minmax&&(re.min=Ey,re.max=wy);var Se=F.angle_instanced_arrays,$e=F.webgl_draw_buffers,ve=F.oes_vertex_array_object,Be={dirty:!0,profile:Ee.profile},Fe={},Ke=[],me={},fe={};function ze(L){return L.replace(".","_")}function Oe(L,T,x){var j=ze(L);Ke.push(L),Fe[j]=Be[j]=!!x,me[j]=T}function Ae(L,T,x){var j=ze(L);Ke.push(L),Array.isArray(x)?(Be[j]=x.slice(),Fe[j]=x.slice()):Be[j]=Fe[j]=x,fe[j]=T}Oe(M0,gy),Oe(I0,py),Ae(D0,"blendColor",[0,0,0,0]),Ae(Qc,"blendEquationSeparate",[J0,J0]),Ae(Jc,"blendFuncSeparate",[Q0,K0,Q0,K0]),Oe(F0,by,!0),Ae(x0,"depthFunc",Cy),Ae(k0,"depthRange",[0,1]),Ae(G0,"depthMask",!0),Ae(ef,ef,[!0,!0,!0,!0]),Oe(B0,my),Ae(N0,"cullFace",Is),Ae(tf,tf,pf),Ae(nf,nf,1),Oe($0,yy),Ae(rf,"polygonOffset",[0,0]),Oe(V0,Ay),Oe(U0,Sy),Ae(sf,"sampleCoverage",[1,!1]),Oe(H0,vy),Ae(z0,"stencilMask",-1),Ae(of,"stencilFunc",[Ty,0,-1]),Ae(af,"stencilOpSeparate",[go,ns,ns,ns]),Ae(io,"stencilOpSeparate",[Is,ns,ns,ns]),Oe(j0,_y),Ae(Ta,"scissor",[0,0,_.drawingBufferWidth,_.drawingBufferHeight]),Ae(Br,Br,[0,0,_.drawingBufferWidth,_.drawingBufferHeight]);var Re={gl:_,context:Le,strings:C,next:Fe,current:Be,draw:Te,elements:K,buffer:ue,shader:Ce,attributes:we.state,vao:we,uniforms:be,framebuffer:_e,extensions:F,timer:ye,isBufferArgs:Ga},Ie={primTypes:es,compareFuncs:bi,blendFuncs:Tr,blendEquations:re,stencilOps:rs,glTypes:Es,orientationType:gf};P.optional(function(){Re.isArrayLike=Kt}),$e&&(Ie.backBuffer=[Is],Ie.drawBuffer=qn(Q.maxDrawbuffers,function(L){return L===0?[0]:qn(L,function(T){return Py+T})}));var ft=0;function at(){var L=ay(),T=L.link,x=L.global;L.id=ft++,L.batchId="0";var j=T(Re),X=L.shared={props:"a0"};Object.keys(Re).forEach(function(D){X[D]=x.def(j,".",D)}),P.optional(function(){L.CHECK=T(P),L.commandStr=P.guessCommand(),L.command=T(L.commandStr),L.assert=function(D,M,Y){D("if(!(",M,"))",this.CHECK,".commandRaise(",T(Y),",",this.command,");")},Ie.invalidBlendCombinations=t1});var B=L.next={},G=L.current={};Object.keys(fe).forEach(function(D){Array.isArray(Be[D])&&(B[D]=x.def(X.next,".",D),G[D]=x.def(X.current,".",D))});var U=L.constants={};Object.keys(Ie).forEach(function(D){U[D]=x.def(JSON.stringify(Ie[D]))}),L.invoke=function(D,M){switch(M.type){case Wc:var Y=["this",X.context,X.props,L.batchId];return D.def(T(M.data),".call(",Y.slice(0,Math.max(M.data.length+1,4)),")");case Yc:return D.def(X.props,M.data);case Zc:return D.def(X.context,M.data);case Kc:return D.def("this",M.data);case wa:return M.data.append(L,D),M.data.ref;case O0:return M.data.toString();case R0:return M.data.map(function(W){return L.invoke(D,W)})}},L.attribCache={};var R={};return L.scopeAttrib=function(D){var M=C.id(D);if(M in R)return R[M];var Y=we.scope[M];Y||(Y=we.scope[M]=new q);var W=R[M]=T(Y);return W},L}function xe(L){var T=L.static,x=L.dynamic,j;if(oo in T){var X=!!T[oo];j=mn(function(G,U){return X}),j.enable=X}else if(oo in x){var B=x[oo];j=er(B,function(G,U){return G.invoke(U,B)})}return j}function Ne(L,T){var x=L.static,j=L.dynamic;if(Ls in x){var X=x[Ls];return X?(X=_e.getFramebuffer(X),P.command(X,"invalid framebuffer object"),mn(function(G,U){var R=G.link(X),D=G.shared;U.set(D.framebuffer,".next",R);var M=D.context;return U.set(M,"."+pi,R+".width"),U.set(M,"."+gi,R+".height"),R})):mn(function(G,U){var R=G.shared;U.set(R.framebuffer,".next","null");var D=R.context;return U.set(D,"."+pi,D+"."+X0),U.set(D,"."+gi,D+"."+W0),"null"})}else if(Ls in j){var B=j[Ls];return er(B,function(G,U){var R=G.invoke(U,B),D=G.shared,M=D.framebuffer,Y=U.def(M,".getFramebuffer(",R,")");P.optional(function(){G.assert(U,"!"+R+"||"+Y,"invalid framebuffer object")}),U.set(M,".next",Y);var W=D.context;return U.set(W,"."+pi,Y+"?"+Y+".width:"+W+"."+X0),U.set(W,"."+gi,Y+"?"+Y+".height:"+W+"."+W0),Y})}else return null}function Je(L,T,x){var j=L.static,X=L.dynamic;function B(R){if(R in j){var D=j[R];P.commandType(D,"object","invalid "+R,x.commandStr);var M=!0,Y=D.x|0,W=D.y|0,ce,pe;return"width"in D?(ce=D.width|0,P.command(ce>=0,"invalid "+R,x.commandStr)):M=!1,"height"in D?(pe=D.height|0,P.command(pe>=0,"invalid "+R,x.commandStr)):M=!1,new Tn(!M&&T&&T.thisDep,!M&&T&&T.contextDep,!M&&T&&T.propDep,function(Ze,Ue){var ge=Ze.shared.context,ae=ce;"width"in D||(ae=Ue.def(ge,".",pi,"-",Y));var We=pe;return"height"in D||(We=Ue.def(ge,".",gi,"-",W)),[Y,W,ae,We]})}else if(R in X){var Pe=X[R],tt=er(Pe,function(Ze,Ue){var ge=Ze.invoke(Ue,Pe);P.optional(function(){Ze.assert(Ue,ge+"&&typeof "+ge+'==="object"',"invalid "+R)});var ae=Ze.shared.context,We=Ue.def(ge,".x|0"),qe=Ue.def(ge,".y|0"),et=Ue.def('"width" in ',ge,"?",ge,".width|0:","(",ae,".",pi,"-",We,")"),Ft=Ue.def('"height" in ',ge,"?",ge,".height|0:","(",ae,".",gi,"-",qe,")");return P.optional(function(){Ze.assert(Ue,et+">=0&&"+Ft+">=0","invalid "+R)}),[We,qe,et,Ft]});return T&&(tt.thisDep=tt.thisDep||T.thisDep,tt.contextDep=tt.contextDep||T.contextDep,tt.propDep=tt.propDep||T.propDep),tt}else return T?new Tn(T.thisDep,T.contextDep,T.propDep,function(Ze,Ue){var ge=Ze.shared.context;return[0,0,Ue.def(ge,".",pi),Ue.def(ge,".",gi)]}):null}var G=B(Br);if(G){var U=G;G=new Tn(G.thisDep,G.contextDep,G.propDep,function(R,D){var M=U.append(R,D),Y=R.shared.context;return D.set(Y,"."+ly,M[2]),D.set(Y,"."+cy,M[3]),M})}return{viewport:G,scissor_box:B(Ta)}}function ut(L,T){var x=L.static,j=typeof x[lo]=="string"&&typeof x[ao]=="string";if(j){if(Object.keys(T.dynamic).length>0)return null;var X=T.static,B=Object.keys(X);if(B.length>0&&typeof X[B[0]]=="number"){for(var G=[],U=0;U<B.length;++U)P(typeof X[B[U]]=="number","must specify all vertex attribute locations when using vaos"),G.push([X[B[U]]|0,B[U]]);return G}}return null}function vt(L,T,x){var j=L.static,X=L.dynamic;function B(M){if(M in j){var Y=C.id(j[M]);P.optional(function(){Ce.shader(n1[M],Y,P.guessCommand())});var W=mn(function(){return Y});return W.id=Y,W}else if(M in X){var ce=X[M];return er(ce,function(pe,Pe){var tt=pe.invoke(Pe,ce),Ze=Pe.def(pe.shared.strings,".id(",tt,")");return P.optional(function(){Pe(pe.shared.shader,".shader(",n1[M],",",Ze,",",pe.command,");")}),Ze})}return null}var G=B(lo),U=B(ao),R=null,D;return ss(G)&&ss(U)?(R=Ce.program(U.id,G.id,null,x),D=mn(function(M,Y){return M.link(R)})):D=new Tn(G&&G.thisDep||U&&U.thisDep,G&&G.contextDep||U&&U.contextDep,G&&G.propDep||U&&U.propDep,function(M,Y){var W=M.shared.shader,ce;G?ce=G.append(M,Y):ce=Y.def(W,".",lo);var pe;U?pe=U.append(M,Y):pe=Y.def(W,".",ao);var Pe=W+".program("+pe+","+ce;return P.optional(function(){Pe+=","+M.command}),Y.def(Pe+")")}),{frag:G,vert:U,progVar:D,program:R}}function Qt(L,T){var x=L.static,j=L.dynamic,X={},B=!1;function G(){if(co in x){var Ue=x[co];return Ue!==null&&we.getVAO(Ue)===null&&(Ue=we.createVAO(Ue)),B=!0,X.vao=Ue,mn(function(ae){var We=we.getVAO(Ue);return We?ae.link(We):"null"})}else if(co in j){B=!0;var ge=j[co];return er(ge,function(ae,We){var qe=ae.invoke(We,ge);return We.def(ae.shared.vao+".getVAO("+qe+")")})}return null}var U=G(),R=!1;function D(){if(Os in x){var Ue=x[Os];if(X.elements=Ue,Ga(Ue)){var ge=X.elements=K.create(Ue,!0);Ue=K.getElements(ge),R=!0}else Ue&&(Ue=K.getElements(Ue),R=!0,P.command(Ue,"invalid elements",T.commandStr));var ae=mn(function(qe,et){if(Ue){var Ft=qe.link(Ue);return qe.ELEMENTS=Ft,Ft}return qe.ELEMENTS=null,null});return ae.value=Ue,ae}else if(Os in j){R=!0;var We=j[Os];return er(We,function(qe,et){var Ft=qe.shared,kn=Ft.isBufferArgs,Fs=Ft.elements,Nr=qe.invoke(et,We),Pr=et.def("null"),is=et.def(kn,"(",Nr,")"),xs=qe.cond(is).then(Pr,"=",Fs,".createStream(",Nr,");").else(Pr,"=",Fs,".getElements(",Nr,");");return P.optional(function(){qe.assert(xs.else,"!"+Nr+"||"+Pr,"invalid elements")}),et.entry(xs),et.exit(qe.cond(is).then(Fs,".destroyStream(",Pr,");")),qe.ELEMENTS=Pr,Pr})}else if(B)return new Tn(U.thisDep,U.contextDep,U.propDep,function(qe,et){return et.def(qe.shared.vao+".currentVAO?"+qe.shared.elements+".getElements("+qe.shared.vao+".currentVAO.elements):null")});return null}var M=D();function Y(){if(Rs in x){var Ue=x[Rs];return X.primitive=Ue,P.commandParameter(Ue,es,"invalid primitve",T.commandStr),mn(function(ae,We){return es[Ue]})}else if(Rs in j){var ge=j[Rs];return er(ge,function(ae,We){var qe=ae.constants.primTypes,et=ae.invoke(We,ge);return P.optional(function(){ae.assert(We,et+" in "+qe,"invalid primitive, must be one of "+Object.keys(es))}),We.def(qe,"[",et,"]")})}else{if(R)return ss(M)?M.value?mn(function(ae,We){return We.def(ae.ELEMENTS,".primType")}):mn(function(){return mf}):new Tn(M.thisDep,M.contextDep,M.propDep,function(ae,We){var qe=ae.ELEMENTS;return We.def(qe,"?",qe,".primType:",mf)});if(B)return new Tn(U.thisDep,U.contextDep,U.propDep,function(ae,We){return We.def(ae.shared.vao+".currentVAO?"+ae.shared.vao+".currentVAO.primitive:"+mf)})}return null}function W(Ue,ge){if(Ue in x){var ae=x[Ue]|0;return ge?X.offset=ae:X.instances=ae,P.command(!ge||ae>=0,"invalid "+Ue,T.commandStr),mn(function(qe,et){return ge&&(qe.OFFSET=ae),ae})}else if(Ue in j){var We=j[Ue];return er(We,function(qe,et){var Ft=qe.invoke(et,We);return ge&&(qe.OFFSET=Ft,P.optional(function(){qe.assert(et,Ft+">=0","invalid "+Ue)})),Ft})}else if(ge){if(R)return mn(function(qe,et){return qe.OFFSET=0,0});if(B)return new Tn(U.thisDep,U.contextDep,U.propDep,function(qe,et){return et.def(qe.shared.vao+".currentVAO?"+qe.shared.vao+".currentVAO.offset:0")})}else if(B)return new Tn(U.thisDep,U.contextDep,U.propDep,function(qe,et){return et.def(qe.shared.vao+".currentVAO?"+qe.shared.vao+".currentVAO.instances:-1")});return null}var ce=W(Ca,!0);function pe(){if(Ms in x){var Ue=x[Ms]|0;return X.count=Ue,P.command(typeof Ue=="number"&&Ue>=0,"invalid vertex count",T.commandStr),mn(function(){return Ue})}else if(Ms in j){var ge=j[Ms];return er(ge,function(et,Ft){var kn=et.invoke(Ft,ge);return P.optional(function(){et.assert(Ft,"typeof "+kn+'==="number"&&'+kn+">=0&&"+kn+"===("+kn+"|0)","invalid vertex count")}),kn})}else if(R)if(ss(M)){if(M)return ce?new Tn(ce.thisDep,ce.contextDep,ce.propDep,function(et,Ft){var kn=Ft.def(et.ELEMENTS,".vertCount-",et.OFFSET);return P.optional(function(){et.assert(Ft,kn+">=0","invalid vertex offset/element buffer too small")}),kn}):mn(function(et,Ft){return Ft.def(et.ELEMENTS,".vertCount")});var ae=mn(function(){return-1});return P.optional(function(){ae.MISSING=!0}),ae}else{var We=new Tn(M.thisDep||ce.thisDep,M.contextDep||ce.contextDep,M.propDep||ce.propDep,function(et,Ft){var kn=et.ELEMENTS;return et.OFFSET?Ft.def(kn,"?",kn,".vertCount-",et.OFFSET,":-1"):Ft.def(kn,"?",kn,".vertCount:-1")});return P.optional(function(){We.DYNAMIC=!0}),We}else if(B){var qe=new Tn(U.thisDep,U.contextDep,U.propDep,function(et,Ft){return Ft.def(et.shared.vao,".currentVAO?",et.shared.vao,".currentVAO.count:-1")});return qe}return null}var Pe=Y(),tt=pe(),Ze=W(Pa,!1);return{elements:M,primitive:Pe,count:tt,instances:Ze,offset:ce,vao:U,vaoActive:B,elementsActive:R,static:X}}function Jt(L,T){var x=L.static,j=L.dynamic,X={};return Ke.forEach(function(B){var G=ze(B);function U(R,D){if(B in x){var M=R(x[B]);X[G]=mn(function(){return M})}else if(B in j){var Y=j[B];X[G]=er(Y,function(W,ce){return D(W,ce,W.invoke(ce,Y))})}}switch(B){case B0:case I0:case M0:case H0:case F0:case j0:case $0:case V0:case U0:case G0:return U(function(R){return P.commandType(R,"boolean",B,T.commandStr),R},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="boolean"',"invalid flag "+B,R.commandStr)}),M});case x0:return U(function(R){return P.commandParameter(R,bi,"invalid "+B,T.commandStr),bi[R]},function(R,D,M){var Y=R.constants.compareFuncs;return P.optional(function(){R.assert(D,M+" in "+Y,"invalid "+B+", must be one of "+Object.keys(bi))}),D.def(Y,"[",M,"]")});case k0:return U(function(R){return P.command(Kt(R)&&R.length===2&&typeof R[0]=="number"&&typeof R[1]=="number"&&R[0]<=R[1],"depth range is 2d array",T.commandStr),R},function(R,D,M){P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===2&&typeof "+M+'[0]==="number"&&typeof '+M+'[1]==="number"&&'+M+"[0]<="+M+"[1]","depth range must be a 2d array")});var Y=D.def("+",M,"[0]"),W=D.def("+",M,"[1]");return[Y,W]});case Jc:return U(function(R){P.commandType(R,"object","blend.func",T.commandStr);var D="srcRGB"in R?R.srcRGB:R.src,M="srcAlpha"in R?R.srcAlpha:R.src,Y="dstRGB"in R?R.dstRGB:R.dst,W="dstAlpha"in R?R.dstAlpha:R.dst;return P.commandParameter(D,Tr,G+".srcRGB",T.commandStr),P.commandParameter(M,Tr,G+".srcAlpha",T.commandStr),P.commandParameter(Y,Tr,G+".dstRGB",T.commandStr),P.commandParameter(W,Tr,G+".dstAlpha",T.commandStr),P.command(t1.indexOf(D+", "+Y)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+D+", "+Y+")",T.commandStr),[Tr[D],Tr[Y],Tr[M],Tr[W]]},function(R,D,M){var Y=R.constants.blendFuncs;P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid blend func, must be an object")});function W(ge,ae){var We=D.def('"',ge,ae,'" in ',M,"?",M,".",ge,ae,":",M,".",ge);return P.optional(function(){R.assert(D,We+" in "+Y,"invalid "+B+"."+ge+ae+", must be one of "+Object.keys(Tr))}),We}var ce=W("src","RGB"),pe=W("dst","RGB");P.optional(function(){var ge=R.constants.invalidBlendCombinations;R.assert(D,ge+".indexOf("+ce+'+", "+'+pe+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Pe=D.def(Y,"[",ce,"]"),tt=D.def(Y,"[",W("src","Alpha"),"]"),Ze=D.def(Y,"[",pe,"]"),Ue=D.def(Y,"[",W("dst","Alpha"),"]");return[Pe,Ze,tt,Ue]});case Qc:return U(function(R){if(typeof R=="string")return P.commandParameter(R,re,"invalid "+B,T.commandStr),[re[R],re[R]];if(typeof R=="object")return P.commandParameter(R.rgb,re,B+".rgb",T.commandStr),P.commandParameter(R.alpha,re,B+".alpha",T.commandStr),[re[R.rgb],re[R.alpha]];P.commandRaise("invalid blend.equation",T.commandStr)},function(R,D,M){var Y=R.constants.blendEquations,W=D.def(),ce=D.def(),pe=R.cond("typeof ",M,'==="string"');return P.optional(function(){function Pe(tt,Ze,Ue){R.assert(tt,Ue+" in "+Y,"invalid "+Ze+", must be one of "+Object.keys(re))}Pe(pe.then,B,M),R.assert(pe.else,M+"&&typeof "+M+'==="object"',"invalid "+B),Pe(pe.else,B+".rgb",M+".rgb"),Pe(pe.else,B+".alpha",M+".alpha")}),pe.then(W,"=",ce,"=",Y,"[",M,"];"),pe.else(W,"=",Y,"[",M,".rgb];",ce,"=",Y,"[",M,".alpha];"),D(pe),[W,ce]});case D0:return U(function(R){return P.command(Kt(R)&&R.length===4,"blend.color must be a 4d array",T.commandStr),qn(4,function(D){return+R[D]})},function(R,D,M){return P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===4","blend.color must be a 4d array")}),qn(4,function(Y){return D.def("+",M,"[",Y,"]")})});case z0:return U(function(R){return P.commandType(R,"number",G,T.commandStr),R|0},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="number"',"invalid stencil.mask")}),D.def(M,"|0")});case of:return U(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.cmp||"keep",M=R.ref||0,Y="mask"in R?R.mask:-1;return P.commandParameter(D,bi,B+".cmp",T.commandStr),P.commandType(M,"number",B+".ref",T.commandStr),P.commandType(Y,"number",B+".mask",T.commandStr),[bi[D],M,Y]},function(R,D,M){var Y=R.constants.compareFuncs;P.optional(function(){function Pe(){R.assert(D,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Pe(M+"&&typeof ",M,'==="object"'),Pe('!("cmp" in ',M,")||(",M,".cmp in ",Y,")")});var W=D.def('"cmp" in ',M,"?",Y,"[",M,".cmp]",":",ns),ce=D.def(M,".ref|0"),pe=D.def('"mask" in ',M,"?",M,".mask|0:-1");return[W,ce,pe]});case af:case io:return U(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.fail||"keep",M=R.zfail||"keep",Y=R.zpass||"keep";return P.commandParameter(D,rs,B+".fail",T.commandStr),P.commandParameter(M,rs,B+".zfail",T.commandStr),P.commandParameter(Y,rs,B+".zpass",T.commandStr),[B===io?Is:go,rs[D],rs[M],rs[Y]]},function(R,D,M){var Y=R.constants.stencilOps;P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid "+B)});function W(ce){return P.optional(function(){R.assert(D,'!("'+ce+'" in '+M+")||("+M+"."+ce+" in "+Y+")","invalid "+B+"."+ce+", must be one of "+Object.keys(rs))}),D.def('"',ce,'" in ',M,"?",Y,"[",M,".",ce,"]:",ns)}return[B===io?Is:go,W("fail"),W("zfail"),W("zpass")]});case rf:return U(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.factor|0,M=R.units|0;return P.commandType(D,"number",G+".factor",T.commandStr),P.commandType(M,"number",G+".units",T.commandStr),[D,M]},function(R,D,M){P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid "+B)});var Y=D.def(M,".factor|0"),W=D.def(M,".units|0");return[Y,W]});case N0:return U(function(R){var D=0;return R==="front"?D=go:R==="back"&&(D=Is),P.command(!!D,G,T.commandStr),D},function(R,D,M){return P.optional(function(){R.assert(D,M+'==="front"||'+M+'==="back"',"invalid cull.face")}),D.def(M,'==="front"?',go,":",Is)});case nf:return U(function(R){return P.command(typeof R=="number"&&R>=Q.lineWidthDims[0]&&R<=Q.lineWidthDims[1],"invalid line width, must be a positive number between "+Q.lineWidthDims[0]+" and "+Q.lineWidthDims[1],T.commandStr),R},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="number"&&'+M+">="+Q.lineWidthDims[0]+"&&"+M+"<="+Q.lineWidthDims[1],"invalid line width")}),M});case tf:return U(function(R){return P.commandParameter(R,gf,G,T.commandStr),gf[R]},function(R,D,M){return P.optional(function(){R.assert(D,M+'==="cw"||'+M+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),D.def(M+'==="cw"?'+Z0+":"+pf)});case ef:return U(function(R){return P.command(Kt(R)&&R.length===4,"color.mask must be length 4 array",T.commandStr),R.map(function(D){return!!D})},function(R,D,M){return P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===4","invalid color.mask")}),qn(4,function(Y){return"!!"+M+"["+Y+"]"})});case sf:return U(function(R){P.command(typeof R=="object"&&R,G,T.commandStr);var D="value"in R?R.value:1,M=!!R.invert;return P.command(typeof D=="number"&&D>=0&&D<=1,"sample.coverage.value must be a number between 0 and 1",T.commandStr),[D,M]},function(R,D,M){P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid sample.coverage")});var Y=D.def('"value" in ',M,"?+",M,".value:1"),W=D.def("!!",M,".invert");return[Y,W]})}}),X}function yt(L,T){var x=L.static,j=L.dynamic,X={};return Object.keys(x).forEach(function(B){var G=x[B],U;if(typeof G=="number"||typeof G=="boolean")U=mn(function(){return G});else if(typeof G=="function"){var R=G._reglType;R==="texture2d"||R==="textureCube"?U=mn(function(D){return D.link(G)}):R==="framebuffer"||R==="framebufferCube"?(P.command(G.color.length>0,'missing color attachment for framebuffer sent to uniform "'+B+'"',T.commandStr),U=mn(function(D){return D.link(G.color[0])})):P.commandRaise('invalid data for uniform "'+B+'"',T.commandStr)}else Kt(G)?U=mn(function(D){var M=D.global.def("[",qn(G.length,function(Y){return P.command(typeof G[Y]=="number"||typeof G[Y]=="boolean","invalid uniform "+B,D.commandStr),G[Y]}),"]");return M}):P.commandRaise('invalid or missing data for uniform "'+B+'"',T.commandStr);U.value=G,X[B]=U}),Object.keys(j).forEach(function(B){var G=j[B];X[B]=er(G,function(U,R){return U.invoke(R,G)})}),X}function bn(L,T){var x=L.static,j=L.dynamic,X={};return Object.keys(x).forEach(function(B){var G=x[B],U=C.id(B),R=new q;if(Ga(G))R.state=mi,R.buffer=ue.getBuffer(ue.create(G,vi,!1,!0)),R.type=0;else{var D=ue.getBuffer(G);if(D)R.state=mi,R.buffer=D,R.type=0;else if(P.command(typeof G=="object"&&G,"invalid data for attribute "+B,T.commandStr),"constant"in G){var M=G.constant;R.buffer="null",R.state=Xc,typeof M=="number"?R.x=M:(P.command(Kt(M)&&M.length>0&&M.length<=4,"invalid constant for attribute "+B,T.commandStr),hi.forEach(function(Ze,Ue){Ue<M.length&&(R[Ze]=M[Ue])}))}else{Ga(G.buffer)?D=ue.getBuffer(ue.create(G.buffer,vi,!1,!0)):D=ue.getBuffer(G.buffer),P.command(!!D,'missing buffer for attribute "'+B+'"',T.commandStr);var Y=G.offset|0;P.command(Y>=0,'invalid offset for attribute "'+B+'"',T.commandStr);var W=G.stride|0;P.command(W>=0&&W<256,'invalid stride for attribute "'+B+'", must be integer betweeen [0, 255]',T.commandStr);var ce=G.size|0;P.command(!("size"in G)||ce>0&&ce<=4,'invalid size for attribute "'+B+'", must be 1,2,3,4',T.commandStr);var pe=!!G.normalized,Pe=0;"type"in G&&(P.commandParameter(G.type,Es,"invalid type for attribute "+B,T.commandStr),Pe=Es[G.type]);var tt=G.divisor|0;P.optional(function(){"divisor"in G&&(P.command(tt===0||Se,'cannot specify divisor for attribute "'+B+'", instancing not supported',T.commandStr),P.command(tt>=0,'invalid divisor for attribute "'+B+'"',T.commandStr));var Ze=T.commandStr,Ue=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(G).forEach(function(ge){P.command(Ue.indexOf(ge)>=0,'unknown parameter "'+ge+'" for attribute pointer "'+B+'" (valid parameters are '+Ue+")",Ze)})}),R.buffer=D,R.state=mi,R.size=ce,R.normalized=pe,R.type=Pe||D.dtype,R.offset=Y,R.stride=W,R.divisor=tt}}X[B]=mn(function(Ze,Ue){var ge=Ze.attribCache;if(U in ge)return ge[U];var ae={isStream:!1};return Object.keys(R).forEach(function(We){ae[We]=R[We]}),R.buffer&&(ae.buffer=Ze.link(R.buffer),ae.type=ae.type||ae.buffer+".dtype"),ge[U]=ae,ae})}),Object.keys(j).forEach(function(B){var G=j[B];function U(R,D){var M=R.invoke(D,G),Y=R.shared,W=R.constants,ce=Y.isBufferArgs,pe=Y.buffer;P.optional(function(){R.assert(D,M+"&&(typeof "+M+'==="object"||typeof '+M+'==="function")&&('+ce+"("+M+")||"+pe+".getBuffer("+M+")||"+pe+".getBuffer("+M+".buffer)||"+ce+"("+M+'.buffer)||("constant" in '+M+"&&(typeof "+M+'.constant==="number"||'+Y.isArrayLike+"("+M+".constant))))",'invalid dynamic attribute "'+B+'"')});var Pe={isStream:D.def(!1)},tt=new q;tt.state=mi,Object.keys(tt).forEach(function(ae){Pe[ae]=D.def(""+tt[ae])});var Ze=Pe.buffer,Ue=Pe.type;D("if(",ce,"(",M,")){",Pe.isStream,"=true;",Ze,"=",pe,".createStream(",vi,",",M,");",Ue,"=",Ze,".dtype;","}else{",Ze,"=",pe,".getBuffer(",M,");","if(",Ze,"){",Ue,"=",Ze,".dtype;",'}else if("constant" in ',M,"){",Pe.state,"=",Xc,";","if(typeof "+M+'.constant === "number"){',Pe[hi[0]],"=",M,".constant;",hi.slice(1).map(function(ae){return Pe[ae]}).join("="),"=0;","}else{",hi.map(function(ae,We){return Pe[ae]+"="+M+".constant.length>"+We+"?"+M+".constant["+We+"]:0;"}).join(""),"}}else{","if(",ce,"(",M,".buffer)){",Ze,"=",pe,".createStream(",vi,",",M,".buffer);","}else{",Ze,"=",pe,".getBuffer(",M,".buffer);","}",Ue,'="type" in ',M,"?",W.glTypes,"[",M,".type]:",Ze,".dtype;",Pe.normalized,"=!!",M,".normalized;");function ge(ae){D(Pe[ae],"=",M,".",ae,"|0;")}return ge("size"),ge("offset"),ge("stride"),ge("divisor"),D("}}"),D.exit("if(",Pe.isStream,"){",pe,".destroyStream(",Ze,");","}"),Pe}X[B]=er(G,U)}),X}function Ht(L){var T=L.static,x=L.dynamic,j={};return Object.keys(T).forEach(function(X){var B=T[X];j[X]=mn(function(G,U){return typeof B=="number"||typeof B=="boolean"?""+B:G.link(B)})}),Object.keys(x).forEach(function(X){var B=x[X];j[X]=er(B,function(G,U){return G.invoke(U,B)})}),j}function pn(L,T,x,j,X){var B=L.static,G=L.dynamic;P.optional(function(){var ge=[Ls,ao,lo,Os,Rs,Ca,Ms,Pa,oo,co].concat(Ke);function ae(We){Object.keys(We).forEach(function(qe){P.command(ge.indexOf(qe)>=0,'unknown parameter "'+qe+'"',X.commandStr)})}ae(B),ae(G)});var U=ut(L,T),R=Ne(L),D=Je(L,R,X),M=Qt(L,X),Y=Jt(L,X),W=vt(L,X,U);function ce(ge){var ae=D[ge];ae&&(Y[ge]=ae)}ce(Br),ce(ze(Ta));var pe=Object.keys(Y).length>0,Pe={framebuffer:R,draw:M,shader:W,state:Y,dirty:pe,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Pe.profile=xe(L),Pe.uniforms=yt(x,X),Pe.drawVAO=Pe.scopeVAO=M.vao,!Pe.drawVAO&&W.program&&!U&&F.angle_instanced_arrays&&M.static.elements){var tt=!0,Ze=W.program.attributes.map(function(ge){var ae=T.static[ge];return tt=tt&&!!ae,ae});if(tt&&Ze.length>0){var Ue=we.getVAO(we.createVAO({attributes:Ze,elements:M.static.elements}));Pe.drawVAO=new Tn(null,null,null,function(ge,ae){return ge.link(Ue)}),Pe.useVAO=!0}}return U?Pe.useVAO=!0:Pe.attributes=bn(T,X),Pe.context=Ht(j),Pe}function _n(L,T,x){var j=L.shared,X=j.context,B=L.scope();Object.keys(x).forEach(function(G){T.save(X,"."+G);var U=x[G],R=U.append(L,T);Array.isArray(R)?B(X,".",G,"=[",R.join(),"];"):B(X,".",G,"=",R,";")}),T(B)}function yn(L,T,x,j){var X=L.shared,B=X.gl,G=X.framebuffer,U;$e&&(U=T.def(X.extensions,".webgl_draw_buffers"));var R=L.constants,D=R.drawBuffer,M=R.backBuffer,Y;x?Y=x.append(L,T):Y=T.def(G,".next"),j||T("if(",Y,"!==",G,".cur){"),T("if(",Y,"){",B,".bindFramebuffer(",e1,",",Y,".framebuffer);"),$e&&T(U,".drawBuffersWEBGL(",D,"[",Y,".colorAttachments.length]);"),T("}else{",B,".bindFramebuffer(",e1,",null);"),$e&&T(U,".drawBuffersWEBGL(",M,");"),T("}",G,".cur=",Y,";"),j||T("}")}function Mn(L,T,x){var j=L.shared,X=j.gl,B=L.current,G=L.next,U=j.current,R=j.next,D=L.cond(U,".dirty");Ke.forEach(function(M){var Y=ze(M);if(!(Y in x.state)){var W,ce;if(Y in G){W=G[Y],ce=B[Y];var pe=qn(Be[Y].length,function(tt){return D.def(W,"[",tt,"]")});D(L.cond(pe.map(function(tt,Ze){return tt+"!=="+ce+"["+Ze+"]"}).join("||")).then(X,".",fe[Y],"(",pe,");",pe.map(function(tt,Ze){return ce+"["+Ze+"]="+tt}).join(";"),";"))}else{W=D.def(R,".",Y);var Pe=L.cond(W,"!==",U,".",Y);D(Pe),Y in me?Pe(L.cond(W).then(X,".enable(",me[Y],");").else(X,".disable(",me[Y],");"),U,".",Y,"=",W,";"):Pe(X,".",fe[Y],"(",W,");",U,".",Y,"=",W,";")}}}),Object.keys(x.state).length===0&&D(U,".dirty=false;"),T(D)}function Fn(L,T,x,j){var X=L.shared,B=L.current,G=X.current,U=X.gl;r1(Object.keys(x)).forEach(function(R){var D=x[R];if(!(j&&!j(D))){var M=D.append(L,T);if(me[R]){var Y=me[R];ss(D)?M?T(U,".enable(",Y,");"):T(U,".disable(",Y,");"):T(L.cond(M).then(U,".enable(",Y,");").else(U,".disable(",Y,");")),T(G,".",R,"=",M,";")}else if(Kt(M)){var W=B[R];T(U,".",fe[R],"(",M,");",M.map(function(ce,pe){return W+"["+pe+"]="+ce}).join(";"),";")}else T(U,".",fe[R],"(",M,");",G,".",R,"=",M,";")}})}function ln(L,T){Se&&(L.instancing=T.def(L.shared.extensions,".angle_instanced_arrays"))}function ht(L,T,x,j,X){var B=L.shared,G=L.stats,U=B.current,R=B.timer,D=x.profile;function M(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Y,W;function ce(ge){Y=T.def(),ge(Y,"=",M(),";"),typeof X=="string"?ge(G,".count+=",X,";"):ge(G,".count++;"),ye&&(j?(W=T.def(),ge(W,"=",R,".getNumPendingQueries();")):ge(R,".beginQuery(",G,");"))}function pe(ge){ge(G,".cpuTime+=",M(),"-",Y,";"),ye&&(j?ge(R,".pushScopeStats(",W,",",R,".getNumPendingQueries(),",G,");"):ge(R,".endQuery();"))}function Pe(ge){var ae=T.def(U,".profile");T(U,".profile=",ge,";"),T.exit(U,".profile=",ae,";")}var tt;if(D){if(ss(D)){D.enable?(ce(T),pe(T.exit),Pe("true")):Pe("false");return}tt=D.append(L,T),Pe(tt)}else tt=T.def(U,".profile");var Ze=L.block();ce(Ze),T("if(",tt,"){",Ze,"}");var Ue=L.block();pe(Ue),T.exit("if(",tt,"){",Ue,"}")}function xn(L,T,x,j,X){var B=L.shared;function G(R){switch(R){case La:case Ma:case Fa:return 2;case Oa:case Ia:case xa:return 3;case Ra:case Da:case ka:return 4;default:return 1}}function U(R,D,M){var Y=B.gl,W=T.def(R,".location"),ce=T.def(B.attributes,"[",W,"]"),pe=M.state,Pe=M.buffer,tt=[M.x,M.y,M.z,M.w],Ze=["buffer","normalized","offset","stride"];function Ue(){T("if(!",ce,".buffer){",Y,".enableVertexAttribArray(",W,");}");var ae=M.type,We;if(M.size?We=T.def(M.size,"||",D):We=D,T("if(",ce,".type!==",ae,"||",ce,".size!==",We,"||",Ze.map(function(et){return ce+"."+et+"!=="+M[et]}).join("||"),"){",Y,".bindBuffer(",vi,",",Pe,".buffer);",Y,".vertexAttribPointer(",[W,We,ae,M.normalized,M.stride,M.offset],");",ce,".type=",ae,";",ce,".size=",We,";",Ze.map(function(et){return ce+"."+et+"="+M[et]+";"}).join(""),"}"),Se){var qe=M.divisor;T("if(",ce,".divisor!==",qe,"){",L.instancing,".vertexAttribDivisorANGLE(",[W,qe],");",ce,".divisor=",qe,";}")}}function ge(){T("if(",ce,".buffer){",Y,".disableVertexAttribArray(",W,");",ce,".buffer=null;","}if(",hi.map(function(ae,We){return ce+"."+ae+"!=="+tt[We]}).join("||"),"){",Y,".vertexAttrib4f(",W,",",tt,");",hi.map(function(ae,We){return ce+"."+ae+"="+tt[We]+";"}).join(""),"}")}pe===mi?Ue():pe===Xc?ge():(T("if(",pe,"===",mi,"){"),Ue(),T("}else{"),ge(),T("}"))}j.forEach(function(R){var D=R.name,M=x.attributes[D],Y;if(M){if(!X(M))return;Y=M.append(L,T)}else{if(!X(s1))return;var W=L.scopeAttrib(D);P.optional(function(){L.assert(T,W+".state","missing attribute "+D)}),Y={},Object.keys(new q).forEach(function(ce){Y[ce]=T.def(W,".",ce)})}U(L.link(R),G(R.info.type),Y)})}function It(L,T,x,j,X,B){for(var G=L.shared,U=G.gl,R={},D,M=0;M<j.length;++M){var Y=j[M],W=Y.name,ce=Y.info.type,pe=Y.info.size,Pe=x.uniforms[W];if(pe>1){if(!Pe)continue;var tt=W.replace("[0]","");if(R[tt])continue;R[tt]=1}var Ze=L.link(Y),Ue=Ze+".location",ge;if(Pe){if(!X(Pe))continue;if(ss(Pe)){var ae=Pe.value;if(P.command(ae!==null&&typeof ae<"u",'missing uniform "'+W+'"',L.commandStr),ce===mo||ce===po){P.command(typeof ae=="function"&&(ce===mo&&(ae._reglType==="texture2d"||ae._reglType==="framebuffer")||ce===po&&(ae._reglType==="textureCube"||ae._reglType==="framebufferCube")),"invalid texture for uniform "+W,L.commandStr);var We=L.link(ae._texture||ae.color[0]._texture);T(U,".uniform1i(",Ue,",",We+".bind());"),T.exit(We,".unbind();")}else if(ce===fo||ce===uo||ce===ho){P.optional(function(){P.command(Kt(ae),"invalid matrix for uniform "+W,L.commandStr),P.command(ce===fo&&ae.length===4||ce===uo&&ae.length===9||ce===ho&&ae.length===16,"invalid length for matrix uniform "+W,L.commandStr)});var qe=L.global.def("new Float32Array(["+Array.prototype.slice.call(ae)+"])"),et=2;ce===uo?et=3:ce===ho&&(et=4),T(U,".uniformMatrix",et,"fv(",Ue,",false,",qe,");")}else{switch(ce){case uf:pe===1?P.commandType(ae,"number","uniform "+W,L.commandStr):P.command(Kt(ae)&&ae.length===pe,"uniform "+W,L.commandStr),D="1f";break;case La:P.command(Kt(ae)&&ae.length&&ae.length%2===0&&ae.length<=pe*2,"uniform "+W,L.commandStr),D="2f";break;case Oa:P.command(Kt(ae)&&ae.length&&ae.length%3===0&&ae.length<=pe*3,"uniform "+W,L.commandStr),D="3f";break;case Ra:P.command(Kt(ae)&&ae.length&&ae.length%4===0&&ae.length<=pe*4,"uniform "+W,L.commandStr),D="4f";break;case hf:pe===1?P.commandType(ae,"boolean","uniform "+W,L.commandStr):P.command(Kt(ae)&&ae.length===pe,"uniform "+W,L.commandStr),D="1i";break;case df:pe===1?P.commandType(ae,"number","uniform "+W,L.commandStr):P.command(Kt(ae)&&ae.length===pe,"uniform "+W,L.commandStr),D="1i";break;case Fa:P.command(Kt(ae)&&ae.length&&ae.length%2===0&&ae.length<=pe*2,"uniform "+W,L.commandStr),D="2i";break;case Ma:P.command(Kt(ae)&&ae.length&&ae.length%2===0&&ae.length<=pe*2,"uniform "+W,L.commandStr),D="2i";break;case xa:P.command(Kt(ae)&&ae.length&&ae.length%3===0&&ae.length<=pe*3,"uniform "+W,L.commandStr),D="3i";break;case Ia:P.command(Kt(ae)&&ae.length&&ae.length%3===0&&ae.length<=pe*3,"uniform "+W,L.commandStr),D="3i";break;case ka:P.command(Kt(ae)&&ae.length&&ae.length%4===0&&ae.length<=pe*4,"uniform "+W,L.commandStr),D="4i";break;case Da:P.command(Kt(ae)&&ae.length&&ae.length%4===0&&ae.length<=pe*4,"uniform "+W,L.commandStr),D="4i";break}pe>1?(D+="v",ae=L.global.def("["+Array.prototype.slice.call(ae)+"]")):ae=Kt(ae)?Array.prototype.slice.call(ae):ae,T(U,".uniform",D,"(",Ue,",",ae,");")}continue}else ge=Pe.append(L,T)}else{if(!X(s1))continue;ge=T.def(G.uniforms,"[",C.id(W),"]")}ce===mo?(P(!Array.isArray(ge),"must specify a scalar prop for textures"),T("if(",ge,"&&",ge,'._reglType==="framebuffer"){',ge,"=",ge,".color[0];","}")):ce===po&&(P(!Array.isArray(ge),"must specify a scalar prop for cube maps"),T("if(",ge,"&&",ge,'._reglType==="framebufferCube"){',ge,"=",ge,".color[0];","}")),P.optional(function(){function ar(tr,Ba){L.assert(T,tr,'bad data or missing for uniform "'+W+'".  '+Ba)}function ks(tr,Ba){Ba===1&&P(!Array.isArray(ge),"must not specify an array type for uniform"),ar("Array.isArray("+ge+") && typeof "+ge+'[0]===" '+tr+'" || typeof '+ge+'==="'+tr+'"',"invalid type, expected "+tr)}function mr(tr,Ba,Na){Array.isArray(ge)?P(ge.length&&ge.length%tr===0&&ge.length<=tr*Na,"must have length of "+(Na===1?"":"n * ")+tr):ar(G.isArrayLike+"("+ge+")&&"+ge+".length && "+ge+".length % "+tr+" === 0 && "+ge+".length<="+tr*Na,"invalid vector, should have length of "+(Na===1?"":"n * ")+tr,L.commandStr)}function u1(tr){P(!Array.isArray(ge),"must not specify a value type"),ar("typeof "+ge+'==="function"&&'+ge+'._reglType==="texture'+(tr===Y0?"2d":"Cube")+'"',"invalid texture type",L.commandStr)}switch(ce){case df:ks("number",pe);break;case Ma:mr(2,"number",pe);break;case Ia:mr(3,"number",pe);break;case Da:mr(4,"number",pe);break;case uf:ks("number",pe);break;case La:mr(2,"number",pe);break;case Oa:mr(3,"number",pe);break;case Ra:mr(4,"number",pe);break;case hf:ks("boolean",pe);break;case Fa:mr(2,"boolean",pe);break;case xa:mr(3,"boolean",pe);break;case ka:mr(4,"boolean",pe);break;case fo:mr(4,"number",pe);break;case uo:mr(9,"number",pe);break;case ho:mr(16,"number",pe);break;case mo:u1(Y0);break;case po:u1(hy);break}});var Ft=1;switch(ce){case mo:case po:var kn=T.def(ge,"._texture");T(U,".uniform1i(",Ue,",",kn,".bind());"),T.exit(kn,".unbind();");continue;case df:case hf:D="1i";break;case Ma:case Fa:D="2i",Ft=2;break;case Ia:case xa:D="3i",Ft=3;break;case Da:case ka:D="4i",Ft=4;break;case uf:D="1f";break;case La:D="2f",Ft=2;break;case Oa:D="3f",Ft=3;break;case Ra:D="4f",Ft=4;break;case fo:D="Matrix2fv";break;case uo:D="Matrix3fv";break;case ho:D="Matrix4fv";break}if(D.indexOf("Matrix")===-1&&pe>1&&(D+="v",Ft=1),D.charAt(0)==="M"){T(U,".uniform",D,"(",Ue,",");var Fs=Math.pow(ce-fo+2,2),Nr=L.global.def("new Float32Array(",Fs,")");Array.isArray(ge)?T("false,(",qn(Fs,function(ar){return Nr+"["+ar+"]="+ge[ar]}),",",Nr,")"):T("false,(Array.isArray(",ge,")||",ge," instanceof Float32Array)?",ge,":(",qn(Fs,function(ar){return Nr+"["+ar+"]="+ge+"["+ar+"]"}),",",Nr,")"),T(");")}else if(Ft>1){for(var Pr=[],is=[],xs=0;xs<Ft;++xs)Array.isArray(ge)?is.push(ge[xs]):is.push(T.def(ge+"["+xs+"]")),B&&Pr.push(T.def());B&&T("if(!",L.batchId,"||",Pr.map(function(ar,ks){return ar+"!=="+is[ks]}).join("||"),"){",Pr.map(function(ar,ks){return ar+"="+is[ks]+";"}).join("")),T(U,".uniform",D,"(",Ue,",",is.join(","),");"),B&&T("}")}else{if(P(!Array.isArray(ge),"uniform value must not be an array"),B){var f1=T.def();T("if(!",L.batchId,"||",f1,"!==",ge,"){",f1,"=",ge,";")}T(U,".uniform",D,"(",Ue,",",ge,");"),B&&T("}")}}}function Qe(L,T,x,j){var X=L.shared,B=X.gl,G=X.draw,U=j.draw;function R(){var We=U.elements,qe,et=T;return We?((We.contextDep&&j.contextDynamic||We.propDep)&&(et=x),qe=We.append(L,et),U.elementsActive&&et("if("+qe+")"+B+".bindBuffer("+ff+","+qe+".buffer.buffer);")):(qe=et.def(),et(qe,"=",G,".",Os,";","if(",qe,"){",B,".bindBuffer(",ff,",",qe,".buffer.buffer);}","else if(",X.vao,".currentVAO){",qe,"=",L.shared.elements+".getElements("+X.vao,".currentVAO.elements);",ve?"":"if("+qe+")"+B+".bindBuffer("+ff+","+qe+".buffer.buffer);","}")),qe}function D(){var We=U.count,qe,et=T;return We?((We.contextDep&&j.contextDynamic||We.propDep)&&(et=x),qe=We.append(L,et),P.optional(function(){We.MISSING&&L.assert(T,"false","missing vertex count"),We.DYNAMIC&&L.assert(et,qe+">=0","missing vertex count")})):(qe=et.def(G,".",Ms),P.optional(function(){L.assert(et,qe+">=0","missing vertex count")})),qe}var M=R();function Y(We){var qe=U[We];return qe?qe.contextDep&&j.contextDynamic||qe.propDep?qe.append(L,x):qe.append(L,T):T.def(G,".",We)}var W=Y(Rs),ce=Y(Ca),pe=D();if(typeof pe=="number"){if(pe===0)return}else x("if(",pe,"){"),x.exit("}");var Pe,tt;Se&&(Pe=Y(Pa),tt=L.instancing);var Ze=M+".type",Ue=U.elements&&ss(U.elements)&&!U.vaoActive;function ge(){function We(){x(tt,".drawElementsInstancedANGLE(",[W,pe,Ze,ce+"<<(("+Ze+"-"+L0+")>>1)",Pe],");")}function qe(){x(tt,".drawArraysInstancedANGLE(",[W,ce,pe,Pe],");")}M&&M!=="null"?Ue?We():(x("if(",M,"){"),We(),x("}else{"),qe(),x("}")):qe()}function ae(){function We(){x(B+".drawElements("+[W,pe,Ze,ce+"<<(("+Ze+"-"+L0+")>>1)"]+");")}function qe(){x(B+".drawArrays("+[W,ce,pe]+");")}M&&M!=="null"?Ue?We():(x("if(",M,"){"),We(),x("}else{"),qe(),x("}")):qe()}Se&&(typeof Pe!="number"||Pe>=0)?typeof Pe=="string"?(x("if(",Pe,">0){"),ge(),x("}else if(",Pe,"<0){"),ae(),x("}")):ge():ae()}function bt(L,T,x,j,X){var B=at(),G=B.proc("body",X);return P.optional(function(){B.commandStr=T.commandStr,B.command=B.link(T.commandStr)}),Se&&(B.instancing=G.def(B.shared.extensions,".angle_instanced_arrays")),L(B,G,x,j),B.compile().body}function Tt(L,T,x,j){ln(L,T),x.useVAO?x.drawVAO?T(L.shared.vao,".setVAO(",x.drawVAO.append(L,T),");"):T(L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"):(T(L.shared.vao,".setVAO(null);"),xn(L,T,x,j.attributes,function(){return!0})),It(L,T,x,j.uniforms,function(){return!0},!1),Qe(L,T,T,x)}function cn(L,T){var x=L.proc("draw",1);ln(L,x),_n(L,x,T.context),yn(L,x,T.framebuffer),Mn(L,x,T),Fn(L,x,T.state),ht(L,x,T,!1,!0);var j=T.shader.progVar.append(L,x);if(x(L.shared.gl,".useProgram(",j,".program);"),T.shader.program)Tt(L,x,T,T.shader.program);else{x(L.shared.vao,".setVAO(null);");var X=L.global.def("{}"),B=x.def(j,".id"),G=x.def(X,"[",B,"]");x(L.cond(G).then(G,".call(this,a0);").else(G,"=",X,"[",B,"]=",L.link(function(U){return bt(Tt,L,T,U,1)}),"(",j,");",G,".call(this,a0);"))}Object.keys(T.state).length>0&&x(L.shared.current,".dirty=true;"),L.shared.vao&&x(L.shared.vao,".setVAO(null);")}function Cr(L,T,x,j){L.batchId="a1",ln(L,T);function X(){return!0}xn(L,T,x,j.attributes,X),It(L,T,x,j.uniforms,X,!1),Qe(L,T,T,x)}function Ds(L,T,x,j){ln(L,T);var X=x.contextDep,B=T.def(),G="a0",U="a1",R=T.def();L.shared.props=R,L.batchId=B;var D=L.scope(),M=L.scope();T(D.entry,"for(",B,"=0;",B,"<",U,";++",B,"){",R,"=",G,"[",B,"];",M,"}",D.exit);function Y(Ze){return Ze.contextDep&&X||Ze.propDep}function W(Ze){return!Y(Ze)}if(x.needsContext&&_n(L,M,x.context),x.needsFramebuffer&&yn(L,M,x.framebuffer),Fn(L,M,x.state,Y),x.profile&&Y(x.profile)&&ht(L,M,x,!1,!0),j)x.useVAO?x.drawVAO?Y(x.drawVAO)?M(L.shared.vao,".setVAO(",x.drawVAO.append(L,M),");"):D(L.shared.vao,".setVAO(",x.drawVAO.append(L,D),");"):D(L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"):(D(L.shared.vao,".setVAO(null);"),xn(L,D,x,j.attributes,W),xn(L,M,x,j.attributes,Y)),It(L,D,x,j.uniforms,W,!1),It(L,M,x,j.uniforms,Y,!0),Qe(L,D,M,x);else{var ce=L.global.def("{}"),pe=x.shader.progVar.append(L,M),Pe=M.def(pe,".id"),tt=M.def(ce,"[",Pe,"]");M(L.shared.gl,".useProgram(",pe,".program);","if(!",tt,"){",tt,"=",ce,"[",Pe,"]=",L.link(function(Ze){return bt(Cr,L,x,Ze,2)}),"(",pe,");}",tt,".call(this,a0[",B,"],",B,");")}}function I(L,T){var x=L.proc("batch",2);L.batchId="0",ln(L,x);var j=!1,X=!0;Object.keys(T.context).forEach(function(ce){j=j||T.context[ce].propDep}),j||(_n(L,x,T.context),X=!1);var B=T.framebuffer,G=!1;B?(B.propDep?j=G=!0:B.contextDep&&j&&(G=!0),G||yn(L,x,B)):yn(L,x,null),T.state.viewport&&T.state.viewport.propDep&&(j=!0);function U(ce){return ce.contextDep&&j||ce.propDep}Mn(L,x,T),Fn(L,x,T.state,function(ce){return!U(ce)}),(!T.profile||!U(T.profile))&&ht(L,x,T,!1,"a1"),T.contextDep=j,T.needsContext=X,T.needsFramebuffer=G;var R=T.shader.progVar;if(R.contextDep&&j||R.propDep)Ds(L,x,T,null);else{var D=R.append(L,x);if(x(L.shared.gl,".useProgram(",D,".program);"),T.shader.program)Ds(L,x,T,T.shader.program);else{x(L.shared.vao,".setVAO(null);");var M=L.global.def("{}"),Y=x.def(D,".id"),W=x.def(M,"[",Y,"]");x(L.cond(W).then(W,".call(this,a0,a1);").else(W,"=",M,"[",Y,"]=",L.link(function(ce){return bt(Ds,L,T,ce,2)}),"(",D,");",W,".call(this,a0,a1);"))}}Object.keys(T.state).length>0&&x(L.shared.current,".dirty=true;"),L.shared.vao&&x(L.shared.vao,".setVAO(null);")}function ee(L,T){var x=L.proc("scope",3);L.batchId="a2";var j=L.shared,X=j.current;_n(L,x,T.context),T.framebuffer&&T.framebuffer.append(L,x),r1(Object.keys(T.state)).forEach(function(G){var U=T.state[G],R=U.append(L,x);Kt(R)?R.forEach(function(D,M){x.set(L.next[G],"["+M+"]",D)}):x.set(j.next,"."+G,R)}),ht(L,x,T,!0,!0),[Os,Ca,Ms,Pa,Rs].forEach(function(G){var U=T.draw[G];U&&x.set(j.draw,"."+G,""+U.append(L,x))}),Object.keys(T.uniforms).forEach(function(G){var U=T.uniforms[G].append(L,x);Array.isArray(U)&&(U="["+U.join()+"]"),x.set(j.uniforms,"["+C.id(G)+"]",U)}),Object.keys(T.attributes).forEach(function(G){var U=T.attributes[G].append(L,x),R=L.scopeAttrib(G);Object.keys(new q).forEach(function(D){x.set(R,"."+D,U[D])})}),T.scopeVAO&&x.set(j.vao,".targetVAO",T.scopeVAO.append(L,x));function B(G){var U=T.shader[G];U&&x.set(j.shader,"."+G,U.append(L,x))}B(ao),B(lo),Object.keys(T.state).length>0&&(x(X,".dirty=true;"),x.exit(X,".dirty=true;")),x("a1(",L.shared.context,",a0,",L.batchId,");")}function Z(L){if(!(typeof L!="object"||Kt(L))){for(var T=Object.keys(L),x=0;x<T.length;++x)if(jn.isDynamic(L[T[x]]))return!0;return!1}}function He(L,T,x){var j=T.static[x];if(!j||!Z(j))return;var X=L.global,B=Object.keys(j),G=!1,U=!1,R=!1,D=L.global.def("{}");B.forEach(function(Y){var W=j[Y];if(jn.isDynamic(W)){typeof W=="function"&&(W=j[Y]=jn.unbox(W));var ce=er(W,null);G=G||ce.thisDep,R=R||ce.propDep,U=U||ce.contextDep}else{switch(X(D,".",Y,"="),typeof W){case"number":X(W);break;case"string":X('"',W,'"');break;case"object":Array.isArray(W)&&X("[",W.join(),"]");break;default:X(L.link(W));break}X(";")}});function M(Y,W){B.forEach(function(ce){var pe=j[ce];if(jn.isDynamic(pe)){var Pe=Y.invoke(W,pe);W(D,".",ce,"=",Pe,";")}})}T.dynamic[x]=new jn.DynamicVariable(wa,{thisDep:G,contextDep:U,propDep:R,ref:D,append:M}),delete T.static[x]}function pt(L,T,x,j,X){var B=at();B.stats=B.link(X),Object.keys(T.static).forEach(function(U){He(B,T,U)}),fy.forEach(function(U){He(B,L,U)});var G=pn(L,T,x,j,B);return cn(B,G),ee(B,G),I(B,G),r(B.compile(),{destroy:function(){G.shader.program.destroy()}})}return{next:Fe,current:Be,procs:function(){var L=at(),T=L.proc("poll"),x=L.proc("refresh"),j=L.block();T(j),x(j);var X=L.shared,B=X.gl,G=X.next,U=X.current;j(U,".dirty=false;"),yn(L,T),yn(L,x,null,!0);var R;Se&&(R=L.link(Se)),F.oes_vertex_array_object&&x(L.link(F.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var D=0;D<Q.maxAttributes;++D){var M=x.def(X.attributes,"[",D,"]"),Y=L.cond(M,".buffer");Y.then(B,".enableVertexAttribArray(",D,");",B,".bindBuffer(",vi,",",M,".buffer.buffer);",B,".vertexAttribPointer(",D,",",M,".size,",M,".type,",M,".normalized,",M,".stride,",M,".offset);").else(B,".disableVertexAttribArray(",D,");",B,".vertexAttrib4f(",D,",",M,".x,",M,".y,",M,".z,",M,".w);",M,".buffer=null;"),x(Y),Se&&x(R,".vertexAttribDivisorANGLE(",D,",",M,".divisor);")}return x(L.shared.vao,".currentVAO=null;",L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"),Object.keys(me).forEach(function(W){var ce=me[W],pe=j.def(G,".",W),Pe=L.block();Pe("if(",pe,"){",B,".enable(",ce,")}else{",B,".disable(",ce,")}",U,".",W,"=",pe,";"),x(Pe),T("if(",pe,"!==",U,".",W,"){",Pe,"}")}),Object.keys(fe).forEach(function(W){var ce=fe[W],pe=Be[W],Pe,tt,Ze=L.block();if(Ze(B,".",ce,"("),Kt(pe)){var Ue=pe.length;Pe=L.global.def(G,".",W),tt=L.global.def(U,".",W),Ze(qn(Ue,function(ge){return Pe+"["+ge+"]"}),");",qn(Ue,function(ge){return tt+"["+ge+"]="+Pe+"["+ge+"];"}).join("")),T("if(",qn(Ue,function(ge){return Pe+"["+ge+"]!=="+tt+"["+ge+"]"}).join("||"),"){",Ze,"}")}else Pe=j.def(G,".",W),tt=j.def(U,".",W),Ze(Pe,");",U,".",W,"=",Pe,";"),T("if(",Pe,"!==",tt,"){",Ze,"}");x(Ze)}),L.compile()}(),compile:pt}}function Oy(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Ry=34918,My=34919,i1=35007,Iy=function(_,C){if(!C.ext_disjoint_timer_query)return null;var F=[];function Q(){return F.pop()||C.ext_disjoint_timer_query.createQueryEXT()}function ue(Se){F.push(Se)}var K=[];function se(Se){var $e=Q();C.ext_disjoint_timer_query.beginQueryEXT(i1,$e),K.push($e),ye(K.length-1,K.length,Se)}function _e(){C.ext_disjoint_timer_query.endQueryEXT(i1)}function be(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var we=[];function Ce(){return we.pop()||new be}function Te(Se){we.push(Se)}var Le=[];function ye(Se,$e,ve){var Be=Ce();Be.startQueryIndex=Se,Be.endQueryIndex=$e,Be.sum=0,Be.stats=ve,Le.push(Be)}var Ee=[],q=[];function re(){var Se,$e,ve=K.length;if(ve!==0){q.length=Math.max(q.length,ve+1),Ee.length=Math.max(Ee.length,ve+1),Ee[0]=0,q[0]=0;var Be=0;for(Se=0,$e=0;$e<K.length;++$e){var Fe=K[$e];C.ext_disjoint_timer_query.getQueryObjectEXT(Fe,My)?(Be+=C.ext_disjoint_timer_query.getQueryObjectEXT(Fe,Ry),ue(Fe)):K[Se++]=Fe,Ee[$e+1]=Be,q[$e+1]=Se}for(K.length=Se,Se=0,$e=0;$e<Le.length;++$e){var Ke=Le[$e],me=Ke.startQueryIndex,fe=Ke.endQueryIndex;Ke.sum+=Ee[fe]-Ee[me];var ze=q[me],Oe=q[fe];Oe===ze?(Ke.stats.gpuTime+=Ke.sum/1e6,Te(Ke)):(Ke.startQueryIndex=ze,Ke.endQueryIndex=Oe,Le[Se++]=Ke)}Le.length=Se}}return{beginQuery:se,endQuery:_e,pushScopeStats:ye,update:re,getNumPendingQueries:function(){return K.length},clear:function(){F.push.apply(F,K);for(var Se=0;Se<F.length;Se++)C.ext_disjoint_timer_query.deleteQueryEXT(F[Se]);K.length=0,F.length=0},restore:function(){K.length=0,F.length=0}}},Dy=16384,Fy=256,xy=1024,ky=34962,o1="webglcontextlost",a1="webglcontextrestored",l1=1,Gy=2,By=3;function c1(_,C){for(var F=0;F<_.length;++F)if(_[F]===C)return F;return-1}function Ny(_){var C=oc(_);if(!C)return null;var F=C.gl,Q=F.getContextAttributes(),ue=F.isContextLost(),K=ac(F,C);if(!K)return null;var se=tc(),_e=Oy(),be=K.extensions,we=Iy(F,be),Ce=na(),Te=F.drawingBufferWidth,Le=F.drawingBufferHeight,ye={tick:0,time:0,viewportWidth:Te,viewportHeight:Le,framebufferWidth:Te,framebufferHeight:Le,drawingBufferWidth:Te,drawingBufferHeight:Le,pixelRatio:C.pixelRatio},Ee={},q={elements:null,primitive:4,count:-1,offset:0,instances:-1},re=Tb(F,be),Se=Vb(F,_e,C,Be),$e=Jb(F,be,Se,_e),ve=J_(F,be,re,_e,Se,$e,q);function Be(Qe){return ve.destroyBuffer(Qe)}var Fe=ry(F,se,_e,C),Ke=R_(F,be,re,function(){ze.procs.poll()},ye,_e,C),me=M_(F,be,re,_e,C),fe=K_(F,be,re,Ke,me,_e),ze=Ly(F,se,be,re,Se,$e,Ke,fe,Ee,ve,Fe,q,ye,we,C),Oe=oy(F,fe,ze.procs.poll,ye,Q,be,re),Ae=ze.next,Re=F.canvas,Ie=[],ft=[],at=[],xe=[C.onDestroy],Ne=null;function Je(){if(Ie.length===0){we&&we.update(),Ne=null;return}Ne=Zi.next(Je),Fn();for(var Qe=Ie.length-1;Qe>=0;--Qe){var bt=Ie[Qe];bt&&bt(ye,null,0)}F.flush(),we&&we.update()}function ut(){!Ne&&Ie.length>0&&(Ne=Zi.next(Je))}function vt(){Ne&&(Zi.cancel(Je),Ne=null)}function Qt(Qe){Qe.preventDefault(),ue=!0,vt(),ft.forEach(function(bt){bt()})}function Jt(Qe){F.getError(),ue=!1,K.restore(),Fe.restore(),Se.restore(),Ke.restore(),me.restore(),fe.restore(),ve.restore(),we&&we.restore(),ze.procs.refresh(),ut(),at.forEach(function(bt){bt()})}Re&&(Re.addEventListener(o1,Qt,!1),Re.addEventListener(a1,Jt,!1));function yt(){Ie.length=0,vt(),Re&&(Re.removeEventListener(o1,Qt),Re.removeEventListener(a1,Jt)),Fe.clear(),fe.clear(),me.clear(),ve.clear(),Ke.clear(),$e.clear(),Se.clear(),we&&we.clear(),xe.forEach(function(Qe){Qe()})}function bn(Qe){P(!!Qe,"invalid args to regl({...})"),P.type(Qe,"object","invalid args to regl({...})");function bt(X){var B=r({},X);delete B.uniforms,delete B.attributes,delete B.context,delete B.vao,"stencil"in B&&B.stencil.op&&(B.stencil.opBack=B.stencil.opFront=B.stencil.op,delete B.stencil.op);function G(U){if(U in B){var R=B[U];delete B[U],Object.keys(R).forEach(function(D){B[U+"."+D]=R[D]})}}return G("blend"),G("depth"),G("cull"),G("stencil"),G("polygonOffset"),G("scissor"),G("sample"),"vao"in X&&(B.vao=X.vao),B}function Tt(X,B){var G={},U={};return Object.keys(X).forEach(function(R){var D=X[R];if(jn.isDynamic(D)){U[R]=jn.unbox(D,R);return}else if(B&&Array.isArray(D)){for(var M=0;M<D.length;++M)if(jn.isDynamic(D[M])){U[R]=jn.unbox(D,R);return}}G[R]=D}),{dynamic:U,static:G}}var cn=Tt(Qe.context||{},!0),Cr=Tt(Qe.uniforms||{},!0),Ds=Tt(Qe.attributes||{},!1),I=Tt(bt(Qe),!1),ee={gpuTime:0,cpuTime:0,count:0},Z=ze.compile(I,Ds,Cr,cn,ee),He=Z.draw,pt=Z.batch,L=Z.scope,T=[];function x(X){for(;T.length<X;)T.push(null);return T}function j(X,B){var G;if(ue&&P.raise("context lost"),typeof X=="function")return L.call(this,null,X,0);if(typeof B=="function")if(typeof X=="number")for(G=0;G<X;++G)L.call(this,null,B,G);else if(Array.isArray(X))for(G=0;G<X.length;++G)L.call(this,X[G],B,G);else return L.call(this,X,B,0);else if(typeof X=="number"){if(X>0)return pt.call(this,x(X|0),X|0)}else if(Array.isArray(X)){if(X.length)return pt.call(this,X,X.length)}else return He.call(this,X)}return r(j,{stats:ee,destroy:function(){Z.destroy()}})}var Ht=fe.setFBO=bn({framebuffer:jn.define.call(null,l1,"framebuffer")});function pn(Qe,bt){var Tt=0;ze.procs.poll();var cn=bt.color;cn&&(F.clearColor(+cn[0]||0,+cn[1]||0,+cn[2]||0,+cn[3]||0),Tt|=Dy),"depth"in bt&&(F.clearDepth(+bt.depth),Tt|=Fy),"stencil"in bt&&(F.clearStencil(bt.stencil|0),Tt|=xy),P(!!Tt,"called regl.clear with no buffer specified"),F.clear(Tt)}function _n(Qe){if(P(typeof Qe=="object"&&Qe,"regl.clear() takes an object as input"),"framebuffer"in Qe)if(Qe.framebuffer&&Qe.framebuffer_reglType==="framebufferCube")for(var bt=0;bt<6;++bt)Ht(r({framebuffer:Qe.framebuffer.faces[bt]},Qe),pn);else Ht(Qe,pn);else pn(null,Qe)}function yn(Qe){P.type(Qe,"function","regl.frame() callback must be a function"),Ie.push(Qe);function bt(){var Tt=c1(Ie,Qe);P(Tt>=0,"cannot cancel a frame twice");function cn(){var Cr=c1(Ie,cn);Ie[Cr]=Ie[Ie.length-1],Ie.length-=1,Ie.length<=0&&vt()}Ie[Tt]=cn}return ut(),{cancel:bt}}function Mn(){var Qe=Ae.viewport,bt=Ae.scissor_box;Qe[0]=Qe[1]=bt[0]=bt[1]=0,ye.viewportWidth=ye.framebufferWidth=ye.drawingBufferWidth=Qe[2]=bt[2]=F.drawingBufferWidth,ye.viewportHeight=ye.framebufferHeight=ye.drawingBufferHeight=Qe[3]=bt[3]=F.drawingBufferHeight}function Fn(){ye.tick+=1,ye.time=ht(),Mn(),ze.procs.poll()}function ln(){Ke.refresh(),Mn(),ze.procs.refresh(),we&&we.update()}function ht(){return(na()-Ce)/1e3}ln();function xn(Qe,bt){P.type(bt,"function","listener callback must be a function");var Tt;switch(Qe){case"frame":return yn(bt);case"lost":Tt=ft;break;case"restore":Tt=at;break;case"destroy":Tt=xe;break;default:P.raise("invalid event, must be one of frame,lost,restore,destroy")}return Tt.push(bt),{cancel:function(){for(var cn=0;cn<Tt.length;++cn)if(Tt[cn]===bt){Tt[cn]=Tt[Tt.length-1],Tt.pop();return}}}}var It=r(bn,{clear:_n,prop:jn.define.bind(null,l1),context:jn.define.bind(null,Gy),this:jn.define.bind(null,By),draw:bn({}),buffer:function(Qe){return Se.create(Qe,ky,!1,!1)},elements:function(Qe){return $e.create(Qe,!1)},texture:Ke.create2D,cube:Ke.createCube,renderbuffer:me.create,framebuffer:fe.create,framebufferCube:fe.createCube,vao:ve.createVAO,attributes:Q,frame:yn,on:xn,limits:re,hasExtension:function(Qe){return re.extensions.indexOf(Qe.toLowerCase())>=0},read:Oe,destroy:yt,_gl:F,_refresh:ln,poll:function(){Fn(),we&&we.update()},now:ht,stats:_e});return C.onDone(null,It),It}return Ny})}(_f)),_f.exports}const f3=l3,u3=Cl,d3=e=>{const n=Object.assign({},{},e.glOptions,{onDone:(o,a)=>{if(o)throw o}}),r=c3()(n),s=new Map,i=o=>{o.rendering=Object.assign({},u3,o.rendering),f3(r)(o,a=>{r.clear({color:o.rendering.background,depth:1}),o.entities&&o.entities.sort((l,c)=>{const f="transparent"in l.visuals?l.visuals.transparent:!1,u="transparent"in c.visuals?c.visuals.transparent:!1;return f===u?0:f?1:-1}).forEach(l=>{const{visuals:c}=l;if(("show"in c?c.show:!0)&&c.drawCmd&&o.drawCommands[c.drawCmd]){let u;c.cacheId?u=s.get(c.cacheId):(c.cacheId=s.size,u=o.drawCommands[c.drawCmd](r,l),s.set(c.cacheId,u));const h={...l,...c,camera:o.camera};u(h)}})})};return function(a){r.poll(),i(a)}};var h3=d3,yf,g1;function v1(){if(g1)return yf;g1=1;const e=br;return yf=(n,r={})=>{const s=[],i={visuals:{color:[0,0,1,1],fadeOut:!1},ticks:1,size:[16,16],centered:!1,lineWidth:2},o=Object.assign({},i.visuals,r.visuals||{}),{fadeOut:a,color:l}=o,{size:c,ticks:f,centered:u,lineWidth:h}=Object.assign({},i,r),d=c[0],p=c[1];if(u){const g=d*.5,m=p*.5,v=g%f,b=-g+v,y=-b,S=m%f,w=-m+S,E=-w,A=0;for(let O=b,z=0;O<=y;O+=f,z+=1)z%A!==0&&(s.push(w,O,0),s.push(E,O,0),s.push(w,O,0));for(let O=w,z=0;O<=E;O+=f,z+=1)z%A!==0&&(s.push(O,b,0),s.push(O,y,0),s.push(O,b,0))}else{for(let g=-d*.5;g<=d*.5;g+=f)s.push(-p*.5,g,0),s.push(p*.5,g,0),s.push(-p*.5,g,0);for(let g=-p*.5;g<=p*.5;g+=f)s.push(g,-d*.5,0),s.push(g,d*.5,0),s.push(g,-d*.5,0)}return n({vert:`precision mediump float;

    uniform float camNear, camFar;
    uniform mat4 model, view, projection;

    attribute vec3 position;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    void main() {
      fragPosition = position;
      worldPosition = model * vec4(position, 1);
      vec4 glPosition = projection * view * worldPosition;
      gl_Position = glPosition;
    }`,frag:`precision mediump float;
    uniform vec4 color;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    uniform vec4 fogColor;
    uniform bool fadeOut;
    void main() {
      float dist = .5;
      if(fadeOut){
        dist = distance( vec2(0.,0.), vec2(worldPosition.x, worldPosition.y));
        dist *= 0.0025;
        dist = sqrt(dist);
      }

      gl_FragColor = mix(color, fogColor, dist);
    }
    `,attributes:{position:n.buffer(s)},count:s.length/3,uniforms:{model:(g,m)=>m&&m.model?m.model:e.identity([]),color:(g,m)=>m&&m.color?m.color:l,fogColor:(g,m)=>m&&m.color?[m.color[0],m.color[1],m.color[2],0]:[l[0],l[1],l[2],0],fadeOut:(g,m)=>m&&m.fadeOut!==void 0?m.fadeOut:a},lineWidth:(g,m)=>Math.min(m&&m.lineWidth?m.lineWidth:h,n.limits.lineWidthDims[1]),primitive:"lines",cull:{enable:!0,face:"front"},polygonOffset:{enable:!0,offset:{factor:1,units:Math.random()*10}},blend:{enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}})},yf}const m3=(e,t)=>{const n={size:[50,50],ticks:[10,1]},{size:r,ticks:s}=Object.assign({},n,t),i=v1()(e,{size:r,ticks:s[0]}),o=v1()(e,{size:r,ticks:s[1]});return l=>{i(l),o({color:l.subColor,fadeOut:l.fadeOut})}};var p3=m3;const Xn=br,g3=(e,t)=>{const n={xColor:[1,0,0,1],yColor:[0,1,0,1],zColor:[0,0,1,1],size:10,lineWidth:3,alwaysVisible:!0};let{size:r,xColor:s,yColor:i,zColor:o,lineWidth:a,alwaysVisible:l}=Object.assign({},n,t);a>e.limits.lineWidthDims[1]&&(a=e.limits.lineWidthDims[1]);const c=[0,0,0,r,0,0],f={frag:`precision mediump float;
    uniform vec4 color;
    void main() {
      gl_FragColor = color;
    }`,vert:`
    precision mediump float;
    attribute vec3 position;
    uniform mat4 model, view, projection;
    void main() {
      gl_Position = projection * view * model * vec4(position, 1);
    }`,uniforms:{model:(g,m)=>m&&m.model?m.model:Xn.identity([]),color:(g,m)=>m.color,angle:(g,m)=>m.angle},attributes:{position:c},count:c.length/3,primitive:"line loop",lineWidth:a,depth:{enable:!l}},u=Xn.identity([]),h=Xn.rotateZ(Xn.create(),Xn.identity([]),Math.PI/2),d=Xn.rotateY(Xn.create(),Xn.identity([]),-Math.PI/2),p=e(f);return g=>{const m={model:Xn.identity([])};return g=Object.assign({},m,g),p([{color:s,model:Xn.multiply(Xn.create(),g.model,u)},{color:i,model:Xn.multiply(Xn.create(),g.model,h)},{color:o,model:Xn.multiply(Xn.create(),g.model,d)}])}};var v3=g3,Af,b1;function _1(){return b1||(b1=1,Af={frag:`
precision mediump float;
varying vec3 surfaceNormal, surfacePosition;

uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform float specularLightAmount;

uniform vec3 lightDirection;
uniform vec4 lightColor;
uniform vec3 opacity;
uniform float uMaterialShininess;

varying vec4 vColor;
uniform vec4 ucolor;
uniform float vColorToggler;

uniform vec2 printableArea;
vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);//vec4(0.15, 0.15, 0.15, 0.3);
varying vec4 _worldSpacePosition;
varying float ambientAo;

void main () {
  vec4 depth = gl_FragCoord;
  vec4 endColor = vColor * vColorToggler + ucolor * (1.0 - vColorToggler);

  vec3 ambient = ambientLightAmount * endColor.rgb ; //ambientAo * 

  float diffuseWeight = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(diffuseWeight , 0.0, 1.0 );

  //specular
  
  vec4 specularColor = vec4(lightColor);
  vec3 eyeDirection = normalize(surfacePosition.xyz);
  vec3 reflectionDirection = reflect(-lightDirection, -surfaceNormal);
  float specularLightWeight = pow(max(dot(reflectionDirection, eyeDirection), 0.0), uMaterialShininess);
  vec3 specular = specularColor.rgb * specularLightWeight * specularLightAmount;

  gl_FragColor = vec4((ambient + diffuse + specular), endColor.a);
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection, unormal;

attribute vec3 position, normal;
attribute vec4 color;

attribute float ao;
varying float ambientAo;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  surfacePosition = (unormal * vec4(position, 1.0)).xyz;
  surfaceNormal = normalize((unormal * vec4(normal, 1.0)).xyz); //vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;
  //gl_Position = projection * view * worldSpacePosition;

  vColor = color;

  //ambientAo = (1. - ao) * (0.5 * max(normal.x, 0.) + 0.5);

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
  //gl_Position = zBufferAdjust(glPosition, camNear, camFar);
}
`}),Af}var Sf,y1;function A1(){return y1||(y1=1,Sf={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;

void main() {
  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Sf}const os=br,{meshColor:b3}=Cl,_3=(e,t={extras:{}})=>{const n={useVertexColors:!0,dynamicCulling:!0,geometry:void 0,color:b3,visuals:{}},{geometry:r,dynamicCulling:s,useVertexColors:i,color:o,visuals:a}=Object.assign({},n,t),l=e.buffer([]),c=!!(r.indices&&r.indices.length>0),f=!!(r.normals&&r.normals.length>0),u="transparent"in a?a.transparent:!1,h=!!(i&&r.colors&&r.colors.length>0),d=r.transforms||os.create(),p=os.determinant(d)<0,g=s&&p?"front":"back",m=h?_1().vert:A1().vert,v=h?_1().frag:A1().frag,b=os.invert(os.create(),d);let y={primitive:"triangles",vert:m,frag:v,uniforms:{model:(S,w)=>d,ucolor:(S,w)=>w&&w.color?w.color:o,vColorToggler:(S,w)=>w&&w.useVertexColors&&w.useVertexColors===!0?1:0,unormal:(S,w)=>{const E=os.invert(os.create(),w.camera.view);return os.multiply(E,b,E),os.transpose(E,E),E}},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions}),ao:l},cull:{enable:!0,face:g}};return u&&(y.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),r.cells?y.elements=r.cells:c?y.elements=e.elements({usage:"static",type:"uint16",data:r.indices}):r.triangles?y.elements=r.triangles:y.count=r.positions.length/3,f&&(y.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),h&&(y.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),y=Object.assign({},y,t.extras),e(y)};var y3=_3,Ef,S1;function E1(){return S1||(S1=1,Ef={frag:`
precision mediump float;
varying vec4 vColor;

void main () {
  gl_FragColor = vColor;
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;
attribute vec4 color;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  vColor = color;

  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`}),Ef}var wf,w1;function A3(){return w1||(w1=1,wf={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;


varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;


void main() {


  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),wf}var Tf,T1;function S3(){return T1||(T1=1,Tf={frag:`
precision mediump float;
uniform vec4 ucolor;

void main () {
  gl_FragColor = ucolor;
}
`}),Tf}const E3=br,{meshColor:w3}=Cl,T3=(e,t={})=>{const n={color:w3,geometry:void 0};let{geometry:r,color:s,transparent:i}=Object.assign({},n,t);"color"in r&&(s=r.color);const o=!!(r.indices&&r.indices.length>0),a=!!(r.normals&&r.normals.length>0),l=!!(r.colors&&r.colors.length>0),c=l?E1().vert:A3().vert,f=l?E1().frag:S3().frag,u={primitive:"lines",vert:c,frag:f,uniforms:{model:(h,d)=>d.model||r.transforms||E3.create(),ucolor:(h,d)=>d&&d.color?d.color:s},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions})}};return i&&(u.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),l&&(u.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),o&&(u.elements=e.elements({usage:"static",type:"uint16",data:r.indices})),a&&(u.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),e(u)};var C3=T3,Og=1e-6,Rg=P3;function P3(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}var L3=O3;function O3(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}var Mg=R3;function R3(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}var Ig=M3;function M3(e,t){var n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}var Dg=I3;function I3(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}var D3=x3,C1=Mg,P1=Ig,F3=Dg;function x3(e,t){var n=C1(e[0],e[1],e[2]),r=C1(t[0],t[1],t[2]);P1(n,n),P1(r,r);var s=F3(n,r);return s>1?0:Math.acos(s)}var k3=G3;function G3(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}var B3=N3;function N3(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}var $3=V3,Cf=Og;function V3(e,t){var n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2];return Math.abs(n-i)<=Cf*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=Cf*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-a)<=Cf*Math.max(1,Math.abs(s),Math.abs(a))}var U3=H3;function H3(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var z3=j3;function j3(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var Fg=q3;function q3(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}var X3=Fg,xg=W3;function W3(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}var Y3=xg,kg=Z3;function Z3(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}var K3=kg,Q3=J3;function J3(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}var eA=tA;function tA(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}var nA=rA;function rA(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}var sA=iA;function iA(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}var oA=aA;function aA(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}var lA=cA;function cA(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}var fA=uA;function uA(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}var Gg=dA;function dA(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)}var hA=Gg,Bg=mA;function mA(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s}var pA=Bg,Ng=gA;function gA(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}var vA=Ng,$g=bA;function bA(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}var _A=$g,yA=AA;function AA(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}var SA=EA;function EA(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}var wA=TA;function TA(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e}var CA=PA;function PA(e,t,n,r){var s=t[0],i=t[1],o=t[2];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}var LA=OA;function OA(e,t){t=t||1;var n=Math.random()*2*Math.PI,r=Math.random()*2-1,s=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=r*t,e}var RA=MA;function MA(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e}var IA=DA;function DA(e,t,n){var r=t[0],s=t[1],i=t[2];return e[0]=r*n[0]+s*n[3]+i*n[6],e[1]=r*n[1]+s*n[4]+i*n[7],e[2]=r*n[2]+s*n[5]+i*n[8],e}var FA=xA;function xA(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2],c=n[3],f=c*r+a*i-l*s,u=c*s+l*r-o*i,h=c*i+o*s-a*r,d=-o*r-a*s-l*i;return e[0]=f*c+d*-o+u*-l-h*-a,e[1]=u*c+d*-a+h*-o-f*-l,e[2]=h*c+d*-l+f*-a-u*-o,e}var kA=GA;function GA(e,t,n,r){var s=n[1],i=n[2],o=t[1]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=t[0],e[1]=s+o*c-a*l,e[2]=i+o*l+a*c,e}var BA=NA;function NA(e,t,n,r){var s=n[0],i=n[2],o=t[0]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+a*l+o*c,e[1]=t[1],e[2]=i+a*c-o*l,e}var $A=VA;function VA(e,t,n,r){var s=n[0],i=n[1],o=t[0]-s,a=t[1]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+o*c-a*l,e[1]=i+o*l+a*c,e[2]=t[2],e}var UA=HA,as=Rg();function HA(e,t,n,r,s,i){var o,a;for(t||(t=3),n||(n=0),r?a=Math.min(r*t+n,e.length):a=e.length,o=n;o<a;o+=t)as[0]=e[o],as[1]=e[o+1],as[2]=e[o+2],s(as,as,i),e[o]=as[0],e[o+1]=as[1],e[o+2]=as[2];return e}var zo={EPSILON:Og,create:Rg,clone:L3,angle:D3,fromValues:Mg,copy:k3,set:B3,equals:$3,exactEquals:U3,add:z3,subtract:Fg,sub:X3,multiply:xg,mul:Y3,divide:kg,div:K3,min:Q3,max:eA,floor:nA,ceil:sA,round:oA,scale:lA,scaleAndAdd:fA,distance:Gg,dist:hA,squaredDistance:Bg,sqrDist:pA,length:Ng,len:vA,squaredLength:$g,sqrLen:_A,negate:yA,inverse:SA,normalize:Ig,dot:Dg,cross:wA,lerp:CA,random:LA,transformMat4:RA,transformMat3:IA,transformQuat:FA,rotateX:kA,rotateY:BA,rotateZ:$A,forEach:UA};const Zs=br,Pf=zo,Vg={view:Zs.identity(new Float32Array(16)),projection:Zs.identity(new Float32Array(16)),matrix:Zs.identity(new Float32Array(16)),near:1,far:18e3,up:[0,0,1],eye:new Float32Array(3),position:[450,550,700],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],projectionType:"perspective"},Ug={},zA=Object.assign({},Vg,Ug),jA=(e,t,n)=>{const r=n.width/n.height,s=Zs.perspective(Zs.identity([]),t.fov,r,t.near,t.far),i=[0,0,n.width,n.height],o=e||{};return o.projection=s,o.aspect=r,o.viewport=i,o},qA=(e,t)=>{t||(t=e);const{position:n,target:r,up:s}=t,i=Pf.subtract([],n,r),o=Pf.add(Pf.create(),r,i),a=Zs.lookAt(Zs.create(),o,r,s),l=e||{};return l.position=o,l.view=a,l};var xu={cameraState:Vg,cameraProps:Ug,defaults:zA,setProjection:jA,update:qA};const ml=br,XA={view:ml.identity(new Float32Array(16)),projection:ml.identity(new Float32Array(16)),matrix:ml.identity(new Float32Array(16)),near:1,far:1300,up:[0,0,1],eye:new Float32Array(3),position:[150,250,200],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],zoom:1,projectionType:"orthographic"},WA={},YA=(e,t)=>{const{width:n,height:r}=t,s=n/r,i=[0,0,n,r],o=e.zoom,a=-n*o,l=n*o,c=-r*o,f=r*o;return{projection:ml.ortho([],a,l,c,f,e.near,e.far),aspect:s,viewport:i}};var bl={cameraState:XA,cameraProps:WA,setProjection:YA};const xi=zo,_l=br,ZA=e=>{const{near:t,far:n,fov:r,zoom:s}=e,{viewport:i}=e,o=xu.setProjection(e,{width:i[2],height:i[3]}),{projectionType:a}=xu.cameraState;return Object.assign({},e,o,{projectionType:a},{near:t,far:n,fov:r})},KA=e=>{const{fov:t,aspect:n}=e,r=xi.length(xi.subtract([],e.position,e.target))*.3,s=Math.tan(t)*r*n,i=Math.tan(t)*r,{near:o,far:a,viewport:l}=e,c={zoom:1,near:o,far:a},f=bl.cameraState,u=bl.setProjection(c,{width:s,height:i});return Object.assign({},f,e,u,{projectionType:f.projectionType,viewport:l})},QA=({camera:e})=>{const n=xi.distance(e.position,e.target),r=[n,n,n];return{view:_l.lookAt(_l.create(),r,e.target,e.up),position:r}},JA=(e,{camera:t})=>{const n={top:[0,-1e-6,1],bottom:[0,0,-1],front:[0,1,0],back:[0,-1,0],left:[-1,0,0],right:[1,0,0],undefined:[0,0,0]},r=xi.distance(t.position,t.target),s=xi.add(xi.create(),n[e].map(o=>o*r),t.target);return{view:_l.lookAt(_l.create(),s,t.target,t.up),position:s}};var eS={toPerspectiveView:QA,toPresetView:JA,fromOrthographicToPerspective:ZA,fromPerspectiveToOrthographic:KA};const Hg=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Hg(n)):t.concat(n),[]);var tS=Hg;const nS=(e,t)=>e-t;var rS=nS;const sS=e=>{if(!(!Array.isArray(e)||e.length===0))return e[0]};var iS=sS;const oS=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}return e.splice(r,0,t),e};var aS=oS;const lS=(e,t)=>{if(!(!Array.isArray(e)||e.length<t))return e[t]};var cS=lS;const fS=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var uS=fS;const dS=e=>Array.isArray(e)?e:e==null?[]:[e];var hS=dS,Yu={flatten:tS,fnNumberSort:rS,head:iS,insertSorted:aS,nth:cS,padToLength:uS,toArray:hS};const mS=e=>{if(e.length===0)return[[0,0,0],[0,0,0]];const t=Array.isArray(e)&&Array.isArray(e[0]),n=t?e[0].length:3,r=new Array(n),s=new Array(n);for(let i=0;i<n;i+=1)r[i]=1/0,s[i]=-1/0;if(t)e.forEach(i=>{for(let o=0;o<n;o+=1){const a=t?i[o]:i;s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}});else for(let i=0;i<e.length;i+=n)for(let o=0;o<n;o+=1){const a=e[o+i];s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}return[r,s]};var pS=mS;const lr=zo,{flatten:gS}=Yu,vS=pS,bS=(...e)=>{e=gS(e);let t;e.forEach(l=>{let c=vS(l.positions);c=c.map(f=>lr.transformMat4(f,f,l.transforms)),t?(lr.min(t[0],t[0],c[0]),lr.max(t[1],t[1],c[1])):t=c});const n=lr.min(lr.create(),t[1],t[0]),r=lr.max(lr.create(),t[1],t[0]),s=lr.subtract(lr.create(),r,n);let i=lr.scale(lr.create(),s,.5);return i=lr.add(i,n,i),{dia:lr.distance(i,r),center:[...i],min:[...n],max:[...r],size:[...s]}};var _S=bS,Lf,L1;function yS(){if(L1)return Lf;L1=1,Lf=e;function e(t,n,r){var s=n[0],i=n[1],o=n[2],a=r[0],l=r[1],c=r[2],f=r[3],u=r[4],h=r[5],d=r[6],p=r[7],g=r[8],m=r[9],v=r[10],b=r[11],y=r[12],S=r[13],w=r[14],E=r[15],A=1/(s*f+i*p+o*b+E);return t[0]=(s*a+i*u+o*g+y)*A,t[1]=(s*l+i*h+o*m+S)*A,t[2]=(s*c+i*d+o*v+w)*A,t}return Lf}var Of,O1;function AS(){if(O1)return Of;O1=1;var e=yS();Of=t;function t(n,r,s,i){var o=s[0],a=s[1],l=s[2],c=s[3],f=r[0],u=r[1],h=r[2];return f=f-o,u=c-u-1,u=u-a,n[0]=2*f/l-1,n[1]=2*u/c-1,n[2]=2*h-1,e(n,n,i)}return Of}const Kn=zo,$o=br,{max:Rf,min:Mf,sqrt:R1,PI:SS,sin:yi,cos:$a,atan2:Va}=Math,ES=_S,Zu={limits:{minDistance:.01,maxDistance:1e4},drag:.27,EPS:1e-6,zoomToFit:{auto:!0,targets:"all",tightness:1.5},userControl:{zoom:!0,zoomSpeed:1,rotate:!0,rotateSpeed:1,pan:!0,panSpeed:1},autoRotate:{enabled:!1,speed:1},autoAdjustPlanes:!0},zg={thetaDelta:0,phiDelta:0,scale:1},wS=Object.assign({},zg,Zu),TS=({controls:e,camera:t},n)=>{const{EPS:r,drag:s}=e,{position:i,target:o}=t,a=e.up?e.up:t.up;let l=e.thetaDelta;const c=e.phiDelta,f=e.scale,u=Kn.subtract([],i,o);let h,d;a[2]===1?(h=Va(u[0],u[1]),d=Va(R1(u[0]*u[0]+u[1]*u[1]),u[2])):(h=Va(u[0],u[2]),d=Va(R1(u[0]*u[0]+u[2]*u[2]),u[1])),e.autoRotate.enabled&&e.userControl.rotate&&(l+=2*Math.PI/60/60*e.autoRotate.speed),h+=l,d+=c,d=Rf(r,Mf(SS-r,d));const p=Rf(e.limits.minDistance,Mf(e.limits.maxDistance,Kn.length(u)*f));a[2]===1?(u[0]=p*yi(d)*yi(h),u[2]=p*$a(d),u[1]=p*yi(d)*$a(h)):(u[0]=p*yi(d)*yi(h),u[1]=p*$a(d),u[2]=p*yi(d)*$a(h));const g=Kn.add(Kn.create(),o,u),m=$o.lookAt($o.create(),g,o,a),v=1-Rf(Mf(s,1),.01),b=Kn.distance(i,g)>.001;return{controls:{thetaDelta:l*v,phiDelta:c*v,scale:1,changed:b},camera:{position:g,view:m}}},CS=({controls:e,camera:t,speed:n=1},r)=>{let{thetaDelta:s,phiDelta:i}=e;return e.userControl.rotate&&(s+=r[0]*n,i+=r[1]*n),{controls:{thetaDelta:s,phiDelta:i},camera:t}},PS=({controls:e,camera:t,speed:n=1},r=0)=>{let{scale:s}=e;if(e.userControl.zoom&&t&&r!==void 0&&r!==0&&!isNaN(r)){const i=Math.sign(r)===0?1:Math.sign(r);r=r/r*i*n;const o=r+e.scale,a=Kn.distance(t.position,t.target)*o;if(a>e.limits.minDistance&&a<e.limits.maxDistance&&(s+=r),t.projectionType==="orthographic"){const l=Kn.length(Kn.subtract([],t.position,t.target))*.3,c=Math.tan(t.fov)*l*t.aspect,f=Math.tan(t.fov)*l;t=bl.setProjection(t,{width:c,height:f})}}return{controls:{scale:s},camera:t}},LS=({controls:e,camera:t,speed:n=1},r)=>{const s=AS(),{projection:i,view:o,viewport:a}=t,l=$o.multiply([],i,o),c=$o.invert([],l),f=[a[2],a[3],0],u=[a[2]-r[0],a[3]+r[1],0],h=s([],f,a,c),d=s([],u,a,c),p=Kn.distance(t.position,t.eye),g=Kn.subtract([],h,d).map(m=>m*n*p*e.scale);return{controls:e,camera:{position:Kn.add(Kn.create(),t.position,g),target:Kn.add(Kn.create(),t.target,g)}}},OS=({controls:e,camera:t,entities:n})=>{const{zoomToFit:r}=e;if(r.targets!=="all")return{controls:e,camera:t};if(n.length===0)return{controls:e,camera:t};const s=n.map(d=>d.geometry),i=ES(s),{fov:o,target:a,position:l}=t,{tightness:c}=Object.assign({},r,Zu.zoomToFit),f=i.dia*c/Math.tan(o/2),u=Kn.distance(a,l),h=f/u;return{camera:{target:i.center},controls:{scale:h}}},RS=({controls:e,camera:t},n)=>({camera:{position:n.camera.position,target:n.camera.target,projection:$o.perspective([],t.fov,t.aspect,t.near,t.far),view:n.camera.view},controls:{thetaDelta:n.controls.thetaDelta,phiDelta:n.controls.phiDelta,scale:n.controls.scale}});var MS={controlsProps:Zu,controlsState:zg,defaults:wS,update:TS,rotate:CS,zoom:PS,pan:LS,zoomToFit:OS,reset:RS};const M1=br,If=Math.floor(65535/2),IS=(e,t)=>{let{color:n}=e;const r=t.sides;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=[],o=Math.floor(r.length/If)+1,a=(c,f)=>{i.push(c,f||c)},l=[];for(let c=0;c<o;c++){const f=c*If,u=Math.min(f+If,r.length),h=[];for(let m=f;m<u;m++){const v=r[m];if(v.color){if(i.length===0&&h.length>0){const b=h.length;for(let y=0;y<b;y++)i.push(n)}a(v.color,v.endColor)}else i.length&&a(n);h.push([v[0][0],v[0][1],0]),h.push([v[1][0],v[1][1],0])}const d=h.map(m=>[0,0,-1]),p=h.map((m,v)=>v),g=t.transforms?M1.clone(t.transforms):M1.create();l.push({type:"2d",positions:h,normals:d,indices:p,transforms:g,color:n,colors:i,isTransparent:s})}return l};var DS=IS;const ls=zo,I1=br,FS=65535,xS=(e,t)=>{let{color:n,smoothLighting:r}=e;"color"in t&&(n=t.color);const s=t.polygons,i=t.transforms?I1.clone(t.transforms):I1.create(),o=[];let a=0;for(;a<s.length;){let l=0,c=a;for(let m=a;m<s.length&&(l+=s[m].vertices.length,!(l>FS));m++)c++;const f=[],u=[],h=[],d=[],p=n[3]<1;for(let m=a;m<c;m++){const v=s[m],b=v.vertices,y=GS(v),S=kS(v,n),w=[];for(let E=0;E<b.length;E++){const A=b[E];f.push(A),u.push(y),d.push(S);const O=f.length-1;w.push(O)}for(let E=2;E<w.length;E++)h.push([w[0],w[E-1],w[E]])}const g={type:"3d",positions:f,normals:u,indices:h,colors:d,transforms:i,isTransparent:p};o.push(g),a=c}return o},kS=(e,t)=>{let n=t;return e.color&&(n=e.color),n&&n.length<4&&n.push(1),n},GS=e=>{if(e.plane)return ls.clone(e.plane);const t=e.vertices,n=ls.create();ls.subtract(n,t[1],t[0]);const r=ls.create();ls.subtract(r,t[2],t[0]);const s=ls.create();return ls.cross(s,n,r),ls.normalize(s,s),s};var BS=xS;const D1=br,Df=Math.floor(65535/2)-2,NS=(e,t)=>{let{color:n}=e;const r=t.points;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=Math.floor(r.length/Df)+1,o=[];for(let a=0;a<i;a++){const l=a*Df,c=Math.min(l+Df,r.length),f=[];let u;for(let g=l;g<c;g++){const m=r[g];u&&(f.push([u[0],u[1],0]),f.push([m[0],m[1],0])),u=m}if(a+1===i&&t.isClosed&&u){const g=r[0];f.push([u[0],u[1],0]),f.push([g[0],g[1],0])}const h=f.map(g=>[0,0,-1]),d=f.map((g,m)=>m),p=t.transforms?D1.clone(t.transforms):D1.create();o.push({type:"2d",positions:f,normals:h,indices:d,transforms:p,color:n,isTransparent:s})}return o};var $S=NS;const{flatten:VS,toArray:US}=Yu,{meshColor:HS}=Cl,zS=DS,jS=BS,qS=$S,XS=e=>e.map(n=>{const r={drawCmd:n.type==="2d"?"drawLines":"drawMesh",show:!0,transparent:n.isTransparent,useVertexColors:!0};return{geometry:n,visuals:r}}),WS=(e,...t)=>{const n={color:HS,smoothNormals:!0},{color:r,smoothNormals:s}=Object.assign({},n,e);t=VS(US(t)),t=t.filter(o=>o&&o instanceof Object);const i=[];return t.forEach(o=>{let a=[];"sides"in o?a=zS({color:r},o):"points"in o?a=qS({color:r},o):"polygons"in o&&(a=jS({smoothLighting:s,normalThreshold:.3,color:r},o)),i.push(...XS(a))}),i};var YS=WS,cs={prepareRender:h3,drawCommands:{drawGrid:p3,drawAxis:v3,drawMesh:y3,drawLines:C3},cameras:{camera:eS,orthographic:bl,perspective:xu},controls:{orbit:MS},entitiesFromSolids:YS};function ZS(e){let t;return{c(){t=Lt("div"),$t(t,"class","svelte-1lbbz30")},m(n,r){De(n,t,r),e[4](t)},p:un,i:un,o:un,d(n){n&&Me(t),e[4](null)}}}function KS(e,t,n){let r,s,{model:i}=t,o;const a=cs.cameras.perspective,l=cs.controls.orbit,c={controls:l.defaults,camera:{...a.defaults,position:[0,0,400]}};ir(()=>{s.glOptions.container=o;const u=new ResizeObserver(()=>{a.setProjection(c.camera,c.camera,{width:o.clientWidth,height:o.clientHeight}),d=!0});u.observe(o);const h=cs.prepareRender(s);let d=!0;const p=()=>{if(S[0]||S[1]){const V=l.rotate({controls:c.controls,camera:c.camera,speed:v},S);n(2,c.controls={...c.controls,...V.controls},c),d=!0,S=[0,0]}if(w[0]||w[1]){const V=l.pan({controls:c.controls,camera:c.camera,speed:b},w);n(2,c.controls={...c.controls,...V.controls},c),w=[0,0],n(2,c.camera.position=V.camera.position,c),n(2,c.camera.target=V.camera.target,c),d=!0}if(E){const V=l.zoom({controls:c.controls,camera:c.camera,speed:y},E);n(2,c.controls={...c.controls,...V.controls},c),E=0,d=!0}};let g=0,m=0;const v=.002,b=1,y=.08;let S=[0,0],w=[0,0],E=0,A=!1;const O=V=>{if(!A)return;const Ge=g-V.pageX,ne=V.pageY-m;V.shiftKey===!0||V.touches&&V.touches.length>2||V.buttons==2?(w[0]+=Ge,w[1]+=ne):(S[0]-=Ge,S[1]-=ne),g=V.pageX,m=V.pageY,V.preventDefault()},z=V=>{A=!0,g=V.pageX,m=V.pageY,o.setPointerCapture(V.pointerId)},N=V=>{A=!1,o.releasePointerCapture(V.pointerId)},k=V=>{E+=V.deltaY,V.preventDefault()};n(0,o.onpointermove=O,o),n(0,o.onpointerdown=z,o),n(0,o.onpointerup=N,o),n(0,o.onwheel=k,o),n(0,o.oncontextmenu=V=>{V.preventDefault()},o);let le;const $=()=>{if(p(),d){const V=l.update({controls:c.controls,camera:c.camera});n(2,c.controls={...c.controls,...V.controls},c),d=c.controls.changed,n(2,c.camera.position=V.camera.position,c),a.update(c.camera),h(s)}le=window.requestAnimationFrame($)};return le=window.requestAnimationFrame($),()=>{typeof le=="number"&&window.cancelAnimationFrame(le),u.disconnect()}});function f(u){ct[u?"unshift":"push"](()=>{o=u,n(0,o)})}return e.$$set=u=>{"model"in u&&n(1,i=u.model)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=cs.entitiesFromSolids({},i)),e.$$.dirty&13&&(s={glOptions:{container:o},camera:c.camera,drawCommands:{drawAxis:cs.drawCommands.drawAxis,drawGrid:cs.drawCommands.drawGrid,drawLines:cs.drawCommands.drawLines,drawMesh:cs.drawCommands.drawMesh},entities:r})},[o,i,c,r,f]}class QS extends rn{constructor(t){super(),nn(this,t,KS,ZS,jt,{model:1})}}const jg=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(jg(n)):t.concat(n),[]);var mt=jg;const JS=e=>Object.assign({},e);var eE=JS;const tE=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e);var nE=tE;const rE=()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var Ku=rE;const sE=Ku,iE=e=>{const t=sE();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var oE=iE;const aE=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e);var qg=aE;const lE=(e,t)=>{const n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],h=t[10],d=t[11],p=t[12],g=t[13],m=t[14],v=t[15],b=n*a-r*o,y=n*l-s*o,S=n*c-i*o,w=r*l-s*a,E=r*c-i*a,A=s*c-i*l,O=f*g-u*p,z=f*m-h*p,N=f*v-d*p,k=u*m-h*g,le=u*v-d*g,$=h*v-d*m;let V=b*$-y*le+S*k+w*N-E*z+A*O;return V?(V=1/V,e[0]=(a*$-l*le+c*k)*V,e[1]=(s*le-r*$-i*k)*V,e[2]=(g*A-m*E+v*w)*V,e[3]=(h*E-u*A-d*w)*V,e[4]=(l*N-o*$-c*z)*V,e[5]=(n*$-s*N+i*z)*V,e[6]=(m*S-p*A-v*y)*V,e[7]=(f*A-h*S+d*y)*V,e[8]=(o*le-a*N+c*O)*V,e[9]=(r*N-n*le-i*O)*V,e[10]=(p*E-g*S+v*b)*V,e[11]=(u*S-f*E-d*b)*V,e[12]=(a*z-o*k-l*O)*V,e[13]=(n*k-r*z+s*O)*V,e[14]=(g*y-p*w-m*b)*V,e[15]=(f*w-u*y+h*b)*V,e):null};var cE=lE;const fE=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15];var uE=fE;const dE=1e5,hE=1e-5,mE=1e-13,pE=Math.PI*2;var Dt={EPS:hE,NEPS:mE,TAU:pE,spatialResolution:dE};const{NEPS:gE}=Dt,Xg=e=>Math.abs(e)<gE?0:e,vE=e=>Xg(Math.sin(e)),bE=e=>Xg(Math.cos(e));var Hn={sin:vE,cos:bE};const _E=e=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var Wg=_E;const{EPS:yE}=Dt,{sin:AE,cos:SE}=Hn,EE=Wg,wE=(e,t,n)=>{let[r,s,i]=n;const o=r*r+s*s+i*i;if(Math.abs(o)<yE)return EE(e);const a=1/Math.sqrt(o);r*=a,s*=a,i*=a;const l=AE(t),c=SE(t),f=1-c;return e[0]=r*r*f+c,e[1]=s*r*f+i*l,e[2]=i*r*f-s*l,e[3]=0,e[4]=r*s*f-i*l,e[5]=s*s*f+c,e[6]=i*s*f+r*l,e[7]=0,e[8]=r*i*f+s*l,e[9]=s*i*f-r*l,e[10]=i*i*f+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Yg=wE;const TE=(e,t)=>(e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var CE=TE;const{sin:Ff,cos:xf}=Hn,PE=(e,t,n,r)=>{const s=Ff(t),i=xf(t),o=Ff(n),a=xf(n),l=Ff(r),c=xf(r);return e[0]=a*i,e[1]=a*s,e[2]=-o,e[3]=0,e[4]=l*o*i-c*s,e[5]=c*i+l*o*s,e[6]=l*a,e[7]=0,e[8]=l*s+c*o*i,e[9]=c*o*s-l*i,e[10]=c*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var LE=PE;const OE=(e,t)=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e);var RE=OE;const ME=Ku,IE=(e,t,n,r,s,i,o,a,l,c,f,u,h,d,p,g)=>{const m=ME();return m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=s,m[5]=i,m[6]=o,m[7]=a,m[8]=l,m[9]=c,m[10]=f,m[11]=u,m[12]=h,m[13]=d,m[14]=p,m[15]=g,m};var DE=IE;const FE=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e);var Zg=FE;const xE=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e);var Kg=xE;const kE=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2];var Pl=kE;const GE=Pl,BE=(e,t)=>{const n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2],l=Math.sqrt(n*n+r*r+s*s),c=Math.sqrt(i*i+o*o+a*a),f=l*c,u=f&&GE(e,t)/f;return Math.acos(Math.min(Math.max(u,-1),1))};var NE=BE;const $E=()=>[0,0,0];var Ll=$E;const VE=Ll,UE=e=>{const t=VE();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var HE=UE;const zE=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var Qg=zE;const jE=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e};var jo=jE;const qE=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)};var Jg=qE;const XE=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e);var WE=XE;const YE=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var ZE=YE;const KE=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e);var QE=KE;const JE=Ll,ew=(e,t,n)=>{const r=JE();return r[0]=e,r[1]=t,r[2]=n,r};var tw=ew;const nw=(e,t,n=0)=>(e[0]=t[0],e[1]=t[1],e[2]=n,e);var rw=nw;const sw=e=>{const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)};var ev=sw;const iw=(e,t,n,r)=>(e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e[2]=t[2]+r*(n[2]-t[2]),e);var ow=iw;const aw=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e);var tv=aw;const lw=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e);var nv=lw;const cw=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e);var fw=cw;const uw=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e);var dw=uw;const hw=(e,t)=>{const n=t[0],r=t[1],s=t[2];let i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i)),e[0]=n*i,e[1]=r*i,e[2]=s*i,e};var Qu=hw;const mw=Zg,pw=Ll,gw=jo,vw=(e,t)=>{const n=mw(pw(),t),r=0+(n[0]<n[1]&&n[0]<n[2]),s=0+(n[1]<=n[0]&&n[1]<n[2]),i=0+(n[2]<=n[0]&&n[2]<=n[1]);return gw(e,t,[r,s,i])};var bw=vw;const _w=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[0],i[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),i[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var yw=_w;const Aw=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),i[1]=s[1],i[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var Sw=Aw;const Ew=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],i[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),i[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=t[2],e};var ww=Ew;const Tw=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e);var rv=Tw;const Cw=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e[2]=Math.round(t[2]/n)*n+0,e);var Pw=Cw;const Lw=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s};var sv=Lw;const Ow=e=>{const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};var iv=Ow;const Rw=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e);var Ol=Rw;const Mw=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)}]`;var Iw=Mw;const Dw=(e,t,n)=>{const r=t[0],s=t[1],i=t[2];let o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e};var Fw=Dw,st={abs:Zg,add:Kg,angle:NE,clone:HE,copy:Qg,create:Ll,cross:jo,distance:Jg,divide:WE,dot:Pl,equals:ZE,fromScalar:QE,fromValues:tw,fromVec2:rw,length:ev,lerp:ow,max:tv,min:nv,multiply:fw,negate:dw,normalize:Qu,orthogonal:bw,rotateX:yw,rotateY:Sw,rotateZ:ww,scale:rv,snap:Pw,squaredDistance:sv,squaredLength:iv,subtract:Ol,toString:Iw,transform:Fw};const fs=st,xw=Yg,kw=(e,t,n)=>{const r=fs.normalize(fs.create(),t),s=fs.normalize(fs.create(),n),i=fs.cross(fs.create(),s,r),o=fs.dot(s,r);if(o===-1)return xw(e,Math.PI,fs.orthogonal(i,r));const a=1/(1+o);return e[0]=i[0]*i[0]*a+o,e[1]=i[1]*i[0]*a-i[2],e[2]=i[2]*i[0]*a+i[1],e[3]=0,e[4]=i[0]*i[1]*a+i[2],e[5]=i[1]*i[1]*a+o,e[6]=i[2]*i[1]*a-i[0],e[7]=0,e[8]=i[0]*i[2]*a-i[1],e[9]=i[1]*i[2]*a+i[0],e[10]=i[2]*i[2]*a+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Gw=kw;const{sin:Bw,cos:Nw}=Hn,$w=(e,t)=>{const n=Bw(t),r=Nw(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Vw=$w;const{sin:Uw,cos:Hw}=Hn,zw=(e,t)=>{const n=Uw(t),r=Hw(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var jw=zw;const{sin:qw,cos:Xw}=Hn,Ww=(e,t)=>{const n=qw(t),r=Xw(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Yw=Ww;const Zw=e=>e[0]===1&&e[1]===0&&e[2]===0&&e[3]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[7]===0&&e[8]===0&&e[9]===0&&e[10]===1&&e[11]===0&&e[12]===0&&e[13]===0&&e[14]===0&&e[15]===1;var Kw=Zw;const Qw=e=>$r(e[1])&&$r(e[2])&&$r(e[3])&&$r(e[4])&&$r(e[6])&&$r(e[7])&&$r(e[8])&&$r(e[9])&&$r(e[11])&&e[15]===1,$r=e=>Math.abs(e)<Number.EPSILON;var Jw=Qw;const e4=e=>{const t=e[4]*e[9]-e[8]*e[5],n=e[8]*e[1]-e[0]*e[9],r=e[0]*e[5]-e[4]*e[1];return t*e[2]+n*e[6]+r*e[10]<0};var t4=e4;const n4=(e,t)=>{const[n,r,s,i]=t;return e[0]=1-2*n*n,e[1]=-2*r*n,e[2]=-2*s*n,e[3]=0,e[4]=-2*n*r,e[5]=1-2*r*r,e[6]=-2*s*r,e[7]=0,e[8]=-2*n*s,e[9]=-2*r*s,e[10]=1-2*s*s,e[11]=0,e[12]=2*n*i,e[13]=2*r*i,e[14]=2*s*i,e[15]=1,e};var r4=n4;const s4=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],h=t[9],d=t[10],p=t[11],g=t[12],m=t[13],v=t[14],b=t[15];let y=n[0],S=n[1],w=n[2],E=n[3];return e[0]=y*r+S*a+w*u+E*g,e[1]=y*s+S*l+w*h+E*m,e[2]=y*i+S*c+w*d+E*v,e[3]=y*o+S*f+w*p+E*b,y=n[4],S=n[5],w=n[6],E=n[7],e[4]=y*r+S*a+w*u+E*g,e[5]=y*s+S*l+w*h+E*m,e[6]=y*i+S*c+w*d+E*v,e[7]=y*o+S*f+w*p+E*b,y=n[8],S=n[9],w=n[10],E=n[11],e[8]=y*r+S*a+w*u+E*g,e[9]=y*s+S*l+w*h+E*m,e[10]=y*i+S*c+w*d+E*v,e[11]=y*o+S*f+w*p+E*b,y=n[12],S=n[13],w=n[14],E=n[15],e[12]=y*r+S*a+w*u+E*g,e[13]=y*s+S*l+w*h+E*m,e[14]=y*i+S*c+w*d+E*v,e[15]=y*o+S*f+w*p+E*b,e};var i4=s4;const{EPS:o4}=Dt,{sin:a4,cos:l4}=Hn,c4=qg,f4=(e,t,n,r)=>{let[s,i,o]=r;const a=s*s+i*i+o*o;if(Math.abs(a)<o4)return c4(e,t);const l=1/Math.sqrt(a);s*=l,i*=l,o*=l;const c=a4(n),f=l4(n),u=1-f,h=t[0],d=t[1],p=t[2],g=t[3],m=t[4],v=t[5],b=t[6],y=t[7],S=t[8],w=t[9],E=t[10],A=t[11],O=s*s*u+f,z=i*s*u+o*c,N=o*s*u-i*c,k=s*i*u-o*c,le=i*i*u+f,$=o*i*u+s*c,V=s*o*u+i*c,Ge=i*o*u-s*c,ne=o*o*u+f;return e[0]=h*O+m*z+S*N,e[1]=d*O+v*z+w*N,e[2]=p*O+b*z+E*N,e[3]=g*O+y*z+A*N,e[4]=h*k+m*le+S*$,e[5]=d*k+v*le+w*$,e[6]=p*k+b*le+E*$,e[7]=g*k+y*le+A*$,e[8]=h*V+m*Ge+S*ne,e[9]=d*V+v*Ge+w*ne,e[10]=p*V+b*Ge+E*ne,e[11]=g*V+y*Ge+A*ne,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e};var u4=f4;const{sin:d4,cos:h4}=Hn,m4=(e,t,n)=>{const r=d4(n),s=h4(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+h*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=h*s-l*r,e};var p4=m4;const{sin:g4,cos:v4}=Hn,b4=(e,t,n)=>{const r=g4(n),s=v4(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-h*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+h*s,e};var _4=b4;const{sin:y4,cos:A4}=Hn,S4=(e,t,n)=>{const r=y4(n),s=A4(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+h*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=h*s-l*r,e};var E4=S4;const w4=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};var T4=w4;const C4=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e);var P4=C4;const L4=e=>e.map(t=>t.toFixed(7)).toString();var O4=L4;const R4=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];let o,a,l,c,f,u,h,d,p,g,m,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],h=t[6],d=t[7],p=t[8],g=t[9],m=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=h,e[7]=d,e[8]=p,e[9]=g,e[10]=m,e[11]=v,e[12]=o*r+f*s+p*i+t[12],e[13]=a*r+u*s+g*i+t[13],e[14]=l*r+h*s+m*i+t[14],e[15]=c*r+d*s+v*i+t[15]),e};var M4=R4,qt={add:nE,clone:oE,copy:qg,create:Ku,invert:cE,equals:uE,fromRotation:Yg,fromScaling:CE,fromTaitBryanRotation:LE,fromTranslation:RE,fromValues:DE,fromVectorRotation:Gw,fromXRotation:Vw,fromYRotation:jw,fromZRotation:Yw,identity:Wg,isIdentity:Kw,isOnlyTransformScale:Jw,isMirroring:t4,mirrorByPlane:r4,multiply:i4,rotate:u4,rotateX:p4,rotateY:_4,rotateZ:E4,scale:T4,subtract:P4,toString:O4,translate:M4};const I4=qt,D4=e=>(e===void 0&&(e=[]),{sides:e,transforms:I4.create()});var Rl=D4;const F4=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e);var x4=F4;const k4=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e);var G4=k4;const B4=e=>Math.atan2(e[1],e[0]);var Ju=B4,N4=Ju;const $4=Ju,V4=e=>$4(e)*57.29577951308232;var U4=V4;const H4=()=>[0,0];var Ml=H4;const z4=Ml,j4=e=>{const t=z4();return t[0]=e[0],t[1]=e[1],t};var q4=j4;const X4=(e,t)=>(e[0]=t[0],e[1]=t[1],e);var W4=X4;const Y4=(e,t,n)=>(e[0]=0,e[1]=0,e[2]=t[0]*n[1]-t[1]*n[0],e);var Z4=Y4;const K4=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)};var Q4=K4;const J4=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e);var eT=J4;const tT=(e,t)=>e[0]*t[0]+e[1]*t[1];var nT=tT;const rT=(e,t)=>e[0]===t[0]&&e[1]===t[1];var sT=rT;const{sin:iT,cos:oT}=Hn,aT=(e,t)=>(e[0]=oT(t),e[1]=iT(t),e);var ov=aT;const lT=ov,cT=(e,t)=>lT(e,t*.017453292519943295);var fT=cT;const uT=(e,t)=>(e[0]=t,e[1]=t,e);var dT=uT;const hT=Ml,mT=(e,t)=>{const n=hT();return n[0]=e,n[1]=t,n};var pT=mT;const gT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]);var vT=gT;const bT=(e,t,n,r)=>{const s=t[0],i=t[1];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e};var _T=bT;const yT=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e);var AT=yT;const ST=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e);var ET=ST;const wT=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e);var TT=wT;const CT=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e);var PT=CT;const LT=(e,t,n,r)=>{const s=t[0]-n[0],i=t[1]-n[1],o=Math.cos(r),a=Math.sin(r);return e[0]=s*o-i*a+n[0],e[1]=s*a+i*o+n[1],e};var av=LT;const{TAU:OT}=Dt,RT=Ml,MT=av,IT=(e,t)=>MT(e,t,RT(),OT/4);var DT=IT;const FT=(e,t)=>{const n=t[0],r=t[1];let s=n*n+r*r;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e};var xT=FT;const kT=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e);var GT=kT;const BT=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e);var NT=BT;const $T=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r};var VT=$T;const UT=e=>{const t=e[0],n=e[1];return t*t+n*n};var HT=UT;const zT=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e);var jT=zT;const qT=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}]`;var XT=qT;const WT=(e,t,n)=>{const r=t[0],s=t[1];return e[0]=n[0]*r+n[4]*s+n[12],e[1]=n[1]*r+n[5]*s+n[13],e};var YT=WT,St={abs:x4,add:G4,angle:N4,angleDegrees:U4,angleRadians:Ju,clone:q4,copy:W4,create:Ml,cross:Z4,distance:Q4,divide:eT,dot:nT,equals:sT,fromAngleDegrees:fT,fromAngleRadians:ov,fromScalar:dT,fromValues:pT,length:vT,lerp:_T,max:AT,min:ET,multiply:TT,negate:PT,normal:DT,normalize:xT,rotate:av,scale:GT,snap:NT,squaredDistance:VT,squaredLength:HT,subtract:jT,toString:XT,transform:YT};const kf=St,ZT=Rl,KT=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");let t=e.length;if(t<3)throw new Error("the given points must define a closed geometry with three or more points");kf.equals(e[0],e[t-1])&&--t;const n=[];let r=e[t-1];for(let s=0;s<t;s++){const i=e[s];n.push([kf.clone(r),kf.clone(i)]),r=i}return ZT(n)};var QT=KT;const JT=qt,F1=St,eC=Rl,tC=e=>{if(e[0]!==0)throw new Error("invalid compact binary data");const t=eC();t.transforms=JT.clone(e.slice(1,17));for(let n=21;n<e.length;n+=4){const r=F1.fromValues(e[n+0],e[n+1]),s=F1.fromValues(e[n+2],e[n+3]);t.sides.push([r,s])}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var nC=tC;const rC=e=>!!(e&&typeof e=="object"&&"sides"in e&&"transforms"in e&&Array.isArray(e.sides)&&"length"in e.transforms);var lv=rC;const x1=qt,Ua=St,sC=e=>(x1.isIdentity(e.transforms)||(e.sides=e.sides.map(t=>{const n=Ua.transform(Ua.create(),t[0],e.transforms),r=Ua.transform(Ua.create(),t[1],e.transforms);return[n,r]}),e.transforms=x1.create()),e);var iC=sC;const oC=iC,aC=e=>oC(e).sides;var qo=aC;const lC=Rl,cC=qo,fC=e=>{const n=cC(e).map(r=>[r[1],r[0]]);return n.reverse(),lC(n)};var uC=fC;const vo=St,dC=qo,hC=e=>{const t=new Map,n=r=>{const s=r.toString();return t.has(s)?t.get(s):(t.set(s,r),r)};return e.map(r=>r.map(n))},mC=e=>{const t=new Map;return hC(e).forEach(r=>{t.has(r[0])?t.get(r[0]).push(r):t.set(r[0],[r])}),t},pC=e=>{const t=mC(dC(e)),n=[];for(;;){let r;for(const[o,a]of t){if(r=a.shift(),!r){t.delete(o);continue}break}if(r===void 0)break;const s=[],i=r[0];for(;;){s.push(r[0]);const o=r[1];if(o===i)break;const a=t.get(o);if(!a)throw new Error(`geometry is not closed at vertex ${o}`);const l=gC(r,a);a.length===0&&t.delete(o),r=l}s.length>0&&s.push(s.shift()),n.push(s)}return t.clear(),n},gC=(e,t)=>{if(t.length===1)return t.pop();const n=vo.create(),r=vo.angleDegrees(vo.subtract(n,e[1],e[0]));let s,i;t.forEach((a,l)=>{let f=vo.angleDegrees(vo.subtract(n,a[1],a[0]))-r;f<-180&&(f+=360),f>=180&&(f-=360),(i===void 0||f>s)&&(i=l,s=f)});const o=t[i];return t.splice(i,1),o};var cv=pC;const vC=qo,bC=e=>{const n=vC(e).map(r=>r[0]);return n.length>0&&n.push(n.shift()),n};var _C=bC;const k1=St,yC=qo,AC=e=>{const t=yC(e);let n="geom2 ("+t.length+` sides):
[
`;return t.forEach(r=>{n+="  ["+k1.toString(r[0])+", "+k1.toString(r[1])+`]
`}),n+=`]
`,n};var SC=AC;const EC=e=>{const t=e.sides,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+4+t.length*4);s[0]=0,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=r[0],s[18]=r[1],s[19]=r[2],s[20]=r[3];for(let i=0;i<t.length;i++){const o=i*4+21,a=t[i][0],l=t[i][1];s[o+0]=a[0],s[o+1]=a[1],s[o+2]=l[0],s[o+3]=l[1]}return s};var wC=EC;const G1=qt,TC=(e,t)=>{const n=G1.multiply(G1.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var CC=TC;const PC=St,LC=lv,OC=cv,RC=e=>{if(!LC(e))throw new Error("invalid geom2 structure");if(OC(e),e.sides.forEach(t=>{if(PC.equals(t[0],t[1]))throw new Error(`geom2 self-edge ${t[0]}`)}),!e.transforms.every(Number.isFinite))throw new Error(`geom2 invalid transforms ${e.transforms}`)};var MC=RC,gt={clone:eE,create:Rl,fromPoints:QT,fromCompactBinary:nC,isA:lv,reverse:uC,toOutlines:cv,toPoints:_C,toSides:qo,toString:SC,toCompactBinary:wC,transform:CC,validate:MC};const IC=e=>Object.assign({},e);var DC=IC;const FC=qt,xC=e=>(e===void 0&&(e=[]),{polygons:e,transforms:FC.create()});var Il=xC;const kC=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var Ui=kC;const GC=Ui,BC=st,NC=(...e)=>{let t,n;return e.length===1?(t=GC(),n=e[0]):(t=e[0],n=e[1]),t.vertices=n.vertices.map(r=>BC.clone(r)),t};var $C=NC;const VC=st,UC=Ui,HC=e=>{const t=e.map(n=>VC.clone(n));return UC(t)};var zC=HC;const jC=Ui,qC=(e,t)=>{const n=jC(e);return n.plane=t,n};var XC=qC;const WC=()=>[0,0,0,0];var Dl=WC;const YC=Dl,ZC=e=>{const t=YC();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};var fv=ZC;const KC=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e);var uv=KC;const QC=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3];var dv=QC;const JC=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e);var hv=JC;const Gf=st,eP=(e,t,n)=>{const r=Gf.normalize(Gf.create(),t),s=Gf.dot(n,r);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=s,e};var tP=eP;const nP=Dl,rP=(e,t,n,r)=>{const s=nP();return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s};var mv=rP;const Lr=st,sP=(e,...t)=>{const n=t.length,r=Lr.create(),s=Lr.create(),i=o=>{const a=t[o],l=t[(o+1)%n],c=t[(o+2)%n];return Lr.subtract(r,l,a),Lr.subtract(s,c,a),Lr.cross(r,r,s),Lr.normalize(r,r),r};return e[0]=0,e[1]=0,e[2]=0,n===3?Lr.copy(e,i(0)):(t.forEach((o,a)=>{Lr.add(e,e,i(a))}),Lr.normalize(e,e)),e[3]=Lr.dot(e,t[0]),e};var pv=sP;const{EPS:Bf}=Dt,Wn=st,iP=(e,t,n,r)=>{let s=Wn.subtract(Wn.create(),n,t),i=Wn.subtract(Wn.create(),r,t);Wn.length(s)<Bf&&(s=Wn.orthogonal(s,i)),Wn.length(i)<Bf&&(i=Wn.orthogonal(i,s));let o=Wn.cross(Wn.create(),s,i);Wn.length(o)<Bf&&(i=Wn.orthogonal(i,s),o=Wn.cross(o,s,i)),o=Wn.normalize(o,o);const a=Wn.dot(o,t);return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=a,e};var oP=iP;const aP=st,lP=(e,t)=>{const n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]-e[3],r=t[0]-n*e[0],s=t[1]-n*e[1],i=t[2]-n*e[2];return aP.fromValues(r,s,i)};var cP=lP;const fP=st,uP=(e,t)=>fP.dot(e,t)-e[3];var gv=uP;const dP=e=>`(${e[0].toFixed(9)}, ${e[1].toFixed(9)}, ${e[2].toFixed(9)}, ${e[3].toFixed(9)})`;var vv=dP;const hP=qt,Yn=st,mP=pv,pP=hv,gP=(e,t,n)=>{const r=hP.isMirroring(n),s=Yn.orthogonal(Yn.create(),t),i=Yn.cross(s,t,s),o=Yn.cross(Yn.create(),t,i);let a=Yn.fromScalar(Yn.create(),t[3]);Yn.multiply(a,a,t);let l=Yn.add(Yn.create(),a,i),c=Yn.add(Yn.create(),a,o);return a=Yn.transform(a,a,n),l=Yn.transform(l,l,n),c=Yn.transform(c,c,n),mP(e,a,l,c),r&&pP(e,e),e};var vP=gP,Fr={clone:fv,copy:uv,create:Dl,equals:dv,flip:hv,fromNormalAndPoint:tP,fromValues:mv,fromPoints:pv,fromPointsRandom:oP,projectionOfPoint:cP,signedDistanceToPoint:gv,toString:vv,transform:vP};const B1=Fr,bP=Ui,_P=e=>{const t=e.vertices.slice().reverse(),n=bP(t);return e.plane&&(n.plane=B1.flip(B1.create(),e.plane)),n};var yP=_P;const AP=e=>!!(e&&typeof e=="object"&&"vertices"in e&&Array.isArray(e.vertices));var bv=AP;const N1=Fr,Gs=st,SP=e=>EP(e.vertices),EP=e=>{const t=e.length;if(t>2){const n=N1.fromPoints(N1.create(),...e);let r=e[t-2],s=e[t-1];for(let i=0;i<t;i++){const o=e[i];if(!wP(r,s,o,n))return!1;r=s,s=o}}return!0},wP=(e,t,n,r)=>{const s=Gs.cross(Gs.create(),Gs.subtract(Gs.create(),t,e),Gs.subtract(Gs.create(),n,t));return Gs.dot(s,r)>=0};var _v=SP;const $1=Fr,TP=e=>(e.plane||(e.plane=$1.fromPoints($1.create(),...e.vertices)),e.plane);var ed=TP;const CP=ed,PP=e=>{const t=e.vertices.length;if(t<3)return 0;const n=e.vertices,r=CP(e),s=Math.abs(r[0]),i=Math.abs(r[1]),o=Math.abs(r[2]);if(s+i+o===0)return 0;let a=3;s>i&&s>o?a=1:i>o&&(a=2);let l=0,c=0,f=1,u=2;switch(a){case 1:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][1]*(n[u][2]-n[c][2]);l+=n[0][1]*(n[1][2]-n[t-1][2]),l/=2*r[0];break;case 2:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][2]*(n[u][0]-n[c][0]);l+=n[0][2]*(n[1][0]-n[t-1][0]),l/=2*r[1];break;case 3:default:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][0]*(n[u][1]-n[c][1]);l+=n[0][0]*(n[1][1]-n[t-1][1]),l/=2*r[2];break}return l};var yv=PP;const bo=st,LP=e=>{const t=e.vertices,n=t.length,r=n===0?bo.create():bo.clone(t[0]),s=bo.clone(r);for(let i=1;i<n;i++)bo.min(r,r,t[i]),bo.max(s,s,t[i]);return[r,s]};var OP=LP;const RP=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];var MP=RP;const IP=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e[3]=t,e);var DP=IP;const FP=(e,t,n)=>{const[r,s,i,o]=t;return e[0]=n[0]*r+n[4]*s+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*s+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*s+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*s+n[11]*i+n[15]*o,e};var xP=FP,Av={clone:fv,copy:uv,create:Dl,dot:MP,equals:dv,fromScalar:DP,fromValues:mv,toString:vv,transform:xP};const kP=Av,V1=new WeakMap,GP=e=>{let t=V1.get(e);if(t)return t;const n=e.vertices,r=kP.create();if(n.length===0)return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r;let s=n[0],i=s,o=s,a=s,l=s,c=s;n.forEach(d=>{s[0]>d[0]&&(s=d),i[1]>d[1]&&(i=d),o[2]>d[2]&&(o=d),a[0]<d[0]&&(a=d),l[1]<d[1]&&(l=d),c[2]<d[2]&&(c=d)}),r[0]=(s[0]+a[0])*.5,r[1]=(i[1]+l[1])*.5,r[2]=(o[2]+c[2])*.5;const f=r[0]-a[0],u=r[1]-l[1],h=r[2]-c[2];return r[3]=Math.sqrt(f*f+u*u+h*h),V1.set(e,r),r};var BP=GP;const Nf=st,NP=e=>{let t=0;const n=e.vertices,r=Nf.create();for(let s=0;s<n.length-2;s++)Nf.cross(r,n[s+1],n[s+2]),t+=Nf.dot(n[0],r);return t/=6,t};var $P=NP;const VP=e=>e.vertices;var UP=VP;const HP=st,zP=e=>{let t="poly3: vertices: [";return e.vertices.forEach(n=>{t+=`${HP.toString(n)}, `}),t+="]",t};var jP=zP;const qP=qt,U1=st,XP=Ui,WP=(e,t)=>{const n=t.vertices.map(r=>U1.transform(U1.create(),r,e));return qP.isMirroring(e)&&n.reverse(),XP(n)};var YP=WP;const ZP=gv,{NEPS:KP}=Dt,QP=st,JP=bv,eL=_v,tL=yv,nL=ed,rL=e=>{if(!JP(e))throw new Error("invalid poly3 structure");if(e.vertices.length<3)throw new Error(`poly3 not enough vertices ${e.vertices.length}`);if(tL(e)<=0)throw new Error("poly3 area must be greater than zero");for(let t=0;t<e.vertices.length;t++)if(QP.equals(e.vertices[t],e.vertices[(t+1)%e.vertices.length]))throw new Error(`poly3 duplicate vertex ${e.vertices[t]}`);if(!eL(e))throw new Error("poly3 must be convex");if(e.vertices.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`poly3 invalid vertex ${t}`)}),e.vertices.length>3){const t=nL(e);e.vertices.forEach(n=>{const r=Math.abs(ZP(t,n));if(r>KP)throw new Error(`poly3 must be coplanar: vertex ${n} distance ${r}`)})}};var sL=rL,Mt={clone:$C,create:Ui,fromPoints:zC,fromPointsAndPlane:XC,invert:yP,isA:bv,isConvex:_v,measureArea:yv,measureBoundingBox:OP,measureBoundingSphere:BP,measureSignedVolume:$P,plane:ed,toPoints:UP,toString:jP,transform:YP,validate:sL};const iL=Mt,oL=Il,aL=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const t=e.map((r,s)=>iL.create(r));return oL(t)};var lL=aL;const cL=st,fL=qt,uL=Mt,dL=Il,hL=e=>{if(e[0]!==1)throw new Error("invalid compact binary data");const t=dL();t.transforms=fL.clone(e.slice(1,17));const n=e[21];let r=22,s=e.length-n*3;for(;s<e.length;){const i=e[r];r++;const o=[];for(let a=0;a<i;a++)o.push(cL.fromValues(e[s],e[s+1],e[s+2])),s+=3;t.polygons.push(uL.create(o))}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var mL=hL;const H1=qt,pL=Mt,gL=e=>(H1.isIdentity(e.transforms)||(e.polygons=e.polygons.map(t=>pL.transform(e.transforms,t)),e.transforms=H1.create()),e);var vL=gL;const bL=vL,_L=e=>bL(e).polygons;var Fl=_L;const yL=Mt,AL=Il,SL=Fl,EL=e=>{const n=SL(e).map(r=>yL.invert(r));return AL(n)};var wL=EL;const TL=e=>!!(e&&typeof e=="object"&&"polygons"in e&&"transforms"in e&&Array.isArray(e.polygons)&&"length"in e.transforms);var Sv=TL;const CL=Mt,PL=Fl,LL=e=>PL(e).map(r=>CL.toPoints(r));var OL=LL;const RL=Mt,ML=Fl,IL=e=>{const t=ML(e);let n="geom3 ("+t.length+` polygons):
`;return t.forEach(r=>{n+="  "+RL.toString(r)+`
`}),n};var DL=IL;const FL=Mt,xL=e=>{const t=e.polygons,n=e.transforms,r=t.length,s=t.reduce((c,f)=>c+f.vertices.length,0);let i=[-1,-1,-1,-1];e.color&&(i=e.color);const o=new Float32Array(1+16+4+1+r+s*3);o[0]=1,o[1]=n[0],o[2]=n[1],o[3]=n[2],o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=n[6],o[8]=n[7],o[9]=n[8],o[10]=n[9],o[11]=n[10],o[12]=n[11],o[13]=n[12],o[14]=n[13],o[15]=n[14],o[16]=n[15],o[17]=i[0],o[18]=i[1],o[19]=i[2],o[20]=i[3],o[21]=s;let a=22,l=a+r;return t.forEach(c=>{const f=FL.toPoints(c);o[a]=f.length,a++;for(let u=0;u<f.length;u++){const h=f[u];o[l+0]=h[0],o[l+1]=h[1],o[l+2]=h[2],l+=3}}),o};var kL=xL;const z1=qt,GL=(e,t)=>{const n=z1.multiply(z1.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var BL=GL;const NL=Mt,$L=Sv,VL=e=>{if(!$L(e))throw new Error("invalid geom3 structure");if(e.polygons.forEach(NL.validate),UL(e),!e.transforms.every(Number.isFinite))throw new Error(`geom3 invalid transforms ${e.transforms}`)},UL=e=>{const t=new Map;e.polygons.forEach(({vertices:r})=>{r.forEach((s,i)=>{const o=`${s}`,a=`${r[(i+1)%r.length]}`,l=`${o}/${a}`,c=t.has(l)?t.get(l):0;t.set(l,c+1)})});const n=[];if(t.forEach((r,s)=>{const i=s.split("/").reverse().join("/"),o=t.get(i);r!==o&&n.push(s.replace("/"," -> "))}),n.length>0)throw new Error(`non-manifold edges ${n.length}
${n.join(`
`)}`)};var HL=VL,_t={clone:DC,create:Il,fromPoints:lL,fromCompactBinary:mL,invert:wL,isA:Sv,toPoints:OL,toPolygons:Fl,toString:DL,toCompactBinary:kL,transform:BL,validate:HL};const zL=e=>Object.assign({},e);var td=zL;const{EPS:j1}=Dt,jL=St,qL=td,XL=e=>{if(e.isClosed)return e;const t=qL(e);if(t.isClosed=!0,t.points.length>1){const n=t.points,r=n[0];let s=n[n.length-1];for(;jL.distance(r,s)<j1*j1&&(n.pop(),n.length!==1);)s=n[n.length-1]}return t};var Ev=XL;const WL=qt,YL=e=>(e===void 0&&(e=[]),{points:e,isClosed:!1,transforms:WL.create()});var xl=YL;const{EPS:q1}=Dt,X1=St,ZL=Ev,KL=xl,QL=(e,t)=>{const n={closed:!1};let{closed:r}=Object.assign({},n,e),s=KL();if(s.points=t.map(i=>X1.clone(i)),s.points.length>1){const i=s.points[0],o=s.points[s.points.length-1];X1.distance(i,o)<q1*q1&&(r=!0)}return r===!0&&(s=ZL(s)),s};var nd=QL;const W1=qt,Y1=St,JL=e=>(W1.isIdentity(e.transforms)||(e.points=e.points.map(t=>Y1.transform(Y1.create(),t,e.transforms)),e.transforms=W1.create()),e);var eO=JL;const tO=eO,nO=e=>tO(e).points;var Hi=nO;const{TAU:Ha}=Dt,Cn=St,rO=nd,sO=Hi,iO=(e,t)=>{const n={radius:[0,0],xaxisrotation:0,clockwise:!1,large:!1,segments:16};let{endpoint:r,radius:s,xaxisrotation:i,clockwise:o,large:a,segments:l}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("endpoint must be an array of X and Y values");if(r.length<2)throw new Error("endpoint must contain X and Y values");if(r=Cn.clone(r),!Array.isArray(s))throw new Error("radius must be an array of X and Y values");if(s.length<2)throw new Error("radius must contain X and Y values");if(l<4)throw new Error("segments must be four or more");const c=1e5;if(t.isClosed)throw new Error("the given path cannot be closed");const f=sO(t);if(f.length<1)throw new Error("the given path must contain one or more points (as the starting point for the arc)");let u=s[0],h=s[1];const d=f[f.length-1];u=Math.round(u*c)/c,h=Math.round(h*c)/c,r=Cn.fromValues(Math.round(r[0]*c)/c,Math.round(r[1]*c)/c);const p=!o;let g=[];if(u===0||h===0)g.push(r);else{u=Math.abs(u),h=Math.abs(h);const v=i,b=Math.cos(v),y=Math.sin(v),S=Cn.subtract(Cn.create(),d,r);Cn.scale(S,S,.5);const w=Math.round((b*S[0]+y*S[1])*c)/c,E=Math.round((-y*S[0]+b*S[1])*c)/c,A=Cn.fromValues(w,E),O=A[0]*A[0]/(u*u)+A[1]*A[1]/(h*h);if(O>1){const he=Math.sqrt(O);u*=he,h*=he,u=Math.round(u*c)/c,h=Math.round(h*c)/c}let z=Math.sqrt((u*u*h*h-u*u*A[1]*A[1]-h*h*A[0]*A[0])/(u*u*A[1]*A[1]+h*h*A[0]*A[0]));p===a&&(z=-z);const N=Cn.fromValues(u*A[1]/h,-h*A[0]/u);Cn.scale(N,N,z);let k=Cn.fromValues(b*N[0]-y*N[1],y*N[0]+b*N[1]);k=Cn.add(k,k,Cn.scale(Cn.create(),Cn.add(Cn.create(),d,r),.5));const le=Cn.fromValues((A[0]-N[0])/u,(A[1]-N[1])/h),$=Cn.fromValues((-A[0]-N[0])/u,(-A[1]-N[1])/h),V=Cn.angleRadians(le);let ne=Cn.angleRadians($)-V;ne=ne%Ha,!p&&ne>0?ne-=Ha:p&&ne<0&&(ne+=Ha);let H=Math.ceil(Math.abs(ne)/Ha*l)+1;H<1&&(H=1);for(let he=1;he<H;he++){const te=V+he/H*ne,oe=Math.cos(te),lt=Math.sin(te),ke=Cn.fromValues(b*u*oe-y*h*lt,y*u*oe+b*h*lt);Cn.add(ke,ke,k),g.push(ke)}H&&g.push(e.endpoint)}return g=f.concat(g),rO({},g)};var oO=iO;const aO=nd,lO=Hi,{equals:cO}=St,fO=(...e)=>{let t=!1,n=[];return e.forEach((r,s)=>{const i=lO(r).slice();if(n.length>0&&i.length>0&&cO(i[0],n[n.length-1])&&i.shift(),i.length>0&&t)throw new Error(`Cannot concatenate to a closed path; check the ${s}th path`);t=r.isClosed,n=n.concat(i)}),aO({closed:t},n)};var wv=fO;const uO=wv,dO=xl,hO=(e,t)=>uO(t,dO(e));var Tv=hO;const{TAU:mO}=Dt,cr=St,pO=St,gO=Tv,vO=Hi,bO=(e,t)=>{const n={segments:16};let{controlPoints:r,segments:s}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("controlPoints must be an array of one or more points");if(r.length<1)throw new Error("controlPoints must be an array of one or more points");if(s<4)throw new Error("segments must be four or more");if(t.isClosed)throw new Error("the given geometry cannot be closed");const i=vO(t);if(i.length<1)throw new Error("the given path must contain one or more points (as the starting point for the bezier curve)");if(r=r.slice(),r[0]===null){if(r.length<2)throw new Error("a null control point must be passed with one more control points");let E=i[i.length-2];if("lastBezierControlPoint"in t&&(E=t.lastBezierControlPoint),!Array.isArray(E))throw new Error("the given path must contain TWO or more points if given a null control point");const A=cr.scale(cr.create(),i[i.length-1],2);cr.subtract(A,A,E),r[0]=A}r.unshift(i[i.length-1]);const a=r.length-1,l=[];let c=1;for(let E=0;E<=a;++E)E>0&&(c*=E),l.push(c);const f=[];for(let E=0;E<=a;++E){const A=l[a]/(l[E]*l[a-E]);f.push(A)}const u=cr.create(),h=cr.create(),d=pO.create(),p=E=>{let A=1,O=Math.pow(1-E,a);const z=E!==1?1/(1-E):1,N=cr.create();for(let k=0;k<=a;++k){k===a&&(O=1);const le=f[k]*A*O,$=cr.scale(u,r[k],le);cr.add(N,N,$),A*=E,O*=z}return N},g=[],m=[],v=a+1;for(let E=0;E<v;++E){const A=E/(v-1),O=p(A);g.push(O),m.push(A)}let b=1;const y=mO/s,S=Math.sin(y);for(;b<g.length-1;){const E=cr.subtract(u,g[b],g[b-1]);cr.normalize(E,E);const A=cr.subtract(h,g[b+1],g[b]);cr.normalize(A,A);const O=cr.cross(d,E,A);if(Math.abs(O[2])>S){const z=m[b-1],N=m[b+1],k=z+(N-z)*1/3,le=z+(N-z)*2/3,$=p(k),V=p(le);g.splice(b,1,$,V),m.splice(b,1,k,le),b--,b<1&&(b=1)}else++b}g.shift();const w=gO(g,t);return w.lastBezierControlPoint=r[r.length-2],w};var _O=bO;const yO=St,Z1=Hi,AO=(e,t)=>{if(e.isClosed!==t.isClosed||e.points.length!==t.points.length)return!1;const n=Z1(e),r=Z1(t),s=n.length;let i=0;do{let o=!1;for(let a=0;a<s;a++)if(!yO.equals(n[a],r[(a+i)%s])){o=!0;break}if(o===!1)return!0;if(!e.isClosed)return!1}while(++i<s);return!1};var SO=AO;const EO=qt,wO=St,TO=xl,CO=e=>{if(e[0]!==2)throw new Error("invalid compact binary data");const t=TO();t.transforms=EO.clone(e.slice(1,17)),t.isClosed=!!e[17];for(let n=22;n<e.length;n+=2){const r=wO.fromValues(e[n],e[n+1]);t.points.push(r)}return e[18]>=0&&(t.color=[e[18],e[19],e[20],e[21]]),t};var PO=CO;const LO=e=>!!(e&&typeof e=="object"&&"points"in e&&"transforms"in e&&"isClosed"in e&&Array.isArray(e.points)&&"length"in e.transforms);var Cv=LO;const OO=td,RO=e=>{const t=OO(e);return t.points=e.points.slice().reverse(),t};var MO=RO;const IO=St,DO=Hi,FO=e=>{const t=DO(e);let n="path ("+t.length+" points, "+e.isClosed+`):
[
`;return t.forEach(r=>{n+="  "+IO.toString(r)+`,
`}),n+=`]
`,n};var xO=FO;const kO=e=>{const t=e.points,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+1+4+t.length*2);s[0]=2,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=e.isClosed?1:0,s[18]=r[0],s[19]=r[1],s[20]=r[2],s[21]=r[3];for(let i=0;i<t.length;i++){const o=i*2+22,a=t[i];s[o]=a[0],s[o+1]=a[1]}return s};var GO=kO;const K1=qt,BO=(e,t)=>{const n=K1.multiply(K1.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var NO=BO;const $O=St,VO=Cv,UO=e=>{if(!VO(e))throw new Error("invalid path2 structure");if(e.points.length>1){for(let t=0;t<e.points.length;t++)if($O.equals(e.points[t],e.points[(t+1)%e.points.length]))throw new Error(`path2 duplicate points ${e.points[t]}`)}if(e.points.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`path2 invalid point ${t}`)}),!e.transforms.every(Number.isFinite))throw new Error(`path2 invalid transforms ${e.transforms}`)};var HO=UO,Ut={appendArc:oO,appendBezier:_O,appendPoints:Tv,clone:td,close:Ev,concat:wv,create:xl,equals:SO,fromPoints:nd,fromCompactBinary:PO,isA:Cv,reverse:MO,toPoints:Hi,toString:xO,toCompactBinary:GO,transform:NO,validate:HO};const zO=mt,Pv=gt,Lv=_t,Ov=Ut,Rv=Mt,jO=(e,t)=>{const n=Pv.clone(t);return n.color=e,n},qO=(e,t)=>{const n=Lv.clone(t);return n.color=e,n},XO=(e,t)=>{const n=Ov.clone(t);return n.color=e,n},WO=(e,t)=>{const n=Rv.clone(t);return n.color=e,n},YO=(e,...t)=>{if(!Array.isArray(e))throw new Error("color must be an array");if(e.length<3)throw new Error("color must contain R, G and B values");if(e.length===3&&(e=[e[0],e[1],e[2],1]),t=zO(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>Pv.isA(r)?jO(e,r):Lv.isA(r)?qO(e,r):Ov.isA(r)?XO(e,r):Rv.isA(r)?WO(e,r):(r.color=e,r));return n.length===1?n[0]:n};var ZO=YO;const KO={black:[0/255,0/255,0/255],silver:[192/255,192/255,192/255],gray:[128/255,128/255,128/255],white:[255/255,255/255,255/255],maroon:[128/255,0/255,0/255],red:[255/255,0/255,0/255],purple:[128/255,0/255,128/255],fuchsia:[255/255,0/255,255/255],green:[0/255,128/255,0/255],lime:[0/255,255/255,0/255],olive:[128/255,128/255,0/255],yellow:[255/255,255/255,0/255],navy:[0/255,0/255,128/255],blue:[0/255,0/255,255/255],teal:[0/255,128/255,128/255],aqua:[0/255,255/255,255/255],aliceblue:[240/255,248/255,255/255],antiquewhite:[250/255,235/255,215/255],aquamarine:[127/255,255/255,212/255],azure:[240/255,255/255,255/255],beige:[245/255,245/255,220/255],bisque:[255/255,228/255,196/255],blanchedalmond:[255/255,235/255,205/255],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,255/255,0/255],chocolate:[210/255,105/255,30/255],coral:[255/255,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[255/255,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0/255,255/255,255/255],darkblue:[0/255,0/255,139/255],darkcyan:[0/255,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0/255,100/255,0/255],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0/255,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[255/255,140/255,0/255],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0/255,0/255],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0/255,206/255,209/255],darkviolet:[148/255,0/255,211/255],deeppink:[255/255,20/255,147/255],deepskyblue:[0/255,191/255,255/255],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,255/255],firebrick:[178/255,34/255,34/255],floralwhite:[255/255,250/255,240/255],forestgreen:[34/255,139/255,34/255],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,255/255],gold:[255/255,215/255,0/255],goldenrod:[218/255,165/255,32/255],greenyellow:[173/255,255/255,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,255/255,240/255],hotpink:[255/255,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0/255,130/255],ivory:[255/255,255/255,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[255/255,240/255,245/255],lawngreen:[124/255,252/255,0/255],lemonchiffon:[255/255,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,255/255,255/255],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[255/255,182/255,193/255],lightsalmon:[255/255,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[255/255,255/255,224/255],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[255/255,0/255,255/255],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0/255,0/255,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0/255,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,255/255,250/255],mistyrose:[255/255,228/255,225/255],moccasin:[255/255,228/255,181/255],navajowhite:[255/255,222/255,173/255],oldlace:[253/255,245/255,230/255],olivedrab:[107/255,142/255,35/255],orange:[255/255,165/255,0/255],orangered:[255/255,69/255,0/255],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[255/255,239/255,213/255],peachpuff:[255/255,218/255,185/255],peru:[205/255,133/255,63/255],pink:[255/255,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[255/255,245/255,238/255],sienna:[160/255,82/255,45/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[255/255,250/255,250/255],springgreen:[0/255,255/255,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],thistle:[216/255,191/255,216/255],tomato:[255/255,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],whitesmoke:[245/255,245/255,245/255],yellowgreen:[154/255,205/255,50/255]};var Mv=KO;const QO=Mv,JO=e=>QO[e.toLowerCase()];var eR=JO;const tR=e=>{if(e=e.replace("#",""),e.length<6)throw new Error("the given notation must contain 3 or more hex values");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255;if(e.length>=8){const s=parseInt(e.substring(6,8),16)/255;return[t,n,r,s]}return[t,n,r]};var nR=tR;const rR=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e);var Iv=rR;const sR=mt,$f=Iv,iR=(...e)=>{if(e=sR(e),e.length<3)throw new Error("values must contain H, S and L values");const t=e[0],n=e[1],r=e[2];let s=r,i=r,o=r;if(n!==0){const a=r<.5?r*(1+n):r+n-r*n,l=2*r-a;s=$f(l,a,t+1/3),i=$f(l,a,t),o=$f(l,a,t-1/3)}if(e.length>3){const a=e[3];return[s,i,o,a]}return[s,i,o]};var oR=iR;const aR=mt,lR=(...e)=>{if(e=aR(e),e.length<3)throw new Error("values must contain H, S and V values");const t=e[0],n=e[1],r=e[2];let s=0,i=0,o=0;const a=Math.floor(t*6),l=t*6-a,c=r*(1-n),f=r*(1-l*n),u=r*(1-(1-l)*n);switch(a%6){case 0:s=r,i=u,o=c;break;case 1:s=f,i=r,o=c;break;case 2:s=c,i=r,o=u;break;case 3:s=c,i=f,o=r;break;case 4:s=u,i=c,o=r;break;case 5:s=r,i=c,o=f;break}if(e.length>3){const h=e[3];return[s,i,o,h]}return[s,i,o]};var cR=lR;const fR=mt,uR=(...e)=>{if(e=fR(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0]*255,n=e[1]*255,r=e[2]*255;let s=`#${Number(16777216+t*65536+n*256+r).toString(16).substring(1,7)}`;return e.length>3&&(s=s+Number(e[3]*255).toString(16)),s};var dR=uR;const hR=mt,mR=(...e)=>{if(e=hR(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o,a;const l=(s+i)/2;if(s===i)o=a=0;else{const c=s-i;switch(a=l>.5?c/(2-s-i):c/(s+i),s){case t:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-t)/c+2;break;case r:o=(t-n)/c+4;break}o/=6}if(e.length>3){const c=e[3];return[o,a,l,c]}return[o,a,l]};var pR=mR;const gR=mt,vR=(...e)=>{if(e=gR(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o;const a=s,l=s-i,c=s===0?0:l/s;if(s===i)o=0;else{switch(s){case t:o=(n-r)/l+(n<r?6:0);break;case n:o=(r-t)/l+2;break;case r:o=(t-n)/l+4;break}o/=6}if(e.length>3){const f=e[3];return[o,c,a,f]}return[o,c,a]};var bR=vR,_R={colorize:ZO,colorNameToRgb:eR,cssColors:Mv,hexToRgb:nR,hslToRgb:oR,hsvToRgb:cR,hueToColorComponent:Iv,rgbToHex:dR,rgbToHsl:pR,rgbToHsv:bR};const yR=e=>{if(!Array.isArray(e))throw new Error("Bezier points must be a valid array/");if(e.length<2)throw new Error("Bezier points must contain at least 2 values.");const t=AR(e);return{points:e,pointType:t,dimensions:t==="float_single"?0:e[0].length,permutations:Q1(e.length-1),tangentPermutations:Q1(e.length-2)}},AR=function(e){let t=null;return e.forEach(n=>{let r="";if(Number.isFinite(n))r="float_single";else if(Array.isArray(n))n.forEach(s=>{if(!Number.isFinite(s))throw new Error("Bezier point values must all be numbers.")}),r="float_"+n.length;else throw new Error("Bezier points must all be numbers or arrays of number.");if(t==null)t=r;else if(t!==r)throw new Error("Bezier points must be either all numbers or all arrays of numbers of the same size.")}),t},Q1=function(e){const t=[];for(let n=0;n<=e;n++)t.push(Vf(e)/(Vf(n)*Vf(e-n)));return t},Vf=function(e){let t=1;for(let n=2;n<=e;n++)t*=n;return t};var SR=yR;const ER=(e,t)=>{if(e<0||e>1)throw new Error("Bezier valueAt() input must be between 0 and 1");if(t.pointType==="float_single")return J1(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(J1(t,s,e))}return n}},J1=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<=r;i++)s+=e.permutations[i]*Math.pow(1-n,r-i)*Math.pow(n,i)*t[i];return s};var wR=ER;const TR=(e,t)=>{if(e<0||e>1)throw new Error("Bezier tangentAt() input must be between 0 and 1");if(t.pointType==="float_single")return eh(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(eh(t,s,e))}return n}},eh=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<r;i++){const o=r*(t[i+1]-t[i]);s+=e.tangentPermutations[i]*Math.pow(1-n,r-1-i)*Math.pow(n,i)*o}return s};var CR=TR,PR={create:SR,valueAt:wR,tangentAt:CR},LR={bezier:PR};const OR=e=>{let t=0;for(let n=0;n<e.length;n++){const r=(n+1)%e.length;t+=e[n][0]*e[r][1],t-=e[r][0]*e[n][1]}return t/2};var kl=OR;const RR=kl,MR=e=>RR(e.vertices);var Dv=MR;const IR=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var Fv=IR;const DR=Fv,FR=e=>{const t=e.vertices.slice().reverse();return DR(t)};var xv=FR;const xR=Dv,kR=xv,GR=(e,t)=>{if(e.length===0)return 0;const n=t.vertices;return n.length<3?0:(xR(t)<0&&(t=kR(t)),e.reduce((s,i)=>s+BR(i,n),0)===e.length?1:0)},BR=(e,t)=>{const n=t.length,r=e[0],s=e[1];let i=t[n-1],o=t[0],a=i[1]>s,l=0,c=0;for(let f=n+1;--f;){const u=o[1]>s;if(a!==u){const h=i[0]>r,d=o[0]>r;(h&&d||o[0]-(o[1]-s)*(i[0]-o[0])/(i[1]-o[1])>=r)&&(l=!l)}a=u,i=o,o=t[++c]}return l};var NR=GR,rd={arePointsInside:NR,create:Fv,flip:xv,measureArea:Dv},sd={geom2:gt,geom3:_t,path2:Ut,poly2:rd,poly3:Mt};const $R=()=>[0,1,0];var id=$R;const VR=id,UR=e=>{const t=VR();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var HR=UR;const Uf=St,zR=e=>{const t=Uf.normal(Uf.create(),e);return Uf.negate(t,t),t};var od=zR;const th=St,jR=e=>th.scale(th.create(),e,e[2]);var Gl=jR;const qR=St,XR=od,WR=Gl,YR=(e,t)=>{const n=WR(e),r=XR(e),s=(r[1]-n[1])/(r[0]-n[0]),i=n[1]-s*n[0],o=-1/s,l=(t[1]-o*t[0]-i)/(s-o),c=s*l+i;return qR.fromValues(l,c)};var ZR=YR;const KR=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var kv=KR;const QR=St,JR=(e,t)=>{let n=QR.dot(t,e);return n=Math.abs(n-e[2]),n};var e8=JR;const t8=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var n8=t8;const _o=St,r8=(e,t,n)=>{const r=_o.subtract(_o.create(),n,t);_o.normal(r,r),_o.normalize(r,r);const s=_o.dot(t,r);return e[0]=r[0],e[1]=r[1],e[2]=s,e};var Gv=r8;const s8=id,i8=(e,t,n)=>{const r=s8();return r[0]=e,r[1]=t,r[2]=n,r};var Bv=i8;const{NEPS:Hf}=Dt,o8=(e,t)=>Math.abs(e[0]-t[0])<=Hf&&Math.abs(e[1]-t[1])<=Hf&&Math.abs(e[2]-t[2])<=Hf;var Bl=o8;const a8=(e,t,n)=>{let r=n-e[1],s=t[1]-e[1];s<0&&(r=-r,s=-s);let i;return r<=0?i=0:r>=s?i=1:s<1e-10?i=.5:i=r/s,e[0]+i*(t[0]-e[0])};var Nv=a8;const l8=(e,t,n,r)=>{if(e[0]===t[0]&&e[1]===t[1]||n[0]===r[0]&&n[1]===r[1])return;const s=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(Math.abs(s)<Number.MIN_VALUE)return;const i=((r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]))/s,o=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/s;if(i<0||i>1||o<0||o>1)return;const a=e[0]+i*(t[0]-e[0]),l=e[1]+i*(t[1]-e[1]);return[a,l]};var $v=l8;const c8=(e,t,n,r,s,i)=>{const a=1/(e*r-t*n);let l=s*r-t*i,c=-s*n+e*i;return l*=a,c*=a,[l,c]};var f8=c8,Xo={aboutEqualNormals:Bl,area:kl,cos:Hn.cos,interpolateBetween2DPointsForY:Nv,intersect:$v,sin:Hn.sin,solve2Linear:f8};const u8=St,{solve2Linear:d8}=Xo,h8=(e,t)=>{const n=d8(e[0],e[1],t[0],t[1],e[2],t[2]);return u8.clone(n)};var m8=h8;const nh=St,p8=kv,g8=Bv,v8=(e,t)=>{const n=nh.negate(nh.create(),t),r=-t[2];return p8(e,g8(n[0],n[1],r))};var b8=v8;const _8=e=>`line2: (${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)})`;var y8=_8;const rh=St,A8=Gv,S8=Gl,E8=od,w8=(e,t,n)=>{const r=S8(t),s=E8(t);return rh.transform(r,r,n),rh.transform(s,s,n),A8(e,r,s)};var T8=w8;const C8=Gl,P8=(e,t)=>{let n=(e[2]-e[1]*t)/e[0];return Number.isNaN(n)&&(n=C8(e)[0]),n};var L8=P8,ad={clone:HR,closestPoint:ZR,copy:kv,create:id,direction:od,distanceToPoint:e8,equals:n8,fromPoints:Gv,fromValues:Bv,intersectPointOfLines:m8,origin:Gl,reverse:b8,toString:y8,transform:T8,xAtY:L8};const sh=st,O8=()=>[sh.fromValues(0,0,0),sh.fromValues(0,0,1)];var Vv=O8;const ih=st,R8=Vv,M8=e=>{const t=R8();return ih.copy(t[0],e[0]),ih.copy(t[1],e[1]),t};var I8=M8;const Bs=st,D8=(e,t)=>{const n=e[0],r=e[1],s=Bs.dot(Bs.subtract(Bs.create(),t,n),r),i=Bs.dot(r,r),o=s/i,a=Bs.scale(Bs.create(),r,o);return Bs.add(a,a,n),a};var Uv=D8;const oh=st,F8=(e,t)=>(oh.copy(e[0],t[0]),oh.copy(e[1],t[1]),e);var x8=F8;const k8=e=>e[1];var G8=k8;const zf=st,B8=Uv,N8=(e,t)=>{const n=B8(e,t),r=zf.subtract(zf.create(),t,n);return zf.length(r)};var $8=N8;const ah=st,V8=(e,t)=>!(!ah.equals(e[1],t[1])||!ah.equals(e[0],t[0]));var U8=V8;const za=st,H8=(e,t,n)=>{const r=za.normalize(za.create(),n);return za.copy(e[0],t),za.copy(e[1],r),e};var Wo=H8;const Ns=st,{solve2Linear:jf}=Xo,{EPS:z8}=Dt,j8=Wo,q8=(e,t,n)=>{let r=Ns.cross(Ns.create(),t,n),s=Ns.length(r);if(s<z8)throw new Error("parallel planes do not intersect");s=1/s,r=Ns.scale(r,r,s);const i=Math.abs(r[0]),o=Math.abs(r[1]),a=Math.abs(r[2]);let l,c;return i>=o&&i>=a?(c=jf(t[1],t[2],n[1],n[2],t[3],n[3]),l=Ns.fromValues(0,c[0],c[1])):o>=i&&o>=a?(c=jf(t[0],t[2],n[0],n[2],t[3],n[3]),l=Ns.fromValues(c[0],0,c[1])):(c=jf(t[0],t[1],n[0],n[1],t[3],n[3]),l=Ns.fromValues(c[0],c[1],0)),j8(e,l,r)};var X8=q8;const lh=st,W8=Wo,Y8=(e,t,n)=>{const r=lh.subtract(lh.create(),n,t);return W8(e,t,r)};var Z8=Y8;const Ai=st,K8=(e,t)=>{const n=t,r=t[3],s=e[0],i=e[1],o=(r-Ai.dot(n,s))/Ai.dot(n,i);return Ai.add(Ai.create(),s,Ai.scale(Ai.create(),i,o))};var Q8=K8;const J8=e=>e[0];var e6=J8;const qf=st,t6=Wo,n6=(e,t)=>{const n=qf.clone(t[0]),r=qf.negate(qf.create(),t[1]);return t6(e,n,r)};var r6=n6;const s6=e=>{const t=e[0],n=e[1];return`line3: point: (${t[0].toFixed(7)}, ${t[1].toFixed(7)}, ${t[2].toFixed(7)}) direction: (${n[0].toFixed(7)}, ${n[1].toFixed(7)}, ${n[2].toFixed(7)})`};var i6=s6;const Si=st,o6=Wo,a6=(e,t,n)=>{const r=t[0],s=t[1],i=Si.add(Si.create(),r,s),o=Si.transform(Si.create(),r,n),a=Si.transform(i,i,n),l=Si.subtract(a,a,o);return o6(e,o,l)};var l6=a6,c6={clone:I8,closestPoint:Uv,copy:x8,create:Vv,direction:G8,distanceToPoint:$8,equals:U8,fromPlanes:X8,fromPointAndDirection:Wo,fromPoints:Z8,intersectPointOfLineAndPlane:Q8,origin:e6,reverse:r6,toString:i6,transform:l6},f6={constants:Dt,line2:ad,line3:c6,mat4:qt,plane:Fr,utils:Xo,vec2:St,vec3:st,vec4:Av};const u6=mt,Hv=gt,zv=_t,d6=Ut,h6=Mt,yl=new WeakMap,m6=()=>0,p6=e=>{let t=yl.get(e);return t||(t=Hv.toSides(e).reduce((r,s)=>r+(s[0][0]*s[1][1]-s[0][1]*s[1][0]),0),t*=.5,yl.set(e,t),t)},g6=e=>{let t=yl.get(e);return t||(t=zv.toPolygons(e).reduce((r,s)=>r+h6.measureArea(s),0),yl.set(e,t),t)},v6=(...e)=>{if(e=u6(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>d6.isA(n)?m6():Hv.isA(n)?p6(n):zv.isA(n)?g6(n):0);return t.length===1?t[0]:t};var jv=v6;const b6=mt,_6=jv,y6=(...e)=>{if(e=b6(e),e.length===0)throw new Error("measureAggregateArea: no geometries supplied");const t=_6(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var A6=y6;const S6=mt,Dr=St,yo=st,qv=gt,Xv=_t,Wv=Ut,ch=Mt,Gi=new WeakMap,E6=e=>{let t=Gi.get(e);if(t)return t;const n=Wv.toPoints(e);let r;n.length===0?r=Dr.create():r=Dr.clone(n[0]);let s=Dr.clone(r);return n.forEach(i=>{Dr.min(r,r,i),Dr.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],Gi.set(e,t),t},w6=e=>{let t=Gi.get(e);if(t)return t;const n=qv.toPoints(e);let r;n.length===0?r=Dr.create():r=Dr.clone(n[0]);let s=Dr.clone(r);return n.forEach(i=>{Dr.min(r,r,i),Dr.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],Gi.set(e,t),t},T6=e=>{let t=Gi.get(e);if(t)return t;const n=Xv.toPolygons(e);let r=yo.create();if(n.length>0){const i=ch.toPoints(n[0]);yo.copy(r,i[0])}let s=yo.clone(r);return n.forEach(i=>{ch.toPoints(i).forEach(o=>{yo.min(r,r,o),yo.max(s,s,o)})}),r=[r[0],r[1],r[2]],s=[s[0],s[1],s[2]],t=[r,s],Gi.set(e,t),t},C6=(...e)=>{if(e=S6(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>Wv.isA(n)?E6(n):qv.isA(n)?w6(n):Xv.isA(n)?T6(n):[[0,0,0],[0,0,0]]);return t.length===1?t[0]:t};var Js=C6;const P6=mt,L6=nv,O6=tv,R6=Js,M6=(...e)=>{if(e=P6(e),e.length===0)throw new Error("measureAggregateBoundingBox: no geometries supplied");const t=R6(e);if(e.length===1)return t;const n=[[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]];return t.reduce((r,s)=>(r=[L6(r[0],r[0],s[0]),O6(r[1],r[1],s[1])],r),n)};var ld=M6;const{EPS:I6}=Dt,D6=(e,t)=>{let n=0;for(let r=0;r<t;r++)n+=e[1][r]-e[0][r];return I6*n/t};var Yv=D6;const F6=mt,x6=ld,k6=Yv,{geom2:G6,geom3:B6,path2:N6}=sd,$6=(...e)=>{if(e=F6(e),e.length===0)throw new Error("measureAggregateEpsilon: no geometries supplied");const t=x6(e);let n=0;return n=e.reduce((r,s)=>N6.isA(s)||G6.isA(s)?Math.max(r,2):B6.isA(s)?Math.max(r,3):0,n),k6(t,n)};var V6=$6;const U6=mt,H6=gt,Zv=_t,z6=Ut,j6=Mt,fh=new WeakMap,q6=()=>0,X6=()=>0,W6=e=>{let t=fh.get(e);return t||(t=Zv.toPolygons(e).reduce((r,s)=>r+j6.measureSignedVolume(s),0),fh.set(e,t),t)},Y6=(...e)=>{if(e=U6(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>z6.isA(n)?q6():H6.isA(n)?X6():Zv.isA(n)?W6(n):0);return t.length===1?t[0]:t};var Kv=Y6;const Z6=mt,K6=Kv,Q6=(...e)=>{if(e=Z6(e),e.length===0)throw new Error("measureAggregateVolume: no geometries supplied");const t=K6(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var J6=Q6;const eM=mt,Qv=St,rr=st,Jv=gt,e2=_t,t2=Ut,uh=Mt,Bi=new WeakMap,tM=e=>{let t=Bi.get(e);if(t!==void 0)return t;const n=rr.create();let r=0;const s=t2.toPoints(e);if(s.length>0){let i=0;const o=rr.create();s.forEach(a=>{rr.add(n,n,rr.fromVec2(o,a,0)),i++}),rr.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,Qv.squaredDistance(n,a))}),r=Math.sqrt(r)}return t=[n,r],Bi.set(e,t),t},nM=e=>{let t=Bi.get(e);if(t!==void 0)return t;const n=rr.create();let r=0;const s=Jv.toSides(e);if(s.length>0){let i=0;const o=rr.create();s.forEach(a=>{rr.add(n,n,rr.fromVec2(o,a[0],0)),i++}),rr.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,Qv.squaredDistance(n,a[0]))}),r=Math.sqrt(r)}return t=[n,r],Bi.set(e,t),t},rM=e=>{let t=Bi.get(e);if(t!==void 0)return t;const n=rr.create();let r=0;const s=e2.toPolygons(e);if(s.length>0){let i=0;s.forEach(o=>{uh.toPoints(o).forEach(a=>{rr.add(n,n,a),i++})}),rr.scale(n,n,1/i),s.forEach(o=>{uh.toPoints(o).forEach(a=>{r=Math.max(r,rr.squaredDistance(n,a))})}),r=Math.sqrt(r)}return t=[n,r],Bi.set(e,t),t},sM=(...e)=>{e=eM(e);const t=e.map(n=>t2.isA(n)?tM(n):Jv.isA(n)?nM(n):e2.isA(n)?rM(n):[[0,0,0],0]);return t.length===1?t[0]:t};var iM=sM;const oM=mt,aM=Js,lM=(...e)=>{e=oM(e);const t=e.map(n=>{const r=aM(n);return[r[0][0]+(r[1][0]-r[0][0])/2,r[0][1]+(r[1][1]-r[0][1])/2,r[0][2]+(r[1][2]-r[0][2])/2]});return t.length===1?t[0]:t};var cM=lM;const fM=mt,Mr=st,n2=gt,r2=_t,Al=new WeakMap,uM=e=>{let t=Al.get(e);if(t!==void 0)return t;const n=n2.toSides(e);let r=0,s=0,i=0;if(n.length>0){for(let a=0;a<n.length;a++){const l=n[a][0],c=n[a][1],f=l[0]*c[1]-l[1]*c[0];r+=f,s+=(l[0]+c[0])*f,i+=(l[1]+c[1])*f}r/=2;const o=1/(r*6);s*=o,i*=o}return t=Mr.fromValues(s,i,0),Al.set(e,t),t},dM=e=>{let t=Al.get(e);if(t!==void 0)return t;t=Mr.create();const n=r2.toPolygons(e);if(n.length===0)return t;let r=0;const s=Mr.create();return n.forEach(i=>{const o=i.vertices;for(let a=0;a<o.length-2;a++){Mr.cross(s,o[a+1],o[a+2]);const l=Mr.dot(o[0],s)/6;r+=l,Mr.add(s,o[0],o[a+1]),Mr.add(s,s,o[a+2]);const c=Mr.scale(s,s,1/4*l);Mr.add(t,t,c)}}),Mr.scale(t,t,1/r),Al.set(e,t),t},hM=(...e)=>{e=fM(e);const t=e.map(n=>n2.isA(n)?uM(n):r2.isA(n)?dM(n):[0,0,0]);return t.length===1?t[0]:t};var mM=hM;const pM=mt,gM=Js,vM=(...e)=>{e=pM(e);const t=e.map(n=>{const r=gM(n);return[r[1][0]-r[0][0],r[1][1]-r[0][1],r[1][2]-r[0][2]]});return t.length===1?t[0]:t};var bM=vM;const _M=mt,{geom2:yM,geom3:AM,path2:SM}=sd,cd=Yv,fd=Js,EM=e=>cd(fd(e),2),wM=e=>cd(fd(e),2),TM=e=>cd(fd(e),3),CM=(...e)=>{if(e=_M(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>SM.isA(n)?EM(n):yM.isA(n)?wM(n):AM.isA(n)?TM(n):0);return t.length===1?t[0]:t};var _s=CM,ku={measureAggregateArea:A6,measureAggregateBoundingBox:ld,measureAggregateEpsilon:V6,measureAggregateVolume:J6,measureArea:jv,measureBoundingBox:Js,measureBoundingSphere:iM,measureCenter:cM,measureCenterOfMass:mM,measureDimensions:bM,measureEpsilon:_s,measureVolume:Kv};const PM=(e,t)=>Array.isArray(e)&&e.length>=t?e.every(n=>Number.isFinite(n)):!1,LM=(e,t)=>Number.isFinite(e)&&e>t,OM=(e,t)=>Number.isFinite(e)&&e>=t;var In={isNumberArray:PM,isGT:LM,isGTE:OM};const{EPS:dh,TAU:Ei}=Dt,Vr=St,RM=Ut,{isGT:MM,isGTE:Xf,isNumberArray:IM}=In,DM=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:Ei,makeTangent:!1,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,makeTangent:o,segments:a}=Object.assign({},t,e);if(!IM(n,2))throw new Error("center must be an array of X and Y values");if(!MM(r,0))throw new Error("radius must be greater than zero");if(!Xf(s,0))throw new Error("startAngle must be positive");if(!Xf(i,0))throw new Error("endAngle must be positive");if(!Xf(a,4))throw new Error("segments must be four or more");s=s%Ei,i=i%Ei;let l=Ei;s<i&&(l=i-s),s>i&&(l=i+(Ei-s));const c=Math.acos((r*r+r*r-dh*dh)/(2*r*r)),f=Vr.clone(n);let u;const h=[];if(l<c)u=Vr.fromAngleRadians(Vr.create(),s),Vr.scale(u,u,r),Vr.add(u,u,f),h.push(u);else{const d=Math.max(1,Math.floor(a*(l/Ei)))+1;let p=d*.5/l;p>.25&&(p=.25);const g=o?d+2:d;for(let m=0;m<=g;m++){let v=m;o&&(v=(m-1)*(d-2*p)/d+p,v<0&&(v=0),v>d&&(v=d));const b=s+v*(l/d);u=Vr.fromAngleRadians(Vr.create(),b),Vr.scale(u,u,r),Vr.add(u,u,f),h.push(u)}}return RM.fromPoints({closed:!1},h)};var FM=DM;const{EPS:hh,TAU:us}=Dt,Wf=St,xM=gt,{sin:kM,cos:GM}=Hn,{isGTE:Yf,isNumberArray:mh}=In,BM=e=>{const t={center:[0,0],radius:[1,1],startAngle:0,endAngle:us,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!mh(n,2))throw new Error("center must be an array of X and Y values");if(!mh(r,2))throw new Error("radius must be an array of X and Y values");if(!r.every(d=>d>0))throw new Error("radius values must be greater than zero");if(!Yf(s,0))throw new Error("startAngle must be positive");if(!Yf(i,0))throw new Error("endAngle must be positive");if(!Yf(o,3))throw new Error("segments must be three or more");s=s%us,i=i%us;let a=us;s<i&&(a=i-s),s>i&&(a=i+(us-s));const l=Math.min(r[0],r[1]),c=Math.acos((l*l+l*l-hh*hh)/(2*l*l));if(a<c)throw new Error("startAngle and endAngle do not define a significant rotation");o=Math.floor(o*(a/us));const f=Wf.clone(n),u=a/o,h=[];o=a<us?o+1:o;for(let d=0;d<o;d++){const p=u*d+s,g=Wf.fromValues(r[0]*GM(p),r[1]*kM(p));Wf.add(g,f,g),h.push(g)}return a<us&&h.push(f),xM.fromPoints(h)};var s2=BM;const{TAU:NM}=Dt,$M=s2,{isGT:VM}=In,UM=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:NM,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!VM(r,0))throw new Error("radius must be greater than zero");return r=[r,r],$M({center:n,radius:r,startAngle:s,endAngle:i,segments:o})};var i2=UM;const HM=_t,zM=Mt,{isNumberArray:ph}=In,jM=e=>{const t={center:[0,0,0],size:[2,2,2]},{center:n,size:r}=Object.assign({},t,e);if(!ph(n,3))throw new Error("center must be an array of X, Y and Z values");if(!ph(r,3))throw new Error("size must be an array of width, depth and height values");if(!r.every(i=>i>0))throw new Error("size values must be greater than zero");return HM.create([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(i=>{const o=i[0].map(a=>[n[0]+r[0]/2*(2*!!(a&1)-1),n[1]+r[1]/2*(2*!!(a&2)-1),n[2]+r[2]/2*(2*!!(a&4)-1)]);return zM.create(o)}))};var o2=jM;const qM=o2,{isGT:XM}=In,WM=e=>{const t={center:[0,0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!XM(r,0))throw new Error("size must be greater than zero");return r=[r,r,r],qM({center:n,size:r})};var YM=WM;const{EPS:gh,TAU:ds}=Dt,Gn=st,ZM=_t,KM=Mt,{sin:QM,cos:JM}=Hn,{isGT:eI,isGTE:Zf,isNumberArray:Kf}=In,tI=e=>{const t={center:[0,0,0],height:2,startRadius:[1,1],startAngle:0,endRadius:[1,1],endAngle:ds,segments:32};let{center:n,height:r,startRadius:s,startAngle:i,endRadius:o,endAngle:a,segments:l}=Object.assign({},t,e);if(!Kf(n,3))throw new Error("center must be an array of X, Y and Z values");if(!eI(r,0))throw new Error("height must be greater then zero");if(!Kf(s,2))throw new Error("startRadius must be an array of X and Y values");if(!s.every(z=>z>=0))throw new Error("startRadius values must be positive");if(!Kf(o,2))throw new Error("endRadius must be an array of X and Y values");if(!o.every(z=>z>=0))throw new Error("endRadius values must be positive");if(o.every(z=>z===0)&&s.every(z=>z===0))throw new Error("at least one radius must be positive");if(!Zf(i,0))throw new Error("startAngle must be positive");if(!Zf(a,0))throw new Error("endAngle must be positive");if(!Zf(l,4))throw new Error("segments must be four or more");i=i%ds,a=a%ds;let c=ds;i<a&&(c=a-i),i>a&&(c=a+(ds-i));const f=Math.min(s[0],s[1],o[0],o[1]),u=Math.acos((f*f+f*f-gh*gh)/(2*f*f));if(c<u)throw new Error("startAngle and endAngle do not define a significant rotation");const h=Math.floor(l*(c/ds)),d=Gn.fromValues(0,0,-(r/2)),p=Gn.fromValues(0,0,r/2),g=Gn.subtract(Gn.create(),p,d),m=Gn.fromValues(1,0,0),v=Gn.fromValues(0,1,0),b=Gn.create(),y=Gn.create(),S=Gn.create(),w=(z,N,k)=>{const le=N*c+i;return Gn.scale(b,m,k[0]*JM(le)),Gn.scale(y,v,k[1]*QM(le)),Gn.add(b,b,y),Gn.scale(S,g,z),Gn.add(S,S,d),Gn.add(Gn.create(),b,S)},E=(...z)=>{const N=z.map(k=>Gn.add(Gn.create(),k,n));return KM.create(N)},A=[];for(let z=0;z<h;z++){const N=z/h;let k=(z+1)/h;c===ds&&z===h-1&&(k=0),o[0]===s[0]&&o[1]===s[1]?(A.push(E(d,w(0,k,o),w(0,N,o))),A.push(E(w(0,k,o),w(1,k,o),w(1,N,o),w(0,N,o))),A.push(E(p,w(1,N,o),w(1,k,o)))):(s[0]>0&&s[1]>0&&A.push(E(d,w(0,k,s),w(0,N,s))),(s[0]>0||s[1]>0)&&A.push(E(w(0,N,s),w(0,k,s),w(1,N,o))),o[0]>0&&o[1]>0&&A.push(E(p,w(1,N,o),w(1,k,o))),(o[0]>0||o[1]>0)&&A.push(E(w(1,N,o),w(0,k,s),w(1,k,o))))}return c<ds&&(A.push(E(d,w(0,0,s),p)),A.push(E(w(0,0,s),w(1,0,o),p)),A.push(E(d,p,w(0,1,s))),A.push(E(w(0,1,s),p,w(1,1,o)))),ZM.create(A)};var a2=tI;const nI=a2,{isGT:rI}=In,sI=e=>{const t={center:[0,0,0],height:2,radius:1,segments:32},{center:n,height:r,radius:s,segments:i}=Object.assign({},t,e);if(!rI(s,0))throw new Error("radius must be greater than zero");return nI({center:n,height:r,startRadius:[s,s],endRadius:[s,s],segments:i})};var iI=sI;const{TAU:vh}=Dt,it=st,oI=_t,bh=Mt,{sin:_h,cos:yh}=Hn,{isGTE:aI,isNumberArray:Ah}=In,lI=e=>{const t={center:[0,0,0],radius:[1,1,1],segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!Ah(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Ah(r,3))throw new Error("radius must be an array of X, Y and Z values");if(!r.every(p=>p>0))throw new Error("radius values must be greater than zero");if(!aI(s,4))throw new Error("segments must be four or more");const o=it.scale(it.create(),it.normalize(it.create(),i[0]),r[0]),a=it.scale(it.create(),it.normalize(it.create(),i[1]),r[1]),l=it.scale(it.create(),it.normalize(it.create(),i[2]),r[2]),c=Math.round(s/4);let f;const u=[],h=it.create(),d=it.create();for(let p=0;p<=s;p++){const g=vh*p/s,m=it.add(it.create(),it.scale(h,o,yh(g)),it.scale(d,a,_h(g)));if(p>0){let v,b;for(let y=0;y<=c;y++){const S=vh/4*y/c,w=yh(S),E=_h(S);if(y>0){let A=[],O;O=it.subtract(it.create(),it.scale(h,f,v),it.scale(d,l,b)),A.push(it.add(O,O,n)),O=it.subtract(it.create(),it.scale(h,m,v),it.scale(d,l,b)),A.push(it.add(O,O,n)),y<c&&(O=it.subtract(it.create(),it.scale(h,m,w),it.scale(d,l,E)),A.push(it.add(O,O,n))),O=it.subtract(it.create(),it.scale(h,f,w),it.scale(d,l,E)),A.push(it.add(O,O,n)),u.push(bh.create(A)),A=[],O=it.add(it.create(),it.scale(h,f,v),it.scale(d,l,b)),A.push(it.add(it.create(),n,O)),O=it.add(O,it.scale(h,m,v),it.scale(d,l,b)),A.push(it.add(it.create(),n,O)),y<c&&(O=it.add(O,it.scale(h,m,w),it.scale(d,l,E)),A.push(it.add(it.create(),n,O))),O=it.add(O,it.scale(h,f,w),it.scale(d,l,E)),A.push(it.add(it.create(),n,O)),A.reverse(),u.push(bh.create(A))}v=w,b=E}}f=m}return oI.create(u)};var l2=lI;const cI=_t,fI=Mt,{isNumberArray:Sh}=In,uI=e=>{const t={points:[],faces:[],colors:void 0,orientation:"outward"},{points:n,faces:r,colors:s,orientation:i}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and faces must be arrays");if(n.length<3)throw new Error("three or more points are required");if(r.length<1)throw new Error("one or more faces are required");if(s){if(!Array.isArray(s))throw new Error("colors must be an array");if(s.length!==r.length)throw new Error("faces and colors must have the same length")}n.forEach((a,l)=>{if(!Sh(a,3))throw new Error(`point ${l} must be an array of X, Y, Z values`)}),r.forEach((a,l)=>{if(a.length<3)throw new Error(`face ${l} must contain 3 or more indexes`);if(!Sh(a,a.length))throw new Error(`face ${l} must be an array of numbers`)}),i!=="outward"&&r.forEach(a=>a.reverse());const o=r.map((a,l)=>{const c=fI.create(a.map(f=>n[f]));return s&&s[l]&&(c.color=s[l]),c});return cI.create(o)};var c2=uI;const Eh=qt,wh=st,dI=_t,hI=c2,{isGT:mI,isGTE:pI}=In,gI=e=>{const t={radius:1,frequency:6};let{radius:n,frequency:r}=Object.assign({},t,e);if(!mI(n,0))throw new Error("radius must be greater than zero");if(!pI(r,6))throw new Error("frequency must be six or more");r=Math.floor(r/6);const s=[[.850651,0,-.525731],[.850651,-0,.525731],[-.850651,-0,.525731],[-.850651,0,-.525731],[0,-.525731,.850651],[0,.525731,.850651],[0,.525731,-.850651],[0,-.525731,-.850651],[-.525731,-.850651,-0],[.525731,-.850651,-0],[.525731,.850651,0],[-.525731,.850651,0]],i=[[0,9,1],[1,10,0],[6,7,0],[10,6,0],[7,9,0],[5,1,4],[4,1,9],[5,10,1],[2,8,3],[3,11,2],[2,5,4],[4,8,2],[2,11,5],[3,7,6],[6,11,3],[8,7,3],[9,8,4],[11,10,5],[10,11,6],[8,9,7]],o=(h,d,p)=>{const g=h[0],m=h[1],v=h[2];let b=p;const y=[],S=[];for(let w=0;w<d;w++)for(let E=0;E<d-w;E++){const A=w/d,O=(w+1)/d,z=E/(d-w),N=(E+1)/(d-w),k=d-w-1?E/(d-w-1):1,le=[];le[0]=a(a(g,m,z),v,A),le[1]=a(a(g,m,N),v,A),le[2]=a(a(g,m,k),v,O);for(let $=0;$<3;$++){const V=wh.length(le[$]);for(let Ge=0;Ge<3;Ge++)le[$][Ge]/=V}if(y.push(le[0],le[1],le[2]),S.push([b,b+1,b+2]),b+=3,E<d-w-1){const $=d-w-1?(E+1)/(d-w-1):1;le[0]=a(a(g,m,N),v,A),le[1]=a(a(g,m,$),v,O),le[2]=a(a(g,m,k),v,O);for(let V=0;V<3;V++){const Ge=wh.length(le[V]);for(let ne=0;ne<3;ne++)le[V][ne]/=Ge}y.push(le[0],le[1],le[2]),S.push([b,b+1,b+2]),b+=3}}return{points:y,triangles:S,offset:b}},a=(h,d,p)=>{const g=1-p,m=[];for(let v=0;v<3;v++)m[v]=h[v]*g+d[v]*p;return m};let l=[],c=[],f=0;for(let h=0;h<i.length;h++){const d=o([s[i[h][0]],s[i[h][1]],s[i[h][2]]],r,f);l=l.concat(d.points),c=c.concat(d.triangles),f=d.offset}let u=hI({points:l,faces:c,orientation:"inward"});return n!==1&&(u=dI.transform(Eh.fromScaling(Eh.create(),[n,n,n]),u)),u};var vI=gI;const bI=Ut,_I=e=>{if(!Array.isArray(e))throw new Error("points must be an array");return bI.fromPoints({},e)};var yI=_I;const Qf=gt,AI=e=>{const t={points:[],paths:[]},{points:n,paths:r}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and paths must be arrays");let s=n;Array.isArray(n[0])&&(Array.isArray(n[0][0])||(s=[n])),s.forEach((l,c)=>{if(!Array.isArray(l))throw new Error("list of points "+c+" must be an array");if(l.length<3)throw new Error("list of points "+c+" must contain three or more points");l.forEach((f,u)=>{if(!Array.isArray(f))throw new Error("list of points "+c+", point "+u+" must be an array");if(f.length<2)throw new Error("list of points "+c+", point "+u+" must contain by X and Y values")})});let i=r;if(r.length===0){let l=0;i=s.map(c=>c.map(f=>l++))}const o=[];s.forEach(l=>l.forEach(c=>o.push(c)));let a=[];return i.forEach(l=>{const c=l.map(u=>o[u]),f=Qf.fromPoints(c);a=a.concat(Qf.toSides(f))}),Qf.create(a)};var SI=AI;const hs=St,EI=gt,{isNumberArray:Th}=In,wI=e=>{const t={center:[0,0],size:[2,2]},{center:n,size:r}=Object.assign({},t,e);if(!Th(n,2))throw new Error("center must be an array of X and Y values");if(!Th(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(a=>a>0))throw new Error("size values must be greater than zero");const s=[r[0]/2,r[1]/2],i=[s[0],-s[1]],o=[hs.subtract(hs.create(),n,s),hs.add(hs.create(),n,i),hs.add(hs.create(),n,s),hs.subtract(hs.create(),n,i)];return EI.fromPoints(o)};var f2=wI;const{EPS:pl,TAU:Ao}=Dt,Jf=St,An=st,TI=_t,Ni=Mt,{sin:CI,cos:PI}=Hn,{isGT:LI,isGTE:OI,isNumberArray:Ch}=In,Ph=(e,t,n,r,s,i)=>{const o=Ao/4*s/r,a=PI(o),l=CI(o),c=r-s;let f=n*a,u=t[2]-(n-n*l);i||(u=n-n*l-t[2]),f=f>pl?f:0;const h=An.add(An.create(),e,[t[0]-n,t[1]-n,u]),d=An.add(An.create(),e,[n-t[0],t[1]-n,u]),p=An.add(An.create(),e,[n-t[0],n-t[1],u]),g=An.add(An.create(),e,[t[0]-n,n-t[1],u]),m=[],v=[],b=[],y=[];for(let S=0;S<=c;S++){const w=c>0?Ao/4*S/c:0,E=Jf.fromAngleRadians(Jf.create(),w);Jf.scale(E,E,f);const A=An.fromVec2(An.create(),E);m.push(An.add(An.create(),h,A)),An.rotateZ(A,A,[0,0,0],Ao/4),v.push(An.add(An.create(),d,A)),An.rotateZ(A,A,[0,0,0],Ao/4),b.push(An.add(An.create(),p,A)),An.rotateZ(A,A,[0,0,0],Ao/4),y.push(An.add(An.create(),g,A))}return i?[m,v,b,y]:(m.reverse(),v.reverse(),b.reverse(),y.reverse(),[y,b,v,m])},Lh=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];for(let o=0;o<s.length-1;o++)n.push(Ni.create([s[o],s[o+1],i[o]])),o<i.length-1&&n.push(Ni.create([i[o],s[o+1],i[o+1]]))}return n},Oh=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t[r];const o=s[s.length-1],a=i[i.length-1],l=(r+1)%e.length;s=e[l],i=t[l];const c=s[0],f=i[0];n.push(Ni.create([o,c,f,a]))}return n},RI=(e,t)=>{e=[e[3],e[2],e[1],e[0]],e=e.map(i=>i.slice().reverse());const n=[];e.forEach(i=>{i.forEach(o=>n.push(o))});const r=[];t.forEach(i=>{i.forEach(o=>r.push(o))});const s=[];for(let i=0;i<r.length;i++){const o=(i+1)%r.length;s.push(Ni.create([n[i],n[o],r[o],r[i]]))}return s},MI=e=>{const t={center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!Ch(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Ch(r,3))throw new Error("size must be an array of X, Y and Z values");if(!r.every(c=>c>0))throw new Error("size values must be greater than zero");if(!LI(s,0))throw new Error("roundRadius must be greater than zero");if(!OI(i,4))throw new Error("segments must be four or more");if(r=r.map(c=>c/2),s>r[0]-pl||s>r[1]-pl||s>r[2]-pl)throw new Error("roundRadius must be smaller then the radius of all dimensions");i=Math.floor(i/4);let o=null,a=null,l=[];for(let c=0;c<=i;c++){const f=Ph(n,r,s,i,c,!0),u=Ph(n,r,s,i,c,!1);if(c===0&&(l=l.concat(RI(u,f))),o&&(l=l.concat(Lh(o,f),Oh(o,f))),a&&(l=l.concat(Lh(a,u),Oh(a,u))),c===i){let h=f.map(d=>d[0]);l.push(Ni.create(h)),h=u.map(d=>d[0]),l.push(Ni.create(h))}o=f,a=u}return TI.create(l)};var II=MI;const{EPS:Rh,TAU:Mh}=Dt,Xe=st,DI=_t,FI=Mt,{sin:Ih,cos:Dh}=Hn,{isGT:eu,isGTE:xI,isNumberArray:kI}=In,GI=e=>{const t={center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},{center:n,height:r,radius:s,roundRadius:i,segments:o}=Object.assign({},t,e);if(!kI(n,3))throw new Error("center must be an array of X, Y and Z values");if(!eu(r,0))throw new Error("height must be greater then zero");if(!eu(s,0))throw new Error("radius must be greater then zero");if(!eu(i,0))throw new Error("roundRadius must be greater then zero");if(i>s-Rh)throw new Error("roundRadius must be smaller then the radius");if(!xI(o,4))throw new Error("segments must be four or more");const a=[0,0,-(r/2)],l=[0,0,r/2],c=Xe.subtract(Xe.create(),l,a),f=Xe.length(c);if(2*i>f-Rh)throw new Error("height must be larger than twice roundRadius");let u;Math.abs(c[0])>Math.abs(c[1])?u=Xe.fromValues(0,1,0):u=Xe.fromValues(1,0,0);const h=Xe.scale(Xe.create(),Xe.normalize(Xe.create(),c),i),d=Xe.scale(Xe.create(),Xe.normalize(Xe.create(),Xe.cross(Xe.create(),h,u)),s),p=Xe.scale(Xe.create(),Xe.normalize(Xe.create(),Xe.cross(Xe.create(),d,h)),s);Xe.add(a,a,h),Xe.subtract(l,l,h);const g=Math.floor(.25*o),m=E=>{const A=E.map(O=>Xe.add(O,O,n));return FI.create(A)},v=[],b=Xe.create(),y=Xe.create();let S;for(let E=0;E<=o;E++){const A=Mh*E/o,O=Xe.add(Xe.create(),Xe.scale(b,d,Dh(A)),Xe.scale(y,p,Ih(A)));if(E>0){let z=[];z.push(Xe.add(Xe.create(),a,O)),z.push(Xe.add(Xe.create(),a,S)),z.push(Xe.add(Xe.create(),l,S)),z.push(Xe.add(Xe.create(),l,O)),v.push(m(z));let N,k;for(let le=0;le<=g;le++){const $=Mh/4*le/g,V=Dh($),Ge=Ih($);if(le>0){z=[];let ne;ne=Xe.add(Xe.create(),a,Xe.subtract(b,Xe.scale(b,S,N),Xe.scale(y,h,k))),z.push(ne),ne=Xe.add(Xe.create(),a,Xe.subtract(b,Xe.scale(b,O,N),Xe.scale(y,h,k))),z.push(ne),le<g&&(ne=Xe.add(Xe.create(),a,Xe.subtract(b,Xe.scale(b,O,V),Xe.scale(y,h,Ge))),z.push(ne)),ne=Xe.add(Xe.create(),a,Xe.subtract(b,Xe.scale(b,S,V),Xe.scale(y,h,Ge))),z.push(ne),v.push(m(z)),z=[],ne=Xe.add(Xe.create(),Xe.scale(b,S,N),Xe.scale(y,h,k)),Xe.add(ne,ne,l),z.push(ne),ne=Xe.add(Xe.create(),Xe.scale(b,O,N),Xe.scale(y,h,k)),Xe.add(ne,ne,l),z.push(ne),le<g&&(ne=Xe.add(Xe.create(),Xe.scale(b,O,V),Xe.scale(y,h,Ge)),Xe.add(ne,ne,l),z.push(ne)),ne=Xe.add(Xe.create(),Xe.scale(b,S,V),Xe.scale(y,h,Ge)),Xe.add(ne,ne,l),z.push(ne),z.reverse(),v.push(m(z))}N=V,k=Ge}}S=O}return DI.create(v)};var BI=GI;const{EPS:Fh,TAU:ja}=Dt,en=St,NI=gt,{isGT:$I,isGTE:VI,isNumberArray:xh}=In,UI=e=>{const t={center:[0,0],size:[2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!xh(n,2))throw new Error("center must be an array of X and Y values");if(!xh(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(g=>g>0))throw new Error("size values must be greater than zero");if(!$I(s,0))throw new Error("roundRadius must be greater than zero");if(!VI(i,4))throw new Error("segments must be four or more");if(r=r.map(g=>g/2),s>r[0]-Fh||s>r[1]-Fh)throw new Error("roundRadius must be smaller then the radius of all dimensions");const o=Math.floor(i/4),a=en.add(en.create(),n,[r[0]-s,r[1]-s]),l=en.add(en.create(),n,[s-r[0],r[1]-s]),c=en.add(en.create(),n,[s-r[0],s-r[1]]),f=en.add(en.create(),n,[r[0]-s,s-r[1]]),u=[],h=[],d=[],p=[];for(let g=0;g<=o;g++){const m=ja/4*g/o,v=en.fromAngleRadians(en.create(),m);en.scale(v,v,s),u.push(en.add(en.create(),a,v)),en.rotate(v,v,en.create(),ja/4),h.push(en.add(en.create(),l,v)),en.rotate(v,v,en.create(),ja/4),d.push(en.add(en.create(),c,v)),en.rotate(v,v,en.create(),ja/4),p.push(en.add(en.create(),f,v))}return NI.fromPoints(u.concat(h,d,p))};var HI=UI;const zI=l2,{isGT:jI}=In,qI=e=>{const t={center:[0,0,0],radius:1,segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]};let{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!jI(r,0))throw new Error("radius must be greater than zero");return r=[r,r,r],zI({center:n,radius:r,segments:s,axes:i})};var u2=qI;const XI=f2,{isGT:WI}=In,YI=e=>{const t={center:[0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!WI(r,0))throw new Error("size must be greater than zero");return r=[r,r],XI({center:n,size:r})};var ZI=YI;const{TAU:d2}=Dt,Ro=St,KI=gt,{isGT:QI,isGTE:qa,isNumberArray:JI}=In,eD=(e,t)=>e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0,kh=(e,t,n,r)=>{const s=d2/e,i=[];for(let o=0;o<e;o++){const a=Ro.fromAngleRadians(Ro.create(),s*o+n);Ro.scale(a,a,t),Ro.add(a,r,a),i.push(a)}return i},tD=e=>{const t={center:[0,0],vertices:5,outerRadius:1,innerRadius:0,density:2,startAngle:0};let{center:n,vertices:r,outerRadius:s,innerRadius:i,density:o,startAngle:a}=Object.assign({},t,e);if(!JI(n,2))throw new Error("center must be an array of X and Y values");if(!qa(r,2))throw new Error("vertices must be two or more");if(!QI(s,0))throw new Error("outerRadius must be greater than zero");if(!qa(i,0))throw new Error("innerRadius must be greater than zero");if(!qa(a,0))throw new Error("startAngle must be greater than zero");if(r=Math.floor(r),o=Math.floor(o),a=a%d2,i===0){if(!qa(o,2))throw new Error("density must be two or more");i=s*eD(r,o)}const l=Ro.clone(n),c=kh(r,s,a,l),f=kh(r,i,a+Math.PI/r,l),u=[];for(let h=0;h<r;h++)u.push(c[h]),u.push(f[h]);return KI.fromPoints(u)};var nD=tD;const rD=mt,Gh=qt,Bh=Fr,Nh=gt,$h=_t,Vh=Ut,Nl=(e,...t)=>{const n={origin:[0,0,0],normal:[0,0,1]},{origin:r,normal:s}=Object.assign({},n,e);if(t=rD(t),t.length===0)throw new Error("wrong number of arguments");const i=Bh.fromNormalAndPoint(Bh.create(),s,r);if(Number.isNaN(i[0]))throw new Error("the given origin and normal do not define a proper plane");const o=Gh.mirrorByPlane(Gh.create(),i),a=t.map(l=>Vh.isA(l)?Vh.transform(o,l):Nh.isA(l)?Nh.transform(o,l):$h.isA(l)?$h.transform(o,l):l);return a.length===1?a[0]:a},sD=(...e)=>Nl({normal:[1,0,0]},e),iD=(...e)=>Nl({normal:[0,1,0]},e),oD=(...e)=>Nl({normal:[0,0,1]},e);var Mo={mirror:Nl,mirrorX:sD,mirrorY:iD,mirrorZ:oD};const Uh=Fr,$s=st,aD=e=>{const t=e.edges;if(t.length<3)throw new Error("slices must have 3 or more edges to calculate a plane");const n=t.reduce((o,a)=>$s.add($s.create(),o,a[0]),$s.create());$s.scale(n,n,1/t.length);let r,s=0;t.forEach(o=>{if(!$s.equals(o[0],o[1])){const a=$s.squaredDistance(n,o[0]);a>s&&(r=o,s=a)}});const i=t.find(o=>$s.equals(o[1],r[0]));return Uh.fromPoints(Uh.create(),i[0],r[0],r[1])};var h2=aD;const lD=e=>(e||(e=[]),{edges:e});var ei=lD;const cD=ei,Hh=st,fD=(...e)=>{let t,n;return e.length===1?(t=cD(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[Hh.clone(r[0]),Hh.clone(r[1])]),t};var uD=fD;const dD=st,hD=(e,t)=>{const n=e.edges,r=t.edges;return n.length!==r.length?!1:n.reduce((i,o,a)=>{const l=r[a],c=dD.squaredDistance(o[0],l[0]);return i&&c<Number.EPSILON},!0)};var mD=hD;const Xa=st,pD=ei,gD=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");if(e.length<3)throw new Error("the given points must contain THREE or more points");const t=[];let n=e[e.length-1];return e.forEach(r=>{r.length===2&&t.push([Xa.fromVec2(Xa.create(),n),Xa.fromVec2(Xa.create(),r)]),r.length===3&&t.push([n,r]),n=r}),pD(t)};var vD=gD;const Wa=st,bD=ei,_D=e=>{if(!Array.isArray(e))throw new Error("the given sides must be an array");const t=[];return e.forEach(n=>{t.push([Wa.fromVec2(Wa.create(),n[0]),Wa.fromVec2(Wa.create(),n[1])])}),bD(t)};var yD=_D;const AD=e=>!!(e&&typeof e=="object"&&"edges"in e&&Array.isArray(e.edges));var SD=AD;const ED=ei,wD=(...e)=>{let t,n;return e.length===1?(t=ED(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[r[1],r[0]]),t};var TD=wD;const CD=e=>e.edges;var PD=CD;const LD=(e,t)=>{let n,r,s,i,o,a=1;do{r=e,e=null;let l=null;for(o=0;r;){o++,s=r;let c=0;for(n=0;n<a&&(c++,s=s.nextZ,!!s);n++);let f=a;for(;c>0||f>0&&s;)c!==0&&(f===0||!s||t(r)<=t(s))?(i=r,r=r.nextZ,c--):(i=s,s=s.nextZ,f--),l?l.nextZ=i:e=i,i.prevZ=l,l=i;r=s}l.nextZ=null,a*=2}while(o>1);return e};var OD=LD;const RD=OD;let m2=class{constructor(t,n,r){this.i=t,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}};const MD=(e,t,n,r)=>{const s=new m2(e,t,n);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s},ID=e=>{e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)};var p2={Node:m2,insertNode:MD,removeNode:ID,sortLinked:RD};const DD=(e,t,n,r,s,i,o,a)=>(s-o)*(t-a)-(e-o)*(i-a)>=0&&(e-o)*(r-a)-(n-o)*(t-a)>=0&&(n-o)*(i-a)-(s-o)*(r-a)>=0,FD=(e,t,n)=>(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);var ud={area:FD,pointInTriangle:DD};const{Node:zh,insertNode:jh,removeNode:Sl}=p2,{area:sr}=ud,xD=(e,t,n,r,s)=>{let i;if(s===VD(e,t,n,r)>0)for(let o=t;o<n;o+=r)i=jh(o,e[o],e[o+1],i);else for(let o=n-r;o>=t;o-=r)i=jh(o,e[o],e[o+1],i);return i&&$l(i,i.next)&&(Sl(i),i=i.next),i},g2=(e,t)=>{if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&($l(n,n.next)||sr(n.prev,n,n.next)===0)){if(Sl(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t},kD=(e,t,n)=>{let r=e;do{const s=r.prev,i=r.next.next;!$l(s,i)&&v2(s,r,r.next,i)&&Vo(s,i)&&Vo(i,s)&&(t.push(s.i/n),t.push(r.i/n),t.push(i.i/n),Sl(r),Sl(r.next),r=e=i),r=r.next}while(r!==e);return g2(r)},GD=(e,t)=>{let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&v2(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1},Vo=(e,t)=>sr(e.prev,e,e.next)<0?sr(e,t,e.next)>=0&&sr(e,e.prev,t)>=0:sr(e,t,e.prev)<0||sr(e,e.next,t)<0,BD=(e,t)=>{let n=e,r=!1;const s=(e.x+t.x)/2,i=(e.y+t.y)/2;do n.y>i!=n.next.y>i&&n.next.y!==n.y&&s<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r},ND=(e,t)=>{const n=new zh(e.i,e.x,e.y),r=new zh(t.i,t.x,t.y),s=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=s,s.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r},$D=(e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!GD(e,t)&&(Vo(e,t)&&Vo(t,e)&&BD(e,t)&&(sr(e.prev,e,t.prev)||sr(e,t.prev,t))||$l(e,t)&&sr(e.prev,e,e.next)>0&&sr(t.prev,t,t.next)>0),v2=(e,t,n,r)=>{const s=Math.sign(sr(e,t,n)),i=Math.sign(sr(e,t,r)),o=Math.sign(sr(n,r,e)),a=Math.sign(sr(n,r,t));return!!(s!==i&&o!==a||s===0&&Ya(e,n,t)||i===0&&Ya(e,r,t)||o===0&&Ya(n,e,r)||a===0&&Ya(n,t,r))},Ya=(e,t,n)=>t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y),VD=(e,t,n,r)=>{let s=0;for(let i=t,o=n-r;i<n;i+=r)s+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return s},$l=(e,t)=>e.x===t.x&&e.y===t.y;var b2={cureLocalIntersections:kD,filterPoints:g2,isValidDiagonal:$D,linkedPolygon:xD,locallyInside:Vo,splitPolygon:ND};const{filterPoints:Gu,linkedPolygon:UD,locallyInside:HD,splitPolygon:zD}=b2,{area:qh,pointInTriangle:jD}=ud,qD=(e,t,n,r)=>{const s=[];for(let i=0,o=t.length;i<o;i++){const a=t[i]*r,l=i<o-1?t[i+1]*r:e.length,c=UD(e,a,l,r,!1);c===c.next&&(c.steiner=!0),s.push(ZD(c))}s.sort((i,o)=>i.x-o.x);for(let i=0;i<s.length;i++)n=XD(s[i],n),n=Gu(n,n.next);return n},XD=(e,t)=>{const n=WD(e,t);if(!n)return t;const r=zD(n,e),s=Gu(n,n.next);return Gu(r,r.next),t===n?s:t},WD=(e,t)=>{let n=t;const r=e.x,s=e.y;let i=-1/0,o;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const u=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>i){if(i=u,u===r){if(s===n.y)return n;if(s===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===i)return o;const a=o,l=o.x,c=o.y;let f=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&jD(s<c?r:i,s,l,c,s<c?i:r,s,n.x,n.y)){const u=Math.abs(s-n.y)/(r-n.x);HD(n,e)&&(u<f||u===f&&(n.x>o.x||n.x===o.x&&YD(o,n)))&&(o=n,f=u)}n=n.next}while(n!==a);return o},YD=(e,t)=>qh(e.prev,e,t.prev)<0&&qh(t.next,e,e.next)<0,ZD=e=>{let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n};var KD=qD;const QD=KD,{removeNode:JD,sortLinked:eF}=p2,{cureLocalIntersections:tF,filterPoints:El,isValidDiagonal:nF,linkedPolygon:rF,splitPolygon:sF}=b2,{area:js,pointInTriangle:Io}=ud,iF=(e,t,n=2)=>{const r=t&&t.length,s=r?t[0]*n:e.length;let i=rF(e,0,s,n,!0);const o=[];if(!i||i.next===i.prev)return o;let a,l,c,f,u;if(r&&(i=QD(e,t,i,n)),e.length>80*n){a=c=e[0],l=f=e[1];for(let h=n;h<s;h+=n){const d=e[h],p=e[h+1];d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>f&&(f=p)}u=Math.max(c-a,f-l),u=u!==0?1/u:0}return Uo(i,o,n,a,l,u),o},Uo=(e,t,n,r,s,i,o)=>{if(!e)return;!o&&i&&cF(e,r,s,i);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,i?aF(e,r,s,i):oF(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),JD(e),e=c.next,a=c.next;continue}if(e=c,e===a){o?o===1?(e=tF(El(e),t,n),Uo(e,t,n,r,s,i,2)):o===2&&lF(e,t,n,r,s,i):Uo(El(e),t,n,r,s,i,1);break}}},oF=e=>{const t=e.prev,n=e,r=e.next;if(js(t,n,r)>=0)return!1;let s=e.next.next;for(;s!==e.prev;){if(Io(t.x,t.y,n.x,n.y,r.x,r.y,s.x,s.y)&&js(s.prev,s,s.next)>=0)return!1;s=s.next}return!0},aF=(e,t,n,r)=>{const s=e.prev,i=e,o=e.next;if(js(s,i,o)>=0)return!1;const a=s.x<i.x?s.x<o.x?s.x:o.x:i.x<o.x?i.x:o.x,l=s.y<i.y?s.y<o.y?s.y:o.y:i.y<o.y?i.y:o.y,c=s.x>i.x?s.x>o.x?s.x:o.x:i.x>o.x?i.x:o.x,f=s.y>i.y?s.y>o.y?s.y:o.y:i.y>o.y?i.y:o.y,u=Bu(a,l,t,n,r),h=Bu(c,f,t,n,r);let d=e.prevZ,p=e.nextZ;for(;d&&d.z>=u&&p&&p.z<=h;){if(d!==e.prev&&d!==e.next&&Io(s.x,s.y,i.x,i.y,o.x,o.y,d.x,d.y)&&js(d.prev,d,d.next)>=0||(d=d.prevZ,p!==e.prev&&p!==e.next&&Io(s.x,s.y,i.x,i.y,o.x,o.y,p.x,p.y)&&js(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;d&&d.z>=u;){if(d!==e.prev&&d!==e.next&&Io(s.x,s.y,i.x,i.y,o.x,o.y,d.x,d.y)&&js(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&Io(s.x,s.y,i.x,i.y,o.x,o.y,p.x,p.y)&&js(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0},lF=(e,t,n,r,s,i)=>{let o=e;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&nF(o,a)){let l=sF(o,a);o=El(o,o.next),l=El(l,l.next),Uo(o,t,n,r,s,i),Uo(l,t,n,r,s,i);return}a=a.next}o=o.next}while(o!==e)},cF=(e,t,n,r)=>{let s=e;do s.z===null&&(s.z=Bu(s.x,s.y,t,n,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,eF(s,i=>i.z)},Bu=(e,t,n,r,s)=>(e=32767*(e-n)*s,t=32767*(t-r)*s,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1);var fF=iF;const{area:uF}=Xo,{toOutlines:dF}=gt,{arePointsInside:hF}=rd,mF=e=>{const t=dF(e),n=[],r=[];t.forEach((o,a)=>{const l=uF(o);l<0?r.push(a):l>0&&n.push(a)});const s=[],i=[];return n.forEach((o,a)=>{const l=t[o];s[a]=[],r.forEach((c,f)=>{const u=t[c];hF([u[0]],{vertices:l})&&(s[a].push(c),i[f]||(i[f]=[]),i[f].push(a))})}),r.forEach((o,a)=>{if(i[a]&&i[a].length>1){const l=pF(i[a],c=>s[c].length);i[a].forEach((c,f)=>{f!==l&&(s[c]=s[c].filter(u=>u!==o))})}}),s.map((o,a)=>({solid:t[n[a]],holes:o.map(l=>t[l])}))},pF=(e,t)=>{let n,r;return e.forEach((s,i)=>{const o=t(s);(r===void 0||o<r)&&(n=i,r=o)}),n};var gF=mF;const vF=gt,Xh=Fr,bF=St,$n=st,_F=h2,yF=gF;let AF=class{constructor(t){this.plane=_F(t);const n=$n.orthogonal($n.create(),this.plane),r=$n.cross($n.create(),this.plane,n);this.v=$n.normalize(r,r),this.u=$n.cross($n.create(),this.v,this.plane),this.basisMap=new Map;const s=t.edges.map(o=>o.map(a=>this.to2D(a))),i=vF.create(s);this.roots=yF(i)}to2D(t){const n=bF.fromValues($n.dot(t,this.u),$n.dot(t,this.v));return this.basisMap.set(n,t),n}to3D(t){const n=this.basisMap.get(t);if(n)return n;{console.log("Warning: point not in original slice");const r=$n.scale($n.create(),this.u,t[0]),s=$n.scale($n.create(),this.v,t[1]),i=$n.scale($n.create(),Xh,Xh[3]),o=$n.add(r,r,i);return $n.add(s,s,o)}}};var SF=AF;const EF=Mt,wF=fF,TF=SF,CF=e=>{const t=new TF(e),n=[];return t.roots.forEach(({solid:r,holes:s})=>{let i=r.length;const o=[];s.forEach((u,h)=>{o.push(i),i+=u.length});const a=[r,...s].flat(),l=a.flat(),c=u=>t.to3D(a[u]),f=wF(l,o);for(let u=0;u<f.length;u+=3){const h=f.slice(u,u+3).map(c);n.push(EF.fromPointsAndPlane(h,t.plane))}}),n};var PF=CF;const Wh=st,LF=e=>e.reduce((t,n)=>t+=`[${Wh.toString(n[0])}, ${Wh.toString(n[1])}], `,""),OF=e=>`[${LF(e.edges)}]`;var RF=OF;const Za=st,MF=ei,IF=(e,t)=>{const n=t.edges.map(r=>[Za.transform(Za.create(),r[0],e),Za.transform(Za.create(),r[1],e)]);return MF(n)};var DF=IF,zi={calculatePlane:h2,clone:uD,create:ei,equals:mD,fromPoints:vD,fromSides:yD,isA:SD,reverse:TD,toEdges:PD,toPolygons:PF,toString:RF,transform:DF};const Yh=st,FF=ei,xF=e=>{if(!e.edges)return e;let t=e.edges;const n=new Map,r=new Map;t=t.filter(o=>!Yh.equals(o[0],o[1])),t.forEach(o=>{const a=o[0].toString(),l=o[1].toString();n.set(a,o[0]),n.set(l,o[1]),r.set(a,(r.get(a)||0)+1),r.set(l,(r.get(l)||0)-1)});const s=[],i=[];return r.forEach((o,a)=>{o<0&&s.push(a),o>0&&i.push(a)}),s.forEach(o=>{const a=n.get(o);let l=1/0,c;i.forEach(f=>{const u=n.get(f),h=Yh.distance(a,u);h<l&&(l=h,c=u)}),console.warn(`slice.repair: repairing vertex gap ${a} to ${c} distance ${l}`),t=t.map(f=>f[0].toString()===o?[c,f[1]]:f[1].toString()===o?[f[0],c]:f)}),FF(t)};var kF=xF;const{EPS:Zh}=Dt,wi=st,Ka=Mt,Kh=zi,Nu=(e,t)=>e===t?e:e<t?Nu(t,e):t===1?1:t===0?e:Nu(t,e%t),GF=(e,t)=>e*t/Nu(e,t),Qh=(e,t)=>{const n=e/t.length;if(n===1)return t;const r=wi.fromValues(n,n,n),s=[];return t.forEach(i=>{const o=wi.subtract(wi.create(),i[1],i[0]);wi.divide(o,o,r);let a=i[0];for(let l=1;l<=n;++l){const c=wi.add(wi.create(),a,o);s.push([a,c]),a=c}}),s},Jh=Zh*Zh/2*Math.sin(Math.PI/3),BF=(e,t)=>{let n=Kh.toEdges(e),r=Kh.toEdges(t);if(n.length!==r.length){const i=GF(n.length,r.length);i!==n.length&&(n=Qh(i,n)),i!==r.length&&(r=Qh(i,r))}const s=[];return n.forEach((i,o)=>{const a=r[o],l=Ka.create([i[0],i[1],a[1]]),c=Ka.measureArea(l);Number.isFinite(c)&&c>Jh&&s.push(l);const f=Ka.create([i[0],a[1],a[0]]),u=Ka.measureArea(f);Number.isFinite(u)&&u>Jh&&s.push(f)}),s};var NF=BF;const em=qt,tm=gt,$F=_t,$u=Mt,vs=zi,VF=kF,nm=NF,UF=(e,t,n)=>{let r=null;return tm.isA(n)&&(r=vs.fromSides(tm.toSides(n))),$u.isA(n)&&(r=vs.fromPoints($u.toPoints(n))),e===0||e===1?vs.transform(em.fromTranslation(em.create(),[0,0,e]),r):null},HF=(e,t)=>{const n={numberOfSlices:2,capStart:!0,capEnd:!0,close:!1,repair:!0,callback:UF},{numberOfSlices:r,capStart:s,capEnd:i,close:o,repair:a,callback:l}=Object.assign({},n,e);if(r<2)throw new Error("numberOfSlices must be 2 or more");a&&(t=VF(t));const c=r-1;let f=null,u=null,h=null,d=[];for(let p=0;p<r;p++){const g=l(p/c,p,t);if(g){if(!vs.isA(g))throw new Error("the callback function must return slice objects");if(vs.toEdges(g).length===0)throw new Error("the callback function must return slices with one or more edges");h&&(d=d.concat(nm(h,g))),p===0&&(f=g),p===r-1&&(u=g),h=g}}if(i){const p=vs.toPolygons(u);d=d.concat(p)}if(s){const p=vs.toPolygons(f).map($u.invert);d=d.concat(p)}return!s&&!i&&o&&!vs.equals(u,f)&&(d=d.concat(nm(u,f))),$F.create(d)};var Vl=HF;const{TAU:fr}=Dt,So=qt,{mirrorX:zF}=Mo,Eo=gt,tu=zi,jF=Vl,qF=(e,t)=>{const n={segments:12,startAngle:0,angle:fr,overflow:"cap"};let{segments:r,startAngle:s,angle:i,overflow:o}=Object.assign({},n,e);if(r<3)throw new Error("segments must be greater then 3");s=Math.abs(s)>fr?s%fr:s,i=Math.abs(i)>fr?i%fr:i;let a=s+i;if(a=Math.abs(a)>fr?a%fr:a,a<s){const b=s;s=a,a=b}let l=a-s;if(l<=0&&(l=fr),Math.abs(l)<fr){const b=fr/r;r=Math.floor(Math.abs(l)/b),Math.abs(l)>r*b&&r++}let c=Eo.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(b=>b[0][0]<0),u=c.filter(b=>b[0][0]>=0);f.length>0&&u.length>0&&o==="cap"&&(f.length>u.length?(c=c.map(b=>{let y=b[0],S=b[1];return y=[Math.min(y[0],0),y[1]],S=[Math.min(S[0],0),S[1]],[y,S]}),t=Eo.reverse(Eo.create(c)),t=zF(t)):u.length>=f.length&&(c=c.map(b=>{let y=b[0],S=b[1];return y=[Math.max(y[0],0),y[1]],S=[Math.max(S[0],0),S[1]],[y,S]}),t=Eo.create(c)));const d=l/r,p=Math.abs(l)<fr,g=tu.fromSides(Eo.toSides(t));tu.reverse(g,g);const m=So.create(),v=(b,y,S)=>{let w=d*y+s;return l===fr&&y===r&&(w=s),So.multiply(m,So.fromZRotation(m,w),So.fromXRotation(So.create(),fr/4)),tu.transform(m,S)};return e={numberOfSlices:r+1,capStart:p,capEnd:p,close:!p,callback:v},jF(e,g)};var _2=qF;const XF=mt,rm=qt,sm=gt,im=_t,om=Ut,Ul=(e,...t)=>{if(!Array.isArray(e))throw new Error("angles must be an array");if(t=XF(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=e[2],r=e[1],s=e[0],i=rm.fromTaitBryanRotation(rm.create(),n,r,s),o=t.map(a=>om.isA(a)?om.transform(i,a):sm.isA(a)?sm.transform(i,a):im.isA(a)?im.transform(i,a):a);return o.length===1?o[0]:o},WF=(e,...t)=>Ul([e,0,0],t),YF=(e,...t)=>Ul([0,e,0],t),ZF=(e,...t)=>Ul([0,0,e],t);var Do={rotate:Ul,rotateX:WF,rotateY:YF,rotateZ:ZF};const KF=mt,am=qt,lm=gt,cm=_t,fm=Ut,Hl=(e,...t)=>{if(!Array.isArray(e))throw new Error("offset must be an array");if(t=KF(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=am.fromTranslation(am.create(),e),r=t.map(s=>fm.isA(s)?fm.transform(n,s):lm.isA(s)?lm.transform(n,s):cm.isA(s)?cm.transform(n,s):s);return r.length===1?r[0]:r},QF=(e,...t)=>Hl([e,0,0],t),JF=(e,...t)=>Hl([0,e,0],t),e7=(e,...t)=>Hl([0,0,e],t);var Ws={translate:Hl,translateX:QF,translateY:JF,translateZ:e7};const{TAU:t7}=Dt,n7=_2,{rotate:r7}=Do,{translate:s7}=Ws,i7=i2,{isGT:nu,isGTE:ru}=In,o7=e=>{const t={innerRadius:1,innerSegments:32,outerRadius:4,outerSegments:32,innerRotation:0,startAngle:0,outerRotation:t7},{innerRadius:n,innerSegments:r,outerRadius:s,outerSegments:i,innerRotation:o,startAngle:a,outerRotation:l}=Object.assign({},t,e);if(!nu(n,0))throw new Error("innerRadius must be greater than zero");if(!ru(r,3))throw new Error("innerSegments must be three or more");if(!nu(s,0))throw new Error("outerRadius must be greater than zero");if(!ru(i,3))throw new Error("outerSegments must be three or more");if(!ru(a,0))throw new Error("startAngle must be positive");if(!nu(l,0))throw new Error("outerRotation must be greater than zero");if(n>=s)throw new Error("inner circle is two large to rotate about the outer circle");let c=i7({radius:n,segments:r});return o!==0&&(c=r7([0,0,o],c)),c=s7([s,0],c),n7({startAngle:a,angle:l,segments:i},c)};var a7=o7;const{NEPS:$i}=Dt,wo=St,l7=gt,{isNumberArray:c7}=In,Vu=(e,t,n)=>Math.acos((e*e+t*t-n*n)/(2*e*t)),f7=(e,t,n)=>t>$i?Math.sqrt(e*e+n*n-2*e*n*Math.cos(t)):Math.sqrt((e-n)*(e-n)+e*n*t*t*(1-t*t/12)),u7=e=>{if(Math.abs(e[0]+e[1]+e[2]-Math.PI)>$i)throw new Error("AAA triangles require angles that sum to PI");const n=e[0],r=e[1],s=Math.PI-n-r,i=1,o=i/Math.sin(s)*Math.sin(n),a=i/Math.sin(s)*Math.sin(r);return ji(n,r,s,o,a,i)},d7=e=>{const t=e[0],n=e[1],r=Math.PI+$i-t-n;if(r<$i)throw new Error("AAS triangles require angles that sum to PI");const s=e[2],i=s/Math.sin(t)*Math.sin(n),o=s/Math.sin(t)*Math.sin(r);return ji(t,n,r,s,i,o)},h7=e=>{const t=e[0],n=e[2],r=Math.PI+$i-t-n;if(r<$i)throw new Error("ASA triangles require angles that sum to PI");const s=e[1],i=s/Math.sin(r)*Math.sin(t),o=s/Math.sin(r)*Math.sin(n);return ji(t,n,r,i,o,s)},m7=e=>{const t=e[0],n=e[1],r=e[2],s=f7(t,n,r),i=Vu(s,t,r),o=Math.PI-i-n;return ji(i,n,o,r,s,t)},p7=e=>{const t=e[0],n=e[1],r=e[2],s=Math.asin(n*Math.sin(r)/t),i=Math.PI-s-r,o=t/Math.sin(r)*Math.sin(i);return ji(s,i,r,n,o,t)},g7=e=>{const t=e[1],n=e[2],r=e[0];if(t+n<=r||n+r<=t||r+t<=n)throw new Error("SSS triangle is incorrect, as the longest side is longer than the sum of the other sides");const s=Vu(n,r,t),i=Vu(r,t,n),o=Math.PI-s-i;return ji(s,i,o,t,n,r)},ji=(e,t,n,r,s,i)=>{const o=wo.fromValues(0,0),a=wo.fromValues(i,0),l=wo.fromValues(r,0);return wo.add(l,wo.rotate(l,l,[0,0],Math.PI-t),a),l7.fromPoints([o,a,l])},v7=e=>{const t={type:"SSS",values:[1,1,1]};let{type:n,values:r}=Object.assign({},t,e);if(typeof n!="string")throw new Error("triangle type must be a string");if(n=n.toUpperCase(),!((n[0]==="A"||n[0]==="S")&&(n[1]==="A"||n[1]==="S")&&(n[2]==="A"||n[2]==="S")))throw new Error("triangle type must contain three letters; A or S");if(!c7(r,3))throw new Error("triangle values must contain three values");if(!r.every(s=>s>0))throw new Error("triangle values must be greater than zero");switch(n){case"AAA":return u7(r);case"AAS":return d7(r);case"ASA":return h7(r);case"SAS":return m7(r);case"SSA":return p7(r);case"SSS":return g7(r);default:throw new Error("invalid triangle type, try again")}};var b7=v7,y2={arc:FM,circle:i2,cube:YM,cuboid:o2,cylinder:iI,cylinderElliptic:a2,ellipse:s2,ellipsoid:l2,geodesicSphere:vI,line:yI,polygon:SI,polyhedron:c2,rectangle:f2,roundedCuboid:II,roundedCylinder:BI,roundedRectangle:HI,sphere:u2,square:ZI,star:nD,torus:a7,triangle:b7},_7={height:14,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]};const y7=_7,A7={xOffset:0,yOffset:0,input:"?",align:"left",font:y7,height:14,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0},S7=(e,t)=>{!t&&typeof e=="string"&&(e={input:e}),e=e||{};const n=Object.assign({},A7,e);return n.input=t||n.input,n};var A2=S7;const E7=A2,w7=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,extrudeOffset:a}=E7(e,t);let l=s.charCodeAt(0);(!l||!i[l])&&(l=63);const c=[].concat(i[l]),f=(o-a)/i.height,u=a/2,h=c.shift()*f,d=[];let p=[];for(let g=0,m=c.length;g<m;g+=2){const v=f*c[g]+n,b=f*c[g+1]+r+u;if(c[g]!==void 0){p.push([v,b]);continue}d.push(p),p=[],g--}return p.length&&d.push(p),{width:h,height:o,segments:d}};var S2=w7;const T7=S2,C7=A2,um=(e,t)=>{const{x:n,y:r}=Object.assign({x:0,y:0},e||{}),s=t.segments;let i=null,o=null;for(let a=0,l=s.length;a<l;a++){i=s[a];for(let c=0,f=i.length;c<f;c++)o=i[c],i[c]=[o[0]+n,o[1]+r]}return t},P7=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,align:a,extrudeOffset:l,lineSpacing:c,letterSpacing:f}=C7(e,t);let[u,h]=[n,r],d,p,g,m,v,b,y={width:0,segments:[]};const S=[];let w=[],E=0;const A=u,O=()=>{S.push(y),E=Math.max(E,y.width),y={width:0,segments:[]}};for(d=0,p=s.length;d<p;d++){if(g=s[d],m=T7({xOffset:u,yOffset:h,font:i,height:o,extrudeOffset:l},g),g===`
`){u=A,h-=m.height*c,O();continue}v=m.width*f,y.width+=v,u+=v,g!==" "&&(y.segments=y.segments.concat(m.segments))}for(y.segments.length&&O(),d=0,p=S.length;d<p;d++)y=S[d],E>y.width&&(b=E-y.width,a==="right"?y=um({x:b},y):a==="center"&&(y=um({x:b/2},y))),w=w.concat(y.segments);return w};var L7=P7,O7={vectorChar:S2,vectorText:L7};const R7=gt,M7=_t,I7=Ut,D7=e=>{let t;for(const n of e){let r=0;if(R7.isA(n)&&(r=1),M7.isA(n)&&(r=2),I7.isA(n)&&(r=3),t&&r!==t)return!1;t=r}return!0};var Yo=D7;const F7=e=>e*.017453292519943295;var x7=F7;const k7=(e,t)=>e-t;var E2=k7;const G7=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}e.splice(r,0,t)};var B7=G7;const{TAU:dm}=Dt,N7=(e,t,n)=>{const r=t>0?e*dm/t:0,s=n>0?dm/n:0;return Math.ceil(Math.max(r,s,4))};var $7=N7;const V7=e=>e*57.29577951308232;var U7=V7,w2={areAllShapesTheSameType:Yo,degToRad:x7,flatten:mt,fnNumberSort:E2,insertSorted:B7,radiusToSegments:$7,radToDeg:U7};const hm=St,H7=gt,z7=(e,t)=>{if(t.vertices.length<4)return null;const n=[],r=t.vertices.filter((o,a)=>o[2]>0?(n.push(a),!0):!1);if(r.length!==2)throw new Error("Assertion failed: fromFakePolygon: not enough points found");const s=r.map(o=>{const a=Math.round(o[0]/e)*e+0,l=Math.round(o[1]/e)*e+0;return hm.fromValues(a,l)});if(hm.equals(s[0],s[1]))return null;const i=n[1]-n[0];if(i===1||i===3)i===1&&s.reverse();else throw new Error("Assertion failed: fromFakePolygon: unknown index ordering");return s},j7=(e,t)=>{const n=t.map(r=>z7(e,r)).filter(r=>r!==null);return H7.create(n)};var dd=j7;const ms=st,q7=gt,X7=_t,W7=Mt,Y7=(e,t,n)=>{const r=[ms.fromVec2(ms.create(),n[0],e),ms.fromVec2(ms.create(),n[1],e),ms.fromVec2(ms.create(),n[1],t),ms.fromVec2(ms.create(),n[0],t)];return W7.create(r)},Z7=(e,t)=>{const r=q7.toSides(t).map(i=>Y7(e.z0,e.z1,i));return X7.create(r)};var hd=Z7;const mm=qt,K7=St,Pn=st,Ks=function(e,t){arguments.length<2&&(t=Pn.orthogonal(Pn.create(),e)),this.v=Pn.normalize(Pn.create(),Pn.cross(Pn.create(),e,t)),this.u=Pn.cross(Pn.create(),this.v,e),this.plane=e,this.planeorigin=Pn.scale(Pn.create(),e,e[3])};Ks.GetCartesian=function(e,t){const n=e+"/"+t;let r,s;if(n==="X/Y")r=[0,0,1],s=[1,0,0];else if(n==="Y/-X")r=[0,0,1],s=[0,1,0];else if(n==="-X/-Y")r=[0,0,1],s=[-1,0,0];else if(n==="-Y/X")r=[0,0,1],s=[0,-1,0];else if(n==="-X/Y")r=[0,0,-1],s=[-1,0,0];else if(n==="-Y/-X")r=[0,0,-1],s=[0,-1,0];else if(n==="X/-Y")r=[0,0,-1],s=[1,0,0];else if(n==="Y/X")r=[0,0,-1],s=[0,1,0];else if(n==="X/Z")r=[0,-1,0],s=[1,0,0];else if(n==="Z/-X")r=[0,-1,0],s=[0,0,1];else if(n==="-X/-Z")r=[0,-1,0],s=[-1,0,0];else if(n==="-Z/X")r=[0,-1,0],s=[0,0,-1];else if(n==="-X/Z")r=[0,1,0],s=[-1,0,0];else if(n==="-Z/-X")r=[0,1,0],s=[0,0,-1];else if(n==="X/-Z")r=[0,1,0],s=[1,0,0];else if(n==="Z/X")r=[0,1,0],s=[0,0,1];else if(n==="Y/Z")r=[1,0,0],s=[0,1,0];else if(n==="Z/-Y")r=[1,0,0],s=[0,0,1];else if(n==="-Y/-Z")r=[1,0,0],s=[0,-1,0];else if(n==="-Z/Y")r=[1,0,0],s=[0,0,-1];else if(n==="-Y/Z")r=[-1,0,0],s=[0,-1,0];else if(n==="-Z/-Y")r=[-1,0,0],s=[0,0,-1];else if(n==="Y/-Z")r=[-1,0,0],s=[0,1,0];else if(n==="Z/Y")r=[-1,0,0],s=[0,0,1];else throw new Error("OrthoNormalBasis.GetCartesian: invalid combination of axis identifiers. Should pass two string arguments from [X,Y,Z,-X,-Y,-Z], being two different axes.");return new Ks(new Plane(new Vector3D(r),0),new Vector3D(s))};Ks.Z0Plane=function(){const e=new Plane(new Vector3D([0,0,1]),0);return new Ks(e,new Vector3D([1,0,0]))};Ks.prototype={getProjectionMatrix:function(){return mm.fromValues(this.u[0],this.v[0],this.plane[0],0,this.u[1],this.v[1],this.plane[1],0,this.u[2],this.v[2],this.plane[2],0,0,0,-this.plane[3],1)},getInverseProjectionMatrix:function(){const e=Pn.scale(Pn.create(),this.plane,this.plane[3]);return mm.fromValues(this.u[0],this.u[1],this.u[2],0,this.v[0],this.v[1],this.v[2],0,this.plane[0],this.plane[1],this.plane[2],0,e[0],e[1],e[2],1)},to2D:function(e){return K7.fromValues(Pn.dot(e,this.u),Pn.dot(e,this.v))},to3D:function(e){const t=Pn.scale(Pn.create(),this.u,e[0]),n=Pn.scale(Pn.create(),this.v,e[1]),r=Pn.add(t,t,this.planeorigin);return Pn.add(n,n,r)},line3Dto2D:function(e){const t=e.point,n=e.direction.plus(t),r=this.to2D(t),s=this.to2D(n);return Line2D.fromPoints(r,s)},line2Dto3D:function(e){const t=e.origin(),n=e.direction().plus(t),r=this.to3D(t),s=this.to3D(n);return Line3D.fromPoints(r,s)},transform:function(e){const t=this.plane.transform(e),n=this.u.transform(e),r=new Vector3D(0,0,0).transform(e),s=n.minus(r);return new Ks(t,s)}};var Q7=Ks;const{EPS:Ur}=Dt,ps=ad,Ar=St,J7=Q7,Ti=Nv,{insertSorted:ex,fnNumberSort:tx}=w2,pm=Mt,nx=e=>{if(e.length<2)return e;const t=[],n=e.length,r=pm.plane(e[0]),s=new J7(r),i=[],o=[],a=new Map,l=new Map,c=new Map,f=10/Ur;for(let p=0;p<n;p++){const g=e[p];let m=[],v=g.vertices.length,b=-1;if(v>0){let y,S;for(let w=0;w<v;w++){let E=s.to2D(g.vertices[w]);const A=Math.floor(E[1]*f);let O;c.has(A)?O=c.get(A):c.has(A+1)?O=c.get(A+1):c.has(A-1)?O=c.get(A-1):(O=E[1],c.set(A,E[1])),E=Ar.fromValues(E[0],O),m.push(E);const z=E[1];(w===0||z<y)&&(y=z,b=w),(w===0||z>S)&&(S=z);let N=l.get(z);N||(N={},l.set(z,N)),N[p]=!0}if(y>=S)m=[],v=0,b=-1;else{let w=a.get(y);w||(w=[],a.set(y,w)),w.push(p)}}m.reverse(),b=v-b-1,i.push(m),o.push(b)}const u=[];l.forEach((p,g)=>u.push(g)),u.sort(tx);let h=[],d=[];for(let p=0;p<u.length;p++){const g=[],m=u[p],v=l.get(m);for(let y=0;y<h.length;++y){const S=h[y],w=S.polygonindex;if(v[w]){const E=i[w],A=E.length;let O=S.leftvertexindex,z=S.rightvertexindex;for(;;){let k=O+1;if(k>=A&&(k=0),E[k][1]!==m)break;O=k}let N=z-1;if(N<0&&(N=A-1),E[N][1]===m&&(z=N),O!==S.leftvertexindex&&O===z)h.splice(y,1),--y;else{S.leftvertexindex=O,S.rightvertexindex=z,S.topleft=E[O],S.topright=E[z];let k=O+1;k>=A&&(k=0),S.bottomleft=E[k];let le=z-1;le<0&&(le=A-1),S.bottomright=E[le]}}}let b;if(p>=u.length-1)h=[],b=null;else{b=Number(u[p+1]);const y=.5*(m+b),S=a.get(m);for(const w in S){const E=S[w],A=i[E],O=A.length,z=o[E];let N=z;for(;;){let Ge=N+1;if(Ge>=O&&(Ge=0),A[Ge][1]!==m||Ge===z)break;N=Ge}let k=z;for(;;){let Ge=k-1;if(Ge<0&&(Ge=O-1),A[Ge][1]!==m||Ge===N)break;k=Ge}let le=N+1;le>=O&&(le=0);let $=k-1;$<0&&($=O-1);const V={polygonindex:E,leftvertexindex:N,rightvertexindex:k,topleft:A[N],topright:A[k],bottomleft:A[le],bottomright:A[$]};ex(h,V,(Ge,ne)=>{const H=Ti(Ge.topleft,Ge.bottomleft,y),he=Ti(ne.topleft,ne.bottomleft,y);return H>he?1:H<he?-1:0})}}for(const y in h){const S=h[y];let w=Ti(S.topleft,S.bottomleft,m);const E=Ar.fromValues(w,m);w=Ti(S.topright,S.bottomright,m);const A=Ar.fromValues(w,m);w=Ti(S.topleft,S.bottomleft,b);const O=Ar.fromValues(w,b);w=Ti(S.topright,S.bottomright,b);const z=Ar.fromValues(w,b),N={topleft:E,topright:A,bottomleft:O,bottomright:z,leftline:ps.fromPoints(ps.create(),E,O),rightline:ps.fromPoints(ps.create(),z,A)};if(g.length>0){const k=g[g.length-1],le=Ar.distance(N.topleft,k.topright),$=Ar.distance(N.bottomleft,k.bottomright);le<Ur&&$<Ur&&(N.topleft=k.topleft,N.leftline=k.leftline,N.bottomleft=k.bottomleft,g.splice(g.length-1,1))}g.push(N)}if(p>0){const y=new Set,S=new Set;for(let w=0;w<g.length;w++){const E=g[w];for(let A=0;A<d.length;A++)if(!S.has(A)){const O=d[A];if(Ar.distance(O.bottomleft,E.topleft)<Ur&&Ar.distance(O.bottomright,E.topright)<Ur){S.add(A);const z=ps.direction(E.leftline),N=ps.direction(O.leftline),k=z[0]-N[0],le=ps.direction(E.rightline),$=ps.direction(O.rightline),V=le[0]-$[0],Ge=Math.abs(k)<Ur,ne=Math.abs(V)<Ur,H=Ge||k>=0,he=ne||V>=0;H&&he&&(E.outpolygon=O.outpolygon,E.leftlinecontinues=Ge,E.rightlinecontinues=ne,y.add(A));break}}}for(let w=0;w<d.length;w++)if(!y.has(w)){const E=d[w];E.outpolygon.rightpoints.push(E.bottomright),Ar.distance(E.bottomright,E.bottomleft)>Ur&&E.outpolygon.leftpoints.push(E.bottomleft),E.outpolygon.leftpoints.reverse();const O=E.outpolygon.rightpoints.concat(E.outpolygon.leftpoints).map(N=>s.to3D(N)),z=pm.fromPointsAndPlane(O,r);z.vertices.length&&t.push(z)}}for(let y=0;y<g.length;y++){const S=g[y];S.outpolygon?(S.leftlinecontinues||S.outpolygon.leftpoints.push(S.topleft),S.rightlinecontinues||S.outpolygon.rightpoints.push(S.topright)):(S.outpolygon={leftpoints:[],rightpoints:[]},S.outpolygon.leftpoints.push(S.topleft),Ar.distance(S.topleft,S.topright)>Ur&&S.outpolygon.rightpoints.push(S.topright))}d=g}return t};var rx=nx;const gm=_t,vm=Mt,sx=Bl,ix=rx,ox=(e,t)=>Math.abs(e[3]-t[3])<15e-8?sx(e,t):!1,ax=e=>{if(e.isRetesselated)return e;const t=gm.toPolygons(e),n=[];t.forEach(i=>{const o=n.find(a=>ox(a[0],vm.plane(i)));o?o[1].push(i):n.push([vm.plane(i),[i]])});let r=[];n.forEach(i=>{const o=i[1],a=ix(o);r=r.concat(a)});const s=gm.create(r);return s.isRetesselated=!0,s};var zl=ax;const{EPS:Ci}=Dt,bm=Js,lx=(e,t)=>{if(e.polygons.length===0||t.polygons.length===0)return!1;const n=bm(e),r=n[0],s=n[1],i=bm(t),o=i[0],a=i[1];return!(o[0]-s[0]>Ci||r[0]-a[0]>Ci||o[1]-s[1]>Ci||r[1]-a[1]>Ci||o[2]-s[2]>Ci||r[2]-a[2]>Ci)};var md=lx;const _m=Fr,cx=Mt;let fx=class Uu{constructor(t){this.plane=null,this.front=null,this.back=null,this.polygontreenodes=[],this.parent=t}invert(){const t=[this];let n;for(let r=0;r<t.length;r++){n=t[r],n.plane&&(n.plane=_m.flip(_m.create(),n.plane)),n.front&&t.push(n.front),n.back&&t.push(n.back);const s=n.front;n.front=n.back,n.back=s}}clipPolygons(t,n){let r={node:this,polygontreenodes:t},s;const i=[];do{if(s=r.node,t=r.polygontreenodes,s.plane){const o=s.plane,a=[],l=[],c=n?a:l,f=t.length;for(let h=0;h<f;h++){const d=t[h];d.isRemoved()||d.splitByPlane(o,c,a,l,a)}s.front&&l.length>0&&i.push({node:s.front,polygontreenodes:l});const u=a.length;if(s.back&&u>0)i.push({node:s.back,polygontreenodes:a});else for(let h=0;h<u;h++)a[h].remove()}r=i.pop()}while(r!==void 0)}clipTo(t,n){let r=this;const s=[];do r.polygontreenodes.length>0&&t.rootnode.clipPolygons(r.polygontreenodes,n),r.front&&s.push(r.front),r.back&&s.push(r.back),r=s.pop();while(r!==void 0)}addPolygonTreeNodes(t){let n={node:this,polygontreenodes:t};const r=[];do{const s=n.node,i=n.polygontreenodes;if(i.length===0){n=r.pop();continue}if(!s.plane){let c=0;c=Math.floor(i.length/2);const f=i[c].getPolygon();s.plane=cx.plane(f)}const o=[],a=[],l=i.length;for(let c=0;c<l;++c)i[c].splitByPlane(s.plane,s.polygontreenodes,a,o,a);o.length>0&&(s.front||(s.front=new Uu(s)),l===o.length&&a.length===0?s.front.polygontreenodes=o:r.push({node:s.front,polygontreenodes:o})),a.length>0&&(s.back||(s.back=new Uu(s)),l===a.length&&o.length===0?s.back.polygontreenodes=a:r.push({node:s.back,polygontreenodes:a})),n=r.pop()}while(n!==void 0)}};var ux=fx;const Pi=st,dx=(e,t,n)=>{const r=Pi.subtract(Pi.create(),n,t);let s=(e[3]-Pi.dot(e,t))/Pi.dot(e,r);return Number.isNaN(s)&&(s=0),s>1&&(s=1),s<0&&(s=0),Pi.scale(r,r,s),Pi.add(r,t,r),r};var hx=dx;const{EPS:Qa}=Dt,mx=Fr,Ja=st,su=Mt,px=hx,gx=(e,t)=>{const n={type:null,front:null,back:null},r=t.vertices,s=r.length,i=su.plane(t);if(mx.equals(i,e))n.type=0;else{let o=!1,a=!1;const l=[],c=-Qa;for(let f=0;f<s;f++){const u=Ja.dot(e,r[f])-e[3],h=u<c;l.push(h),u>Qa&&(o=!0),u<c&&(a=!0)}if(!o&&!a){const f=Ja.dot(e,i);n.type=f>=0?0:1}else if(!a)n.type=2;else if(!o)n.type=3;else{n.type=4;const f=[],u=[];let h=l[0];for(let p=0;p<s;p++){const g=r[p];let m=p+1;m>=s&&(m=0);const v=l[m];if(h===v)h?u.push(g):f.push(g);else{const b=r[m],y=px(e,g,b);h?(u.push(g),u.push(y),f.push(y)):(f.push(g),f.push(y),u.push(y))}h=v}const d=Qa*Qa;if(u.length>=3){let p=u[u.length-1];for(let g=0;g<u.length;g++){const m=u[g];Ja.squaredDistance(m,p)<d&&(u.splice(g,1),g--),p=m}}if(f.length>=3){let p=f[f.length-1];for(let g=0;g<f.length;g++){const m=f[g];Ja.squaredDistance(m,p)<d&&(f.splice(g,1),g--),p=m}}f.length>=3&&(n.front=su.fromPointsAndPlane(f,i)),u.length>=3&&(n.back=su.fromPointsAndPlane(u,i))}}return n};var vx=gx;const{EPS:bx}=Dt,_x=st,ym=Mt,yx=vx;let Ax=class T2{constructor(t,n){this.parent=t,this.children=[],this.polygon=n,this.removed=!1}addPolygons(t){if(!this.isRootNode())throw new Error("Assertion failed");const n=this;t.forEach(r=>{n.addChild(r)})}remove(){if(!this.removed){this.removed=!0,this.polygon=null;const t=this.parent.children,n=t.indexOf(this);if(n<0)throw new Error("Assertion failed");t.splice(n,1),this.parent.recursivelyInvalidatePolygon()}}isRemoved(){return this.removed}isRootNode(){return!this.parent}invert(){if(!this.isRootNode())throw new Error("Assertion failed");this.invertSub()}getPolygon(){if(!this.polygon)throw new Error("Assertion failed");return this.polygon}getPolygons(t){let n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s)for(n=r[s],i=0,o=n.length;i<o;i++)a=n[i],a.polygon?t.push(a.polygon):a.children.length>0&&r.push(a.children)}splitByPlane(t,n,r,s,i){if(this.children.length){const o=[this.children];let a,l,c,f,u;for(a=0;a<o.length;a++)for(u=o[a],l=0,c=u.length;l<c;l++)f=u[l],f.children.length>0?o.push(f.children):f._splitByPlane(t,n,r,s,i)}else this._splitByPlane(t,n,r,s,i)}_splitByPlane(t,n,r,s,i){const o=this.polygon;if(o){const a=ym.measureBoundingSphere(o),l=a[3]+bx,c=a,f=_x.dot(t,c)-t[3];if(f>l)s.push(this);else if(f<-l)i.push(this);else{const u=yx(t,o);switch(u.type){case 0:n.push(this);break;case 1:r.push(this);break;case 2:s.push(this);break;case 3:i.push(this);break;case 4:if(u.front){const h=this.addChild(u.front);s.push(h)}if(u.back){const h=this.addChild(u.back);i.push(h)}break}}}}addChild(t){const n=new T2(this,t);return this.children.push(n),n}invertSub(){let t=[this];const n=[t];let r,s,i,o;for(r=0;r<n.length;r++)for(t=n[r],s=0,i=t.length;s<i;s++)o=t[s],o.polygon&&(o.polygon=ym.invert(o.polygon)),o.children.length>0&&n.push(o.children)}recursivelyInvalidatePolygon(){this.polygon=null,this.parent&&this.parent.recursivelyInvalidatePolygon()}clear(){let t=[this];const n=[t];for(let r=0;r<n.length;++r){t=n[r];const s=t.length;for(let i=0;i<s;i++){const o=t[i];o.polygon&&(o.polygon=null),o.parent&&(o.parent=null),o.children.length>0&&n.push(o.children),o.children=[]}}}toString(){let t="",n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s){n=r[s];const l=" ".repeat(s);for(i=0,o=n.length;i<o;i++)a=n[i],t+=`${l}PolygonTreeNode (${a.isRootNode()}): ${a.children.length}`,a.polygon?t+=`
 ${l}polygon: ${a.polygon.vertices}
`:t+=`
`,a.children.length>0&&r.push(a.children)}return t}};var Sx=Ax;const Ex=ux,wx=Sx;let Tx=class{constructor(t){this.polygonTree=new wx,this.rootnode=new Ex(null),t&&this.addPolygons(t)}invert(){this.polygonTree.invert(),this.rootnode.invert()}clipTo(t,n=!1){this.rootnode.clipTo(t,n)}allPolygons(){const t=[];return this.polygonTree.getPolygons(t),t}addPolygons(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=this.polygonTree.addChild(t[r]);this.rootnode.addPolygonTreeNodes(n)}clear(){this.polygonTree.clear()}toString(){return"Tree: "+this.polygonTree.toString("")}};var Cx=Tx,pd={Tree:Cx};const el=_t,Px=md,{Tree:Am}=pd,Lx=(e,t)=>{if(!Px(e,t))return el.create();const n=new Am(el.toPolygons(e)),r=new Am(el.toPolygons(t));n.invert(),r.clipTo(n),r.invert(),n.clipTo(r),r.clipTo(n),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return el.create(s)};var Ox=Lx;const Rx=mt,Mx=zl,Ix=Ox,Dx=(...e)=>{e=Rx(e);let t=e.shift();return e.forEach(n=>{t=Ix(t,n)}),t=Mx(t),t};var C2=Dx;const Fx=mt,xx=_t,kx=_s,Gx=dd,Bx=hd,Nx=C2,$x=(...e)=>{e=Fx(e);const t=e.map(s=>Bx({z0:-1,z1:1},s)),n=Nx(t),r=kx(n);return Gx(r,xx.toPolygons(n))};var Vx=$x;const Ux=mt,Hx=Yo,zx=gt,jx=_t,qx=Vx,Xx=C2,Wx=(...e)=>{if(e=Ux(e),e.length===0)throw new Error("wrong number of arguments");if(!Hx(e))throw new Error("only intersect of the types are supported");const t=e[0];return zx.isA(t)?qx(e):jx.isA(t)?Xx(e):t};var Yx=Wx;const iu=st,Zx=_s,Sm=_t,Kx=e=>e.sort((t,n)=>t-n).filter((t,n,r)=>!n||t!==r[n-1]),Qx=(e,t,n)=>{const r=`${t}`,s=e.get(r);s===void 0?e.set(r,[n]):s.push(n)},Jx=(e,t)=>{const n=`${t}`;return e.get(n)},ek=e=>{const t=Zx(e),n=Sm.toPolygons(e),r=n.length,s=new Map,i=iu.create();n.forEach((f,u)=>{f.vertices.forEach(h=>{Qx(s,iu.snap(i,h,t),u)})});const o=n.map(f=>{let u=[];return f.vertices.forEach(h=>{u=u.concat(Jx(s,iu.snap(i,h,t)))}),{e:1,d:Kx(u)}});s.clear();let a=0;const l=o.length;for(let f=0;f<l;f++){const u=o[f];if(u.e>0){const h=new Array(r);h[f]=!0;do a=0,h.forEach((d,p)=>{const g=o[p];if(g.e>0){g.e=-1;for(let m=0;m<g.d.length;m++)h[g.d[m]]=!0;a++}});while(a>0);u.indexes=h}}const c=[];for(let f=0;f<l;f++)if(o[f].indexes){const u=[];o[f].indexes.forEach((h,d)=>u.push(n[d])),c.push(Sm.create(u))}return c};var tk=ek;const nk=mt,rk=_t,sk=tk,ik=(...e)=>{if(e=nk(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>rk.isA(n)?sk(n):n);return t.length===1?t[0]:t};var ok=ik;const tl=_t,ak=md,{Tree:Em}=pd,lk=(e,t)=>{if(!ak(e,t))return tl.clone(e);const n=new Em(tl.toPolygons(e)),r=new Em(tl.toPolygons(t));n.invert(),n.clipTo(r),r.clipTo(n,!0),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return tl.create(s)};var ck=lk;const fk=mt,uk=zl,dk=ck,hk=(...e)=>{e=fk(e);let t=e.shift();return e.forEach(n=>{t=dk(t,n)}),t=uk(t),t};var P2=hk;const mk=mt,pk=_t,gk=_s,vk=dd,bk=hd,_k=P2,yk=(...e)=>{e=mk(e);const t=e.map(s=>bk({z0:-1,z1:1},s)),n=_k(t),r=gk(n);return vk(r,pk.toPolygons(n))};var Ak=yk;const Sk=mt,Ek=Yo,wk=gt,Tk=_t,Ck=Ak,Pk=P2,Lk=(...e)=>{if(e=Sk(e),e.length===0)throw new Error("wrong number of arguments");if(!Ek(e))throw new Error("only subtract of the types are supported");const t=e[0];return wk.isA(t)?Ck(e):Tk.isA(t)?Pk(e):t};var Ok=Lk;const ki=_t,Rk=md,{Tree:wm}=pd,Mk=(e,t)=>{if(!Rk(e,t))return Ik(e,t);const n=new wm(ki.toPolygons(e)),r=new wm(ki.toPolygons(t));n.clipTo(r,!1),r.clipTo(n),r.invert(),r.clipTo(n),r.invert();const s=n.allPolygons().concat(r.allPolygons());return ki.create(s)},Ik=(e,t)=>{let n=ki.toPolygons(e);return n=n.concat(ki.toPolygons(t)),ki.create(n)};var L2=Mk;const Dk=mt,Fk=zl,xk=L2,kk=(...e)=>{e=Dk(e);let t;for(t=1;t<e.length;t+=2)e.push(xk(e[t-1],e[t]));let n=e[t-1];return n=Fk(n),n};var O2=kk;const Gk=mt,Bk=_t,Nk=_s,$k=dd,Vk=hd,Uk=O2,Hk=(...e)=>{e=Gk(e);const t=e.map(s=>Vk({z0:-1,z1:1},s)),n=Uk(t),r=Nk(n);return $k(r,Bk.toPolygons(n))};var R2=Hk;const zk=mt,jk=Yo,qk=gt,Xk=_t,Wk=R2,Yk=O2,Zk=(...e)=>{if(e=zk(e),e.length===0)throw new Error("wrong number of arguments");if(!jk(e))throw new Error("only unions of the same type are supported");const t=e[0];return qk.isA(t)?Wk(e):Xk.isA(t)?Yk(e):t};var gd=Zk,Kk={intersect:Yx,scission:ok,subtract:Ok,union:gd};const{EPS:Qk,TAU:Jk}=Dt,Tm=$v,To=ad,fn=St,eG=kl,tG=(e,t)=>{const n={delta:1,corners:"edge",closed:!1,segments:16};let{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(Math.abs(r)<Qk)return t;let a=e.closed?eG(t):1;a===0&&(a=1);const l=a>0&&r>=0||a<0&&r<0;r=Math.abs(r);let c=null,f=[];const u=[],h=fn.create(),d=t.length;for(let p=0;p<d;p++){const g=(p+1)%d,m=t[p],v=t[g];l?fn.subtract(h,m,v):fn.subtract(h,v,m),fn.normal(h,h),fn.normalize(h,h),fn.scale(h,h,r);const b=fn.add(fn.create(),m,h),y=fn.add(fn.create(),v,h),S=[b,y];if(c!=null&&(i||!i&&g!==0)){const w=Tm(c[0],c[1],S[0],S[1]);w?(f.pop(),S[0]=w):u.push({c:m,s0:c,s1:S})}c=[b,y],!(g===0&&!i)&&(f.push(S[0]),f.push(S[1]))}if(i&&c!=null){const p=f[0],g=f[1],m=Tm(c[0],c[1],p,g);if(m)f[0]=m,f.pop();else{const v=t[0],b=[p,g];u.push({c:v,s0:c,s1:b})}}if(s==="edge"){const p=new Map;f.forEach((v,b)=>p.set(v,b));const g=To.create(),m=To.create();u.forEach(v=>{To.fromPoints(g,v.s0[0],v.s0[1]),To.fromPoints(m,v.s1[0],v.s1[1]);const b=To.intersectPointOfLines(g,m);if(Number.isFinite(b[0])&&Number.isFinite(b[1])){const y=v.s0[1],S=p.get(y);f[S]=b,f[(S+1)%f.length]=void 0}else{const y=v.s1[0],S=p.get(y);f[S]=void 0}}),f=f.filter(v=>v!==void 0)}if(s==="round"){let p=Math.floor(o/4);const g=fn.create();u.forEach(m=>{let v=fn.angle(fn.subtract(g,m.s1[0],m.c));if(v-=fn.angle(fn.subtract(g,m.s0[1],m.c)),l&&v<0&&(v=v+Math.PI,v<0&&(v=v+Math.PI)),!l&&v>0&&(v=v-Math.PI,v>0&&(v=v-Math.PI)),v!==0){p=Math.floor(o*(Math.abs(v)/Jk));const b=v/p,y=fn.angle(fn.subtract(g,m.s0[1],m.c)),S=[];for(let w=1;w<p;w++){const E=y+b*w,A=fn.fromAngleRadians(fn.create(),E);fn.scale(A,A,r),fn.add(A,A,m.c),S.push(A)}if(S.length>0){const w=m.s0[1];let E=f.findIndex(A=>fn.equals(w,A));E=(E+1)%f.length,f.splice(E,0,...S)}}else{const b=m.s1[0],y=f.findIndex(S=>fn.equals(b,S));f.splice(y,1)}})}return f};var jl=tG;const nl=gt,nG=jl,rG=(e,t)=>{const n={delta:1,corners:"edge",segments:16},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const l=nl.toOutlines(t).map(c=>(e={delta:r,corners:s,closed:!0,segments:i},nG(e,c))).reduce((c,f)=>c.concat(nl.toSides(nl.fromPoints(f))),[]);return nl.create(l)};var sG=rG;const Cm=qt,iG=st,oG=_t,Co=Mt,aG=(e,t)=>{iG.dot(Co.plane(t),e)>0&&(t=Co.invert(t));const r=[t],s=Co.transform(Cm.fromTranslation(Cm.create(),e),t),i=t.vertices.length;for(let o=0;o<i;o++){const a=o<i-1?o+1:0,l=Co.create([t.vertices[o],s.vertices[o],s.vertices[a],t.vertices[a]]);r.push(l)}return r.push(Co.invert(s)),oG.create(r)};var lG=aG;const{EPS:cG,TAU:ou}=Dt,Pm=qt,Wt=st,fG=E2,au=_t,Vs=Mt,uG=u2,dG=zl,lu=L2,hG=lG,mG=(e,t,n)=>{const r=t.toString();if(e.has(r))e.get(r)[1].push(n);else{const s=[t,[n]];e.set(r,s)}},pG=(e,t,n)=>{const r=t[0].toString(),s=t[1].toString(),i=r<s?`${r},${s}`:`${s},${r}`;if(e.has(i))e.get(i)[1].push(n);else{const o=[t,[n]];e.set(i,o)}},cu=(e,t)=>{e.findIndex(r=>r===t)<0&&e.push(t)},gG=(e,t)=>{const n={delta:1,segments:12},{delta:r,segments:s}=Object.assign({},n,e);let i=au.create();const o=new Map,a=new Map,l=Wt.create(),c=Wt.create();return au.toPolygons(t).forEach((u,h)=>{const d=Wt.scale(Wt.create(),Vs.plane(u),2*r),p=Vs.transform(Pm.fromTranslation(Pm.create(),Wt.scale(Wt.create(),d,-.5)),u),g=hG(d,p);i=lu(i,g);const m=u.vertices;for(let v=0;v<m.length;v++){mG(o,m[v],Vs.plane(u));const b=(v+1)%m.length,y=[m[v],m[b]];pG(a,y,Vs.plane(u))}}),a.forEach(u=>{const h=u[0],d=u[1],p=h[0],g=h[1],m=Wt.subtract(Wt.create(),g,p);Wt.normalize(m,m);const v=d[0],b=Wt.cross(Wt.create(),v,m);let y=[];for(let k=0;k<s;k++)cu(y,k*ou/s);for(let k=0,le=d.length;k<le;k++){const $=d[k],V=Wt.dot(b,$),Ge=Wt.dot(v,$);let ne=Math.atan2(V,Ge);ne<0&&(ne+=ou),cu(y,ne),ne=Math.atan2(-V,-Ge),ne<0&&(ne+=ou),cu(y,ne)}y=y.sort(fG);const S=y.length;let w,E;const A=[],O=[],z=[];for(let k=-1;k<S;k++){const le=y[k<0?k+S:k],$=Math.sin(le),V=Math.cos(le);Wt.scale(l,v,V*r),Wt.scale(c,b,$*r),Wt.add(l,l,c);const Ge=Wt.add(Wt.create(),p,l),ne=Wt.add(Wt.create(),g,l);let H=!1;if(k>=0&&Wt.distance(Ge,w)<cG&&(H=!0),!H){if(k>=0){A.push(Ge),O.push(ne);const he=[E,ne,Ge,w],te=Vs.create(he);z.push(te)}w=Ge,E=ne}}O.reverse(),z.push(Vs.create(A)),z.push(Vs.create(O));const N=au.create(z);i=lu(i,N)}),o.forEach(u=>{const h=u[0],d=u[1],p=d[0];let g=null,m=0;for(let S=1;S<d.length;S++){const w=d[S],E=Wt.cross(l,p,w),A=Wt.length(E);A>.05&&A>m&&(m=A,g=w)}g||(g=Wt.orthogonal(l,p));const v=Wt.cross(l,p,g);Wt.normalize(v,v);const b=Wt.cross(c,v,p),y=uG({center:[h[0],h[1],h[2]],radius:r,segments:s,axes:[p,v,b]});i=lu(i,y)}),dG(i)};var vG=gG;const bG=_t,_G=gd,yG=vG,AG=(e,t)=>{const n={delta:1,corners:"round",segments:12},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(s!=="round")throw new Error('corners must be "round" for 3D geometries');if(bG.toPolygons(t).length===0)throw new Error("the given geometry cannot be empty");e={delta:r,corners:s,segments:i};const a=yG(e,t);return _G(t,a)};var SG=AG;const EG=kl,nr=St,Ii=gt,Fo=Ut,Lm=jl,wG=e=>{let{external:t,internal:n}=e;EG(t)<0?t=t.reverse():n=n.reverse();const r=Fo.fromPoints({closed:!0},t),s=Fo.fromPoints({closed:!0},n),i=Ii.toSides(Ii.fromPoints(Fo.toPoints(r))),o=Ii.toSides(Ii.fromPoints(Fo.toPoints(s)));return i.push(...o),Ii.create(i)},TG=(e,t,n,r)=>{const{points:s,external:i,internal:o}=e,a=Math.floor(t/2),l=[],c=[];if(n==="round"&&a>0){const u=Math.PI/a,h=s[s.length-1],d=nr.angle(nr.subtract(nr.create(),i[i.length-1],h)),p=s[0],g=nr.angle(nr.subtract(nr.create(),o[0],p));for(let m=1;m<a;m++){let v=d+u*m,b=nr.fromAngleRadians(nr.create(),v);nr.scale(b,b,r),nr.add(b,b,h),l.push(b),v=g+u*m,b=nr.fromAngleRadians(nr.create(),v),nr.scale(b,b,r),nr.add(b,b,p),c.push(b)}}const f=[];return f.push(...i,...l,...o.reverse(),...c),Ii.fromPoints(f)},CG=(e,t)=>{e=Object.assign({},{delta:1,corners:"edge",segments:16},e);const{delta:r,corners:s,segments:i}=e;if(r<=0)throw new Error("the given delta must be positive for paths");if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=t.isClosed,a=Fo.toPoints(t);if(a.length===0)throw new Error("the given geometry cannot be empty");const l={points:a,external:Lm({delta:r,corners:s,segments:i,closed:o},a),internal:Lm({delta:-r,corners:s,segments:i,closed:o},a)};return t.isClosed?wG(l):TG(l,i,s,r)};var PG=CG;const LG=mt,OG=gt,RG=_t,MG=Ut,IG=sG,DG=SG,FG=PG,xG=(e,...t)=>{if(t=LG(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>MG.isA(r)?FG(e,r):OG.isA(r)?IG(e,r):RG.isA(r)?DG(e,r):r);return n.length===1?n[0]:n};var vd=xG;const rl=gt,Om=rd,kG=jl,GG=(e,t)=>{const n={delta:1,corners:"edge",segments:0},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=rl.toOutlines(t),l=o.map(c=>(e={delta:o.reduce((h,d)=>h+Om.arePointsInside(c,Om.create(d)),0)%2===0?r:-r,corners:s,closed:!0,segments:i},kG(e,c))).reduce((c,f)=>c.concat(rl.toSides(rl.fromPoints(f))),[]);return rl.create(l)};var BG=GG;const Rm=Ut,NG=jl,$G=(e,t)=>{const n={delta:1,corners:"edge",closed:t.isClosed,segments:16},{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');e={delta:r,corners:s,closed:i,segments:o};const a=NG(e,Rm.toPoints(t));return Rm.fromPoints({closed:i},a)};var VG=$G;const UG=mt,HG=gt,zG=Ut,jG=BG,qG=VG,XG=(e,...t)=>{if(t=UG(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>zG.isA(r)?qG(e,r):HG.isA(r)?jG(e,r):r);return n.length===1?n[0]:n};var WG=XG,YG={expand:vd,offset:WG};const Po=qt,fu=st,ZG=gt,uu=zi,KG=Vl,QG=(e,t)=>{const n={offset:[0,0,1],twistAngle:0,twistSteps:12,repair:!0};let{offset:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(i<1)throw new Error("twistSteps must be 1 or more");s===0&&(i=1);const a=fu.clone(r),l=ZG.toSides(t);if(l.length===0)throw new Error("the given geometry cannot be empty");const c=uu.fromSides(l);a[2]<0&&uu.reverse(c,c);const f=Po.create(),u=(h,d,p)=>{const g=d/i*s,m=fu.scale(fu.create(),a,d/i);return Po.multiply(f,Po.fromZRotation(f,g),Po.fromTranslation(Po.create(),m)),uu.transform(f,p)};return e={numberOfSlices:i+1,capStart:!0,capEnd:!0,repair:o,callback:u},KG(e,c)};var ql=QG;const JG=gt,eB=Ut,tB=ql,nB=(e,t)=>{if(!t.isClosed)throw new Error("extruded path must be closed");const n=eB.toPoints(t),r=JG.fromPoints(n);return tB(e,r)};var rB=nB;const sB=mt,iB=gt,oB=Ut,aB=ql,lB=rB,cB=(e,...t)=>{const n={height:1,twistAngle:0,twistSteps:1,repair:!0},{height:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(t=sB(t),t.length===0)throw new Error("wrong number of arguments");e={offset:[0,0,r],twistAngle:s,twistSteps:i,repair:o};const a=t.map(l=>oB.isA(l)?lB(e,l):iB.isA(l)?aB(e,l):l);return a.length===1?a[0]:a};var fB=cB;const uB=Ut,dB=vd,hB=ql,mB=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(e.delta=r,e.offset=[0,0,s],uB.toPoints(t).length===0)throw new Error("the given geometry cannot be empty");const o=dB(e,t);return hB(e,o)};var pB=mB;const{area:gB}=Xo,du=gt,vB=Ut,bB=vd,_B=ql,yB=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);e.delta=r,e.offset=[0,0,s];const i=du.toOutlines(t);if(i.length===0)throw new Error("the given geometry cannot be empty");const a=i.map(c=>(gB(c)<0&&c.reverse(),bB(e,vB.fromPoints({closed:!0},c)))).reduce((c,f)=>c.concat(du.toSides(f)),[]),l=du.create(a);return _B(e,l)};var AB=yB;const SB=mt,EB=gt,wB=Ut,TB=pB,CB=AB,PB=(e,...t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(t=SB(t),t.length===0)throw new Error("wrong number of arguments");if(r<=0)throw new Error("size must be positive");if(s<=0)throw new Error("height must be positive");const i=t.map(o=>wB.isA(o)?TB(e,o):EB.isA(o)?CB(e,o):o);return i.length===1?i[0]:i};var LB=PB;const{TAU:Lo}=Dt,hu=zi,Or=qt,OB=Vl,RB=gt,MB=(e,t)=>{const n={angle:Lo,startAngle:0,pitch:10,endOffset:0,segmentsPerRotation:32},{angle:r,endOffset:s,segmentsPerRotation:i,startAngle:o}=Object.assign({},n,e);let a;if(!e.pitch&&e.height?a=e.height/(r/Lo):a=e.pitch?e.pitch:n.pitch,i<3)throw new Error("The number of segments per rotation needs to be at least 3.");let c=RB.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(v=>v[0][0]>=0);let u=hu.fromSides(c);f.length===0&&(u=hu.reverse(u));const h=Math.round(i/Lo*Math.abs(r)),d=h>=2?h:2,p=Or.create();let g;const m=(v,b,y)=>{const S=o+r/d*b,w=s/d*b,E=(S-o)/Lo*a;return Or.multiply(p,Or.fromTranslation(Or.create(),[w,0,E*Math.sign(r)]),Or.fromXRotation(Or.create(),-Lo/4*Math.sign(r))),g=Or.create(),Or.multiply(g,Or.fromZRotation(Or.create(),S),p),hu.transform(g,y)};return OB({numberOfSlices:d+1,callback:m},u)};var IB=MB;const DB=mt,Mm=Bl,mu=Fr,Im=qt,Dm=gt,M2=_t,Li=Mt,FB=_s,xB=R2,kB=(e,t)=>{const n=mu.fromNormalAndPoint(mu.create(),e.axis,e.origin);if(Number.isNaN(n[0])||Number.isNaN(n[1])||Number.isNaN(n[2])||Number.isNaN(n[3]))throw new Error("project: invalid axis or origin");const r=FB(t),s=r*r*Math.sqrt(3)/4;if(r===0)return Dm.create();const i=M2.toPolygons(t);let o=[];for(let l=0;l<i.length;l++){const c=i[l].vertices.map(h=>mu.projectionOfPoint(n,h)),f=Li.create(c),u=Li.plane(f);Mm(n,u)&&(Li.measureArea(f)<s||o.push(f))}if(!Mm(n,[0,0,1])){const l=Im.fromVectorRotation(Im.create(),n,[0,0,1]);o=o.map(c=>Li.transform(l,c))}o=o.sort((l,c)=>Li.measureArea(c)-Li.measureArea(l));const a=o.map(l=>Dm.fromPoints(l.vertices));return xB(a)},GB=(e,...t)=>{const n={axis:[0,0,1],origin:[0,0,0]},{axis:r,origin:s}=Object.assign({},n,e);if(t=DB(t),t.length===0)throw new Error("wrong number of arguments");e={axis:r,origin:s};const i=t.map(o=>M2.isA(o)?kB(e,o):o);return i.length===1?i[0]:i};var BB=GB,NB={extrudeFromSlices:Vl,extrudeLinear:fB,extrudeRectangular:LB,extrudeRotate:_2,extrudeHelical:IB,project:BB,slice:zi};const Fm=St,$B=e=>{let t=Fm.fromValues(1/0,1/0);e.forEach(s=>{(s[1]<t[1]||s[1]===t[1]&&s[0]<t[0])&&(t=s)});const n=[];e.forEach(s=>{const i=UB(s[1]-t[1],s[0]-t[0]),o=Fm.squaredDistance(s,t);n.push({point:s,angle:i,distSq:o})}),n.sort((s,i)=>s.angle<i.angle?-1:s.angle>i.angle?1:s.distSq<i.distSq?-1:s.distSq>i.distSq?1:0);const r=[];return n.forEach(s=>{let i=r.length;for(;i>1&&VB(r[i-2],r[i-1],s.point)<=Number.EPSILON;)r.pop(),i=r.length;r.push(s.point)}),r},VB=(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]),UB=(e,t)=>e===0&&t===0?-1/0:-t/e;var I2=$B;const xm=gt,km=_t,Gm=Ut,HB=e=>{const t=new Set,n=[],r=s=>{const i=s.toString();t.has(i)||(n.push(s),t.add(i))};return e.forEach(s=>{xm.isA(s)?xm.toPoints(s).forEach(r):km.isA(s)?km.toPoints(s).forEach(i=>i.forEach(r)):Gm.isA(s)&&Gm.toPoints(s).forEach(r)}),n};var bd=HB;const zB=mt,jB=Ut,qB=I2,XB=bd,WB=(...e)=>{e=zB(e);const t=XB(e),n=qB(t);return jB.fromPoints({closed:!0},n)};var YB=WB;const ZB=mt,Bm=gt,KB=I2,QB=bd,JB=(...e)=>{e=ZB(e);const t=QB(e),n=KB(t);return n.length<3?Bm.create():Bm.fromPoints(n)};var eN=JB;const tN=jo,Nm=Ol,$m=iv,nN=(e,t,n)=>{const r=[],s=[],i=[];Nm(r,n,t),Nm(s,e,t);const o=$m(tN(i,s,r)),a=$m(r);if(a===0)throw Error("a and b are the same point");return o/a},rN=(e,t,n)=>Math.sqrt(nN(e,t,n));var sN=rN;const iN=jo,oN=Qu,Vm=Ol,aN=(e,t,n,r)=>{const s=[0,0,0];return Vm(e,t,n),Vm(s,n,r),iN(e,e,s),oN(e,e)};var lN=aN;let cN=class{constructor(){this.head=null,this.tail=null}clear(){this.head=this.tail=null}insertBefore(t,n){n.prev=t.prev,n.next=t,n.prev?n.prev.next=n:this.head=n,t.prev=n}insertAfter(t,n){n.prev=t,n.next=t.next,n.next?n.next.prev=n:this.tail=n,t.next=n}add(t){this.head?this.tail.next=t:this.head=t,t.prev=this.tail,t.next=null,this.tail=t}addAll(t){for(this.head?this.tail.next=t:this.head=t,t.prev=this.tail;t.next;)t=t.next;this.tail=t}remove(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}removeChain(t,n){t.prev?t.prev.next=n.next:this.head=n.next,n.next?n.next.prev=t.prev:this.tail=t.prev}first(){return this.head}isEmpty(){return!this.head}};var fN=cN;let uN=class{constructor(t,n){this.point=t,this.index=n,this.next=null,this.prev=null,this.face=null}};var dN=uN;const hN=Jg,mN=sv;let pN=class{constructor(t,n){this.vertex=t,this.face=n,this.next=null,this.prev=null,this.opposite=null}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){return this.tail()?hN(this.tail().point,this.head().point):-1}lengthSquared(){return this.tail()?mN(this.tail().point,this.head().point):-1}setOpposite(t){this.opposite=t,t.opposite=this}};var gN=pN;const pu=Kg,vN=Qg,bN=jo,gu=Pl,_N=ev,yN=Qu,sl=rv,vu=Ol,bu=gN,D2=0,AN=1,Hu=2;let SN=class F2{constructor(){this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=D2,this.edge=null,this.nVertices=0}getEdge(t){if(typeof t!="number")throw Error("requires a number");let n=this.edge;for(;t>0;)n=n.next,t-=1;for(;t<0;)n=n.prev,t+=1;return n}computeNormal(){const t=this.edge,n=t.next;let r=n.next;const s=vu([],n.head().point,t.head().point),i=[],o=[];for(this.nVertices=2,this.normal=[0,0,0];r!==t;)vN(o,s),vu(s,r.head().point,t.head().point),pu(this.normal,this.normal,bN(i,o,s)),r=r.next,this.nVertices+=1;this.area=_N(this.normal),this.normal=sl(this.normal,this.normal,1/this.area)}computeNormalMinArea(t){if(this.computeNormal(),this.area<t){let n,r=0,s=this.edge;do{const f=s.lengthSquared();f>r&&(n=s,r=f),s=s.next}while(s!==this.edge);const i=n.tail().point,o=n.head().point,a=vu([],o,i),l=Math.sqrt(r);sl(a,a,1/l);const c=gu(this.normal,a);sl(a,a,-c),pu(this.normal,this.normal,a),yN(this.normal,this.normal)}}computeCentroid(){this.centroid=[0,0,0];let t=this.edge;do pu(this.centroid,this.centroid,t.head().point),t=t.next;while(t!==this.edge);sl(this.centroid,this.centroid,1/this.nVertices)}computeNormalAndCentroid(t){typeof t<"u"?this.computeNormalMinArea(t):this.computeNormal(),this.computeCentroid(),this.offset=gu(this.normal,this.centroid)}distanceToPlane(t){return gu(this.normal,t)-this.offset}connectHalfEdges(t,n){let r;if(t.opposite.face===n.opposite.face){const s=n.opposite.face;let i;t===this.edge&&(this.edge=n),s.nVertices===3?(i=n.opposite.prev.opposite,s.mark=Hu,r=s):(i=n.opposite.next,s.edge===i.prev&&(s.edge=i),i.prev=i.prev.prev,i.prev.next=i),n.prev=t.prev,n.prev.next=n,n.setOpposite(i),s.computeNormalAndCentroid()}else t.next=n,n.prev=t;return r}mergeAdjacentFaces(t,n){const r=t.opposite,s=r.face;n.push(s),s.mark=Hu;let i=t.prev,o=t.next,a=r.prev,l=r.next;for(;i.opposite.face===s;)i=i.prev,l=l.next;for(;o.opposite.face===s;)o=o.next,a=a.prev;let c;for(c=l;c!==a.next;c=c.next)c.face=this;this.edge=o;let f;return f=this.connectHalfEdges(a,o),f&&n.push(f),f=this.connectHalfEdges(i,l),f&&n.push(f),this.computeNormalAndCentroid(),n}collectIndices(){const t=[];let n=this.edge;do t.push(n.head().index),n=n.next;while(n!==this.edge);return t}static createTriangle(t,n,r,s=0){const i=new F2,o=new bu(t,i),a=new bu(n,i),l=new bu(r,i);return o.next=l.prev=a,a.next=o.prev=l,l.next=a.prev=o,i.edge=o,i.computeNormalAndCentroid(s),i}};var EN={VISIBLE:D2,NON_CONVEX:AN,DELETED:Hu,Face:SN};const _u=Pl,wN=sN,TN=lN,Um=fN,CN=dN,{Face:Hr,VISIBLE:Oi,NON_CONVEX:Hm,DELETED:PN}=EN,LN=1,zm=2;let ON=class{constructor(t){if(!Array.isArray(t))throw TypeError("input is not a valid array");if(t.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=t.length,this.faces=[],this.newFaces=[],this.claimed=new Um,this.unclaimed=new Um,this.vertices=[];for(let n=0;n<t.length;n+=1)this.vertices.push(new CN(t[n],n));this.discardedFaces=[],this.vertexPointIndices=[]}addVertexToFace(t,n){t.face=n,n.outside?this.claimed.insertBefore(n.outside,t):this.claimed.add(t),n.outside=t}removeVertexFromFace(t,n){t===n.outside&&(t.next&&t.next.face===n?n.outside=t.next:n.outside=null),this.claimed.remove(t)}removeAllVerticesFromFace(t){if(t.outside){let n=t.outside;for(;n.next&&n.next.face===t;)n=n.next;return this.claimed.removeChain(t.outside,n),n.next=null,t.outside}}deleteFaceVertices(t,n){const r=this.removeAllVerticesFromFace(t);if(r)if(!n)this.unclaimed.addAll(r);else{let s;for(let i=r;i;i=s)s=i.next,n.distanceToPlane(i.point)>this.tolerance?this.addVertexToFace(i,n):this.unclaimed.add(i)}}resolveUnclaimedPoints(t){let n=this.unclaimed.first();for(let r=n;r;r=n){n=r.next;let s=this.tolerance,i;for(let o=0;o<t.length;o+=1){const a=t[o];if(a.mark===Oi){const l=a.distanceToPlane(r.point);if(l>s&&(s=l,i=a),s>1e3*this.tolerance)break}}i&&this.addVertexToFace(r,i)}}computeExtremes(){const t=[],n=[],r=[],s=[];let i,o;for(i=0;i<3;i+=1)r[i]=s[i]=this.vertices[0];for(i=0;i<3;i+=1)t[i]=n[i]=this.vertices[0].point[i];for(i=1;i<this.vertices.length;i+=1){const a=this.vertices[i],l=a.point;for(o=0;o<3;o+=1)l[o]<t[o]&&(t[o]=l[o],r[o]=a);for(o=0;o<3;o+=1)l[o]>n[o]&&(n[o]=l[o],s[o]=a)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(t[0]),Math.abs(n[0]))+Math.max(Math.abs(t[1]),Math.abs(n[1]))+Math.max(Math.abs(t[2]),Math.abs(n[2]))),[r,s]}createInitialSimplex(){const t=this.vertices,[n,r]=this.computeExtremes();let s,i,o,a,l=0,c=0;for(o=0;o<3;o+=1){const g=r[o].point[o]-n[o].point[o];g>l&&(l=g,c=o)}const f=n[c],u=r[c];for(l=0,o=0;o<this.vertices.length;o+=1){const g=this.vertices[o];if(g!==f&&g!==u){const m=wN(g.point,f.point,u.point);m>l&&(l=m,s=g)}}const h=TN([],f.point,u.point,s.point),d=_u(f.point,h);for(l=-1,o=0;o<this.vertices.length;o+=1){const g=this.vertices[o];if(g!==f&&g!==u&&g!==s){const m=Math.abs(_u(h,g.point)-d);m>l&&(l=m,i=g)}}const p=[];if(_u(i.point,h)-d<0)for(p.push(Hr.createTriangle(f,u,s),Hr.createTriangle(i,u,f),Hr.createTriangle(i,s,u),Hr.createTriangle(i,f,s)),o=0;o<3;o+=1){const g=(o+1)%3;p[o+1].getEdge(2).setOpposite(p[0].getEdge(g)),p[o+1].getEdge(1).setOpposite(p[g+1].getEdge(0))}else for(p.push(Hr.createTriangle(f,s,u),Hr.createTriangle(i,f,u),Hr.createTriangle(i,u,s),Hr.createTriangle(i,s,f)),o=0;o<3;o+=1){const g=(o+1)%3;p[o+1].getEdge(2).setOpposite(p[0].getEdge((3-o)%3)),p[o+1].getEdge(0).setOpposite(p[g+1].getEdge(1))}for(o=0;o<4;o+=1)this.faces.push(p[o]);for(o=0;o<t.length;o+=1){const g=t[o];if(g!==f&&g!==u&&g!==s&&g!==i){l=this.tolerance;let m;for(a=0;a<4;a+=1){const v=p[a].distanceToPlane(g.point);v>l&&(l=v,m=p[a])}m&&this.addVertexToFace(g,m)}}}reindexFaceAndVertices(){const t=[];for(let n=0;n<this.faces.length;n+=1){const r=this.faces[n];r.mark===Oi&&t.push(r)}this.faces=t}collectFaces(t){const n=[];for(let r=0;r<this.faces.length;r+=1){if(this.faces[r].mark!==Oi)throw Error("attempt to include a destroyed face in the hull");const s=this.faces[r].collectIndices();if(t)n.push(s);else for(let i=0;i<s.length-2;i+=1)n.push([s[0],s[i+1],s[i+2]])}return n}nextVertexToAdd(){if(!this.claimed.isEmpty()){let t,n,r=0;const s=this.claimed.first().face;for(n=s.outside;n&&n.face===s;n=n.next){const i=s.distanceToPlane(n.point);i>r&&(r=i,t=n)}return t}}computeHorizon(t,n,r,s){this.deleteFaceVertices(r),r.mark=PN;let i;n?i=n.next:i=n=r.getEdge(0);do{const o=i.opposite,a=o.face;a.mark===Oi&&(a.distanceToPlane(t)>this.tolerance?this.computeHorizon(t,o,a,s):s.push(i)),i=i.next}while(i!==n)}addAdjoiningFace(t,n){const r=Hr.createTriangle(t,n.tail(),n.head());return this.faces.push(r),r.getEdge(-1).setOpposite(n.opposite),r.getEdge(0)}addNewFaces(t,n){this.newFaces=[];let r,s;for(let i=0;i<n.length;i+=1){const o=n[i],a=this.addAdjoiningFace(t,o);r?a.next.setOpposite(s):r=a,this.newFaces.push(a.face),s=a}r.next.setOpposite(s)}oppositeFaceDistance(t){return t.face.distanceToPlane(t.opposite.face.centroid)}doAdjacentMerge(t,n){let r=t.edge,s=!0,i=0;do{if(i>=t.nVertices)throw Error("merge recursion limit exceeded");const o=r.opposite.face;let a=!1;if(n===zm?(this.oppositeFaceDistance(r)>-this.tolerance||this.oppositeFaceDistance(r.opposite)>-this.tolerance)&&(a=!0):t.area>o.area?this.oppositeFaceDistance(r)>-this.tolerance?a=!0:this.oppositeFaceDistance(r.opposite)>-this.tolerance&&(s=!1):this.oppositeFaceDistance(r.opposite)>-this.tolerance?a=!0:this.oppositeFaceDistance(r)>-this.tolerance&&(s=!1),a){const l=t.mergeAdjacentFaces(r,[]);for(let c=0;c<l.length;c+=1)this.deleteFaceVertices(l[c],t);return!0}r=r.next,i+=1}while(r!==t.edge);return s||(t.mark=Hm),!1}addVertexToHull(t){const n=[];this.unclaimed.clear(),this.removeVertexFromFace(t,t.face),this.computeHorizon(t.point,null,t.face,n),this.addNewFaces(t,n);for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===Oi)for(;this.doAdjacentMerge(s,LN););}for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===Hm)for(s.mark=Oi;this.doAdjacentMerge(s,zm););}this.resolveUnclaimedPoints(this.newFaces)}build(){let t;for(this.createInitialSimplex();t=this.nextVertexToAdd();)this.addVertexToHull(t);this.reindexFaceAndVertices()}};var RN=ON;const MN=RN,IN=(e,t={})=>{const n=new MN(e);return n.build(),n.collectFaces(t.skipTriangulation)};var DN=IN;const FN=mt,xN=_t,kN=Mt,GN=DN,BN=bd,NN=(...e)=>{if(e=FN(e),e.length===1)return e[0];const t=BN(e),r=GN(t,{skipTriangulation:!0}).map(s=>{const i=s.map(o=>t[o]);return kN.create(i)});return xN.create(r)};var $N=NN;const VN=mt,UN=Yo,HN=gt,zN=_t,jN=Ut,qN=YB,XN=eN,WN=$N,YN=(...e)=>{if(e=VN(e),e.length===0)throw new Error("wrong number of arguments");if(!UN(e))throw new Error("only hulls of the same type are supported");const t=e[0];return jN.isA(t)?qN(e):HN.isA(t)?XN(e):zN.isA(t)?WN(e):t};var x2=YN;const ZN=mt,KN=gd,QN=x2,JN=(...e)=>{if(e=ZN(e),e.length<2)throw new Error("wrong number of arguments");const t=[];for(let n=1;n<e.length;n++)t.push(QN(e[n-1],e[n]));return KN(t)};var e9=JN,t9={hull:x2,hullChain:e9};const yu=st,k2=Mt,n9=(e,t)=>{const n=Math.abs(k2.measureArea(t));return Number.isFinite(n)&&n>e},r9=(e,t)=>{let n=t.map(s=>{const i=s.vertices.map(l=>yu.snap(yu.create(),l,e)),o=[];for(let l=0;l<i.length;l++){const c=(l+1)%i.length;yu.equals(i[l],i[c])||o.push(i[l])}const a=k2.create(o);return s.color&&(a.color=s.color),a});const r=e*e*Math.sqrt(3)/4;return n=n.filter(s=>n9(r,s)),n};var G2=r9;const s9=Bl,Di=st,wl=Mt,i9=e=>{const t=wl.toPoints(e),n=[];for(let r=0;r<t.length;r++){const s=(r+1)%t.length,i={v1:t[r],v2:t[s]};n.push(i)}for(let r=0;r<n.length;r++){const s=(r+1)%t.length;n[r].next=n[s],n[s].prev=n[r]}return n},o9=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.set(n,t)},Au=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.delete(n)},a9=(e,t)=>{const n=`${t.v2}:${t.v1}`;return e.get(n)},l9=(e,t,n)=>{let r=e.prev.v1,s=e.prev.v2,i=t.next.v2;const o=jm(r,s,i,n);r=t.prev.v1,s=t.prev.v2,i=e.next.v2;const a=jm(r,s,i,n);return[o,a]},c9=Di.create(),f9=Di.create(),jm=(e,t,n,r)=>{const s=Di.subtract(c9,t,e),i=Di.subtract(f9,n,t);return Di.cross(s,s,i),Di.dot(s,r)},u9=e=>{let t;const n=[];for(;e.next;){const r=e.next;n.push(e.v1),e.v1=null,e.v2=null,e.next=null,e.prev=null,e=r}return n.length>0&&(t=wl.create(n)),t},d9=e=>{if(e.length<2)return e;const t=e[0].plane,n=e.slice(),r=new Map;for(;n.length>0;){const i=n.shift(),o=i9(i);for(let a=0;a<o.length;a++){const l=o[a],c=a9(r,l);if(c){const f=l9(l,c,t);if(f[0]>=0&&f[1]>=0){const u=c.next,h=l.next;l.prev.next=c.next,l.next.prev=c.prev,c.prev.next=l.next,c.next.prev=l.prev,l.v1=null,l.v2=null,l.next=null,l.prev=null,Au(r,c),c.v1=null,c.v2=null,c.next=null,c.prev=null;const d=(p,g,m)=>{const v={v1:m.v1,v2:g.v2,next:g.next,prev:m.prev};m.prev.next=v,g.next.prev=v,Au(p,g),g.v1=null,g.v2=null,g.next=null,g.prev=null,Au(p,m),m.v1=null,m.v2=null,m.next=null,m.prev=null};f[0]===0&&d(r,u,u.prev),f[1]===0&&d(r,h,h.prev)}}else l.next&&o9(r,l)}}const s=[];return r.forEach(i=>{const o=u9(i);o&&s.push(o)}),r.clear(),s},h9=(e,t)=>Math.abs(e[3]-t[3])<15e-8?s9(e,t):!1,m9=(e,t)=>{const n=[];t.forEach(s=>{const i=n.find(o=>h9(o[0],wl.plane(s)));i?i[1].push(s):n.push([wl.plane(s),[s]])});let r=[];return n.forEach(s=>{const i=s[1],o=d9(i);r=r.concat(o)}),r};var p9=m9;const qm=Dt,Rr=st,g9=Mt,Zn=e=>`${e}`,Xm=(e,t,n,r,s,i)=>{const o=Zn(r),a=Zn(s),l=`${o}/${a}`,c=`${a}/${o}`;if(e.has(c))return gl(e,t,n,s,r,null),null;const f={vertex0:r,vertex1:s,polygonindex:i};return e.has(l)?e.get(l).push(f):e.set(l,[f]),t.has(o)?t.get(o).push(l):t.set(o,[l]),n.has(a)?n.get(a).push(l):n.set(a,[l]),l},gl=(e,t,n,r,s,i)=>{const o=Zn(r),a=Zn(s),l=`${o}/${a}`;let c=-1;const f=e.get(l);for(let u=0;u<f.length;u++){const h=f[u];let d=Zn(h.vertex0);if(d===o&&(d=Zn(h.vertex1),d===a&&!(i!==null&&h.polygonindex!==i))){c=u;break}}f.splice(c,1),f.length===0&&e.delete(l),c=t.get(o).indexOf(l),t.get(o).splice(c,1),t.get(o).length===0&&t.delete(o),c=n.get(a).indexOf(l),n.get(a).splice(c,1),n.get(a).length===0&&n.delete(a)},v9=e=>{const t=new Map;for(let n=0;n<e.length;n++){const r=e[n],s=r.vertices.length;if(s>=3){let i=r.vertices[0],o=Zn(i);for(let a=0;a<s;a++){let l=a+1;l===s&&(l=0);const c=r.vertices[l],f=Zn(c),u=`${o}/${f}`,h=`${f}/${o}`;if(t.has(h)){const d=t.get(h);d.splice(-1,1),d.length===0&&t.delete(h)}else{const d={vertex0:i,vertex1:c,polygonindex:n};t.has(u)?t.get(u).push(d):t.set(u,[d])}i=c,o=f}}else console.warn("warning: invalid polygon found during insertTjunctions")}if(t.size>0){const n=new Map,r=new Map,s=new Map;for(const[o,a]of t)s.set(o,!0),a.forEach(l=>{const c=Zn(l.vertex0),f=Zn(l.vertex1);n.has(c)?n.get(c).push(o):n.set(c,[o]),r.has(f)?r.get(f).push(o):r.set(f,[o])});const i=e.slice(0);for(;t.size!==0;){for(const a of t.keys())s.set(a,!0);let o=!1;for(;;){const a=Array.from(s.keys());if(a.length===0)break;const l=a[0];let c=!0;if(t.has(l)){const u=t.get(l)[0];for(let h=0;h<2;h++){const d=h===0?u.vertex0:u.vertex1,p=h===0?u.vertex1:u.vertex0,g=Zn(d),m=Zn(p);let v=[];h===0?r.has(g)&&(v=r.get(g)):n.has(g)&&(v=n.get(g));for(let b=0;b<v.length;b++){const y=v[b],S=t.get(y)[0],w=h===0?S.vertex0:S.vertex1;if(h===0?S.vertex1:S.vertex0,Zn(w)===m){gl(t,n,r,d,p,null),gl(t,n,r,p,d,null),c=!1,h=2,o=!0;break}else{const A=d,O=p,z=w,N=Rr.subtract(Rr.create(),z,A),k=Rr.dot(Rr.subtract(Rr.create(),O,A),N)/Rr.dot(N,N);if(k>0&&k<1){const le=Rr.scale(Rr.create(),N,k);if(Rr.add(le,le,A),Rr.squaredDistance(le,O)<qm.EPS*qm.EPS){const V=S.polygonindex,Ge=i[V],ne=Zn(S.vertex1);let H=-1;for(let ke=0;ke<Ge.vertices.length;ke++)if(Zn(Ge.vertices[ke])===ne){H=ke;break}const he=Ge.vertices.slice(0);he.splice(H,0,p);const te=g9.create(he);i[V]=te,gl(t,n,r,S.vertex0,S.vertex1,V);const oe=Xm(t,n,r,S.vertex0,p,V),lt=Xm(t,n,r,p,S.vertex1,V);oe!==null&&s.set(oe,!0),lt!==null&&s.set(lt,!0),c=!1,h=2,o=!0;break}}}}}}c&&s.delete(l)}if(!o)break}e=i}return t.clear(),e};var b9=v9;const Su=st,Eu=Mt,_9=(e,t,n)=>{const r=t.vertices.length;if(r>3){if(r>4){const o=[0,0,0];t.vertices.forEach(a=>Su.add(o,o,a)),Su.snap(o,Su.divide(o,o,[r,r,r]),e);for(let a=0;a<r;a++){const l=Eu.create([o,t.vertices[a],t.vertices[(a+1)%r]]);t.color&&(l.color=t.color),n.push(l)}return}const s=Eu.create([t.vertices[0],t.vertices[1],t.vertices[2]]),i=Eu.create([t.vertices[0],t.vertices[2],t.vertices[3]]);t.color&&(s.color=t.color,i.color=t.color),n.push(s,i);return}n.push(t)},y9=(e,t)=>{const n=[];return t.forEach(r=>{_9(e,r,n)}),n};var A9=y9;const S9=mt,E9=_s,w9=gt,B2=_t,T9=Ut,C9=G2,P9=p9,L9=b9,O9=A9,R9=(e,t)=>t,M9=(e,t)=>t,I9=(e,t)=>{const n={snap:!1,simplify:!1,triangulate:!1},{snap:r,simplify:s,triangulate:i}=Object.assign({},n,e),o=E9(t);let a=B2.toPolygons(t);r&&(a=C9(o,a)),s&&(a=P9(o,a)),i&&(a=L9(a),a=O9(o,a));const l=Object.assign({},t);return l.polygons=a,l},D9=(e,...t)=>{if(t=S9(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>{if(T9.isA(r))return R9(e,r);if(w9.isA(r))return M9(e,r);if(B2.isA(r))return I9(e,r);throw new Error("invalid geometry")});return n.length===1?n[0]:n};var F9=D9;const x9=mt,qs=St,zu=gt,ju=_t,qu=Ut,_d=_s,k9=G2,G9=e=>{const t=_d(e),r=qu.toPoints(e).map(s=>qs.snap(qs.create(),s,t));return qu.create(r)},B9=e=>{const t=_d(e);let r=zu.toSides(e).map(s=>[qs.snap(qs.create(),s[0],t),qs.snap(qs.create(),s[1],t)]);return r=r.filter(s=>!qs.equals(s[0],s[1])),zu.create(r)},N9=e=>{const t=_d(e),n=ju.toPolygons(e),r=k9(t,n);return ju.create(r)},$9=(...e)=>{if(e=x9(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>qu.isA(n)?G9(n):zu.isA(n)?B9(n):ju.isA(n)?N9(n):n);return t.length===1?t[0]:t};var V9=$9,U9={generalize:F9,snap:V9};const H9=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var z9=H9;const j9=mt,Wm=z9,N2=ld,{translate:q9}=Ws,X9=e=>{if(!Array.isArray(e.modes)||e.modes.length>3)throw new Error("align(): modes must be an array of length <= 3");if(e.modes=Wm(e.modes,"none",3),e.modes.filter(t=>["center","max","min","none"].includes(t)).length!==3)throw new Error('align(): all modes must be one of "center", "max" or "min"');if(!Array.isArray(e.relativeTo)||e.relativeTo.length>3)throw new Error("align(): relativeTo must be an array of length <= 3");if(e.relativeTo=Wm(e.relativeTo,0,3),e.relativeTo.filter(t=>Number.isFinite(t)||t==null).length!==3)throw new Error("align(): all relativeTo values must be a number, or null.");if(typeof e.grouped!="boolean")throw new Error("align(): grouped must be a boolean value.");return e},W9=(e,t,n)=>{for(let r=0;r<3;r++)e[r]==null&&(t[r]==="center"?e[r]=(n[0][r]+n[1][r])/2:t[r]==="max"?e[r]=n[1][r]:t[r]==="min"&&(e[r]=n[0][r]));return e},Ym=(e,t,n)=>{const r=N2(e),s=[0,0,0];for(let i=0;i<3;i++)t[i]==="center"?s[i]=n[i]-(r[0][i]+r[1][i])/2:t[i]==="max"?s[i]=n[i]-r[1][i]:t[i]==="min"&&(s[i]=n[i]-r[0][i]);return q9(s,e)},Y9=(e,...t)=>{e=Object.assign({},{modes:["center","center","min"],relativeTo:[0,0,0],grouped:!1},e),e=X9(e);let{modes:r,relativeTo:s,grouped:i}=e;if(t=j9(t),t.length===0)throw new Error("align(): No geometries were provided to act upon");if(s.filter(o=>o==null).length){const o=N2(t);s=W9(s,r,o)}return i?t=Ym(t,r,s):t=t.map(o=>Ym(o,r,s)),t.length===1?t[0]:t};var Z9=Y9;const K9=mt,Q9=gt,J9=_t,e$=Ut,t$=Js,{translate:n$}=Ws,wu=(e,t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e),i=t$(t),o=[0,0,0];return r[0]&&(o[0]=s[0]-(i[0][0]+(i[1][0]-i[0][0])/2)),r[1]&&(o[1]=s[1]-(i[0][1]+(i[1][1]-i[0][1])/2)),r[2]&&(o[2]=s[2]-(i[0][2]+(i[1][2]-i[0][2])/2)),n$(o,t)},Xl=(e,...t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e);if(t=K9(t),t.length===0)throw new Error("wrong number of arguments");if(s.length!==3)throw new Error("relativeTo must be an array of length 3");e={axes:r,relativeTo:s};const i=t.map(o=>e$.isA(o)||Q9.isA(o)||J9.isA(o)?wu(e,o):o);return i.length===1?i[0]:i},r$=(...e)=>Xl({axes:[!0,!1,!1]},e),s$=(...e)=>Xl({axes:[!1,!0,!1]},e),i$=(...e)=>Xl({axes:[!1,!1,!0]},e);var il={center:Xl,centerX:r$,centerY:s$,centerZ:i$};const o$=mt,Zm=qt,Km=gt,Qm=_t,Jm=Ut,Wl=(e,...t)=>{if(!Array.isArray(e))throw new Error("factors must be an array");if(t=o$(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(1);if(e[0]<=0||e[1]<=0||e[2]<=0)throw new Error("factors must be positive");const n=Zm.fromScaling(Zm.create(),e),r=t.map(s=>Jm.isA(s)?Jm.transform(n,s):Km.isA(s)?Km.transform(n,s):Qm.isA(s)?Qm.transform(n,s):s);return r.length===1?r[0]:r},a$=(e,...t)=>Wl([e,1,1],t),l$=(e,...t)=>Wl([1,e,1],t),c$=(e,...t)=>Wl([1,1,e],t);var ol={scale:Wl,scaleX:a$,scaleY:l$,scaleZ:c$};const f$=mt,ep=gt,tp=_t,np=Ut,u$=(e,...t)=>{if(t=f$(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>np.isA(r)?np.transform(e,r):ep.isA(r)?ep.transform(e,r):tp.isA(r)?tp.transform(e,r):r);return n.length===1?n[0]:n};var d$=u$,h$={align:Z9,center:il.center,centerX:il.centerX,centerY:il.centerY,centerZ:il.centerZ,mirror:Mo.mirror,mirrorX:Mo.mirrorX,mirrorY:Mo.mirrorY,mirrorZ:Mo.mirrorZ,rotate:Do.rotate,rotateX:Do.rotateX,rotateY:Do.rotateY,rotateZ:Do.rotateZ,scale:ol.scale,scaleX:ol.scaleX,scaleY:ol.scaleY,scaleZ:ol.scaleZ,transform:d$,translate:Ws.translate,translateX:Ws.translateX,translateY:Ws.translateY,translateZ:Ws.translateZ},Wr={colors:_R,curves:LR,geometries:sd,maths:f6,measurements:ku,primitives:y2,text:O7,utils:w2,booleans:Kk,expansions:YG,extrusions:NB,hulls:t9,modifiers:U9,transforms:h$};const{geometries:Tu}=Wr,m$=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=new ArrayBuffer(4),r=new Int32Array(n,0,1),s=new Int8Array(n,0,4);if(r[0]=287454020,s[0]!==68)throw new Error("Binary STL output is currently only supported on little-endian (Intel) processors");let i=0,o=0;e.forEach((m,v)=>{Tu.geom3.toPolygons(m).forEach(y=>{const S=y.vertices.length,w=S>=3?S-2:0;i+=w,o+=1})});const a=new Uint8Array(80);for(let m=0;m<80;m++)a[m]=65;const l=new Uint32Array(1);l[0]=i;const c=new ArrayBuffer(50*i),f=new Int8Array(c),u=new ArrayBuffer(50),h=new Int8Array(u),d=new Float32Array(u,0,12),p=new Uint16Array(u,48,1);let g=0;return e.forEach(m=>{Tu.geom3.toPolygons(m).forEach((b,y)=>{const S=b.vertices,w=S.length,E=Tu.poly3.plane(b);for(let A=0;A<w-2;A++){d[0]=E[0],d[1]=E[1],d[2]=E[2];let O=3;for(let z=0;z<3;z++){const N=z+(z>0?A:0),k=S[N];d[O++]=k[0],d[O++]=k[1],d[O++]=k[2]}p[0]=0,f.set(h,g),g+=50}t.statusCallback&&t.statusCallback({progress:100*y/o})})}),t.statusCallback&&t.statusCallback({progress:100}),[a.buffer,l.buffer,c]};var p$={serializeBinary:m$};const{geometries:$2}=Wr,g$=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=`solid JSCAD
${v$(e,t)}
endsolid JSCAD
`;return t.statusCallback&&t.statusCallback({progress:100}),[n]},v$=(e,t)=>{const n=[];return e.forEach((r,s)=>{n.push(b$(r)),t.statusCallback&&t.statusCallback({progress:100*s/e.length})}),n.join(`
`)},b$=(e,t)=>{const n=[];return $2.geom3.toPolygons(e).forEach((s,i)=>{n.push(_$(s))}),n.join(`
`)},V2=e=>`${e[0]} ${e[1]} ${e[2]}`,Cu=e=>`vertex ${V2(e)}`,_$=e=>{const t=[];if(e.vertices.length>=3){const n=Cu(e.vertices[0]);for(let r=0;r<e.vertices.length-2;r++){const s=`facet normal ${V2($2.poly3.plane(e))}
outer loop
${n}
${Cu(e.vertices[r+1])}
${Cu(e.vertices[r+2])}
endloop
endfacet`;t.push(s)}}return t.join(`
`)};var y$={serializeText:g$};const{geometries:A$,modifiers:S$}=Wr,{flatten:E$,toArray:w$}=Yu,{serializeBinary:T$}=p$,{serializeText:C$}=y$,P$="application/sla",L$=(e,...t)=>{e=Object.assign({},{binary:!0,statusCallback:null},e),t=E$(t);let r=t.filter(s=>A$.geom3.isA(s));if(r.length===0)throw new Error("only 3D geometries can be serialized to STL");return t.length!==r.length&&console.warn("some objects could not be serialized to STL"),r=w$(S$.generalize({snap:!0,triangulate:!0},r)),e.binary?T$(r,e):C$(r,e)};var O$={mimeType:P$,serialize:L$};const R$=n5(O$);var U2={exports:{}};(function(e,t){(function(n,r){r()})(zs,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,u){var h=new XMLHttpRequest;h.open("GET",c),h.responseType="blob",h.onload=function(){l(h.response,f,u)},h.onerror=function(){console.error("could not download file")},h.send()}function s(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof zs=="object"&&zs.global===zs?zs:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,u){var h=o.URL||o.webkitURL,d=document.createElement("a");f=f||c.name||"download",d.download=f,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?i(d):s(d.href)?r(c,f,u):i(d,d.target="_blank")):(d.href=h.createObjectURL(c),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,u){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,u),f);else if(s(c))r(c,f,u);else{var h=document.createElement("a");h.href=c,h.target="_blank",setTimeout(function(){i(h)})}}:function(c,f,u,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,u);var d=c.type==="application/octet-stream",p=/constructor/i.test(o.HTMLElement)||o.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||d&&p||a)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var y=m.result;y=g?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=y:location=y,h=null},m.readAsDataURL(c)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(c);h?h.location=b:location.href=b,h=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(U2);var M$=U2.exports;const I$=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],H2=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,2,2,1,2,2,2,0,2,2,2,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,0,0,0,0,0,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,0,2,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,3,2,1,2,3,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],D$=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,2,0,0,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,2,2,3,2,2,2,2,1,3,2,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,1,2,1,2,2,2,2,2,2,2,3,3,2,2,0,2,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,3,2,2,2,2,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,2,2,2,3,2,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,2,1,2,0,2,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,2,2,2,3,2,2,2,2,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,3,2,1,2,3,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,2,2,2,2,1,3,3,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],F$=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,2,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,1,0,2,2,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,2,2,2,0,0,2,2,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,1,0,2,2,0,1,0,2,2,0,1,3,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,2,1,0,2,3,2,0,1,2,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,2,0,3,1,1,1,3,0,2,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,2,0,2,1,2,1,2,0,2,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,2,1,3,2,1,2,3,1,2,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,1,2,2,0,0,3,0,0,2,2,1,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,2,0,0,2,2,1,2,2,0,0,2,3,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,2,0,0,2,2,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,1,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],{rotateY:x$,rotate:k$,scale:al,translate:Sr,translateY:rp,translateZ:Ho,rotateX:G$}=Wr.transforms,{intersect:B$,subtract:yd,union:jr}=Wr.booleans,{cuboid:Tl,cylinder:Go,polygon:N$,roundedRectangle:$$,torus:V$}=Wr.primitives,{extrudeLinear:z2}=Wr.extrusions;function U$(e,t,n){const r=Math.min(n,e/2-1e-5,t/2-1e-5);return[0,1,2].map(s=>x$(s*Math.PI/3,Ho(-r-e,z2({height:(e+r)*2},r>0?$$({size:[e,t],roundRadius:r,segments:64}):y2.rectangle({size:[e,t]}))))).reduce((s,i)=>B$(s,i))}function sp(e,t){const n=Math.sqrt(3)*e/4;return z2({height:t},N$({points:[[e/2,0],[e/4,n],[-e/4,n],[-e/2,0],[-e/4,-n],[e/4,-n]]}))}function j2(e,t,n,r,s,i=!1){const o=Ho(t/2-(i?s/2+n/2:s),k$([Math.PI/2,0,Math.PI/6],U$(e*.8658-.1,t-(i?n+s:0),r)));return i?o:yd(o,Ho(n-t/2,Tl({size:[e,e,t]})))}function H$(e,t,n,r,s,i){const o=yd(sp(e+n*2,t),Ho(i===1?-1e-4:n,sp(e,t+n*4)));return i===3?jr(o,j2(e,t,n,r,s)):o}const Ys=7;function ip(){return jr(Go({height:Ys,radius:10+2}),rp(-20,Go({height:Ys,radius:10+2})),rp(-10,Tl({size:[20+2*2,20,Ys]})))}function op(){return jr(Sr([0,0,-1.5],Go({height:6+1.5,radius:10})),Sr([0,-20,0],Go({height:6-1.5,radius:10})),Sr([0,-20,-2*1.5],Go({height:2*1.5,radius:5})),Sr([0,-10,-2*1.5],Tl({size:[10,20,6]})),Sr([0,-10,0],Tl({size:[20,20,6-1.5]})))}function z$(e,t,n,r,s,i,o,a){const l=[];for(let m=0;m<e.length;m++)for(let v=0;v<e[m].length;v++){const b=e[m][v];b&&l.push(Sr([.75*v*(t+n),Math.sqrt(3)*.5*(t+n)*(v%2*.5+m),0],H$(t,r,n,s,i,b)))}const c=jr(j2(t,r,n,s,i,!0),Ho(r-n-i+1.5,G$(Math.PI/2,V$({innerRadius:1.5,outerRadius:5,outerSegments:128,innerSegments:64})))),f=jr(l),u=ku.measureBoundingBox(f);let h,d,p;if(!isNaN(a)){const m=isNaN(o)?(u[0][0]+u[1][0])/2:(u[0][0]+u[1][0])/4-o/2,v=isNaN(o)?void 0:(u[0][0]+u[1][0])*(3/4)+o/2,b=(u[0][1]+u[1][1])/2+a;h=Sr([m,b,Ys/2],al([.5,.5,1],ip())),d=v===void 0?void 0:Sr([v,b,Ys/2],al([.5,.5,1],ip()));const y=Sr([m,b,Ys/2],al([.5,.5,1],op()));p=v===void 0?y:jr(y,Sr([v,b,Ys/2],al([.5,.5,1],op())))}const g=ku.measureBoundingBox(c);return jr(yd(d===void 0?jr(f,h):jr(f,h,d),p),Sr([(u[1][0]-u[0][0])/2,u[0][1]-(g[1][1]-g[0][1])*(3/2)],c))}var Xu=function(e,t){return Xu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Xu(e,t)};function Jn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var dn=function(){return dn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dn.apply(this,arguments)};function bs(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function j$(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var xr=function(){function e(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function q$(e){return e===void 0&&(e=window),X$(e)?{passive:!0}:!1}function X$(e){e===void 0&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch{t=!1}return t}const q2=Object.freeze(Object.defineProperty({__proto__:null,applyPassive:q$},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function W$(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(X2(n,t))return n;n=n.parentElement}return null}function X2(e,t){var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return n.call(e,t)}function Y$(e){var t=e;if(t.offsetParent!==null)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}const W2=Object.freeze(Object.defineProperty({__proto__:null,closest:W$,estimateScrollWidth:Y$,matches:X2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Z$={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},K$={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},ap={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},ll;function Q$(e,t){t===void 0&&(t=!1);var n=e.CSS,r=ll;if(typeof ll=="boolean"&&!t)return ll;var s=n&&typeof n.supports=="function";if(!s)return!1;var i=n.supports("--css-vars","yes"),o=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return r=i||o,t||(ll=r),r}function J$(e,t,n){if(!e)return{x:0,y:0};var r=t.x,s=t.y,i=r+n.left,o=s+n.top,a,l;if(e.type==="touchstart"){var c=e;a=c.changedTouches[0].pageX-i,l=c.changedTouches[0].pageY-o}else{var f=e;a=f.pageX-i,l=f.pageY-o}return{x:a,y:l}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var lp=["touchstart","pointerdown","mousedown","keydown"],cp=["touchend","pointerup","mouseup","contextmenu"],cl=[],eV=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(s){r.activateImpl(s)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return Z$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return K$},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return ap},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this,r=this.supportsPressRipple();if(this.registerRootHandlers(r),r){var s=t.cssClasses,i=s.ROOT,o=s.UNBOUNDED;requestAnimationFrame(function(){n.adapter.addClass(i),n.adapter.isUnbounded()&&(n.adapter.addClass(o),n.layoutInternal())})}},t.prototype.destroy=function(){var n=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var r=t.cssClasses,s=r.ROOT,i=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter.removeClass(s),n.adapter.removeClass(i),n.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(n){this.activateImpl(n)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var n=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){n.layoutInternal(),n.layoutFrame=0})},t.prototype.setUnbounded=function(n){var r=t.cssClasses.UNBOUNDED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter.addClass(t.cssClasses.BG_FOCUSED)})},t.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter.removeClass(t.cssClasses.BG_FOCUSED)})},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(n){var r,s;if(n){try{for(var i=bs(lp),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerInteractionHandler(a,this.activateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(n){var r,s;if(n.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var i=bs(cp),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerDocumentInteractionHandler(a,this.deactivateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}},t.prototype.deregisterRootHandlers=function(){var n,r;try{for(var s=bs(lp),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterInteractionHandler(o,this.activateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var n,r;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var s=bs(cp),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterDocumentInteractionHandler(o,this.deactivateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.removeCssVars=function(){var n=this,r=t.strings,s=Object.keys(r);s.forEach(function(i){i.indexOf("VAR_")===0&&n.adapter.updateCssVariable(r[i],null)})},t.prototype.activateImpl=function(n){var r=this;if(!this.adapter.isSurfaceDisabled()){var s=this.activationState;if(!s.isActivated){var i=this.previousActivationEvent,o=i&&n!==void 0&&i.type!==n.type;if(!o){s.isActivated=!0,s.isProgrammatic=n===void 0,s.activationEvent=n,s.wasActivatedByPointer=s.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var a=n!==void 0&&cl.length>0&&cl.some(function(l){return r.adapter.containsEventTarget(l)});if(a){this.resetActivationState();return}n!==void 0&&(cl.push(n.target),this.registerDeactivationHandlers(n)),s.wasElementMadeActive=this.checkElementMadeActive(n),s.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){cl=[],!s.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(s.wasElementMadeActive=r.checkElementMadeActive(n),s.wasElementMadeActive&&r.animateActivation()),s.wasElementMadeActive||(r.activationState=r.defaultActivationState())})}}}},t.prototype.checkElementMadeActive=function(n){return n!==void 0&&n.type==="keydown"?this.adapter.isSurfaceActive():!0},t.prototype.animateActivation=function(){var n=this,r=t.strings,s=r.VAR_FG_TRANSLATE_START,i=r.VAR_FG_TRANSLATE_END,o=t.cssClasses,a=o.FG_DEACTIVATION,l=o.FG_ACTIVATION,c=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var f="",u="";if(!this.adapter.isUnbounded()){var h=this.getFgTranslationCoordinates(),d=h.startPoint,p=h.endPoint;f=d.x+"px, "+d.y+"px",u=p.x+"px, "+p.y+"px"}this.adapter.updateCssVariable(s,f),this.adapter.updateCssVariable(i,u),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer=setTimeout(function(){n.activationTimerCallback()},c)},t.prototype.getFgTranslationCoordinates=function(){var n=this.activationState,r=n.activationEvent,s=n.wasActivatedByPointer,i;s?i=J$(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):i={x:this.frame.width/2,y:this.frame.height/2},i={x:i.x-this.initialSize/2,y:i.y-this.initialSize/2};var o={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:i,endPoint:o}},t.prototype.runDeactivationUXLogicIfReady=function(){var n=this,r=t.cssClasses.FG_DEACTIVATION,s=this.activationState,i=s.hasDeactivationUXRun,o=s.isActivated,a=i||!o;a&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer=setTimeout(function(){n.adapter.removeClass(r)},ap.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var n=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(n),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var n=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return n.previousActivationEvent=void 0},t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var n=this,r=this.activationState;if(r.isActivated){var s=dn({},r);r.isProgrammatic?(requestAnimationFrame(function(){n.animateDeactivation(s)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){n.activationState.hasDeactivationUXRun=!0,n.animateDeactivation(s),n.resetActivationState()}))}},t.prototype.animateDeactivation=function(n){var r=n.wasActivatedByPointer,s=n.wasElementMadeActive;(r||s)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var n=this;this.frame=this.adapter.computeBoundingRect();var r=Math.max(this.frame.height,this.frame.width),s=function(){var o=Math.sqrt(Math.pow(n.frame.width,2)+Math.pow(n.frame.height,2));return o+t.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?r:s();var i=Math.floor(r*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&i%2!==0?this.initialSize=i-1:this.initialSize=i,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var n=t.strings,r=n.VAR_FG_SIZE,s=n.VAR_LEFT,i=n.VAR_TOP,o=n.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(s,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords.top+"px"))},t}(xr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var tV={ACTIVE:"mdc-tab-indicator--active",FADE:"mdc-tab-indicator--fade",NO_TRANSITION:"mdc-tab-indicator--no-transition"},nV={CONTENT_SELECTOR:".mdc-tab-indicator__content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var qr=function(e){Jn(t,e);function t(n){return e.call(this,dn(dn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return tV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return nV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},computeContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setContentStyleProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.computeContentClientRect=function(){return this.adapter.computeContentClientRect()},t}(xr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var rV=function(e){Jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(){this.adapter.addClass(qr.cssClasses.ACTIVE)},t.prototype.deactivate=function(){this.adapter.removeClass(qr.cssClasses.ACTIVE)},t}(qr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var fp=function(e){Jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(n){if(!n){this.adapter.addClass(qr.cssClasses.ACTIVE);return}var r=this.computeContentClientRect(),s=n.width/r.width,i=n.left-r.left;this.adapter.addClass(qr.cssClasses.NO_TRANSITION),this.adapter.setContentStyleProperty("transform","translateX("+i+"px) scaleX("+s+")"),this.computeContentClientRect(),this.adapter.removeClass(qr.cssClasses.NO_TRANSITION),this.adapter.addClass(qr.cssClasses.ACTIVE),this.adapter.setContentStyleProperty("transform","")},t.prototype.deactivate=function(){this.adapter.removeClass(qr.cssClasses.ACTIVE)},t}(qr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var fl={ACTIVE:"mdc-tab--active"},Oo={ARIA_SELECTED:"aria-selected",CONTENT_SELECTOR:".mdc-tab__content",INTERACTED_EVENT:"MDCTab:interacted",RIPPLE_SELECTOR:".mdc-tab__ripple",TABINDEX:"tabIndex",TAB_INDICATOR_SELECTOR:".mdc-tab-indicator"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var sV=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.focusOnActivate=!0,r}return Object.defineProperty(t,"cssClasses",{get:function(){return fl},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Oo},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},activateIndicator:function(){},deactivateIndicator:function(){},notifyInteracted:function(){},getOffsetLeft:function(){return 0},getOffsetWidth:function(){return 0},getContentOffsetLeft:function(){return 0},getContentOffsetWidth:function(){return 0},focus:function(){}}},enumerable:!1,configurable:!0}),t.prototype.handleClick=function(){this.adapter.notifyInteracted()},t.prototype.isActive=function(){return this.adapter.hasClass(fl.ACTIVE)},t.prototype.setFocusOnActivate=function(n){this.focusOnActivate=n},t.prototype.activate=function(n){this.adapter.addClass(fl.ACTIVE),this.adapter.setAttr(Oo.ARIA_SELECTED,"true"),this.adapter.setAttr(Oo.TABINDEX,"0"),this.adapter.activateIndicator(n),this.focusOnActivate&&this.adapter.focus()},t.prototype.deactivate=function(){this.isActive()&&(this.adapter.removeClass(fl.ACTIVE),this.adapter.setAttr(Oo.ARIA_SELECTED,"false"),this.adapter.setAttr(Oo.TABINDEX,"-1"),this.adapter.deactivateIndicator())},t.prototype.computeDimensions=function(){var n=this.adapter.getOffsetWidth(),r=this.adapter.getOffsetLeft(),s=this.adapter.getContentOffsetWidth(),i=this.adapter.getContentOffsetLeft();return{contentLeft:r+i,contentRight:r+i+s,rootLeft:r,rootRight:r+n}},t}(xr);function dt(e){return Object.entries(e).filter(([t,n])=>t!==""&&n).map(([t])=>t).join(" ")}function Bn(e,t,n,r={bubbles:!0},s=!1){if(typeof Event>"u")throw new Error("Event not defined.");if(!e)throw new Error("Tried to dipatch event without element.");const i=new CustomEvent(t,Object.assign(Object.assign({},r),{detail:n}));if(e==null||e.dispatchEvent(i),s&&t.startsWith("SMUI")){const o=new CustomEvent(t.replace(/^SMUI/g,()=>"MDC"),Object.assign(Object.assign({},r),{detail:n}));e==null||e.dispatchEvent(o),o.defaultPrevented&&i.preventDefault()}return i}function gr(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s],o=i.indexOf("$");o!==-1&&t.indexOf(i.substring(0,o+1))!==-1||t.indexOf(i)===-1&&(r[i]=e[i])}return r}const up=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,iV=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function wn(e){let t,n=[];e.$on=(s,i)=>{let o=s,a=()=>{};return t?a=t(o,i):n.push([o,i]),o.match(up)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',o),()=>{a()}};function r(s){No(e,s)}return s=>{const i=[],o={};t=(a,l)=>{let c=a,f=l,u=!1;const h=c.match(up),d=c.match(iV),p=h||d;if(c.match(/^SMUI:\w+:/)){const v=c.split(":");let b="";for(let y=0;y<v.length;y++)b+=y===v.length-1?":"+v[y]:v[y].split("-").map(S=>S.slice(0,1).toUpperCase()+S.slice(1)).join("");console.warn(`The event ${c.split("$")[0]} has been renamed to ${b.split("$")[0]}.`),c=b}if(p){const v=c.split(h?":":"$");c=v[0];const b=v.slice(1).reduce((y,S)=>(y[S]=!0,y),{});b.passive&&(u=u||{},u.passive=!0),b.nonpassive&&(u=u||{},u.passive=!1),b.capture&&(u=u||{},u.capture=!0),b.once&&(u=u||{},u.once=!0),b.preventDefault&&(f=Hy(f)),b.stopPropagation&&(f=zy(f))}const g=Rt(s,c,f,u),m=()=>{g();const v=i.indexOf(m);v>-1&&i.splice(v,1)};return i.push(m),c in o||(o[c]=Rt(s,c,r)),m};for(let a=0;a<n.length;a++)t(n[a][0],n[a][1]);return{destroy:()=>{for(let a=0;a<i.length;a++)i[a]();for(let a of Object.entries(o))a[1]()}}}}function zt(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s];i.substring(0,t.length)===t&&(r[i.substring(t.length)]=e[i])}return r}function gn(e,t){let n=[];if(t)for(let r=0;r<t.length;r++){const s=t[r],i=Array.isArray(s)?s[0]:s;Array.isArray(s)&&s.length>1?n.push(i(e,s[1])):n.push(i(e))}return{update(r){if((r&&r.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(r)for(let s=0;s<r.length;s++){const i=n[s];if(i&&i.update){const o=r[s];Array.isArray(o)&&o.length>1?i.update(o[1]):i.update()}}},destroy(){for(let r=0;r<n.length;r++){const s=n[r];s&&s.destroy&&s.destroy()}}}}const{applyPassive:ul}=q2,{matches:oV}=W2;function Yr(e,{ripple:t=!0,surface:n=!1,unbounded:r=!1,disabled:s=!1,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f=p=>e.classList.add(p),removeClass:u=p=>e.classList.remove(p),addStyle:h=(p,g)=>e.style.setProperty(p,g),initPromise:d=Promise.resolve()}={}){let p,g=dr("SMUI:addLayoutListener"),m,v=o,b=l,y=c;function S(){n?(f("mdc-ripple-surface"),i==="primary"?(f("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")):i==="secondary"?(u("smui-ripple-surface--primary"),f("smui-ripple-surface--secondary")):(u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary"))):(u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),p&&v!==o&&(v=o,o?p.activate():o===!1&&p.deactivate()),t&&!p?(p=new eV({addClass:f,browserSupportsCssVars:()=>Q$(window),computeBoundingRect:()=>(a||e).getBoundingClientRect(),containsEventTarget:E=>e.contains(E),deregisterDocumentInteractionHandler:(E,A)=>document.documentElement.removeEventListener(E,A,ul()),deregisterInteractionHandler:(E,A)=>(l||e).removeEventListener(E,A,ul()),deregisterResizeHandler:E=>window.removeEventListener("resize",E),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>o??oV(c||e,":active"),isSurfaceDisabled:()=>!!s,isUnbounded:()=>!!r,registerDocumentInteractionHandler:(E,A)=>document.documentElement.addEventListener(E,A,ul()),registerInteractionHandler:(E,A)=>(l||e).addEventListener(E,A,ul()),registerResizeHandler:E=>window.addEventListener("resize",E),removeClass:u,updateCssVariable:h}),d.then(()=>{p&&(p.init(),p.setUnbounded(r))})):p&&!t&&d.then(()=>{p&&(p.destroy(),p=void 0)}),p&&(b!==l||y!==c)&&(b=l,y=c,p.destroy(),requestAnimationFrame(()=>{p&&(p.init(),p.setUnbounded(r))})),!t&&r&&f("mdc-ripple-upgraded--unbounded")}S(),g&&(m=g(w));function w(){p&&p.layout()}return{update(E){({ripple:t,surface:n,unbounded:r,disabled:s,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f,removeClass:u,addStyle:h,initPromise:d}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:A=>e.classList.add(A),removeClass:A=>e.classList.remove(A),addStyle:(A,O)=>e.style.setProperty(A,O),initPromise:Promise.resolve()},E)),S()},destroy(){p&&(p.destroy(),p=void 0,u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),m&&m()}}}function aV(e){let t;const n=e[10].default,r=xt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&Gt(r,n,s,s[12],t?kt(n,s[12],i,null):Bt(s[12]),null)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function lV(e){let t,n,r;const s=[{tag:e[3]},{use:[e[5],...e[0]]},{class:dt({[e[1]]:!0,"mdc-button__label":e[6]==="button","mdc-fab__label":e[6]==="fab","mdc-tab__text-label":e[6]==="tab","mdc-image-list__label":e[6]==="image-list","mdc-snackbar__label":e[6]==="snackbar","mdc-banner__text":e[6]==="banner","mdc-segmented-button__label":e[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":e[6]==="data-table:pagination","mdc-data-table__header-cell-label":e[6]==="data-table:sortable-header-cell"})},e[6]==="snackbar"?{"aria-atomic":"false"}:{},{tabindex:e[7]},e[8]];var i=e[2];function o(a){let l={$$slots:{default:[aV]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[11](t)),{c(){t&&ot(t.$$.fragment),n=En()},m(a,l){t&&nt(t,a,l),De(a,n,l),r=!0},p(a,[l]){const c=l&491?Ot(s,[l&8&&{tag:a[3]},l&33&&{use:[a[5],...a[0]]},l&66&&{class:dt({[a[1]]:!0,"mdc-button__label":a[6]==="button","mdc-fab__label":a[6]==="fab","mdc-tab__text-label":a[6]==="tab","mdc-image-list__label":a[6]==="image-list","mdc-snackbar__label":a[6]==="snackbar","mdc-banner__text":a[6]==="banner","mdc-segmented-button__label":a[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":a[6]==="data-table:pagination","mdc-data-table__header-cell-label":a[6]==="data-table:sortable-header-cell"})},l&64&&on(a[6]==="snackbar"?{"aria-atomic":"false"}:{}),l&128&&{tabindex:a[7]},l&256&&on(a[8])]):{};if(l&4096&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){Yt();const f=t;de(f.$$.fragment,1,0,()=>{rt(f,1)}),Zt()}i?(t=pr(i,o(a)),a[11](t),ot(t.$$.fragment),ie(t.$$.fragment,1),nt(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ie(t.$$.fragment,a),r=!0)},o(a){t&&de(t.$$.fragment,a),r=!1},d(a){e[11](null),a&&Me(n),t&&rt(t,a)}}}function cV(e,t,n){const r=["use","class","component","tag","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(tn());let{use:l=[]}=t,{class:c=""}=t,f,{component:u=vr}=t,{tag:h=u===vr?"span":void 0}=t;const d=dr("SMUI:label:context"),p=dr("SMUI:label:tabindex");function g(){return f.getElement()}function m(v){ct[v?"unshift":"push"](()=>{f=v,n(4,f)})}return e.$$set=v=>{t=je(je({},t),vn(v)),n(8,s=Et(t,r)),"use"in v&&n(0,l=v.use),"class"in v&&n(1,c=v.class),"component"in v&&n(2,u=v.component),"tag"in v&&n(3,h=v.tag),"$$scope"in v&&n(12,o=v.$$scope)},[l,c,u,h,f,a,d,p,s,g,i,m,o]}class qi extends rn{constructor(t){super(),nn(this,t,cV,lV,jt,{use:0,class:1,component:2,tag:3,getElement:9})}get getElement(){return this.$$.ctx[9]}}function fV(e){let t;const n=e[11].default,r=xt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&Gt(r,n,s,s[13],t?kt(n,s[13],i,null):Bt(s[13]),null)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function uV(e){let t,n,r;const s=[{tag:e[4]},{use:[e[6],...e[0]]},{class:dt({[e[1]]:!0,"mdc-button__icon":e[8]==="button","mdc-fab__icon":e[8]==="fab","mdc-icon-button__icon":e[8]==="icon-button","mdc-icon-button__icon--on":e[8]==="icon-button"&&e[2],"mdc-tab__icon":e[8]==="tab","mdc-banner__icon":e[8]==="banner","mdc-segmented-button__icon":e[8]==="segmented-button"})},{"aria-hidden":"true"},e[7]?{focusable:"false",tabindex:"-1"}:{},e[9]];var i=e[3];function o(a){let l={$$slots:{default:[fV]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[12](t)),{c(){t&&ot(t.$$.fragment),n=En()},m(a,l){t&&nt(t,a,l),De(a,n,l),r=!0},p(a,[l]){const c=l&983?Ot(s,[l&16&&{tag:a[4]},l&65&&{use:[a[6],...a[0]]},l&262&&{class:dt({[a[1]]:!0,"mdc-button__icon":a[8]==="button","mdc-fab__icon":a[8]==="fab","mdc-icon-button__icon":a[8]==="icon-button","mdc-icon-button__icon--on":a[8]==="icon-button"&&a[2],"mdc-tab__icon":a[8]==="tab","mdc-banner__icon":a[8]==="banner","mdc-segmented-button__icon":a[8]==="segmented-button"})},s[3],l&128&&on(a[7]?{focusable:"false",tabindex:"-1"}:{}),l&512&&on(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&8&&i!==(i=a[3])){if(t){Yt();const f=t;de(f.$$.fragment,1,0,()=>{rt(f,1)}),Zt()}i?(t=pr(i,o(a)),a[12](t),ot(t.$$.fragment),ie(t.$$.fragment,1),nt(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ie(t.$$.fragment,a),r=!0)},o(a){t&&de(t.$$.fragment,a),r=!1},d(a){e[12](null),a&&Me(n),t&&rt(t,a)}}}function dV(e,t,n){const r=["use","class","on","component","tag","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(tn());let{use:l=[]}=t,{class:c=""}=t,{on:f=!1}=t,u,{component:h=vr}=t,{tag:d=h===vr?"i":void 0}=t;const p=h===yV,g=dr("SMUI:icon:context");function m(){return u.getElement()}function v(b){ct[b?"unshift":"push"](()=>{u=b,n(5,u)})}return e.$$set=b=>{t=je(je({},t),vn(b)),n(9,s=Et(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"on"in b&&n(2,f=b.on),"component"in b&&n(3,h=b.component),"tag"in b&&n(4,d=b.tag),"$$scope"in b&&n(13,o=b.$$scope)},[l,c,f,h,d,u,a,p,g,s,m,i,v,o]}class hV extends rn{constructor(t){super(),nn(this,t,dV,uV,jt,{use:0,class:1,on:2,component:3,tag:4,getElement:10})}get getElement(){return this.$$.ctx[10]}}function mV(e){let t=e[1],n,r,s=e[1]&&Pu(e);return{c(){s&&s.c(),n=En()},m(i,o){s&&s.m(i,o),De(i,n,o),r=!0},p(i,o){i[1]?t?jt(t,i[1])?(s.d(1),s=Pu(i),t=i[1],s.c(),s.m(n.parentNode,n)):s.p(i,o):(s=Pu(i),t=i[1],s.c(),s.m(n.parentNode,n)):t&&(s.d(1),s=null,t=i[1])},i(i){r||(ie(s),r=!0)},o(i){de(s),r=!1},d(i){i&&Me(n),s&&s.d(i)}}}function pV(e){let t=e[1],n,r=e[1]&&Lu(e);return{c(){r&&r.c(),n=En()},m(s,i){r&&r.m(s,i),De(s,n,i)},p(s,i){s[1]?t?jt(t,s[1])?(r.d(1),r=Lu(s),t=s[1],r.c(),r.m(n.parentNode,n)):r.p(s,i):(r=Lu(s),t=s[1],r.c(),r.m(n.parentNode,n)):t&&(r.d(1),r=null,t=s[1])},i:un,o:un,d(s){s&&Me(n),r&&r.d(s)}}}function Pu(e){let t,n,r,s,i;const o=e[8].default,a=xt(o,e,e[7],null);let l=[e[5]],c={};for(let f=0;f<l.length;f+=1)c=je(c,l[f]);return{c(){t=Lt(e[1]),a&&a.c(),vl(e[1])(t,c)},m(f,u){De(f,t,u),a&&a.m(t,null),e[10](t),r=!0,s||(i=[At(n=gn.call(null,t,e[0])),At(e[4].call(null,t))],s=!0)},p(f,u){a&&a.p&&(!r||u&128)&&Gt(a,o,f,f[7],r?kt(o,f[7],u,null):Bt(f[7]),null),vl(f[1])(t,c=Ot(l,[u&32&&f[5]])),n&&Vt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(ie(a,f),r=!0)},o(f){de(a,f),r=!1},d(f){f&&Me(t),a&&a.d(f),e[10](null),s=!1,an(i)}}}function Lu(e){let t,n,r,s,i=[e[5]],o={};for(let a=0;a<i.length;a+=1)o=je(o,i[a]);return{c(){t=Lt(e[1]),vl(e[1])(t,o)},m(a,l){De(a,t,l),e[9](t),r||(s=[At(n=gn.call(null,t,e[0])),At(e[4].call(null,t))],r=!0)},p(a,l){vl(a[1])(t,o=Ot(i,[l&32&&a[5]])),n&&Vt(n.update)&&l&1&&n.update.call(null,a[0])},d(a){a&&Me(t),e[9](null),r=!1,an(s)}}}function gV(e){let t,n,r,s;const i=[pV,mV],o=[];function a(l,c){return l[3]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=En()},m(l,c){o[t].m(l,c),De(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(Yt(),de(o[f],1,1,()=>{o[f]=null}),Zt(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),ie(n,1),n.m(r.parentNode,r))},i(l){s||(ie(n),s=!0)},o(l){de(n),s=!1},d(l){o[t].d(l),l&&Me(r)}}}function vV(e,t,n){let r;const s=["use","tag","getElement"];let i=Et(t,s),{$$slots:o={},$$scope:a}=t,{use:l=[]}=t,{tag:c}=t;const f=wn(tn());let u;function h(){return u}function d(g){ct[g?"unshift":"push"](()=>{u=g,n(2,u)})}function p(g){ct[g?"unshift":"push"](()=>{u=g,n(2,u)})}return e.$$set=g=>{t=je(je({},t),vn(g)),n(5,i=Et(t,s)),"use"in g&&n(0,l=g.use),"tag"in g&&n(1,c=g.tag),"$$scope"in g&&n(7,a=g.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(c)>-1)},[l,c,u,r,f,i,h,a,o,d,p]}class vr extends rn{constructor(t){super(),nn(this,t,vV,gV,jt,{use:0,tag:1,getElement:6})}get getElement(){return this.$$.ctx[6]}}function bV(e){let t,n,r,s,i;const o=e[6].default,a=xt(o,e,e[5],null);let l=[e[3]],c={};for(let f=0;f<l.length;f+=1)c=je(c,l[f]);return{c(){t=Mu("svg"),a&&a.c(),h1(t,c)},m(f,u){De(f,t,u),a&&a.m(t,null),e[7](t),r=!0,s||(i=[At(n=gn.call(null,t,e[0])),At(e[2].call(null,t))],s=!0)},p(f,[u]){a&&a.p&&(!r||u&32)&&Gt(a,o,f,f[5],r?kt(o,f[5],u,null):Bt(f[5]),null),h1(t,c=Ot(l,[u&8&&f[3]])),n&&Vt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(ie(a,f),r=!0)},o(f){de(a,f),r=!1},d(f){f&&Me(t),a&&a.d(f),e[7](null),s=!1,an(i)}}}function _V(e,t,n){const r=["use","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t;const l=wn(tn());let c;function f(){return c}function u(h){ct[h?"unshift":"push"](()=>{c=h,n(1,c)})}return e.$$set=h=>{t=je(je({},t),vn(h)),n(3,s=Et(t,r)),"use"in h&&n(0,a=h.use),"$$scope"in h&&n(5,o=h.$$scope)},[a,c,l,s,f,o,i,u]}class yV extends rn{constructor(t){super(),nn(this,t,_V,bV,jt,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}const Ri=[];function Y2(e,t=un){let n;const r=new Set;function s(a){if(jt(e,a)&&(e=a,n)){const l=!Ri.length;for(const c of r)c[1](),Ri.push(c,e);if(l){for(let c=0;c<Ri.length;c+=2)Ri[c][0](Ri[c+1]);Ri.length=0}}}function i(a){s(a(e))}function o(a,l=un){const c=[a,l];return r.add(c),r.size===1&&(n=t(s)||un),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function AV(e){let t;const n=e[4].default,r=xt(n,e,e[3],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,[i]){r&&r.p&&(!t||i&8)&&Gt(r,n,s,s[3],t?kt(n,s[3],i,null):Bt(s[3]),null)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function SV(e,t,n){let r,{$$slots:s={},$$scope:i}=t,{key:o}=t,{value:a}=t;const l=Y2(a);return xo(e,l,c=>n(5,r=c)),ur(o,l),Wu(()=>{l.set(void 0)}),e.$$set=c=>{"key"in c&&n(1,o=c.key),"value"in c&&n(2,a=c.value),"$$scope"in c&&n(3,i=c.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&Ag(l,r=a,r)},[l,o,a,i,s]}class Vi extends rn{constructor(t){super(),nn(this,t,SV,AV,jt,{key:1,value:2})}}function EV(e){let t,n,r,s,i,o,a,l,c,f,u;const h=e[21].default,d=xt(h,e,e[20],null);let p=[{class:r=dt({[e[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":e[3]==="underline","mdc-tab-indicator__content--icon":e[3]==="icon"})},{style:s=Object.entries(e[10]).map(dp).join(" ")},{"aria-hidden":i=e[3]==="icon"?"true":void 0},zt(e[12],"content$")],g={};for(let b=0;b<p.length;b+=1)g=je(g,p[b]);let m=[{class:a=dt({[e[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":e[0],"mdc-tab-indicator--fade":e[4]==="fade",...e[9]})},gr(e[12],["content$"])],v={};for(let b=0;b<m.length;b+=1)v=je(v,m[b]);return{c(){t=Lt("span"),n=Lt("span"),d&&d.c(),Pt(n,g),Pt(t,v)},m(b,y){De(b,t,y),Sn(t,n),d&&d.m(n,null),e[22](n),e[23](t),c=!0,f||(u=[At(o=gn.call(null,n,e[5])),At(l=gn.call(null,t,e[1])),At(e[11].call(null,t))],f=!0)},p(b,[y]){d&&d.p&&(!c||y&1048576)&&Gt(d,h,b,b[20],c?kt(h,b[20],y,null):Bt(b[20]),null),Pt(n,g=Ot(p,[(!c||y&72&&r!==(r=dt({[b[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":b[3]==="underline","mdc-tab-indicator__content--icon":b[3]==="icon"})))&&{class:r},(!c||y&1024&&s!==(s=Object.entries(b[10]).map(dp).join(" ")))&&{style:s},(!c||y&8&&i!==(i=b[3]==="icon"?"true":void 0))&&{"aria-hidden":i},y&4096&&zt(b[12],"content$")])),o&&Vt(o.update)&&y&32&&o.update.call(null,b[5]),Pt(t,v=Ot(m,[(!c||y&533&&a!==(a=dt({[b[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":b[0],"mdc-tab-indicator--fade":b[4]==="fade",...b[9]})))&&{class:a},y&4096&&gr(b[12],["content$"])])),l&&Vt(l.update)&&y&2&&l.update.call(null,b[1])},i(b){c||(ie(d,b),c=!0)},o(b){de(d,b),c=!1},d(b){b&&Me(t),d&&d.d(b),e[22](null),e[23](null),f=!1,an(u)}}}const dp=([e,t])=>`${e}: ${t};`;function wV(e,t,n){const r=["use","class","active","type","transition","content$use","content$class","activate","deactivate","computeContentClientRect","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(tn());let{use:l=[]}=t,{class:c=""}=t,{active:f=!1}=t,{type:u="underline"}=t,{transition:h="slide"}=t,{content$use:d=[]}=t,{content$class:p=""}=t,g,m,v,b={},y={},S=[],w=h;ir(()=>(n(17,m=E()),m.init(),()=>{m.destroy()}));function E(){const H={fade:rV,slide:fp}[h]||fp;return new H({addClass:(...he)=>A(()=>O(...he)),removeClass:(...he)=>A(()=>z(...he)),computeContentClientRect:$,setContentStyleProperty:(...he)=>A(()=>N(...he))})}function A(H){S.length?S[S.length-1].push(H):H()}function O(H){b[H]||n(9,b[H]=!0,b)}function z(H){(!(H in b)||b[H])&&n(9,b[H]=!1,b)}function N(H,he){y[H]!=he&&(he===""||he==null?(delete y[H],n(10,y),n(19,w),n(4,h),n(17,m)):n(10,y[H]=he,y))}function k(H){n(0,f=!0),m.activate(H)}function le(){n(0,f=!1),m.deactivate()}function $(){return S.push([]),n(18,S),v.getBoundingClientRect()}function V(){return g}function Ge(H){ct[H?"unshift":"push"](()=>{v=H,n(8,v)})}function ne(H){ct[H?"unshift":"push"](()=>{g=H,n(7,g)})}return e.$$set=H=>{t=je(je({},t),vn(H)),n(12,s=Et(t,r)),"use"in H&&n(1,l=H.use),"class"in H&&n(2,c=H.class),"active"in H&&n(0,f=H.active),"type"in H&&n(3,u=H.type),"transition"in H&&n(4,h=H.transition),"content$use"in H&&n(5,d=H.content$use),"content$class"in H&&n(6,p=H.content$class),"$$scope"in H&&n(20,o=H.$$scope)},e.$$.update=()=>{e.$$.dirty&655376&&w!==h&&(n(19,w=h),m&&m.destroy(),n(9,b={}),n(10,y={}),n(17,m=E()),m.init()),e.$$.dirty&262144&&S.length&&requestAnimationFrame(()=>{var H;const he=(H=S.shift())!==null&&H!==void 0?H:[];n(18,S);for(const te of he)te()})},[f,l,c,u,h,d,p,g,v,b,y,a,s,k,le,$,V,m,S,w,o,i,Ge,ne]}class Z2 extends rn{constructor(t){super(),nn(this,t,wV,EV,jt,{use:1,class:2,active:0,type:3,transition:4,content$use:5,content$class:6,activate:13,deactivate:14,computeContentClientRect:15,getElement:16})}get activate(){return this.$$.ctx[13]}get deactivate(){return this.$$.ctx[14]}get computeContentClientRect(){return this.$$.ctx[15]}get getElement(){return this.$$.ctx[16]}}const TV=e=>({}),hp=e=>({}),CV=e=>({}),mp=e=>({});function pp(e){let t,n;const r=[{active:e[18]},zt(e[25],"tabIndicator$")];let s={$$slots:{default:[PV]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new Z2({props:s}),e[33](t),{c(){ot(t.$$.fragment)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?Ot(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&on(zt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ie(t.$$.fragment,i),n=!0)},o(i){de(t.$$.fragment,i),n=!1},d(i){e[33](null),rt(t,i)}}}function PV(e){let t;const n=e[32]["tab-indicator"],r=xt(n,e,e[37],mp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&Gt(r,n,s,s[37],t?kt(n,s[37],i,CV):Bt(s[37]),mp)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function gp(e){let t,n;const r=[{active:e[18]},zt(e[25],"tabIndicator$")];let s={$$slots:{default:[LV]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new Z2({props:s}),e[35](t),{c(){ot(t.$$.fragment)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?Ot(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&on(zt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ie(t.$$.fragment,i),n=!0)},o(i){de(t.$$.fragment,i),n=!1},d(i){e[35](null),rt(t,i)}}}function LV(e){let t;const n=e[32]["tab-indicator"],r=xt(n,e,e[37],hp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&Gt(r,n,s,s[37],t?kt(n,s[37],i,TV):Bt(s[37]),hp)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function OV(e){let t,n,r,s,i,o,a,l,c,f;const u=e[32].default,h=xt(u,e,e[37],null);let d=e[6]&&pp(e),p=[{class:r=dt({[e[9]]:!0,"mdc-tab__content":!0})},zt(e[25],"content$")],g={};for(let v=0;v<p.length;v+=1)g=je(g,p[v]);let m=!e[6]&&gp(e);return{c(){t=Lt("span"),h&&h.c(),n=wt(),d&&d.c(),i=wt(),m&&m.c(),o=wt(),a=Lt("span"),Pt(t,g),$t(a,"class","mdc-tab__ripple")},m(v,b){De(v,t,b),h&&h.m(t,null),Sn(t,n),d&&d.m(t,null),e[34](t),De(v,i,b),m&&m.m(v,b),De(v,o,b),De(v,a,b),l=!0,c||(f=At(s=gn.call(null,t,e[8])),c=!0)},p(v,b){h&&h.p&&(!l||b[1]&64)&&Gt(h,u,v,v[37],l?kt(u,v[37],b,null):Bt(v[37]),null),v[6]?d?(d.p(v,b),b[0]&64&&ie(d,1)):(d=pp(v),d.c(),ie(d,1),d.m(t,null)):d&&(Yt(),de(d,1,1,()=>{d=null}),Zt()),Pt(t,g=Ot(p,[(!l||b[0]&512&&r!==(r=dt({[v[9]]:!0,"mdc-tab__content":!0})))&&{class:r},b[0]&33554432&&zt(v[25],"content$")])),s&&Vt(s.update)&&b[0]&256&&s.update.call(null,v[8]),v[6]?m&&(Yt(),de(m,1,1,()=>{m=null}),Zt()):m?(m.p(v,b),b[0]&64&&ie(m,1)):(m=gp(v),m.c(),ie(m,1),m.m(o.parentNode,o))},i(v){l||(ie(h,v),ie(d),ie(m),l=!0)},o(v){de(h,v),de(d),de(m),l=!1},d(v){v&&Me(t),h&&h.d(v),d&&d.d(),e[34](null),v&&Me(i),m&&m.d(v),v&&Me(o),v&&Me(a),c=!1,f()}}}function RV(e){let t,n,r;const s=[{tag:e[11]},{use:[[Yr,{ripple:e[3],unbounded:!1,addClass:e[21],removeClass:e[22],addStyle:e[23]}],e[20],...e[0]]},{class:dt({[e[1]]:!0,"mdc-tab":!0,"mdc-tab--active":e[18],"mdc-tab--stacked":e[4],"mdc-tab--min-width":e[5],...e[15]})},{style:Object.entries(e[16]).map(vp).concat([e[2]]).join(" ")},{role:"tab"},{"aria-selected":e[18]?"true":"false"},{tabindex:e[18]||e[19]?"0":"-1"},{href:e[7]},e[17],gr(e[25],["content$","tabIndicator$"])];var i=e[10];function o(a){let l={$$slots:{default:[OV]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[36](t),t.$on("click",e[24])),{c(){t&&ot(t.$$.fragment),n=En()},m(a,l){t&&nt(t,a,l),De(a,n,l),r=!0},p(a,l){const c=l[0]&50301119?Ot(s,[l[0]&2048&&{tag:a[11]},l[0]&15728649&&{use:[[Yr,{ripple:a[3],unbounded:!1,addClass:a[21],removeClass:a[22],addStyle:a[23]}],a[20],...a[0]]},l[0]&294962&&{class:dt({[a[1]]:!0,"mdc-tab":!0,"mdc-tab--active":a[18],"mdc-tab--stacked":a[4],"mdc-tab--min-width":a[5],...a[15]})},l[0]&65540&&{style:Object.entries(a[16]).map(vp).concat([a[2]]).join(" ")},s[4],l[0]&262144&&{"aria-selected":a[18]?"true":"false"},l[0]&786432&&{tabindex:a[18]||a[19]?"0":"-1"},l[0]&128&&{href:a[7]},l[0]&131072&&on(a[17]),l[0]&33554432&&on(gr(a[25],["content$","tabIndicator$"]))]):{};if(l[0]&33841984|l[1]&64&&(c.$$scope={dirty:l,ctx:a}),l[0]&1024&&i!==(i=a[10])){if(t){Yt();const f=t;de(f.$$.fragment,1,0,()=>{rt(f,1)}),Zt()}i?(t=pr(i,o(a)),a[36](t),t.$on("click",a[24]),ot(t.$$.fragment),ie(t.$$.fragment,1),nt(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ie(t.$$.fragment,a),r=!0)},o(a){t&&de(t.$$.fragment,a),r=!1},d(a){e[36](null),a&&Me(n),t&&rt(t,a)}}}const vp=([e,t])=>`${e}: ${t};`;function MV(e,t,n){const r=["use","class","style","tab","ripple","stacked","minWidth","indicatorSpanOnlyContent","href","content$use","content$class","component","tag","activate","deactivate","focus","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(tn());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{tab:u}=t,{ripple:h=!0}=t,{stacked:d=!1}=t,{minWidth:p=!1}=t,{indicatorSpanOnlyContent:g=!1}=t,{href:m=void 0}=t,{content$use:v=[]}=t,{content$class:b=""}=t,y,S,w,E,A={},O={},z={},N=dr("SMUI:tab:focusOnActivate"),k=u===dr("SMUI:tab:initialActive"),le=!1,{component:$=vr}=t,{tag:V=$===vr?m==null?"button":"a":void 0}=t;if(ur("SMUI:label:context","tab"),ur("SMUI:icon:context","tab"),!u)throw new Error("The tab property is required! It should be passed down from the TabBar to the Tab.");ir(()=>{n(31,S=new sV({setAttr:te,addClass:ne,removeClass:H,hasClass:Ge,activateIndicator:Rn=>E.activate(Rn),deactivateIndicator:()=>E.deactivate(),notifyInteracted:()=>Bn(Xt(),"SMUITab:interacted",{tabId:u},void 0,!0),getOffsetLeft:()=>Xt().offsetLeft,getOffsetWidth:()=>Xt().offsetWidth,getContentOffsetLeft:()=>w.offsetLeft,getContentOffsetWidth:()=>w.offsetWidth,focus:Ct}));const Ve={tabId:u,get element(){return Xt()},get active(){return k},forceAccessible(Rn){n(19,le=Rn)},computeIndicatorClientRect:()=>E.computeContentClientRect(),computeDimensions:()=>S.computeDimensions(),focus:Ct,activate:lt,deactivate:ke};return Bn(Xt(),"SMUITab:mount",Ve),S.init(),()=>{Bn(Xt(),"SMUITab:unmount",Ve),S.destroy()}});function Ge(Ve){return Ve in A?A[Ve]:Xt().classList.contains(Ve)}function ne(Ve){A[Ve]||n(15,A[Ve]=!0,A)}function H(Ve){(!(Ve in A)||A[Ve])&&n(15,A[Ve]=!1,A)}function he(Ve,Rn){O[Ve]!=Rn&&(Rn===""||Rn==null?(delete O[Ve],n(16,O)):n(16,O[Ve]=Rn,O))}function te(Ve,Rn){z[Ve]!==Rn&&n(17,z[Ve]=Rn,z)}function oe(Ve){!Ve.defaultPrevented&&S&&S.handleClick()}function lt(Ve,Rn){n(18,k=!0),Rn&&S.setFocusOnActivate(!1),S.activate(Ve),Rn&&S.setFocusOnActivate(N)}function ke(){n(18,k=!1),S.deactivate()}function Ct(){Xt().focus()}function Xt(){return y.getElement()}function Nt(Ve){ct[Ve?"unshift":"push"](()=>{E=Ve,n(14,E)})}function On(Ve){ct[Ve?"unshift":"push"](()=>{w=Ve,n(13,w)})}function zn(Ve){ct[Ve?"unshift":"push"](()=>{E=Ve,n(14,E)})}function Ye(Ve){ct[Ve?"unshift":"push"](()=>{y=Ve,n(12,y)})}return e.$$set=Ve=>{t=je(je({},t),vn(Ve)),n(25,s=Et(t,r)),"use"in Ve&&n(0,l=Ve.use),"class"in Ve&&n(1,c=Ve.class),"style"in Ve&&n(2,f=Ve.style),"tab"in Ve&&n(26,u=Ve.tab),"ripple"in Ve&&n(3,h=Ve.ripple),"stacked"in Ve&&n(4,d=Ve.stacked),"minWidth"in Ve&&n(5,p=Ve.minWidth),"indicatorSpanOnlyContent"in Ve&&n(6,g=Ve.indicatorSpanOnlyContent),"href"in Ve&&n(7,m=Ve.href),"content$use"in Ve&&n(8,v=Ve.content$use),"content$class"in Ve&&n(9,b=Ve.content$class),"component"in Ve&&n(10,$=Ve.component),"tag"in Ve&&n(11,V=Ve.tag),"$$scope"in Ve&&n(37,o=Ve.$$scope)},e.$$.update=()=>{e.$$.dirty[1]&1&&S&&S.setFocusOnActivate(N)},[l,c,f,h,d,p,g,m,v,b,$,V,y,w,E,A,O,z,k,le,a,ne,H,he,oe,s,u,lt,ke,Ct,Xt,S,i,Nt,On,zn,Ye,o]}class IV extends rn{constructor(t){super(),nn(this,t,MV,RV,jt,{use:0,class:1,style:2,tab:26,ripple:3,stacked:4,minWidth:5,indicatorSpanOnlyContent:6,href:7,content$use:8,content$class:9,component:10,tag:11,activate:27,deactivate:28,focus:29,getElement:30},null,[-1,-1])}get activate(){return this.$$.ctx[27]}get deactivate(){return this.$$.ctx[28]}get focus(){return this.$$.ctx[29]}get getElement(){return this.$$.ctx[30]}}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var K2={ANIMATING:"mdc-tab-scroller--animating",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll",SCROLL_TEST:"mdc-tab-scroller__test"},DV={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ad=function(){function e(t){this.adapter=t}return e}();/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var FV=function(e){Jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(){var n=this.adapter.getScrollAreaScrollLeft(),r=this.calculateScrollEdges().right;return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.calculateScrollEdges(),s=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(r.right-n);return{finalScrollPosition:i,scrollDelta:i-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n){return n},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t}(Ad);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var xV=function(e){Jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(n-r)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n,r){return n-r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:r-n,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.max(Math.min(r.right,n),r.left)},t}(Ad);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var kV=function(e){Jn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r+n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.getAnimatingScrollPosition=function(n,r){return n+r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:n-r,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.right,n),r.left)},t}(Ad);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var GV=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.isAnimating=!1,r}return Object.defineProperty(t,"cssClasses",{get:function(){return K2},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return DV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{eventTargetMatchesSelector:function(){return!1},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){return""},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){return 0},getScrollContentOffsetWidth:function(){return 0},getScrollAreaOffsetWidth:function(){return 0},computeScrollAreaClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeScrollContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeHorizontalScrollbarHeight:function(){return 0}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this.adapter.computeHorizontalScrollbarHeight();this.adapter.setScrollAreaStyleProperty("margin-bottom",-n+"px"),this.adapter.addScrollAreaClass(t.cssClasses.SCROLL_AREA_SCROLL)},t.prototype.getScrollPosition=function(){if(this.isRTL())return this.computeCurrentScrollPositionRTL();var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return r-n},t.prototype.handleInteraction=function(){this.isAnimating&&this.stopScrollAnimation()},t.prototype.handleTransitionEnd=function(n){var r=n.target;!this.isAnimating||!this.adapter.eventTargetMatchesSelector(r,t.strings.CONTENT_SELECTOR)||(this.isAnimating=!1,this.adapter.removeClass(t.cssClasses.ANIMATING))},t.prototype.incrementScroll=function(n){n!==0&&this.animate(this.getIncrementScrollOperation(n))},t.prototype.incrementScrollImmediate=function(n){if(n!==0){var r=this.getIncrementScrollOperation(n);r.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(r.finalScrollPosition))}},t.prototype.scrollTo=function(n){if(this.isRTL()){this.scrollToImplRTL(n);return}this.scrollToImpl(n)},t.prototype.getRTLScroller=function(){return this.rtlScrollerInstance||(this.rtlScrollerInstance=this.rtlScrollerFactory()),this.rtlScrollerInstance},t.prototype.calculateCurrentTranslateX=function(){var n=this.adapter.getScrollContentStyleValue("transform");if(n==="none")return 0;var r=/\((.+?)\)/.exec(n);if(!r)return 0;var s=r[1],i=j$(s.split(","),6);i[0],i[1],i[2],i[3];var o=i[4];return i[5],parseFloat(o)},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t.prototype.computeCurrentScrollPositionRTL=function(){var n=this.calculateCurrentTranslateX();return this.getRTLScroller().getScrollPositionRTL(n)},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.scrollToImpl=function(n){var r=this.getScrollPosition(),s=this.clampScrollValue(n),i=s-r;this.animate({finalScrollPosition:s,scrollDelta:i})},t.prototype.scrollToImplRTL=function(n){var r=this.getRTLScroller().scrollToRTL(n);this.animate(r)},t.prototype.getIncrementScrollOperation=function(n){if(this.isRTL())return this.getRTLScroller().incrementScrollRTL(n);var r=this.getScrollPosition(),s=n+r,i=this.clampScrollValue(s),o=i-r;return{finalScrollPosition:i,scrollDelta:o}},t.prototype.animate=function(n){var r=this;n.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(n.finalScrollPosition),this.adapter.setScrollContentStyleProperty("transform","translateX("+n.scrollDelta+"px)"),this.adapter.computeScrollAreaClientRect(),requestAnimationFrame(function(){r.adapter.addClass(t.cssClasses.ANIMATING),r.adapter.setScrollContentStyleProperty("transform","none")}),this.isAnimating=!0)},t.prototype.stopScrollAnimation=function(){this.isAnimating=!1;var n=this.getAnimatingScrollPosition();this.adapter.removeClass(t.cssClasses.ANIMATING),this.adapter.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter.setScrollAreaScrollLeft(n)},t.prototype.getAnimatingScrollPosition=function(){var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return this.isRTL()?this.getRTLScroller().getAnimatingScrollPosition(r,n):r-n},t.prototype.rtlScrollerFactory=function(){var n=this.adapter.getScrollAreaScrollLeft();this.adapter.setScrollAreaScrollLeft(n-1);var r=this.adapter.getScrollAreaScrollLeft();if(r<0)return this.adapter.setScrollAreaScrollLeft(n),new xV(this.adapter);var s=this.adapter.computeScrollAreaClientRect(),i=this.adapter.computeScrollContentClientRect(),o=Math.round(i.right-s.right);return this.adapter.setScrollAreaScrollLeft(n),o===r?new kV(this.adapter):new FV(this.adapter)},t.prototype.isRTL=function(){return this.adapter.getScrollContentStyleValue("direction")==="rtl"},t}(xr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ou;function BV(e,t){if(t===void 0&&(t=!0),t&&typeof Ou<"u")return Ou;var n=e.createElement("div");n.classList.add(K2.SCROLL_TEST),e.body.appendChild(n);var r=n.offsetHeight-n.clientHeight;return e.body.removeChild(n),t&&(Ou=r),r}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ln={ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",ENTER_KEY:"Enter",HOME_KEY:"Home",SPACE_KEY:"Space",TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab"},Er={ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,ENTER_KEYCODE:13,EXTRA_SCROLL_AMOUNT:20,HOME_KEYCODE:36,SPACE_KEYCODE:32};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ti=new Set;ti.add(Ln.ARROW_LEFT_KEY);ti.add(Ln.ARROW_RIGHT_KEY);ti.add(Ln.END_KEY);ti.add(Ln.HOME_KEY);ti.add(Ln.ENTER_KEY);ti.add(Ln.SPACE_KEY);var ni=new Map;ni.set(Er.ARROW_LEFT_KEYCODE,Ln.ARROW_LEFT_KEY);ni.set(Er.ARROW_RIGHT_KEYCODE,Ln.ARROW_RIGHT_KEY);ni.set(Er.END_KEYCODE,Ln.END_KEY);ni.set(Er.HOME_KEYCODE,Ln.HOME_KEY);ni.set(Er.ENTER_KEYCODE,Ln.ENTER_KEY);ni.set(Er.SPACE_KEYCODE,Ln.SPACE_KEY);var NV=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.useAutomaticActivation=!1,r}return Object.defineProperty(t,"strings",{get:function(){return Ln},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Er},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){return 0},getScrollContentWidth:function(){return 0},getOffsetWidth:function(){return 0},isRTL:function(){return!1},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabDimensionsAtIndex:function(){return{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:function(){return-1},getFocusedTabIndex:function(){return-1},getIndexOfTabById:function(){return-1},getTabListLength:function(){return 0},notifyTabActivated:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setUseAutomaticActivation=function(n){this.useAutomaticActivation=n},t.prototype.activateTab=function(n){var r=this.adapter.getPreviousActiveTabIndex();if(!(!this.indexIsInRange(n)||n===r)){var s;r!==-1&&(this.adapter.deactivateTabAtIndex(r),s=this.adapter.getTabIndicatorClientRectAtIndex(r)),this.adapter.activateTabAtIndex(n,s),this.scrollIntoView(n),this.adapter.notifyTabActivated(n)}},t.prototype.handleKeyDown=function(n){var r=this.getKeyFromEvent(n);if(r!==void 0)if(this.isActivationKey(r)||n.preventDefault(),this.useAutomaticActivation){if(this.isActivationKey(r))return;var s=this.determineTargetFromKey(this.adapter.getPreviousActiveTabIndex(),r);this.adapter.setActiveTab(s),this.scrollIntoView(s)}else{var i=this.adapter.getFocusedTabIndex();if(this.isActivationKey(r))this.adapter.setActiveTab(i);else{var s=this.determineTargetFromKey(i,r);this.adapter.focusTabAtIndex(s),this.scrollIntoView(s)}}},t.prototype.handleTabInteraction=function(n){this.adapter.setActiveTab(this.adapter.getIndexOfTabById(n.detail.tabId))},t.prototype.scrollIntoView=function(n){if(this.indexIsInRange(n)){if(n===0){this.adapter.scrollTo(0);return}if(n===this.adapter.getTabListLength()-1){this.adapter.scrollTo(this.adapter.getScrollContentWidth());return}if(this.isRTL()){this.scrollIntoViewImplRTL(n);return}this.scrollIntoViewImpl(n)}},t.prototype.determineTargetFromKey=function(n,r){var s=this.isRTL(),i=this.adapter.getTabListLength()-1,o=r===Ln.END_KEY,a=r===Ln.ARROW_LEFT_KEY&&!s||r===Ln.ARROW_RIGHT_KEY&&s,l=r===Ln.ARROW_RIGHT_KEY&&!s||r===Ln.ARROW_LEFT_KEY&&s,c=n;return o?c=i:a?c-=1:l?c+=1:c=0,c<0?c=i:c>i&&(c=0),c},t.prototype.calculateScrollIncrement=function(n,r,s,i){var o=this.adapter.getTabDimensionsAtIndex(r),a=o.contentLeft-s-i,l=o.contentRight-s,c=l-Er.EXTRA_SCROLL_AMOUNT,f=a+Er.EXTRA_SCROLL_AMOUNT;return r<n?Math.min(c,0):Math.max(f,0)},t.prototype.calculateScrollIncrementRTL=function(n,r,s,i,o){var a=this.adapter.getTabDimensionsAtIndex(r),l=o-a.contentLeft-s,c=o-a.contentRight-s-i,f=c+Er.EXTRA_SCROLL_AMOUNT,u=l-Er.EXTRA_SCROLL_AMOUNT;return r>n?Math.max(f,0):Math.min(u,0)},t.prototype.findAdjacentTabIndexClosestToEdge=function(n,r,s,i){var o=r.rootLeft-s,a=r.rootRight-s-i,l=o+a,c=o<0||l<0,f=a>0||l>0;return c?n-1:f?n+1:-1},t.prototype.findAdjacentTabIndexClosestToEdgeRTL=function(n,r,s,i,o){var a=o-r.rootLeft-i-s,l=o-r.rootRight-s,c=a+l,f=a>0||c>0,u=l<0||c<0;return f?n+1:u?n-1:-1},t.prototype.getKeyFromEvent=function(n){return ti.has(n.key)?n.key:ni.get(n.keyCode)},t.prototype.isActivationKey=function(n){return n===Ln.SPACE_KEY||n===Ln.ENTER_KEY},t.prototype.indexIsInRange=function(n){return n>=0&&n<this.adapter.getTabListLength()},t.prototype.isRTL=function(){return this.adapter.isRTL()},t.prototype.scrollIntoViewImpl=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.findAdjacentTabIndexClosestToEdge(n,i,r,s);if(this.indexIsInRange(o)){var a=this.calculateScrollIncrement(n,o,r,s);this.adapter.incrementScroll(a)}},t.prototype.scrollIntoViewImplRTL=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.adapter.getScrollContentWidth(),a=this.findAdjacentTabIndexClosestToEdgeRTL(n,i,r,s,o);if(this.indexIsInRange(a)){var l=this.calculateScrollIncrementRTL(n,a,r,s,o);this.adapter.incrementScroll(l)}},t}(xr);function $V(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,p;const g=e[23].default,m=xt(g,e,e[22],null);let v=[{class:s=dt({[e[6]]:!0,"mdc-tab-scroller__scroll-content":!0})},{style:i=Object.entries(e[14]).map(bp).join(" ")},zt(e[16],"scrollContent$")],b={};for(let A=0;A<v.length;A+=1)b=je(b,v[A]);let y=[{class:a=dt({[e[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...e[12]})},{style:l=Object.entries(e[13]).map(_p).join(" ")},zt(e[16],"scrollArea$")],S={};for(let A=0;A<y.length;A+=1)S=je(S,y[A]);let w=[{class:f=dt({[e[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":e[2]==="start","mdc-tab-scroller--align-end":e[2]==="end","mdc-tab-scroller--align-center":e[2]==="center",...e[11]})},gr(e[16],["scrollArea$","scrollContent$"])],E={};for(let A=0;A<w.length;A+=1)E=je(E,w[A]);return{c(){t=Lt("div"),n=Lt("div"),r=Lt("div"),m&&m.c(),Pt(r,b),Pt(n,S),Pt(t,E)},m(A,O){De(A,t,O),Sn(t,n),Sn(n,r),m&&m.m(r,null),e[24](r),e[26](n),e[32](t),h=!0,d||(p=[At(o=gn.call(null,r,e[5])),Rt(r,"transitionend",e[25]),At(c=gn.call(null,n,e[3])),Rt(n,"wheel",e[27],{passive:!0}),Rt(n,"touchstart",e[28],{passive:!0}),Rt(n,"pointerdown",e[29]),Rt(n,"mousedown",e[30]),Rt(n,"keydown",e[31]),At(u=gn.call(null,t,e[0])),At(e[15].call(null,t))],d=!0)},p(A,O){m&&m.p&&(!h||O[0]&4194304)&&Gt(m,g,A,A[22],h?kt(g,A[22],O,null):Bt(A[22]),null),Pt(r,b=Ot(v,[(!h||O[0]&64&&s!==(s=dt({[A[6]]:!0,"mdc-tab-scroller__scroll-content":!0})))&&{class:s},(!h||O[0]&16384&&i!==(i=Object.entries(A[14]).map(bp).join(" ")))&&{style:i},O[0]&65536&&zt(A[16],"scrollContent$")])),o&&Vt(o.update)&&O[0]&32&&o.update.call(null,A[5]),Pt(n,S=Ot(y,[(!h||O[0]&4112&&a!==(a=dt({[A[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...A[12]})))&&{class:a},(!h||O[0]&8192&&l!==(l=Object.entries(A[13]).map(_p).join(" ")))&&{style:l},O[0]&65536&&zt(A[16],"scrollArea$")])),c&&Vt(c.update)&&O[0]&8&&c.update.call(null,A[3]),Pt(t,E=Ot(w,[(!h||O[0]&2054&&f!==(f=dt({[A[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":A[2]==="start","mdc-tab-scroller--align-end":A[2]==="end","mdc-tab-scroller--align-center":A[2]==="center",...A[11]})))&&{class:f},O[0]&65536&&gr(A[16],["scrollArea$","scrollContent$"])])),u&&Vt(u.update)&&O[0]&1&&u.update.call(null,A[0])},i(A){h||(ie(m,A),h=!0)},o(A){de(m,A),h=!1},d(A){A&&Me(t),m&&m.d(A),e[24](null),e[26](null),e[32](null),d=!1,an(p)}}}const bp=([e,t])=>`${e}: ${t};`,_p=([e,t])=>`${e}: ${t};`;function VV(e,t,n){const r=["use","class","align","scrollArea$use","scrollArea$class","scrollContent$use","scrollContent$class","getScrollPosition","getScrollContentWidth","incrementScroll","scrollTo","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const{matches:a}=W2,l=wn(tn());let{use:c=[]}=t,{class:f=""}=t,{align:u=void 0}=t,{scrollArea$use:h=[]}=t,{scrollArea$class:d=""}=t,{scrollContent$use:p=[]}=t,{scrollContent$class:g=""}=t,m,v,b,y,S={},w={},E={},A={};ir(()=>(n(8,v=new GV({eventTargetMatchesSelector:(Ye,Ve)=>a(Ye,Ve),addClass:O,removeClass:z,addScrollAreaClass:N,setScrollAreaStyleProperty:k,setScrollContentStyleProperty:le,getScrollContentStyleValue:$,setScrollAreaScrollLeft:Ye=>n(9,b.scrollLeft=Ye,b),getScrollAreaScrollLeft:()=>b.scrollLeft,getScrollContentOffsetWidth:()=>y.offsetWidth,getScrollAreaOffsetWidth:()=>b.offsetWidth,computeScrollAreaClientRect:()=>b.getBoundingClientRect(),computeScrollContentClientRect:()=>y.getBoundingClientRect(),computeHorizontalScrollbarHeight:()=>BV(document)})),v.init(),()=>{v.destroy()}));function O(Ye){S[Ye]||n(11,S[Ye]=!0,S)}function z(Ye){(!(Ye in S)||S[Ye])&&n(11,S[Ye]=!1,S)}function N(Ye){w[Ye]||n(12,w[Ye]=!0,w)}function k(Ye,Ve){E[Ye]!=Ve&&(Ve===""||Ve==null?(delete E[Ye],n(13,E)):n(13,E[Ye]=Ve,E))}function le(Ye,Ve){A[Ye]!=Ve&&(Ve===""||Ve==null?(delete A[Ye],n(14,A)):n(14,A[Ye]=Ve,A))}function $(Ye){return Ye in A?A[Ye]:getComputedStyle(y).getPropertyValue(Ye)}function V(){return v.getScrollPosition()}function Ge(){return y.offsetWidth}function ne(Ye){v.incrementScroll(Ye)}function H(Ye){v.scrollTo(Ye)}function he(){return m}function te(Ye){ct[Ye?"unshift":"push"](()=>{y=Ye,n(10,y)})}const oe=Ye=>v&&v.handleTransitionEnd(Ye);function lt(Ye){ct[Ye?"unshift":"push"](()=>{b=Ye,n(9,b)})}const ke=()=>v&&v.handleInteraction(),Ct=()=>v&&v.handleInteraction(),Xt=()=>v&&v.handleInteraction(),Nt=()=>v&&v.handleInteraction(),On=()=>v&&v.handleInteraction();function zn(Ye){ct[Ye?"unshift":"push"](()=>{m=Ye,n(7,m)})}return e.$$set=Ye=>{t=je(je({},t),vn(Ye)),n(16,s=Et(t,r)),"use"in Ye&&n(0,c=Ye.use),"class"in Ye&&n(1,f=Ye.class),"align"in Ye&&n(2,u=Ye.align),"scrollArea$use"in Ye&&n(3,h=Ye.scrollArea$use),"scrollArea$class"in Ye&&n(4,d=Ye.scrollArea$class),"scrollContent$use"in Ye&&n(5,p=Ye.scrollContent$use),"scrollContent$class"in Ye&&n(6,g=Ye.scrollContent$class),"$$scope"in Ye&&n(22,o=Ye.$$scope)},[c,f,u,h,d,p,g,m,v,b,y,S,w,E,A,l,s,V,Ge,ne,H,he,o,i,te,oe,lt,ke,Ct,Xt,Nt,On,zn]}class UV extends rn{constructor(t){super(),nn(this,t,VV,$V,jt,{use:0,class:1,align:2,scrollArea$use:3,scrollArea$class:4,scrollContent$use:5,scrollContent$class:6,getScrollPosition:17,getScrollContentWidth:18,incrementScroll:19,scrollTo:20,getElement:21},null,[-1,-1])}get getScrollPosition(){return this.$$.ctx[17]}get getScrollContentWidth(){return this.$$.ctx[18]}get incrementScroll(){return this.$$.ctx[19]}get scrollTo(){return this.$$.ctx[20]}get getElement(){return this.$$.ctx[21]}}function yp(e,t,n){const r=e.slice();return r[29]=t[n],r}const HV=e=>({tab:e[0]&4}),Ap=e=>({tab:e[29]});function Sp(e,t){let n,r;const s=t[21].default,i=xt(s,t,t[24],Ap);return{key:e,first:null,c(){n=En(),i&&i.c(),this.first=n},m(o,a){De(o,n,a),i&&i.m(o,a),r=!0},p(o,a){t=o,i&&i.p&&(!r||a[0]&16777220)&&Gt(i,s,t,t[24],r?kt(s,t[24],a,HV):Bt(t[24]),Ap)},i(o){r||(ie(i,o),r=!0)},o(o){de(i,o),r=!1},d(o){o&&Me(n),i&&i.d(o)}}}function zV(e){let t=[],n=new Map,r,s,i=e[2];const o=a=>a[3](a[29]);for(let a=0;a<i.length;a+=1){let l=yp(e,i,a),c=o(l);n.set(c,t[a]=Sp(c,l))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();r=En()},m(a,l){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(a,l);De(a,r,l),s=!0},p(a,l){l[0]&16777228&&(i=a[2],Yt(),t=Pg(t,l,o,1,a,i,n,r.parentNode,Cg,Sp,r,yp),Zt())},i(a){if(!s){for(let l=0;l<i.length;l+=1)ie(t[l]);s=!0}},o(a){for(let l=0;l<t.length;l+=1)de(t[l]);s=!1},d(a){for(let l=0;l<t.length;l+=1)t[l].d(a);a&&Me(r)}}}function jV(e){let t,n,r,s,i,o,a;const l=[zt(e[11],"tabScroller$")];let c={$$slots:{default:[zV]},$$scope:{ctx:e}};for(let h=0;h<l.length;h+=1)c=je(c,l[h]);n=new UV({props:c}),e[22](n);let f=[{class:r=dt({[e[1]]:!0,"mdc-tab-bar":!0})},{role:"tablist"},{tabindex:e[4]},gr(e[11],["tabScroller$"])],u={};for(let h=0;h<f.length;h+=1)u=je(u,f[h]);return{c(){t=Lt("div"),ot(n.$$.fragment),Pt(t,u)},m(h,d){De(h,t,d),nt(n,t,null),e[23](t),i=!0,o||(a=[At(s=gn.call(null,t,e[0])),At(e[8].call(null,t)),Rt(t,"SMUITab:mount",e[9]),Rt(t,"SMUITab:unmount",e[10]),Rt(t,"SMUITab:interacted",function(){Vt(e[5]&&e[5].handleTabInteraction.bind(e[5]))&&(e[5]&&e[5].handleTabInteraction.bind(e[5])).apply(this,arguments)}),Rt(t,"keydown",function(){Vt(e[5]&&e[5].handleKeyDown.bind(e[5]))&&(e[5]&&e[5].handleKeyDown.bind(e[5])).apply(this,arguments)})],o=!0)},p(h,d){e=h;const p=d[0]&2048?Ot(l,[on(zt(e[11],"tabScroller$"))]):{};d[0]&16777220&&(p.$$scope={dirty:d,ctx:e}),n.$set(p),Pt(t,u=Ot(f,[(!i||d[0]&2&&r!==(r=dt({[e[1]]:!0,"mdc-tab-bar":!0})))&&{class:r},{role:"tablist"},(!i||d[0]&16)&&{tabindex:e[4]},d[0]&2048&&gr(e[11],["tabScroller$"])])),s&&Vt(s.update)&&d[0]&1&&s.update.call(null,e[0])},i(h){i||(ie(n.$$.fragment,h),i=!0)},o(h){de(n.$$.fragment,h),i=!1},d(h){h&&Me(t),e[22](null),rt(n),e[23](null),o=!1,an(a)}}}function qV(e,t,n){const r=["use","class","tabs","key","focusOnActivate","focusOnProgrammatic","useAutomaticActivation","active","tabindex","scrollIntoView","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(tn());let{use:l=[]}=t,{class:c=""}=t,{tabs:f=[]}=t,{key:u=H=>H}=t,{focusOnActivate:h=!0}=t,{focusOnProgrammatic:d=!1}=t,{useAutomaticActivation:p=!0}=t,{active:g=void 0}=t,{tabindex:m=0}=t,v,b,y,S=f.indexOf(g),w={},E=new WeakMap,A=!1;ur("SMUI:tab:focusOnActivate",h),ur("SMUI:tab:initialActive",g),ir(()=>(n(5,b=new NV({scrollTo:H=>y.scrollTo(H),incrementScroll:H=>y.incrementScroll(H),getScrollPosition:()=>y.getScrollPosition(),getScrollContentWidth:()=>y.getScrollContentWidth(),getOffsetWidth:()=>V().offsetWidth,isRTL:()=>getComputedStyle(V()).getPropertyValue("direction")==="rtl",setActiveTab:H=>{n(12,g=f[H]),n(18,S=H),b.activateTab(H)},activateTabAtIndex:(H,he)=>{var te;return(te=N(f[H]))===null||te===void 0?void 0:te.activate(he,A)},deactivateTabAtIndex:H=>{var he;return(he=N(f[H]))===null||he===void 0?void 0:he.deactivate()},focusTabAtIndex:H=>{var he;return(he=N(f[H]))===null||he===void 0?void 0:he.focus()},getTabIndicatorClientRectAtIndex:H=>{var he,te;return(te=(he=N(f[H]))===null||he===void 0?void 0:he.computeIndicatorClientRect())!==null&&te!==void 0?te:new DOMRect},getTabDimensionsAtIndex:H=>{var he,te;return(te=(he=N(f[H]))===null||he===void 0?void 0:he.computeDimensions())!==null&&te!==void 0?te:{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:()=>{var H;for(let he=0;he<f.length;he++)if(!((H=N(f[he]))===null||H===void 0)&&H.active)return he;return-1},getFocusedTabIndex:()=>{const H=f.map(te=>{var oe;return(oe=N(te))===null||oe===void 0?void 0:oe.element}),he=document.activeElement;return H.indexOf(he)},getIndexOfTabById:H=>f.indexOf(H),getTabListLength:()=>f.length,notifyTabActivated:H=>Bn(V(),"SMUITabBar:activated",{index:H},void 0,!0)})),b.init(),()=>{b.destroy()}));function O(H){const he=H.detail;k(he.tabId,he)}function z(H){const he=H.detail;le(he.tabId)}function N(H){return H instanceof Object?E.get(H):w[H]}function k(H,he){H instanceof Object?(E.set(H,he),n(20,E)):(n(19,w[H]=he,w),n(19,w))}function le(H){H instanceof Object?(E.delete(H),n(20,E)):(delete w[H],n(19,w))}function $(H){b.scrollIntoView(H)}function V(){return v}function Ge(H){ct[H?"unshift":"push"](()=>{y=H,n(7,y)})}function ne(H){ct[H?"unshift":"push"](()=>{v=H,n(6,v)})}return e.$$set=H=>{t=je(je({},t),vn(H)),n(11,s=Et(t,r)),"use"in H&&n(0,l=H.use),"class"in H&&n(1,c=H.class),"tabs"in H&&n(2,f=H.tabs),"key"in H&&n(3,u=H.key),"focusOnActivate"in H&&n(13,h=H.focusOnActivate),"focusOnProgrammatic"in H&&n(14,d=H.focusOnProgrammatic),"useAutomaticActivation"in H&&n(15,p=H.useAutomaticActivation),"active"in H&&n(12,g=H.active),"tabindex"in H&&n(4,m=H.tabindex),"$$scope"in H&&n(24,o=H.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&282660&&g!==f[S]&&(n(18,S=f.indexOf(g)),b&&(A=!d,b.activateTab(S),A=!1)),e.$$.dirty[0]&1835012&&f.length){const H=f[0]instanceof Object?E.get(f[0]):w[f[0]];H&&H.forceAccessible(S===-1)}e.$$.dirty[0]&32800&&b&&b.setUseAutomaticActivation(p)},[l,c,f,u,m,b,v,y,a,O,z,s,g,h,d,p,$,V,S,w,E,i,Ge,ne,o]}class XV extends rn{constructor(t){super(),nn(this,t,qV,jV,jt,{use:0,class:1,tabs:2,key:3,focusOnActivate:13,focusOnProgrammatic:14,useAutomaticActivation:15,active:12,tabindex:4,scrollIntoView:16,getElement:17},null,[-1,-1])}get scrollIntoView(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}var Q2={exports:{}};/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/material-components/material-components-web/blob/master/LICENSE
 */(function(e,t){(function(r,s){e.exports=s()})(zs,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(o&1&&(i=s(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var l in i)s.d(a,l,function(c){return i[c]}.bind(null,l));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s="./packages/mdc-segmented-button/index.ts")}({"./packages/mdc-base/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__read||function(c,f){var u=typeof Symbol=="function"&&c[Symbol.iterator];if(!u)return c;var h=u.call(c),d,p=[],g;try{for(;(f===void 0||f-- >0)&&!(d=h.next()).done;)p.push(d.value)}catch(m){g={error:m}}finally{try{d&&!d.done&&(u=h.return)&&u.call(h)}finally{if(g)throw g.error}}return p},o=this&&this.__spreadArray||function(c,f){for(var u=0,h=f.length,d=c.length;u<h;u++,d++)c[d]=f[u];return c};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCComponent=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=function(){function c(f,u){for(var h=[],d=2;d<arguments.length;d++)h[d-2]=arguments[d];this.root=f,this.initialize.apply(this,o([],i(h))),this.foundation=u===void 0?this.getDefaultFoundation():u,this.foundation.init(),this.initialSyncWithDOM()}return c.attachTo=function(f){return new c(f,new a.MDCFoundation({}))},c.prototype.initialize=function(){},c.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},c.prototype.initialSyncWithDOM=function(){},c.prototype.destroy=function(){this.foundation.destroy()},c.prototype.listen=function(f,u,h){this.root.addEventListener(f,u,h)},c.prototype.unlisten=function(f,u,h){this.root.removeEventListener(f,u,h)},c.prototype.emit=function(f,u,h){h===void 0&&(h=!1);var d;typeof CustomEvent=="function"?d=new CustomEvent(f,{bubbles:h,detail:u}):(d=document.createEvent("CustomEvent"),d.initCustomEvent(f,h,!1,u)),this.root.dispatchEvent(d)},c}();r.MDCComponent=l,r.default=l},"./packages/mdc-base/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.MDCFoundation=void 0;var i=function(){function o(a){a===void 0&&(a={}),this.adapter=a}return Object.defineProperty(o,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.destroy=function(){},o}();r.MDCFoundation=i,r.default=i},"./packages/mdc-dom/events.ts":function(n,r,s){/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.applyPassive=void 0;function i(a){return a===void 0&&(a=window),o(a)?{passive:!0}:!1}r.applyPassive=i;function o(a){a===void 0&&(a=window);var l=!1;try{var c={get passive(){return l=!0,!1}},f=function(){};a.document.addEventListener("test",f,c),a.document.removeEventListener("test",f,c)}catch{l=!1}return l}},"./packages/mdc-dom/ponyfill.ts":function(n,r,s){/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.estimateScrollWidth=r.matches=r.closest=void 0;function i(l,c){if(l.closest)return l.closest(c);for(var f=l;f;){if(o(f,c))return f;f=f.parentElement}return null}r.closest=i;function o(l,c){var f=l.matches||l.webkitMatchesSelector||l.msMatchesSelector;return f.call(l,c)}r.matches=o;function a(l){var c=l;if(c.offsetParent!==null)return c.scrollWidth;var f=c.cloneNode(!0);f.style.setProperty("position","absolute"),f.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(f);var u=f.scrollWidth;return document.documentElement.removeChild(f),u}r.estimateScrollWidth=a},"./packages/mdc-ripple/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var g=function(v,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(y[w]=S[w])},g(v,b)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__createBinding||(Object.create?function(g,m,v,b){b===void 0&&(b=v),Object.defineProperty(g,b,{enumerable:!0,get:function(){return m[v]}})}:function(g,m,v,b){b===void 0&&(b=v),g[b]=m[v]}),a=this&&this.__setModuleDefault||(Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m}),l=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&o(m,g,v);return a(m,g),m};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRipple=void 0;var c=s("./packages/mdc-base/component.ts"),f=s("./packages/mdc-dom/events.ts"),u=s("./packages/mdc-dom/ponyfill.ts"),h=s("./packages/mdc-ripple/foundation.ts"),d=l(s("./packages/mdc-ripple/util.ts")),p=function(g){i(m,g);function m(){var v=g!==null&&g.apply(this,arguments)||this;return v.disabled=!1,v}return m.attachTo=function(v,b){b===void 0&&(b={isUnbounded:void 0});var y=new m(v);return b.isUnbounded!==void 0&&(y.unbounded=b.isUnbounded),y},m.createAdapter=function(v){return{addClass:function(y){return v.root.classList.add(y)},browserSupportsCssVars:function(){return d.supportsCssVariables(window)},computeBoundingRect:function(){return v.root.getBoundingClientRect()},containsEventTarget:function(y){return v.root.contains(y)},deregisterDocumentInteractionHandler:function(y,S){return document.documentElement.removeEventListener(y,S,f.applyPassive())},deregisterInteractionHandler:function(y,S){return v.root.removeEventListener(y,S,f.applyPassive())},deregisterResizeHandler:function(y){return window.removeEventListener("resize",y)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return u.matches(v.root,":active")},isSurfaceDisabled:function(){return!!v.disabled},isUnbounded:function(){return!!v.unbounded},registerDocumentInteractionHandler:function(y,S){return document.documentElement.addEventListener(y,S,f.applyPassive())},registerInteractionHandler:function(y,S){return v.root.addEventListener(y,S,f.applyPassive())},registerResizeHandler:function(y){return window.addEventListener("resize",y)},removeClass:function(y){return v.root.classList.remove(y)},updateCssVariable:function(y,S){return v.root.style.setProperty(y,S)}}},Object.defineProperty(m.prototype,"unbounded",{get:function(){return!!this.isUnbounded},set:function(b){this.isUnbounded=!!b,this.setUnbounded()},enumerable:!1,configurable:!0}),m.prototype.activate=function(){this.foundation.activate()},m.prototype.deactivate=function(){this.foundation.deactivate()},m.prototype.layout=function(){this.foundation.layout()},m.prototype.getDefaultFoundation=function(){return new h.MDCRippleFoundation(m.createAdapter(this))},m.prototype.initialSyncWithDOM=function(){var v=this.root;this.isUnbounded="mdcRippleIsUnbounded"in v.dataset},m.prototype.setUnbounded=function(){this.foundation.setUnbounded(!!this.isUnbounded)},m}(c.MDCComponent);r.MDCRipple=p},"./packages/mdc-ripple/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.numbers=r.strings=r.cssClasses=void 0,r.cssClasses={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},r.strings={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},r.numbers={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300}},"./packages/mdc-ripple/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var g=function(v,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(y[w]=S[w])},g(v,b)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(g){for(var m,v=1,b=arguments.length;v<b;v++){m=arguments[v];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(g[y]=m[y])}return g},o.apply(this,arguments)},a=this&&this.__values||function(g){var m=typeof Symbol=="function"&&Symbol.iterator,v=m&&g[m],b=0;if(v)return v.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&b>=g.length&&(g=void 0),{value:g&&g[b++],done:!g}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRippleFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-ripple/constants.ts"),f=s("./packages/mdc-ripple/util.ts"),u=["touchstart","pointerdown","mousedown","keydown"],h=["touchend","pointerup","mouseup","contextmenu"],d=[],p=function(g){i(m,g);function m(v){var b=g.call(this,o(o({},m.defaultAdapter),v))||this;return b.activationAnimationHasEnded=!1,b.activationTimer=0,b.fgDeactivationRemovalTimer=0,b.fgScale="0",b.frame={width:0,height:0},b.initialSize=0,b.layoutFrame=0,b.maxRadius=0,b.unboundedCoords={left:0,top:0},b.activationState=b.defaultActivationState(),b.activationTimerCallback=function(){b.activationAnimationHasEnded=!0,b.runDeactivationUXLogicIfReady()},b.activateHandler=function(y){b.activateImpl(y)},b.deactivateHandler=function(){b.deactivateImpl()},b.focusHandler=function(){b.handleFocus()},b.blurHandler=function(){b.handleBlur()},b.resizeHandler=function(){b.layout()},b}return Object.defineProperty(m,"cssClasses",{get:function(){return c.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(m,"strings",{get:function(){return c.strings},enumerable:!1,configurable:!0}),Object.defineProperty(m,"numbers",{get:function(){return c.numbers},enumerable:!1,configurable:!0}),Object.defineProperty(m,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),m.prototype.init=function(){var v=this,b=this.supportsPressRipple();if(this.registerRootHandlers(b),b){var y=m.cssClasses,S=y.ROOT,w=y.UNBOUNDED;requestAnimationFrame(function(){v.adapter.addClass(S),v.adapter.isUnbounded()&&(v.adapter.addClass(w),v.layoutInternal())})}},m.prototype.destroy=function(){var v=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(m.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(m.cssClasses.FG_DEACTIVATION));var b=m.cssClasses,y=b.ROOT,S=b.UNBOUNDED;requestAnimationFrame(function(){v.adapter.removeClass(y),v.adapter.removeClass(S),v.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},m.prototype.activate=function(v){this.activateImpl(v)},m.prototype.deactivate=function(){this.deactivateImpl()},m.prototype.layout=function(){var v=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){v.layoutInternal(),v.layoutFrame=0})},m.prototype.setUnbounded=function(v){var b=m.cssClasses.UNBOUNDED;v?this.adapter.addClass(b):this.adapter.removeClass(b)},m.prototype.handleFocus=function(){var v=this;requestAnimationFrame(function(){return v.adapter.addClass(m.cssClasses.BG_FOCUSED)})},m.prototype.handleBlur=function(){var v=this;requestAnimationFrame(function(){return v.adapter.removeClass(m.cssClasses.BG_FOCUSED)})},m.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},m.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},m.prototype.registerRootHandlers=function(v){var b,y;if(v){try{for(var S=a(u),w=S.next();!w.done;w=S.next()){var E=w.value;this.adapter.registerInteractionHandler(E,this.activateHandler)}}catch(A){b={error:A}}finally{try{w&&!w.done&&(y=S.return)&&y.call(S)}finally{if(b)throw b.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},m.prototype.registerDeactivationHandlers=function(v){var b,y;if(v.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var S=a(h),w=S.next();!w.done;w=S.next()){var E=w.value;this.adapter.registerDocumentInteractionHandler(E,this.deactivateHandler)}}catch(A){b={error:A}}finally{try{w&&!w.done&&(y=S.return)&&y.call(S)}finally{if(b)throw b.error}}},m.prototype.deregisterRootHandlers=function(){var v,b;try{for(var y=a(u),S=y.next();!S.done;S=y.next()){var w=S.value;this.adapter.deregisterInteractionHandler(w,this.activateHandler)}}catch(E){v={error:E}}finally{try{S&&!S.done&&(b=y.return)&&b.call(y)}finally{if(v)throw v.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},m.prototype.deregisterDeactivationHandlers=function(){var v,b;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var y=a(h),S=y.next();!S.done;S=y.next()){var w=S.value;this.adapter.deregisterDocumentInteractionHandler(w,this.deactivateHandler)}}catch(E){v={error:E}}finally{try{S&&!S.done&&(b=y.return)&&b.call(y)}finally{if(v)throw v.error}}},m.prototype.removeCssVars=function(){var v=this,b=m.strings,y=Object.keys(b);y.forEach(function(S){S.indexOf("VAR_")===0&&v.adapter.updateCssVariable(b[S],null)})},m.prototype.activateImpl=function(v){var b=this;if(!this.adapter.isSurfaceDisabled()){var y=this.activationState;if(!y.isActivated){var S=this.previousActivationEvent,w=S&&v!==void 0&&S.type!==v.type;if(!w){y.isActivated=!0,y.isProgrammatic=v===void 0,y.activationEvent=v,y.wasActivatedByPointer=y.isProgrammatic?!1:v!==void 0&&(v.type==="mousedown"||v.type==="touchstart"||v.type==="pointerdown");var E=v!==void 0&&d.length>0&&d.some(function(A){return b.adapter.containsEventTarget(A)});if(E){this.resetActivationState();return}v!==void 0&&(d.push(v.target),this.registerDeactivationHandlers(v)),y.wasElementMadeActive=this.checkElementMadeActive(v),y.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){d=[],!y.wasElementMadeActive&&v!==void 0&&(v.key===" "||v.keyCode===32)&&(y.wasElementMadeActive=b.checkElementMadeActive(v),y.wasElementMadeActive&&b.animateActivation()),y.wasElementMadeActive||(b.activationState=b.defaultActivationState())})}}}},m.prototype.checkElementMadeActive=function(v){return v!==void 0&&v.type==="keydown"?this.adapter.isSurfaceActive():!0},m.prototype.animateActivation=function(){var v=this,b=m.strings,y=b.VAR_FG_TRANSLATE_START,S=b.VAR_FG_TRANSLATE_END,w=m.cssClasses,E=w.FG_DEACTIVATION,A=w.FG_ACTIVATION,O=m.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var z="",N="";if(!this.adapter.isUnbounded()){var k=this.getFgTranslationCoordinates(),le=k.startPoint,$=k.endPoint;z=le.x+"px, "+le.y+"px",N=$.x+"px, "+$.y+"px"}this.adapter.updateCssVariable(y,z),this.adapter.updateCssVariable(S,N),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(E),this.adapter.computeBoundingRect(),this.adapter.addClass(A),this.activationTimer=setTimeout(function(){v.activationTimerCallback()},O)},m.prototype.getFgTranslationCoordinates=function(){var v=this.activationState,b=v.activationEvent,y=v.wasActivatedByPointer,S;y?S=f.getNormalizedEventCoords(b,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):S={x:this.frame.width/2,y:this.frame.height/2},S={x:S.x-this.initialSize/2,y:S.y-this.initialSize/2};var w={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:S,endPoint:w}},m.prototype.runDeactivationUXLogicIfReady=function(){var v=this,b=m.cssClasses.FG_DEACTIVATION,y=this.activationState,S=y.hasDeactivationUXRun,w=y.isActivated,E=S||!w;E&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(b),this.fgDeactivationRemovalTimer=setTimeout(function(){v.adapter.removeClass(b)},c.numbers.FG_DEACTIVATION_MS))},m.prototype.rmBoundedActivationClasses=function(){var v=m.cssClasses.FG_ACTIVATION;this.adapter.removeClass(v),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},m.prototype.resetActivationState=function(){var v=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return v.previousActivationEvent=void 0},m.numbers.TAP_DELAY_MS)},m.prototype.deactivateImpl=function(){var v=this,b=this.activationState;if(b.isActivated){var y=o({},b);b.isProgrammatic?(requestAnimationFrame(function(){v.animateDeactivation(y)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){v.activationState.hasDeactivationUXRun=!0,v.animateDeactivation(y),v.resetActivationState()}))}},m.prototype.animateDeactivation=function(v){var b=v.wasActivatedByPointer,y=v.wasElementMadeActive;(b||y)&&this.runDeactivationUXLogicIfReady()},m.prototype.layoutInternal=function(){var v=this;this.frame=this.adapter.computeBoundingRect();var b=Math.max(this.frame.height,this.frame.width),y=function(){var E=Math.sqrt(Math.pow(v.frame.width,2)+Math.pow(v.frame.height,2));return E+m.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?b:y();var S=Math.floor(b*m.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&S%2!==0?this.initialSize=S-1:this.initialSize=S,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},m.prototype.updateLayoutCssVars=function(){var v=m.strings,b=v.VAR_FG_SIZE,y=v.VAR_LEFT,S=v.VAR_TOP,w=v.VAR_FG_SCALE;this.adapter.updateCssVariable(b,this.initialSize+"px"),this.adapter.updateCssVariable(w,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(y,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(S,this.unboundedCoords.top+"px"))},m}(l.MDCFoundation);r.MDCRippleFoundation=p,r.default=p},"./packages/mdc-ripple/util.ts":function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getNormalizedEventCoords=r.supportsCssVariables=void 0;var i;function o(l,c){c===void 0&&(c=!1);var f=l.CSS,u=i;if(typeof i=="boolean"&&!c)return i;var h=f&&typeof f.supports=="function";if(!h)return!1;var d=f.supports("--css-vars","yes"),p=f.supports("(--css-vars: yes)")&&f.supports("color","#00000000");return u=d||p,c||(i=u),u}r.supportsCssVariables=o;function a(l,c,f){if(!l)return{x:0,y:0};var u=c.x,h=c.y,d=u+f.left,p=h+f.top,g,m;if(l.type==="touchstart"){var v=l;g=v.changedTouches[0].pageX-d,m=v.changedTouches[0].pageY-p}else{var b=l;g=b.pageX-d,m=b.pageY-p}return{x:g,y:m}}r.getNormalizedEventCoords=a},"./packages/mdc-segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/index.ts"),r),o(s("./packages/mdc-segmented-button/segment/index.ts"),r),o(s("./packages/mdc-segmented-button/types.ts"),r)},"./packages/mdc-segmented-button/segment/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segment/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var d=function(g,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(v[y]=b[y])},d(g,m)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(p,g);function m(){this.constructor=p}p.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(d){for(var p,g=1,m=arguments.length;g<m;g++){p=arguments[g];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(d[v]=p[v])}return d},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegment=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-ripple/component.ts"),c=s("./packages/mdc-ripple/foundation.ts"),f=s("./packages/mdc-segmented-button/segment/constants.ts"),u=s("./packages/mdc-segmented-button/segment/foundation.ts"),h=function(d){i(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(p.prototype,"ripple",{get:function(){return this.rippleComponent},enumerable:!1,configurable:!0}),p.attachTo=function(g){return new p(g)},p.prototype.initialize=function(g){var m=this;g===void 0&&(g=function(y,S){return new l.MDCRipple(y,S)});var v=o(o({},l.MDCRipple.createAdapter(this)),{computeBoundingRect:function(){return m.foundation.getDimensions()}});this.rippleComponent=g(this.root,new c.MDCRippleFoundation(v))},p.prototype.initialSyncWithDOM=function(){var g=this;this.handleClick=function(){g.foundation.handleClick()},this.listen(f.events.CLICK,this.handleClick)},p.prototype.destroy=function(){this.ripple.destroy(),this.unlisten(f.events.CLICK,this.handleClick),d.prototype.destroy.call(this)},p.prototype.getDefaultFoundation=function(){var g=this,m={isSingleSelect:function(){return g.isSingleSelect},getAttr:function(b){return g.root.getAttribute(b)},setAttr:function(b,y){g.root.setAttribute(b,y)},addClass:function(b){g.root.classList.add(b)},removeClass:function(b){g.root.classList.remove(b)},hasClass:function(b){return g.root.classList.contains(b)},notifySelectedChange:function(b){g.emit(f.events.SELECTED,{index:g.index,selected:b,segmentId:g.getSegmentId()},!0)},getRootBoundingClientRect:function(){return g.root.getBoundingClientRect()}};return new u.MDCSegmentedButtonSegmentFoundation(m)},p.prototype.setIndex=function(g){this.index=g},p.prototype.setIsSingleSelect=function(g){this.isSingleSelect=g},p.prototype.isSelected=function(){return this.foundation.isSelected()},p.prototype.setSelected=function(){this.foundation.setSelected()},p.prototype.setUnselected=function(){this.foundation.setUnselected()},p.prototype.getSegmentId=function(){return this.foundation.getSegmentId()},p}(a.MDCComponent);r.MDCSegmentedButtonSegment=h},"./packages/mdc-segmented-button/segment/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.attributes=r.booleans=void 0,r.booleans={TRUE:"true",FALSE:"false"},r.attributes={ARIA_CHECKED:"aria-checked",ARIA_PRESSED:"aria-pressed",DATA_SEGMENT_ID:"data-segment-id"},r.events={CLICK:"click",SELECTED:"selected"},r.cssClasses={SELECTED:"mdc-segmented-button__segment--selected"}},"./packages/mdc-segmented-button/segment/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(d,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},u(d,p)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(h,d);function p(){this.constructor=h}h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var h,d=1,p=arguments.length;d<p;d++){h=arguments[d];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(u[g]=h[g])}return u},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegmentFoundation=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=s("./packages/mdc-segmented-button/segment/constants.ts"),c={bottom:0,height:0,left:0,right:0,top:0,width:0},f=function(u){i(h,u);function h(d){return u.call(this,o(o({},h.defaultAdapter),d))||this}return Object.defineProperty(h,"defaultAdapter",{get:function(){return{isSingleSelect:function(){return!1},getAttr:function(){return""},setAttr:function(){},addClass:function(){},removeClass:function(){},hasClass:function(){return!1},notifySelectedChange:function(){},getRootBoundingClientRect:function(){return c}}},enumerable:!1,configurable:!0}),h.prototype.isSelected=function(){return this.adapter.hasClass(l.cssClasses.SELECTED)},h.prototype.setSelected=function(){this.adapter.addClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.TRUE)},h.prototype.setUnselected=function(){this.adapter.removeClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.FALSE)},h.prototype.getSegmentId=function(){var d;return(d=this.adapter.getAttr(l.attributes.DATA_SEGMENT_ID))!==null&&d!==void 0?d:void 0},h.prototype.handleClick=function(){this.adapter.isSingleSelect()?this.setSelected():this.toggleSelection(),this.adapter.notifySelectedChange(this.isSelected())},h.prototype.getDimensions=function(){return this.adapter.getRootBoundingClientRect()},h.prototype.toggleSelection=function(){this.isSelected()?this.setUnselected():this.setSelected()},h.prototype.setAriaAttr=function(d){this.adapter.isSingleSelect()?this.adapter.setAttr(l.attributes.ARIA_CHECKED,d):this.adapter.setAttr(l.attributes.ARIA_PRESSED,d)},h}(a.MDCFoundation);r.MDCSegmentedButtonSegmentFoundation=f},"./packages/mdc-segmented-button/segment/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segment/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segment/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segment/component.ts"),r)},"./packages/mdc-segmented-button/segmented-button/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segmented-button/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var h=function(p,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])},h(p,g)};return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(d,p);function g(){this.constructor=d}d.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}(),o=this&&this.__values||function(h){var d=typeof Symbol=="function"&&Symbol.iterator,p=d&&h[d],g=0;if(p)return p.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&g>=h.length&&(h=void 0),{value:h&&h[g++],done:!h}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButton=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-segmented-button/segment/component.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),u=function(h){i(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.attachTo=function(p){return new d(p)},Object.defineProperty(d.prototype,"segments",{get:function(){return this.segmentsList.slice()},enumerable:!1,configurable:!0}),d.prototype.initialize=function(p){p===void 0&&(p=function(m){return new l.MDCSegmentedButtonSegment(m)}),this.segmentFactory=p,this.segmentsList=this.instantiateSegments(this.segmentFactory)},d.prototype.instantiateSegments=function(p){var g=[].slice.call(this.root.querySelectorAll(c.selectors.SEGMENT));return g.map(function(m){return p(m)})},d.prototype.initialSyncWithDOM=function(){var p=this;this.handleSelected=function(y){p.foundation.handleSelected(y.detail)},this.listen(c.events.SELECTED,this.handleSelected);for(var g=this.foundation.isSingleSelect(),m=0;m<this.segmentsList.length;m++){var v=this.segmentsList[m];v.setIndex(m),v.setIsSingleSelect(g)}var b=this.segmentsList.filter(function(y){return y.isSelected()});if(g&&b.length===0&&this.segmentsList.length>0)throw new Error("No segment selected in singleSelect mdc-segmented-button");if(g&&b.length>1)throw new Error("Multiple segments selected in singleSelect mdc-segmented-button")},d.prototype.destroy=function(){var p,g;try{for(var m=o(this.segmentsList),v=m.next();!v.done;v=m.next()){var b=v.value;b.destroy()}}catch(y){p={error:y}}finally{try{v&&!v.done&&(g=m.return)&&g.call(m)}finally{if(p)throw p.error}}this.unlisten(c.events.SELECTED,this.handleSelected),h.prototype.destroy.call(this)},d.prototype.getDefaultFoundation=function(){var p=this,g={hasClass:function(v){return p.root.classList.contains(v)},getSegments:function(){return p.mappedSegments()},selectSegment:function(v){var b=p.mappedSegments().find(function(y){return y.index===v||y.segmentId===v});b&&p.segmentsList[b.index].setSelected()},unselectSegment:function(v){var b=p.mappedSegments().find(function(y){return y.index===v||y.segmentId===v});b&&p.segmentsList[b.index].setUnselected()},notifySelectedChange:function(v){p.emit(c.events.CHANGE,v,!0)}};return new f.MDCSegmentedButtonFoundation(g)},d.prototype.getSelectedSegments=function(){return this.foundation.getSelectedSegments()},d.prototype.selectSegment=function(p){this.foundation.selectSegment(p)},d.prototype.unselectSegment=function(p){this.foundation.unselectSegment(p)},d.prototype.isSegmentSelected=function(p){return this.foundation.isSegmentSelected(p)},d.prototype.mappedSegments=function(){return this.segmentsList.map(function(p,g){return{index:g,selected:p.isSelected(),segmentId:p.getSegmentId()}})},d}(a.MDCComponent);r.MDCSegmentedButton=u},"./packages/mdc-segmented-button/segmented-button/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.selectors=void 0,r.selectors={SEGMENT:".mdc-segmented-button__segment"},r.events={SELECTED:"selected",CHANGE:"change"},r.cssClasses={SINGLE_SELECT:"mdc-segmented-button--single-select"}},"./packages/mdc-segmented-button/segmented-button/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(d,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},u(d,p)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(h,d);function p(){this.constructor=h}h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var h,d=1,p=arguments.length;d<p;d++){h=arguments[d];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(u[g]=h[g])}return u},o.apply(this,arguments)},a=this&&this.__values||function(u){var h=typeof Symbol=="function"&&Symbol.iterator,d=h&&u[h],p=0;if(d)return d.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&p>=u.length&&(u=void 0),{value:u&&u[p++],done:!u}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=function(u){i(h,u);function h(d){return u.call(this,o(o({},h.defaultAdapter),d))||this}return Object.defineProperty(h,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},getSegments:function(){return[]},selectSegment:function(){},unselectSegment:function(){},notifySelectedChange:function(){}}},enumerable:!1,configurable:!0}),h.prototype.selectSegment=function(d){this.adapter.selectSegment(d)},h.prototype.unselectSegment=function(d){this.adapter.unselectSegment(d)},h.prototype.getSelectedSegments=function(){return this.adapter.getSegments().filter(function(d){return d.selected})},h.prototype.isSegmentSelected=function(d){return this.adapter.getSegments().some(function(p){return(p.index===d||p.segmentId===d)&&p.selected})},h.prototype.isSingleSelect=function(){return this.adapter.hasClass(c.cssClasses.SINGLE_SELECT)},h.prototype.handleSelected=function(d){this.isSingleSelect()&&this.unselectPrevSelected(d.index),this.adapter.notifySelectedChange(d)},h.prototype.unselectPrevSelected=function(d){var p,g;try{for(var m=a(this.getSelectedSegments()),v=m.next();!v.done;v=m.next()){var b=v.value;b.index!==d&&this.unselectSegment(b.index)}}catch(y){p={error:y}}finally{try{v&&!v.done&&(g=m.return)&&g.call(m)}finally{if(p)throw p.error}}},h}(l.MDCFoundation);r.MDCSegmentedButtonFoundation=f},"./packages/mdc-segmented-button/segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/component.ts"),r)},"./packages/mdc-segmented-button/types.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})}})})})(Q2);var J2=Q2.exports;function Ep(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}const WV=e=>({segment:e&4}),wp=e=>({segment:e[28]});function YV(e){let t;const n=e[17].default,r=xt(n,e,e[19],wp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&524292)&&Gt(r,n,s,s[19],t?kt(n,s[19],i,WV):Bt(s[19]),wp)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function ZV(e){let t,n,r;return t=new Vi({props:{key:"SMUI:segmented-button:segment:initialSelected",value:e[7][e[30]],$$slots:{default:[YV]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment),n=wt()},m(s,i){nt(t,s,i),De(s,n,i),r=!0},p(s,i){const o={};i&4&&(o.value=s[7][s[30]]),i&524292&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){r||(ie(t.$$.fragment,s),r=!0)},o(s){de(t.$$.fragment,s),r=!1},d(s){rt(t,s),s&&Me(n)}}}function Tp(e,t){let n,r,s;return r=new Vi({props:{key:"SMUI:segmented-button:segment:index",value:t[30],$$slots:{default:[ZV]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=En(),ot(r.$$.fragment),this.first=n},m(i,o){De(i,n,o),nt(r,i,o),s=!0},p(i,o){t=i;const a={};o&4&&(a.value=t[30]),o&524292&&(a.$$scope={dirty:o,ctx:t}),r.$set(a)},i(i){s||(ie(r.$$.fragment,i),s=!0)},o(i){de(r.$$.fragment,i),s=!1},d(i){i&&Me(n),rt(r,i)}}}function KV(e){let t,n=[],r=new Map,s,i,o,a,l,c,f=e[2];const u=p=>p[3](p[28]);for(let p=0;p<f.length;p+=1){let g=Ep(e,f,p),m=u(g);r.set(m,n[p]=Tp(m,g))}let h=[{class:s=dt({[e[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":e[4]})},{role:i=e[4]?"radiogroup":"group"},e[12]],d={};for(let p=0;p<h.length;p+=1)d=je(d,h[p]);return{c(){t=Lt("div");for(let p=0;p<n.length;p+=1)n[p].c();Pt(t,d)},m(p,g){De(p,t,g);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(t,null);e[18](t),a=!0,l||(c=[At(o=gn.call(null,t,e[0])),At(e[6].call(null,t)),Rt(t,"SMUISegmentedButtonSegment:mount",e[9]),Rt(t,"SMUISegmentedButtonSegment:unmount",e[10]),Rt(t,"selected",e[11])],l=!0)},p(p,[g]){g&524428&&(f=p[2],Yt(),n=Pg(n,g,u,1,p,f,r,t,Cg,Tp,null,Ep),Zt()),Pt(t,d=Ot(h,[(!a||g&18&&s!==(s=dt({[p[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":p[4]})))&&{class:s},(!a||g&16&&i!==(i=p[4]?"radiogroup":"group"))&&{role:i},g&4096&&p[12]])),o&&Vt(o.update)&&g&1&&o.update.call(null,p[0])},i(p){if(!a){for(let g=0;g<f.length;g+=1)ie(n[g]);a=!0}},o(p){for(let g=0;g<n.length;g+=1)de(n[g]);a=!1},d(p){p&&Me(t);for(let g=0;g<n.length;g+=1)n[g].d();e[18](null),l=!1,an(c)}}}function Cp(e,t){let n=new Set(e);for(let r of t)n.delete(r);return n}function QV(e,t,n){const r=["use","class","segments","key","singleSelect","selected","getElement"];let s=Et(t,r),i,{$$slots:o={},$$scope:a}=t;const l=wn(tn());let{use:c=[]}=t,{class:f=""}=t,{segments:u=[]}=t,{key:h=ne=>ne}=t,{singleSelect:d=!1}=t,{selected:p=d?void 0:[]}=t,g,m,v={},b=new WeakMap,y=u.map(ne=>d&&p===ne||!d&&p.indexOf(ne)!==-1);ur("SMUI:icon:context","segmented-button"),ur("SMUI:label:context","segmented-button");const S=Y2(d);xo(e,S,ne=>n(21,i=ne)),ur("SMUI:segmented-button:singleSelect",S);let w=d?p:new Set(p);ir(()=>(n(15,m=new J2.MDCSegmentedButtonFoundation({hasClass:ne=>V().classList.contains(ne),getSegments:()=>u.map((ne,H)=>({index:H,selected:d?p===ne:p.indexOf(ne)!==-1})),selectSegment:le,unselectSegment:$,notifySelectedChange:ne=>{ne.selected?le(ne.index):$(ne.index),Bn(V(),"change",ne)}})),m.init(),()=>{m.destroy()}));function E(ne){const H=ne.detail;N(H.segmentId,H)}function A(ne){const H=ne.detail;k(H.segmentId)}function O(ne){m&&m.handleSelected(ne.detail)}function z(ne){return ne instanceof Object?b.get(ne):v[ne]}function N(ne,H){ne instanceof Object?b.set(ne,H):v[ne]=H}function k(ne){ne instanceof Object?b.delete(ne):delete v[ne]}function le(ne){let H=u.indexOf(ne);H===-1&&(H=ne),d?p!==u[H]&&n(13,p=u[H]):p.indexOf(u[H])===-1&&(p.push(u[H]),n(13,p));const he=z(u[H]);he&&(he.selected=!0)}function $(ne){let H=u.indexOf(ne);if(H===-1&&(H=ne),d)p===u[H]&&n(13,p=null);else{const te=p.indexOf(u[H]);te!==-1&&(p.splice(te,1),n(13,p))}const he=z(u[H]);he&&(he.selected=!1)}function V(){return g}function Ge(ne){ct[ne?"unshift":"push"](()=>{g=ne,n(5,g)})}return e.$$set=ne=>{t=je(je({},t),vn(ne)),n(12,s=Et(t,r)),"use"in ne&&n(0,c=ne.use),"class"in ne&&n(1,f=ne.class),"segments"in ne&&n(2,u=ne.segments),"key"in ne&&n(3,h=ne.key),"singleSelect"in ne&&n(4,d=ne.singleSelect),"selected"in ne&&n(13,p=ne.selected),"$$scope"in ne&&n(19,a=ne.$$scope)},e.$$.update=()=>{if(e.$$.dirty&16&&Ag(S,i=d,i),e.$$.dirty&106512&&m&&d&&w!==p&&(w!=null&&m.unselectSegment(w),n(16,w=p),p!=null&&m.selectSegment(p)),e.$$.dirty&106516&&m&&!d){const ne=new Set(p),H=Cp(w,ne),he=Cp(ne,w);if(H.size||he.size){n(16,w=ne);for(let te of H){const oe=u.indexOf(te);oe!==-1&&m.unselectSegment(oe)}for(let te of he)m.selectSegment(u.indexOf(te))}}},[c,f,u,h,d,g,l,y,S,E,A,O,s,p,V,m,w,o,Ge,a]}class JV extends rn{constructor(t){super(),nn(this,t,QV,KV,jt,{use:0,class:1,segments:2,key:3,singleSelect:4,selected:13,getElement:14})}get getElement(){return this.$$.ctx[14]}}function Pp(e){let t;return{c(){t=Lt("div"),$t(t,"class","mdc-segmented-button__ripple")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function Lp(e){let t;return{c(){t=Lt("div"),$t(t,"class","mdc-segmented-button__segment__touch")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function eU(e){let t,n,r,s,i,o,a,l,c,f,u,h,d=e[4]&&Pp();const p=e[23].default,g=xt(p,e,e[22],null);let m=e[5]&&Lp(),v=[{class:r=dt({[e[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":e[5],"mdc-segmented-button__segment--selected":e[0],...e[8]})},{style:s=Object.entries(e[9]).map(Op).concat([e[3]]).join(" ")},{role:i=e[14]?"radio":void 0},{"aria-pressed":o=e[14]?void 0:e[0]?"true":"false"},{"aria-checked":a=e[14]?e[0]?"true":"false":void 0},e[10],e[19]],b={};for(let y=0;y<v.length;y+=1)b=je(b,v[y]);return{c(){t=Lt("button"),d&&d.c(),n=En(),g&&g.c(),m&&m.c(),Pt(t,b)},m(y,S){De(y,t,S),d&&d.m(t,null),Sn(t,n),g&&g.m(t,null),m&&m.m(t,null),t.autofocus&&t.focus(),e[24](t),f=!0,u||(h=[At(l=Yr.call(null,t,{ripple:e[4],unbounded:!1,addClass:e[16],removeClass:e[17],addStyle:e[18]})),At(e[11].call(null,t)),At(c=gn.call(null,t,e[1])),Rt(t,"click",e[25])],u=!0)},p(y,S){y[4]?d||(d=Pp(),d.c(),d.m(t,n)):d&&(d.d(1),d=null),g&&g.p&&(!f||S[0]&4194304)&&Gt(g,p,y,y[22],f?kt(p,y[22],S,null):Bt(y[22]),null),y[5]?m||(m=Lp(),m.c(),m.m(t,null)):m&&(m.d(1),m=null),Pt(t,b=Ot(v,[(!f||S[0]&293&&r!==(r=dt({[y[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":y[5],"mdc-segmented-button__segment--selected":y[0],...y[8]})))&&{class:r},(!f||S[0]&520&&s!==(s=Object.entries(y[9]).map(Op).concat([y[3]]).join(" ")))&&{style:s},{role:i},(!f||S[0]&1&&o!==(o=y[14]?void 0:y[0]?"true":"false"))&&{"aria-pressed":o},(!f||S[0]&1&&a!==(a=y[14]?y[0]?"true":"false":void 0))&&{"aria-checked":a},S[0]&1024&&y[10],S[0]&524288&&y[19]])),l&&Vt(l.update)&&S[0]&16&&l.update.call(null,{ripple:y[4],unbounded:!1,addClass:y[16],removeClass:y[17],addStyle:y[18]}),c&&Vt(c.update)&&S[0]&2&&c.update.call(null,y[1])},i(y){f||(ie(g,y),f=!0)},o(y){de(g,y),f=!1},d(y){y&&Me(t),d&&d.d(),g&&g.d(y),m&&m.d(),e[24](null),u=!1,an(h)}}}const Op=([e,t])=>`${e}: ${t};`;function tU(e,t,n){const r=["use","class","style","segment","ripple","touch","selected","getElement"];let s=Et(t,r),i,o,a,{$$slots:l={},$$scope:c}=t;const f=wn(tn());let u=()=>{};function h(ke){return ke===u}let{use:d=[]}=t,{class:p=""}=t,{style:g=""}=t,{segment:m}=t,{ripple:v=!0}=t,{touch:b=!1}=t;const y=dr("SMUI:segmented-button:segment:initialSelected");xo(e,y,ke=>n(28,a=ke));let{selected:S=u}=t,w=!h(S);h(S)&&(S=a);let E,A,O={},z={},N={};const k=dr("SMUI:segmented-button:singleSelect");xo(e,k,ke=>n(27,o=ke));const le=dr("SMUI:segmented-button:segment:index");if(xo(e,le,ke=>n(26,i=ke)),!m)throw new Error("The segment property is required! It should be passed down from the SegmentedButton to the Segment.");ir(()=>{n(6,A=new J2.MDCSegmentedButtonSegmentFoundation({isSingleSelect:()=>o,getAttr:ne,setAttr:H,addClass:V,removeClass:Ge,hasClass:$,notifySelectedChange:Ct=>{n(0,S=Ct),Bn(te(),"selected",{index:i,selected:S,segmentId:m})},getRootBoundingClientRect:()=>te().getBoundingClientRect()}));const ke={segmentId:m,get selected(){return S},set selected(Ct){S!==Ct&&n(0,S=Ct)}};return Bn(te(),"SMUISegmentedButtonSegment:mount",ke),A.init(),()=>{Bn(te(),"SMUISegmentedButtonSegment:unmount",ke),A.destroy()}});function $(ke){return ke in O?O[ke]:te().classList.contains(ke)}function V(ke){O[ke]||n(8,O[ke]=!0,O)}function Ge(ke){(!(ke in O)||O[ke])&&n(8,O[ke]=!1,O)}function ne(ke){var Ct;return ke in N?(Ct=N[ke])!==null&&Ct!==void 0?Ct:null:te().getAttribute(ke)}function H(ke,Ct){N[ke]!==Ct&&n(10,N[ke]=Ct,N)}function he(ke,Ct){z[ke]!=Ct&&(Ct===""||Ct==null?(delete z[ke],n(9,z)):n(9,z[ke]=Ct,z))}function te(){return E}function oe(ke){ct[ke?"unshift":"push"](()=>{E=ke,n(7,E)})}const lt=ke=>!ke.defaultPrevented&&A&&!w&&A.handleClick();return e.$$set=ke=>{t=je(je({},t),vn(ke)),n(19,s=Et(t,r)),"use"in ke&&n(1,d=ke.use),"class"in ke&&n(2,p=ke.class),"style"in ke&&n(3,g=ke.style),"segment"in ke&&n(20,m=ke.segment),"ripple"in ke&&n(4,v=ke.ripple),"touch"in ke&&n(5,b=ke.touch),"selected"in ke&&n(0,S=ke.selected),"$$scope"in ke&&n(22,c=ke.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&65&&A&&A.isSelected()&&!S&&A.setUnselected(),e.$$.dirty[0]&65&&A&&!A.isSelected()&&S&&A.setSelected()},[S,d,p,g,v,b,A,E,O,z,N,f,y,w,k,le,V,Ge,he,s,m,te,c,l,oe,lt]}class nU extends rn{constructor(t){super(),nn(this,t,tU,eU,jt,{use:1,class:2,style:3,segment:20,ripple:4,touch:5,selected:0,getElement:21},null,[-1,-1])}get getElement(){return this.$$.ctx[21]}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var rU={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var sU=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.shakeAnimationEndHandler=function(){r.handleShakeAnimationEnd()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return rU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(n){var r=t.cssClasses.LABEL_SHAKE;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.float=function(n){var r=t.cssClasses,s=r.LABEL_FLOAT_ABOVE,i=r.LABEL_SHAKE;n?this.adapter.addClass(s):(this.adapter.removeClass(s),this.adapter.removeClass(i))},t.prototype.setRequired=function(n){var r=t.cssClasses.LABEL_REQUIRED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleShakeAnimationEnd=function(){var n=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(n)},t}(xr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Us={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var iU=function(e){Jn(t,e);function t(n){var r=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return r.transitionEndHandler=function(s){r.handleTransitionEnd(s)},r}return Object.defineProperty(t,"cssClasses",{get:function(){return Us},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},t.prototype.activate=function(){this.adapter.removeClass(Us.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(Us.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(n){this.adapter.setStyle("transform-origin",n+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(Us.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(n){var r=this.adapter.hasClass(Us.LINE_RIPPLE_DEACTIVATING);n.propertyName==="opacity"&&r&&(this.adapter.removeClass(Us.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(Us.LINE_RIPPLE_DEACTIVATING))},t}(xr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var oU={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},Rp={NOTCH_ELEMENT_PADDING:8},aU={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var lU=function(e){Jn(t,e);function t(n){return e.call(this,dn(dn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"strings",{get:function(){return oU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return aU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Rp},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.notch=function(n){var r=t.cssClasses.OUTLINE_NOTCHED;n>0&&(n+=Rp.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(n),this.adapter.addClass(r)},t.prototype.closeNotch=function(){var n=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(n),this.adapter.removeNotchWidthProperty()},t}(xr);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ru={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},cU={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},Mp={LABEL_SCALE:.75},fU=["pattern","min","max","required","step","minlength","maxlength"],uU=["color","date","datetime-local","month","range","time","week"];/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ip=["mousedown","touchstart"],Dp=["click","keydown"],dU=function(e){Jn(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this,dn(dn({},t.defaultAdapter),n))||this;return s.isFocused=!1,s.receivedUserInput=!1,s.valid=!0,s.useNativeValidation=!0,s.validateOnValueChange=!0,s.helperText=r.helperText,s.characterCounter=r.characterCounter,s.leadingIcon=r.leadingIcon,s.trailingIcon=r.trailingIcon,s.inputFocusHandler=function(){s.activateFocus()},s.inputBlurHandler=function(){s.deactivateFocus()},s.inputInputHandler=function(){s.handleInput()},s.setPointerXOffset=function(i){s.setTransformOrigin(i)},s.textFieldInteractionHandler=function(){s.handleTextFieldInteraction()},s.validationAttributeChangeHandler=function(i){s.handleValidationAttributeChange(i)},s}return Object.defineProperty(t,"cssClasses",{get:function(){return cU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ru},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Mp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat",{get:function(){var n=this.getNativeInput().type;return uU.indexOf(n)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n,r,s,i;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var o=bs(Ip),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.registerInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=bs(Dp),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.registerTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},t.prototype.destroy=function(){var n,r,s,i;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var o=bs(Ip),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.deregisterInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=bs(Dp),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.deregisterTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},t.prototype.handleTextFieldInteraction=function(){var n=this.adapter.getNativeInput();n&&n.disabled||(this.receivedUserInput=!0)},t.prototype.handleValidationAttributeChange=function(n){var r=this;n.some(function(s){return fU.indexOf(s)>-1?(r.styleValidity(!0),r.adapter.setLabelRequired(r.getNativeInput().required),!0):!1}),n.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},t.prototype.notchOutline=function(n){if(!(!this.adapter.hasOutline()||!this.adapter.hasLabel()))if(n){var r=this.adapter.getLabelWidth()*Mp.LABEL_SCALE;this.adapter.notchOutline(r)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.helperText&&(this.helperText.isPersistent()||!this.helperText.isValidation()||!this.valid)&&this.helperText.showToScreenReader()},t.prototype.setTransformOrigin=function(n){if(!(this.isDisabled()||this.adapter.hasOutline())){var r=n.touches,s=r?r[0]:n,i=s.target.getBoundingClientRect(),o=s.clientX-i.left;this.adapter.setLineRippleTransformOrigin(o)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var n=this.isValid();this.styleValidity(n),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},t.prototype.getValue=function(){return this.getNativeInput().value},t.prototype.setValue=function(n){if(this.getValue()!==n&&(this.getNativeInput().value=n),this.setcharacterCounter(n.length),this.validateOnValueChange){var r=this.isValid();this.styleValidity(r)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},t.prototype.setValid=function(n){this.valid=n,this.styleValidity(n);var r=!n&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(r)},t.prototype.setValidateOnValueChange=function(n){this.validateOnValueChange=n},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},t.prototype.setUseNativeValidation=function(n){this.useNativeValidation=n},t.prototype.isDisabled=function(){return this.getNativeInput().disabled},t.prototype.setDisabled=function(n){this.getNativeInput().disabled=n,this.styleDisabled(n)},t.prototype.setHelperTextContent=function(n){this.helperText&&this.helperText.setContent(n)},t.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon&&this.leadingIcon.setAriaLabel(n)},t.prototype.setLeadingIconContent=function(n){this.leadingIcon&&this.leadingIcon.setContent(n)},t.prototype.setTrailingIconAriaLabel=function(n){this.trailingIcon&&this.trailingIcon.setAriaLabel(n)},t.prototype.setTrailingIconContent=function(n){this.trailingIcon&&this.trailingIcon.setContent(n)},t.prototype.setcharacterCounter=function(n){if(this.characterCounter){var r=this.getNativeInput().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(n,r)}},t.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},t.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},t.prototype.styleValidity=function(n){var r=t.cssClasses.INVALID;if(n?this.adapter.removeClass(r):this.adapter.addClass(r),this.helperText){this.helperText.setValidity(n);var s=this.helperText.isValidation();if(!s)return;var i=this.helperText.isVisible(),o=this.helperText.getId();i&&o?this.adapter.setInputAttr(Ru.ARIA_DESCRIBEDBY,o):this.adapter.removeInputAttr(Ru.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused=function(n){var r=t.cssClasses.FOCUSED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.styleDisabled=function(n){var r=t.cssClasses,s=r.DISABLED,i=r.INVALID;n?(this.adapter.addClass(s),this.adapter.removeClass(i)):this.adapter.removeClass(s),this.leadingIcon&&this.leadingIcon.setDisabled(n),this.trailingIcon&&this.trailingIcon.setDisabled(n)},t.prototype.styleFloating=function(n){var r=t.cssClasses.LABEL_FLOATING;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.getNativeInput=function(){var n=this.adapter?this.adapter.getNativeInput():null;return n||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(xr);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ir={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},zr={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+Ir.ROOT};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var hU=function(e){Jn(t,e);function t(n){return e.call(this,dn(dn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return Ir},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return zr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.adapter.getAttr("id")},t.prototype.isVisible=function(){return this.adapter.getAttr(zr.ARIA_HIDDEN)!=="true"},t.prototype.setContent=function(n){this.adapter.setContent(n)},t.prototype.isPersistent=function(){return this.adapter.hasClass(Ir.HELPER_TEXT_PERSISTENT)},t.prototype.setPersistent=function(n){n?this.adapter.addClass(Ir.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(Ir.HELPER_TEXT_PERSISTENT)},t.prototype.isValidation=function(){return this.adapter.hasClass(Ir.HELPER_TEXT_VALIDATION_MSG)},t.prototype.setValidation=function(n){n?this.adapter.addClass(Ir.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(Ir.HELPER_TEXT_VALIDATION_MSG)},t.prototype.showToScreenReader=function(){this.adapter.removeAttr(zr.ARIA_HIDDEN)},t.prototype.setValidity=function(n){var r=this.adapter.hasClass(Ir.HELPER_TEXT_PERSISTENT),s=this.adapter.hasClass(Ir.HELPER_TEXT_VALIDATION_MSG),i=s&&!n;i?(this.showToScreenReader(),this.adapter.getAttr(zr.ROLE)==="alert"?this.refreshAlertRole():this.adapter.setAttr(zr.ROLE,"alert")):this.adapter.removeAttr(zr.ROLE),!r&&!i&&this.hide()},t.prototype.hide=function(){this.adapter.setAttr(zr.ARIA_HIDDEN,"true")},t.prototype.refreshAlertRole=function(){var n=this;this.adapter.removeAttr(zr.ROLE),requestAnimationFrame(function(){n.adapter.setAttr(zr.ROLE,"alert")})},t}(xr);function mU(e){let t,n,r,s,i,o,a,l;const c=e[22].default,f=xt(c,e,e[21],null);let u=[{class:n=dt({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(xp).concat([e[4]]).join(" ")},{for:s=e[5]||(e[11]?e[11].id:void 0)},e[12]],h={};for(let d=0;d<u.length;d+=1)h=je(h,u[d]);return{c(){t=Lt("label"),f&&f.c(),Pt(t,h)},m(d,p){De(d,t,p),f&&f.m(t,null),e[24](t),o=!0,a||(l=[At(i=gn.call(null,t,e[2])),At(e[10].call(null,t))],a=!0)},p(d,p){f&&f.p&&(!o||p&2097152)&&Gt(f,c,d,d[21],o?kt(c,d[21],p,null):Bt(d[21]),null),Pt(t,h=Ot(u,[(!o||p&267&&n!==(n=dt({[d[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":d[0],"mdc-floating-label--required":d[1],...d[8]})))&&{class:n},(!o||p&528&&r!==(r=Object.entries(d[9]).map(xp).concat([d[4]]).join(" ")))&&{style:r},(!o||p&32&&s!==(s=d[5]||(d[11]?d[11].id:void 0)))&&{for:s},p&4096&&d[12]])),i&&Vt(i.update)&&p&4&&i.update.call(null,d[2])},i(d){o||(ie(f,d),o=!0)},o(d){de(f,d),o=!1},d(d){d&&Me(t),f&&f.d(d),e[24](null),a=!1,an(l)}}}function pU(e){let t,n,r,s,i,o,a;const l=e[22].default,c=xt(l,e,e[21],null);let f=[{class:n=dt({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(Fp).concat([e[4]]).join(" ")},e[12]],u={};for(let h=0;h<f.length;h+=1)u=je(u,f[h]);return{c(){t=Lt("span"),c&&c.c(),Pt(t,u)},m(h,d){De(h,t,d),c&&c.m(t,null),e[23](t),i=!0,o||(a=[At(s=gn.call(null,t,e[2])),At(e[10].call(null,t))],o=!0)},p(h,d){c&&c.p&&(!i||d&2097152)&&Gt(c,l,h,h[21],i?kt(l,h[21],d,null):Bt(h[21]),null),Pt(t,u=Ot(f,[(!i||d&267&&n!==(n=dt({[h[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":h[0],"mdc-floating-label--required":h[1],...h[8]})))&&{class:n},(!i||d&528&&r!==(r=Object.entries(h[9]).map(Fp).concat([h[4]]).join(" ")))&&{style:r},d&4096&&h[12]])),s&&Vt(s.update)&&d&4&&s.update.call(null,h[2])},i(h){i||(ie(c,h),i=!0)},o(h){de(c,h),i=!1},d(h){h&&Me(t),c&&c.d(h),e[23](null),o=!1,an(a)}}}function gU(e){let t,n,r,s;const i=[pU,mU],o=[];function a(l,c){return l[6]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=En()},m(l,c){o[t].m(l,c),De(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(Yt(),de(o[f],1,1,()=>{o[f]=null}),Zt(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),ie(n,1),n.m(r.parentNode,r))},i(l){s||(ie(n),s=!0)},o(l){de(n),s=!1},d(l){o[t].d(l),l&&Me(r)}}}const Fp=([e,t])=>`${e}: ${t};`,xp=([e,t])=>`${e}: ${t};`;function vU(e,t,n){const r=["use","class","style","for","floatAbove","required","wrapped","shake","float","setRequired","getWidth","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;var a;const l=wn(tn());let{use:c=[]}=t,{class:f=""}=t,{style:u=""}=t,{for:h=void 0}=t,{floatAbove:d=!1}=t,{required:p=!1}=t,{wrapped:g=!1}=t,m,v,b={},y={},S=(a=dr("SMUI:generic:input:props"))!==null&&a!==void 0?a:{},w=d,E=p;ir(()=>{n(18,v=new sU({addClass:A,removeClass:O,getWidth:()=>{var te,oe;const lt=Ge(),ke=lt.cloneNode(!0);(te=lt.parentNode)===null||te===void 0||te.appendChild(ke),ke.classList.add("smui-floating-label--remove-transition"),ke.classList.add("smui-floating-label--force-size"),ke.classList.remove("mdc-floating-label--float-above");const Ct=ke.scrollWidth;return(oe=lt.parentNode)===null||oe===void 0||oe.removeChild(ke),Ct},registerInteractionHandler:(te,oe)=>Ge().addEventListener(te,oe),deregisterInteractionHandler:(te,oe)=>Ge().removeEventListener(te,oe)}));const he={get element(){return Ge()},addStyle:z,removeStyle:N};return Bn(m,"SMUIFloatingLabel:mount",he),v.init(),()=>{Bn(m,"SMUIFloatingLabel:unmount",he),v.destroy()}});function A(he){b[he]||n(8,b[he]=!0,b)}function O(he){(!(he in b)||b[he])&&n(8,b[he]=!1,b)}function z(he,te){y[he]!=te&&(te===""||te==null?(delete y[he],n(9,y)):n(9,y[he]=te,y))}function N(he){he in y&&(delete y[he],n(9,y))}function k(he){v.shake(he)}function le(he){n(0,d=he)}function $(he){n(1,p=he)}function V(){return v.getWidth()}function Ge(){return m}function ne(he){ct[he?"unshift":"push"](()=>{m=he,n(7,m)})}function H(he){ct[he?"unshift":"push"](()=>{m=he,n(7,m)})}return e.$$set=he=>{t=je(je({},t),vn(he)),n(12,s=Et(t,r)),"use"in he&&n(2,c=he.use),"class"in he&&n(3,f=he.class),"style"in he&&n(4,u=he.style),"for"in he&&n(5,h=he.for),"floatAbove"in he&&n(0,d=he.floatAbove),"required"in he&&n(1,p=he.required),"wrapped"in he&&n(6,g=he.wrapped),"$$scope"in he&&n(21,o=he.$$scope)},e.$$.update=()=>{e.$$.dirty&786433&&v&&w!==d&&(n(19,w=d),v.float(d)),e.$$.dirty&1310722&&v&&E!==p&&(n(20,E=p),v.setRequired(p))},[d,p,c,f,u,h,g,m,b,y,l,S,s,k,le,$,V,Ge,v,w,E,o,i,ne,H]}class eb extends rn{constructor(t){super(),nn(this,t,vU,gU,jt,{use:2,class:3,style:4,for:5,floatAbove:0,required:1,wrapped:6,shake:13,float:14,setRequired:15,getWidth:16,getElement:17})}get shake(){return this.$$.ctx[13]}get float(){return this.$$.ctx[14]}get setRequired(){return this.$$.ctx[15]}get getWidth(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}function bU(e){let t,n,r,s,i,o,a=[{class:n=dt({[e[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":e[3],...e[5]})},{style:r=Object.entries(e[6]).map(kp).concat([e[2]]).join(" ")},e[8]],l={};for(let c=0;c<a.length;c+=1)l=je(l,a[c]);return{c(){t=Lt("div"),Pt(t,l)},m(c,f){De(c,t,f),e[13](t),i||(o=[At(s=gn.call(null,t,e[0])),At(e[7].call(null,t))],i=!0)},p(c,[f]){Pt(t,l=Ot(a,[f&42&&n!==(n=dt({[c[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":c[3],...c[5]}))&&{class:n},f&68&&r!==(r=Object.entries(c[6]).map(kp).concat([c[2]]).join(" "))&&{style:r},f&256&&c[8]])),s&&Vt(s.update)&&f&1&&s.update.call(null,c[0])},i:un,o:un,d(c){c&&Me(t),e[13](null),i=!1,an(o)}}}const kp=([e,t])=>`${e}: ${t};`;function _U(e,t,n){const r=["use","class","style","active","activate","deactivate","setRippleCenter","getElement"];let s=Et(t,r);const i=wn(tn());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{active:c=!1}=t,f,u,h={},d={};ir(()=>(u=new iU({addClass:g,removeClass:m,hasClass:p,setStyle:v,registerEventHandler:(A,O)=>w().addEventListener(A,O),deregisterEventHandler:(A,O)=>w().removeEventListener(A,O)}),u.init(),()=>{u.destroy()}));function p(A){return A in h?h[A]:w().classList.contains(A)}function g(A){h[A]||n(5,h[A]=!0,h)}function m(A){(!(A in h)||h[A])&&n(5,h[A]=!1,h)}function v(A,O){d[A]!=O&&(O===""||O==null?(delete d[A],n(6,d)):n(6,d[A]=O,d))}function b(){u.activate()}function y(){u.deactivate()}function S(A){u.setRippleCenter(A)}function w(){return f}function E(A){ct[A?"unshift":"push"](()=>{f=A,n(4,f)})}return e.$$set=A=>{t=je(je({},t),vn(A)),n(8,s=Et(t,r)),"use"in A&&n(0,o=A.use),"class"in A&&n(1,a=A.class),"style"in A&&n(2,l=A.style),"active"in A&&n(3,c=A.active)},[o,a,l,c,f,h,d,i,s,b,y,S,w,E]}class yU extends rn{constructor(t){super(),nn(this,t,_U,bU,jt,{use:0,class:1,style:2,active:3,activate:9,deactivate:10,setRippleCenter:11,getElement:12})}get activate(){return this.$$.ctx[9]}get deactivate(){return this.$$.ctx[10]}get setRippleCenter(){return this.$$.ctx[11]}get getElement(){return this.$$.ctx[12]}}function Gp(e){let t,n,r;const s=e[15].default,i=xt(s,e,e[14],null);return{c(){t=Lt("div"),i&&i.c(),$t(t,"class","mdc-notched-outline__notch"),$t(t,"style",n=Object.entries(e[7]).map(Bp).join(" "))},m(o,a){De(o,t,a),i&&i.m(t,null),r=!0},p(o,a){i&&i.p&&(!r||a&16384)&&Gt(i,s,o,o[14],r?kt(s,o[14],a,null):Bt(o[14]),null),(!r||a&128&&n!==(n=Object.entries(o[7]).map(Bp).join(" ")))&&$t(t,"style",n)},i(o){r||(ie(i,o),r=!0)},o(o){de(i,o),r=!1},d(o){o&&Me(t),i&&i.d(o)}}}function AU(e){let t,n,r,s,i,o,a,l,c,f,u=!e[3]&&Gp(e),h=[{class:o=dt({[e[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":e[2],"mdc-notched-outline--no-label":e[3],...e[6]})},e[10]],d={};for(let p=0;p<h.length;p+=1)d=je(d,h[p]);return{c(){t=Lt("div"),n=Lt("div"),r=wt(),u&&u.c(),s=wt(),i=Lt("div"),$t(n,"class","mdc-notched-outline__leading"),$t(i,"class","mdc-notched-outline__trailing"),Pt(t,d)},m(p,g){De(p,t,g),Sn(t,n),Sn(t,r),u&&u.m(t,null),Sn(t,s),Sn(t,i),e[16](t),l=!0,c||(f=[At(a=gn.call(null,t,e[0])),At(e[8].call(null,t)),Rt(t,"SMUIFloatingLabel:mount",e[9]),Rt(t,"SMUIFloatingLabel:unmount",e[17])],c=!0)},p(p,[g]){p[3]?u&&(Yt(),de(u,1,1,()=>{u=null}),Zt()):u?(u.p(p,g),g&8&&ie(u,1)):(u=Gp(p),u.c(),ie(u,1),u.m(t,s)),Pt(t,d=Ot(h,[(!l||g&78&&o!==(o=dt({[p[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":p[2],"mdc-notched-outline--no-label":p[3],...p[6]})))&&{class:o},g&1024&&p[10]])),a&&Vt(a.update)&&g&1&&a.update.call(null,p[0])},i(p){l||(ie(u),l=!0)},o(p){de(u),l=!1},d(p){p&&Me(t),u&&u.d(),e[16](null),c=!1,an(f)}}}const Bp=([e,t])=>`${e}: ${t};`;function SU(e,t,n){const r=["use","class","notched","noLabel","notch","closeNotch","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(tn());let{use:l=[]}=t,{class:c=""}=t,{notched:f=!1}=t,{noLabel:u=!1}=t,h,d,p,g={},m={};ir(()=>(d=new lU({addClass:b,removeClass:y,setNotchWidthProperty:k=>S("width",k+"px"),removeNotchWidthProperty:()=>w("width")}),d.init(),()=>{d.destroy()}));function v(k){n(4,p=k.detail)}function b(k){g[k]||n(6,g[k]=!0,g)}function y(k){(!(k in g)||g[k])&&n(6,g[k]=!1,g)}function S(k,le){m[k]!=le&&(le===""||le==null?(delete m[k],n(7,m)):n(7,m[k]=le,m))}function w(k){k in m&&(delete m[k],n(7,m))}function E(k){d.notch(k)}function A(){d.closeNotch()}function O(){return h}function z(k){ct[k?"unshift":"push"](()=>{h=k,n(5,h)})}const N=()=>n(4,p=void 0);return e.$$set=k=>{t=je(je({},t),vn(k)),n(10,s=Et(t,r)),"use"in k&&n(0,l=k.use),"class"in k&&n(1,c=k.class),"notched"in k&&n(2,f=k.notched),"noLabel"in k&&n(3,u=k.noLabel),"$$scope"in k&&n(14,o=k.$$scope)},e.$$.update=()=>{e.$$.dirty&16&&(p?(p.addStyle("transition-duration","0s"),b("mdc-notched-outline--upgraded"),requestAnimationFrame(()=>{p&&p.removeStyle("transition-duration")})):y("mdc-notched-outline--upgraded"))},[l,c,f,u,p,h,g,m,a,v,s,E,A,O,o,i,z,N]}class EU extends rn{constructor(t){super(),nn(this,t,SU,AU,jt,{use:0,class:1,notched:2,noLabel:3,notch:11,closeNotch:12,getElement:13})}get notch(){return this.$$.ctx[11]}get closeNotch(){return this.$$.ctx[12]}get getElement(){return this.$$.ctx[13]}}function wU(e){let t;const n=e[11].default,r=xt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&Gt(r,n,s,s[13],t?kt(n,s[13],i,null):Bt(s[13]),null)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function TU(e){let t,n,r;const s=[{tag:e[3]},{use:[e[8],...e[0]]},{class:dt({[e[1]]:!0,[e[6]]:!0,...e[5]})},e[7],e[9]];var i=e[2];function o(a){let l={$$slots:{default:[wU]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[12](t)),{c(){t&&ot(t.$$.fragment),n=En()},m(a,l){t&&nt(t,a,l),De(a,n,l),r=!0},p(a,[l]){const c=l&1003?Ot(s,[l&8&&{tag:a[3]},l&257&&{use:[a[8],...a[0]]},l&98&&{class:dt({[a[1]]:!0,[a[6]]:!0,...a[5]})},l&128&&on(a[7]),l&512&&on(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){Yt();const f=t;de(f.$$.fragment,1,0,()=>{rt(f,1)}),Zt()}i?(t=pr(i,o(a)),a[12](t),ot(t.$$.fragment),ie(t.$$.fragment,1),nt(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ie(t.$$.fragment,a),r=!0)},o(a){t&&de(t.$$.fragment,a),r=!1},d(a){e[12](null),a&&Me(n),t&&rt(t,a)}}}const Xr={component:vr,tag:"div",class:"",classMap:{},contexts:{},props:{}};function CU(e,t,n){const r=["use","class","component","tag","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t,{class:l=""}=t,c;const f=Xr.class,u={},h=[],d=Xr.contexts,p=Xr.props;let{component:g=Xr.component}=t,{tag:m=g===vr?Xr.tag:void 0}=t;Object.entries(Xr.classMap).forEach(([S,w])=>{const E=dr(w);E&&"subscribe"in E&&h.push(E.subscribe(A=>{n(5,u[S]=A,u)}))});const v=wn(tn());for(let S in d)d.hasOwnProperty(S)&&ur(S,d[S]);Wu(()=>{for(const S of h)S()});function b(){return c.getElement()}function y(S){ct[S?"unshift":"push"](()=>{c=S,n(4,c)})}return e.$$set=S=>{t=je(je({},t),vn(S)),n(9,s=Et(t,r)),"use"in S&&n(0,a=S.use),"class"in S&&n(1,l=S.class),"component"in S&&n(2,g=S.component),"tag"in S&&n(3,m=S.tag),"$$scope"in S&&n(13,o=S.$$scope)},[a,l,g,m,c,u,f,p,v,s,b,i,y,o]}class PU extends rn{constructor(t){super(),nn(this,t,CU,TU,jt,{use:0,class:1,component:2,tag:3,getElement:10})}get getElement(){return this.$$.ctx[10]}}const Np=Object.assign({},Xr);function Xi(e){return new Proxy(PU,{construct:function(t,n){return Object.assign(Xr,Np,e),new t(...n)},get:function(t,n){return Object.assign(Xr,Np,e),t[n]}})}const LU=Xi({class:"mdc-text-field-helper-line",tag:"div"}),OU=Xi({class:"mdc-text-field__affix mdc-text-field__affix--prefix",tag:"span"}),RU=Xi({class:"mdc-text-field__affix mdc-text-field__affix--suffix",tag:"span"});function MU(e){let t,n,r,s,i,o=[{class:n=dt({[e[1]]:!0,"mdc-text-field__input":!0})},{type:e[2]},{placeholder:e[3]},e[4],e[6],e[10]],a={};for(let l=0;l<o.length;l+=1)a=je(a,o[l]);return{c(){t=Lt("input"),Pt(t,a)},m(l,c){De(l,t,c),t.autofocus&&t.focus(),e[26](t),s||(i=[At(r=gn.call(null,t,e[0])),At(e[7].call(null,t)),Rt(t,"input",e[27]),Rt(t,"change",e[9]),Rt(t,"blur",e[24]),Rt(t,"focus",e[25])],s=!0)},p(l,[c]){Pt(t,a=Ot(o,[c&2&&n!==(n=dt({[l[1]]:!0,"mdc-text-field__input":!0}))&&{class:n},c&4&&{type:l[2]},c&8&&{placeholder:l[3]},c&16&&l[4],c&64&&l[6],c&1024&&l[10]])),r&&Vt(r.update)&&c&1&&r.update.call(null,l[0])},i:un,o:un,d(l){l&&Me(t),e[26](null),s=!1,an(i)}}}function IU(e){return e===""?Number.NaN:+e}function DU(e,t,n){const r=["use","class","type","placeholder","value","files","dirty","invalid","updateInvalid","emptyValueNull","emptyValueUndefined","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=Et(t,r);const i=wn(tn());let o=()=>{};function a(te){return te===o}let{use:l=[]}=t,{class:c=""}=t,{type:f="text"}=t,{placeholder:u=" "}=t,{value:h=o}=t;const d=a(h);d&&(h="");let{files:p=null}=t,{dirty:g=!1}=t,{invalid:m=!1}=t,{updateInvalid:v=!0}=t,{emptyValueNull:b=h===null}=t;d&&b&&(h=null);let{emptyValueUndefined:y=h===void 0}=t;d&&y&&(h=void 0);let S,w={},E={};ir(()=>{v&&n(14,m=S.matches(":invalid"))});function A(te){if(f==="file"){n(12,p=te.currentTarget.files);return}if(te.currentTarget.value===""&&b){n(11,h=null);return}if(te.currentTarget.value===""&&y){n(11,h=void 0);return}switch(f){case"number":case"range":n(11,h=IU(te.currentTarget.value));break;default:n(11,h=te.currentTarget.value);break}}function O(te){(f==="file"||f==="range")&&A(te),n(13,g=!0),v&&n(14,m=S.matches(":invalid"))}function z(te){var oe;return te in w?(oe=w[te])!==null&&oe!==void 0?oe:null:V().getAttribute(te)}function N(te,oe){w[te]!==oe&&n(6,w[te]=oe,w)}function k(te){(!(te in w)||w[te]!=null)&&n(6,w[te]=void 0,w)}function le(){V().focus()}function $(){V().blur()}function V(){return S}function Ge(te){No.call(this,e,te)}function ne(te){No.call(this,e,te)}function H(te){ct[te?"unshift":"push"](()=>{S=te,n(5,S)})}const he=te=>f!=="file"&&A(te);return e.$$set=te=>{t=je(je({},t),vn(te)),n(10,s=Et(t,r)),"use"in te&&n(0,l=te.use),"class"in te&&n(1,c=te.class),"type"in te&&n(2,f=te.type),"placeholder"in te&&n(3,u=te.placeholder),"value"in te&&n(11,h=te.value),"files"in te&&n(12,p=te.files),"dirty"in te&&n(13,g=te.dirty),"invalid"in te&&n(14,m=te.invalid),"updateInvalid"in te&&n(15,v=te.updateInvalid),"emptyValueNull"in te&&n(16,b=te.emptyValueNull),"emptyValueUndefined"in te&&n(17,y=te.emptyValueUndefined)},e.$$.update=()=>{e.$$.dirty&2068&&(f==="file"?(delete E.value,n(4,E),n(2,f),n(11,h)):n(4,E.value=h??"",E))},[l,c,f,u,E,S,w,i,A,O,s,h,p,g,m,v,b,y,z,N,k,le,$,V,Ge,ne,H,he]}class FU extends rn{constructor(t){super(),nn(this,t,DU,MU,jt,{use:0,class:1,type:2,placeholder:3,value:11,files:12,dirty:13,invalid:14,updateInvalid:15,emptyValueNull:16,emptyValueUndefined:17,getAttr:18,addAttr:19,removeAttr:20,focus:21,blur:22,getElement:23})}get getAttr(){return this.$$.ctx[18]}get addAttr(){return this.$$.ctx[19]}get removeAttr(){return this.$$.ctx[20]}get focus(){return this.$$.ctx[21]}get blur(){return this.$$.ctx[22]}get getElement(){return this.$$.ctx[23]}}function xU(e){let t,n,r,s,i,o,a=[{class:n=dt({[e[2]]:!0,"mdc-text-field__input":!0})},{style:r=`${e[4]?"":"resize: none; "}${e[3]}`},e[6],e[9]],l={};for(let c=0;c<a.length;c+=1)l=je(l,a[c]);return{c(){t=Lt("textarea"),Pt(t,l)},m(c,f){De(c,t,f),t.autofocus&&t.focus(),e[21](t),m1(t,e[0]),i||(o=[At(s=gn.call(null,t,e[1])),At(e[7].call(null,t)),Rt(t,"change",e[8]),Rt(t,"blur",e[19]),Rt(t,"focus",e[20]),Rt(t,"input",e[22])],i=!0)},p(c,[f]){Pt(t,l=Ot(a,[f&4&&n!==(n=dt({[c[2]]:!0,"mdc-text-field__input":!0}))&&{class:n},f&24&&r!==(r=`${c[4]?"":"resize: none; "}${c[3]}`)&&{style:r},f&64&&c[6],f&512&&c[9]])),s&&Vt(s.update)&&f&2&&s.update.call(null,c[1]),f&1&&m1(t,c[0])},i:un,o:un,d(c){c&&Me(t),e[21](null),i=!1,an(o)}}}function kU(e,t,n){const r=["use","class","style","value","dirty","invalid","updateInvalid","resizable","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=Et(t,r);const i=wn(tn());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{value:c=""}=t,{dirty:f=!1}=t,{invalid:u=!1}=t,{updateInvalid:h=!0}=t,{resizable:d=!0}=t,p,g={};ir(()=>{h&&n(11,u=p.matches(":invalid"))});function m(){n(10,f=!0),h&&n(11,u=p.matches(":invalid"))}function v(k){var le;return k in g?(le=g[k])!==null&&le!==void 0?le:null:E().getAttribute(k)}function b(k,le){g[k]!==le&&n(6,g[k]=le,g)}function y(k){(!(k in g)||g[k]!=null)&&n(6,g[k]=void 0,g)}function S(){E().focus()}function w(){E().blur()}function E(){return p}function A(k){No.call(this,e,k)}function O(k){No.call(this,e,k)}function z(k){ct[k?"unshift":"push"](()=>{p=k,n(5,p)})}function N(){c=this.value,n(0,c)}return e.$$set=k=>{t=je(je({},t),vn(k)),n(9,s=Et(t,r)),"use"in k&&n(1,o=k.use),"class"in k&&n(2,a=k.class),"style"in k&&n(3,l=k.style),"value"in k&&n(0,c=k.value),"dirty"in k&&n(10,f=k.dirty),"invalid"in k&&n(11,u=k.invalid),"updateInvalid"in k&&n(12,h=k.updateInvalid),"resizable"in k&&n(4,d=k.resizable)},[c,o,a,l,d,p,g,i,m,s,f,u,h,v,b,y,S,w,E,A,O,z,N]}class GU extends rn{constructor(t){super(),nn(this,t,kU,xU,jt,{use:1,class:2,style:3,value:0,dirty:10,invalid:11,updateInvalid:12,resizable:4,getAttr:13,addAttr:14,removeAttr:15,focus:16,blur:17,getElement:18})}get getAttr(){return this.$$.ctx[13]}get addAttr(){return this.$$.ctx[14]}get removeAttr(){return this.$$.ctx[15]}get focus(){return this.$$.ctx[16]}get blur(){return this.$$.ctx[17]}get getElement(){return this.$$.ctx[18]}}const BU=e=>({}),$p=e=>({}),NU=e=>({}),Vp=e=>({}),$U=e=>({}),Up=e=>({}),VU=e=>({}),Hp=e=>({}),UU=e=>({}),zp=e=>({}),HU=e=>({}),jp=e=>({}),zU=e=>({}),qp=e=>({}),jU=e=>({}),Xp=e=>({}),qU=e=>({}),Wp=e=>({}),XU=e=>({}),Yp=e=>({}),WU=e=>({}),Zp=e=>({}),YU=e=>({}),Kp=e=>({});function ZU(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,p;const g=e[56].label,m=xt(g,e,e[87],zp);r=new Vi({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[QU]},$$scope:{ctx:e}}});const v=e[56].default,b=xt(v,e,e[87],null);o=new Vi({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[JU]},$$scope:{ctx:e}}});const y=e[56].ripple,S=xt(y,e,e[87],Vp);let w=[{class:l=dt({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||!e[47].label,"mdc-text-field--with-leading-icon":e[47].leadingIcon,"mdc-text-field--with-trailing-icon":e[47].trailingIcon,"mdc-text-field--invalid":e[1],...e[25]})},{style:c=Object.entries(e[26]).map(lg).concat([e[10]]).join(" ")},gr(e[46],["input$","label$","ripple$","outline$","helperLine$"])],E={};for(let A=0;A<w.length;A+=1)E=je(E,w[A]);return{c(){t=Lt("div"),m&&m.c(),n=wt(),ot(r.$$.fragment),s=wt(),b&&b.c(),i=wt(),ot(o.$$.fragment),a=wt(),S&&S.c(),Pt(t,E)},m(A,O){De(A,t,O),m&&m.m(t,null),Sn(t,n),nt(r,t,null),Sn(t,s),b&&b.m(t,null),Sn(t,i),nt(o,t,null),Sn(t,a),S&&S.m(t,null),e[82](t),h=!0,d||(p=[At(f=Yr.call(null,t,{ripple:e[11],unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45]})),At(u=gn.call(null,t,e[8])),At(e[34].call(null,t)),Rt(t,"SMUITextfieldLeadingIcon:mount",e[38]),Rt(t,"SMUITextfieldLeadingIcon:unmount",e[83]),Rt(t,"SMUITextfieldTrailingIcon:mount",e[39]),Rt(t,"SMUITextfieldTrailingIcon:unmount",e[84])],d=!0)},p(A,O){m&&m.p&&(!h||O[2]&33554432)&&Gt(m,g,A,A[87],h?kt(g,A[87],O,UU):Bt(A[87]),zp);const z={};O[2]&33554432&&(z.$$scope={dirty:O,ctx:A}),r.$set(z),b&&b.p&&(!h||O[2]&33554432)&&Gt(b,v,A,A[87],h?kt(v,A[87],O,null):Bt(A[87]),null);const N={};O[2]&33554432&&(N.$$scope={dirty:O,ctx:A}),o.$set(N),S&&S.p&&(!h||O[2]&33554432)&&Gt(S,y,A,A[87],h?kt(y,A[87],O,NU):Bt(A[87]),Vp),Pt(t,E=Ot(w,[(!h||O[0]&33673730|O[1]&65536&&l!==(l=dt({[A[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":A[12],"mdc-text-field--textarea":A[14],"mdc-text-field--filled":A[15]==="filled","mdc-text-field--outlined":A[15]==="outlined","smui-text-field--standard":A[15]==="standard"&&!A[14],"mdc-text-field--no-label":A[16]||!A[47].label,"mdc-text-field--with-leading-icon":A[47].leadingIcon,"mdc-text-field--with-trailing-icon":A[47].trailingIcon,"mdc-text-field--invalid":A[1],...A[25]})))&&{class:l},(!h||O[0]&67109888&&c!==(c=Object.entries(A[26]).map(lg).concat([A[10]]).join(" ")))&&{style:c},O[1]&32768&&gr(A[46],["input$","label$","ripple$","outline$","helperLine$"])])),f&&Vt(f.update)&&O[0]&2048&&f.update.call(null,{ripple:A[11],unbounded:!1,addClass:A[43],removeClass:A[44],addStyle:A[45]}),u&&Vt(u.update)&&O[0]&256&&u.update.call(null,A[8])},i(A){h||(ie(m,A),ie(r.$$.fragment,A),ie(b,A),ie(o.$$.fragment,A),ie(S,A),h=!0)},o(A){de(m,A),de(r.$$.fragment,A),de(b,A),de(o.$$.fragment,A),de(S,A),h=!1},d(A){A&&Me(t),m&&m.d(A),rt(r),b&&b.d(A),rt(o),S&&S.d(A),e[82](null),d=!1,an(p)}}}function KU(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,p,g,m,v,b,y=!e[14]&&e[15]!=="outlined"&&Qp(e),S=(e[14]||e[15]==="outlined")&&tg(e);s=new Vi({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[rH]},$$scope:{ctx:e}}});const w=e[56].default,E=xt(w,e,e[87],null),A=[iH,sH],O=[];function z($,V){return $[14]&&typeof $[0]=="string"?0:1}a=z(e),l=O[a]=A[a](e),f=new Vi({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[lH]},$$scope:{ctx:e}}});let N=!e[14]&&e[15]!=="outlined"&&e[11]&&ig(e),k=[{class:h=dt({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||e[17]==null&&!e[47].label,"mdc-text-field--label-floating":e[28]||e[0]!=null&&e[0]!=="","mdc-text-field--with-leading-icon":e[35](e[22])?e[47].leadingIcon:e[22],"mdc-text-field--with-trailing-icon":e[35](e[23])?e[47].trailingIcon:e[23],"mdc-text-field--with-internal-counter":e[14]&&e[47].internalCounter,"mdc-text-field--invalid":e[1],...e[25]})},{style:d=Object.entries(e[26]).map(ag).concat([e[10]]).join(" ")},{for:void 0},gr(e[46],["input$","label$","ripple$","outline$","helperLine$"])],le={};for(let $=0;$<k.length;$+=1)le=je(le,k[$]);return{c(){t=Lt("label"),y&&y.c(),n=wt(),S&&S.c(),r=wt(),ot(s.$$.fragment),i=wt(),E&&E.c(),o=wt(),l.c(),c=wt(),ot(f.$$.fragment),u=wt(),N&&N.c(),Pt(t,le)},m($,V){De($,t,V),y&&y.m(t,null),Sn(t,n),S&&S.m(t,null),Sn(t,r),nt(s,t,null),Sn(t,i),E&&E.m(t,null),Sn(t,o),O[a].m(t,null),Sn(t,c),nt(f,t,null),Sn(t,u),N&&N.m(t,null),e[78](t),m=!0,v||(b=[At(p=Yr.call(null,t,{ripple:!e[14]&&e[15]==="filled",unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45],eventTarget:e[33],activeTarget:e[33],initPromise:e[37]})),At(g=gn.call(null,t,e[8])),At(e[34].call(null,t)),Rt(t,"SMUITextfieldLeadingIcon:mount",e[38]),Rt(t,"SMUITextfieldLeadingIcon:unmount",e[79]),Rt(t,"SMUITextfieldTrailingIcon:mount",e[39]),Rt(t,"SMUITextfieldTrailingIcon:unmount",e[80]),Rt(t,"SMUITextfieldCharacterCounter:mount",e[40]),Rt(t,"SMUITextfieldCharacterCounter:unmount",e[81])],v=!0)},p($,V){!$[14]&&$[15]!=="outlined"?y?(y.p($,V),V[0]&49152&&ie(y,1)):(y=Qp($),y.c(),ie(y,1),y.m(t,n)):y&&(Yt(),de(y,1,1,()=>{y=null}),Zt()),$[14]||$[15]==="outlined"?S?(S.p($,V),V[0]&49152&&ie(S,1)):(S=tg($),S.c(),ie(S,1),S.m(t,r)):S&&(Yt(),de(S,1,1,()=>{S=null}),Zt());const Ge={};V[2]&33554432&&(Ge.$$scope={dirty:V,ctx:$}),s.$set(Ge),E&&E.p&&(!m||V[2]&33554432)&&Gt(E,w,$,$[87],m?kt(w,$[87],V,null):Bt($[87]),null);let ne=a;a=z($),a===ne?O[a].p($,V):(Yt(),de(O[ne],1,1,()=>{O[ne]=null}),Zt(),l=O[a],l?l.p($,V):(l=O[a]=A[a]($),l.c()),ie(l,1),l.m(t,c));const H={};V[2]&33554432&&(H.$$scope={dirty:V,ctx:$}),f.$set(H),!$[14]&&$[15]!=="outlined"&&$[11]?N?(N.p($,V),V[0]&51200&&ie(N,1)):(N=ig($),N.c(),ie(N,1),N.m(t,null)):N&&(Yt(),de(N,1,1,()=>{N=null}),Zt()),Pt(t,le=Ot(k,[(!m||V[0]&314823171|V[1]&65536&&h!==(h=dt({[$[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":$[12],"mdc-text-field--textarea":$[14],"mdc-text-field--filled":$[15]==="filled","mdc-text-field--outlined":$[15]==="outlined","smui-text-field--standard":$[15]==="standard"&&!$[14],"mdc-text-field--no-label":$[16]||$[17]==null&&!$[47].label,"mdc-text-field--label-floating":$[28]||$[0]!=null&&$[0]!=="","mdc-text-field--with-leading-icon":$[35]($[22])?$[47].leadingIcon:$[22],"mdc-text-field--with-trailing-icon":$[35]($[23])?$[47].trailingIcon:$[23],"mdc-text-field--with-internal-counter":$[14]&&$[47].internalCounter,"mdc-text-field--invalid":$[1],...$[25]})))&&{class:h},(!m||V[0]&67109888&&d!==(d=Object.entries($[26]).map(ag).concat([$[10]]).join(" ")))&&{style:d},{for:void 0},V[1]&32768&&gr($[46],["input$","label$","ripple$","outline$","helperLine$"])])),p&&Vt(p.update)&&V[0]&49152|V[1]&4&&p.update.call(null,{ripple:!$[14]&&$[15]==="filled",unbounded:!1,addClass:$[43],removeClass:$[44],addStyle:$[45],eventTarget:$[33],activeTarget:$[33],initPromise:$[37]}),g&&Vt(g.update)&&V[0]&256&&g.update.call(null,$[8])},i($){m||(ie(y),ie(S),ie(s.$$.fragment,$),ie(E,$),ie(l),ie(f.$$.fragment,$),ie(N),m=!0)},o($){de(y),de(S),de(s.$$.fragment,$),de(E,$),de(l),de(f.$$.fragment,$),de(N),m=!1},d($){$&&Me(t),y&&y.d(),S&&S.d(),rt(s),E&&E.d($),O[a].d(),rt(f),N&&N.d(),e[78](null),v=!1,an(b)}}}function QU(e){let t;const n=e[56].leadingIcon,r=xt(n,e,e[87],Hp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Gt(r,n,s,s[87],t?kt(n,s[87],i,VU):Bt(s[87]),Hp)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function JU(e){let t;const n=e[56].trailingIcon,r=xt(n,e,e[87],Up);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Gt(r,n,s,s[87],t?kt(n,s[87],i,$U):Bt(s[87]),Up)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function Qp(e){let t,n,r,s=e[15]==="filled"&&Jp(),i=!e[16]&&(e[17]!=null||e[47].label)&&eg(e);return{c(){s&&s.c(),t=wt(),i&&i.c(),n=En()},m(o,a){s&&s.m(o,a),De(o,t,a),i&&i.m(o,a),De(o,n,a),r=!0},p(o,a){o[15]==="filled"?s||(s=Jp(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),!o[16]&&(o[17]!=null||o[47].label)?i?(i.p(o,a),a[0]&196608|a[1]&65536&&ie(i,1)):(i=eg(o),i.c(),ie(i,1),i.m(n.parentNode,n)):i&&(Yt(),de(i,1,1,()=>{i=null}),Zt())},i(o){r||(ie(i),r=!0)},o(o){de(i),r=!1},d(o){s&&s.d(o),o&&Me(t),i&&i.d(o),o&&Me(n)}}}function Jp(e){let t;return{c(){t=Lt("span"),$t(t,"class","mdc-text-field__ripple")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function eg(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},zt(e[46],"label$")];let s={$$slots:{default:[eH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new eb({props:s}),e[57](t),{c(){ot(t.$$.fragment)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?Ot(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&on(zt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ie(t.$$.fragment,i),n=!0)},o(i){de(t.$$.fragment,i),n=!1},d(i){e[57](null),rt(t,i)}}}function eH(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=xt(s,e,e[87],Kp);return{c(){n=Qn(t),i&&i.c()},m(o,a){De(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&Qs(n,t),i&&i.p&&(!r||a[2]&33554432)&&Gt(i,s,o,o[87],r?kt(s,o[87],a,YU):Bt(o[87]),Kp)},i(o){r||(ie(i,o),r=!0)},o(o){de(i,o),r=!1},d(o){o&&Me(n),i&&i.d(o)}}}function tg(e){let t,n;const r=[{noLabel:e[16]||e[17]==null&&!e[47].label},zt(e[46],"outline$")];let s={$$slots:{default:[nH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new EU({props:s}),e[59](t),{c(){ot(t.$$.fragment)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a=o[0]&196608|o[1]&98304?Ot(r,[o[0]&196608|o[1]&65536&&{noLabel:i[16]||i[17]==null&&!i[47].label},o[1]&32768&&on(zt(i[46],"outline$"))]):{};o[0]&268640289|o[1]&98304|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ie(t.$$.fragment,i),n=!0)},o(i){de(t.$$.fragment,i),n=!1},d(i){e[59](null),rt(t,i)}}}function ng(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},zt(e[46],"label$")];let s={$$slots:{default:[tH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new eb({props:s}),e[58](t),{c(){ot(t.$$.fragment)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?Ot(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&on(zt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ie(t.$$.fragment,i),n=!0)},o(i){de(t.$$.fragment,i),n=!1},d(i){e[58](null),rt(t,i)}}}function tH(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=xt(s,e,e[87],Zp);return{c(){n=Qn(t),i&&i.c()},m(o,a){De(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&Qs(n,t),i&&i.p&&(!r||a[2]&33554432)&&Gt(i,s,o,o[87],r?kt(s,o[87],a,WU):Bt(o[87]),Zp)},i(o){r||(ie(i,o),r=!0)},o(o){de(i,o),r=!1},d(o){o&&Me(n),i&&i.d(o)}}}function nH(e){let t,n,r=!e[16]&&(e[17]!=null||e[47].label)&&ng(e);return{c(){r&&r.c(),t=En()},m(s,i){r&&r.m(s,i),De(s,t,i),n=!0},p(s,i){!s[16]&&(s[17]!=null||s[47].label)?r?(r.p(s,i),i[0]&196608|i[1]&65536&&ie(r,1)):(r=ng(s),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(Yt(),de(r,1,1,()=>{r=null}),Zt())},i(s){n||(ie(r),n=!0)},o(s){de(r),n=!1},d(s){r&&r.d(s),s&&Me(t)}}}function rH(e){let t;const n=e[56].leadingIcon,r=xt(n,e,e[87],Yp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Gt(r,n,s,s[87],t?kt(n,s[87],i,XU):Bt(s[87]),Yp)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function sH(e){let t,n,r,s,i,o,a,l,c,f;const u=e[56].prefix,h=xt(u,e,e[87],Xp);let d=e[20]!=null&&rg(e);const p=[{type:e[18]},{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},e[16]&&e[17]!=null?{placeholder:e[17]}:{},zt(e[46],"input$")];function g(A){e[69](A)}function m(A){e[70](A)}function v(A){e[71](A)}function b(A){e[72](A)}let y={};for(let A=0;A<p.length;A+=1)y=je(y,p[A]);e[0]!==void 0&&(y.value=e[0]),e[3]!==void 0&&(y.files=e[3]),e[4]!==void 0&&(y.dirty=e[4]),e[1]!==void 0&&(y.invalid=e[1]),r=new FU({props:y}),e[68](r),ct.push(()=>Un(r,"value",g)),ct.push(()=>Un(r,"files",m)),ct.push(()=>Un(r,"dirty",v)),ct.push(()=>Un(r,"invalid",b)),r.$on("blur",e[73]),r.$on("focus",e[74]),r.$on("blur",e[75]),r.$on("focus",e[76]);let S=e[21]!=null&&sg(e);const w=e[56].suffix,E=xt(w,e,e[87],qp);return{c(){h&&h.c(),t=wt(),d&&d.c(),n=wt(),ot(r.$$.fragment),l=wt(),S&&S.c(),c=wt(),E&&E.c()},m(A,O){h&&h.m(A,O),De(A,t,O),d&&d.m(A,O),De(A,n,O),nt(r,A,O),De(A,l,O),S&&S.m(A,O),De(A,c,O),E&&E.m(A,O),f=!0},p(A,O){h&&h.p&&(!f||O[2]&33554432)&&Gt(h,u,A,A[87],f?kt(u,A[87],O,jU):Bt(A[87]),Xp),A[20]!=null?d?(d.p(A,O),O[0]&1048576&&ie(d,1)):(d=rg(A),d.c(),ie(d,1),d.m(n.parentNode,n)):d&&(Yt(),de(d,1,1,()=>{d=null}),Zt());const z=O[0]&135213056|O[1]&32768?Ot(p,[O[0]&262144&&{type:A[18]},O[0]&4096&&{disabled:A[12]},O[0]&8192&&{required:A[13]},O[0]&524288&&{updateInvalid:A[19]},O[0]&134217728&&{"aria-controls":A[27]},O[0]&134217728&&{"aria-describedby":A[27]},O[0]&196608&&on(A[16]&&A[17]!=null?{placeholder:A[17]}:{}),O[1]&32768&&on(zt(A[46],"input$"))]):{};!s&&O[0]&1&&(s=!0,z.value=A[0],Vn(()=>s=!1)),!i&&O[0]&8&&(i=!0,z.files=A[3],Vn(()=>i=!1)),!o&&O[0]&16&&(o=!0,z.dirty=A[4],Vn(()=>o=!1)),!a&&O[0]&2&&(a=!0,z.invalid=A[1],Vn(()=>a=!1)),r.$set(z),A[21]!=null?S?(S.p(A,O),O[0]&2097152&&ie(S,1)):(S=sg(A),S.c(),ie(S,1),S.m(c.parentNode,c)):S&&(Yt(),de(S,1,1,()=>{S=null}),Zt()),E&&E.p&&(!f||O[2]&33554432)&&Gt(E,w,A,A[87],f?kt(w,A[87],O,zU):Bt(A[87]),qp)},i(A){f||(ie(h,A),ie(d),ie(r.$$.fragment,A),ie(S),ie(E,A),f=!0)},o(A){de(h,A),de(d),de(r.$$.fragment,A),de(S),de(E,A),f=!1},d(A){h&&h.d(A),A&&Me(t),d&&d.d(A),A&&Me(n),e[68](null),rt(r,A),A&&Me(l),S&&S.d(A),A&&Me(c),E&&E.d(A)}}}function iH(e){let t,n,r,s,i,o,a,l;const c=[{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},zt(e[46],"input$")];function f(m){e[61](m)}function u(m){e[62](m)}function h(m){e[63](m)}let d={};for(let m=0;m<c.length;m+=1)d=je(d,c[m]);e[0]!==void 0&&(d.value=e[0]),e[4]!==void 0&&(d.dirty=e[4]),e[1]!==void 0&&(d.invalid=e[1]),n=new GU({props:d}),e[60](n),ct.push(()=>Un(n,"value",f)),ct.push(()=>Un(n,"dirty",u)),ct.push(()=>Un(n,"invalid",h)),n.$on("blur",e[64]),n.$on("focus",e[65]),n.$on("blur",e[66]),n.$on("focus",e[67]);const p=e[56].internalCounter,g=xt(p,e,e[87],Wp);return{c(){t=Lt("span"),ot(n.$$.fragment),o=wt(),g&&g.c(),$t(t,"class",a=dt({"mdc-text-field__resizer":!("input$resizable"in e[46])||e[46].input$resizable}))},m(m,v){De(m,t,v),nt(n,t,null),Sn(t,o),g&&g.m(t,null),l=!0},p(m,v){const b=v[0]&134754304|v[1]&32768?Ot(c,[v[0]&4096&&{disabled:m[12]},v[0]&8192&&{required:m[13]},v[0]&524288&&{updateInvalid:m[19]},v[0]&134217728&&{"aria-controls":m[27]},v[0]&134217728&&{"aria-describedby":m[27]},v[1]&32768&&on(zt(m[46],"input$"))]):{};!r&&v[0]&1&&(r=!0,b.value=m[0],Vn(()=>r=!1)),!s&&v[0]&16&&(s=!0,b.dirty=m[4],Vn(()=>s=!1)),!i&&v[0]&2&&(i=!0,b.invalid=m[1],Vn(()=>i=!1)),n.$set(b),g&&g.p&&(!l||v[2]&33554432)&&Gt(g,p,m,m[87],l?kt(p,m[87],v,qU):Bt(m[87]),Wp),(!l||v[1]&32768&&a!==(a=dt({"mdc-text-field__resizer":!("input$resizable"in m[46])||m[46].input$resizable})))&&$t(t,"class",a)},i(m){l||(ie(n.$$.fragment,m),ie(g,m),l=!0)},o(m){de(n.$$.fragment,m),de(g,m),l=!1},d(m){m&&Me(t),e[60](null),rt(n),g&&g.d(m)}}}function rg(e){let t,n;return t=new OU({props:{$$slots:{default:[oH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[0]&1048576|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function oH(e){let t;return{c(){t=Qn(e[20])},m(n,r){De(n,t,r)},p(n,r){r[0]&1048576&&Qs(t,n[20])},d(n){n&&Me(t)}}}function sg(e){let t,n;return t=new RU({props:{$$slots:{default:[aH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[0]&2097152|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function aH(e){let t;return{c(){t=Qn(e[21])},m(n,r){De(n,t,r)},p(n,r){r[0]&2097152&&Qs(t,n[21])},d(n){n&&Me(t)}}}function lH(e){let t;const n=e[56].trailingIcon,r=xt(n,e,e[87],jp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Gt(r,n,s,s[87],t?kt(n,s[87],i,HU):Bt(s[87]),jp)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function ig(e){let t,n;const r=[zt(e[46],"ripple$")];let s={};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new yU({props:s}),e[77](t),{c(){ot(t.$$.fragment)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a=o[1]&32768?Ot(r,[on(zt(i[46],"ripple$"))]):{};t.$set(a)},i(i){n||(ie(t.$$.fragment,i),n=!0)},o(i){de(t.$$.fragment,i),n=!1},d(i){e[77](null),rt(t,i)}}}function og(e){let t,n;const r=[zt(e[46],"helperLine$")];let s={$$slots:{default:[cH]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=je(s,r[i]);return t=new LU({props:s}),t.$on("SMUITextfieldHelperText:id",e[41]),t.$on("SMUITextfieldHelperText:mount",e[42]),t.$on("SMUITextfieldHelperText:unmount",e[85]),t.$on("SMUITextfieldCharacterCounter:mount",e[40]),t.$on("SMUITextfieldCharacterCounter:unmount",e[86]),{c(){ot(t.$$.fragment)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a=o[1]&32768?Ot(r,[on(zt(i[46],"helperLine$"))]):{};o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(ie(t.$$.fragment,i),n=!0)},o(i){de(t.$$.fragment,i),n=!1},d(i){rt(t,i)}}}function cH(e){let t;const n=e[56].helper,r=xt(n,e,e[87],$p);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&Gt(r,n,s,s[87],t?kt(n,s[87],i,BU):Bt(s[87]),$p)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function fH(e){let t,n,r,s,i;const o=[KU,ZU],a=[];function l(f,u){return f[36]?0:1}t=l(e),n=a[t]=o[t](e);let c=e[47].helper&&og(e);return{c(){n.c(),r=wt(),c&&c.c(),s=En()},m(f,u){a[t].m(f,u),De(f,r,u),c&&c.m(f,u),De(f,s,u),i=!0},p(f,u){n.p(f,u),f[47].helper?c?(c.p(f,u),u[1]&65536&&ie(c,1)):(c=og(f),c.c(),ie(c,1),c.m(s.parentNode,s)):c&&(Yt(),de(c,1,1,()=>{c=null}),Zt())},i(f){i||(ie(n),ie(c),i=!0)},o(f){de(n),de(c),i=!1},d(f){a[t].d(f),f&&Me(r),c&&c.d(f),f&&Me(s)}}}const ag=([e,t])=>`${e}: ${t};`,lg=([e,t])=>`${e}: ${t};`;function uH(e,t,n){let r;const s=["use","class","style","ripple","disabled","required","textarea","variant","noLabel","label","type","value","files","invalid","updateInvalid","dirty","prefix","suffix","validateOnValueChange","useNativeValidation","withLeadingIcon","withTrailingIcon","input","floatingLabel","lineRipple","notchedOutline","focus","blur","layout","getElement"];let i=Et(t,s),{$$slots:o={},$$scope:a}=t;const l=Uy(o),{applyPassive:c}=q2,f=wn(tn());let u=()=>{};function h(J){return J===u}let{use:d=[]}=t,{class:p=""}=t,{style:g=""}=t,{ripple:m=!0}=t,{disabled:v=!1}=t,{required:b=!1}=t,{textarea:y=!1}=t,{variant:S=y?"outlined":"standard"}=t,{noLabel:w=!1}=t,{label:E=void 0}=t,{type:A="text"}=t,{value:O=i.input$emptyValueUndefined?void 0:u}=t,{files:z=u}=t;const N=!h(O)||!h(z);h(O)&&(O=void 0),h(z)&&(z=null);let{invalid:k=u}=t,{updateInvalid:le=h(k)}=t;h(k)&&(k=!1);let{dirty:$=!1}=t,{prefix:V=void 0}=t,{suffix:Ge=void 0}=t,{validateOnValueChange:ne=le}=t,{useNativeValidation:H=le}=t,{withLeadingIcon:he=u}=t,{withTrailingIcon:te=u}=t,{input:oe=void 0}=t,{floatingLabel:lt=void 0}=t,{lineRipple:ke=void 0}=t,{notchedOutline:Ct=void 0}=t,Xt,Nt,On={},zn={},Ye,Ve=!1,Rn=dr("SMUI:addLayoutListener"),Wi,Yi,Zo=new Promise(J=>Yi=J),Zr,Kr,ys,As,Nn=O;Rn&&(Wi=Rn(Qr)),ir(()=>{if(n(54,Nt=new dU({addClass:Qo,removeClass:Jo,hasClass:Kl,registerTextFieldInteractionHandler:(J,hn)=>Ss().addEventListener(J,hn),deregisterTextFieldInteractionHandler:(J,hn)=>Ss().removeEventListener(J,hn),registerValidationAttributeChangeHandler:J=>{const hn=Ki=>Ki.map(Qi=>Qi.attributeName).filter(Qi=>Qi),aa=new MutationObserver(Ki=>{H&&J(hn(Ki))}),_c={attributes:!0};return oe&&aa.observe(oe.getElement(),_c),aa},deregisterValidationAttributeChangeHandler:J=>{J.disconnect()},getNativeInput:()=>{var J;return(J=oe==null?void 0:oe.getElement())!==null&&J!==void 0?J:null},setInputAttr:(J,hn)=>{oe==null||oe.addAttr(J,hn)},removeInputAttr:J=>{oe==null||oe.removeAttr(J)},isFocused:()=>document.activeElement===(oe==null?void 0:oe.getElement()),registerInputInteractionHandler:(J,hn)=>{oe==null||oe.getElement().addEventListener(J,hn,c())},deregisterInputInteractionHandler:(J,hn)=>{oe==null||oe.getElement().removeEventListener(J,hn,c())},floatLabel:J=>lt&&lt.float(J),getLabelWidth:()=>lt?lt.getWidth():0,hasLabel:()=>!!lt,shakeLabel:J=>lt&&lt.shake(J),setLabelRequired:J=>lt&&lt.setRequired(J),activateLineRipple:()=>ke&&ke.activate(),deactivateLineRipple:()=>ke&&ke.deactivate(),setLineRippleTransformOrigin:J=>ke&&ke.setRippleCenter(J),closeOutline:()=>Ct&&Ct.closeNotch(),hasOutline:()=>!!Ct,notchOutline:J=>Ct&&Ct.notch(J)},{get helperText(){return ys},get characterCounter(){return As},get leadingIcon(){return Zr},get trailingIcon(){return Kr}})),N){if(oe==null)throw new Error("SMUI Textfield initialized without Input component.");Nt.init()}else Yy().then(()=>{if(oe==null)throw new Error("SMUI Textfield initialized without Input component.");Nt.init()});return Yi(),()=>{Nt.destroy()}}),Wu(()=>{Wi&&Wi()});function Ko(J){n(29,Zr=J.detail)}function ri(J){n(30,Kr=J.detail)}function Yl(J){n(32,As=J.detail)}function Zl(J){n(27,Ye=J.detail)}function P(J){n(31,ys=J.detail)}function Kl(J){var hn;return J in On?(hn=On[J])!==null&&hn!==void 0?hn:null:Ss().classList.contains(J)}function Qo(J){On[J]||n(25,On[J]=!0,On)}function Jo(J){(!(J in On)||On[J])&&n(25,On[J]=!1,On)}function Ql(J,hn){zn[J]!=hn&&(hn===""||hn==null?(delete zn[J],n(26,zn)):n(26,zn[J]=hn,zn))}function kr(){oe==null||oe.focus()}function ea(){oe==null||oe.blur()}function Qr(){if(Nt){const J=Nt.shouldFloat;Nt.notchOutline(J)}}function Ss(){return Xt}function Jl(J){ct[J?"unshift":"push"](()=>{lt=J,n(5,lt)})}function ec(J){ct[J?"unshift":"push"](()=>{lt=J,n(5,lt)})}function ta(J){ct[J?"unshift":"push"](()=>{Ct=J,n(7,Ct)})}function jn(J){ct[J?"unshift":"push"](()=>{oe=J,n(2,oe)})}function Zi(J){O=J,n(0,O)}function na(J){$=J,n(4,$)}function tc(J){k=J,n(1,k),n(54,Nt),n(19,le)}const nc=()=>n(28,Ve=!1),rc=()=>n(28,Ve=!0),sc=J=>Bn(Xt,"blur",J),ic=J=>Bn(Xt,"focus",J);function ra(J){ct[J?"unshift":"push"](()=>{oe=J,n(2,oe)})}function sa(J){O=J,n(0,O)}function oc(J){z=J,n(3,z)}function ac(J){$=J,n(4,$)}function qn(J){k=J,n(1,k),n(54,Nt),n(19,le)}const lc=()=>n(28,Ve=!1),cc=()=>n(28,Ve=!0),fc=J=>Bn(Xt,"blur",J),uc=J=>Bn(Xt,"focus",J);function dc(J){ct[J?"unshift":"push"](()=>{ke=J,n(6,ke)})}function hc(J){ct[J?"unshift":"push"](()=>{Xt=J,n(24,Xt)})}const mc=()=>n(29,Zr=void 0),pc=()=>n(30,Kr=void 0),ia=()=>n(32,As=void 0);function oa(J){ct[J?"unshift":"push"](()=>{Xt=J,n(24,Xt)})}const sn=()=>n(29,Zr=void 0),gc=()=>n(30,Kr=void 0),vc=()=>{n(27,Ye=void 0),n(31,ys=void 0)},bc=()=>n(32,As=void 0);return e.$$set=J=>{t=je(je({},t),vn(J)),n(46,i=Et(t,s)),"use"in J&&n(8,d=J.use),"class"in J&&n(9,p=J.class),"style"in J&&n(10,g=J.style),"ripple"in J&&n(11,m=J.ripple),"disabled"in J&&n(12,v=J.disabled),"required"in J&&n(13,b=J.required),"textarea"in J&&n(14,y=J.textarea),"variant"in J&&n(15,S=J.variant),"noLabel"in J&&n(16,w=J.noLabel),"label"in J&&n(17,E=J.label),"type"in J&&n(18,A=J.type),"value"in J&&n(0,O=J.value),"files"in J&&n(3,z=J.files),"invalid"in J&&n(1,k=J.invalid),"updateInvalid"in J&&n(19,le=J.updateInvalid),"dirty"in J&&n(4,$=J.dirty),"prefix"in J&&n(20,V=J.prefix),"suffix"in J&&n(21,Ge=J.suffix),"validateOnValueChange"in J&&n(48,ne=J.validateOnValueChange),"useNativeValidation"in J&&n(49,H=J.useNativeValidation),"withLeadingIcon"in J&&n(22,he=J.withLeadingIcon),"withTrailingIcon"in J&&n(23,te=J.withTrailingIcon),"input"in J&&n(2,oe=J.input),"floatingLabel"in J&&n(5,lt=J.floatingLabel),"lineRipple"in J&&n(6,ke=J.lineRipple),"notchedOutline"in J&&n(7,Ct=J.notchedOutline),"$$scope"in J&&n(87,a=J.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&4&&n(33,r=oe&&oe.getElement()),e.$$.dirty[0]&524290|e.$$.dirty[1]&8388608&&Nt&&Nt.isValid()!==!k&&(le?n(1,k=!Nt.isValid()):Nt.setValid(!k)),e.$$.dirty[1]&8519680&&Nt&&Nt.getValidateOnValueChange()!==ne&&Nt.setValidateOnValueChange(h(ne)?!1:ne),e.$$.dirty[1]&8650752&&Nt&&Nt.setUseNativeValidation(h(H)?!0:H),e.$$.dirty[0]&4096|e.$$.dirty[1]&8388608&&Nt&&Nt.setDisabled(v),e.$$.dirty[0]&1|e.$$.dirty[1]&25165824&&Nt&&N&&Nn!==O){n(55,Nn=O);const J=`${O}`;Nt.getValue()!==J&&Nt.setValue(J)}},[O,k,oe,z,$,lt,ke,Ct,d,p,g,m,v,b,y,S,w,E,A,le,V,Ge,he,te,Xt,On,zn,Ye,Ve,Zr,Kr,ys,As,r,f,h,N,Zo,Ko,ri,Yl,Zl,P,Qo,Jo,Ql,i,l,ne,H,kr,ea,Qr,Ss,Nt,Nn,o,Jl,ec,ta,jn,Zi,na,tc,nc,rc,sc,ic,ra,sa,oc,ac,qn,lc,cc,fc,uc,dc,hc,mc,pc,ia,oa,sn,gc,vc,bc,a]}class gs extends rn{constructor(t){super(),nn(this,t,uH,fH,jt,{use:8,class:9,style:10,ripple:11,disabled:12,required:13,textarea:14,variant:15,noLabel:16,label:17,type:18,value:0,files:3,invalid:1,updateInvalid:19,dirty:4,prefix:20,suffix:21,validateOnValueChange:48,useNativeValidation:49,withLeadingIcon:22,withTrailingIcon:23,input:2,floatingLabel:5,lineRipple:6,notchedOutline:7,focus:50,blur:51,layout:52,getElement:53},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[50]}get blur(){return this.$$.ctx[51]}get layout(){return this.$$.ctx[52]}get getElement(){return this.$$.ctx[53]}}function dH(e){let t;return{c(){t=Qn(e[8])},m(n,r){De(n,t,r)},p(n,r){r&256&&Qs(t,n[8])},i:un,o:un,d(n){n&&Me(t)}}}function hH(e){let t;const n=e[13].default,r=xt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&Gt(r,n,s,s[12],t?kt(n,s[12],i,null):Bt(s[12]),null)},i(s){t||(ie(r,s),t=!0)},o(s){de(r,s),t=!1},d(s){r&&r.d(s)}}}function mH(e){let t,n,r,s,i,o,a,l,c;const f=[hH,dH],u=[];function h(g,m){return g[8]==null?0:1}n=h(e),r=u[n]=f[n](e);let d=[{class:s=dt({[e[1]]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":e[3],"mdc-text-field-helper-text--validation-msg":e[4],...e[6]})},{"aria-hidden":i=e[3]?void 0:"true"},{id:e[2]},e[7],e[10]],p={};for(let g=0;g<d.length;g+=1)p=je(p,d[g]);return{c(){t=Lt("div"),r.c(),Pt(t,p)},m(g,m){De(g,t,m),u[n].m(t,null),e[14](t),a=!0,l||(c=[At(o=gn.call(null,t,e[0])),At(e[9].call(null,t))],l=!0)},p(g,[m]){let v=n;n=h(g),n===v?u[n].p(g,m):(Yt(),de(u[v],1,1,()=>{u[v]=null}),Zt(),r=u[n],r?r.p(g,m):(r=u[n]=f[n](g),r.c()),ie(r,1),r.m(t,null)),Pt(t,p=Ot(d,[(!a||m&90&&s!==(s=dt({[g[1]]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":g[3],"mdc-text-field-helper-text--validation-msg":g[4],...g[6]})))&&{class:s},(!a||m&8&&i!==(i=g[3]?void 0:"true"))&&{"aria-hidden":i},(!a||m&4)&&{id:g[2]},m&128&&g[7],m&1024&&g[10]])),o&&Vt(o.update)&&m&1&&o.update.call(null,g[0])},i(g){a||(ie(r),a=!0)},o(g){de(r),a=!1},d(g){g&&Me(t),u[n].d(),e[14](null),l=!1,an(c)}}}let pH=0;function gH(e,t,n){const r=["use","class","id","persistent","validationMsg","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(tn());let{use:l=[]}=t,{class:c=""}=t,{id:f="SMUI-textfield-helper-text-"+pH++}=t,{persistent:u=!1}=t,{validationMsg:h=!1}=t,d,p,g={},m={},v;ir(()=>(p=new hU({addClass:y,removeClass:S,hasClass:b,getAttr:w,setAttr:E,removeAttr:A,setContent:N=>{n(8,v=N)}}),f.startsWith("SMUI-textfield-helper-text-")&&Bn(O(),"SMUITextfieldHelperText:id",f),Bn(O(),"SMUITextfieldHelperText:mount",p),p.init(),()=>{Bn(O(),"SMUITextfieldHelperText:unmount",p),p.destroy()}));function b(N){return N in g?g[N]:O().classList.contains(N)}function y(N){g[N]||n(6,g[N]=!0,g)}function S(N){(!(N in g)||g[N])&&n(6,g[N]=!1,g)}function w(N){var k;return N in m?(k=m[N])!==null&&k!==void 0?k:null:O().getAttribute(N)}function E(N,k){m[N]!==k&&n(7,m[N]=k,m)}function A(N){(!(N in m)||m[N]!=null)&&n(7,m[N]=void 0,m)}function O(){return d}function z(N){ct[N?"unshift":"push"](()=>{d=N,n(5,d)})}return e.$$set=N=>{t=je(je({},t),vn(N)),n(10,s=Et(t,r)),"use"in N&&n(0,l=N.use),"class"in N&&n(1,c=N.class),"id"in N&&n(2,f=N.id),"persistent"in N&&n(3,u=N.persistent),"validationMsg"in N&&n(4,h=N.validationMsg),"$$scope"in N&&n(12,o=N.$$scope)},[l,c,f,u,h,d,g,m,v,a,s,O,o,i,z]}class vH extends rn{constructor(t){super(),nn(this,t,gH,mH,jt,{use:0,class:1,id:2,persistent:3,validationMsg:4,getElement:11})}get getElement(){return this.$$.ctx[11]}}function bH(e){let t,n,r,s,i,o;const a=e[12].default,l=xt(a,e,e[11],null);let c=[{class:n=dt({[e[1]]:!0,"smui-paper":!0,"smui-paper--raised":e[2]==="raised","smui-paper--unelevated":e[2]==="unelevated","smui-paper--outlined":e[2]==="outlined",["smui-paper--elevation-z"+e[5]]:e[5]!==0&&e[2]==="raised","smui-paper--rounded":!e[3],["smui-paper--color-"+e[4]]:e[4]!=="default","smui-paper-transition":e[6]})},e[9]],f={};for(let u=0;u<c.length;u+=1)f=je(f,c[u]);return{c(){t=Lt("div"),l&&l.c(),Pt(t,f)},m(u,h){De(u,t,h),l&&l.m(t,null),e[13](t),s=!0,i||(o=[At(r=gn.call(null,t,e[0])),At(e[8].call(null,t))],i=!0)},p(u,[h]){l&&l.p&&(!s||h&2048)&&Gt(l,a,u,u[11],s?kt(a,u[11],h,null):Bt(u[11]),null),Pt(t,f=Ot(c,[(!s||h&126&&n!==(n=dt({[u[1]]:!0,"smui-paper":!0,"smui-paper--raised":u[2]==="raised","smui-paper--unelevated":u[2]==="unelevated","smui-paper--outlined":u[2]==="outlined",["smui-paper--elevation-z"+u[5]]:u[5]!==0&&u[2]==="raised","smui-paper--rounded":!u[3],["smui-paper--color-"+u[4]]:u[4]!=="default","smui-paper-transition":u[6]})))&&{class:n},h&512&&u[9]])),r&&Vt(r.update)&&h&1&&r.update.call(null,u[0])},i(u){s||(ie(l,u),s=!0)},o(u){de(l,u),s=!1},d(u){u&&Me(t),l&&l.d(u),e[13](null),i=!1,an(o)}}}function _H(e,t,n){const r=["use","class","variant","square","color","elevation","transition","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(tn());let{use:l=[]}=t,{class:c=""}=t,{variant:f="raised"}=t,{square:u=!1}=t,{color:h="default"}=t,{elevation:d=1}=t,{transition:p=!1}=t,g;function m(){return g}function v(b){ct[b?"unshift":"push"](()=>{g=b,n(7,g)})}return e.$$set=b=>{t=je(je({},t),vn(b)),n(9,s=Et(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"variant"in b&&n(2,f=b.variant),"square"in b&&n(3,u=b.square),"color"in b&&n(4,h=b.color),"elevation"in b&&n(5,d=b.elevation),"transition"in b&&n(6,p=b.transition),"$$scope"in b&&n(11,o=b.$$scope)},[l,c,f,u,h,d,p,g,a,s,m,o,i,v]}class tb extends rn{constructor(t){super(),nn(this,t,_H,bH,jt,{use:0,class:1,variant:2,square:3,color:4,elevation:5,transition:6,getElement:10})}get getElement(){return this.$$.ctx[10]}}Xi({class:"smui-paper__content",tag:"div"});Xi({class:"smui-paper__title",tag:"h5"});Xi({class:"smui-paper__subtitle",tag:"h6"});function cg(e){let t;return{c(){t=Lt("div"),$t(t,"class","mdc-fab__focus-ring")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function fg(e){let t;return{c(){t=Lt("div"),$t(t,"class","mdc-fab__touch")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function yH(e){let t,n,r,s,i,o=e[4]&&cg();const a=e[22].default,l=xt(a,e,e[24],null);let c=e[9]&&fg();return{c(){t=Lt("div"),n=wt(),o&&o.c(),r=wt(),l&&l.c(),c&&c.c(),s=En(),$t(t,"class","mdc-fab__ripple")},m(f,u){De(f,t,u),De(f,n,u),o&&o.m(f,u),De(f,r,u),l&&l.m(f,u),c&&c.m(f,u),De(f,s,u),i=!0},p(f,u){f[4]?o||(o=cg(),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),l&&l.p&&(!i||u&16777216)&&Gt(l,a,f,f[24],i?kt(a,f[24],u,null):Bt(f[24]),null),f[9]?c||(c=fg(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(f){i||(ie(l,f),i=!0)},o(f){de(l,f),i=!1},d(f){f&&Me(t),f&&Me(n),o&&o.d(f),f&&Me(r),l&&l.d(f),c&&c.d(f),f&&Me(s)}}}function AH(e){let t,n,r;const s=[{tag:e[12]},{use:[[Yr,{ripple:e[3],unbounded:!1,color:e[5],disabled:!!e[20].disabled,addClass:e[17],removeClass:e[18],addStyle:e[19]}],e[16],...e[0]]},{class:dt({[e[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":e[6],"mdc-fab--exited":e[7],"mdc-fab--extended":e[8],"smui-fab--color-primary":e[5]==="primary","mdc-fab--touch":e[9],...e[14]})},{style:Object.entries(e[15]).map(ug).concat([e[2]]).join(" ")},{href:e[10]},e[20]];var i=e[11];function o(a){let l={$$slots:{default:[yH]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[23](t)),{c(){t&&ot(t.$$.fragment),n=En()},m(a,l){t&&nt(t,a,l),De(a,n,l),r=!0},p(a,[l]){const c=l&2086895?Ot(s,[l&4096&&{tag:a[12]},l&2031657&&{use:[[Yr,{ripple:a[3],unbounded:!1,color:a[5],disabled:!!a[20].disabled,addClass:a[17],removeClass:a[18],addStyle:a[19]}],a[16],...a[0]]},l&17378&&{class:dt({[a[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":a[6],"mdc-fab--exited":a[7],"mdc-fab--extended":a[8],"smui-fab--color-primary":a[5]==="primary","mdc-fab--touch":a[9],...a[14]})},l&32772&&{style:Object.entries(a[15]).map(ug).concat([a[2]]).join(" ")},l&1024&&{href:a[10]},l&1048576&&on(a[20])]):{};if(l&16777744&&(c.$$scope={dirty:l,ctx:a}),l&2048&&i!==(i=a[11])){if(t){Yt();const f=t;de(f.$$.fragment,1,0,()=>{rt(f,1)}),Zt()}i?(t=pr(i,o(a)),a[23](t),ot(t.$$.fragment),ie(t.$$.fragment,1),nt(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ie(t.$$.fragment,a),r=!0)},o(a){t&&de(t.$$.fragment,a),r=!1},d(a){e[23](null),a&&Me(n),t&&rt(t,a)}}}const ug=([e,t])=>`${e}: ${t};`;function SH(e,t,n){const r=["use","class","style","ripple","focusRing","color","mini","exited","extended","touch","href","component","tag","getElement"];let s=Et(t,r),{$$slots:i={},$$scope:o}=t;const a=wn(tn());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{ripple:u=!0}=t,{focusRing:h=!1}=t,{color:d="secondary"}=t,{mini:p=!1}=t,{exited:g=!1}=t,{extended:m=!1}=t,{touch:v=!1}=t,{href:b=void 0}=t,y,S={},w={},{component:E=vr}=t,{tag:A=E===vr?b==null?"button":"a":void 0}=t;ur("SMUI:label:context","fab"),ur("SMUI:icon:context","fab");function O($){S[$]||n(14,S[$]=!0,S)}function z($){(!($ in S)||S[$])&&n(14,S[$]=!1,S)}function N($,V){w[$]!=V&&(V===""||V==null?(delete w[$],n(15,w)):n(15,w[$]=V,w))}function k(){return y.getElement()}function le($){ct[$?"unshift":"push"](()=>{y=$,n(13,y)})}return e.$$set=$=>{t=je(je({},t),vn($)),n(20,s=Et(t,r)),"use"in $&&n(0,l=$.use),"class"in $&&n(1,c=$.class),"style"in $&&n(2,f=$.style),"ripple"in $&&n(3,u=$.ripple),"focusRing"in $&&n(4,h=$.focusRing),"color"in $&&n(5,d=$.color),"mini"in $&&n(6,p=$.mini),"exited"in $&&n(7,g=$.exited),"extended"in $&&n(8,m=$.extended),"touch"in $&&n(9,v=$.touch),"href"in $&&n(10,b=$.href),"component"in $&&n(11,E=$.component),"tag"in $&&n(12,A=$.tag),"$$scope"in $&&n(24,o=$.$$scope)},[l,c,f,u,h,d,p,g,m,v,b,E,A,y,S,w,a,O,z,N,s,k,i,le,o]}class EH extends rn{constructor(t){super(),nn(this,t,SH,AH,jt,{use:0,class:1,style:2,ripple:3,focusRing:4,color:5,mini:6,exited:7,extended:8,touch:9,href:10,component:11,tag:12,getElement:21})}get getElement(){return this.$$.ctx[21]}}function dg(e){let t;return{c(){t=Lt("div"),$t(t,"class","mdc-button__touch")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function wH(e){let t,n,r,s;const i=e[28].default,o=xt(i,e,e[30],null);let a=e[6]&&dg();return{c(){t=Lt("div"),n=wt(),o&&o.c(),a&&a.c(),r=En(),$t(t,"class","mdc-button__ripple")},m(l,c){De(l,t,c),De(l,n,c),o&&o.m(l,c),a&&a.m(l,c),De(l,r,c),s=!0},p(l,c){o&&o.p&&(!s||c[0]&1073741824)&&Gt(o,i,l,l[30],s?kt(i,l[30],c,null):Bt(l[30]),null),l[6]?a||(a=dg(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(l){s||(ie(o,l),s=!0)},o(l){de(o,l),s=!1},d(l){l&&Me(t),l&&Me(n),o&&o.d(l),a&&a.d(l),l&&Me(r)}}}function TH(e){let t,n,r;const s=[{tag:e[10]},{use:[[Yr,{ripple:e[3],unbounded:!1,color:e[4],disabled:!!e[23].disabled,addClass:e[19],removeClass:e[20],addStyle:e[21]}],e[17],...e[0]]},{class:dt({[e[1]]:!0,"mdc-button":!0,"mdc-button--raised":e[5]==="raised","mdc-button--unelevated":e[5]==="unelevated","mdc-button--outlined":e[5]==="outlined","smui-button--color-secondary":e[4]==="secondary","mdc-button--touch":e[6],"mdc-card__action":e[18]==="card:action","mdc-card__action--button":e[18]==="card:action","mdc-dialog__button":e[18]==="dialog:action","mdc-top-app-bar__navigation-icon":e[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":e[18]==="top-app-bar:action","mdc-snackbar__action":e[18]==="snackbar:actions","mdc-banner__secondary-action":e[18]==="banner"&&e[8],"mdc-banner__primary-action":e[18]==="banner"&&!e[8],"mdc-tooltip__action":e[18]==="tooltip:rich-actions",...e[12]})},{style:Object.entries(e[13]).map(hg).concat([e[2]]).join(" ")},e[16],e[15],e[14],{href:e[7]},e[23]];var i=e[9];function o(a){let l={$$slots:{default:[wH]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=je(l,s[c]);return{props:l}}return i&&(t=pr(i,o(e)),e[29](t),t.$on("click",e[22])),{c(){t&&ot(t.$$.fragment),n=En()},m(a,l){t&&nt(t,a,l),De(a,n,l),r=!0},p(a,l){const c=l[0]&12580351?Ot(s,[l[0]&1024&&{tag:a[10]},l[0]&12189721&&{use:[[Yr,{ripple:a[3],unbounded:!1,color:a[4],disabled:!!a[23].disabled,addClass:a[19],removeClass:a[20],addStyle:a[21]}],a[17],...a[0]]},l[0]&266610&&{class:dt({[a[1]]:!0,"mdc-button":!0,"mdc-button--raised":a[5]==="raised","mdc-button--unelevated":a[5]==="unelevated","mdc-button--outlined":a[5]==="outlined","smui-button--color-secondary":a[4]==="secondary","mdc-button--touch":a[6],"mdc-card__action":a[18]==="card:action","mdc-card__action--button":a[18]==="card:action","mdc-dialog__button":a[18]==="dialog:action","mdc-top-app-bar__navigation-icon":a[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":a[18]==="top-app-bar:action","mdc-snackbar__action":a[18]==="snackbar:actions","mdc-banner__secondary-action":a[18]==="banner"&&a[8],"mdc-banner__primary-action":a[18]==="banner"&&!a[8],"mdc-tooltip__action":a[18]==="tooltip:rich-actions",...a[12]})},l[0]&8196&&{style:Object.entries(a[13]).map(hg).concat([a[2]]).join(" ")},l[0]&65536&&on(a[16]),l[0]&32768&&on(a[15]),l[0]&16384&&on(a[14]),l[0]&128&&{href:a[7]},l[0]&8388608&&on(a[23])]):{};if(l[0]&1073741888&&(c.$$scope={dirty:l,ctx:a}),l[0]&512&&i!==(i=a[9])){if(t){Yt();const f=t;de(f.$$.fragment,1,0,()=>{rt(f,1)}),Zt()}i?(t=pr(i,o(a)),a[29](t),t.$on("click",a[22]),ot(t.$$.fragment),ie(t.$$.fragment,1),nt(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&ie(t.$$.fragment,a),r=!0)},o(a){t&&de(t.$$.fragment,a),r=!1},d(a){e[29](null),a&&Me(n),t&&rt(t,a)}}}const hg=([e,t])=>`${e}: ${t};`;function CH(e,t,n){let r,s,i;const o=["use","class","style","ripple","color","variant","touch","href","action","defaultAction","secondary","component","tag","getElement"];let a=Et(t,o),{$$slots:l={},$$scope:c}=t;const f=wn(tn());let{use:u=[]}=t,{class:h=""}=t,{style:d=""}=t,{ripple:p=!0}=t,{color:g="primary"}=t,{variant:m="text"}=t,{touch:v=!1}=t,{href:b=void 0}=t,{action:y="close"}=t,{defaultAction:S=!1}=t,{secondary:w=!1}=t,E,A={},O={},z=dr("SMUI:button:context"),{component:N=vr}=t,{tag:k=N===vr?b==null?"button":"a":void 0}=t,le=a.disabled;ur("SMUI:label:context","button"),ur("SMUI:icon:context","button");function $(te){A[te]||n(12,A[te]=!0,A)}function V(te){(!(te in A)||A[te])&&n(12,A[te]=!1,A)}function Ge(te,oe){O[te]!=oe&&(oe===""||oe==null?(delete O[te],n(13,O)):n(13,O[te]=oe,O))}function ne(){z==="banner"&&Bn(H(),w?"SMUIBannerButton:secondaryActionClick":"SMUIBannerButton:primaryActionClick")}function H(){return E.getElement()}function he(te){ct[te?"unshift":"push"](()=>{E=te,n(11,E)})}return e.$$set=te=>{n(31,t=je(je({},t),vn(te))),n(23,a=Et(t,o)),"use"in te&&n(0,u=te.use),"class"in te&&n(1,h=te.class),"style"in te&&n(2,d=te.style),"ripple"in te&&n(3,p=te.ripple),"color"in te&&n(4,g=te.color),"variant"in te&&n(5,m=te.variant),"touch"in te&&n(6,v=te.touch),"href"in te&&n(7,b=te.href),"action"in te&&n(24,y=te.action),"defaultAction"in te&&n(25,S=te.defaultAction),"secondary"in te&&n(8,w=te.secondary),"component"in te&&n(9,N=te.component),"tag"in te&&n(10,k=te.tag),"$$scope"in te&&n(30,c=te.$$scope)},e.$$.update=()=>{if(n(16,r=z==="dialog:action"&&y!=null?{"data-mdc-dialog-action":y}:{action:t.action}),n(15,s=z==="dialog:action"&&S?{"data-mdc-dialog-button-default":""}:{default:t.default}),n(14,i=z==="banner"?{}:{secondary:t.secondary}),le!==a.disabled){const te=H();"blur"in te&&te.blur(),n(27,le=a.disabled)}},t=vn(t),[u,h,d,p,g,m,v,b,w,N,k,E,A,O,i,s,r,f,z,$,V,Ge,ne,a,y,S,H,le,l,he,c]}class dl extends rn{constructor(t){super(),nn(this,t,CH,TH,jt,{use:0,class:1,style:2,ripple:3,color:4,variant:5,touch:6,href:7,action:24,defaultAction:25,secondary:8,component:9,tag:10,getElement:26},null,[-1,-1])}get getElement(){return this.$$.ctx[26]}}function mg(e,t,n){const r=e.slice();return r[27]=t[n],r[29]=n,r}function pg(e,t,n){const r=e.slice();return r[11]=t[n],r[30]=t,r[31]=n,r}function PH(e){let t;return{c(){t=Qn("download")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function LH(e){let t,n;return t=new hV({props:{class:"material-icons",$$slots:{default:[PH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function OH(e){let t=e[33]+"",n;return{c(){n=Qn(t)},m(r,s){De(r,n,s)},p(r,s){s[1]&4&&t!==(t=r[33]+"")&&Qs(n,t)},d(r){r&&Me(n)}}}function RH(e){let t,n;return t=new qi({props:{$$slots:{default:[OH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[1]&12&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function MH(e){let t,n;return t=new IV({props:{tab:e[33],$$slots:{default:[RH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[1]&4&&(i.tab=r[33]),s[1]&12&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function IH(e){let t,n;return t=new tb({props:{variant:"unelevated",style:" height: 100%",$$slots:{default:[qH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[0]&2048|s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function DH(e){let t,n,r=e[9]&&gg(e);return{c(){r&&r.c(),t=En()},m(s,i){r&&r.m(s,i),De(s,t,i),n=!0},p(s,i){s[9]?r?(r.p(s,i),i[0]&512&&ie(r,1)):(r=gg(s),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(Yt(),de(r,1,1,()=>{r=null}),Zt())},i(s){n||(ie(r),n=!0)},o(s){de(r),n=!1},d(s){r&&r.d(s),s&&Me(t)}}}function FH(e){let t,n;return t=new tb({props:{variant:"unelevated",class:"settings",$$slots:{default:[XH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[0]&508|s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function xH(e){let t,n,r,s,i;function o(u){e[17](u)}let a={segments:e[12],singleSelect:!0,style:"margin: 1rem 0 0 1rem",$$slots:{default:[ZH,({segment:u})=>({32:u}),({segment:u})=>[0,u?2:0]]},$$scope:{ctx:e}};e[10]!==void 0&&(a.selected=e[10]),t=new JV({props:a}),ct.push(()=>Un(t,"selected",o));let l=e[0],c=[];for(let u=0;u<l.length;u+=1)c[u]=bg(mg(e,l,u));const f=u=>de(c[u],1,1,()=>{c[u]=null});return{c(){ot(t.$$.fragment),r=wt(),s=Lt("main");for(let u=0;u<c.length;u+=1)c[u].c();$t(s,"class","svelte-71su6i")},m(u,h){nt(t,u,h),De(u,r,h),De(u,s,h);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(s,null);i=!0},p(u,h){const d={};if(h[1]&10&&(d.$$scope={dirty:h,ctx:u}),!n&&h[0]&1024&&(n=!0,d.selected=u[10],Vn(()=>n=!1)),t.$set(d),h[0]&5121){l=u[0];let p;for(p=0;p<l.length;p+=1){const g=mg(u,l,p);c[p]?(c[p].p(g,h),ie(c[p],1)):(c[p]=bg(g),c[p].c(),ie(c[p],1),c[p].m(s,null))}for(Yt(),p=l.length;p<c.length;p+=1)f(p);Zt()}},i(u){if(!i){ie(t.$$.fragment,u);for(let h=0;h<l.length;h+=1)ie(c[h]);i=!0}},o(u){de(t.$$.fragment,u),c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)de(c[h]);i=!1},d(u){rt(t,u),u&&Me(r),u&&Me(s),Sg(c,u)}}}function kH(e){let t;return{c(){t=Qn("Copy/paste to save/load the state")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function GH(e){let t,n;return t=new vH({props:{slot:"helper",$$slots:{default:[kH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function BH(e){let t;return{c(){t=Qn("Clear")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function NH(e){let t,n;return t=new qi({props:{$$slots:{default:[BH]},$$scope:{ctx:e}}}),t.$on("click",e[15](I$)),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function $H(e){let t;return{c(){t=Qn("Small")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function VH(e){let t,n;return t=new qi({props:{$$slots:{default:[$H]},$$scope:{ctx:e}}}),t.$on("click",e[15](H2)),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function UH(e){let t;return{c(){t=Qn("Big")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function HH(e){let t,n;return t=new qi({props:{$$slots:{default:[UH]},$$scope:{ctx:e}}}),t.$on("click",e[15](D$)),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function zH(e){let t;return{c(){t=Qn("Sun")},m(n,r){De(n,t,r)},d(n){n&&Me(t)}}}function jH(e){let t,n;return t=new qi({props:{$$slots:{default:[zH]},$$scope:{ctx:e}}}),t.$on("click",e[15](F$)),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[1]&8&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function qH(e){let t,n,r,s,i,o,a,l,c,f,u,h;return t=new gs({props:{style:"width: 100%",input$style:"width: 100%",class:"save-area",textarea:!0,value:e[11],label:"State",input$resizable:!1,input$rows:6,$$slots:{helper:[GH]},$$scope:{ctx:e}}}),t.$on("input",e[13]),i=new dl({props:{$$slots:{default:[NH]},$$scope:{ctx:e}}}),a=new dl({props:{$$slots:{default:[VH]},$$scope:{ctx:e}}}),c=new dl({props:{$$slots:{default:[HH]},$$scope:{ctx:e}}}),u=new dl({props:{$$slots:{default:[jH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment),n=wt(),r=Lt("div"),r.textContent="Load model",s=wt(),ot(i.$$.fragment),o=wt(),ot(a.$$.fragment),l=wt(),ot(c.$$.fragment),f=wt(),ot(u.$$.fragment),$t(r,"class","mdc-typography--subtitle1"),Hs(r,"margin-top","1rem")},m(d,p){nt(t,d,p),De(d,n,p),De(d,r,p),De(d,s,p),nt(i,d,p),De(d,o,p),nt(a,d,p),De(d,l,p),nt(c,d,p),De(d,f,p),nt(u,d,p),h=!0},p(d,p){const g={};p[0]&2048&&(g.value=d[11]),p[1]&8&&(g.$$scope={dirty:p,ctx:d}),t.$set(g);const m={};p[1]&8&&(m.$$scope={dirty:p,ctx:d}),i.$set(m);const v={};p[1]&8&&(v.$$scope={dirty:p,ctx:d}),a.$set(v);const b={};p[1]&8&&(b.$$scope={dirty:p,ctx:d}),c.$set(b);const y={};p[1]&8&&(y.$$scope={dirty:p,ctx:d}),u.$set(y)},i(d){h||(ie(t.$$.fragment,d),ie(i.$$.fragment,d),ie(a.$$.fragment,d),ie(c.$$.fragment,d),ie(u.$$.fragment,d),h=!0)},o(d){de(t.$$.fragment,d),de(i.$$.fragment,d),de(a.$$.fragment,d),de(c.$$.fragment,d),de(u.$$.fragment,d),h=!1},d(d){rt(t,d),d&&Me(n),d&&Me(r),d&&Me(s),rt(i,d),d&&Me(o),rt(a,d),d&&Me(l),rt(c,d),d&&Me(f),rt(u,d)}}}function gg(e){let t,n;return t=new QS({props:{model:e[9]}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[0]&512&&(i.model=r[9]),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function XH(e){let t,n,r,s,i,o,a,l,c,f,u,h,d,p,g,m,v,b,y,S,w;function E(oe){e[19](oe)}let A={label:"Inner cell perimeter",type:"number",min:"0"};e[2]!==void 0&&(A.value=e[2]),t=new gs({props:A}),ct.push(()=>Un(t,"value",E));function O(oe){e[20](oe)}let z={label:"Wall width",type:"number",min:"0"};e[3]!==void 0&&(z.value=e[3]),s=new gs({props:z}),ct.push(()=>Un(s,"value",O));function N(oe){e[21](oe)}let k={label:"Depth",type:"number",min:"0"};e[4]!==void 0&&(k.value=e[4]),a=new gs({props:k}),ct.push(()=>Un(a,"value",N));function le(oe){e[22](oe)}let $={label:"Cap radius",type:"number",min:"0"};e[5]!==void 0&&($.value=e[5]),f=new gs({props:$}),ct.push(()=>Un(f,"value",le));function V(oe){e[23](oe)}let Ge={label:"Cap inset",type:"number",min:"0"};e[6]!==void 0&&(Ge.value=e[6]),d=new gs({props:Ge}),ct.push(()=>Un(d,"value",V));function ne(oe){e[24](oe)}let H={label:"Wall mount holes horiz. dist. offset",type:"number"};e[7]!==void 0&&(H.value=e[7]),m=new gs({props:H}),ct.push(()=>Un(m,"value",ne));function he(oe){e[25](oe)}let te={label:"Wall mount holes vertical offset",type:"number"};return e[8]!==void 0&&(te.value=e[8]),y=new gs({props:te}),ct.push(()=>Un(y,"value",he)),{c(){ot(t.$$.fragment),r=wt(),ot(s.$$.fragment),o=wt(),ot(a.$$.fragment),c=wt(),ot(f.$$.fragment),h=wt(),ot(d.$$.fragment),g=wt(),ot(m.$$.fragment),b=wt(),ot(y.$$.fragment)},m(oe,lt){nt(t,oe,lt),De(oe,r,lt),nt(s,oe,lt),De(oe,o,lt),nt(a,oe,lt),De(oe,c,lt),nt(f,oe,lt),De(oe,h,lt),nt(d,oe,lt),De(oe,g,lt),nt(m,oe,lt),De(oe,b,lt),nt(y,oe,lt),w=!0},p(oe,lt){const ke={};!n&&lt[0]&4&&(n=!0,ke.value=oe[2],Vn(()=>n=!1)),t.$set(ke);const Ct={};!i&&lt[0]&8&&(i=!0,Ct.value=oe[3],Vn(()=>i=!1)),s.$set(Ct);const Xt={};!l&&lt[0]&16&&(l=!0,Xt.value=oe[4],Vn(()=>l=!1)),a.$set(Xt);const Nt={};!u&&lt[0]&32&&(u=!0,Nt.value=oe[5],Vn(()=>u=!1)),f.$set(Nt);const On={};!p&&lt[0]&64&&(p=!0,On.value=oe[6],Vn(()=>p=!1)),d.$set(On);const zn={};!v&&lt[0]&128&&(v=!0,zn.value=oe[7],Vn(()=>v=!1)),m.$set(zn);const Ye={};!S&&lt[0]&256&&(S=!0,Ye.value=oe[8],Vn(()=>S=!1)),y.$set(Ye)},i(oe){w||(ie(t.$$.fragment,oe),ie(s.$$.fragment,oe),ie(a.$$.fragment,oe),ie(f.$$.fragment,oe),ie(d.$$.fragment,oe),ie(m.$$.fragment,oe),ie(y.$$.fragment,oe),w=!0)},o(oe){de(t.$$.fragment,oe),de(s.$$.fragment,oe),de(a.$$.fragment,oe),de(f.$$.fragment,oe),de(d.$$.fragment,oe),de(m.$$.fragment,oe),de(y.$$.fragment,oe),w=!1},d(oe){rt(t,oe),oe&&Me(r),rt(s,oe),oe&&Me(o),rt(a,oe),oe&&Me(c),rt(f,oe),oe&&Me(h),rt(d,oe),oe&&Me(g),rt(m,oe),oe&&Me(b),rt(y,oe)}}}function WH(e){let t=e[32]+"",n;return{c(){n=Qn(t)},m(r,s){De(r,n,s)},p(r,s){s[1]&2&&t!==(t=r[32]+"")&&Qs(n,t)},d(r){r&&Me(n)}}}function YH(e){let t,n;return t=new qi({props:{$$slots:{default:[WH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[1]&10&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function ZH(e){let t,n;return t=new nU({props:{segment:e[32],$$slots:{default:[YH]},$$scope:{ctx:e}}}),{c(){ot(t.$$.fragment)},m(r,s){nt(t,r,s),n=!0},p(r,s){const i={};s[1]&2&&(i.segment=r[32]),s[1]&10&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(ie(t.$$.fragment,r),n=!0)},o(r){de(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function vg(e){let t,n,r;function s(o){e[18](o,e[11],e[30],e[31])}let i={x:e[31],y:e[29],mode:e[12].indexOf(e[10])};return e[11]!==void 0&&(i.value=e[11]),t=new t5({props:i}),ct.push(()=>Un(t,"value",s)),{c(){ot(t.$$.fragment)},m(o,a){nt(t,o,a),r=!0},p(o,a){e=o;const l={};a[0]&1024&&(l.mode=e[12].indexOf(e[10])),!n&&a[0]&1&&(n=!0,l.value=e[11],Vn(()=>n=!1)),t.$set(l)},i(o){r||(ie(t.$$.fragment,o),r=!0)},o(o){de(t.$$.fragment,o),r=!1},d(o){rt(t,o)}}}function bg(e){let t,n,r=e[27],s=[];for(let o=0;o<r.length;o+=1)s[o]=vg(pg(e,r,o));const i=o=>de(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=En()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);De(o,t,a),n=!0},p(o,a){if(a[0]&5121){r=o[27];let l;for(l=0;l<r.length;l+=1){const c=pg(o,r,l);s[l]?(s[l].p(c,a),ie(s[l],1)):(s[l]=vg(c),s[l].c(),ie(s[l],1),s[l].m(t.parentNode,t))}for(Yt(),l=r.length;l<s.length;l+=1)i(l);Zt()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)ie(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)de(s[a]);n=!1},d(o){Sg(s,o),o&&Me(t)}}}function KH(e){let t,n,r,s,i,o,a,l,c,f;t=new EH({props:{color:"primary",style:"position: fixed; right: 1rem; bottom: 1rem; z-index: 1",$$slots:{default:[LH]},$$scope:{ctx:e}}}),t.$on("click",e[14]);function u(m){e[16](m)}let h={tabs:["Parameters","Design","Preview","Load/Save","About"],$$slots:{default:[MH,({tab:m})=>({33:m}),({tab:m})=>[0,m?4:0]]},$$scope:{ctx:e}};e[1]!==void 0&&(h.active=e[1]),r=new XV({props:h}),ct.push(()=>Un(r,"active",u));const d=[xH,FH,DH,IH],p=[];function g(m,v){return m[1]==="Design"?0:m[1]==="Parameters"?1:m[1]==="Preview"?2:m[1]==="Load/Save"?3:-1}return~(o=g(e))&&(a=p[o]=d[o](e)),{c(){ot(t.$$.fragment),n=wt(),ot(r.$$.fragment),i=wt(),a&&a.c(),l=wt(),c=Lt("header"),c.innerHTML="<section></section>"},m(m,v){nt(t,m,v),De(m,n,v),nt(r,m,v),De(m,i,v),~o&&p[o].m(m,v),De(m,l,v),De(m,c,v),f=!0},p(m,v){const b={};v[1]&8&&(b.$$scope={dirty:v,ctx:m}),t.$set(b);const y={};v[1]&12&&(y.$$scope={dirty:v,ctx:m}),!s&&v[0]&2&&(s=!0,y.active=m[1],Vn(()=>s=!1)),r.$set(y);let S=o;o=g(m),o===S?~o&&p[o].p(m,v):(a&&(Yt(),de(p[S],1,1,()=>{p[S]=null}),Zt()),~o?(a=p[o],a?a.p(m,v):(a=p[o]=d[o](m),a.c()),ie(a,1),a.m(l.parentNode,l)):a=null)},i(m){f||(ie(t.$$.fragment,m),ie(r.$$.fragment,m),ie(a),f=!0)},o(m){de(t.$$.fragment,m),de(r.$$.fragment,m),de(a),f=!1},d(m){rt(t,m),m&&Me(n),rt(r,m),m&&Me(i),~o&&p[o].d(m),m&&Me(l),m&&Me(c)}}}function QH(e,t,n){let r,s=structuredClone(H2),i="Design",o="vacant",a=30,l=2.25,c=22,f=1.5,u=1,h=0,d=0;const p=["clear","hole","vacant","capped"];function g(V){n(0,{model:s,cellSize:a,wallWidth:l,height:c,radius:f,inset:u,keyholeHorizontalDistanceOffset:h,keyholeVerticalOffset:d}=JSON.parse(V.target.value),s,n(2,a),n(3,l),n(4,c),n(5,f),n(6,u),n(7,h),n(8,d))}function m(){M$.saveAs(new Blob(R$.serialize({binary:!0},b())),"model.stl")}let v;function b(){return z$(s,a/2,l,c,f,u,h,d)}function y(V){return()=>{n(0,s=structuredClone(V))}}function S(V){i=V,n(1,i)}function w(V){o=V,n(10,o)}function E(V,Ge,ne,H){ne[H]=V,n(0,s)}function A(V){a=V,n(2,a)}function O(V){l=V,n(3,l)}function z(V){c=V,n(4,c)}function N(V){f=V,n(5,f)}function k(V){u=V,n(6,u)}function le(V){h=V,n(7,h)}function $(V){d=V,n(8,d)}return e.$$.update=()=>{e.$$.dirty[0]&509&&n(11,r=JSON.stringify({model:s,cellSize:a,wallWidth:l,height:c,radius:f,inset:u,keyholeHorizontalDistanceOffset:h,keyholeVerticalOffset:d})),e.$$.dirty[0]&514&&i==="Preview"&&(n(9,v=b()),n(9,v=Wr.transforms.rotateZ(Math.PI,Wr.transforms.center({},v))))},[s,i,a,l,c,f,u,h,d,v,o,r,p,g,m,y,S,w,E,A,O,z,N,k,le,$]}class JH extends rn{constructor(t){super(),nn(this,t,QH,KH,jt,{},null,[-1,-1])}}new JH({target:document.getElementById("app")});
