(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function on(){}function qe(e,t){for(const n in t)e[n]=t[n];return e}function Ag(e){return e()}function m1(){return Object.create(null)}function fn(e){e.forEach(Ag)}function zt(e){return typeof e=="function"}function Ht(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Vy(e){return Object.keys(e).length===0}function Uy(e,...t){if(e==null)return on;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function $o(e,t,n){e.$$.on_destroy.push(Uy(t,n))}function Bt(e,t,n,r){if(e){const s=Sg(e,t,n,r);return e[0](s)}}function Sg(e,t,n,r){return e[1]&&r?qe(n.ctx.slice(),e[1](r(t))):n.ctx}function Nt(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(t.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=t.dirty[a]|s[a];return i}return t.dirty|s}return t.dirty}function $t(e,t,n,r,s,i){if(s){const o=Sg(t,n,r,i);e.p(o,s)}}function Vt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function An(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Ct(e,t){const n={};t=new Set(t);for(const r in e)!t.has(r)&&r[0]!=="$"&&(n[r]=e[r]);return n}function zy(e){const t={};for(const n in e)t[n]=!0;return t}function Eg(e,t,n){return e.set(n),t}function wt(e){return e&&zt(e.destroy)?e.destroy:on}function _n(e,t){e.appendChild(t)}function we(e,t,n){e.insertBefore(t,n||null)}function Ee(e){e.parentNode&&e.parentNode.removeChild(e)}function wg(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Et(e){return document.createElement(e)}function Iu(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function qn(e){return document.createTextNode(e)}function mt(){return qn(" ")}function pn(){return qn("")}function Dt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Hy(e){return function(t){return t.preventDefault(),e.call(this,t)}}function jy(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Ot(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const qy=["width","height"];function Rt(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)t[r]==null?e.removeAttribute(r):r==="style"?e.style.cssText=t[r]:r==="__value"?e.value=e[r]=t[r]:n[r]&&n[r].set&&qy.indexOf(r)===-1?e[r]=t[r]:Ot(e,r,t[r])}function p1(e,t){for(const n in t)Ot(e,n,t[n])}function Xy(e,t){Object.keys(t).forEach(n=>{Wy(e,n,t[n])})}function Wy(e,t,n){t in e?e[t]=typeof e[t]=="boolean"&&n===""?!0:n:Ot(e,t,n)}function yl(e){return/-/.test(e)?Xy:Rt}function Yy(e){return Array.from(e.childNodes)}function si(e,t){t=""+t,e.data!==t&&(e.data=t)}function g1(e,t){e.value=t??""}function Ys(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function vr(e,t){return new e(t)}let zo;function Vo(e){zo=e}function an(){if(!zo)throw new Error("Function called outside component initialization");return zo}function ar(e){an().$$.on_mount.push(e)}function Yu(e){an().$$.on_destroy.push(e)}function hr(e,t){return an().$$.context.set(e,t),t}function mr(e){return an().$$.context.get(e)}function Ho(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Bi=[],ot=[];let Vi=[];const Du=[],Tg=Promise.resolve();let Fu=!1;function Cg(){Fu||(Fu=!0,Tg.then(Pg))}function Zy(){return Cg(),Tg}function xu(e){Vi.push(e)}function In(e){Du.push(e)}const bf=new Set;let Ci=0;function Pg(){if(Ci!==0)return;const e=zo;do{try{for(;Ci<Bi.length;){const t=Bi[Ci];Ci++,Vo(t),Ky(t.$$)}}catch(t){throw Bi.length=0,Ci=0,t}for(Vo(null),Bi.length=0,Ci=0;ot.length;)ot.pop()();for(let t=0;t<Vi.length;t+=1){const n=Vi[t];bf.has(n)||(bf.add(n),n())}Vi.length=0}while(Bi.length);for(;Du.length;)Du.pop()();Fu=!1,bf.clear(),Vo(e)}function Ky(e){if(e.fragment!==null){e.update(),fn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(xu)}}function Qy(e){const t=[],n=[];Vi.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Vi=t}const pl=new Set;let Js;function Zt(){Js={r:0,c:[],p:Js}}function Kt(){Js.r||fn(Js.c),Js=Js.p}function re(e,t){e&&e.i&&(pl.delete(e),e.i(t))}function le(e,t,n,r){if(e&&e.o){if(pl.has(e))return;pl.add(e),Js.c.push(()=>{pl.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Lg(e,t){le(e,1,1,()=>{t.delete(e.key)})}function Og(e,t,n,r,s,i,o,a,l,c,f,u){let d=e.length,h=i.length,g=d;const p={};for(;g--;)p[e[g].key]=g;const m=[],v=new Map,b=new Map,y=[];for(g=h;g--;){const A=u(s,i,g),O=n(A);let z=o.get(O);z?r&&y.push(()=>z.p(A,t)):(z=c(O,A),z.c()),v.set(O,m[g]=z),O in p&&b.set(O,Math.abs(g-p[O]))}const S=new Set,w=new Set;function E(A){re(A,1),A.m(a,f),o.set(A.key,A),f=A.first,h--}for(;d&&h;){const A=m[h-1],O=e[d-1],z=A.key,B=O.key;A===O?(f=A.first,d--,h--):v.has(B)?!o.has(z)||S.has(z)?E(A):w.has(B)?d--:b.get(z)>b.get(B)?(w.add(z),E(A)):(S.add(B),d--):(l(O,o),d--)}for(;d--;){const A=e[d];v.has(A.key)||l(A,o)}for(;h;)E(m[h-1]);return fn(y),m}function It(e,t){const n={},r={},s={$$scope:1};let i=e.length;for(;i--;){const o=e[i],a=t[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);e[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function cn(e){return typeof e=="object"&&e!==null?e:{}}function Dn(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function tt(e){e&&e.c()}function Qe(e,t,n,r){const{fragment:s,after_update:i}=e.$$;s&&s.m(t,n),r||xu(()=>{const o=e.$$.on_mount.map(Ag).filter(zt);e.$$.on_destroy?e.$$.on_destroy.push(...o):fn(o),e.$$.on_mount=[]}),i.forEach(xu)}function Je(e,t){const n=e.$$;n.fragment!==null&&(Qy(n.after_update),fn(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Jy(e,t){e.$$.dirty[0]===-1&&(Bi.push(e),Cg(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Qt(e,t,n,r,s,i,o,a=[-1]){const l=zo;Vo(e);const c=e.$$={fragment:null,ctx:[],props:i,update:on,not_equal:s,bound:m1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:m1(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(e,t.props||{},(u,d,...h)=>{const g=h.length?h[0]:d;return c.ctx&&s(c.ctx[u],c.ctx[u]=g)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](g),f&&Jy(e,u)),d}):[],c.update(),f=!0,fn(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const u=Yy(t.target);c.fragment&&c.fragment.l(u),u.forEach(Ee)}else c.fragment&&c.fragment.c();t.intro&&re(e.$$.fragment),Qe(e,t.target,t.anchor,t.customElement),Pg()}Vo(l)}class Jt{$destroy(){Je(this,1),this.$destroy=on}$on(t,n){if(!zt(n))return on;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!Vy(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function e5(e){let t,n,r,s,i,o,a;return{c(){t=Iu("svg"),n=Iu("polygon"),Ot(n,"points","300,150 225,280 75,280 0,150 75,20 225,20"),Ot(n,"fill",r=["white","#eee","yellow","orange"][e[0]]),Ot(n,"stroke",s=e[0]?"black":"silver"),Ot(n,"stroke-width",i=e[0]?10:2),Ot(t,"width","50"),Ot(t,"viewBox","-5 15 310 290"),Ys(t,"left",e[2]/2),Ys(t,"top",e[1]/2),Ys(t,"z-index",e[0]?1:0),Ot(t,"class","svelte-1nr73ai")},m(l,c){we(l,t,c),_n(t,n),o||(a=Dt(n,"click",e[3]),o=!0)},p(l,[c]){c&1&&r!==(r=["white","#eee","yellow","orange"][l[0]])&&Ot(n,"fill",r),c&1&&s!==(s=l[0]?"black":"silver")&&Ot(n,"stroke",s),c&1&&i!==(i=l[0]?10:2)&&Ot(n,"stroke-width",i),c&4&&Ys(t,"left",l[2]/2),c&2&&Ys(t,"top",l[1]/2),c&1&&Ys(t,"z-index",l[0]?1:0)},i:on,o:on,d(l){l&&Ee(t),o=!1,a()}}}function t5(e,t,n){let r,s,{x:i}=t,{y:o}=t,{value:a}=t,{mode:l}=t;function c(){n(0,a=l)}return e.$$set=f=>{"x"in f&&n(4,i=f.x),"y"in f&&n(5,o=f.y),"value"in f&&n(0,a=f.value),"mode"in f&&n(6,l=f.mode)},e.$$.update=()=>{e.$$.dirty&16&&n(2,r=i*72.7),e.$$.dirty&48&&n(1,s=(19-o)*83.5+(i%2?0:41.7))},[a,s,r,c,i,o,l]}class n5 extends Jt{constructor(t){super(),Qt(this,t,t5,e5,Ht,{x:4,y:5,value:0,mode:6})}}var Zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rg={exports:{}};/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/material-components/material-components-web/blob/master/LICENSE
 */(function(e,t){(function(r,s){e.exports=s()})(Zs,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(o&1&&(i=s(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var l in i)s.d(a,l,function(c){return i[c]}.bind(null,l));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s="./packages/mdc-segmented-button/index.ts")}({"./packages/mdc-base/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__read||function(c,f){var u=typeof Symbol=="function"&&c[Symbol.iterator];if(!u)return c;var d=u.call(c),h,g=[],p;try{for(;(f===void 0||f-- >0)&&!(h=d.next()).done;)g.push(h.value)}catch(m){p={error:m}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(p)throw p.error}}return g},o=this&&this.__spreadArray||function(c,f){for(var u=0,d=f.length,h=c.length;u<d;u++,h++)c[h]=f[u];return c};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCComponent=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=function(){function c(f,u){for(var d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];this.root=f,this.initialize.apply(this,o([],i(d))),this.foundation=u===void 0?this.getDefaultFoundation():u,this.foundation.init(),this.initialSyncWithDOM()}return c.attachTo=function(f){return new c(f,new a.MDCFoundation({}))},c.prototype.initialize=function(){},c.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},c.prototype.initialSyncWithDOM=function(){},c.prototype.destroy=function(){this.foundation.destroy()},c.prototype.listen=function(f,u,d){this.root.addEventListener(f,u,d)},c.prototype.unlisten=function(f,u,d){this.root.removeEventListener(f,u,d)},c.prototype.emit=function(f,u,d){d===void 0&&(d=!1);var h;typeof CustomEvent=="function"?h=new CustomEvent(f,{bubbles:d,detail:u}):(h=document.createEvent("CustomEvent"),h.initCustomEvent(f,d,!1,u)),this.root.dispatchEvent(h)},c}();r.MDCComponent=l,r.default=l},"./packages/mdc-base/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.MDCFoundation=void 0;var i=function(){function o(a){a===void 0&&(a={}),this.adapter=a}return Object.defineProperty(o,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.destroy=function(){},o}();r.MDCFoundation=i,r.default=i},"./packages/mdc-dom/events.ts":function(n,r,s){/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.applyPassive=void 0;function i(a){return a===void 0&&(a=window),o(a)?{passive:!0}:!1}r.applyPassive=i;function o(a){a===void 0&&(a=window);var l=!1;try{var c={get passive(){return l=!0,!1}},f=function(){};a.document.addEventListener("test",f,c),a.document.removeEventListener("test",f,c)}catch{l=!1}return l}},"./packages/mdc-dom/ponyfill.ts":function(n,r,s){/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.estimateScrollWidth=r.matches=r.closest=void 0;function i(l,c){if(l.closest)return l.closest(c);for(var f=l;f;){if(o(f,c))return f;f=f.parentElement}return null}r.closest=i;function o(l,c){var f=l.matches||l.webkitMatchesSelector||l.msMatchesSelector;return f.call(l,c)}r.matches=o;function a(l){var c=l;if(c.offsetParent!==null)return c.scrollWidth;var f=c.cloneNode(!0);f.style.setProperty("position","absolute"),f.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(f);var u=f.scrollWidth;return document.documentElement.removeChild(f),u}r.estimateScrollWidth=a},"./packages/mdc-ripple/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var p=function(v,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(y[w]=S[w])},p(v,b)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__createBinding||(Object.create?function(p,m,v,b){b===void 0&&(b=v),Object.defineProperty(p,b,{enumerable:!0,get:function(){return m[v]}})}:function(p,m,v,b){b===void 0&&(b=v),p[b]=m[v]}),a=this&&this.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),l=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var v in p)v!=="default"&&Object.prototype.hasOwnProperty.call(p,v)&&o(m,p,v);return a(m,p),m};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRipple=void 0;var c=s("./packages/mdc-base/component.ts"),f=s("./packages/mdc-dom/events.ts"),u=s("./packages/mdc-dom/ponyfill.ts"),d=s("./packages/mdc-ripple/foundation.ts"),h=l(s("./packages/mdc-ripple/util.ts")),g=function(p){i(m,p);function m(){var v=p!==null&&p.apply(this,arguments)||this;return v.disabled=!1,v}return m.attachTo=function(v,b){b===void 0&&(b={isUnbounded:void 0});var y=new m(v);return b.isUnbounded!==void 0&&(y.unbounded=b.isUnbounded),y},m.createAdapter=function(v){return{addClass:function(y){return v.root.classList.add(y)},browserSupportsCssVars:function(){return h.supportsCssVariables(window)},computeBoundingRect:function(){return v.root.getBoundingClientRect()},containsEventTarget:function(y){return v.root.contains(y)},deregisterDocumentInteractionHandler:function(y,S){return document.documentElement.removeEventListener(y,S,f.applyPassive())},deregisterInteractionHandler:function(y,S){return v.root.removeEventListener(y,S,f.applyPassive())},deregisterResizeHandler:function(y){return window.removeEventListener("resize",y)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return u.matches(v.root,":active")},isSurfaceDisabled:function(){return!!v.disabled},isUnbounded:function(){return!!v.unbounded},registerDocumentInteractionHandler:function(y,S){return document.documentElement.addEventListener(y,S,f.applyPassive())},registerInteractionHandler:function(y,S){return v.root.addEventListener(y,S,f.applyPassive())},registerResizeHandler:function(y){return window.addEventListener("resize",y)},removeClass:function(y){return v.root.classList.remove(y)},updateCssVariable:function(y,S){return v.root.style.setProperty(y,S)}}},Object.defineProperty(m.prototype,"unbounded",{get:function(){return!!this.isUnbounded},set:function(b){this.isUnbounded=!!b,this.setUnbounded()},enumerable:!1,configurable:!0}),m.prototype.activate=function(){this.foundation.activate()},m.prototype.deactivate=function(){this.foundation.deactivate()},m.prototype.layout=function(){this.foundation.layout()},m.prototype.getDefaultFoundation=function(){return new d.MDCRippleFoundation(m.createAdapter(this))},m.prototype.initialSyncWithDOM=function(){var v=this.root;this.isUnbounded="mdcRippleIsUnbounded"in v.dataset},m.prototype.setUnbounded=function(){this.foundation.setUnbounded(!!this.isUnbounded)},m}(c.MDCComponent);r.MDCRipple=g},"./packages/mdc-ripple/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.numbers=r.strings=r.cssClasses=void 0,r.cssClasses={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},r.strings={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},r.numbers={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300}},"./packages/mdc-ripple/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var p=function(v,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(y[w]=S[w])},p(v,b)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(p){for(var m,v=1,b=arguments.length;v<b;v++){m=arguments[v];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(p[y]=m[y])}return p},o.apply(this,arguments)},a=this&&this.__values||function(p){var m=typeof Symbol=="function"&&Symbol.iterator,v=m&&p[m],b=0;if(v)return v.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&b>=p.length&&(p=void 0),{value:p&&p[b++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCRippleFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-ripple/constants.ts"),f=s("./packages/mdc-ripple/util.ts"),u=["touchstart","pointerdown","mousedown","keydown"],d=["touchend","pointerup","mouseup","contextmenu"],h=[],g=function(p){i(m,p);function m(v){var b=p.call(this,o(o({},m.defaultAdapter),v))||this;return b.activationAnimationHasEnded=!1,b.activationTimer=0,b.fgDeactivationRemovalTimer=0,b.fgScale="0",b.frame={width:0,height:0},b.initialSize=0,b.layoutFrame=0,b.maxRadius=0,b.unboundedCoords={left:0,top:0},b.activationState=b.defaultActivationState(),b.activationTimerCallback=function(){b.activationAnimationHasEnded=!0,b.runDeactivationUXLogicIfReady()},b.activateHandler=function(y){b.activateImpl(y)},b.deactivateHandler=function(){b.deactivateImpl()},b.focusHandler=function(){b.handleFocus()},b.blurHandler=function(){b.handleBlur()},b.resizeHandler=function(){b.layout()},b}return Object.defineProperty(m,"cssClasses",{get:function(){return c.cssClasses},enumerable:!1,configurable:!0}),Object.defineProperty(m,"strings",{get:function(){return c.strings},enumerable:!1,configurable:!0}),Object.defineProperty(m,"numbers",{get:function(){return c.numbers},enumerable:!1,configurable:!0}),Object.defineProperty(m,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),m.prototype.init=function(){var v=this,b=this.supportsPressRipple();if(this.registerRootHandlers(b),b){var y=m.cssClasses,S=y.ROOT,w=y.UNBOUNDED;requestAnimationFrame(function(){v.adapter.addClass(S),v.adapter.isUnbounded()&&(v.adapter.addClass(w),v.layoutInternal())})}},m.prototype.destroy=function(){var v=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(m.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(m.cssClasses.FG_DEACTIVATION));var b=m.cssClasses,y=b.ROOT,S=b.UNBOUNDED;requestAnimationFrame(function(){v.adapter.removeClass(y),v.adapter.removeClass(S),v.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},m.prototype.activate=function(v){this.activateImpl(v)},m.prototype.deactivate=function(){this.deactivateImpl()},m.prototype.layout=function(){var v=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){v.layoutInternal(),v.layoutFrame=0})},m.prototype.setUnbounded=function(v){var b=m.cssClasses.UNBOUNDED;v?this.adapter.addClass(b):this.adapter.removeClass(b)},m.prototype.handleFocus=function(){var v=this;requestAnimationFrame(function(){return v.adapter.addClass(m.cssClasses.BG_FOCUSED)})},m.prototype.handleBlur=function(){var v=this;requestAnimationFrame(function(){return v.adapter.removeClass(m.cssClasses.BG_FOCUSED)})},m.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},m.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},m.prototype.registerRootHandlers=function(v){var b,y;if(v){try{for(var S=a(u),w=S.next();!w.done;w=S.next()){var E=w.value;this.adapter.registerInteractionHandler(E,this.activateHandler)}}catch(A){b={error:A}}finally{try{w&&!w.done&&(y=S.return)&&y.call(S)}finally{if(b)throw b.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},m.prototype.registerDeactivationHandlers=function(v){var b,y;if(v.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var S=a(d),w=S.next();!w.done;w=S.next()){var E=w.value;this.adapter.registerDocumentInteractionHandler(E,this.deactivateHandler)}}catch(A){b={error:A}}finally{try{w&&!w.done&&(y=S.return)&&y.call(S)}finally{if(b)throw b.error}}},m.prototype.deregisterRootHandlers=function(){var v,b;try{for(var y=a(u),S=y.next();!S.done;S=y.next()){var w=S.value;this.adapter.deregisterInteractionHandler(w,this.activateHandler)}}catch(E){v={error:E}}finally{try{S&&!S.done&&(b=y.return)&&b.call(y)}finally{if(v)throw v.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},m.prototype.deregisterDeactivationHandlers=function(){var v,b;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var y=a(d),S=y.next();!S.done;S=y.next()){var w=S.value;this.adapter.deregisterDocumentInteractionHandler(w,this.deactivateHandler)}}catch(E){v={error:E}}finally{try{S&&!S.done&&(b=y.return)&&b.call(y)}finally{if(v)throw v.error}}},m.prototype.removeCssVars=function(){var v=this,b=m.strings,y=Object.keys(b);y.forEach(function(S){S.indexOf("VAR_")===0&&v.adapter.updateCssVariable(b[S],null)})},m.prototype.activateImpl=function(v){var b=this;if(!this.adapter.isSurfaceDisabled()){var y=this.activationState;if(!y.isActivated){var S=this.previousActivationEvent,w=S&&v!==void 0&&S.type!==v.type;if(!w){y.isActivated=!0,y.isProgrammatic=v===void 0,y.activationEvent=v,y.wasActivatedByPointer=y.isProgrammatic?!1:v!==void 0&&(v.type==="mousedown"||v.type==="touchstart"||v.type==="pointerdown");var E=v!==void 0&&h.length>0&&h.some(function(A){return b.adapter.containsEventTarget(A)});if(E){this.resetActivationState();return}v!==void 0&&(h.push(v.target),this.registerDeactivationHandlers(v)),y.wasElementMadeActive=this.checkElementMadeActive(v),y.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){h=[],!y.wasElementMadeActive&&v!==void 0&&(v.key===" "||v.keyCode===32)&&(y.wasElementMadeActive=b.checkElementMadeActive(v),y.wasElementMadeActive&&b.animateActivation()),y.wasElementMadeActive||(b.activationState=b.defaultActivationState())})}}}},m.prototype.checkElementMadeActive=function(v){return v!==void 0&&v.type==="keydown"?this.adapter.isSurfaceActive():!0},m.prototype.animateActivation=function(){var v=this,b=m.strings,y=b.VAR_FG_TRANSLATE_START,S=b.VAR_FG_TRANSLATE_END,w=m.cssClasses,E=w.FG_DEACTIVATION,A=w.FG_ACTIVATION,O=m.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var z="",B="";if(!this.adapter.isUnbounded()){var x=this.getFgTranslationCoordinates(),oe=x.startPoint,V=x.endPoint;z=oe.x+"px, "+oe.y+"px",B=V.x+"px, "+V.y+"px"}this.adapter.updateCssVariable(y,z),this.adapter.updateCssVariable(S,B),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(E),this.adapter.computeBoundingRect(),this.adapter.addClass(A),this.activationTimer=setTimeout(function(){v.activationTimerCallback()},O)},m.prototype.getFgTranslationCoordinates=function(){var v=this.activationState,b=v.activationEvent,y=v.wasActivatedByPointer,S;y?S=f.getNormalizedEventCoords(b,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):S={x:this.frame.width/2,y:this.frame.height/2},S={x:S.x-this.initialSize/2,y:S.y-this.initialSize/2};var w={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:S,endPoint:w}},m.prototype.runDeactivationUXLogicIfReady=function(){var v=this,b=m.cssClasses.FG_DEACTIVATION,y=this.activationState,S=y.hasDeactivationUXRun,w=y.isActivated,E=S||!w;E&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(b),this.fgDeactivationRemovalTimer=setTimeout(function(){v.adapter.removeClass(b)},c.numbers.FG_DEACTIVATION_MS))},m.prototype.rmBoundedActivationClasses=function(){var v=m.cssClasses.FG_ACTIVATION;this.adapter.removeClass(v),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},m.prototype.resetActivationState=function(){var v=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return v.previousActivationEvent=void 0},m.numbers.TAP_DELAY_MS)},m.prototype.deactivateImpl=function(){var v=this,b=this.activationState;if(b.isActivated){var y=o({},b);b.isProgrammatic?(requestAnimationFrame(function(){v.animateDeactivation(y)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){v.activationState.hasDeactivationUXRun=!0,v.animateDeactivation(y),v.resetActivationState()}))}},m.prototype.animateDeactivation=function(v){var b=v.wasActivatedByPointer,y=v.wasElementMadeActive;(b||y)&&this.runDeactivationUXLogicIfReady()},m.prototype.layoutInternal=function(){var v=this;this.frame=this.adapter.computeBoundingRect();var b=Math.max(this.frame.height,this.frame.width),y=function(){var E=Math.sqrt(Math.pow(v.frame.width,2)+Math.pow(v.frame.height,2));return E+m.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?b:y();var S=Math.floor(b*m.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&S%2!==0?this.initialSize=S-1:this.initialSize=S,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},m.prototype.updateLayoutCssVars=function(){var v=m.strings,b=v.VAR_FG_SIZE,y=v.VAR_LEFT,S=v.VAR_TOP,w=v.VAR_FG_SCALE;this.adapter.updateCssVariable(b,this.initialSize+"px"),this.adapter.updateCssVariable(w,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(y,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(S,this.unboundedCoords.top+"px"))},m}(l.MDCFoundation);r.MDCRippleFoundation=g,r.default=g},"./packages/mdc-ripple/util.ts":function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getNormalizedEventCoords=r.supportsCssVariables=void 0;var i;function o(l,c){c===void 0&&(c=!1);var f=l.CSS,u=i;if(typeof i=="boolean"&&!c)return i;var d=f&&typeof f.supports=="function";if(!d)return!1;var h=f.supports("--css-vars","yes"),g=f.supports("(--css-vars: yes)")&&f.supports("color","#00000000");return u=h||g,c||(i=u),u}r.supportsCssVariables=o;function a(l,c,f){if(!l)return{x:0,y:0};var u=c.x,d=c.y,h=u+f.left,g=d+f.top,p,m;if(l.type==="touchstart"){var v=l;p=v.changedTouches[0].pageX-h,m=v.changedTouches[0].pageY-g}else{var b=l;p=b.pageX-h,m=b.pageY-g}return{x:p,y:m}}r.getNormalizedEventCoords=a},"./packages/mdc-segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/index.ts"),r),o(s("./packages/mdc-segmented-button/segment/index.ts"),r),o(s("./packages/mdc-segmented-button/types.ts"),r)},"./packages/mdc-segmented-button/segment/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segment/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(v[y]=b[y])},h(p,m)};return function(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(g,p);function m(){this.constructor=g}g.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(h){for(var g,p=1,m=arguments.length;p<m;p++){g=arguments[p];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(h[v]=g[v])}return h},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegment=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-ripple/component.ts"),c=s("./packages/mdc-ripple/foundation.ts"),f=s("./packages/mdc-segmented-button/segment/constants.ts"),u=s("./packages/mdc-segmented-button/segment/foundation.ts"),d=function(h){i(g,h);function g(){return h!==null&&h.apply(this,arguments)||this}return Object.defineProperty(g.prototype,"ripple",{get:function(){return this.rippleComponent},enumerable:!1,configurable:!0}),g.attachTo=function(p){return new g(p)},g.prototype.initialize=function(p){var m=this;p===void 0&&(p=function(y,S){return new l.MDCRipple(y,S)});var v=o(o({},l.MDCRipple.createAdapter(this)),{computeBoundingRect:function(){return m.foundation.getDimensions()}});this.rippleComponent=p(this.root,new c.MDCRippleFoundation(v))},g.prototype.initialSyncWithDOM=function(){var p=this;this.handleClick=function(){p.foundation.handleClick()},this.listen(f.events.CLICK,this.handleClick)},g.prototype.destroy=function(){this.ripple.destroy(),this.unlisten(f.events.CLICK,this.handleClick),h.prototype.destroy.call(this)},g.prototype.getDefaultFoundation=function(){var p=this,m={isSingleSelect:function(){return p.isSingleSelect},getAttr:function(b){return p.root.getAttribute(b)},setAttr:function(b,y){p.root.setAttribute(b,y)},addClass:function(b){p.root.classList.add(b)},removeClass:function(b){p.root.classList.remove(b)},hasClass:function(b){return p.root.classList.contains(b)},notifySelectedChange:function(b){p.emit(f.events.SELECTED,{index:p.index,selected:b,segmentId:p.getSegmentId()},!0)},getRootBoundingClientRect:function(){return p.root.getBoundingClientRect()}};return new u.MDCSegmentedButtonSegmentFoundation(m)},g.prototype.setIndex=function(p){this.index=p},g.prototype.setIsSingleSelect=function(p){this.isSingleSelect=p},g.prototype.isSelected=function(){return this.foundation.isSelected()},g.prototype.setSelected=function(){this.foundation.setSelected()},g.prototype.setUnselected=function(){this.foundation.setUnselected()},g.prototype.getSegmentId=function(){return this.foundation.getSegmentId()},g}(a.MDCComponent);r.MDCSegmentedButtonSegment=d},"./packages/mdc-segmented-button/segment/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.attributes=r.booleans=void 0,r.booleans={TRUE:"true",FALSE:"false"},r.attributes={ARIA_CHECKED:"aria-checked",ARIA_PRESSED:"aria-pressed",DATA_SEGMENT_ID:"data-segment-id"},r.events={CLICK:"click",SELECTED:"selected"},r.cssClasses={SELECTED:"mdc-segmented-button__segment--selected"}},"./packages/mdc-segmented-button/segment/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(h,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(p[v]=m[v])},u(h,g)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function g(){this.constructor=d}d.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var d,h=1,g=arguments.length;h<g;h++){d=arguments[h];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(u[p]=d[p])}return u},o.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonSegmentFoundation=void 0;var a=s("./packages/mdc-base/foundation.ts"),l=s("./packages/mdc-segmented-button/segment/constants.ts"),c={bottom:0,height:0,left:0,right:0,top:0,width:0},f=function(u){i(d,u);function d(h){return u.call(this,o(o({},d.defaultAdapter),h))||this}return Object.defineProperty(d,"defaultAdapter",{get:function(){return{isSingleSelect:function(){return!1},getAttr:function(){return""},setAttr:function(){},addClass:function(){},removeClass:function(){},hasClass:function(){return!1},notifySelectedChange:function(){},getRootBoundingClientRect:function(){return c}}},enumerable:!1,configurable:!0}),d.prototype.isSelected=function(){return this.adapter.hasClass(l.cssClasses.SELECTED)},d.prototype.setSelected=function(){this.adapter.addClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.TRUE)},d.prototype.setUnselected=function(){this.adapter.removeClass(l.cssClasses.SELECTED),this.setAriaAttr(l.booleans.FALSE)},d.prototype.getSegmentId=function(){var h;return(h=this.adapter.getAttr(l.attributes.DATA_SEGMENT_ID))!==null&&h!==void 0?h:void 0},d.prototype.handleClick=function(){this.adapter.isSingleSelect()?this.setSelected():this.toggleSelection(),this.adapter.notifySelectedChange(this.isSelected())},d.prototype.getDimensions=function(){return this.adapter.getRootBoundingClientRect()},d.prototype.toggleSelection=function(){this.isSelected()?this.setUnselected():this.setSelected()},d.prototype.setAriaAttr=function(h){this.adapter.isSingleSelect()?this.adapter.setAttr(l.attributes.ARIA_CHECKED,h):this.adapter.setAttr(l.attributes.ARIA_PRESSED,h)},d}(a.MDCFoundation);r.MDCSegmentedButtonSegmentFoundation=f},"./packages/mdc-segmented-button/segment/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segment/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segment/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segment/component.ts"),r)},"./packages/mdc-segmented-button/segmented-button/adapter.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})},"./packages/mdc-segmented-button/segmented-button/component.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var d=function(g,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])},d(g,p)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(h,g);function p(){this.constructor=h}h.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}(),o=this&&this.__values||function(d){var h=typeof Symbol=="function"&&Symbol.iterator,g=h&&d[h],p=0;if(g)return g.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&p>=d.length&&(d=void 0),{value:d&&d[p++],done:!d}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButton=void 0;var a=s("./packages/mdc-base/component.ts"),l=s("./packages/mdc-segmented-button/segment/component.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),u=function(d){i(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.attachTo=function(g){return new h(g)},Object.defineProperty(h.prototype,"segments",{get:function(){return this.segmentsList.slice()},enumerable:!1,configurable:!0}),h.prototype.initialize=function(g){g===void 0&&(g=function(m){return new l.MDCSegmentedButtonSegment(m)}),this.segmentFactory=g,this.segmentsList=this.instantiateSegments(this.segmentFactory)},h.prototype.instantiateSegments=function(g){var p=[].slice.call(this.root.querySelectorAll(c.selectors.SEGMENT));return p.map(function(m){return g(m)})},h.prototype.initialSyncWithDOM=function(){var g=this;this.handleSelected=function(y){g.foundation.handleSelected(y.detail)},this.listen(c.events.SELECTED,this.handleSelected);for(var p=this.foundation.isSingleSelect(),m=0;m<this.segmentsList.length;m++){var v=this.segmentsList[m];v.setIndex(m),v.setIsSingleSelect(p)}var b=this.segmentsList.filter(function(y){return y.isSelected()});if(p&&b.length===0&&this.segmentsList.length>0)throw new Error("No segment selected in singleSelect mdc-segmented-button");if(p&&b.length>1)throw new Error("Multiple segments selected in singleSelect mdc-segmented-button")},h.prototype.destroy=function(){var g,p;try{for(var m=o(this.segmentsList),v=m.next();!v.done;v=m.next()){var b=v.value;b.destroy()}}catch(y){g={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(g)throw g.error}}this.unlisten(c.events.SELECTED,this.handleSelected),d.prototype.destroy.call(this)},h.prototype.getDefaultFoundation=function(){var g=this,p={hasClass:function(v){return g.root.classList.contains(v)},getSegments:function(){return g.mappedSegments()},selectSegment:function(v){var b=g.mappedSegments().find(function(y){return y.index===v||y.segmentId===v});b&&g.segmentsList[b.index].setSelected()},unselectSegment:function(v){var b=g.mappedSegments().find(function(y){return y.index===v||y.segmentId===v});b&&g.segmentsList[b.index].setUnselected()},notifySelectedChange:function(v){g.emit(c.events.CHANGE,v,!0)}};return new f.MDCSegmentedButtonFoundation(p)},h.prototype.getSelectedSegments=function(){return this.foundation.getSelectedSegments()},h.prototype.selectSegment=function(g){this.foundation.selectSegment(g)},h.prototype.unselectSegment=function(g){this.foundation.unselectSegment(g)},h.prototype.isSegmentSelected=function(g){return this.foundation.isSegmentSelected(g)},h.prototype.mappedSegments=function(){return this.segmentsList.map(function(g,p){return{index:p,selected:g.isSelected(),segmentId:g.getSegmentId()}})},h}(a.MDCComponent);r.MDCSegmentedButton=u},"./packages/mdc-segmented-button/segmented-button/constants.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.cssClasses=r.events=r.selectors=void 0,r.selectors={SEGMENT:".mdc-segmented-button__segment"},r.events={SELECTED:"selected",CHANGE:"change"},r.cssClasses={SINGLE_SELECT:"mdc-segmented-button--single-select"}},"./packages/mdc-segmented-button/segmented-button/foundation.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__extends||function(){var u=function(h,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(p[v]=m[v])},u(h,g)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function g(){this.constructor=d}d.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(u){for(var d,h=1,g=arguments.length;h<g;h++){d=arguments[h];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(u[p]=d[p])}return u},o.apply(this,arguments)},a=this&&this.__values||function(u){var d=typeof Symbol=="function"&&Symbol.iterator,h=d&&u[d],g=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&g>=u.length&&(u=void 0),{value:u&&u[g++],done:!u}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.MDCSegmentedButtonFoundation=void 0;var l=s("./packages/mdc-base/foundation.ts"),c=s("./packages/mdc-segmented-button/segmented-button/constants.ts"),f=function(u){i(d,u);function d(h){return u.call(this,o(o({},d.defaultAdapter),h))||this}return Object.defineProperty(d,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},getSegments:function(){return[]},selectSegment:function(){},unselectSegment:function(){},notifySelectedChange:function(){}}},enumerable:!1,configurable:!0}),d.prototype.selectSegment=function(h){this.adapter.selectSegment(h)},d.prototype.unselectSegment=function(h){this.adapter.unselectSegment(h)},d.prototype.getSelectedSegments=function(){return this.adapter.getSegments().filter(function(h){return h.selected})},d.prototype.isSegmentSelected=function(h){return this.adapter.getSegments().some(function(g){return(g.index===h||g.segmentId===h)&&g.selected})},d.prototype.isSingleSelect=function(){return this.adapter.hasClass(c.cssClasses.SINGLE_SELECT)},d.prototype.handleSelected=function(h){this.isSingleSelect()&&this.unselectPrevSelected(h.index),this.adapter.notifySelectedChange(h)},d.prototype.unselectPrevSelected=function(h){var g,p;try{for(var m=a(this.getSelectedSegments()),v=m.next();!v.done;v=m.next()){var b=v.value;b.index!==h&&this.unselectSegment(b.index)}}catch(y){g={error:y}}finally{try{v&&!v.done&&(p=m.return)&&p.call(m)}finally{if(g)throw g.error}}},d}(l.MDCFoundation);r.MDCSegmentedButtonFoundation=f},"./packages/mdc-segmented-button/segmented-button/index.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i=this&&this.__createBinding||(Object.create?function(a,l,c,f){f===void 0&&(f=c),Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[c]}})}:function(a,l,c,f){f===void 0&&(f=c),a[f]=l[c]}),o=this&&this.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&i(l,a,c)};Object.defineProperty(r,"__esModule",{value:!0}),o(s("./packages/mdc-segmented-button/segmented-button/adapter.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/foundation.ts"),r),o(s("./packages/mdc-segmented-button/segmented-button/component.ts"),r)},"./packages/mdc-segmented-button/types.ts":function(n,r,s){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0})}})})})(Rg);var Mg=Rg.exports;const Pi=[];function Ig(e,t=on){let n;const r=new Set;function s(a){if(Ht(e,a)&&(e=a,n)){const l=!Pi.length;for(const c of r)c[1](),Pi.push(c,e);if(l){for(let c=0;c<Pi.length;c+=2)Pi[c][0](Pi[c+1]);Pi.length=0}}}function i(a){s(a(e))}function o(a,l=on){const c=[a,l];return r.add(c),r.size===1&&(n=t(s)||on),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function dt(e){return Object.entries(e).filter(([t,n])=>t!==""&&n).map(([t])=>t).join(" ")}function zn(e,t,n,r={bubbles:!0},s=!1){if(typeof Event>"u")throw new Error("Event not defined.");if(!e)throw new Error("Tried to dipatch event without element.");const i=new CustomEvent(t,Object.assign(Object.assign({},r),{detail:n}));if(e==null||e.dispatchEvent(i),s&&t.startsWith("SMUI")){const o=new CustomEvent(t.replace(/^SMUI/g,()=>"MDC"),Object.assign(Object.assign({},r),{detail:n}));e==null||e.dispatchEvent(o),o.defaultPrevented&&i.preventDefault()}return i}function br(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s],o=i.indexOf("$");o!==-1&&t.indexOf(i.substring(0,o+1))!==-1||t.indexOf(i)===-1&&(r[i]=e[i])}return r}const v1=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,s5=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function Pn(e){let t,n=[];e.$on=(s,i)=>{let o=s,a=()=>{};return t?a=t(o,i):n.push([o,i]),o.match(v1)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',o),()=>{a()}};function r(s){Ho(e,s)}return s=>{const i=[],o={};t=(a,l)=>{let c=a,f=l,u=!1;const d=c.match(v1),h=c.match(s5),g=d||h;if(c.match(/^SMUI:\w+:/)){const v=c.split(":");let b="";for(let y=0;y<v.length;y++)b+=y===v.length-1?":"+v[y]:v[y].split("-").map(S=>S.slice(0,1).toUpperCase()+S.slice(1)).join("");console.warn(`The event ${c.split("$")[0]} has been renamed to ${b.split("$")[0]}.`),c=b}if(g){const v=c.split(d?":":"$");c=v[0];const b=v.slice(1).reduce((y,S)=>(y[S]=!0,y),{});b.passive&&(u=u||{},u.passive=!0),b.nonpassive&&(u=u||{},u.passive=!1),b.capture&&(u=u||{},u.capture=!0),b.once&&(u=u||{},u.once=!0),b.preventDefault&&(f=Hy(f)),b.stopPropagation&&(f=jy(f))}const p=Dt(s,c,f,u),m=()=>{p();const v=i.indexOf(m);v>-1&&i.splice(v,1)};return i.push(m),c in o||(o[c]=Dt(s,c,r)),m};for(let a=0;a<n.length;a++)t(n[a][0],n[a][1]);return{destroy:()=>{for(let a=0;a<i.length;a++)i[a]();for(let a of Object.entries(o))a[1]()}}}}function Xt(e,t){let n=Object.getOwnPropertyNames(e);const r={};for(let s=0;s<n.length;s++){const i=n[s];i.substring(0,t.length)===t&&(r[i.substring(t.length)]=e[i])}return r}function yn(e,t){let n=[];if(t)for(let r=0;r<t.length;r++){const s=t[r],i=Array.isArray(s)?s[0]:s;Array.isArray(s)&&s.length>1?n.push(i(e,s[1])):n.push(i(e))}return{update(r){if((r&&r.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(r)for(let s=0;s<r.length;s++){const i=n[s];if(i&&i.update){const o=r[s];Array.isArray(o)&&o.length>1?i.update(o[1]):i.update()}}},destroy(){for(let r=0;r<n.length;r++){const s=n[r];s&&s.destroy&&s.destroy()}}}}function i5(e){let t;const n=e[10].default,r=Bt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&$t(r,n,s,s[12],t?Nt(n,s[12],i,null):Vt(s[12]),null)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function o5(e){let t,n,r;const s=[{tag:e[3]},{use:[e[5],...e[0]]},{class:dt({[e[1]]:!0,"mdc-button__label":e[6]==="button","mdc-fab__label":e[6]==="fab","mdc-tab__text-label":e[6]==="tab","mdc-image-list__label":e[6]==="image-list","mdc-snackbar__label":e[6]==="snackbar","mdc-banner__text":e[6]==="banner","mdc-segmented-button__label":e[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":e[6]==="data-table:pagination","mdc-data-table__header-cell-label":e[6]==="data-table:sortable-header-cell"})},e[6]==="snackbar"?{"aria-atomic":"false"}:{},{tabindex:e[7]},e[8]];var i=e[2];function o(a){let l={$$slots:{default:[i5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=qe(l,s[c]);return{props:l}}return i&&(t=vr(i,o(e)),e[11](t)),{c(){t&&tt(t.$$.fragment),n=pn()},m(a,l){t&&Qe(t,a,l),we(a,n,l),r=!0},p(a,[l]){const c=l&491?It(s,[l&8&&{tag:a[3]},l&33&&{use:[a[5],...a[0]]},l&66&&{class:dt({[a[1]]:!0,"mdc-button__label":a[6]==="button","mdc-fab__label":a[6]==="fab","mdc-tab__text-label":a[6]==="tab","mdc-image-list__label":a[6]==="image-list","mdc-snackbar__label":a[6]==="snackbar","mdc-banner__text":a[6]==="banner","mdc-segmented-button__label":a[6]==="segmented-button","mdc-data-table__pagination-rows-per-page-label":a[6]==="data-table:pagination","mdc-data-table__header-cell-label":a[6]==="data-table:sortable-header-cell"})},l&64&&cn(a[6]==="snackbar"?{"aria-atomic":"false"}:{}),l&128&&{tabindex:a[7]},l&256&&cn(a[8])]):{};if(l&4096&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){Zt();const f=t;le(f.$$.fragment,1,0,()=>{Je(f,1)}),Kt()}i?(t=vr(i,o(a)),a[11](t),tt(t.$$.fragment),re(t.$$.fragment,1),Qe(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&le(t.$$.fragment,a),r=!1},d(a){e[11](null),a&&Ee(n),t&&Je(t,a)}}}function a5(e,t,n){const r=["use","class","component","tag","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Pn(an());let{use:l=[]}=t,{class:c=""}=t,f,{component:u=_r}=t,{tag:d=u===_r?"span":void 0}=t;const h=mr("SMUI:label:context"),g=mr("SMUI:label:tabindex");function p(){return f.getElement()}function m(v){ot[v?"unshift":"push"](()=>{f=v,n(4,f)})}return e.$$set=v=>{t=qe(qe({},t),An(v)),n(8,s=Ct(t,r)),"use"in v&&n(0,l=v.use),"class"in v&&n(1,c=v.class),"component"in v&&n(2,u=v.component),"tag"in v&&n(3,d=v.tag),"$$scope"in v&&n(12,o=v.$$scope)},[l,c,u,d,f,a,h,g,s,p,i,m,o]}class Yi extends Jt{constructor(t){super(),Qt(this,t,a5,o5,Ht,{use:0,class:1,component:2,tag:3,getElement:9})}get getElement(){return this.$$.ctx[9]}}function l5(e){let t;const n=e[11].default,r=Bt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&$t(r,n,s,s[13],t?Nt(n,s[13],i,null):Vt(s[13]),null)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function c5(e){let t,n,r;const s=[{tag:e[4]},{use:[e[6],...e[0]]},{class:dt({[e[1]]:!0,"mdc-button__icon":e[8]==="button","mdc-fab__icon":e[8]==="fab","mdc-icon-button__icon":e[8]==="icon-button","mdc-icon-button__icon--on":e[8]==="icon-button"&&e[2],"mdc-tab__icon":e[8]==="tab","mdc-banner__icon":e[8]==="banner","mdc-segmented-button__icon":e[8]==="segmented-button"})},{"aria-hidden":"true"},e[7]?{focusable:"false",tabindex:"-1"}:{},e[9]];var i=e[3];function o(a){let l={$$slots:{default:[l5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=qe(l,s[c]);return{props:l}}return i&&(t=vr(i,o(e)),e[12](t)),{c(){t&&tt(t.$$.fragment),n=pn()},m(a,l){t&&Qe(t,a,l),we(a,n,l),r=!0},p(a,[l]){const c=l&983?It(s,[l&16&&{tag:a[4]},l&65&&{use:[a[6],...a[0]]},l&262&&{class:dt({[a[1]]:!0,"mdc-button__icon":a[8]==="button","mdc-fab__icon":a[8]==="fab","mdc-icon-button__icon":a[8]==="icon-button","mdc-icon-button__icon--on":a[8]==="icon-button"&&a[2],"mdc-tab__icon":a[8]==="tab","mdc-banner__icon":a[8]==="banner","mdc-segmented-button__icon":a[8]==="segmented-button"})},s[3],l&128&&cn(a[7]?{focusable:"false",tabindex:"-1"}:{}),l&512&&cn(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&8&&i!==(i=a[3])){if(t){Zt();const f=t;le(f.$$.fragment,1,0,()=>{Je(f,1)}),Kt()}i?(t=vr(i,o(a)),a[12](t),tt(t.$$.fragment),re(t.$$.fragment,1),Qe(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&le(t.$$.fragment,a),r=!1},d(a){e[12](null),a&&Ee(n),t&&Je(t,a)}}}function f5(e,t,n){const r=["use","class","on","component","tag","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Pn(an());let{use:l=[]}=t,{class:c=""}=t,{on:f=!1}=t,u,{component:d=_r}=t,{tag:h=d===_r?"i":void 0}=t;const g=d===v5,p=mr("SMUI:icon:context");function m(){return u.getElement()}function v(b){ot[b?"unshift":"push"](()=>{u=b,n(5,u)})}return e.$$set=b=>{t=qe(qe({},t),An(b)),n(9,s=Ct(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"on"in b&&n(2,f=b.on),"component"in b&&n(3,d=b.component),"tag"in b&&n(4,h=b.tag),"$$scope"in b&&n(13,o=b.$$scope)},[l,c,f,d,h,u,a,g,p,s,m,i,v,o]}class Zu extends Jt{constructor(t){super(),Qt(this,t,f5,c5,Ht,{use:0,class:1,on:2,component:3,tag:4,getElement:10})}get getElement(){return this.$$.ctx[10]}}function u5(e){let t=e[1],n,r,s=e[1]&&_f(e);return{c(){s&&s.c(),n=pn()},m(i,o){s&&s.m(i,o),we(i,n,o),r=!0},p(i,o){i[1]?t?Ht(t,i[1])?(s.d(1),s=_f(i),t=i[1],s.c(),s.m(n.parentNode,n)):s.p(i,o):(s=_f(i),t=i[1],s.c(),s.m(n.parentNode,n)):t&&(s.d(1),s=null,t=i[1])},i(i){r||(re(s),r=!0)},o(i){le(s),r=!1},d(i){i&&Ee(n),s&&s.d(i)}}}function d5(e){let t=e[1],n,r=e[1]&&yf(e);return{c(){r&&r.c(),n=pn()},m(s,i){r&&r.m(s,i),we(s,n,i)},p(s,i){s[1]?t?Ht(t,s[1])?(r.d(1),r=yf(s),t=s[1],r.c(),r.m(n.parentNode,n)):r.p(s,i):(r=yf(s),t=s[1],r.c(),r.m(n.parentNode,n)):t&&(r.d(1),r=null,t=s[1])},i:on,o:on,d(s){s&&Ee(n),r&&r.d(s)}}}function _f(e){let t,n,r,s,i;const o=e[8].default,a=Bt(o,e,e[7],null);let l=[e[5]],c={};for(let f=0;f<l.length;f+=1)c=qe(c,l[f]);return{c(){t=Et(e[1]),a&&a.c(),yl(e[1])(t,c)},m(f,u){we(f,t,u),a&&a.m(t,null),e[10](t),r=!0,s||(i=[wt(n=yn.call(null,t,e[0])),wt(e[4].call(null,t))],s=!0)},p(f,u){a&&a.p&&(!r||u&128)&&$t(a,o,f,f[7],r?Nt(o,f[7],u,null):Vt(f[7]),null),yl(f[1])(t,c=It(l,[u&32&&f[5]])),n&&zt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(re(a,f),r=!0)},o(f){le(a,f),r=!1},d(f){f&&Ee(t),a&&a.d(f),e[10](null),s=!1,fn(i)}}}function yf(e){let t,n,r,s,i=[e[5]],o={};for(let a=0;a<i.length;a+=1)o=qe(o,i[a]);return{c(){t=Et(e[1]),yl(e[1])(t,o)},m(a,l){we(a,t,l),e[9](t),r||(s=[wt(n=yn.call(null,t,e[0])),wt(e[4].call(null,t))],r=!0)},p(a,l){yl(a[1])(t,o=It(i,[l&32&&a[5]])),n&&zt(n.update)&&l&1&&n.update.call(null,a[0])},d(a){a&&Ee(t),e[9](null),r=!1,fn(s)}}}function h5(e){let t,n,r,s;const i=[d5,u5],o=[];function a(l,c){return l[3]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=pn()},m(l,c){o[t].m(l,c),we(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(Zt(),le(o[f],1,1,()=>{o[f]=null}),Kt(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),re(n,1),n.m(r.parentNode,r))},i(l){s||(re(n),s=!0)},o(l){le(n),s=!1},d(l){o[t].d(l),l&&Ee(r)}}}function m5(e,t,n){let r;const s=["use","tag","getElement"];let i=Ct(t,s),{$$slots:o={},$$scope:a}=t,{use:l=[]}=t,{tag:c}=t;const f=Pn(an());let u;function d(){return u}function h(p){ot[p?"unshift":"push"](()=>{u=p,n(2,u)})}function g(p){ot[p?"unshift":"push"](()=>{u=p,n(2,u)})}return e.$$set=p=>{t=qe(qe({},t),An(p)),n(5,i=Ct(t,s)),"use"in p&&n(0,l=p.use),"tag"in p&&n(1,c=p.tag),"$$scope"in p&&n(7,a=p.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(c)>-1)},[l,c,u,r,f,i,d,a,o,h,g]}class _r extends Jt{constructor(t){super(),Qt(this,t,m5,h5,Ht,{use:0,tag:1,getElement:6})}get getElement(){return this.$$.ctx[6]}}function p5(e){let t,n,r,s,i;const o=e[6].default,a=Bt(o,e,e[5],null);let l=[e[3]],c={};for(let f=0;f<l.length;f+=1)c=qe(c,l[f]);return{c(){t=Iu("svg"),a&&a.c(),p1(t,c)},m(f,u){we(f,t,u),a&&a.m(t,null),e[7](t),r=!0,s||(i=[wt(n=yn.call(null,t,e[0])),wt(e[2].call(null,t))],s=!0)},p(f,[u]){a&&a.p&&(!r||u&32)&&$t(a,o,f,f[5],r?Nt(o,f[5],u,null):Vt(f[5]),null),p1(t,c=It(l,[u&8&&f[3]])),n&&zt(n.update)&&u&1&&n.update.call(null,f[0])},i(f){r||(re(a,f),r=!0)},o(f){le(a,f),r=!1},d(f){f&&Ee(t),a&&a.d(f),e[7](null),s=!1,fn(i)}}}function g5(e,t,n){const r=["use","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t;const l=Pn(an());let c;function f(){return c}function u(d){ot[d?"unshift":"push"](()=>{c=d,n(1,c)})}return e.$$set=d=>{t=qe(qe({},t),An(d)),n(3,s=Ct(t,r)),"use"in d&&n(0,a=d.use),"$$scope"in d&&n(5,o=d.$$scope)},[a,c,l,s,f,o,i,u]}class v5 extends Jt{constructor(t){super(),Qt(this,t,g5,p5,Ht,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}}function b5(e){let t;const n=e[4].default,r=Bt(n,e,e[3],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,[i]){r&&r.p&&(!t||i&8)&&$t(r,n,s,s[3],t?Nt(n,s[3],i,null):Vt(s[3]),null)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function _5(e,t,n){let r,{$$slots:s={},$$scope:i}=t,{key:o}=t,{value:a}=t;const l=Ig(a);return $o(e,l,c=>n(5,r=c)),hr(o,l),Yu(()=>{l.set(void 0)}),e.$$set=c=>{"key"in c&&n(1,o=c.key),"value"in c&&n(2,a=c.value),"$$scope"in c&&n(3,i=c.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&Eg(l,r=a,r)},[l,o,a,i,s]}class Hi extends Jt{constructor(t){super(),Qt(this,t,_5,b5,Ht,{key:1,value:2})}}function b1(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}const y5=e=>({segment:e&4}),_1=e=>({segment:e[28]});function A5(e){let t;const n=e[17].default,r=Bt(n,e,e[19],_1);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&524292)&&$t(r,n,s,s[19],t?Nt(n,s[19],i,y5):Vt(s[19]),_1)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function S5(e){let t,n,r;return t=new Hi({props:{key:"SMUI:segmented-button:segment:initialSelected",value:e[7][e[30]],$$slots:{default:[A5]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment),n=mt()},m(s,i){Qe(t,s,i),we(s,n,i),r=!0},p(s,i){const o={};i&4&&(o.value=s[7][s[30]]),i&524292&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){r||(re(t.$$.fragment,s),r=!0)},o(s){le(t.$$.fragment,s),r=!1},d(s){Je(t,s),s&&Ee(n)}}}function y1(e,t){let n,r,s;return r=new Hi({props:{key:"SMUI:segmented-button:segment:index",value:t[30],$$slots:{default:[S5]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=pn(),tt(r.$$.fragment),this.first=n},m(i,o){we(i,n,o),Qe(r,i,o),s=!0},p(i,o){t=i;const a={};o&4&&(a.value=t[30]),o&524292&&(a.$$scope={dirty:o,ctx:t}),r.$set(a)},i(i){s||(re(r.$$.fragment,i),s=!0)},o(i){le(r.$$.fragment,i),s=!1},d(i){i&&Ee(n),Je(r,i)}}}function E5(e){let t,n=[],r=new Map,s,i,o,a,l,c,f=e[2];const u=g=>g[3](g[28]);for(let g=0;g<f.length;g+=1){let p=b1(e,f,g),m=u(p);r.set(m,n[g]=y1(m,p))}let d=[{class:s=dt({[e[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":e[4]})},{role:i=e[4]?"radiogroup":"group"},e[12]],h={};for(let g=0;g<d.length;g+=1)h=qe(h,d[g]);return{c(){t=Et("div");for(let g=0;g<n.length;g+=1)n[g].c();Rt(t,h)},m(g,p){we(g,t,p);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(t,null);e[18](t),a=!0,l||(c=[wt(o=yn.call(null,t,e[0])),wt(e[6].call(null,t)),Dt(t,"SMUISegmentedButtonSegment:mount",e[9]),Dt(t,"SMUISegmentedButtonSegment:unmount",e[10]),Dt(t,"selected",e[11])],l=!0)},p(g,[p]){p&524428&&(f=g[2],Zt(),n=Og(n,p,u,1,g,f,r,t,Lg,y1,null,b1),Kt()),Rt(t,h=It(d,[(!a||p&18&&s!==(s=dt({[g[1]]:!0,"mdc-segmented-button":!0,"mdc-segmented-button--single-select":g[4]})))&&{class:s},(!a||p&16&&i!==(i=g[4]?"radiogroup":"group"))&&{role:i},p&4096&&g[12]])),o&&zt(o.update)&&p&1&&o.update.call(null,g[0])},i(g){if(!a){for(let p=0;p<f.length;p+=1)re(n[p]);a=!0}},o(g){for(let p=0;p<n.length;p+=1)le(n[p]);a=!1},d(g){g&&Ee(t);for(let p=0;p<n.length;p+=1)n[p].d();e[18](null),l=!1,fn(c)}}}function A1(e,t){let n=new Set(e);for(let r of t)n.delete(r);return n}function w5(e,t,n){const r=["use","class","segments","key","singleSelect","selected","getElement"];let s=Ct(t,r),i,{$$slots:o={},$$scope:a}=t;const l=Pn(an());let{use:c=[]}=t,{class:f=""}=t,{segments:u=[]}=t,{key:d=ne=>ne}=t,{singleSelect:h=!1}=t,{selected:g=h?void 0:[]}=t,p,m,v={},b=new WeakMap,y=u.map(ne=>h&&g===ne||!h&&g.indexOf(ne)!==-1);hr("SMUI:icon:context","segmented-button"),hr("SMUI:label:context","segmented-button");const S=Ig(h);$o(e,S,ne=>n(21,i=ne)),hr("SMUI:segmented-button:singleSelect",S);let w=h?g:new Set(g);ar(()=>(n(15,m=new Mg.MDCSegmentedButtonFoundation({hasClass:ne=>X().classList.contains(ne),getSegments:()=>u.map((ne,N)=>({index:N,selected:h?g===ne:g.indexOf(ne)!==-1})),selectSegment:oe,unselectSegment:V,notifySelectedChange:ne=>{ne.selected?oe(ne.index):V(ne.index),zn(X(),"change",ne)}})),m.init(),()=>{m.destroy()}));function E(ne){const N=ne.detail;B(N.segmentId,N)}function A(ne){const N=ne.detail;x(N.segmentId)}function O(ne){m&&m.handleSelected(ne.detail)}function z(ne){return ne instanceof Object?b.get(ne):v[ne]}function B(ne,N){ne instanceof Object?b.set(ne,N):v[ne]=N}function x(ne){ne instanceof Object?b.delete(ne):delete v[ne]}function oe(ne){let N=u.indexOf(ne);N===-1&&(N=ne),h?g!==u[N]&&n(13,g=u[N]):g.indexOf(u[N])===-1&&(g.push(u[N]),n(13,g));const de=z(u[N]);de&&(de.selected=!0)}function V(ne){let N=u.indexOf(ne);if(N===-1&&(N=ne),h)g===u[N]&&n(13,g=null);else{const te=g.indexOf(u[N]);te!==-1&&(g.splice(te,1),n(13,g))}const de=z(u[N]);de&&(de.selected=!1)}function X(){return p}function Fe(ne){ot[ne?"unshift":"push"](()=>{p=ne,n(5,p)})}return e.$$set=ne=>{t=qe(qe({},t),An(ne)),n(12,s=Ct(t,r)),"use"in ne&&n(0,c=ne.use),"class"in ne&&n(1,f=ne.class),"segments"in ne&&n(2,u=ne.segments),"key"in ne&&n(3,d=ne.key),"singleSelect"in ne&&n(4,h=ne.singleSelect),"selected"in ne&&n(13,g=ne.selected),"$$scope"in ne&&n(19,a=ne.$$scope)},e.$$.update=()=>{if(e.$$.dirty&16&&Eg(S,i=h,i),e.$$.dirty&106512&&m&&h&&w!==g&&(w!=null&&m.unselectSegment(w),n(16,w=g),g!=null&&m.selectSegment(g)),e.$$.dirty&106516&&m&&!h){const ne=new Set(g),N=A1(w,ne),de=A1(ne,w);if(N.size||de.size){n(16,w=ne);for(let te of N){const je=u.indexOf(te);je!==-1&&m.unselectSegment(je)}for(let te of de)m.selectSegment(u.indexOf(te))}}},[c,f,u,d,h,p,l,y,S,E,A,O,s,g,X,m,w,o,Fe,a]}class T5 extends Jt{constructor(t){super(),Qt(this,t,w5,E5,Ht,{use:0,class:1,segments:2,key:3,singleSelect:4,selected:13,getElement:14})}get getElement(){return this.$$.ctx[14]}}var za;function C5(e,t){t===void 0&&(t=!1);var n=e.CSS,r=za;if(typeof za=="boolean"&&!t)return za;var s=n&&typeof n.supports=="function";if(!s)return!1;var i=n.supports("--css-vars","yes"),o=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return r=i||o,t||(za=r),r}function P5(e,t,n){if(!e)return{x:0,y:0};var r=t.x,s=t.y,i=r+n.left,o=s+n.top,a,l;if(e.type==="touchstart"){var c=e;a=c.changedTouches[0].pageX-i,l=c.changedTouches[0].pageY-o}else{var f=e;a=f.pageX-i,l=f.pageY-o}return{x:a,y:l}}var ku=function(e,t){return ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ku(e,t)};function tr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ku(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var mn=function(){return mn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mn.apply(this,arguments)};function Ss(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function L5(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Nr=function(){function e(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function O5(e){return e===void 0&&(e=window),R5(e)?{passive:!0}:!1}function R5(e){e===void 0&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch{t=!1}return t}const Dg=Object.freeze(Object.defineProperty({__proto__:null,applyPassive:O5},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function M5(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(Fg(n,t))return n;n=n.parentElement}return null}function Fg(e,t){var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return n.call(e,t)}function I5(e){var t=e;if(t.offsetParent!==null)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}const xg=Object.freeze(Object.defineProperty({__proto__:null,closest:M5,estimateScrollWidth:I5,matches:Fg},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var D5={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},F5={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},S1={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var E1=["touchstart","pointerdown","mousedown","keydown"],w1=["touchend","pointerup","mouseup","contextmenu"],Ha=[],x5=function(e){tr(t,e);function t(n){var r=e.call(this,mn(mn({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(s){r.activateImpl(s)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return D5},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return F5},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return S1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this,r=this.supportsPressRipple();if(this.registerRootHandlers(r),r){var s=t.cssClasses,i=s.ROOT,o=s.UNBOUNDED;requestAnimationFrame(function(){n.adapter.addClass(i),n.adapter.isUnbounded()&&(n.adapter.addClass(o),n.layoutInternal())})}},t.prototype.destroy=function(){var n=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var r=t.cssClasses,s=r.ROOT,i=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter.removeClass(s),n.adapter.removeClass(i),n.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(n){this.activateImpl(n)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var n=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){n.layoutInternal(),n.layoutFrame=0})},t.prototype.setUnbounded=function(n){var r=t.cssClasses.UNBOUNDED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter.addClass(t.cssClasses.BG_FOCUSED)})},t.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter.removeClass(t.cssClasses.BG_FOCUSED)})},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(n){var r,s;if(n){try{for(var i=Ss(E1),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerInteractionHandler(a,this.activateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(n){var r,s;if(n.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var i=Ss(w1),o=i.next();!o.done;o=i.next()){var a=o.value;this.adapter.registerDocumentInteractionHandler(a,this.deactivateHandler)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}},t.prototype.deregisterRootHandlers=function(){var n,r;try{for(var s=Ss(E1),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterInteractionHandler(o,this.activateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var n,r;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var s=Ss(w1),i=s.next();!i.done;i=s.next()){var o=i.value;this.adapter.deregisterDocumentInteractionHandler(o,this.deactivateHandler)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.removeCssVars=function(){var n=this,r=t.strings,s=Object.keys(r);s.forEach(function(i){i.indexOf("VAR_")===0&&n.adapter.updateCssVariable(r[i],null)})},t.prototype.activateImpl=function(n){var r=this;if(!this.adapter.isSurfaceDisabled()){var s=this.activationState;if(!s.isActivated){var i=this.previousActivationEvent,o=i&&n!==void 0&&i.type!==n.type;if(!o){s.isActivated=!0,s.isProgrammatic=n===void 0,s.activationEvent=n,s.wasActivatedByPointer=s.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var a=n!==void 0&&Ha.length>0&&Ha.some(function(l){return r.adapter.containsEventTarget(l)});if(a){this.resetActivationState();return}n!==void 0&&(Ha.push(n.target),this.registerDeactivationHandlers(n)),s.wasElementMadeActive=this.checkElementMadeActive(n),s.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){Ha=[],!s.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(s.wasElementMadeActive=r.checkElementMadeActive(n),s.wasElementMadeActive&&r.animateActivation()),s.wasElementMadeActive||(r.activationState=r.defaultActivationState())})}}}},t.prototype.checkElementMadeActive=function(n){return n!==void 0&&n.type==="keydown"?this.adapter.isSurfaceActive():!0},t.prototype.animateActivation=function(){var n=this,r=t.strings,s=r.VAR_FG_TRANSLATE_START,i=r.VAR_FG_TRANSLATE_END,o=t.cssClasses,a=o.FG_DEACTIVATION,l=o.FG_ACTIVATION,c=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var f="",u="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates(),h=d.startPoint,g=d.endPoint;f=h.x+"px, "+h.y+"px",u=g.x+"px, "+g.y+"px"}this.adapter.updateCssVariable(s,f),this.adapter.updateCssVariable(i,u),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(a),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer=setTimeout(function(){n.activationTimerCallback()},c)},t.prototype.getFgTranslationCoordinates=function(){var n=this.activationState,r=n.activationEvent,s=n.wasActivatedByPointer,i;s?i=P5(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):i={x:this.frame.width/2,y:this.frame.height/2},i={x:i.x-this.initialSize/2,y:i.y-this.initialSize/2};var o={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:i,endPoint:o}},t.prototype.runDeactivationUXLogicIfReady=function(){var n=this,r=t.cssClasses.FG_DEACTIVATION,s=this.activationState,i=s.hasDeactivationUXRun,o=s.isActivated,a=i||!o;a&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer=setTimeout(function(){n.adapter.removeClass(r)},S1.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var n=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(n),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var n=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return n.previousActivationEvent=void 0},t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var n=this,r=this.activationState;if(r.isActivated){var s=mn({},r);r.isProgrammatic?(requestAnimationFrame(function(){n.animateDeactivation(s)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){n.activationState.hasDeactivationUXRun=!0,n.animateDeactivation(s),n.resetActivationState()}))}},t.prototype.animateDeactivation=function(n){var r=n.wasActivatedByPointer,s=n.wasElementMadeActive;(r||s)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var n=this;this.frame=this.adapter.computeBoundingRect();var r=Math.max(this.frame.height,this.frame.width),s=function(){var o=Math.sqrt(Math.pow(n.frame.width,2)+Math.pow(n.frame.height,2));return o+t.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?r:s();var i=Math.floor(r*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&i%2!==0?this.initialSize=i-1:this.initialSize=i,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var n=t.strings,r=n.VAR_FG_SIZE,s=n.VAR_LEFT,i=n.VAR_TOP,o=n.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize+"px"),this.adapter.updateCssVariable(o,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(s,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords.top+"px"))},t}(Nr);const{applyPassive:ja}=Dg,{matches:k5}=xg;function Jr(e,{ripple:t=!0,surface:n=!1,unbounded:r=!1,disabled:s=!1,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f=g=>e.classList.add(g),removeClass:u=g=>e.classList.remove(g),addStyle:d=(g,p)=>e.style.setProperty(g,p),initPromise:h=Promise.resolve()}={}){let g,p=mr("SMUI:addLayoutListener"),m,v=o,b=l,y=c;function S(){n?(f("mdc-ripple-surface"),i==="primary"?(f("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")):i==="secondary"?(u("smui-ripple-surface--primary"),f("smui-ripple-surface--secondary")):(u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary"))):(u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),g&&v!==o&&(v=o,o?g.activate():o===!1&&g.deactivate()),t&&!g?(g=new x5({addClass:f,browserSupportsCssVars:()=>C5(window),computeBoundingRect:()=>(a||e).getBoundingClientRect(),containsEventTarget:E=>e.contains(E),deregisterDocumentInteractionHandler:(E,A)=>document.documentElement.removeEventListener(E,A,ja()),deregisterInteractionHandler:(E,A)=>(l||e).removeEventListener(E,A,ja()),deregisterResizeHandler:E=>window.removeEventListener("resize",E),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>o??k5(c||e,":active"),isSurfaceDisabled:()=>!!s,isUnbounded:()=>!!r,registerDocumentInteractionHandler:(E,A)=>document.documentElement.addEventListener(E,A,ja()),registerInteractionHandler:(E,A)=>(l||e).addEventListener(E,A,ja()),registerResizeHandler:E=>window.addEventListener("resize",E),removeClass:u,updateCssVariable:d}),h.then(()=>{g&&(g.init(),g.setUnbounded(r))})):g&&!t&&h.then(()=>{g&&(g.destroy(),g=void 0)}),g&&(b!==l||y!==c)&&(b=l,y=c,g.destroy(),requestAnimationFrame(()=>{g&&(g.init(),g.setUnbounded(r))})),!t&&r&&f("mdc-ripple-upgraded--unbounded")}S(),p&&(m=p(w));function w(){g&&g.layout()}return{update(E){({ripple:t,surface:n,unbounded:r,disabled:s,color:i,active:o,rippleElement:a,eventTarget:l,activeTarget:c,addClass:f,removeClass:u,addStyle:d,initPromise:h}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:A=>e.classList.add(A),removeClass:A=>e.classList.remove(A),addStyle:(A,O)=>e.style.setProperty(A,O),initPromise:Promise.resolve()},E)),S()},destroy(){g&&(g.destroy(),g=void 0,u("mdc-ripple-surface"),u("smui-ripple-surface--primary"),u("smui-ripple-surface--secondary")),m&&m()}}}function T1(e){let t;return{c(){t=Et("div"),Ot(t,"class","mdc-segmented-button__ripple")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function C1(e){let t;return{c(){t=Et("div"),Ot(t,"class","mdc-segmented-button__segment__touch")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function G5(e){let t,n,r,s,i,o,a,l,c,f,u,d,h=e[4]&&T1();const g=e[23].default,p=Bt(g,e,e[22],null);let m=e[5]&&C1(),v=[{class:r=dt({[e[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":e[5],"mdc-segmented-button__segment--selected":e[0],...e[8]})},{style:s=Object.entries(e[9]).map(P1).concat([e[3]]).join(" ")},{role:i=e[14]?"radio":void 0},{"aria-pressed":o=e[14]?void 0:e[0]?"true":"false"},{"aria-checked":a=e[14]?e[0]?"true":"false":void 0},e[10],e[19]],b={};for(let y=0;y<v.length;y+=1)b=qe(b,v[y]);return{c(){t=Et("button"),h&&h.c(),n=pn(),p&&p.c(),m&&m.c(),Rt(t,b)},m(y,S){we(y,t,S),h&&h.m(t,null),_n(t,n),p&&p.m(t,null),m&&m.m(t,null),t.autofocus&&t.focus(),e[24](t),f=!0,u||(d=[wt(l=Jr.call(null,t,{ripple:e[4],unbounded:!1,addClass:e[16],removeClass:e[17],addStyle:e[18]})),wt(e[11].call(null,t)),wt(c=yn.call(null,t,e[1])),Dt(t,"click",e[25])],u=!0)},p(y,S){y[4]?h||(h=T1(),h.c(),h.m(t,n)):h&&(h.d(1),h=null),p&&p.p&&(!f||S[0]&4194304)&&$t(p,g,y,y[22],f?Nt(g,y[22],S,null):Vt(y[22]),null),y[5]?m||(m=C1(),m.c(),m.m(t,null)):m&&(m.d(1),m=null),Rt(t,b=It(v,[(!f||S[0]&293&&r!==(r=dt({[y[2]]:!0,"mdc-segmented-button__segment":!0,"mdc-segmented-button__segment--touch":y[5],"mdc-segmented-button__segment--selected":y[0],...y[8]})))&&{class:r},(!f||S[0]&520&&s!==(s=Object.entries(y[9]).map(P1).concat([y[3]]).join(" ")))&&{style:s},{role:i},(!f||S[0]&1&&o!==(o=y[14]?void 0:y[0]?"true":"false"))&&{"aria-pressed":o},(!f||S[0]&1&&a!==(a=y[14]?y[0]?"true":"false":void 0))&&{"aria-checked":a},S[0]&1024&&y[10],S[0]&524288&&y[19]])),l&&zt(l.update)&&S[0]&16&&l.update.call(null,{ripple:y[4],unbounded:!1,addClass:y[16],removeClass:y[17],addStyle:y[18]}),c&&zt(c.update)&&S[0]&2&&c.update.call(null,y[1])},i(y){f||(re(p,y),f=!0)},o(y){le(p,y),f=!1},d(y){y&&Ee(t),h&&h.d(),p&&p.d(y),m&&m.d(),e[24](null),u=!1,fn(d)}}}const P1=([e,t])=>`${e}: ${t};`;function B5(e,t,n){const r=["use","class","style","segment","ripple","touch","selected","getElement"];let s=Ct(t,r),i,o,a,{$$slots:l={},$$scope:c}=t;const f=Pn(an());let u=()=>{};function d(Ge){return Ge===u}let{use:h=[]}=t,{class:g=""}=t,{style:p=""}=t,{segment:m}=t,{ripple:v=!0}=t,{touch:b=!1}=t;const y=mr("SMUI:segmented-button:segment:initialSelected");$o(e,y,Ge=>n(28,a=Ge));let{selected:S=u}=t,w=!d(S);d(S)&&(S=a);let E,A,O={},z={},B={};const x=mr("SMUI:segmented-button:singleSelect");$o(e,x,Ge=>n(27,o=Ge));const oe=mr("SMUI:segmented-button:segment:index");if($o(e,oe,Ge=>n(26,i=Ge)),!m)throw new Error("The segment property is required! It should be passed down from the SegmentedButton to the Segment.");ar(()=>{n(6,A=new Mg.MDCSegmentedButtonSegmentFoundation({isSingleSelect:()=>o,getAttr:ne,setAttr:N,addClass:X,removeClass:Fe,hasClass:V,notifySelectedChange:Lt=>{n(0,S=Lt),zn(te(),"selected",{index:i,selected:S,segmentId:m})},getRootBoundingClientRect:()=>te().getBoundingClientRect()}));const Ge={segmentId:m,get selected(){return S},set selected(Lt){S!==Lt&&n(0,S=Lt)}};return zn(te(),"SMUISegmentedButtonSegment:mount",Ge),A.init(),()=>{zn(te(),"SMUISegmentedButtonSegment:unmount",Ge),A.destroy()}});function V(Ge){return Ge in O?O[Ge]:te().classList.contains(Ge)}function X(Ge){O[Ge]||n(8,O[Ge]=!0,O)}function Fe(Ge){(!(Ge in O)||O[Ge])&&n(8,O[Ge]=!1,O)}function ne(Ge){var Lt;return Ge in B?(Lt=B[Ge])!==null&&Lt!==void 0?Lt:null:te().getAttribute(Ge)}function N(Ge,Lt){B[Ge]!==Lt&&n(10,B[Ge]=Lt,B)}function de(Ge,Lt){z[Ge]!=Lt&&(Lt===""||Lt==null?(delete z[Ge],n(9,z)):n(9,z[Ge]=Lt,z))}function te(){return E}function je(Ge){ot[Ge?"unshift":"push"](()=>{E=Ge,n(7,E)})}const Mt=Ge=>!Ge.defaultPrevented&&A&&!w&&A.handleClick();return e.$$set=Ge=>{t=qe(qe({},t),An(Ge)),n(19,s=Ct(t,r)),"use"in Ge&&n(1,h=Ge.use),"class"in Ge&&n(2,g=Ge.class),"style"in Ge&&n(3,p=Ge.style),"segment"in Ge&&n(20,m=Ge.segment),"ripple"in Ge&&n(4,v=Ge.ripple),"touch"in Ge&&n(5,b=Ge.touch),"selected"in Ge&&n(0,S=Ge.selected),"$$scope"in Ge&&n(22,c=Ge.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&65&&A&&A.isSelected()&&!S&&A.setUnselected(),e.$$.dirty[0]&65&&A&&!A.isSelected()&&S&&A.setSelected()},[S,h,g,p,v,b,A,E,O,z,B,f,y,w,x,oe,X,Fe,de,s,m,te,c,l,je,Mt]}class N5 extends Jt{constructor(t){super(),Qt(this,t,B5,G5,Ht,{use:1,class:2,style:3,segment:20,ripple:4,touch:5,selected:0,getElement:21},null,[-1,-1])}get getElement(){return this.$$.ctx[21]}}function $5(e){let t,n,r,s,i,o;const a=e[12].default,l=Bt(a,e,e[11],null);let c=[{class:n=dt({[e[1]]:!0,"smui-paper":!0,"smui-paper--raised":e[2]==="raised","smui-paper--unelevated":e[2]==="unelevated","smui-paper--outlined":e[2]==="outlined",["smui-paper--elevation-z"+e[5]]:e[5]!==0&&e[2]==="raised","smui-paper--rounded":!e[3],["smui-paper--color-"+e[4]]:e[4]!=="default","smui-paper-transition":e[6]})},e[9]],f={};for(let u=0;u<c.length;u+=1)f=qe(f,c[u]);return{c(){t=Et("div"),l&&l.c(),Rt(t,f)},m(u,d){we(u,t,d),l&&l.m(t,null),e[13](t),s=!0,i||(o=[wt(r=yn.call(null,t,e[0])),wt(e[8].call(null,t))],i=!0)},p(u,[d]){l&&l.p&&(!s||d&2048)&&$t(l,a,u,u[11],s?Nt(a,u[11],d,null):Vt(u[11]),null),Rt(t,f=It(c,[(!s||d&126&&n!==(n=dt({[u[1]]:!0,"smui-paper":!0,"smui-paper--raised":u[2]==="raised","smui-paper--unelevated":u[2]==="unelevated","smui-paper--outlined":u[2]==="outlined",["smui-paper--elevation-z"+u[5]]:u[5]!==0&&u[2]==="raised","smui-paper--rounded":!u[3],["smui-paper--color-"+u[4]]:u[4]!=="default","smui-paper-transition":u[6]})))&&{class:n},d&512&&u[9]])),r&&zt(r.update)&&d&1&&r.update.call(null,u[0])},i(u){s||(re(l,u),s=!0)},o(u){le(l,u),s=!1},d(u){u&&Ee(t),l&&l.d(u),e[13](null),i=!1,fn(o)}}}function V5(e,t,n){const r=["use","class","variant","square","color","elevation","transition","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Pn(an());let{use:l=[]}=t,{class:c=""}=t,{variant:f="raised"}=t,{square:u=!1}=t,{color:d="default"}=t,{elevation:h=1}=t,{transition:g=!1}=t,p;function m(){return p}function v(b){ot[b?"unshift":"push"](()=>{p=b,n(7,p)})}return e.$$set=b=>{t=qe(qe({},t),An(b)),n(9,s=Ct(t,r)),"use"in b&&n(0,l=b.use),"class"in b&&n(1,c=b.class),"variant"in b&&n(2,f=b.variant),"square"in b&&n(3,u=b.square),"color"in b&&n(4,d=b.color),"elevation"in b&&n(5,h=b.elevation),"transition"in b&&n(6,g=b.transition),"$$scope"in b&&n(11,o=b.$$scope)},[l,c,f,u,d,h,g,p,a,s,m,o,i,v]}class Ol extends Jt{constructor(t){super(),Qt(this,t,V5,$5,Ht,{use:0,class:1,variant:2,square:3,color:4,elevation:5,transition:6,getElement:10})}get getElement(){return this.$$.ctx[10]}}function U5(e){let t;const n=e[11].default,r=Bt(n,e,e[13],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&8192)&&$t(r,n,s,s[13],t?Nt(n,s[13],i,null):Vt(s[13]),null)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function z5(e){let t,n,r;const s=[{tag:e[3]},{use:[e[8],...e[0]]},{class:dt({[e[1]]:!0,[e[6]]:!0,...e[5]})},e[7],e[9]];var i=e[2];function o(a){let l={$$slots:{default:[U5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=qe(l,s[c]);return{props:l}}return i&&(t=vr(i,o(e)),e[12](t)),{c(){t&&tt(t.$$.fragment),n=pn()},m(a,l){t&&Qe(t,a,l),we(a,n,l),r=!0},p(a,[l]){const c=l&1003?It(s,[l&8&&{tag:a[3]},l&257&&{use:[a[8],...a[0]]},l&98&&{class:dt({[a[1]]:!0,[a[6]]:!0,...a[5]})},l&128&&cn(a[7]),l&512&&cn(a[9])]):{};if(l&8192&&(c.$$scope={dirty:l,ctx:a}),l&4&&i!==(i=a[2])){if(t){Zt();const f=t;le(f.$$.fragment,1,0,()=>{Je(f,1)}),Kt()}i?(t=vr(i,o(a)),a[12](t),tt(t.$$.fragment),re(t.$$.fragment,1),Qe(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&le(t.$$.fragment,a),r=!1},d(a){e[12](null),a&&Ee(n),t&&Je(t,a)}}}const Kr={component:_r,tag:"div",class:"",classMap:{},contexts:{},props:{}};function H5(e,t,n){const r=["use","class","component","tag","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t,{use:a=[]}=t,{class:l=""}=t,c;const f=Kr.class,u={},d=[],h=Kr.contexts,g=Kr.props;let{component:p=Kr.component}=t,{tag:m=p===_r?Kr.tag:void 0}=t;Object.entries(Kr.classMap).forEach(([S,w])=>{const E=mr(w);E&&"subscribe"in E&&d.push(E.subscribe(A=>{n(5,u[S]=A,u)}))});const v=Pn(an());for(let S in h)h.hasOwnProperty(S)&&hr(S,h[S]);Yu(()=>{for(const S of d)S()});function b(){return c.getElement()}function y(S){ot[S?"unshift":"push"](()=>{c=S,n(4,c)})}return e.$$set=S=>{t=qe(qe({},t),An(S)),n(9,s=Ct(t,r)),"use"in S&&n(0,a=S.use),"class"in S&&n(1,l=S.class),"component"in S&&n(2,p=S.component),"tag"in S&&n(3,m=S.tag),"$$scope"in S&&n(13,o=S.$$scope)},[a,l,p,m,c,u,f,g,v,s,b,i,y,o]}class j5 extends Jt{constructor(t){super(),Qt(this,t,H5,z5,Ht,{use:0,class:1,component:2,tag:3,getElement:10})}get getElement(){return this.$$.ctx[10]}}const L1=Object.assign({},Kr);function Zi(e){return new Proxy(j5,{construct:function(t,n){return Object.assign(Kr,L1,e),new t(...n)},get:function(t,n){return Object.assign(Kr,L1,e),t[n]}})}Zi({class:"smui-paper__content",tag:"div"});Zi({class:"smui-paper__title",tag:"h5"});Zi({class:"smui-paper__subtitle",tag:"h6"});function O1(e){let t;return{c(){t=Et("div"),Ot(t,"class","mdc-button__touch")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function q5(e){let t,n,r,s;const i=e[28].default,o=Bt(i,e,e[30],null);let a=e[6]&&O1();return{c(){t=Et("div"),n=mt(),o&&o.c(),a&&a.c(),r=pn(),Ot(t,"class","mdc-button__ripple")},m(l,c){we(l,t,c),we(l,n,c),o&&o.m(l,c),a&&a.m(l,c),we(l,r,c),s=!0},p(l,c){o&&o.p&&(!s||c[0]&1073741824)&&$t(o,i,l,l[30],s?Nt(i,l[30],c,null):Vt(l[30]),null),l[6]?a||(a=O1(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(l){s||(re(o,l),s=!0)},o(l){le(o,l),s=!1},d(l){l&&Ee(t),l&&Ee(n),o&&o.d(l),a&&a.d(l),l&&Ee(r)}}}function X5(e){let t,n,r;const s=[{tag:e[10]},{use:[[Jr,{ripple:e[3],unbounded:!1,color:e[4],disabled:!!e[23].disabled,addClass:e[19],removeClass:e[20],addStyle:e[21]}],e[17],...e[0]]},{class:dt({[e[1]]:!0,"mdc-button":!0,"mdc-button--raised":e[5]==="raised","mdc-button--unelevated":e[5]==="unelevated","mdc-button--outlined":e[5]==="outlined","smui-button--color-secondary":e[4]==="secondary","mdc-button--touch":e[6],"mdc-card__action":e[18]==="card:action","mdc-card__action--button":e[18]==="card:action","mdc-dialog__button":e[18]==="dialog:action","mdc-top-app-bar__navigation-icon":e[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":e[18]==="top-app-bar:action","mdc-snackbar__action":e[18]==="snackbar:actions","mdc-banner__secondary-action":e[18]==="banner"&&e[8],"mdc-banner__primary-action":e[18]==="banner"&&!e[8],"mdc-tooltip__action":e[18]==="tooltip:rich-actions",...e[12]})},{style:Object.entries(e[13]).map(R1).concat([e[2]]).join(" ")},e[16],e[15],e[14],{href:e[7]},e[23]];var i=e[9];function o(a){let l={$$slots:{default:[q5]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=qe(l,s[c]);return{props:l}}return i&&(t=vr(i,o(e)),e[29](t),t.$on("click",e[22])),{c(){t&&tt(t.$$.fragment),n=pn()},m(a,l){t&&Qe(t,a,l),we(a,n,l),r=!0},p(a,l){const c=l[0]&12580351?It(s,[l[0]&1024&&{tag:a[10]},l[0]&12189721&&{use:[[Jr,{ripple:a[3],unbounded:!1,color:a[4],disabled:!!a[23].disabled,addClass:a[19],removeClass:a[20],addStyle:a[21]}],a[17],...a[0]]},l[0]&266610&&{class:dt({[a[1]]:!0,"mdc-button":!0,"mdc-button--raised":a[5]==="raised","mdc-button--unelevated":a[5]==="unelevated","mdc-button--outlined":a[5]==="outlined","smui-button--color-secondary":a[4]==="secondary","mdc-button--touch":a[6],"mdc-card__action":a[18]==="card:action","mdc-card__action--button":a[18]==="card:action","mdc-dialog__button":a[18]==="dialog:action","mdc-top-app-bar__navigation-icon":a[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":a[18]==="top-app-bar:action","mdc-snackbar__action":a[18]==="snackbar:actions","mdc-banner__secondary-action":a[18]==="banner"&&a[8],"mdc-banner__primary-action":a[18]==="banner"&&!a[8],"mdc-tooltip__action":a[18]==="tooltip:rich-actions",...a[12]})},l[0]&8196&&{style:Object.entries(a[13]).map(R1).concat([a[2]]).join(" ")},l[0]&65536&&cn(a[16]),l[0]&32768&&cn(a[15]),l[0]&16384&&cn(a[14]),l[0]&128&&{href:a[7]},l[0]&8388608&&cn(a[23])]):{};if(l[0]&1073741888&&(c.$$scope={dirty:l,ctx:a}),l[0]&512&&i!==(i=a[9])){if(t){Zt();const f=t;le(f.$$.fragment,1,0,()=>{Je(f,1)}),Kt()}i?(t=vr(i,o(a)),a[29](t),t.$on("click",a[22]),tt(t.$$.fragment),re(t.$$.fragment,1),Qe(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&le(t.$$.fragment,a),r=!1},d(a){e[29](null),a&&Ee(n),t&&Je(t,a)}}}const R1=([e,t])=>`${e}: ${t};`;function W5(e,t,n){let r,s,i;const o=["use","class","style","ripple","color","variant","touch","href","action","defaultAction","secondary","component","tag","getElement"];let a=Ct(t,o),{$$slots:l={},$$scope:c}=t;const f=Pn(an());let{use:u=[]}=t,{class:d=""}=t,{style:h=""}=t,{ripple:g=!0}=t,{color:p="primary"}=t,{variant:m="text"}=t,{touch:v=!1}=t,{href:b=void 0}=t,{action:y="close"}=t,{defaultAction:S=!1}=t,{secondary:w=!1}=t,E,A={},O={},z=mr("SMUI:button:context"),{component:B=_r}=t,{tag:x=B===_r?b==null?"button":"a":void 0}=t,oe=a.disabled;hr("SMUI:label:context","button"),hr("SMUI:icon:context","button");function V(te){A[te]||n(12,A[te]=!0,A)}function X(te){(!(te in A)||A[te])&&n(12,A[te]=!1,A)}function Fe(te,je){O[te]!=je&&(je===""||je==null?(delete O[te],n(13,O)):n(13,O[te]=je,O))}function ne(){z==="banner"&&zn(N(),w?"SMUIBannerButton:secondaryActionClick":"SMUIBannerButton:primaryActionClick")}function N(){return E.getElement()}function de(te){ot[te?"unshift":"push"](()=>{E=te,n(11,E)})}return e.$$set=te=>{n(31,t=qe(qe({},t),An(te))),n(23,a=Ct(t,o)),"use"in te&&n(0,u=te.use),"class"in te&&n(1,d=te.class),"style"in te&&n(2,h=te.style),"ripple"in te&&n(3,g=te.ripple),"color"in te&&n(4,p=te.color),"variant"in te&&n(5,m=te.variant),"touch"in te&&n(6,v=te.touch),"href"in te&&n(7,b=te.href),"action"in te&&n(24,y=te.action),"defaultAction"in te&&n(25,S=te.defaultAction),"secondary"in te&&n(8,w=te.secondary),"component"in te&&n(9,B=te.component),"tag"in te&&n(10,x=te.tag),"$$scope"in te&&n(30,c=te.$$scope)},e.$$.update=()=>{if(n(16,r=z==="dialog:action"&&y!=null?{"data-mdc-dialog-action":y}:{action:t.action}),n(15,s=z==="dialog:action"&&S?{"data-mdc-dialog-button-default":""}:{default:t.default}),n(14,i=z==="banner"?{}:{secondary:t.secondary}),oe!==a.disabled){const te=N();"blur"in te&&te.blur(),n(27,oe=a.disabled)}},t=An(t),[u,d,h,g,p,m,v,b,w,B,x,E,A,O,i,s,r,f,z,V,X,Fe,ne,a,y,S,N,oe,l,de,c]}class gl extends Jt{constructor(t){super(),Qt(this,t,W5,X5,Ht,{use:0,class:1,style:2,ripple:3,color:4,variant:5,touch:6,href:7,action:24,defaultAction:25,secondary:8,component:9,tag:10,getElement:26},null,[-1,-1])}get getElement(){return this.$$.ctx[26]}}function M1(e,t,n){const r=e.slice();return r[6]=t[n],r[8]=n,r}function I1(e,t,n){const r=e.slice();return r[9]=t[n],r[10]=t,r[11]=n,r}function Y5(e){let t=e[12]+"",n;return{c(){n=qn(t)},m(r,s){we(r,n,s)},p(r,s){s&4096&&t!==(t=r[12]+"")&&si(n,t)},d(r){r&&Ee(n)}}}function Z5(e){let t,n;return t=new Yi({props:{$$slots:{default:[Y5]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s&12288&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function K5(e){let t,n;return t=new N5({props:{segment:e[12],$$slots:{default:[Z5]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s&4096&&(i.segment=r[12]),s&12288&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Q5(e){let t;return{c(){t=qn("Clear all")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function J5(e){let t,n;return t=new Yi({props:{$$slots:{default:[Q5]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s&8192&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function D1(e){let t,n,r;function s(o){e[5](o,e[9],e[10],e[11])}let i={x:e[11],y:e[8],mode:e[2].indexOf(e[1])};return e[9]!==void 0&&(i.value=e[9]),t=new n5({props:i}),ot.push(()=>Dn(t,"value",s)),{c(){tt(t.$$.fragment)},m(o,a){Qe(t,o,a),r=!0},p(o,a){e=o;const l={};a&2&&(l.mode=e[2].indexOf(e[1])),!n&&a&1&&(n=!0,l.value=e[9],In(()=>n=!1)),t.$set(l)},i(o){r||(re(t.$$.fragment,o),r=!0)},o(o){le(t.$$.fragment,o),r=!1},d(o){Je(t,o)}}}function F1(e){let t,n,r=e[6],s=[];for(let o=0;o<r.length;o+=1)s[o]=D1(I1(e,r,o));const i=o=>le(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=pn()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);we(o,t,a),n=!0},p(o,a){if(a&7){r=o[6];let l;for(l=0;l<r.length;l+=1){const c=I1(o,r,l);s[l]?(s[l].p(c,a),re(s[l],1)):(s[l]=D1(c),s[l].c(),re(s[l],1),s[l].m(t.parentNode,t))}for(Zt(),l=r.length;l<s.length;l+=1)i(l);Kt()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)re(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)le(s[a]);n=!1},d(o){wg(s,o),o&&Ee(t)}}}function eA(e){let t,n,r=e[0],s=[];for(let o=0;o<r.length;o+=1)s[o]=F1(M1(e,r,o));const i=o=>le(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=pn()},m(o,a){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,a);we(o,t,a),n=!0},p(o,a){if(a&7){r=o[0];let l;for(l=0;l<r.length;l+=1){const c=M1(o,r,l);s[l]?(s[l].p(c,a),re(s[l],1)):(s[l]=F1(c),s[l].c(),re(s[l],1),s[l].m(t.parentNode,t))}for(Zt(),l=r.length;l<s.length;l+=1)i(l);Kt()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)re(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)le(s[a]);n=!1},d(o){wg(s,o),o&&Ee(t)}}}function tA(e){let t,n,r,s,i,o,a,l;function c(u){e[4](u)}let f={segments:e[2],singleSelect:!0,$$slots:{default:[K5,({segment:u})=>({12:u}),({segment:u})=>u?4096:0]},$$scope:{ctx:e}};return e[1]!==void 0&&(f.selected=e[1]),n=new T5({props:f}),ot.push(()=>Dn(n,"selected",c)),i=new gl({props:{variant:"outlined",$$slots:{default:[J5]},$$scope:{ctx:e}}}),i.$on("click",e[3]),a=new Ol({props:{variant:"unelevated",class:"design",$$slots:{default:[eA]},$$scope:{ctx:e}}}),{c(){t=Et("div"),tt(n.$$.fragment),s=mt(),tt(i.$$.fragment),o=mt(),tt(a.$$.fragment),Ot(t,"class","toolbar svelte-d3wd3k")},m(u,d){we(u,t,d),Qe(n,t,null),_n(t,s),Qe(i,t,null),we(u,o,d),Qe(a,u,d),l=!0},p(u,[d]){const h={};d&12288&&(h.$$scope={dirty:d,ctx:u}),!r&&d&2&&(r=!0,h.selected=u[1],In(()=>r=!1)),n.$set(h);const g={};d&8192&&(g.$$scope={dirty:d,ctx:u}),i.$set(g);const p={};d&8195&&(p.$$scope={dirty:d,ctx:u}),a.$set(p)},i(u){l||(re(n.$$.fragment,u),re(i.$$.fragment,u),re(a.$$.fragment,u),l=!0)},o(u){le(n.$$.fragment,u),le(i.$$.fragment,u),le(a.$$.fragment,u),l=!1},d(u){u&&Ee(t),Je(n),Je(i),u&&Ee(o),Je(a,u)}}}function nA(e,t,n){let{model:r}=t,s="vacant";const i=["clear","hole","vacant","capped"];function o(){window.confirm("Are you sure?")&&n(0,r=Array(20).fill(0).map(()=>Array(30).fill(0)))}function a(c){s=c,n(1,s)}function l(c,f,u,d){u[d]=c,n(0,r)}return e.$$set=c=>{"model"in c&&n(0,r=c.model)},[r,s,i,o,a,l]}class rA extends Jt{constructor(t){super(),Qt(this,t,nA,tA,Ht,{model:0})}}var sA=iA;function iA(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var oA=aA;function aA(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var lA=cA;function cA(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var kg=fA;function fA(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var uA=dA;function dA(e,t){if(e===t){var n=t[1],r=t[2],s=t[3],i=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=s,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}var hA=mA;function mA(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],h=t[11],g=t[12],p=t[13],m=t[14],v=t[15],b=n*a-r*o,y=n*l-s*o,S=n*c-i*o,w=r*l-s*a,E=r*c-i*a,A=s*c-i*l,O=f*p-u*g,z=f*m-d*g,B=f*v-h*g,x=u*m-d*p,oe=u*v-h*p,V=d*v-h*m,X=b*V-y*oe+S*x+w*B-E*z+A*O;return X?(X=1/X,e[0]=(a*V-l*oe+c*x)*X,e[1]=(s*oe-r*V-i*x)*X,e[2]=(p*A-m*E+v*w)*X,e[3]=(d*E-u*A-h*w)*X,e[4]=(l*B-o*V-c*z)*X,e[5]=(n*V-s*B+i*z)*X,e[6]=(m*S-g*A-v*y)*X,e[7]=(f*A-d*S+h*y)*X,e[8]=(o*oe-a*B+c*O)*X,e[9]=(r*B-n*oe-i*O)*X,e[10]=(g*E-p*S+v*b)*X,e[11]=(u*S-f*E-h*b)*X,e[12]=(a*z-o*x-l*O)*X,e[13]=(n*x-r*z+s*O)*X,e[14]=(p*y-g*w-m*b)*X,e[15]=(f*w-u*y+d*b)*X,e):null}var pA=gA;function gA(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],h=t[11],g=t[12],p=t[13],m=t[14],v=t[15];return e[0]=a*(d*v-h*m)-u*(l*v-c*m)+p*(l*h-c*d),e[1]=-(r*(d*v-h*m)-u*(s*v-i*m)+p*(s*h-i*d)),e[2]=r*(l*v-c*m)-a*(s*v-i*m)+p*(s*c-i*l),e[3]=-(r*(l*h-c*d)-a*(s*h-i*d)+u*(s*c-i*l)),e[4]=-(o*(d*v-h*m)-f*(l*v-c*m)+g*(l*h-c*d)),e[5]=n*(d*v-h*m)-f*(s*v-i*m)+g*(s*h-i*d),e[6]=-(n*(l*v-c*m)-o*(s*v-i*m)+g*(s*c-i*l)),e[7]=n*(l*h-c*d)-o*(s*h-i*d)+f*(s*c-i*l),e[8]=o*(u*v-h*p)-f*(a*v-c*p)+g*(a*h-c*u),e[9]=-(n*(u*v-h*p)-f*(r*v-i*p)+g*(r*h-i*u)),e[10]=n*(a*v-c*p)-o*(r*v-i*p)+g*(r*c-i*a),e[11]=-(n*(a*h-c*u)-o*(r*h-i*u)+f*(r*c-i*a)),e[12]=-(o*(u*m-d*p)-f*(a*m-l*p)+g*(a*d-l*u)),e[13]=n*(u*m-d*p)-f*(r*m-s*p)+g*(r*d-s*u),e[14]=-(n*(a*m-l*p)-o*(r*m-s*p)+g*(r*l-s*a)),e[15]=n*(a*d-l*u)-o*(r*d-s*u)+f*(r*l-s*a),e}var vA=bA;function bA(e){var t=e[0],n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],l=e[7],c=e[8],f=e[9],u=e[10],d=e[11],h=e[12],g=e[13],p=e[14],m=e[15],v=t*o-n*i,b=t*a-r*i,y=t*l-s*i,S=n*a-r*o,w=n*l-s*o,E=r*l-s*a,A=c*g-f*h,O=c*p-u*h,z=c*m-d*h,B=f*p-u*g,x=f*m-d*g,oe=u*m-d*p;return v*oe-b*x+y*B+S*z-w*O+E*A}var _A=yA;function yA(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],d=t[9],h=t[10],g=t[11],p=t[12],m=t[13],v=t[14],b=t[15],y=n[0],S=n[1],w=n[2],E=n[3];return e[0]=y*r+S*a+w*u+E*p,e[1]=y*s+S*l+w*d+E*m,e[2]=y*i+S*c+w*h+E*v,e[3]=y*o+S*f+w*g+E*b,y=n[4],S=n[5],w=n[6],E=n[7],e[4]=y*r+S*a+w*u+E*p,e[5]=y*s+S*l+w*d+E*m,e[6]=y*i+S*c+w*h+E*v,e[7]=y*o+S*f+w*g+E*b,y=n[8],S=n[9],w=n[10],E=n[11],e[8]=y*r+S*a+w*u+E*p,e[9]=y*s+S*l+w*d+E*m,e[10]=y*i+S*c+w*h+E*v,e[11]=y*o+S*f+w*g+E*b,y=n[12],S=n[13],w=n[14],E=n[15],e[12]=y*r+S*a+w*u+E*p,e[13]=y*s+S*l+w*d+E*m,e[14]=y*i+S*c+w*h+E*v,e[15]=y*o+S*f+w*g+E*b,e}var AA=SA;function SA(e,t,n){var r=n[0],s=n[1],i=n[2],o,a,l,c,f,u,d,h,g,p,m,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],d=t[6],h=t[7],g=t[8],p=t[9],m=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=d,e[7]=h,e[8]=g,e[9]=p,e[10]=m,e[11]=v,e[12]=o*r+f*s+g*i+t[12],e[13]=a*r+u*s+p*i+t[13],e[14]=l*r+d*s+m*i+t[14],e[15]=c*r+h*s+v*i+t[15]),e}var EA=wA;function wA(e,t,n){var r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var TA=CA;function CA(e,t,n,r){var s=r[0],i=r[1],o=r[2],a=Math.sqrt(s*s+i*i+o*o),l,c,f,u,d,h,g,p,m,v,b,y,S,w,E,A,O,z,B,x,oe,V,X,Fe;return Math.abs(a)<1e-6?null:(a=1/a,s*=a,i*=a,o*=a,l=Math.sin(n),c=Math.cos(n),f=1-c,u=t[0],d=t[1],h=t[2],g=t[3],p=t[4],m=t[5],v=t[6],b=t[7],y=t[8],S=t[9],w=t[10],E=t[11],A=s*s*f+c,O=i*s*f+o*l,z=o*s*f-i*l,B=s*i*f-o*l,x=i*i*f+c,oe=o*i*f+s*l,V=s*o*f+i*l,X=i*o*f-s*l,Fe=o*o*f+c,e[0]=u*A+p*O+y*z,e[1]=d*A+m*O+S*z,e[2]=h*A+v*O+w*z,e[3]=g*A+b*O+E*z,e[4]=u*B+p*x+y*oe,e[5]=d*B+m*x+S*oe,e[6]=h*B+v*x+w*oe,e[7]=g*B+b*x+E*oe,e[8]=u*V+p*X+y*Fe,e[9]=d*V+m*X+S*Fe,e[10]=h*V+v*X+w*Fe,e[11]=g*V+b*X+E*Fe,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}var PA=LA;function LA(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+d*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=d*s-l*r,e}var OA=RA;function RA(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-d*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+d*s,e}var MA=IA;function IA(e,t,n){var r=Math.sin(n),s=Math.cos(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+d*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=d*s-l*r,e}var DA=FA;function FA(e,t,n){var r,s,i,o=n[0],a=n[1],l=n[2],c=Math.sqrt(o*o+a*a+l*l);return Math.abs(c)<1e-6?null:(c=1/c,o*=c,a*=c,l*=c,r=Math.sin(t),s=Math.cos(t),i=1-s,e[0]=o*o*i+s,e[1]=a*o*i+l*r,e[2]=l*o*i-a*r,e[3]=0,e[4]=o*a*i-l*r,e[5]=a*a*i+s,e[6]=l*a*i+o*r,e[7]=0,e[8]=o*l*i+a*r,e[9]=a*l*i-o*r,e[10]=l*l*i+s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}var xA=kA;function kA(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],a=r+r,l=s+s,c=i+i,f=r*a,u=r*l,d=r*c,h=s*l,g=s*c,p=i*c,m=o*a,v=o*l,b=o*c;return e[0]=1-(h+p),e[1]=u+b,e[2]=d-v,e[3]=0,e[4]=u-b,e[5]=1-(f+p),e[6]=g+m,e[7]=0,e[8]=d+v,e[9]=g-m,e[10]=1-(f+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}var GA=BA;function BA(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var NA=$A;function $A(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}var VA=UA;function UA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var zA=HA;function HA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var jA=qA;function qA(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var XA=WA;function WA(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=n+n,a=r+r,l=s+s,c=n*o,f=r*o,u=r*a,d=s*o,h=s*a,g=s*l,p=i*o,m=i*a,v=i*l;return e[0]=1-u-g,e[1]=f+v,e[2]=d-m,e[3]=0,e[4]=f-v,e[5]=1-c-g,e[6]=h+p,e[7]=0,e[8]=d+m,e[9]=h-p,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var YA=ZA;function ZA(e,t,n,r,s,i,o){var a=1/(n-t),l=1/(s-r),c=1/(i-o);return e[0]=i*2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(n+t)*a,e[9]=(s+r)*l,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}var KA=QA;function QA(e,t,n,r,s){var i=1/Math.tan(t/2),o=1/(r-s);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*r*o,e[15]=0,e}var JA=e3;function e3(e,t,n,r){var s=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(s+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((o-a)*l*.5),e[9]=(s-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}var t3=n3;function n3(e,t,n,r,s,i,o){var a=1/(t-n),l=1/(r-s),c=1/(i-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(s+r)*l,e[14]=(o+i)*c,e[15]=1,e}var r3=kg,s3=i3;function i3(e,t,n,r){var s,i,o,a,l,c,f,u,d,h,g=t[0],p=t[1],m=t[2],v=r[0],b=r[1],y=r[2],S=n[0],w=n[1],E=n[2];return Math.abs(g-S)<1e-6&&Math.abs(p-w)<1e-6&&Math.abs(m-E)<1e-6?r3(e):(f=g-S,u=p-w,d=m-E,h=1/Math.sqrt(f*f+u*u+d*d),f*=h,u*=h,d*=h,s=b*d-y*u,i=y*f-v*d,o=v*u-b*f,h=Math.sqrt(s*s+i*i+o*o),h?(h=1/h,s*=h,i*=h,o*=h):(s=0,i=0,o=0),a=u*o-d*i,l=d*s-f*o,c=f*i-u*s,h=Math.sqrt(a*a+l*l+c*c),h?(h=1/h,a*=h,l*=h,c*=h):(a=0,l=0,c=0),e[0]=s,e[1]=a,e[2]=f,e[3]=0,e[4]=i,e[5]=l,e[6]=u,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(s*g+i*p+o*m),e[13]=-(a*g+l*p+c*m),e[14]=-(f*g+u*p+d*m),e[15]=1,e)}var o3=a3;function a3(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}var yr={create:sA,clone:oA,copy:lA,identity:kg,transpose:uA,invert:hA,adjoint:pA,determinant:vA,multiply:_A,translate:AA,scale:EA,rotate:TA,rotateX:PA,rotateY:OA,rotateZ:MA,fromRotation:DA,fromRotationTranslation:xA,fromScaling:GA,fromTranslation:NA,fromXRotation:VA,fromYRotation:zA,fromZRotation:jA,fromQuat:XA,frustum:YA,perspective:KA,perspectiveFromFieldOfView:JA,ortho:t3,lookAt:s3,str:o3};const Af=yr,l3=(e,t={})=>{const{fbo:n}=t,r={cull:{enable:!0},context:{lightDirection:[.2,.2,1]},uniforms:{view:(s,i)=>i.camera.view,eye:(s,i)=>i.camera.position,projection:(s,i)=>i.camera.projection,camNear:(s,i)=>i.camera.near,camFar:(s,i)=>i.camera.far,invertedView:(s,i)=>Af.invert([],i.camera.view),lightPosition:(s,i)=>i&&i.rendering&&i.rendering.lightPosition?i.rendering.lightPosition:[100,200,100],lightDirection:(s,i)=>i&&i.rendering&&i.rendering.lightDirection?i.rendering.lightDirection:s.lightDirection||[0,0,0],lightView:s=>Af.lookAt([],s.lightDirection,[0,0,0],[0,0,1]),lightProjection:Af.ortho([],-25,-25,-20,20,-25,25),lightColor:(s,i)=>i&&i.rendering&&i.rendering.lightColor?i.rendering.lightColor:[1,.8,0],ambientLightAmount:(s,i)=>i&&i.rendering&&i.rendering.ambientLightAmount?i.rendering.ambientLightAmount:.3,diffuseLightAmount:(s,i)=>i&&i.rendering&&i.rendering.diffuseLightAmount?i&&i.rendering&&i.rendering.diffuseLightAmount:.89,specularLightAmount:(s,i)=>i&&i.rendering&&i.rendering.specularLightAmount?i.rendering.specularLightAmount:.16,uMaterialShininess:(s,i)=>i&&i.rendering&&i.rendering.materialShininess?i.rendering.materialShininess:8,materialAmbient:[.5,.8,.3],materialDiffuse:[.5,.8,.3],materialSpecular:[.5,.8,.3]},framebuffer:n};return e(Object.assign({},r,t.extras))};var c3=l3,Rl={background:[1,1,1,1],meshColor:[0,.6,1,1],lightColor:[1,1,1,1],lightDirection:[.2,.2,1],lightPosition:[100,200,100],ambientLightAmount:.3,diffuseLightAmount:.89,specularLightAmount:.16,materialShininess:8},Sf={exports:{}},x1;function f3(){return x1||(x1=1,function(e,t){(function(n,r){e.exports=r()})(Zs,function(){var n=function(_){return _ instanceof Uint8Array||_ instanceof Uint16Array||_ instanceof Uint32Array||_ instanceof Int8Array||_ instanceof Int16Array||_ instanceof Int32Array||_ instanceof Float32Array||_ instanceof Float64Array||_ instanceof Uint8ClampedArray},r=function(_,C){for(var F=Object.keys(C),Q=0;Q<F.length;++Q)_[F[Q]]=C[F[Q]];return _},s=`
`;function i(_){return typeof atob<"u"?atob(_):"base64:"+_}function o(_){var C=new Error("(regl) "+_);throw console.error(C),C}function a(_,C){_||o(C)}function l(_){return _?": "+_:""}function c(_,C,F){_ in C||o("unknown parameter ("+_+")"+l(F)+". possible values: "+Object.keys(C).join())}function f(_,C){n(_)||o("invalid parameter type"+l(C)+". must be a typed array")}function u(_,C){switch(C){case"number":return typeof _=="number";case"object":return typeof _=="object";case"string":return typeof _=="string";case"boolean":return typeof _=="boolean";case"function":return typeof _=="function";case"undefined":return typeof _>"u";case"symbol":return typeof _=="symbol"}}function d(_,C,F){u(_,C)||o("invalid parameter type"+l(F)+". expected "+C+", got "+typeof _)}function h(_,C){_>=0&&(_|0)===_||o("invalid parameter type, ("+_+")"+l(C)+". must be a nonnegative integer")}function g(_,C,F){C.indexOf(_)<0&&o("invalid value"+l(F)+". must be one of: "+C)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(_){Object.keys(_).forEach(function(C){p.indexOf(C)<0&&o('invalid regl constructor argument "'+C+'". must be one of '+p)})}function v(_,C){for(_=_+"";_.length<C;)_=" "+_;return _}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(_,C){this.number=_,this.line=C,this.errors=[]}function S(_,C,F){this.file=_,this.line=C,this.message=F}function w(){var _=new Error,C=(_.stack||_).toString(),F=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(C);if(F)return F[1];var Q=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(C);return Q?Q[1]:"unknown"}function E(){var _=new Error,C=(_.stack||_).toString(),F=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(C);if(F)return F[1];var Q=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(C);return Q?Q[1]:"unknown"}function A(_,C){var F=_.split(`
`),Q=1,ue=0,K={unknown:new b,0:new b};K.unknown.name=K[0].name=C||w(),K.unknown.lines.push(new y(0,""));for(var ie=0;ie<F.length;++ie){var be=F[ie],ve=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(be);if(ve)switch(ve[1]){case"line":var Te=/(\d+)(\s+\d+)?/.exec(ve[2]);Te&&(Q=Te[1]|0,Te[2]&&(ue=Te[2]|0,ue in K||(K[ue]=new b)));break;case"define":var Pe=/SHADER_NAME(_B64)?\s+(.*)$/.exec(ve[2]);Pe&&(K[ue].name=Pe[1]?i(Pe[2]):Pe[2]);break}K[ue].lines.push(new y(Q++,be))}return Object.keys(K).forEach(function(Ce){var Re=K[Ce];Re.lines.forEach(function(_e){Re.index[_e.number]=_e})}),K}function O(_){var C=[];return _.split(`
`).forEach(function(F){if(!(F.length<5)){var Q=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(F);Q?C.push(new S(Q[1]|0,Q[2]|0,Q[3].trim())):F.length>0&&C.push(new S("unknown",0,F))}}),C}function z(_,C){C.forEach(function(F){var Q=_[F.file];if(Q){var ue=Q.index[F.line];if(ue){ue.errors.push(F),Q.hasErrors=!0;return}}_.unknown.hasErrors=!0,_.unknown.lines[0].errors.push(F)})}function B(_,C,F,Q,ue){if(!_.getShaderParameter(C,_.COMPILE_STATUS)){var K=_.getShaderInfoLog(C),ie=Q===_.FRAGMENT_SHADER?"fragment":"vertex";N(F,"string",ie+" shader source must be a string",ue);var be=A(F,ue),ve=O(K);z(be,ve),Object.keys(be).forEach(function(Te){var Pe=be[Te];if(!Pe.hasErrors)return;var Ce=[""],Re=[""];function _e(Se,j){Ce.push(Se),Re.push(j||"")}_e("file number "+Te+": "+Pe.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Pe.lines.forEach(function(Se){if(Se.errors.length>0){_e(v(Se.number,4)+"|  ","background-color:yellow; font-weight:bold"),_e(Se.line+s,"color:red; background-color:yellow; font-weight:bold");var j=0;Se.errors.forEach(function(se){var Ae=se.message,Ve=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Ae);if(Ve){var ge=Ve[1];switch(Ae=Ve[2],ge){case"assign":ge="=";break}j=Math.max(Se.line.indexOf(ge,j),0)}else j=0;_e(v("| ",6)),_e(v("^^^",j+3)+s,"font-weight:bold"),_e(v("| ",6)),_e(Ae+s,"font-weight:bold")}),_e(v("| ",6)+s)}else _e(v(Se.number,4)+"|  "),_e(Se.line+s,"color:red")}),typeof document<"u"&&!window.chrome?(Re[0]=Ce.join("%c"),console.log.apply(console,Re)):console.log(Ce.join(""))}),a.raise("Error compiling "+ie+" shader, "+be[0].name)}}function x(_,C,F,Q,ue){if(!_.getProgramParameter(C,_.LINK_STATUS)){var K=_.getProgramInfoLog(C),ie=A(F,ue),be=A(Q,ue),ve='Error linking program with vertex shader, "'+be[0].name+'", and fragment shader "'+ie[0].name+'"';typeof document<"u"?console.log("%c"+ve+s+"%c"+K,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(ve+s+K),a.raise(ve)}}function oe(_){_._commandRef=w()}function V(_,C,F,Q){oe(_);function ue(ve){return ve?Q.id(ve):0}_._fragId=ue(_.static.frag),_._vertId=ue(_.static.vert);function K(ve,Te){Object.keys(Te).forEach(function(Pe){ve[Q.id(Pe)]=!0})}var ie=_._uniformSet={};K(ie,C.static),K(ie,C.dynamic);var be=_._attributeSet={};K(be,F.static),K(be,F.dynamic),_._hasCount="count"in _.static||"count"in _.dynamic||"elements"in _.static||"elements"in _.dynamic}function X(_,C){var F=E();o(_+" in command "+(C||w())+(F==="unknown"?"":" called from "+F))}function Fe(_,C,F){_||X(C,F||w())}function ne(_,C,F,Q){_ in C||X("unknown parameter ("+_+")"+l(F)+". possible values: "+Object.keys(C).join(),Q||w())}function N(_,C,F,Q){u(_,C)||X("invalid parameter type"+l(F)+". expected "+C+", got "+typeof _,Q||w())}function de(_){_()}function te(_,C,F){_.texture?g(_.texture._texture.internalformat,C,"unsupported texture format for attachment"):g(_.renderbuffer._renderbuffer.format,F,"unsupported renderbuffer format for attachment")}var je=33071,Mt=9728,Ge=9984,Lt=9985,en=9986,Ut=9987,Gn=5120,Xn=5121,Ze=5122,$e=5123,Sn=5124,ts=5125,ws=5126,Ts=32819,Le=32820,At=33635,Cr=34042,Pr=36193,Ln={};Ln[Gn]=Ln[Xn]=1,Ln[Ze]=Ln[$e]=Ln[Pr]=Ln[At]=Ln[Ts]=Ln[Le]=2,Ln[Sn]=Ln[ts]=Ln[ws]=Ln[Cr]=4;function Cs(_,C){return _===Le||_===Ts||_===At?2:_===Cr?4:Ln[_]*C}function Vr(_){return!(_&_-1)&&!!_}function Ps(_,C,F){var Q,ue=C.width,K=C.height,ie=C.channels;a(ue>0&&ue<=F.maxTextureSize&&K>0&&K<=F.maxTextureSize,"invalid texture shape"),(_.wrapS!==je||_.wrapT!==je)&&a(Vr(ue)&&Vr(K),"incompatible wrap mode for texture, both width and height must be power of 2"),C.mipmask===1?ue!==1&&K!==1&&a(_.minFilter!==Ge&&_.minFilter!==en&&_.minFilter!==Lt&&_.minFilter!==Ut,"min filter requires mipmap"):(a(Vr(ue)&&Vr(K),"texture must be a square power of 2 to support mipmapping"),a(C.mipmask===(ue<<1)-1,"missing or incomplete mipmap data")),C.type===ws&&(F.extensions.indexOf("oes_texture_float_linear")<0&&a(_.minFilter===Mt&&_.magFilter===Mt,"filter not supported, must enable oes_texture_float_linear"),a(!_.genMipmaps,"mipmap generation not supported with float textures"));var be=C.images;for(Q=0;Q<16;++Q)if(be[Q]){var ve=ue>>Q,Te=K>>Q;a(C.mipmask&1<<Q,"missing mipmap data");var Pe=be[Q];if(a(Pe.width===ve&&Pe.height===Te,"invalid shape for mip images"),a(Pe.format===C.format&&Pe.internalformat===C.internalformat&&Pe.type===C.type,"incompatible type for mip image"),!Pe.compressed)if(Pe.data){var Ce=Math.ceil(Cs(Pe.type,ie)*ve/Pe.unpackAlignment)*Pe.unpackAlignment;a(Pe.data.byteLength===Ce*Te,"invalid data for image, buffer size is inconsistent with image format")}else Pe.element||Pe.copy}else _.genMipmaps||a((C.mipmask&1<<Q)===0,"extra mipmap data");C.compressed&&a(!_.genMipmaps,"mipmap generation for compressed images not supported")}function ci(_,C,F,Q){var ue=_.width,K=_.height,ie=_.channels;a(ue>0&&ue<=Q.maxTextureSize&&K>0&&K<=Q.maxTextureSize,"invalid texture shape"),a(ue===K,"cube map must be square"),a(C.wrapS===je&&C.wrapT===je,"wrap mode not supported by cube map");for(var be=0;be<F.length;++be){var ve=F[be];a(ve.width===ue&&ve.height===K,"inconsistent cube map face shape"),C.genMipmaps&&(a(!ve.compressed,"can not generate mipmap for compressed textures"),a(ve.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Te=ve.images,Pe=0;Pe<16;++Pe){var Ce=Te[Pe];if(Ce){var Re=ue>>Pe,_e=K>>Pe;a(ve.mipmask&1<<Pe,"missing mipmap data"),a(Ce.width===Re&&Ce.height===_e,"invalid shape for mip images"),a(Ce.format===_.format&&Ce.internalformat===_.internalformat&&Ce.type===_.type,"incompatible type for mip image"),Ce.compressed||(Ce.data?a(Ce.data.byteLength===Re*_e*Math.max(Cs(Ce.type,ie),Ce.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Ce.element||Ce.copy)}}}}var P=r(a,{optional:de,raise:o,commandRaise:X,command:Fe,parameter:c,commandParameter:ne,constructor:m,type:d,commandType:N,isTypedArray:f,nni:h,oneOf:g,shaderError:B,linkError:x,callSite:E,saveCommandRef:oe,saveDrawInfo:V,framebufferFormat:te,guessCommand:w,texture2D:Ps,textureCube:ci}),fi=0,ta=0,na=5,Jl=6;function Ur(_,C){this.id=fi++,this.type=_,this.data=C}function ra(_){return _.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ns(_){if(_.length===0)return[];var C=_.charAt(0),F=_.charAt(_.length-1);if(_.length>1&&C===F&&(C==='"'||C==="'"))return['"'+ra(_.substr(1,_.length-2))+'"'];var Q=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(_);if(Q)return ns(_.substr(0,Q.index)).concat(ns(Q[1])).concat(ns(_.substr(Q.index+Q[0].length)));var ue=_.split(".");if(ue.length===1)return['"'+ra(_)+'"'];for(var K=[],ie=0;ie<ue.length;++ie)K=K.concat(ns(ue[ie]));return K}function Ls(_){return"["+ns(_).join("][")+"]"}function ec(_,C){return new Ur(_,Ls(C+""))}function tc(_){return typeof _=="function"&&!_._reglType||_ instanceof Ur}function sa(_,C){if(typeof _=="function")return new Ur(ta,_);if(typeof _=="number"||typeof _=="boolean")return new Ur(na,_);if(Array.isArray(_))return new Ur(Jl,_.map(function(F,Q){return sa(F,C+"["+Q+"]")}));if(_ instanceof Ur)return _;P(!1,"invalid option type in uniform "+C)}var Wn={DynamicVariable:Ur,define:ec,isDynamic:tc,unbox:sa,accessor:Ls},to={next:typeof requestAnimationFrame=="function"?function(_){return requestAnimationFrame(_)}:function(_){return setTimeout(_,16)},cancel:typeof cancelAnimationFrame=="function"?function(_){return cancelAnimationFrame(_)}:clearTimeout},ia=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function nc(){var _={"":0},C=[""];return{id:function(F){var Q=_[F];return Q||(Q=_[F]=C.length,C.push(F),Q)},str:function(F){return C[F]}}}function rc(_,C,F){var Q=document.createElement("canvas");r(Q.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),_.appendChild(Q),_===document.body&&(Q.style.position="absolute",r(_.style,{margin:0,padding:0}));function ue(){var be=window.innerWidth,ve=window.innerHeight;if(_!==document.body){var Te=Q.getBoundingClientRect();be=Te.right-Te.left,ve=Te.bottom-Te.top}Q.width=F*be,Q.height=F*ve}var K;_!==document.body&&typeof ResizeObserver=="function"?(K=new ResizeObserver(function(){setTimeout(ue)}),K.observe(_)):window.addEventListener("resize",ue,!1);function ie(){K?K.disconnect():window.removeEventListener("resize",ue),_.removeChild(Q)}return ue(),{canvas:Q,onDestroy:ie}}function sc(_,C){function F(Q){try{return _.getContext(Q,C)}catch{return null}}return F("webgl")||F("experimental-webgl")||F("webgl-experimental")}function ic(_){return typeof _.nodeName=="string"&&typeof _.appendChild=="function"&&typeof _.getBoundingClientRect=="function"}function oc(_){return typeof _.drawArrays=="function"||typeof _.drawElements=="function"}function oa(_){return typeof _=="string"?_.split():(P(Array.isArray(_),"invalid extension array"),_)}function aa(_){return typeof _=="string"?(P(typeof document<"u","not supported outside of DOM"),document.querySelector(_)):_}function ac(_){var C=_||{},F,Q,ue,K,ie={},be=[],ve=[],Te=typeof window>"u"?1:window.devicePixelRatio,Pe=!1,Ce=function(Se){Se&&P.raise(Se)},Re=function(){};if(typeof C=="string"?(P(typeof document<"u","selector queries only supported in DOM enviroments"),F=document.querySelector(C),P(F,"invalid query string for element")):typeof C=="object"?ic(C)?F=C:oc(C)?(K=C,ue=K.canvas):(P.constructor(C),"gl"in C?K=C.gl:"canvas"in C?ue=aa(C.canvas):"container"in C&&(Q=aa(C.container)),"attributes"in C&&(ie=C.attributes,P.type(ie,"object","invalid context attributes")),"extensions"in C&&(be=oa(C.extensions)),"optionalExtensions"in C&&(ve=oa(C.optionalExtensions)),"onDone"in C&&(P.type(C.onDone,"function","invalid or missing onDone callback"),Ce=C.onDone),"profile"in C&&(Pe=!!C.profile),"pixelRatio"in C&&(Te=+C.pixelRatio,P(Te>0,"invalid pixel ratio"))):P.raise("invalid arguments to regl"),F&&(F.nodeName.toLowerCase()==="canvas"?ue=F:Q=F),!K){if(!ue){P(typeof document<"u","must manually specify webgl context outside of DOM environments");var _e=rc(Q||document.body,Ce,Te);if(!_e)return null;ue=_e.canvas,Re=_e.onDestroy}ie.premultipliedAlpha===void 0&&(ie.premultipliedAlpha=!0),K=sc(ue,ie)}return K?{gl:K,canvas:ue,container:Q,extensions:be,optionalExtensions:ve,pixelRatio:Te,profile:Pe,onDone:Ce,onDestroy:Re}:(Re(),Ce("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function lc(_,C){var F={};function Q(ie){P.type(ie,"string","extension name must be string");var be=ie.toLowerCase(),ve;try{ve=F[be]=_.getExtension(be)}catch{}return!!ve}for(var ue=0;ue<C.extensions.length;++ue){var K=C.extensions[ue];if(!Q(K))return C.onDestroy(),C.onDone('"'+K+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return C.optionalExtensions.forEach(Q),{extensions:F,restore:function(){Object.keys(F).forEach(function(ie){if(F[ie]&&!Q(ie))throw new Error("(regl): error restoring extension "+ie)})}}}function Yn(_,C){for(var F=Array(_),Q=0;Q<_;++Q)F[Q]=C(Q);return F}var cc=5120,fc=5121,uc=5122,dc=5123,hc=5124,mc=5125,pc=5126;function gc(_){for(var C=16;C<=1<<28;C*=16)if(_<=C)return C;return 0}function la(_){var C,F;return C=(_>65535)<<4,_>>>=C,F=(_>255)<<3,_>>>=F,C|=F,F=(_>15)<<2,_>>>=F,C|=F,F=(_>3)<<1,_>>>=F,C|=F,C|_>>1}function ca(){var _=Yn(8,function(){return[]});function C(K){var ie=gc(K),be=_[la(ie)>>2];return be.length>0?be.pop():new ArrayBuffer(ie)}function F(K){_[la(K.byteLength)>>2].push(K)}function Q(K,ie){var be=null;switch(K){case cc:be=new Int8Array(C(ie),0,ie);break;case fc:be=new Uint8Array(C(ie),0,ie);break;case uc:be=new Int16Array(C(2*ie),0,ie);break;case dc:be=new Uint16Array(C(2*ie),0,ie);break;case hc:be=new Int32Array(C(4*ie),0,ie);break;case mc:be=new Uint32Array(C(4*ie),0,ie);break;case pc:be=new Float32Array(C(4*ie),0,ie);break;default:return null}return be.length!==ie?be.subarray(0,ie):be}function ue(K){F(K.buffer)}return{alloc:C,free:F,allocType:Q,freeType:ue}}var ln=ca();ln.zero=ca();var vc=3408,bc=3410,_c=3411,J=3412,gn=3413,fa=3414,yc=3415,no=33901,ro=33902,rb=3379,sb=3386,ib=34921,ob=36347,ab=36348,lb=35661,cb=35660,fb=34930,ub=36349,db=34076,hb=34024,mb=7936,pb=7937,gb=7938,vb=35724,bb=34047,_b=36063,yb=34852,ua=3553,wd=34067,Ab=34069,Sb=33984,so=6408,Ac=5126,Td=5121,Sc=36160,Eb=36053,wb=36064,Tb=16384,Cb=function(_,C){var F=1;C.ext_texture_filter_anisotropic&&(F=_.getParameter(bb));var Q=1,ue=1;C.webgl_draw_buffers&&(Q=_.getParameter(yb),ue=_.getParameter(_b));var K=!!C.oes_texture_float;if(K){var ie=_.createTexture();_.bindTexture(ua,ie),_.texImage2D(ua,0,so,1,1,0,so,Ac,null);var be=_.createFramebuffer();if(_.bindFramebuffer(Sc,be),_.framebufferTexture2D(Sc,wb,ua,ie,0),_.bindTexture(ua,null),_.checkFramebufferStatus(Sc)!==Eb)K=!1;else{_.viewport(0,0,1,1),_.clearColor(1,0,0,1),_.clear(Tb);var ve=ln.allocType(Ac,4);_.readPixels(0,0,1,1,so,Ac,ve),_.getError()?K=!1:(_.deleteFramebuffer(be),_.deleteTexture(ie),K=ve[0]===1),ln.freeType(ve)}}var Te=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Pe=!0;if(!Te){var Ce=_.createTexture(),Re=ln.allocType(Td,36);_.activeTexture(Sb),_.bindTexture(wd,Ce),_.texImage2D(Ab,0,so,3,3,0,so,Td,Re),ln.freeType(Re),_.bindTexture(wd,null),_.deleteTexture(Ce),Pe=!_.getError()}return{colorBits:[_.getParameter(bc),_.getParameter(_c),_.getParameter(J),_.getParameter(gn)],depthBits:_.getParameter(fa),stencilBits:_.getParameter(yc),subpixelBits:_.getParameter(vc),extensions:Object.keys(C).filter(function(_e){return!!C[_e]}),maxAnisotropic:F,maxDrawbuffers:Q,maxColorAttachments:ue,pointSizeDims:_.getParameter(no),lineWidthDims:_.getParameter(ro),maxViewportDims:_.getParameter(sb),maxCombinedTextureUnits:_.getParameter(lb),maxCubeMapSize:_.getParameter(db),maxRenderbufferSize:_.getParameter(hb),maxTextureUnits:_.getParameter(fb),maxTextureSize:_.getParameter(rb),maxAttributes:_.getParameter(ib),maxVertexUniforms:_.getParameter(ob),maxVertexTextureUnits:_.getParameter(cb),maxVaryingVectors:_.getParameter(ab),maxFragmentUniforms:_.getParameter(ub),glsl:_.getParameter(vb),renderer:_.getParameter(pb),vendor:_.getParameter(mb),version:_.getParameter(gb),readFloat:K,npotTextureCube:Pe}};function Ar(_){return!!_&&typeof _=="object"&&Array.isArray(_.shape)&&Array.isArray(_.stride)&&typeof _.offset=="number"&&_.shape.length===_.stride.length&&(Array.isArray(_.data)||n(_.data))}var lr=function(_){return Object.keys(_).map(function(C){return _[C]})},da={shape:Rb,flatten:Ob};function Pb(_,C,F){for(var Q=0;Q<C;++Q)F[Q]=_[Q]}function Lb(_,C,F,Q){for(var ue=0,K=0;K<C;++K)for(var ie=_[K],be=0;be<F;++be)Q[ue++]=ie[be]}function Cd(_,C,F,Q,ue,K){for(var ie=K,be=0;be<C;++be)for(var ve=_[be],Te=0;Te<F;++Te)for(var Pe=ve[Te],Ce=0;Ce<Q;++Ce)ue[ie++]=Pe[Ce]}function Pd(_,C,F,Q,ue){for(var K=1,ie=F+1;ie<C.length;++ie)K*=C[ie];var be=C[F];if(C.length-F===4){var ve=C[F+1],Te=C[F+2],Pe=C[F+3];for(ie=0;ie<be;++ie)Cd(_[ie],ve,Te,Pe,Q,ue),ue+=K}else for(ie=0;ie<be;++ie)Pd(_[ie],C,F+1,Q,ue),ue+=K}function Ob(_,C,F,Q){var ue=1;if(C.length)for(var K=0;K<C.length;++K)ue*=C[K];else ue=0;var ie=Q||ln.allocType(F,ue);switch(C.length){case 0:break;case 1:Pb(_,C[0],ie);break;case 2:Lb(_,C[0],C[1],ie);break;case 3:Cd(_,C[0],C[1],C[2],ie,0);break;default:Pd(_,C,0,ie,0)}return ie}function Rb(_){for(var C=[],F=_;F.length;F=F[0])C.push(F.length);return C}var Ec={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Mb=5120,Ib=5122,Db=5124,Fb=5121,xb=5123,kb=5125,Gb=5126,Bb=5126,Os={int8:Mb,int16:Ib,int32:Db,uint8:Fb,uint16:xb,uint32:kb,float:Gb,float32:Bb},Nb=35048,$b=35040,ha={dynamic:Nb,stream:$b,static:35044},wc=da.flatten,Ld=da.shape,Od=35044,Vb=35040,Tc=5121,Cc=5126,rs=[];rs[5120]=1,rs[5122]=2,rs[5124]=4,rs[5121]=1,rs[5123]=2,rs[5125]=4,rs[5126]=4;function ma(_){return Ec[Object.prototype.toString.call(_)]|0}function Rd(_,C){for(var F=0;F<C.length;++F)_[F]=C[F]}function Md(_,C,F,Q,ue,K,ie){for(var be=0,ve=0;ve<F;++ve)for(var Te=0;Te<Q;++Te)_[be++]=C[ue*ve+K*Te+ie]}function Ub(_,C,F,Q){var ue=0,K={};function ie(j){this.id=ue++,this.buffer=_.createBuffer(),this.type=j,this.usage=Od,this.byteLength=0,this.dimension=1,this.dtype=Tc,this.persistentData=null,F.profile&&(this.stats={size:0})}ie.prototype.bind=function(){_.bindBuffer(this.type,this.buffer)},ie.prototype.destroy=function(){Re(this)};var be=[];function ve(j,se){var Ae=be.pop();return Ae||(Ae=new ie(j)),Ae.bind(),Ce(Ae,se,Vb,0,1,!1),Ae}function Te(j){be.push(j)}function Pe(j,se,Ae){j.byteLength=se.byteLength,_.bufferData(j.type,se,Ae)}function Ce(j,se,Ae,Ve,ge,Be){var xe;if(j.usage=Ae,Array.isArray(se)){if(j.dtype=Ve||Cc,se.length>0){var et;if(Array.isArray(se[0])){xe=Ld(se);for(var he=1,fe=1;fe<xe.length;++fe)he*=xe[fe];j.dimension=he,et=wc(se,xe,j.dtype),Pe(j,et,Ae),Be?j.persistentData=et:ln.freeType(et)}else if(typeof se[0]=="number"){j.dimension=ge;var He=ln.allocType(j.dtype,se.length);Rd(He,se),Pe(j,He,Ae),Be?j.persistentData=He:ln.freeType(He)}else n(se[0])?(j.dimension=se[0].length,j.dtype=Ve||ma(se[0])||Cc,et=wc(se,[se.length,se[0].length],j.dtype),Pe(j,et,Ae),Be?j.persistentData=et:ln.freeType(et)):P.raise("invalid buffer data")}}else if(n(se))j.dtype=Ve||ma(se),j.dimension=ge,Pe(j,se,Ae),Be&&(j.persistentData=new Uint8Array(new Uint8Array(se.buffer)));else if(Ar(se)){xe=se.shape;var Me=se.stride,ye=se.offset,Ie=0,De=0,ft=0,ct=0;xe.length===1?(Ie=xe[0],De=1,ft=Me[0],ct=0):xe.length===2?(Ie=xe[0],De=xe[1],ft=Me[0],ct=Me[1]):P.raise("invalid shape"),j.dtype=Ve||ma(se.data)||Cc,j.dimension=De;var ke=ln.allocType(j.dtype,Ie*De);Md(ke,se.data,Ie,De,ft,ct,ye),Pe(j,ke,Ae),Be?j.persistentData=ke:ln.freeType(ke)}else se instanceof ArrayBuffer?(j.dtype=Tc,j.dimension=ge,Pe(j,se,Ae),Be&&(j.persistentData=new Uint8Array(new Uint8Array(se)))):P.raise("invalid buffer data")}function Re(j){C.bufferCount--,Q(j);var se=j.buffer;P(se,"buffer must not be deleted already"),_.deleteBuffer(se),j.buffer=null,delete K[j.id]}function _e(j,se,Ae,Ve){C.bufferCount++;var ge=new ie(se);K[ge.id]=ge;function Be(he){var fe=Od,He=null,Me=0,ye=0,Ie=1;return Array.isArray(he)||n(he)||Ar(he)||he instanceof ArrayBuffer?He=he:typeof he=="number"?Me=he|0:he&&(P.type(he,"object","buffer arguments must be an object, a number or an array"),"data"in he&&(P(He===null||Array.isArray(He)||n(He)||Ar(He),"invalid data for buffer"),He=he.data),"usage"in he&&(P.parameter(he.usage,ha,"invalid buffer usage"),fe=ha[he.usage]),"type"in he&&(P.parameter(he.type,Os,"invalid buffer type"),ye=Os[he.type]),"dimension"in he&&(P.type(he.dimension,"number","invalid dimension"),Ie=he.dimension|0),"length"in he&&(P.nni(Me,"buffer length must be a nonnegative integer"),Me=he.length|0)),ge.bind(),He?Ce(ge,He,fe,ye,Ie,Ve):(Me&&_.bufferData(ge.type,Me,fe),ge.dtype=ye||Tc,ge.usage=fe,ge.dimension=Ie,ge.byteLength=Me),F.profile&&(ge.stats.size=ge.byteLength*rs[ge.dtype]),Be}function xe(he,fe){P(fe+he.byteLength<=ge.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+he.byteLength+" starting from offset "+fe+" to a buffer of size "+ge.byteLength),_.bufferSubData(ge.type,fe,he)}function et(he,fe){var He=(fe||0)|0,Me;if(ge.bind(),n(he)||he instanceof ArrayBuffer)xe(he,He);else if(Array.isArray(he)){if(he.length>0)if(typeof he[0]=="number"){var ye=ln.allocType(ge.dtype,he.length);Rd(ye,he),xe(ye,He),ln.freeType(ye)}else if(Array.isArray(he[0])||n(he[0])){Me=Ld(he);var Ie=wc(he,Me,ge.dtype);xe(Ie,He),ln.freeType(Ie)}else P.raise("invalid buffer data")}else if(Ar(he)){Me=he.shape;var De=he.stride,ft=0,ct=0,ke=0,Ne=0;Me.length===1?(ft=Me[0],ct=1,ke=De[0],Ne=0):Me.length===2?(ft=Me[0],ct=Me[1],ke=De[0],Ne=De[1]):P.raise("invalid shape");var rt=Array.isArray(he.data)?ge.dtype:ma(he.data),ut=ln.allocType(rt,ft*ct);Md(ut,he.data,ft,ct,ke,Ne,he.offset),xe(ut,He),ln.freeType(ut)}else P.raise("invalid data for buffer subdata");return Be}return Ae||Be(j),Be._reglType="buffer",Be._buffer=ge,Be.subdata=et,F.profile&&(Be.stats=ge.stats),Be.destroy=function(){Re(ge)},Be}function Se(){lr(K).forEach(function(j){j.buffer=_.createBuffer(),_.bindBuffer(j.type,j.buffer),_.bufferData(j.type,j.persistentData||j.byteLength,j.usage)})}return F.profile&&(C.getTotalBufferSize=function(){var j=0;return Object.keys(K).forEach(function(se){j+=K[se].stats.size}),j}),{create:_e,createStream:ve,destroyStream:Te,clear:function(){lr(K).forEach(Re),be.forEach(Re)},getBuffer:function(j){return j&&j._buffer instanceof ie?j._buffer:null},restore:Se,_initBuffer:Ce}}var zb=0,Hb=0,jb=1,qb=1,Xb=4,Wb=4,ss={points:zb,point:Hb,lines:jb,line:qb,triangles:Xb,triangle:Wb,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Yb=0,Zb=1,io=4,Kb=5120,ui=5121,Id=5122,di=5123,Dd=5124,Rs=5125,Pc=34963,Qb=35040,Jb=35044;function e_(_,C,F,Q){var ue={},K=0,ie={uint8:ui,uint16:di};C.oes_element_index_uint&&(ie.uint32=Rs);function be(Se){this.id=K++,ue[this.id]=this,this.buffer=Se,this.primType=io,this.vertCount=0,this.type=0}be.prototype.bind=function(){this.buffer.bind()};var ve=[];function Te(Se){var j=ve.pop();return j||(j=new be(F.create(null,Pc,!0,!1)._buffer)),Ce(j,Se,Qb,-1,-1,0,0),j}function Pe(Se){ve.push(Se)}function Ce(Se,j,se,Ae,Ve,ge,Be){Se.buffer.bind();var xe;if(j){var et=Be;!Be&&(!n(j)||Ar(j)&&!n(j.data))&&(et=C.oes_element_index_uint?Rs:di),F._initBuffer(Se.buffer,j,se,et,3)}else _.bufferData(Pc,ge,se),Se.buffer.dtype=xe||ui,Se.buffer.usage=se,Se.buffer.dimension=3,Se.buffer.byteLength=ge;if(xe=Be,!Be){switch(Se.buffer.dtype){case ui:case Kb:xe=ui;break;case di:case Id:xe=di;break;case Rs:case Dd:xe=Rs;break;default:P.raise("unsupported type for element array")}Se.buffer.dtype=xe}Se.type=xe,P(xe!==Rs||!!C.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var he=Ve;he<0&&(he=Se.buffer.byteLength,xe===di?he>>=1:xe===Rs&&(he>>=2)),Se.vertCount=he;var fe=Ae;if(Ae<0){fe=io;var He=Se.buffer.dimension;He===1&&(fe=Yb),He===2&&(fe=Zb),He===3&&(fe=io)}Se.primType=fe}function Re(Se){Q.elementsCount--,P(Se.buffer!==null,"must not double destroy elements"),delete ue[Se.id],Se.buffer.destroy(),Se.buffer=null}function _e(Se,j){var se=F.create(null,Pc,!0),Ae=new be(se._buffer);Q.elementsCount++;function Ve(ge){if(!ge)se(),Ae.primType=io,Ae.vertCount=0,Ae.type=ui;else if(typeof ge=="number")se(ge),Ae.primType=io,Ae.vertCount=ge|0,Ae.type=ui;else{var Be=null,xe=Jb,et=-1,he=-1,fe=0,He=0;Array.isArray(ge)||n(ge)||Ar(ge)?Be=ge:(P.type(ge,"object","invalid arguments for elements"),"data"in ge&&(Be=ge.data,P(Array.isArray(Be)||n(Be)||Ar(Be),"invalid data for element buffer")),"usage"in ge&&(P.parameter(ge.usage,ha,"invalid element buffer usage"),xe=ha[ge.usage]),"primitive"in ge&&(P.parameter(ge.primitive,ss,"invalid element buffer primitive"),et=ss[ge.primitive]),"count"in ge&&(P(typeof ge.count=="number"&&ge.count>=0,"invalid vertex count for elements"),he=ge.count|0),"type"in ge&&(P.parameter(ge.type,ie,"invalid buffer type"),He=ie[ge.type]),"length"in ge?fe=ge.length|0:(fe=he,He===di||He===Id?fe*=2:(He===Rs||He===Dd)&&(fe*=4))),Ce(Ae,Be,xe,et,he,fe,He)}return Ve}return Ve(Se),Ve._reglType="elements",Ve._elements=Ae,Ve.subdata=function(ge,Be){return se.subdata(ge,Be),Ve},Ve.destroy=function(){Re(Ae)},Ve}return{create:_e,createStream:Te,destroyStream:Pe,getElements:function(Se){return typeof Se=="function"&&Se._elements instanceof be?Se._elements:null},clear:function(){lr(ue).forEach(Re)}}}var Fd=new Float32Array(1),t_=new Uint32Array(Fd.buffer),n_=5123;function xd(_){for(var C=ln.allocType(n_,_.length),F=0;F<_.length;++F)if(isNaN(_[F]))C[F]=65535;else if(_[F]===1/0)C[F]=31744;else if(_[F]===-1/0)C[F]=64512;else{Fd[0]=_[F];var Q=t_[0],ue=Q>>>31<<15,K=(Q<<1>>>24)-127,ie=Q>>13&1024-1;if(K<-24)C[F]=ue;else if(K<-14){var be=-14-K;C[F]=ue+(ie+1024>>be)}else K>15?C[F]=ue+31744:C[F]=ue+(K+15<<10)+ie}return C}function tn(_){return Array.isArray(_)||n(_)}var kd=function(_){return!(_&_-1)&&!!_},r_=34467,Lr=3553,Lc=34067,pa=34069,Ms=6408,Oc=6406,ga=6407,oo=6409,va=6410,Gd=32854,Rc=32855,Bd=36194,s_=32819,i_=32820,o_=33635,a_=34042,Mc=6402,ba=34041,Ic=35904,Dc=35906,hi=36193,Fc=33776,xc=33777,kc=33778,Gc=33779,Nd=35986,$d=35987,Vd=34798,Ud=35840,zd=35841,Hd=35842,jd=35843,qd=36196,mi=5121,Bc=5123,Nc=5125,ao=5126,l_=10242,c_=10243,f_=10497,$c=33071,u_=33648,d_=10240,h_=10241,Vc=9728,m_=9729,Uc=9984,Xd=9985,Wd=9986,zc=9987,p_=33170,_a=4352,g_=4353,v_=4354,b_=34046,__=3317,y_=37440,A_=37441,S_=37443,Yd=37444,lo=33984,E_=[Uc,Wd,Xd,zc],ya=[0,oo,va,ga,Ms],pr={};pr[oo]=pr[Oc]=pr[Mc]=1,pr[ba]=pr[va]=2,pr[ga]=pr[Ic]=3,pr[Ms]=pr[Dc]=4;function pi(_){return"[object "+_+"]"}var Zd=pi("HTMLCanvasElement"),Kd=pi("OffscreenCanvas"),Qd=pi("CanvasRenderingContext2D"),Jd=pi("ImageBitmap"),e0=pi("HTMLImageElement"),t0=pi("HTMLVideoElement"),w_=Object.keys(Ec).concat([Zd,Kd,Qd,Jd,e0,t0]),gi=[];gi[mi]=1,gi[ao]=4,gi[hi]=2,gi[Bc]=2,gi[Nc]=4;var Bn=[];Bn[Gd]=2,Bn[Rc]=2,Bn[Bd]=2,Bn[ba]=4,Bn[Fc]=.5,Bn[xc]=.5,Bn[kc]=1,Bn[Gc]=1,Bn[Nd]=.5,Bn[$d]=1,Bn[Vd]=1,Bn[Ud]=.5,Bn[zd]=.25,Bn[Hd]=.5,Bn[jd]=.25,Bn[qd]=.5;function n0(_){return Array.isArray(_)&&(_.length===0||typeof _[0]=="number")}function r0(_){if(!Array.isArray(_))return!1;var C=_.length;return!(C===0||!tn(_[0]))}function Is(_){return Object.prototype.toString.call(_)}function s0(_){return Is(_)===Zd}function i0(_){return Is(_)===Kd}function T_(_){return Is(_)===Qd}function C_(_){return Is(_)===Jd}function P_(_){return Is(_)===e0}function L_(_){return Is(_)===t0}function Hc(_){if(!_)return!1;var C=Is(_);return w_.indexOf(C)>=0?!0:n0(_)||r0(_)||Ar(_)}function o0(_){return Ec[Object.prototype.toString.call(_)]|0}function O_(_,C){var F=C.length;switch(_.type){case mi:case Bc:case Nc:case ao:var Q=ln.allocType(_.type,F);Q.set(C),_.data=Q;break;case hi:_.data=xd(C);break;default:P.raise("unsupported texture type, must specify a typed array")}}function a0(_,C){return ln.allocType(_.type===hi?ao:_.type,C)}function l0(_,C){_.type===hi?(_.data=xd(C),ln.freeType(C)):_.data=C}function R_(_,C,F,Q,ue,K){for(var ie=_.width,be=_.height,ve=_.channels,Te=ie*be*ve,Pe=a0(_,Te),Ce=0,Re=0;Re<be;++Re)for(var _e=0;_e<ie;++_e)for(var Se=0;Se<ve;++Se)Pe[Ce++]=C[F*_e+Q*Re+ue*Se+K];l0(_,Pe)}function Aa(_,C,F,Q,ue,K){var ie;if(typeof Bn[_]<"u"?ie=Bn[_]:ie=pr[_]*gi[C],K&&(ie*=6),ue){for(var be=0,ve=F;ve>=1;)be+=ie*ve*ve,ve/=2;return be}else return ie*F*Q}function M_(_,C,F,Q,ue,K,ie){var be={"don't care":_a,"dont care":_a,nice:v_,fast:g_},ve={repeat:f_,clamp:$c,mirror:u_},Te={nearest:Vc,linear:m_},Pe=r({mipmap:zc,"nearest mipmap nearest":Uc,"linear mipmap nearest":Xd,"nearest mipmap linear":Wd,"linear mipmap linear":zc},Te),Ce={none:0,browser:Yd},Re={uint8:mi,rgba4:s_,rgb565:o_,"rgb5 a1":i_},_e={alpha:Oc,luminance:oo,"luminance alpha":va,rgb:ga,rgba:Ms,rgba4:Gd,"rgb5 a1":Rc,rgb565:Bd},Se={};C.ext_srgb&&(_e.srgb=Ic,_e.srgba=Dc),C.oes_texture_float&&(Re.float32=Re.float=ao),C.oes_texture_half_float&&(Re.float16=Re["half float"]=hi),C.webgl_depth_texture&&(r(_e,{depth:Mc,"depth stencil":ba}),r(Re,{uint16:Bc,uint32:Nc,"depth stencil":a_})),C.webgl_compressed_texture_s3tc&&r(Se,{"rgb s3tc dxt1":Fc,"rgba s3tc dxt1":xc,"rgba s3tc dxt3":kc,"rgba s3tc dxt5":Gc}),C.webgl_compressed_texture_atc&&r(Se,{"rgb atc":Nd,"rgba atc explicit alpha":$d,"rgba atc interpolated alpha":Vd}),C.webgl_compressed_texture_pvrtc&&r(Se,{"rgb pvrtc 4bppv1":Ud,"rgb pvrtc 2bppv1":zd,"rgba pvrtc 4bppv1":Hd,"rgba pvrtc 2bppv1":jd}),C.webgl_compressed_texture_etc1&&(Se["rgb etc1"]=qd);var j=Array.prototype.slice.call(_.getParameter(r_));Object.keys(Se).forEach(function(I){var ee=Se[I];j.indexOf(ee)>=0&&(_e[I]=ee)});var se=Object.keys(_e);F.textureFormats=se;var Ae=[];Object.keys(_e).forEach(function(I){var ee=_e[I];Ae[ee]=I});var Ve=[];Object.keys(Re).forEach(function(I){var ee=Re[I];Ve[ee]=I});var ge=[];Object.keys(Te).forEach(function(I){var ee=Te[I];ge[ee]=I});var Be=[];Object.keys(Pe).forEach(function(I){var ee=Pe[I];Be[ee]=I});var xe=[];Object.keys(ve).forEach(function(I){var ee=ve[I];xe[ee]=I});var et=se.reduce(function(I,ee){var Z=_e[ee];return Z===oo||Z===Oc||Z===oo||Z===va||Z===Mc||Z===ba||C.ext_srgb&&(Z===Ic||Z===Dc)?I[Z]=Z:Z===Rc||ee.indexOf("rgba")>=0?I[Z]=Ms:I[Z]=ga,I},{});function he(){this.internalformat=Ms,this.format=Ms,this.type=mi,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Yd,this.width=0,this.height=0,this.channels=0}function fe(I,ee){I.internalformat=ee.internalformat,I.format=ee.format,I.type=ee.type,I.compressed=ee.compressed,I.premultiplyAlpha=ee.premultiplyAlpha,I.flipY=ee.flipY,I.unpackAlignment=ee.unpackAlignment,I.colorSpace=ee.colorSpace,I.width=ee.width,I.height=ee.height,I.channels=ee.channels}function He(I,ee){if(!(typeof ee!="object"||!ee)){if("premultiplyAlpha"in ee&&(P.type(ee.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),I.premultiplyAlpha=ee.premultiplyAlpha),"flipY"in ee&&(P.type(ee.flipY,"boolean","invalid texture flip"),I.flipY=ee.flipY),"alignment"in ee&&(P.oneOf(ee.alignment,[1,2,4,8],"invalid texture unpack alignment"),I.unpackAlignment=ee.alignment),"colorSpace"in ee&&(P.parameter(ee.colorSpace,Ce,"invalid colorSpace"),I.colorSpace=Ce[ee.colorSpace]),"type"in ee){var Z=ee.type;P(C.oes_texture_float||!(Z==="float"||Z==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),P(C.oes_texture_half_float||!(Z==="half float"||Z==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),P(C.webgl_depth_texture||!(Z==="uint16"||Z==="uint32"||Z==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(Z,Re,"invalid texture type"),I.type=Re[Z]}var ze=I.width,gt=I.height,L=I.channels,T=!1;"shape"in ee?(P(Array.isArray(ee.shape)&&ee.shape.length>=2,"shape must be an array"),ze=ee.shape[0],gt=ee.shape[1],ee.shape.length===3&&(L=ee.shape[2],P(L>0&&L<=4,"invalid number of channels"),T=!0),P(ze>=0&&ze<=F.maxTextureSize,"invalid width"),P(gt>=0&&gt<=F.maxTextureSize,"invalid height")):("radius"in ee&&(ze=gt=ee.radius,P(ze>=0&&ze<=F.maxTextureSize,"invalid radius")),"width"in ee&&(ze=ee.width,P(ze>=0&&ze<=F.maxTextureSize,"invalid width")),"height"in ee&&(gt=ee.height,P(gt>=0&&gt<=F.maxTextureSize,"invalid height")),"channels"in ee&&(L=ee.channels,P(L>0&&L<=4,"invalid number of channels"),T=!0)),I.width=ze|0,I.height=gt|0,I.channels=L|0;var k=!1;if("format"in ee){var H=ee.format;P(C.webgl_depth_texture||!(H==="depth"||H==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),P.parameter(H,_e,"invalid texture format");var q=I.internalformat=_e[H];I.format=et[q],H in Re&&("type"in ee||(I.type=Re[H])),H in Se&&(I.compressed=!0),k=!0}!T&&k?I.channels=pr[I.format]:T&&!k?I.channels!==ya[I.format]&&(I.format=I.internalformat=ya[I.channels]):k&&T&&P(I.channels===pr[I.format],"number of channels inconsistent with specified format")}}function Me(I){_.pixelStorei(y_,I.flipY),_.pixelStorei(A_,I.premultiplyAlpha),_.pixelStorei(S_,I.colorSpace),_.pixelStorei(__,I.unpackAlignment)}function ye(){he.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ie(I,ee){var Z=null;if(Hc(ee)?Z=ee:ee&&(P.type(ee,"object","invalid pixel data type"),He(I,ee),"x"in ee&&(I.xOffset=ee.x|0),"y"in ee&&(I.yOffset=ee.y|0),Hc(ee.data)&&(Z=ee.data)),P(!I.compressed||Z instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),ee.copy){P(!Z,"can not specify copy and data field for the same texture");var ze=ue.viewportWidth,gt=ue.viewportHeight;I.width=I.width||ze-I.xOffset,I.height=I.height||gt-I.yOffset,I.needsCopy=!0,P(I.xOffset>=0&&I.xOffset<ze&&I.yOffset>=0&&I.yOffset<gt&&I.width>0&&I.width<=ze&&I.height>0&&I.height<=gt,"copy texture read out of bounds")}else if(!Z)I.width=I.width||1,I.height=I.height||1,I.channels=I.channels||4;else if(n(Z))I.channels=I.channels||4,I.data=Z,!("type"in ee)&&I.type===mi&&(I.type=o0(Z));else if(n0(Z))I.channels=I.channels||4,O_(I,Z),I.alignment=1,I.needsFree=!0;else if(Ar(Z)){var L=Z.data;!Array.isArray(L)&&I.type===mi&&(I.type=o0(L));var T=Z.shape,k=Z.stride,H,q,$,G,U,R;T.length===3?($=T[2],R=k[2]):(P(T.length===2,"invalid ndarray pixel data, must be 2 or 3D"),$=1,R=1),H=T[0],q=T[1],G=k[0],U=k[1],I.alignment=1,I.width=H,I.height=q,I.channels=$,I.format=I.internalformat=ya[$],I.needsFree=!0,R_(I,L,G,U,R,Z.offset)}else if(s0(Z)||i0(Z)||T_(Z))s0(Z)||i0(Z)?I.element=Z:I.element=Z.canvas,I.width=I.element.width,I.height=I.element.height,I.channels=4;else if(C_(Z))I.element=Z,I.width=Z.width,I.height=Z.height,I.channels=4;else if(P_(Z))I.element=Z,I.width=Z.naturalWidth,I.height=Z.naturalHeight,I.channels=4;else if(L_(Z))I.element=Z,I.width=Z.videoWidth,I.height=Z.videoHeight,I.channels=4;else if(r0(Z)){var D=I.width||Z[0].length,M=I.height||Z.length,Y=I.channels;tn(Z[0][0])?Y=Y||Z[0][0].length:Y=Y||1;for(var W=da.shape(Z),ce=1,me=0;me<W.length;++me)ce*=W[me];var Oe=a0(I,ce);da.flatten(Z,W,"",Oe),l0(I,Oe),I.alignment=1,I.width=D,I.height=M,I.channels=Y,I.format=I.internalformat=ya[Y],I.needsFree=!0}I.type===ao?P(F.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):I.type===hi&&P(F.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function De(I,ee,Z){var ze=I.element,gt=I.data,L=I.internalformat,T=I.format,k=I.type,H=I.width,q=I.height;Me(I),ze?_.texImage2D(ee,Z,T,T,k,ze):I.compressed?_.compressedTexImage2D(ee,Z,L,H,q,0,gt):I.needsCopy?(Q(),_.copyTexImage2D(ee,Z,T,I.xOffset,I.yOffset,H,q,0)):_.texImage2D(ee,Z,T,H,q,0,T,k,gt||null)}function ft(I,ee,Z,ze,gt){var L=I.element,T=I.data,k=I.internalformat,H=I.format,q=I.type,$=I.width,G=I.height;Me(I),L?_.texSubImage2D(ee,gt,Z,ze,H,q,L):I.compressed?_.compressedTexSubImage2D(ee,gt,Z,ze,k,$,G,T):I.needsCopy?(Q(),_.copyTexSubImage2D(ee,gt,Z,ze,I.xOffset,I.yOffset,$,G)):_.texSubImage2D(ee,gt,Z,ze,$,G,H,q,T)}var ct=[];function ke(){return ct.pop()||new ye}function Ne(I){I.needsFree&&ln.freeType(I.data),ye.call(I),ct.push(I)}function rt(){he.call(this),this.genMipmaps=!1,this.mipmapHint=_a,this.mipmask=0,this.images=Array(16)}function ut(I,ee,Z){var ze=I.images[0]=ke();I.mipmask=1,ze.width=I.width=ee,ze.height=I.height=Z,ze.channels=I.channels=4}function bt(I,ee){var Z=null;if(Hc(ee))Z=I.images[0]=ke(),fe(Z,I),Ie(Z,ee),I.mipmask=1;else if(He(I,ee),Array.isArray(ee.mipmap))for(var ze=ee.mipmap,gt=0;gt<ze.length;++gt)Z=I.images[gt]=ke(),fe(Z,I),Z.width>>=gt,Z.height>>=gt,Ie(Z,ze[gt]),I.mipmask|=1<<gt;else Z=I.images[0]=ke(),fe(Z,I),Ie(Z,ee),I.mipmask=1;fe(I,I.images[0]),I.compressed&&(I.internalformat===Fc||I.internalformat===xc||I.internalformat===kc||I.internalformat===Gc)&&P(I.width%4===0&&I.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function nn(I,ee){for(var Z=I.images,ze=0;ze<Z.length;++ze){if(!Z[ze])return;De(Z[ze],ee,ze)}}var rn=[];function St(){var I=rn.pop()||new rt;he.call(I),I.mipmask=0;for(var ee=0;ee<16;++ee)I.images[ee]=null;return I}function En(I){for(var ee=I.images,Z=0;Z<ee.length;++Z)ee[Z]&&Ne(ee[Z]),ee[Z]=null;rn.push(I)}function qt(){this.minFilter=Vc,this.magFilter=Vc,this.wrapS=$c,this.wrapT=$c,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=_a}function bn(I,ee){if("min"in ee){var Z=ee.min;P.parameter(Z,Pe),I.minFilter=Pe[Z],E_.indexOf(I.minFilter)>=0&&!("faces"in ee)&&(I.genMipmaps=!0)}if("mag"in ee){var ze=ee.mag;P.parameter(ze,Te),I.magFilter=Te[ze]}var gt=I.wrapS,L=I.wrapT;if("wrap"in ee){var T=ee.wrap;typeof T=="string"?(P.parameter(T,ve),gt=L=ve[T]):Array.isArray(T)&&(P.parameter(T[0],ve),P.parameter(T[1],ve),gt=ve[T[0]],L=ve[T[1]])}else{if("wrapS"in ee){var k=ee.wrapS;P.parameter(k,ve),gt=ve[k]}if("wrapT"in ee){var H=ee.wrapT;P.parameter(H,ve),L=ve[H]}}if(I.wrapS=gt,I.wrapT=L,"anisotropic"in ee){var q=ee.anisotropic;P(typeof q=="number"&&q>=1&&q<=F.maxAnisotropic,"aniso samples must be between 1 and "),I.anisotropic=ee.anisotropic}if("mipmap"in ee){var $=!1;switch(typeof ee.mipmap){case"string":P.parameter(ee.mipmap,be,"invalid mipmap hint"),I.mipmapHint=be[ee.mipmap],I.genMipmaps=!0,$=!0;break;case"boolean":$=I.genMipmaps=ee.mipmap;break;case"object":P(Array.isArray(ee.mipmap),"invalid mipmap type"),I.genMipmaps=!1,$=!0;break;default:P.raise("invalid mipmap type")}$&&!("min"in ee)&&(I.minFilter=Uc)}}function wn(I,ee){_.texParameteri(ee,h_,I.minFilter),_.texParameteri(ee,d_,I.magFilter),_.texParameteri(ee,l_,I.wrapS),_.texParameteri(ee,c_,I.wrapT),C.ext_texture_filter_anisotropic&&_.texParameteri(ee,b_,I.anisotropic),I.genMipmaps&&(_.hint(p_,I.mipmapHint),_.generateMipmap(ee))}var Tn=0,xn={},Nn=F.maxTextureUnits,un=Array(Nn).map(function(){return null});function ht(I){he.call(this),this.mipmask=0,this.internalformat=Ms,this.id=Tn++,this.refCount=1,this.target=I,this.texture=_.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new qt,ie.profile&&(this.stats={size:0})}function $n(I){_.activeTexture(lo),_.bindTexture(I.target,I.texture)}function xt(){var I=un[0];I?_.bindTexture(I.target,I.texture):_.bindTexture(Lr,null)}function nt(I){var ee=I.texture;P(ee,"must not double destroy texture");var Z=I.unit,ze=I.target;Z>=0&&(_.activeTexture(lo+Z),_.bindTexture(ze,null),un[Z]=null),_.deleteTexture(ee),I.texture=null,I.params=null,I.pixels=null,I.refCount=0,delete xn[I.id],K.textureCount--}r(ht.prototype,{bind:function(){var I=this;I.bindCount+=1;var ee=I.unit;if(ee<0){for(var Z=0;Z<Nn;++Z){var ze=un[Z];if(ze){if(ze.bindCount>0)continue;ze.unit=-1}un[Z]=I,ee=Z;break}ee>=Nn&&P.raise("insufficient number of texture units"),ie.profile&&K.maxTextureUnits<ee+1&&(K.maxTextureUnits=ee+1),I.unit=ee,_.activeTexture(lo+ee),_.bindTexture(I.target,I.texture)}return ee},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&nt(this)}});function _t(I,ee){var Z=new ht(Lr);xn[Z.id]=Z,K.textureCount++;function ze(T,k){var H=Z.texInfo;qt.call(H);var q=St();return typeof T=="number"?typeof k=="number"?ut(q,T|0,k|0):ut(q,T|0,T|0):T?(P.type(T,"object","invalid arguments to regl.texture"),bn(H,T),bt(q,T)):ut(q,1,1),H.genMipmaps&&(q.mipmask=(q.width<<1)-1),Z.mipmask=q.mipmask,fe(Z,q),P.texture2D(H,q,F),Z.internalformat=q.internalformat,ze.width=q.width,ze.height=q.height,$n(Z),nn(q,Lr),wn(H,Lr),xt(),En(q),ie.profile&&(Z.stats.size=Aa(Z.internalformat,Z.type,q.width,q.height,H.genMipmaps,!1)),ze.format=Ae[Z.internalformat],ze.type=Ve[Z.type],ze.mag=ge[H.magFilter],ze.min=Be[H.minFilter],ze.wrapS=xe[H.wrapS],ze.wrapT=xe[H.wrapT],ze}function gt(T,k,H,q){P(!!T,"must specify image data");var $=k|0,G=H|0,U=q|0,R=ke();return fe(R,Z),R.width=0,R.height=0,Ie(R,T),R.width=R.width||(Z.width>>U)-$,R.height=R.height||(Z.height>>U)-G,P(Z.type===R.type&&Z.format===R.format&&Z.internalformat===R.internalformat,"incompatible format for texture.subimage"),P($>=0&&G>=0&&$+R.width<=Z.width&&G+R.height<=Z.height,"texture.subimage write out of bounds"),P(Z.mipmask&1<<U,"missing mipmap data"),P(R.data||R.element||R.needsCopy,"missing image data"),$n(Z),ft(R,Lr,$,G,U),xt(),Ne(R),ze}function L(T,k){var H=T|0,q=k|0||H;if(H===Z.width&&q===Z.height)return ze;ze.width=Z.width=H,ze.height=Z.height=q,$n(Z);for(var $=0;Z.mipmask>>$;++$){var G=H>>$,U=q>>$;if(!G||!U)break;_.texImage2D(Lr,$,Z.format,G,U,0,Z.format,Z.type,null)}return xt(),ie.profile&&(Z.stats.size=Aa(Z.internalformat,Z.type,H,q,!1,!1)),ze}return ze(I,ee),ze.subimage=gt,ze.resize=L,ze._reglType="texture2d",ze._texture=Z,ie.profile&&(ze.stats=Z.stats),ze.destroy=function(){Z.decRef()},ze}function Pt(I,ee,Z,ze,gt,L){var T=new ht(Lc);xn[T.id]=T,K.cubeCount++;var k=new Array(6);function H(G,U,R,D,M,Y){var W,ce=T.texInfo;for(qt.call(ce),W=0;W<6;++W)k[W]=St();if(typeof G=="number"||!G){var me=G|0||1;for(W=0;W<6;++W)ut(k[W],me,me)}else if(typeof G=="object")if(U)bt(k[0],G),bt(k[1],U),bt(k[2],R),bt(k[3],D),bt(k[4],M),bt(k[5],Y);else if(bn(ce,G),He(T,G),"faces"in G){var Oe=G.faces;for(P(Array.isArray(Oe)&&Oe.length===6,"cube faces must be a length 6 array"),W=0;W<6;++W)P(typeof Oe[W]=="object"&&!!Oe[W],"invalid input for cube map face"),fe(k[W],T),bt(k[W],Oe[W])}else for(W=0;W<6;++W)bt(k[W],G);else P.raise("invalid arguments to cube map");for(fe(T,k[0]),P.optional(function(){F.npotTextureCube||P(kd(T.width)&&kd(T.height),"your browser does not support non power or two texture dimensions")}),ce.genMipmaps?T.mipmask=(k[0].width<<1)-1:T.mipmask=k[0].mipmask,P.textureCube(T,ce,k,F),T.internalformat=k[0].internalformat,H.width=k[0].width,H.height=k[0].height,$n(T),W=0;W<6;++W)nn(k[W],pa+W);for(wn(ce,Lc),xt(),ie.profile&&(T.stats.size=Aa(T.internalformat,T.type,H.width,H.height,ce.genMipmaps,!0)),H.format=Ae[T.internalformat],H.type=Ve[T.type],H.mag=ge[ce.magFilter],H.min=Be[ce.minFilter],H.wrapS=xe[ce.wrapS],H.wrapT=xe[ce.wrapT],W=0;W<6;++W)En(k[W]);return H}function q(G,U,R,D,M){P(!!U,"must specify image data"),P(typeof G=="number"&&G===(G|0)&&G>=0&&G<6,"invalid face");var Y=R|0,W=D|0,ce=M|0,me=ke();return fe(me,T),me.width=0,me.height=0,Ie(me,U),me.width=me.width||(T.width>>ce)-Y,me.height=me.height||(T.height>>ce)-W,P(T.type===me.type&&T.format===me.format&&T.internalformat===me.internalformat,"incompatible format for texture.subimage"),P(Y>=0&&W>=0&&Y+me.width<=T.width&&W+me.height<=T.height,"texture.subimage write out of bounds"),P(T.mipmask&1<<ce,"missing mipmap data"),P(me.data||me.element||me.needsCopy,"missing image data"),$n(T),ft(me,pa+G,Y,W,ce),xt(),Ne(me),H}function $(G){var U=G|0;if(U!==T.width){H.width=T.width=U,H.height=T.height=U,$n(T);for(var R=0;R<6;++R)for(var D=0;T.mipmask>>D;++D)_.texImage2D(pa+R,D,T.format,U>>D,U>>D,0,T.format,T.type,null);return xt(),ie.profile&&(T.stats.size=Aa(T.internalformat,T.type,H.width,H.height,!1,!0)),H}}return H(I,ee,Z,ze,gt,L),H.subimage=q,H.resize=$,H._reglType="textureCube",H._texture=T,ie.profile&&(H.stats=T.stats),H.destroy=function(){T.decRef()},H}function dn(){for(var I=0;I<Nn;++I)_.activeTexture(lo+I),_.bindTexture(Lr,null),un[I]=null;lr(xn).forEach(nt),K.cubeCount=0,K.textureCount=0}ie.profile&&(K.getTotalTextureSize=function(){var I=0;return Object.keys(xn).forEach(function(ee){I+=xn[ee].stats.size}),I});function Rr(){for(var I=0;I<Nn;++I){var ee=un[I];ee&&(ee.bindCount=0,ee.unit=-1,un[I]=null)}lr(xn).forEach(function(Z){Z.texture=_.createTexture(),_.bindTexture(Z.target,Z.texture);for(var ze=0;ze<32;++ze)if(Z.mipmask&1<<ze)if(Z.target===Lr)_.texImage2D(Lr,ze,Z.internalformat,Z.width>>ze,Z.height>>ze,0,Z.internalformat,Z.type,null);else for(var gt=0;gt<6;++gt)_.texImage2D(pa+gt,ze,Z.internalformat,Z.width>>ze,Z.height>>ze,0,Z.internalformat,Z.type,null);wn(Z.texInfo,Z.target)})}function Ns(){for(var I=0;I<Nn;++I){var ee=un[I];ee&&(ee.bindCount=0,ee.unit=-1,un[I]=null),_.activeTexture(lo+I),_.bindTexture(Lr,null),_.bindTexture(Lc,null)}}return{create2D:_t,createCube:Pt,clear:dn,getTexture:function(I){return null},restore:Rr,refresh:Ns}}var is=36161,Sa=32854,c0=32855,f0=36194,u0=33189,d0=36168,h0=34041,m0=35907,p0=34836,g0=34842,v0=34843,Sr=[];Sr[Sa]=2,Sr[c0]=2,Sr[f0]=2,Sr[u0]=2,Sr[d0]=1,Sr[h0]=4,Sr[m0]=4,Sr[p0]=16,Sr[g0]=8,Sr[v0]=6;function b0(_,C,F){return Sr[_]*C*F}var I_=function(_,C,F,Q,ue){var K={rgba4:Sa,rgb565:f0,"rgb5 a1":c0,depth:u0,stencil:d0,"depth stencil":h0};C.ext_srgb&&(K.srgba=m0),C.ext_color_buffer_half_float&&(K.rgba16f=g0,K.rgb16f=v0),C.webgl_color_buffer_float&&(K.rgba32f=p0);var ie=[];Object.keys(K).forEach(function(_e){var Se=K[_e];ie[Se]=_e});var be=0,ve={};function Te(_e){this.id=be++,this.refCount=1,this.renderbuffer=_e,this.format=Sa,this.width=0,this.height=0,ue.profile&&(this.stats={size:0})}Te.prototype.decRef=function(){--this.refCount<=0&&Pe(this)};function Pe(_e){var Se=_e.renderbuffer;P(Se,"must not double destroy renderbuffer"),_.bindRenderbuffer(is,null),_.deleteRenderbuffer(Se),_e.renderbuffer=null,_e.refCount=0,delete ve[_e.id],Q.renderbufferCount--}function Ce(_e,Se){var j=new Te(_.createRenderbuffer());ve[j.id]=j,Q.renderbufferCount++;function se(Ve,ge){var Be=0,xe=0,et=Sa;if(typeof Ve=="object"&&Ve){var he=Ve;if("shape"in he){var fe=he.shape;P(Array.isArray(fe)&&fe.length>=2,"invalid renderbuffer shape"),Be=fe[0]|0,xe=fe[1]|0}else"radius"in he&&(Be=xe=he.radius|0),"width"in he&&(Be=he.width|0),"height"in he&&(xe=he.height|0);"format"in he&&(P.parameter(he.format,K,"invalid renderbuffer format"),et=K[he.format])}else typeof Ve=="number"?(Be=Ve|0,typeof ge=="number"?xe=ge|0:xe=Be):Ve?P.raise("invalid arguments to renderbuffer constructor"):Be=xe=1;if(P(Be>0&&xe>0&&Be<=F.maxRenderbufferSize&&xe<=F.maxRenderbufferSize,"invalid renderbuffer size"),!(Be===j.width&&xe===j.height&&et===j.format))return se.width=j.width=Be,se.height=j.height=xe,j.format=et,_.bindRenderbuffer(is,j.renderbuffer),_.renderbufferStorage(is,et,Be,xe),P(_.getError()===0,"invalid render buffer format"),ue.profile&&(j.stats.size=b0(j.format,j.width,j.height)),se.format=ie[j.format],se}function Ae(Ve,ge){var Be=Ve|0,xe=ge|0||Be;return Be===j.width&&xe===j.height||(P(Be>0&&xe>0&&Be<=F.maxRenderbufferSize&&xe<=F.maxRenderbufferSize,"invalid renderbuffer size"),se.width=j.width=Be,se.height=j.height=xe,_.bindRenderbuffer(is,j.renderbuffer),_.renderbufferStorage(is,j.format,Be,xe),P(_.getError()===0,"invalid render buffer format"),ue.profile&&(j.stats.size=b0(j.format,j.width,j.height))),se}return se(_e,Se),se.resize=Ae,se._reglType="renderbuffer",se._renderbuffer=j,ue.profile&&(se.stats=j.stats),se.destroy=function(){j.decRef()},se}ue.profile&&(Q.getTotalRenderbufferSize=function(){var _e=0;return Object.keys(ve).forEach(function(Se){_e+=ve[Se].stats.size}),_e});function Re(){lr(ve).forEach(function(_e){_e.renderbuffer=_.createRenderbuffer(),_.bindRenderbuffer(is,_e.renderbuffer),_.renderbufferStorage(is,_e.format,_e.width,_e.height)}),_.bindRenderbuffer(is,null)}return{create:Ce,clear:function(){lr(ve).forEach(Pe)},restore:Re}},zr=36160,jc=36161,Ds=3553,Ea=34069,_0=36064,y0=36096,A0=36128,S0=33306,E0=36053,D_=36054,F_=36055,x_=36057,k_=36061,G_=36193,B_=5121,N_=5126,w0=6407,T0=6408,$_=6402,V_=[w0,T0],qc=[];qc[T0]=4,qc[w0]=3;var wa=[];wa[B_]=1,wa[N_]=4,wa[G_]=2;var U_=32854,z_=32855,H_=36194,j_=33189,q_=36168,C0=34041,X_=35907,W_=34836,Y_=34842,Z_=34843,K_=[U_,z_,H_,X_,Y_,Z_,W_],vi={};vi[E0]="complete",vi[D_]="incomplete attachment",vi[x_]="incomplete dimensions",vi[F_]="incomplete, missing attachment",vi[k_]="unsupported";function Q_(_,C,F,Q,ue,K){var ie={cur:null,next:null,dirty:!1,setFBO:null},be=["rgba"],ve=["rgba4","rgb565","rgb5 a1"];C.ext_srgb&&ve.push("srgba"),C.ext_color_buffer_half_float&&ve.push("rgba16f","rgb16f"),C.webgl_color_buffer_float&&ve.push("rgba32f");var Te=["uint8"];C.oes_texture_half_float&&Te.push("half float","float16"),C.oes_texture_float&&Te.push("float","float32");function Pe(ye,Ie,De){this.target=ye,this.texture=Ie,this.renderbuffer=De;var ft=0,ct=0;Ie?(ft=Ie.width,ct=Ie.height):De&&(ft=De.width,ct=De.height),this.width=ft,this.height=ct}function Ce(ye){ye&&(ye.texture&&ye.texture._texture.decRef(),ye.renderbuffer&&ye.renderbuffer._renderbuffer.decRef())}function Re(ye,Ie,De){if(ye)if(ye.texture){var ft=ye.texture._texture,ct=Math.max(1,ft.width),ke=Math.max(1,ft.height);P(ct===Ie&&ke===De,"inconsistent width/height for supplied texture"),ft.refCount+=1}else{var Ne=ye.renderbuffer._renderbuffer;P(Ne.width===Ie&&Ne.height===De,"inconsistent width/height for renderbuffer"),Ne.refCount+=1}}function _e(ye,Ie){Ie&&(Ie.texture?_.framebufferTexture2D(zr,ye,Ie.target,Ie.texture._texture.texture,0):_.framebufferRenderbuffer(zr,ye,jc,Ie.renderbuffer._renderbuffer.renderbuffer))}function Se(ye){var Ie=Ds,De=null,ft=null,ct=ye;typeof ye=="object"&&(ct=ye.data,"target"in ye&&(Ie=ye.target|0)),P.type(ct,"function","invalid attachment data");var ke=ct._reglType;return ke==="texture2d"?(De=ct,P(Ie===Ds)):ke==="textureCube"?(De=ct,P(Ie>=Ea&&Ie<Ea+6,"invalid cube map target")):ke==="renderbuffer"?(ft=ct,Ie=jc):P.raise("invalid regl object for attachment"),new Pe(Ie,De,ft)}function j(ye,Ie,De,ft,ct){if(De){var ke=Q.create2D({width:ye,height:Ie,format:ft,type:ct});return ke._texture.refCount=0,new Pe(Ds,ke,null)}else{var Ne=ue.create({width:ye,height:Ie,format:ft});return Ne._renderbuffer.refCount=0,new Pe(jc,null,Ne)}}function se(ye){return ye&&(ye.texture||ye.renderbuffer)}function Ae(ye,Ie,De){ye&&(ye.texture?ye.texture.resize(Ie,De):ye.renderbuffer&&ye.renderbuffer.resize(Ie,De),ye.width=Ie,ye.height=De)}var Ve=0,ge={};function Be(){this.id=Ve++,ge[this.id]=this,this.framebuffer=_.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function xe(ye){ye.colorAttachments.forEach(Ce),Ce(ye.depthAttachment),Ce(ye.stencilAttachment),Ce(ye.depthStencilAttachment)}function et(ye){var Ie=ye.framebuffer;P(Ie,"must not double destroy framebuffer"),_.deleteFramebuffer(Ie),ye.framebuffer=null,K.framebufferCount--,delete ge[ye.id]}function he(ye){var Ie;_.bindFramebuffer(zr,ye.framebuffer);var De=ye.colorAttachments;for(Ie=0;Ie<De.length;++Ie)_e(_0+Ie,De[Ie]);for(Ie=De.length;Ie<F.maxColorAttachments;++Ie)_.framebufferTexture2D(zr,_0+Ie,Ds,null,0);_.framebufferTexture2D(zr,S0,Ds,null,0),_.framebufferTexture2D(zr,y0,Ds,null,0),_.framebufferTexture2D(zr,A0,Ds,null,0),_e(y0,ye.depthAttachment),_e(A0,ye.stencilAttachment),_e(S0,ye.depthStencilAttachment);var ft=_.checkFramebufferStatus(zr);!_.isContextLost()&&ft!==E0&&P.raise("framebuffer configuration not supported, status = "+vi[ft]),_.bindFramebuffer(zr,ie.next?ie.next.framebuffer:null),ie.cur=ie.next,_.getError()}function fe(ye,Ie){var De=new Be;K.framebufferCount++;function ft(ke,Ne){var rt;P(ie.next!==De,"can not update framebuffer which is currently in use");var ut=0,bt=0,nn=!0,rn=!0,St=null,En=!0,qt="rgba",bn="uint8",wn=1,Tn=null,xn=null,Nn=null,un=!1;if(typeof ke=="number")ut=ke|0,bt=Ne|0||ut;else if(!ke)ut=bt=1;else{P.type(ke,"object","invalid arguments for framebuffer");var ht=ke;if("shape"in ht){var $n=ht.shape;P(Array.isArray($n)&&$n.length>=2,"invalid shape for framebuffer"),ut=$n[0],bt=$n[1]}else"radius"in ht&&(ut=bt=ht.radius),"width"in ht&&(ut=ht.width),"height"in ht&&(bt=ht.height);("color"in ht||"colors"in ht)&&(St=ht.color||ht.colors,Array.isArray(St)&&P(St.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),St||("colorCount"in ht&&(wn=ht.colorCount|0,P(wn>0,"invalid color buffer count")),"colorTexture"in ht&&(En=!!ht.colorTexture,qt="rgba4"),"colorType"in ht&&(bn=ht.colorType,En?(P(C.oes_texture_float||!(bn==="float"||bn==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),P(C.oes_texture_half_float||!(bn==="half float"||bn==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):bn==="half float"||bn==="float16"?(P(C.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),qt="rgba16f"):(bn==="float"||bn==="float32")&&(P(C.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),qt="rgba32f"),P.oneOf(bn,Te,"invalid color type")),"colorFormat"in ht&&(qt=ht.colorFormat,be.indexOf(qt)>=0?En=!0:ve.indexOf(qt)>=0?En=!1:P.optional(function(){En?P.oneOf(ht.colorFormat,be,"invalid color format for texture"):P.oneOf(ht.colorFormat,ve,"invalid color format for renderbuffer")}))),("depthTexture"in ht||"depthStencilTexture"in ht)&&(un=!!(ht.depthTexture||ht.depthStencilTexture),P(!un||C.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in ht&&(typeof ht.depth=="boolean"?nn=ht.depth:(Tn=ht.depth,rn=!1)),"stencil"in ht&&(typeof ht.stencil=="boolean"?rn=ht.stencil:(xn=ht.stencil,nn=!1)),"depthStencil"in ht&&(typeof ht.depthStencil=="boolean"?nn=rn=ht.depthStencil:(Nn=ht.depthStencil,nn=!1,rn=!1))}var xt=null,nt=null,_t=null,Pt=null;if(Array.isArray(St))xt=St.map(Se);else if(St)xt=[Se(St)];else for(xt=new Array(wn),rt=0;rt<wn;++rt)xt[rt]=j(ut,bt,En,qt,bn);P(C.webgl_draw_buffers||xt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),P(xt.length<=F.maxColorAttachments,"too many color attachments, not supported"),ut=ut||xt[0].width,bt=bt||xt[0].height,Tn?nt=Se(Tn):nn&&!rn&&(nt=j(ut,bt,un,"depth","uint32")),xn?_t=Se(xn):rn&&!nn&&(_t=j(ut,bt,!1,"stencil","uint8")),Nn?Pt=Se(Nn):!Tn&&!xn&&rn&&nn&&(Pt=j(ut,bt,un,"depth stencil","depth stencil")),P(!!Tn+!!xn+!!Nn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var dn=null;for(rt=0;rt<xt.length;++rt)if(Re(xt[rt],ut,bt),P(!xt[rt]||xt[rt].texture&&V_.indexOf(xt[rt].texture._texture.format)>=0||xt[rt].renderbuffer&&K_.indexOf(xt[rt].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+rt+" is invalid"),xt[rt]&&xt[rt].texture){var Rr=qc[xt[rt].texture._texture.format]*wa[xt[rt].texture._texture.type];dn===null?dn=Rr:P(dn===Rr,"all color attachments much have the same number of bits per pixel.")}return Re(nt,ut,bt),P(!nt||nt.texture&&nt.texture._texture.format===$_||nt.renderbuffer&&nt.renderbuffer._renderbuffer.format===j_,"invalid depth attachment for framebuffer object"),Re(_t,ut,bt),P(!_t||_t.renderbuffer&&_t.renderbuffer._renderbuffer.format===q_,"invalid stencil attachment for framebuffer object"),Re(Pt,ut,bt),P(!Pt||Pt.texture&&Pt.texture._texture.format===C0||Pt.renderbuffer&&Pt.renderbuffer._renderbuffer.format===C0,"invalid depth-stencil attachment for framebuffer object"),xe(De),De.width=ut,De.height=bt,De.colorAttachments=xt,De.depthAttachment=nt,De.stencilAttachment=_t,De.depthStencilAttachment=Pt,ft.color=xt.map(se),ft.depth=se(nt),ft.stencil=se(_t),ft.depthStencil=se(Pt),ft.width=De.width,ft.height=De.height,he(De),ft}function ct(ke,Ne){P(ie.next!==De,"can not resize a framebuffer which is currently in use");var rt=Math.max(ke|0,1),ut=Math.max(Ne|0||rt,1);if(rt===De.width&&ut===De.height)return ft;for(var bt=De.colorAttachments,nn=0;nn<bt.length;++nn)Ae(bt[nn],rt,ut);return Ae(De.depthAttachment,rt,ut),Ae(De.stencilAttachment,rt,ut),Ae(De.depthStencilAttachment,rt,ut),De.width=ft.width=rt,De.height=ft.height=ut,he(De),ft}return ft(ye,Ie),r(ft,{resize:ct,_reglType:"framebuffer",_framebuffer:De,destroy:function(){et(De),xe(De)},use:function(ke){ie.setFBO({framebuffer:ft},ke)}})}function He(ye){var Ie=Array(6);function De(ct){var ke;P(Ie.indexOf(ie.next)<0,"can not update framebuffer which is currently in use");var Ne={color:null},rt=0,ut=null,bt="rgba",nn="uint8",rn=1;if(typeof ct=="number")rt=ct|0;else if(!ct)rt=1;else{P.type(ct,"object","invalid arguments for framebuffer");var St=ct;if("shape"in St){var En=St.shape;P(Array.isArray(En)&&En.length>=2,"invalid shape for framebuffer"),P(En[0]===En[1],"cube framebuffer must be square"),rt=En[0]}else"radius"in St&&(rt=St.radius|0),"width"in St?(rt=St.width|0,"height"in St&&P(St.height===rt,"must be square")):"height"in St&&(rt=St.height|0);("color"in St||"colors"in St)&&(ut=St.color||St.colors,Array.isArray(ut)&&P(ut.length===1||C.webgl_draw_buffers,"multiple render targets not supported")),ut||("colorCount"in St&&(rn=St.colorCount|0,P(rn>0,"invalid color buffer count")),"colorType"in St&&(P.oneOf(St.colorType,Te,"invalid color type"),nn=St.colorType),"colorFormat"in St&&(bt=St.colorFormat,P.oneOf(St.colorFormat,be,"invalid color format for texture"))),"depth"in St&&(Ne.depth=St.depth),"stencil"in St&&(Ne.stencil=St.stencil),"depthStencil"in St&&(Ne.depthStencil=St.depthStencil)}var qt;if(ut)if(Array.isArray(ut))for(qt=[],ke=0;ke<ut.length;++ke)qt[ke]=ut[ke];else qt=[ut];else{qt=Array(rn);var bn={radius:rt,format:bt,type:nn};for(ke=0;ke<rn;++ke)qt[ke]=Q.createCube(bn)}for(Ne.color=Array(qt.length),ke=0;ke<qt.length;++ke){var wn=qt[ke];P(typeof wn=="function"&&wn._reglType==="textureCube","invalid cube map"),rt=rt||wn.width,P(wn.width===rt&&wn.height===rt,"invalid cube map shape"),Ne.color[ke]={target:Ea,data:qt[ke]}}for(ke=0;ke<6;++ke){for(var Tn=0;Tn<qt.length;++Tn)Ne.color[Tn].target=Ea+ke;ke>0&&(Ne.depth=Ie[0].depth,Ne.stencil=Ie[0].stencil,Ne.depthStencil=Ie[0].depthStencil),Ie[ke]?Ie[ke](Ne):Ie[ke]=fe(Ne)}return r(De,{width:rt,height:rt,color:qt})}function ft(ct){var ke,Ne=ct|0;if(P(Ne>0&&Ne<=F.maxCubeMapSize,"invalid radius for cube fbo"),Ne===De.width)return De;var rt=De.color;for(ke=0;ke<rt.length;++ke)rt[ke].resize(Ne);for(ke=0;ke<6;++ke)Ie[ke].resize(Ne);return De.width=De.height=Ne,De}return De(ye),r(De,{faces:Ie,resize:ft,_reglType:"framebufferCube",destroy:function(){Ie.forEach(function(ct){ct.destroy()})}})}function Me(){ie.cur=null,ie.next=null,ie.dirty=!0,lr(ge).forEach(function(ye){ye.framebuffer=_.createFramebuffer(),he(ye)})}return r(ie,{getFramebuffer:function(ye){if(typeof ye=="function"&&ye._reglType==="framebuffer"){var Ie=ye._framebuffer;if(Ie instanceof Be)return Ie}return null},create:fe,createCube:He,clear:function(){lr(ge).forEach(et)},restore:Me})}var J_=5126,P0=34962,Ta=34963,L0=["attributes","elements","offset","count","primitive","instances"];function Xc(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=J_,this.offset=0,this.stride=0,this.divisor=0}function ey(_,C,F,Q,ue,K,ie){for(var be=F.maxAttributes,ve=new Array(be),Te=0;Te<be;++Te)ve[Te]=new Xc;var Pe=0,Ce={},Re={Record:Xc,scope:{},state:ve,currentVAO:null,targetVAO:null,restore:Se()?xe:function(){},createVAO:et,getVAO:se,destroyBuffer:_e,setVAO:Se()?Ae:Ve,clear:Se()?ge:function(){}};function _e(he){for(var fe=0;fe<ve.length;++fe){var He=ve[fe];He.buffer===he&&(_.disableVertexAttribArray(fe),He.buffer=null)}}function Se(){return C.oes_vertex_array_object}function j(){return C.angle_instanced_arrays}function se(he){return typeof he=="function"&&he._vao?he._vao:null}function Ae(he){if(he!==Re.currentVAO){var fe=Se();he?fe.bindVertexArrayOES(he.vao):fe.bindVertexArrayOES(null),Re.currentVAO=he}}function Ve(he){if(he!==Re.currentVAO){if(he)he.bindAttrs();else{for(var fe=j(),He=0;He<ve.length;++He){var Me=ve[He];Me.buffer?(_.enableVertexAttribArray(He),Me.buffer.bind(),_.vertexAttribPointer(He,Me.size,Me.type,Me.normalized,Me.stride,Me.offfset),fe&&Me.divisor&&fe.vertexAttribDivisorANGLE(He,Me.divisor)):(_.disableVertexAttribArray(He),_.vertexAttrib4f(He,Me.x,Me.y,Me.z,Me.w))}ie.elements?_.bindBuffer(Ta,ie.elements.buffer.buffer):_.bindBuffer(Ta,null)}Re.currentVAO=he}}function ge(){lr(Ce).forEach(function(he){he.destroy()})}function Be(){this.id=++Pe,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var he=Se();he?this.vao=he.createVertexArrayOES():this.vao=null,Ce[this.id]=this,this.buffers=[]}Be.prototype.bindAttrs=function(){for(var he=j(),fe=this.attributes,He=0;He<fe.length;++He){var Me=fe[He];Me.buffer?(_.enableVertexAttribArray(He),_.bindBuffer(P0,Me.buffer.buffer),_.vertexAttribPointer(He,Me.size,Me.type,Me.normalized,Me.stride,Me.offset),he&&Me.divisor&&he.vertexAttribDivisorANGLE(He,Me.divisor)):(_.disableVertexAttribArray(He),_.vertexAttrib4f(He,Me.x,Me.y,Me.z,Me.w))}for(var ye=fe.length;ye<be;++ye)_.disableVertexAttribArray(ye);var Ie=K.getElements(this.elements);Ie?_.bindBuffer(Ta,Ie.buffer.buffer):_.bindBuffer(Ta,null)},Be.prototype.refresh=function(){var he=Se();he&&(he.bindVertexArrayOES(this.vao),this.bindAttrs(),Re.currentVAO=null,he.bindVertexArrayOES(null))},Be.prototype.destroy=function(){if(this.vao){var he=Se();this===Re.currentVAO&&(Re.currentVAO=null,he.bindVertexArrayOES(null)),he.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Ce[this.id]&&(delete Ce[this.id],Q.vaoCount-=1)};function xe(){var he=Se();he&&lr(Ce).forEach(function(fe){fe.refresh()})}function et(he){var fe=new Be;Q.vaoCount+=1;function He(Me){var ye;if(Array.isArray(Me))ye=Me,fe.elements&&fe.ownsElements&&fe.elements.destroy(),fe.elements=null,fe.ownsElements=!1,fe.offset=0,fe.count=0,fe.instances=-1,fe.primitive=4;else{if(P(typeof Me=="object","invalid arguments for create vao"),P("attributes"in Me,"must specify attributes for vao"),Me.elements){var Ie=Me.elements;fe.ownsElements?typeof Ie=="function"&&Ie._reglType==="elements"?(fe.elements.destroy(),fe.ownsElements=!1):(fe.elements(Ie),fe.ownsElements=!1):K.getElements(Me.elements)?(fe.elements=Me.elements,fe.ownsElements=!1):(fe.elements=K.create(Me.elements),fe.ownsElements=!0)}else fe.elements=null,fe.ownsElements=!1;ye=Me.attributes,fe.offset=0,fe.count=-1,fe.instances=-1,fe.primitive=4,fe.elements&&(fe.count=fe.elements._elements.vertCount,fe.primitive=fe.elements._elements.primType),"offset"in Me&&(fe.offset=Me.offset|0),"count"in Me&&(fe.count=Me.count|0),"instances"in Me&&(fe.instances=Me.instances|0),"primitive"in Me&&(P(Me.primitive in ss,"bad primitive type: "+Me.primitive),fe.primitive=ss[Me.primitive]),P.optional(()=>{for(var nn=Object.keys(Me),rn=0;rn<nn.length;++rn)P(L0.indexOf(nn[rn])>=0,'invalid option for vao: "'+nn[rn]+'" valid options are '+L0)}),P(Array.isArray(ye),"attributes must be an array")}P(ye.length<be,"too many attributes"),P(ye.length>0,"must specify at least one attribute");var De={},ft=fe.attributes;ft.length=ye.length;for(var ct=0;ct<ye.length;++ct){var ke=ye[ct],Ne=ft[ct]=new Xc,rt=ke.data||ke;if(Array.isArray(rt)||n(rt)||Ar(rt)){var ut;fe.buffers[ct]&&(ut=fe.buffers[ct],n(rt)&&ut._buffer.byteLength>=rt.byteLength?ut.subdata(rt):(ut.destroy(),fe.buffers[ct]=null)),fe.buffers[ct]||(ut=fe.buffers[ct]=ue.create(ke,P0,!1,!0)),Ne.buffer=ue.getBuffer(ut),Ne.size=Ne.buffer.dimension|0,Ne.normalized=!1,Ne.type=Ne.buffer.dtype,Ne.offset=0,Ne.stride=0,Ne.divisor=0,Ne.state=1,De[ct]=1}else ue.getBuffer(ke)?(Ne.buffer=ue.getBuffer(ke),Ne.size=Ne.buffer.dimension|0,Ne.normalized=!1,Ne.type=Ne.buffer.dtype,Ne.offset=0,Ne.stride=0,Ne.divisor=0,Ne.state=1):ue.getBuffer(ke.buffer)?(Ne.buffer=ue.getBuffer(ke.buffer),Ne.size=(+ke.size||Ne.buffer.dimension)|0,Ne.normalized=!!ke.normalized||!1,"type"in ke?(P.parameter(ke.type,Os,"invalid buffer type"),Ne.type=Os[ke.type]):Ne.type=Ne.buffer.dtype,Ne.offset=(ke.offset||0)|0,Ne.stride=(ke.stride||0)|0,Ne.divisor=(ke.divisor||0)|0,Ne.state=1,P(Ne.size>=1&&Ne.size<=4,"size must be between 1 and 4"),P(Ne.offset>=0,"invalid offset"),P(Ne.stride>=0&&Ne.stride<=255,"stride must be between 0 and 255"),P(Ne.divisor>=0,"divisor must be positive"),P(!Ne.divisor||!!C.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in ke?(P(ct>0,"first attribute must not be a constant"),Ne.x=+ke.x||0,Ne.y=+ke.y||0,Ne.z=+ke.z||0,Ne.w=+ke.w||0,Ne.state=2):P(!1,"invalid attribute spec for location "+ct)}for(var bt=0;bt<fe.buffers.length;++bt)!De[bt]&&fe.buffers[bt]&&(fe.buffers[bt].destroy(),fe.buffers[bt]=null);return fe.refresh(),He}return He.destroy=function(){for(var Me=0;Me<fe.buffers.length;++Me)fe.buffers[Me]&&fe.buffers[Me].destroy();fe.buffers.length=0,fe.ownsElements&&(fe.elements.destroy(),fe.elements=null,fe.ownsElements=!1),fe.destroy()},He._vao=fe,He._reglType="vao",He(he)}return Re}var O0=35632,ty=35633,ny=35718,ry=35721;function sy(_,C,F,Q){var ue={},K={};function ie(j,se,Ae,Ve){this.name=j,this.id=se,this.location=Ae,this.info=Ve}function be(j,se){for(var Ae=0;Ae<j.length;++Ae)if(j[Ae].id===se.id){j[Ae].location=se.location;return}j.push(se)}function ve(j,se,Ae){var Ve=j===O0?ue:K,ge=Ve[se];if(!ge){var Be=C.str(se);ge=_.createShader(j),_.shaderSource(ge,Be),_.compileShader(ge),P.shaderError(_,ge,Be,j,Ae),Ve[se]=ge}return ge}var Te={},Pe=[],Ce=0;function Re(j,se){this.id=Ce++,this.fragId=j,this.vertId=se,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Q.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function _e(j,se,Ae){var Ve,ge,Be=ve(O0,j.fragId),xe=ve(ty,j.vertId),et=j.program=_.createProgram();if(_.attachShader(et,Be),_.attachShader(et,xe),Ae)for(Ve=0;Ve<Ae.length;++Ve){var he=Ae[Ve];_.bindAttribLocation(et,he[0],he[1])}_.linkProgram(et),P.linkError(_,et,C.str(j.fragId),C.str(j.vertId),se);var fe=_.getProgramParameter(et,ny);Q.profile&&(j.stats.uniformsCount=fe);var He=j.uniforms;for(Ve=0;Ve<fe;++Ve)if(ge=_.getActiveUniform(et,Ve),ge){if(ge.size>1)for(var Me=0;Me<ge.size;++Me){var ye=ge.name.replace("[0]","["+Me+"]");be(He,new ie(ye,C.id(ye),_.getUniformLocation(et,ye),ge))}var Ie=ge.name;ge.size>1&&(Ie=Ie.replace("[0]","")),be(He,new ie(Ie,C.id(Ie),_.getUniformLocation(et,Ie),ge))}var De=_.getProgramParameter(et,ry);Q.profile&&(j.stats.attributesCount=De);var ft=j.attributes;for(Ve=0;Ve<De;++Ve)ge=_.getActiveAttrib(et,Ve),ge&&be(ft,new ie(ge.name,C.id(ge.name),_.getAttribLocation(et,ge.name),ge))}Q.profile&&(F.getMaxUniformsCount=function(){var j=0;return Pe.forEach(function(se){se.stats.uniformsCount>j&&(j=se.stats.uniformsCount)}),j},F.getMaxAttributesCount=function(){var j=0;return Pe.forEach(function(se){se.stats.attributesCount>j&&(j=se.stats.attributesCount)}),j});function Se(){ue={},K={};for(var j=0;j<Pe.length;++j)_e(Pe[j],null,Pe[j].attributes.map(function(se){return[se.location,se.name]}))}return{clear:function(){var j=_.deleteShader.bind(_);lr(ue).forEach(j),ue={},lr(K).forEach(j),K={},Pe.forEach(function(se){_.deleteProgram(se.program)}),Pe.length=0,Te={},F.shaderCount=0},program:function(j,se,Ae,Ve){P.command(j>=0,"missing vertex shader",Ae),P.command(se>=0,"missing fragment shader",Ae);var ge=Te[se];ge||(ge=Te[se]={});var Be=ge[j];if(Be&&(Be.refCount++,!Ve))return Be;var xe=new Re(se,j);return F.shaderCount++,_e(xe,Ae,Ve),Be||(ge[j]=xe),Pe.push(xe),r(xe,{destroy:function(){if(xe.refCount--,xe.refCount<=0){_.deleteProgram(xe.program);var et=Pe.indexOf(xe);Pe.splice(et,1),F.shaderCount--}ge[xe.vertId].refCount<=0&&(_.deleteShader(K[xe.vertId]),delete K[xe.vertId],delete Te[xe.fragId][xe.vertId]),Object.keys(Te[xe.fragId]).length||(_.deleteShader(ue[xe.fragId]),delete ue[xe.fragId],delete Te[xe.fragId])}})},restore:Se,shader:ve,frag:-1,vert:-1}}var iy=6408,co=5121,oy=3333,Ca=5126;function ay(_,C,F,Q,ue,K,ie){function be(Pe){var Ce;C.next===null?(P(ue.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Ce=co):(P(C.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Ce=C.next.colorAttachments[0].texture._texture.type,P.optional(function(){K.oes_texture_float?(P(Ce===co||Ce===Ca,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Ce===Ca&&P(ie.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):P(Ce===co,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Re=0,_e=0,Se=Q.framebufferWidth,j=Q.framebufferHeight,se=null;n(Pe)?se=Pe:Pe&&(P.type(Pe,"object","invalid arguments to regl.read()"),Re=Pe.x|0,_e=Pe.y|0,P(Re>=0&&Re<Q.framebufferWidth,"invalid x offset for regl.read"),P(_e>=0&&_e<Q.framebufferHeight,"invalid y offset for regl.read"),Se=(Pe.width||Q.framebufferWidth-Re)|0,j=(Pe.height||Q.framebufferHeight-_e)|0,se=Pe.data||null),se&&(Ce===co?P(se instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Ce===Ca&&P(se instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),P(Se>0&&Se+Re<=Q.framebufferWidth,"invalid width for read pixels"),P(j>0&&j+_e<=Q.framebufferHeight,"invalid height for read pixels"),F();var Ae=Se*j*4;return se||(Ce===co?se=new Uint8Array(Ae):Ce===Ca&&(se=se||new Float32Array(Ae))),P.isTypedArray(se,"data buffer for regl.read() must be a typedarray"),P(se.byteLength>=Ae,"data buffer for regl.read() too small"),_.pixelStorei(oy,4),_.readPixels(Re,_e,Se,j,iy,Ce,se),se}function ve(Pe){var Ce;return C.setFBO({framebuffer:Pe.framebuffer},function(){Ce=be(Pe)}),Ce}function Te(Pe){return!Pe||!("framebuffer"in Pe)?be(Pe):ve(Pe)}return Te}function bi(_){return Array.prototype.slice.call(_)}function _i(_){return bi(_).join("")}function ly(){var _=0,C=[],F=[];function Q(Ce){for(var Re=0;Re<F.length;++Re)if(F[Re]===Ce)return C[Re];var _e="g"+_++;return C.push(_e),F.push(Ce),_e}function ue(){var Ce=[];function Re(){Ce.push.apply(Ce,bi(arguments))}var _e=[];function Se(){var j="v"+_++;return _e.push(j),arguments.length>0&&(Ce.push(j,"="),Ce.push.apply(Ce,bi(arguments)),Ce.push(";")),j}return r(Re,{def:Se,toString:function(){return _i([_e.length>0?"var "+_e.join(",")+";":"",_i(Ce)])}})}function K(){var Ce=ue(),Re=ue(),_e=Ce.toString,Se=Re.toString;function j(se,Ae){Re(se,Ae,"=",Ce.def(se,Ae),";")}return r(function(){Ce.apply(Ce,bi(arguments))},{def:Ce.def,entry:Ce,exit:Re,save:j,set:function(se,Ae,Ve){j(se,Ae),Ce(se,Ae,"=",Ve,";")},toString:function(){return _e()+Se()}})}function ie(){var Ce=_i(arguments),Re=K(),_e=K(),Se=Re.toString,j=_e.toString;return r(Re,{then:function(){return Re.apply(Re,bi(arguments)),this},else:function(){return _e.apply(_e,bi(arguments)),this},toString:function(){var se=j();return se&&(se="else{"+se+"}"),_i(["if(",Ce,"){",Se(),"}",se])}})}var be=ue(),ve={};function Te(Ce,Re){var _e=[];function Se(){var ge="a"+_e.length;return _e.push(ge),ge}Re=Re||0;for(var j=0;j<Re;++j)Se();var se=K(),Ae=se.toString,Ve=ve[Ce]=r(se,{arg:Se,toString:function(){return _i(["function(",_e.join(),"){",Ae(),"}"])}});return Ve}function Pe(){var Ce=['"use strict";',be,"return {"];Object.keys(ve).forEach(function(Se){Ce.push('"',Se,'":',ve[Se].toString(),",")}),Ce.push("}");var Re=_i(Ce).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),_e=Function.apply(null,C.concat(Re));return _e.apply(null,F)}return{global:be,link:Q,block:ue,proc:Te,scope:K,cond:ie,compile:Pe}}var yi="xyzw".split(""),R0=5121,Ai=1,Wc=2,Yc=0,Zc=1,Kc=2,Qc=3,Pa=4,M0=5,I0=6,D0="dither",F0="blend.enable",x0="blend.color",Jc="blend.equation",ef="blend.func",k0="depth.enable",G0="depth.func",B0="depth.range",N0="depth.mask",tf="colorMask",$0="cull.enable",V0="cull.face",nf="frontFace",rf="lineWidth",U0="polygonOffset.enable",sf="polygonOffset.offset",z0="sample.alpha",H0="sample.enable",of="sample.coverage",j0="stencil.enable",q0="stencil.mask",af="stencil.func",lf="stencil.opFront",fo="stencil.opBack",X0="scissor.enable",La="scissor.box",Hr="viewport",uo="profile",Fs="framebuffer",ho="vert",mo="frag",xs="elements",ks="primitive",Gs="count",Oa="offset",Ra="instances",po="vao",cf="Width",ff="Height",Si=Fs+cf,Ei=Fs+ff,cy=Hr+cf,fy=Hr+ff,W0="drawingBuffer",Y0=W0+cf,Z0=W0+ff,uy=[ef,Jc,af,lf,fo,of,Hr,La,sf],wi=34962,uf=34963,dy=35632,hy=35633,K0=3553,my=34067,py=2884,gy=3042,vy=3024,by=2960,_y=2929,yy=3089,Ay=32823,Sy=32926,Ey=32928,df=5126,Ma=35664,Ia=35665,Da=35666,hf=5124,Fa=35667,xa=35668,ka=35669,mf=35670,Ga=35671,Ba=35672,Na=35673,go=35674,vo=35675,bo=35676,_o=35678,yo=35680,pf=4,Ao=1028,Bs=1029,Q0=2304,gf=2305,wy=32775,Ty=32776,Cy=519,os=7680,J0=0,e1=1,t1=32774,Py=513,n1=36160,Ly=36064,Or={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},r1=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ti={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},as={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},s1={frag:dy,vert:hy},vf={cw:Q0,ccw:gf};function $a(_){return Array.isArray(_)||n(_)||Ar(_)}function i1(_){return _.sort(function(C,F){return C===Hr?-1:F===Hr?1:C<F?-1:1})}function On(_,C,F,Q){this.thisDep=_,this.contextDep=C,this.propDep=F,this.append=Q}function ls(_){return _&&!(_.thisDep||_.contextDep||_.propDep)}function vn(_){return new On(!1,!1,!1,_)}function nr(_,C){var F=_.type;if(F===Yc){var Q=_.data.length;return new On(!0,Q>=1,Q>=2,C)}else if(F===Pa){var ue=_.data;return new On(ue.thisDep,ue.contextDep,ue.propDep,C)}else{if(F===M0)return new On(!1,!1,!1,C);if(F===I0){for(var K=!1,ie=!1,be=!1,ve=0;ve<_.data.length;++ve){var Te=_.data[ve];if(Te.type===Zc)be=!0;else if(Te.type===Kc)ie=!0;else if(Te.type===Qc)K=!0;else if(Te.type===Yc){K=!0;var Pe=Te.data;Pe>=1&&(ie=!0),Pe>=2&&(be=!0)}else Te.type===Pa&&(K=K||Te.data.thisDep,ie=ie||Te.data.contextDep,be=be||Te.data.propDep)}return new On(K,ie,be,C)}else return new On(F===Qc,F===Kc,F===Zc,C)}}var o1=new On(!1,!1,!1,function(){});function Oy(_,C,F,Q,ue,K,ie,be,ve,Te,Pe,Ce,Re,_e,Se){var j=Te.Record,se={add:32774,subtract:32778,"reverse subtract":32779};F.ext_blend_minmax&&(se.min=wy,se.max=Ty);var Ae=F.angle_instanced_arrays,Ve=F.webgl_draw_buffers,ge=F.oes_vertex_array_object,Be={dirty:!0,profile:Se.profile},xe={},et=[],he={},fe={};function He(L){return L.replace(".","_")}function Me(L,T,k){var H=He(L);et.push(L),xe[H]=Be[H]=!!k,he[H]=T}function ye(L,T,k){var H=He(L);et.push(L),Array.isArray(k)?(Be[H]=k.slice(),xe[H]=k.slice()):Be[H]=xe[H]=k,fe[H]=T}Me(D0,vy),Me(F0,gy),ye(x0,"blendColor",[0,0,0,0]),ye(Jc,"blendEquationSeparate",[t1,t1]),ye(ef,"blendFuncSeparate",[e1,J0,e1,J0]),Me(k0,_y,!0),ye(G0,"depthFunc",Py),ye(B0,"depthRange",[0,1]),ye(N0,"depthMask",!0),ye(tf,tf,[!0,!0,!0,!0]),Me($0,py),ye(V0,"cullFace",Bs),ye(nf,nf,gf),ye(rf,rf,1),Me(U0,Ay),ye(sf,"polygonOffset",[0,0]),Me(z0,Sy),Me(H0,Ey),ye(of,"sampleCoverage",[1,!1]),Me(j0,by),ye(q0,"stencilMask",-1),ye(af,"stencilFunc",[Cy,0,-1]),ye(lf,"stencilOpSeparate",[Ao,os,os,os]),ye(fo,"stencilOpSeparate",[Bs,os,os,os]),Me(X0,yy),ye(La,"scissor",[0,0,_.drawingBufferWidth,_.drawingBufferHeight]),ye(Hr,Hr,[0,0,_.drawingBufferWidth,_.drawingBufferHeight]);var Ie={gl:_,context:Re,strings:C,next:xe,current:Be,draw:Ce,elements:K,buffer:ue,shader:Pe,attributes:Te.state,vao:Te,uniforms:ve,framebuffer:be,extensions:F,timer:_e,isBufferArgs:$a},De={primTypes:ss,compareFuncs:Ti,blendFuncs:Or,blendEquations:se,stencilOps:as,glTypes:Os,orientationType:vf};P.optional(function(){Ie.isArrayLike=tn}),Ve&&(De.backBuffer=[Bs],De.drawBuffer=Yn(Q.maxDrawbuffers,function(L){return L===0?[0]:Yn(L,function(T){return Ly+T})}));var ft=0;function ct(){var L=ly(),T=L.link,k=L.global;L.id=ft++,L.batchId="0";var H=T(Ie),q=L.shared={props:"a0"};Object.keys(Ie).forEach(function(D){q[D]=k.def(H,".",D)}),P.optional(function(){L.CHECK=T(P),L.commandStr=P.guessCommand(),L.command=T(L.commandStr),L.assert=function(D,M,Y){D("if(!(",M,"))",this.CHECK,".commandRaise(",T(Y),",",this.command,");")},De.invalidBlendCombinations=r1});var $=L.next={},G=L.current={};Object.keys(fe).forEach(function(D){Array.isArray(Be[D])&&($[D]=k.def(q.next,".",D),G[D]=k.def(q.current,".",D))});var U=L.constants={};Object.keys(De).forEach(function(D){U[D]=k.def(JSON.stringify(De[D]))}),L.invoke=function(D,M){switch(M.type){case Yc:var Y=["this",q.context,q.props,L.batchId];return D.def(T(M.data),".call(",Y.slice(0,Math.max(M.data.length+1,4)),")");case Zc:return D.def(q.props,M.data);case Kc:return D.def(q.context,M.data);case Qc:return D.def("this",M.data);case Pa:return M.data.append(L,D),M.data.ref;case M0:return M.data.toString();case I0:return M.data.map(function(W){return L.invoke(D,W)})}},L.attribCache={};var R={};return L.scopeAttrib=function(D){var M=C.id(D);if(M in R)return R[M];var Y=Te.scope[M];Y||(Y=Te.scope[M]=new j);var W=R[M]=T(Y);return W},L}function ke(L){var T=L.static,k=L.dynamic,H;if(uo in T){var q=!!T[uo];H=vn(function(G,U){return q}),H.enable=q}else if(uo in k){var $=k[uo];H=nr($,function(G,U){return G.invoke(U,$)})}return H}function Ne(L,T){var k=L.static,H=L.dynamic;if(Fs in k){var q=k[Fs];return q?(q=be.getFramebuffer(q),P.command(q,"invalid framebuffer object"),vn(function(G,U){var R=G.link(q),D=G.shared;U.set(D.framebuffer,".next",R);var M=D.context;return U.set(M,"."+Si,R+".width"),U.set(M,"."+Ei,R+".height"),R})):vn(function(G,U){var R=G.shared;U.set(R.framebuffer,".next","null");var D=R.context;return U.set(D,"."+Si,D+"."+Y0),U.set(D,"."+Ei,D+"."+Z0),"null"})}else if(Fs in H){var $=H[Fs];return nr($,function(G,U){var R=G.invoke(U,$),D=G.shared,M=D.framebuffer,Y=U.def(M,".getFramebuffer(",R,")");P.optional(function(){G.assert(U,"!"+R+"||"+Y,"invalid framebuffer object")}),U.set(M,".next",Y);var W=D.context;return U.set(W,"."+Si,Y+"?"+Y+".width:"+W+"."+Y0),U.set(W,"."+Ei,Y+"?"+Y+".height:"+W+"."+Z0),Y})}else return null}function rt(L,T,k){var H=L.static,q=L.dynamic;function $(R){if(R in H){var D=H[R];P.commandType(D,"object","invalid "+R,k.commandStr);var M=!0,Y=D.x|0,W=D.y|0,ce,me;return"width"in D?(ce=D.width|0,P.command(ce>=0,"invalid "+R,k.commandStr)):M=!1,"height"in D?(me=D.height|0,P.command(me>=0,"invalid "+R,k.commandStr)):M=!1,new On(!M&&T&&T.thisDep,!M&&T&&T.contextDep,!M&&T&&T.propDep,function(Ke,Ue){var pe=Ke.shared.context,ae=ce;"width"in D||(ae=Ue.def(pe,".",Si,"-",Y));var Ye=me;return"height"in D||(Ye=Ue.def(pe,".",Ei,"-",W)),[Y,W,ae,Ye]})}else if(R in q){var Oe=q[R],it=nr(Oe,function(Ke,Ue){var pe=Ke.invoke(Ue,Oe);P.optional(function(){Ke.assert(Ue,pe+"&&typeof "+pe+'==="object"',"invalid "+R)});var ae=Ke.shared.context,Ye=Ue.def(pe,".x|0"),Xe=Ue.def(pe,".y|0"),st=Ue.def('"width" in ',pe,"?",pe,".width|0:","(",ae,".",Si,"-",Ye,")"),Gt=Ue.def('"height" in ',pe,"?",pe,".height|0:","(",ae,".",Ei,"-",Xe,")");return P.optional(function(){Ke.assert(Ue,st+">=0&&"+Gt+">=0","invalid "+R)}),[Ye,Xe,st,Gt]});return T&&(it.thisDep=it.thisDep||T.thisDep,it.contextDep=it.contextDep||T.contextDep,it.propDep=it.propDep||T.propDep),it}else return T?new On(T.thisDep,T.contextDep,T.propDep,function(Ke,Ue){var pe=Ke.shared.context;return[0,0,Ue.def(pe,".",Si),Ue.def(pe,".",Ei)]}):null}var G=$(Hr);if(G){var U=G;G=new On(G.thisDep,G.contextDep,G.propDep,function(R,D){var M=U.append(R,D),Y=R.shared.context;return D.set(Y,"."+cy,M[2]),D.set(Y,"."+fy,M[3]),M})}return{viewport:G,scissor_box:$(La)}}function ut(L,T){var k=L.static,H=typeof k[mo]=="string"&&typeof k[ho]=="string";if(H){if(Object.keys(T.dynamic).length>0)return null;var q=T.static,$=Object.keys(q);if($.length>0&&typeof q[$[0]]=="number"){for(var G=[],U=0;U<$.length;++U)P(typeof q[$[U]]=="number","must specify all vertex attribute locations when using vaos"),G.push([q[$[U]]|0,$[U]]);return G}}return null}function bt(L,T,k){var H=L.static,q=L.dynamic;function $(M){if(M in H){var Y=C.id(H[M]);P.optional(function(){Pe.shader(s1[M],Y,P.guessCommand())});var W=vn(function(){return Y});return W.id=Y,W}else if(M in q){var ce=q[M];return nr(ce,function(me,Oe){var it=me.invoke(Oe,ce),Ke=Oe.def(me.shared.strings,".id(",it,")");return P.optional(function(){Oe(me.shared.shader,".shader(",s1[M],",",Ke,",",me.command,");")}),Ke})}return null}var G=$(mo),U=$(ho),R=null,D;return ls(G)&&ls(U)?(R=Pe.program(U.id,G.id,null,k),D=vn(function(M,Y){return M.link(R)})):D=new On(G&&G.thisDep||U&&U.thisDep,G&&G.contextDep||U&&U.contextDep,G&&G.propDep||U&&U.propDep,function(M,Y){var W=M.shared.shader,ce;G?ce=G.append(M,Y):ce=Y.def(W,".",mo);var me;U?me=U.append(M,Y):me=Y.def(W,".",ho);var Oe=W+".program("+me+","+ce;return P.optional(function(){Oe+=","+M.command}),Y.def(Oe+")")}),{frag:G,vert:U,progVar:D,program:R}}function nn(L,T){var k=L.static,H=L.dynamic,q={},$=!1;function G(){if(po in k){var Ue=k[po];return Ue!==null&&Te.getVAO(Ue)===null&&(Ue=Te.createVAO(Ue)),$=!0,q.vao=Ue,vn(function(ae){var Ye=Te.getVAO(Ue);return Ye?ae.link(Ye):"null"})}else if(po in H){$=!0;var pe=H[po];return nr(pe,function(ae,Ye){var Xe=ae.invoke(Ye,pe);return Ye.def(ae.shared.vao+".getVAO("+Xe+")")})}return null}var U=G(),R=!1;function D(){if(xs in k){var Ue=k[xs];if(q.elements=Ue,$a(Ue)){var pe=q.elements=K.create(Ue,!0);Ue=K.getElements(pe),R=!0}else Ue&&(Ue=K.getElements(Ue),R=!0,P.command(Ue,"invalid elements",T.commandStr));var ae=vn(function(Xe,st){if(Ue){var Gt=Xe.link(Ue);return Xe.ELEMENTS=Gt,Gt}return Xe.ELEMENTS=null,null});return ae.value=Ue,ae}else if(xs in H){R=!0;var Ye=H[xs];return nr(Ye,function(Xe,st){var Gt=Xe.shared,Vn=Gt.isBufferArgs,$s=Gt.elements,jr=Xe.invoke(st,Ye),Mr=st.def("null"),cs=st.def(Vn,"(",jr,")"),Vs=Xe.cond(cs).then(Mr,"=",$s,".createStream(",jr,");").else(Mr,"=",$s,".getElements(",jr,");");return P.optional(function(){Xe.assert(Vs.else,"!"+jr+"||"+Mr,"invalid elements")}),st.entry(Vs),st.exit(Xe.cond(cs).then($s,".destroyStream(",Mr,");")),Xe.ELEMENTS=Mr,Mr})}else if($)return new On(U.thisDep,U.contextDep,U.propDep,function(Xe,st){return st.def(Xe.shared.vao+".currentVAO?"+Xe.shared.elements+".getElements("+Xe.shared.vao+".currentVAO.elements):null")});return null}var M=D();function Y(){if(ks in k){var Ue=k[ks];return q.primitive=Ue,P.commandParameter(Ue,ss,"invalid primitve",T.commandStr),vn(function(ae,Ye){return ss[Ue]})}else if(ks in H){var pe=H[ks];return nr(pe,function(ae,Ye){var Xe=ae.constants.primTypes,st=ae.invoke(Ye,pe);return P.optional(function(){ae.assert(Ye,st+" in "+Xe,"invalid primitive, must be one of "+Object.keys(ss))}),Ye.def(Xe,"[",st,"]")})}else{if(R)return ls(M)?M.value?vn(function(ae,Ye){return Ye.def(ae.ELEMENTS,".primType")}):vn(function(){return pf}):new On(M.thisDep,M.contextDep,M.propDep,function(ae,Ye){var Xe=ae.ELEMENTS;return Ye.def(Xe,"?",Xe,".primType:",pf)});if($)return new On(U.thisDep,U.contextDep,U.propDep,function(ae,Ye){return Ye.def(ae.shared.vao+".currentVAO?"+ae.shared.vao+".currentVAO.primitive:"+pf)})}return null}function W(Ue,pe){if(Ue in k){var ae=k[Ue]|0;return pe?q.offset=ae:q.instances=ae,P.command(!pe||ae>=0,"invalid "+Ue,T.commandStr),vn(function(Xe,st){return pe&&(Xe.OFFSET=ae),ae})}else if(Ue in H){var Ye=H[Ue];return nr(Ye,function(Xe,st){var Gt=Xe.invoke(st,Ye);return pe&&(Xe.OFFSET=Gt,P.optional(function(){Xe.assert(st,Gt+">=0","invalid "+Ue)})),Gt})}else if(pe){if(R)return vn(function(Xe,st){return Xe.OFFSET=0,0});if($)return new On(U.thisDep,U.contextDep,U.propDep,function(Xe,st){return st.def(Xe.shared.vao+".currentVAO?"+Xe.shared.vao+".currentVAO.offset:0")})}else if($)return new On(U.thisDep,U.contextDep,U.propDep,function(Xe,st){return st.def(Xe.shared.vao+".currentVAO?"+Xe.shared.vao+".currentVAO.instances:-1")});return null}var ce=W(Oa,!0);function me(){if(Gs in k){var Ue=k[Gs]|0;return q.count=Ue,P.command(typeof Ue=="number"&&Ue>=0,"invalid vertex count",T.commandStr),vn(function(){return Ue})}else if(Gs in H){var pe=H[Gs];return nr(pe,function(st,Gt){var Vn=st.invoke(Gt,pe);return P.optional(function(){st.assert(Gt,"typeof "+Vn+'==="number"&&'+Vn+">=0&&"+Vn+"===("+Vn+"|0)","invalid vertex count")}),Vn})}else if(R)if(ls(M)){if(M)return ce?new On(ce.thisDep,ce.contextDep,ce.propDep,function(st,Gt){var Vn=Gt.def(st.ELEMENTS,".vertCount-",st.OFFSET);return P.optional(function(){st.assert(Gt,Vn+">=0","invalid vertex offset/element buffer too small")}),Vn}):vn(function(st,Gt){return Gt.def(st.ELEMENTS,".vertCount")});var ae=vn(function(){return-1});return P.optional(function(){ae.MISSING=!0}),ae}else{var Ye=new On(M.thisDep||ce.thisDep,M.contextDep||ce.contextDep,M.propDep||ce.propDep,function(st,Gt){var Vn=st.ELEMENTS;return st.OFFSET?Gt.def(Vn,"?",Vn,".vertCount-",st.OFFSET,":-1"):Gt.def(Vn,"?",Vn,".vertCount:-1")});return P.optional(function(){Ye.DYNAMIC=!0}),Ye}else if($){var Xe=new On(U.thisDep,U.contextDep,U.propDep,function(st,Gt){return Gt.def(st.shared.vao,".currentVAO?",st.shared.vao,".currentVAO.count:-1")});return Xe}return null}var Oe=Y(),it=me(),Ke=W(Ra,!1);return{elements:M,primitive:Oe,count:it,instances:Ke,offset:ce,vao:U,vaoActive:$,elementsActive:R,static:q}}function rn(L,T){var k=L.static,H=L.dynamic,q={};return et.forEach(function($){var G=He($);function U(R,D){if($ in k){var M=R(k[$]);q[G]=vn(function(){return M})}else if($ in H){var Y=H[$];q[G]=nr(Y,function(W,ce){return D(W,ce,W.invoke(ce,Y))})}}switch($){case $0:case F0:case D0:case j0:case k0:case X0:case U0:case z0:case H0:case N0:return U(function(R){return P.commandType(R,"boolean",$,T.commandStr),R},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="boolean"',"invalid flag "+$,R.commandStr)}),M});case G0:return U(function(R){return P.commandParameter(R,Ti,"invalid "+$,T.commandStr),Ti[R]},function(R,D,M){var Y=R.constants.compareFuncs;return P.optional(function(){R.assert(D,M+" in "+Y,"invalid "+$+", must be one of "+Object.keys(Ti))}),D.def(Y,"[",M,"]")});case B0:return U(function(R){return P.command(tn(R)&&R.length===2&&typeof R[0]=="number"&&typeof R[1]=="number"&&R[0]<=R[1],"depth range is 2d array",T.commandStr),R},function(R,D,M){P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===2&&typeof "+M+'[0]==="number"&&typeof '+M+'[1]==="number"&&'+M+"[0]<="+M+"[1]","depth range must be a 2d array")});var Y=D.def("+",M,"[0]"),W=D.def("+",M,"[1]");return[Y,W]});case ef:return U(function(R){P.commandType(R,"object","blend.func",T.commandStr);var D="srcRGB"in R?R.srcRGB:R.src,M="srcAlpha"in R?R.srcAlpha:R.src,Y="dstRGB"in R?R.dstRGB:R.dst,W="dstAlpha"in R?R.dstAlpha:R.dst;return P.commandParameter(D,Or,G+".srcRGB",T.commandStr),P.commandParameter(M,Or,G+".srcAlpha",T.commandStr),P.commandParameter(Y,Or,G+".dstRGB",T.commandStr),P.commandParameter(W,Or,G+".dstAlpha",T.commandStr),P.command(r1.indexOf(D+", "+Y)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+D+", "+Y+")",T.commandStr),[Or[D],Or[Y],Or[M],Or[W]]},function(R,D,M){var Y=R.constants.blendFuncs;P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid blend func, must be an object")});function W(pe,ae){var Ye=D.def('"',pe,ae,'" in ',M,"?",M,".",pe,ae,":",M,".",pe);return P.optional(function(){R.assert(D,Ye+" in "+Y,"invalid "+$+"."+pe+ae+", must be one of "+Object.keys(Or))}),Ye}var ce=W("src","RGB"),me=W("dst","RGB");P.optional(function(){var pe=R.constants.invalidBlendCombinations;R.assert(D,pe+".indexOf("+ce+'+", "+'+me+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Oe=D.def(Y,"[",ce,"]"),it=D.def(Y,"[",W("src","Alpha"),"]"),Ke=D.def(Y,"[",me,"]"),Ue=D.def(Y,"[",W("dst","Alpha"),"]");return[Oe,Ke,it,Ue]});case Jc:return U(function(R){if(typeof R=="string")return P.commandParameter(R,se,"invalid "+$,T.commandStr),[se[R],se[R]];if(typeof R=="object")return P.commandParameter(R.rgb,se,$+".rgb",T.commandStr),P.commandParameter(R.alpha,se,$+".alpha",T.commandStr),[se[R.rgb],se[R.alpha]];P.commandRaise("invalid blend.equation",T.commandStr)},function(R,D,M){var Y=R.constants.blendEquations,W=D.def(),ce=D.def(),me=R.cond("typeof ",M,'==="string"');return P.optional(function(){function Oe(it,Ke,Ue){R.assert(it,Ue+" in "+Y,"invalid "+Ke+", must be one of "+Object.keys(se))}Oe(me.then,$,M),R.assert(me.else,M+"&&typeof "+M+'==="object"',"invalid "+$),Oe(me.else,$+".rgb",M+".rgb"),Oe(me.else,$+".alpha",M+".alpha")}),me.then(W,"=",ce,"=",Y,"[",M,"];"),me.else(W,"=",Y,"[",M,".rgb];",ce,"=",Y,"[",M,".alpha];"),D(me),[W,ce]});case x0:return U(function(R){return P.command(tn(R)&&R.length===4,"blend.color must be a 4d array",T.commandStr),Yn(4,function(D){return+R[D]})},function(R,D,M){return P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===4","blend.color must be a 4d array")}),Yn(4,function(Y){return D.def("+",M,"[",Y,"]")})});case q0:return U(function(R){return P.commandType(R,"number",G,T.commandStr),R|0},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="number"',"invalid stencil.mask")}),D.def(M,"|0")});case af:return U(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.cmp||"keep",M=R.ref||0,Y="mask"in R?R.mask:-1;return P.commandParameter(D,Ti,$+".cmp",T.commandStr),P.commandType(M,"number",$+".ref",T.commandStr),P.commandType(Y,"number",$+".mask",T.commandStr),[Ti[D],M,Y]},function(R,D,M){var Y=R.constants.compareFuncs;P.optional(function(){function Oe(){R.assert(D,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Oe(M+"&&typeof ",M,'==="object"'),Oe('!("cmp" in ',M,")||(",M,".cmp in ",Y,")")});var W=D.def('"cmp" in ',M,"?",Y,"[",M,".cmp]",":",os),ce=D.def(M,".ref|0"),me=D.def('"mask" in ',M,"?",M,".mask|0:-1");return[W,ce,me]});case lf:case fo:return U(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.fail||"keep",M=R.zfail||"keep",Y=R.zpass||"keep";return P.commandParameter(D,as,$+".fail",T.commandStr),P.commandParameter(M,as,$+".zfail",T.commandStr),P.commandParameter(Y,as,$+".zpass",T.commandStr),[$===fo?Bs:Ao,as[D],as[M],as[Y]]},function(R,D,M){var Y=R.constants.stencilOps;P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid "+$)});function W(ce){return P.optional(function(){R.assert(D,'!("'+ce+'" in '+M+")||("+M+"."+ce+" in "+Y+")","invalid "+$+"."+ce+", must be one of "+Object.keys(as))}),D.def('"',ce,'" in ',M,"?",Y,"[",M,".",ce,"]:",os)}return[$===fo?Bs:Ao,W("fail"),W("zfail"),W("zpass")]});case sf:return U(function(R){P.commandType(R,"object",G,T.commandStr);var D=R.factor|0,M=R.units|0;return P.commandType(D,"number",G+".factor",T.commandStr),P.commandType(M,"number",G+".units",T.commandStr),[D,M]},function(R,D,M){P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid "+$)});var Y=D.def(M,".factor|0"),W=D.def(M,".units|0");return[Y,W]});case V0:return U(function(R){var D=0;return R==="front"?D=Ao:R==="back"&&(D=Bs),P.command(!!D,G,T.commandStr),D},function(R,D,M){return P.optional(function(){R.assert(D,M+'==="front"||'+M+'==="back"',"invalid cull.face")}),D.def(M,'==="front"?',Ao,":",Bs)});case rf:return U(function(R){return P.command(typeof R=="number"&&R>=Q.lineWidthDims[0]&&R<=Q.lineWidthDims[1],"invalid line width, must be a positive number between "+Q.lineWidthDims[0]+" and "+Q.lineWidthDims[1],T.commandStr),R},function(R,D,M){return P.optional(function(){R.assert(D,"typeof "+M+'==="number"&&'+M+">="+Q.lineWidthDims[0]+"&&"+M+"<="+Q.lineWidthDims[1],"invalid line width")}),M});case nf:return U(function(R){return P.commandParameter(R,vf,G,T.commandStr),vf[R]},function(R,D,M){return P.optional(function(){R.assert(D,M+'==="cw"||'+M+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),D.def(M+'==="cw"?'+Q0+":"+gf)});case tf:return U(function(R){return P.command(tn(R)&&R.length===4,"color.mask must be length 4 array",T.commandStr),R.map(function(D){return!!D})},function(R,D,M){return P.optional(function(){R.assert(D,R.shared.isArrayLike+"("+M+")&&"+M+".length===4","invalid color.mask")}),Yn(4,function(Y){return"!!"+M+"["+Y+"]"})});case of:return U(function(R){P.command(typeof R=="object"&&R,G,T.commandStr);var D="value"in R?R.value:1,M=!!R.invert;return P.command(typeof D=="number"&&D>=0&&D<=1,"sample.coverage.value must be a number between 0 and 1",T.commandStr),[D,M]},function(R,D,M){P.optional(function(){R.assert(D,M+"&&typeof "+M+'==="object"',"invalid sample.coverage")});var Y=D.def('"value" in ',M,"?+",M,".value:1"),W=D.def("!!",M,".invert");return[Y,W]})}}),q}function St(L,T){var k=L.static,H=L.dynamic,q={};return Object.keys(k).forEach(function($){var G=k[$],U;if(typeof G=="number"||typeof G=="boolean")U=vn(function(){return G});else if(typeof G=="function"){var R=G._reglType;R==="texture2d"||R==="textureCube"?U=vn(function(D){return D.link(G)}):R==="framebuffer"||R==="framebufferCube"?(P.command(G.color.length>0,'missing color attachment for framebuffer sent to uniform "'+$+'"',T.commandStr),U=vn(function(D){return D.link(G.color[0])})):P.commandRaise('invalid data for uniform "'+$+'"',T.commandStr)}else tn(G)?U=vn(function(D){var M=D.global.def("[",Yn(G.length,function(Y){return P.command(typeof G[Y]=="number"||typeof G[Y]=="boolean","invalid uniform "+$,D.commandStr),G[Y]}),"]");return M}):P.commandRaise('invalid or missing data for uniform "'+$+'"',T.commandStr);U.value=G,q[$]=U}),Object.keys(H).forEach(function($){var G=H[$];q[$]=nr(G,function(U,R){return U.invoke(R,G)})}),q}function En(L,T){var k=L.static,H=L.dynamic,q={};return Object.keys(k).forEach(function($){var G=k[$],U=C.id($),R=new j;if($a(G))R.state=Ai,R.buffer=ue.getBuffer(ue.create(G,wi,!1,!0)),R.type=0;else{var D=ue.getBuffer(G);if(D)R.state=Ai,R.buffer=D,R.type=0;else if(P.command(typeof G=="object"&&G,"invalid data for attribute "+$,T.commandStr),"constant"in G){var M=G.constant;R.buffer="null",R.state=Wc,typeof M=="number"?R.x=M:(P.command(tn(M)&&M.length>0&&M.length<=4,"invalid constant for attribute "+$,T.commandStr),yi.forEach(function(Ke,Ue){Ue<M.length&&(R[Ke]=M[Ue])}))}else{$a(G.buffer)?D=ue.getBuffer(ue.create(G.buffer,wi,!1,!0)):D=ue.getBuffer(G.buffer),P.command(!!D,'missing buffer for attribute "'+$+'"',T.commandStr);var Y=G.offset|0;P.command(Y>=0,'invalid offset for attribute "'+$+'"',T.commandStr);var W=G.stride|0;P.command(W>=0&&W<256,'invalid stride for attribute "'+$+'", must be integer betweeen [0, 255]',T.commandStr);var ce=G.size|0;P.command(!("size"in G)||ce>0&&ce<=4,'invalid size for attribute "'+$+'", must be 1,2,3,4',T.commandStr);var me=!!G.normalized,Oe=0;"type"in G&&(P.commandParameter(G.type,Os,"invalid type for attribute "+$,T.commandStr),Oe=Os[G.type]);var it=G.divisor|0;P.optional(function(){"divisor"in G&&(P.command(it===0||Ae,'cannot specify divisor for attribute "'+$+'", instancing not supported',T.commandStr),P.command(it>=0,'invalid divisor for attribute "'+$+'"',T.commandStr));var Ke=T.commandStr,Ue=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(G).forEach(function(pe){P.command(Ue.indexOf(pe)>=0,'unknown parameter "'+pe+'" for attribute pointer "'+$+'" (valid parameters are '+Ue+")",Ke)})}),R.buffer=D,R.state=Ai,R.size=ce,R.normalized=me,R.type=Oe||D.dtype,R.offset=Y,R.stride=W,R.divisor=it}}q[$]=vn(function(Ke,Ue){var pe=Ke.attribCache;if(U in pe)return pe[U];var ae={isStream:!1};return Object.keys(R).forEach(function(Ye){ae[Ye]=R[Ye]}),R.buffer&&(ae.buffer=Ke.link(R.buffer),ae.type=ae.type||ae.buffer+".dtype"),pe[U]=ae,ae})}),Object.keys(H).forEach(function($){var G=H[$];function U(R,D){var M=R.invoke(D,G),Y=R.shared,W=R.constants,ce=Y.isBufferArgs,me=Y.buffer;P.optional(function(){R.assert(D,M+"&&(typeof "+M+'==="object"||typeof '+M+'==="function")&&('+ce+"("+M+")||"+me+".getBuffer("+M+")||"+me+".getBuffer("+M+".buffer)||"+ce+"("+M+'.buffer)||("constant" in '+M+"&&(typeof "+M+'.constant==="number"||'+Y.isArrayLike+"("+M+".constant))))",'invalid dynamic attribute "'+$+'"')});var Oe={isStream:D.def(!1)},it=new j;it.state=Ai,Object.keys(it).forEach(function(ae){Oe[ae]=D.def(""+it[ae])});var Ke=Oe.buffer,Ue=Oe.type;D("if(",ce,"(",M,")){",Oe.isStream,"=true;",Ke,"=",me,".createStream(",wi,",",M,");",Ue,"=",Ke,".dtype;","}else{",Ke,"=",me,".getBuffer(",M,");","if(",Ke,"){",Ue,"=",Ke,".dtype;",'}else if("constant" in ',M,"){",Oe.state,"=",Wc,";","if(typeof "+M+'.constant === "number"){',Oe[yi[0]],"=",M,".constant;",yi.slice(1).map(function(ae){return Oe[ae]}).join("="),"=0;","}else{",yi.map(function(ae,Ye){return Oe[ae]+"="+M+".constant.length>"+Ye+"?"+M+".constant["+Ye+"]:0;"}).join(""),"}}else{","if(",ce,"(",M,".buffer)){",Ke,"=",me,".createStream(",wi,",",M,".buffer);","}else{",Ke,"=",me,".getBuffer(",M,".buffer);","}",Ue,'="type" in ',M,"?",W.glTypes,"[",M,".type]:",Ke,".dtype;",Oe.normalized,"=!!",M,".normalized;");function pe(ae){D(Oe[ae],"=",M,".",ae,"|0;")}return pe("size"),pe("offset"),pe("stride"),pe("divisor"),D("}}"),D.exit("if(",Oe.isStream,"){",me,".destroyStream(",Ke,");","}"),Oe}q[$]=nr(G,U)}),q}function qt(L){var T=L.static,k=L.dynamic,H={};return Object.keys(T).forEach(function(q){var $=T[q];H[q]=vn(function(G,U){return typeof $=="number"||typeof $=="boolean"?""+$:G.link($)})}),Object.keys(k).forEach(function(q){var $=k[q];H[q]=nr($,function(G,U){return G.invoke(U,$)})}),H}function bn(L,T,k,H,q){var $=L.static,G=L.dynamic;P.optional(function(){var pe=[Fs,ho,mo,xs,ks,Oa,Gs,Ra,uo,po].concat(et);function ae(Ye){Object.keys(Ye).forEach(function(Xe){P.command(pe.indexOf(Xe)>=0,'unknown parameter "'+Xe+'"',q.commandStr)})}ae($),ae(G)});var U=ut(L,T),R=Ne(L),D=rt(L,R,q),M=nn(L,q),Y=rn(L,q),W=bt(L,q,U);function ce(pe){var ae=D[pe];ae&&(Y[pe]=ae)}ce(Hr),ce(He(La));var me=Object.keys(Y).length>0,Oe={framebuffer:R,draw:M,shader:W,state:Y,dirty:me,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Oe.profile=ke(L),Oe.uniforms=St(k,q),Oe.drawVAO=Oe.scopeVAO=M.vao,!Oe.drawVAO&&W.program&&!U&&F.angle_instanced_arrays&&M.static.elements){var it=!0,Ke=W.program.attributes.map(function(pe){var ae=T.static[pe];return it=it&&!!ae,ae});if(it&&Ke.length>0){var Ue=Te.getVAO(Te.createVAO({attributes:Ke,elements:M.static.elements}));Oe.drawVAO=new On(null,null,null,function(pe,ae){return pe.link(Ue)}),Oe.useVAO=!0}}return U?Oe.useVAO=!0:Oe.attributes=En(T,q),Oe.context=qt(H),Oe}function wn(L,T,k){var H=L.shared,q=H.context,$=L.scope();Object.keys(k).forEach(function(G){T.save(q,"."+G);var U=k[G],R=U.append(L,T);Array.isArray(R)?$(q,".",G,"=[",R.join(),"];"):$(q,".",G,"=",R,";")}),T($)}function Tn(L,T,k,H){var q=L.shared,$=q.gl,G=q.framebuffer,U;Ve&&(U=T.def(q.extensions,".webgl_draw_buffers"));var R=L.constants,D=R.drawBuffer,M=R.backBuffer,Y;k?Y=k.append(L,T):Y=T.def(G,".next"),H||T("if(",Y,"!==",G,".cur){"),T("if(",Y,"){",$,".bindFramebuffer(",n1,",",Y,".framebuffer);"),Ve&&T(U,".drawBuffersWEBGL(",D,"[",Y,".colorAttachments.length]);"),T("}else{",$,".bindFramebuffer(",n1,",null);"),Ve&&T(U,".drawBuffersWEBGL(",M,");"),T("}",G,".cur=",Y,";"),H||T("}")}function xn(L,T,k){var H=L.shared,q=H.gl,$=L.current,G=L.next,U=H.current,R=H.next,D=L.cond(U,".dirty");et.forEach(function(M){var Y=He(M);if(!(Y in k.state)){var W,ce;if(Y in G){W=G[Y],ce=$[Y];var me=Yn(Be[Y].length,function(it){return D.def(W,"[",it,"]")});D(L.cond(me.map(function(it,Ke){return it+"!=="+ce+"["+Ke+"]"}).join("||")).then(q,".",fe[Y],"(",me,");",me.map(function(it,Ke){return ce+"["+Ke+"]="+it}).join(";"),";"))}else{W=D.def(R,".",Y);var Oe=L.cond(W,"!==",U,".",Y);D(Oe),Y in he?Oe(L.cond(W).then(q,".enable(",he[Y],");").else(q,".disable(",he[Y],");"),U,".",Y,"=",W,";"):Oe(q,".",fe[Y],"(",W,");",U,".",Y,"=",W,";")}}}),Object.keys(k.state).length===0&&D(U,".dirty=false;"),T(D)}function Nn(L,T,k,H){var q=L.shared,$=L.current,G=q.current,U=q.gl;i1(Object.keys(k)).forEach(function(R){var D=k[R];if(!(H&&!H(D))){var M=D.append(L,T);if(he[R]){var Y=he[R];ls(D)?M?T(U,".enable(",Y,");"):T(U,".disable(",Y,");"):T(L.cond(M).then(U,".enable(",Y,");").else(U,".disable(",Y,");")),T(G,".",R,"=",M,";")}else if(tn(M)){var W=$[R];T(U,".",fe[R],"(",M,");",M.map(function(ce,me){return W+"["+me+"]="+ce}).join(";"),";")}else T(U,".",fe[R],"(",M,");",G,".",R,"=",M,";")}})}function un(L,T){Ae&&(L.instancing=T.def(L.shared.extensions,".angle_instanced_arrays"))}function ht(L,T,k,H,q){var $=L.shared,G=L.stats,U=$.current,R=$.timer,D=k.profile;function M(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Y,W;function ce(pe){Y=T.def(),pe(Y,"=",M(),";"),typeof q=="string"?pe(G,".count+=",q,";"):pe(G,".count++;"),_e&&(H?(W=T.def(),pe(W,"=",R,".getNumPendingQueries();")):pe(R,".beginQuery(",G,");"))}function me(pe){pe(G,".cpuTime+=",M(),"-",Y,";"),_e&&(H?pe(R,".pushScopeStats(",W,",",R,".getNumPendingQueries(),",G,");"):pe(R,".endQuery();"))}function Oe(pe){var ae=T.def(U,".profile");T(U,".profile=",pe,";"),T.exit(U,".profile=",ae,";")}var it;if(D){if(ls(D)){D.enable?(ce(T),me(T.exit),Oe("true")):Oe("false");return}it=D.append(L,T),Oe(it)}else it=T.def(U,".profile");var Ke=L.block();ce(Ke),T("if(",it,"){",Ke,"}");var Ue=L.block();me(Ue),T.exit("if(",it,"){",Ue,"}")}function $n(L,T,k,H,q){var $=L.shared;function G(R){switch(R){case Ma:case Fa:case Ga:return 2;case Ia:case xa:case Ba:return 3;case Da:case ka:case Na:return 4;default:return 1}}function U(R,D,M){var Y=$.gl,W=T.def(R,".location"),ce=T.def($.attributes,"[",W,"]"),me=M.state,Oe=M.buffer,it=[M.x,M.y,M.z,M.w],Ke=["buffer","normalized","offset","stride"];function Ue(){T("if(!",ce,".buffer){",Y,".enableVertexAttribArray(",W,");}");var ae=M.type,Ye;if(M.size?Ye=T.def(M.size,"||",D):Ye=D,T("if(",ce,".type!==",ae,"||",ce,".size!==",Ye,"||",Ke.map(function(st){return ce+"."+st+"!=="+M[st]}).join("||"),"){",Y,".bindBuffer(",wi,",",Oe,".buffer);",Y,".vertexAttribPointer(",[W,Ye,ae,M.normalized,M.stride,M.offset],");",ce,".type=",ae,";",ce,".size=",Ye,";",Ke.map(function(st){return ce+"."+st+"="+M[st]+";"}).join(""),"}"),Ae){var Xe=M.divisor;T("if(",ce,".divisor!==",Xe,"){",L.instancing,".vertexAttribDivisorANGLE(",[W,Xe],");",ce,".divisor=",Xe,";}")}}function pe(){T("if(",ce,".buffer){",Y,".disableVertexAttribArray(",W,");",ce,".buffer=null;","}if(",yi.map(function(ae,Ye){return ce+"."+ae+"!=="+it[Ye]}).join("||"),"){",Y,".vertexAttrib4f(",W,",",it,");",yi.map(function(ae,Ye){return ce+"."+ae+"="+it[Ye]+";"}).join(""),"}")}me===Ai?Ue():me===Wc?pe():(T("if(",me,"===",Ai,"){"),Ue(),T("}else{"),pe(),T("}"))}H.forEach(function(R){var D=R.name,M=k.attributes[D],Y;if(M){if(!q(M))return;Y=M.append(L,T)}else{if(!q(o1))return;var W=L.scopeAttrib(D);P.optional(function(){L.assert(T,W+".state","missing attribute "+D)}),Y={},Object.keys(new j).forEach(function(ce){Y[ce]=T.def(W,".",ce)})}U(L.link(R),G(R.info.type),Y)})}function xt(L,T,k,H,q,$){for(var G=L.shared,U=G.gl,R={},D,M=0;M<H.length;++M){var Y=H[M],W=Y.name,ce=Y.info.type,me=Y.info.size,Oe=k.uniforms[W];if(me>1){if(!Oe)continue;var it=W.replace("[0]","");if(R[it])continue;R[it]=1}var Ke=L.link(Y),Ue=Ke+".location",pe;if(Oe){if(!q(Oe))continue;if(ls(Oe)){var ae=Oe.value;if(P.command(ae!==null&&typeof ae<"u",'missing uniform "'+W+'"',L.commandStr),ce===_o||ce===yo){P.command(typeof ae=="function"&&(ce===_o&&(ae._reglType==="texture2d"||ae._reglType==="framebuffer")||ce===yo&&(ae._reglType==="textureCube"||ae._reglType==="framebufferCube")),"invalid texture for uniform "+W,L.commandStr);var Ye=L.link(ae._texture||ae.color[0]._texture);T(U,".uniform1i(",Ue,",",Ye+".bind());"),T.exit(Ye,".unbind();")}else if(ce===go||ce===vo||ce===bo){P.optional(function(){P.command(tn(ae),"invalid matrix for uniform "+W,L.commandStr),P.command(ce===go&&ae.length===4||ce===vo&&ae.length===9||ce===bo&&ae.length===16,"invalid length for matrix uniform "+W,L.commandStr)});var Xe=L.global.def("new Float32Array(["+Array.prototype.slice.call(ae)+"])"),st=2;ce===vo?st=3:ce===bo&&(st=4),T(U,".uniformMatrix",st,"fv(",Ue,",false,",Xe,");")}else{switch(ce){case df:me===1?P.commandType(ae,"number","uniform "+W,L.commandStr):P.command(tn(ae)&&ae.length===me,"uniform "+W,L.commandStr),D="1f";break;case Ma:P.command(tn(ae)&&ae.length&&ae.length%2===0&&ae.length<=me*2,"uniform "+W,L.commandStr),D="2f";break;case Ia:P.command(tn(ae)&&ae.length&&ae.length%3===0&&ae.length<=me*3,"uniform "+W,L.commandStr),D="3f";break;case Da:P.command(tn(ae)&&ae.length&&ae.length%4===0&&ae.length<=me*4,"uniform "+W,L.commandStr),D="4f";break;case mf:me===1?P.commandType(ae,"boolean","uniform "+W,L.commandStr):P.command(tn(ae)&&ae.length===me,"uniform "+W,L.commandStr),D="1i";break;case hf:me===1?P.commandType(ae,"number","uniform "+W,L.commandStr):P.command(tn(ae)&&ae.length===me,"uniform "+W,L.commandStr),D="1i";break;case Ga:P.command(tn(ae)&&ae.length&&ae.length%2===0&&ae.length<=me*2,"uniform "+W,L.commandStr),D="2i";break;case Fa:P.command(tn(ae)&&ae.length&&ae.length%2===0&&ae.length<=me*2,"uniform "+W,L.commandStr),D="2i";break;case Ba:P.command(tn(ae)&&ae.length&&ae.length%3===0&&ae.length<=me*3,"uniform "+W,L.commandStr),D="3i";break;case xa:P.command(tn(ae)&&ae.length&&ae.length%3===0&&ae.length<=me*3,"uniform "+W,L.commandStr),D="3i";break;case Na:P.command(tn(ae)&&ae.length&&ae.length%4===0&&ae.length<=me*4,"uniform "+W,L.commandStr),D="4i";break;case ka:P.command(tn(ae)&&ae.length&&ae.length%4===0&&ae.length<=me*4,"uniform "+W,L.commandStr),D="4i";break}me>1?(D+="v",ae=L.global.def("["+Array.prototype.slice.call(ae)+"]")):ae=tn(ae)?Array.prototype.slice.call(ae):ae,T(U,".uniform",D,"(",Ue,",",ae,");")}continue}else pe=Oe.append(L,T)}else{if(!q(o1))continue;pe=T.def(G.uniforms,"[",C.id(W),"]")}ce===_o?(P(!Array.isArray(pe),"must specify a scalar prop for textures"),T("if(",pe,"&&",pe,'._reglType==="framebuffer"){',pe,"=",pe,".color[0];","}")):ce===yo&&(P(!Array.isArray(pe),"must specify a scalar prop for cube maps"),T("if(",pe,"&&",pe,'._reglType==="framebufferCube"){',pe,"=",pe,".color[0];","}")),P.optional(function(){function cr(rr,Va){L.assert(T,rr,'bad data or missing for uniform "'+W+'".  '+Va)}function Us(rr,Va){Va===1&&P(!Array.isArray(pe),"must not specify an array type for uniform"),cr("Array.isArray("+pe+") && typeof "+pe+'[0]===" '+rr+'" || typeof '+pe+'==="'+rr+'"',"invalid type, expected "+rr)}function gr(rr,Va,Ua){Array.isArray(pe)?P(pe.length&&pe.length%rr===0&&pe.length<=rr*Ua,"must have length of "+(Ua===1?"":"n * ")+rr):cr(G.isArrayLike+"("+pe+")&&"+pe+".length && "+pe+".length % "+rr+" === 0 && "+pe+".length<="+rr*Ua,"invalid vector, should have length of "+(Ua===1?"":"n * ")+rr,L.commandStr)}function h1(rr){P(!Array.isArray(pe),"must not specify a value type"),cr("typeof "+pe+'==="function"&&'+pe+'._reglType==="texture'+(rr===K0?"2d":"Cube")+'"',"invalid texture type",L.commandStr)}switch(ce){case hf:Us("number",me);break;case Fa:gr(2,"number",me);break;case xa:gr(3,"number",me);break;case ka:gr(4,"number",me);break;case df:Us("number",me);break;case Ma:gr(2,"number",me);break;case Ia:gr(3,"number",me);break;case Da:gr(4,"number",me);break;case mf:Us("boolean",me);break;case Ga:gr(2,"boolean",me);break;case Ba:gr(3,"boolean",me);break;case Na:gr(4,"boolean",me);break;case go:gr(4,"number",me);break;case vo:gr(9,"number",me);break;case bo:gr(16,"number",me);break;case _o:h1(K0);break;case yo:h1(my);break}});var Gt=1;switch(ce){case _o:case yo:var Vn=T.def(pe,"._texture");T(U,".uniform1i(",Ue,",",Vn,".bind());"),T.exit(Vn,".unbind();");continue;case hf:case mf:D="1i";break;case Fa:case Ga:D="2i",Gt=2;break;case xa:case Ba:D="3i",Gt=3;break;case ka:case Na:D="4i",Gt=4;break;case df:D="1f";break;case Ma:D="2f",Gt=2;break;case Ia:D="3f",Gt=3;break;case Da:D="4f",Gt=4;break;case go:D="Matrix2fv";break;case vo:D="Matrix3fv";break;case bo:D="Matrix4fv";break}if(D.indexOf("Matrix")===-1&&me>1&&(D+="v",Gt=1),D.charAt(0)==="M"){T(U,".uniform",D,"(",Ue,",");var $s=Math.pow(ce-go+2,2),jr=L.global.def("new Float32Array(",$s,")");Array.isArray(pe)?T("false,(",Yn($s,function(cr){return jr+"["+cr+"]="+pe[cr]}),",",jr,")"):T("false,(Array.isArray(",pe,")||",pe," instanceof Float32Array)?",pe,":(",Yn($s,function(cr){return jr+"["+cr+"]="+pe+"["+cr+"]"}),",",jr,")"),T(");")}else if(Gt>1){for(var Mr=[],cs=[],Vs=0;Vs<Gt;++Vs)Array.isArray(pe)?cs.push(pe[Vs]):cs.push(T.def(pe+"["+Vs+"]")),$&&Mr.push(T.def());$&&T("if(!",L.batchId,"||",Mr.map(function(cr,Us){return cr+"!=="+cs[Us]}).join("||"),"){",Mr.map(function(cr,Us){return cr+"="+cs[Us]+";"}).join("")),T(U,".uniform",D,"(",Ue,",",cs.join(","),");"),$&&T("}")}else{if(P(!Array.isArray(pe),"uniform value must not be an array"),$){var d1=T.def();T("if(!",L.batchId,"||",d1,"!==",pe,"){",d1,"=",pe,";")}T(U,".uniform",D,"(",Ue,",",pe,");"),$&&T("}")}}}function nt(L,T,k,H){var q=L.shared,$=q.gl,G=q.draw,U=H.draw;function R(){var Ye=U.elements,Xe,st=T;return Ye?((Ye.contextDep&&H.contextDynamic||Ye.propDep)&&(st=k),Xe=Ye.append(L,st),U.elementsActive&&st("if("+Xe+")"+$+".bindBuffer("+uf+","+Xe+".buffer.buffer);")):(Xe=st.def(),st(Xe,"=",G,".",xs,";","if(",Xe,"){",$,".bindBuffer(",uf,",",Xe,".buffer.buffer);}","else if(",q.vao,".currentVAO){",Xe,"=",L.shared.elements+".getElements("+q.vao,".currentVAO.elements);",ge?"":"if("+Xe+")"+$+".bindBuffer("+uf+","+Xe+".buffer.buffer);","}")),Xe}function D(){var Ye=U.count,Xe,st=T;return Ye?((Ye.contextDep&&H.contextDynamic||Ye.propDep)&&(st=k),Xe=Ye.append(L,st),P.optional(function(){Ye.MISSING&&L.assert(T,"false","missing vertex count"),Ye.DYNAMIC&&L.assert(st,Xe+">=0","missing vertex count")})):(Xe=st.def(G,".",Gs),P.optional(function(){L.assert(st,Xe+">=0","missing vertex count")})),Xe}var M=R();function Y(Ye){var Xe=U[Ye];return Xe?Xe.contextDep&&H.contextDynamic||Xe.propDep?Xe.append(L,k):Xe.append(L,T):T.def(G,".",Ye)}var W=Y(ks),ce=Y(Oa),me=D();if(typeof me=="number"){if(me===0)return}else k("if(",me,"){"),k.exit("}");var Oe,it;Ae&&(Oe=Y(Ra),it=L.instancing);var Ke=M+".type",Ue=U.elements&&ls(U.elements)&&!U.vaoActive;function pe(){function Ye(){k(it,".drawElementsInstancedANGLE(",[W,me,Ke,ce+"<<(("+Ke+"-"+R0+")>>1)",Oe],");")}function Xe(){k(it,".drawArraysInstancedANGLE(",[W,ce,me,Oe],");")}M&&M!=="null"?Ue?Ye():(k("if(",M,"){"),Ye(),k("}else{"),Xe(),k("}")):Xe()}function ae(){function Ye(){k($+".drawElements("+[W,me,Ke,ce+"<<(("+Ke+"-"+R0+")>>1)"]+");")}function Xe(){k($+".drawArrays("+[W,ce,me]+");")}M&&M!=="null"?Ue?Ye():(k("if(",M,"){"),Ye(),k("}else{"),Xe(),k("}")):Xe()}Ae&&(typeof Oe!="number"||Oe>=0)?typeof Oe=="string"?(k("if(",Oe,">0){"),pe(),k("}else if(",Oe,"<0){"),ae(),k("}")):pe():ae()}function _t(L,T,k,H,q){var $=ct(),G=$.proc("body",q);return P.optional(function(){$.commandStr=T.commandStr,$.command=$.link(T.commandStr)}),Ae&&($.instancing=G.def($.shared.extensions,".angle_instanced_arrays")),L($,G,k,H),$.compile().body}function Pt(L,T,k,H){un(L,T),k.useVAO?k.drawVAO?T(L.shared.vao,".setVAO(",k.drawVAO.append(L,T),");"):T(L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"):(T(L.shared.vao,".setVAO(null);"),$n(L,T,k,H.attributes,function(){return!0})),xt(L,T,k,H.uniforms,function(){return!0},!1),nt(L,T,T,k)}function dn(L,T){var k=L.proc("draw",1);un(L,k),wn(L,k,T.context),Tn(L,k,T.framebuffer),xn(L,k,T),Nn(L,k,T.state),ht(L,k,T,!1,!0);var H=T.shader.progVar.append(L,k);if(k(L.shared.gl,".useProgram(",H,".program);"),T.shader.program)Pt(L,k,T,T.shader.program);else{k(L.shared.vao,".setVAO(null);");var q=L.global.def("{}"),$=k.def(H,".id"),G=k.def(q,"[",$,"]");k(L.cond(G).then(G,".call(this,a0);").else(G,"=",q,"[",$,"]=",L.link(function(U){return _t(Pt,L,T,U,1)}),"(",H,");",G,".call(this,a0);"))}Object.keys(T.state).length>0&&k(L.shared.current,".dirty=true;"),L.shared.vao&&k(L.shared.vao,".setVAO(null);")}function Rr(L,T,k,H){L.batchId="a1",un(L,T);function q(){return!0}$n(L,T,k,H.attributes,q),xt(L,T,k,H.uniforms,q,!1),nt(L,T,T,k)}function Ns(L,T,k,H){un(L,T);var q=k.contextDep,$=T.def(),G="a0",U="a1",R=T.def();L.shared.props=R,L.batchId=$;var D=L.scope(),M=L.scope();T(D.entry,"for(",$,"=0;",$,"<",U,";++",$,"){",R,"=",G,"[",$,"];",M,"}",D.exit);function Y(Ke){return Ke.contextDep&&q||Ke.propDep}function W(Ke){return!Y(Ke)}if(k.needsContext&&wn(L,M,k.context),k.needsFramebuffer&&Tn(L,M,k.framebuffer),Nn(L,M,k.state,Y),k.profile&&Y(k.profile)&&ht(L,M,k,!1,!0),H)k.useVAO?k.drawVAO?Y(k.drawVAO)?M(L.shared.vao,".setVAO(",k.drawVAO.append(L,M),");"):D(L.shared.vao,".setVAO(",k.drawVAO.append(L,D),");"):D(L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"):(D(L.shared.vao,".setVAO(null);"),$n(L,D,k,H.attributes,W),$n(L,M,k,H.attributes,Y)),xt(L,D,k,H.uniforms,W,!1),xt(L,M,k,H.uniforms,Y,!0),nt(L,D,M,k);else{var ce=L.global.def("{}"),me=k.shader.progVar.append(L,M),Oe=M.def(me,".id"),it=M.def(ce,"[",Oe,"]");M(L.shared.gl,".useProgram(",me,".program);","if(!",it,"){",it,"=",ce,"[",Oe,"]=",L.link(function(Ke){return _t(Rr,L,k,Ke,2)}),"(",me,");}",it,".call(this,a0[",$,"],",$,");")}}function I(L,T){var k=L.proc("batch",2);L.batchId="0",un(L,k);var H=!1,q=!0;Object.keys(T.context).forEach(function(ce){H=H||T.context[ce].propDep}),H||(wn(L,k,T.context),q=!1);var $=T.framebuffer,G=!1;$?($.propDep?H=G=!0:$.contextDep&&H&&(G=!0),G||Tn(L,k,$)):Tn(L,k,null),T.state.viewport&&T.state.viewport.propDep&&(H=!0);function U(ce){return ce.contextDep&&H||ce.propDep}xn(L,k,T),Nn(L,k,T.state,function(ce){return!U(ce)}),(!T.profile||!U(T.profile))&&ht(L,k,T,!1,"a1"),T.contextDep=H,T.needsContext=q,T.needsFramebuffer=G;var R=T.shader.progVar;if(R.contextDep&&H||R.propDep)Ns(L,k,T,null);else{var D=R.append(L,k);if(k(L.shared.gl,".useProgram(",D,".program);"),T.shader.program)Ns(L,k,T,T.shader.program);else{k(L.shared.vao,".setVAO(null);");var M=L.global.def("{}"),Y=k.def(D,".id"),W=k.def(M,"[",Y,"]");k(L.cond(W).then(W,".call(this,a0,a1);").else(W,"=",M,"[",Y,"]=",L.link(function(ce){return _t(Ns,L,T,ce,2)}),"(",D,");",W,".call(this,a0,a1);"))}}Object.keys(T.state).length>0&&k(L.shared.current,".dirty=true;"),L.shared.vao&&k(L.shared.vao,".setVAO(null);")}function ee(L,T){var k=L.proc("scope",3);L.batchId="a2";var H=L.shared,q=H.current;wn(L,k,T.context),T.framebuffer&&T.framebuffer.append(L,k),i1(Object.keys(T.state)).forEach(function(G){var U=T.state[G],R=U.append(L,k);tn(R)?R.forEach(function(D,M){k.set(L.next[G],"["+M+"]",D)}):k.set(H.next,"."+G,R)}),ht(L,k,T,!0,!0),[xs,Oa,Gs,Ra,ks].forEach(function(G){var U=T.draw[G];U&&k.set(H.draw,"."+G,""+U.append(L,k))}),Object.keys(T.uniforms).forEach(function(G){var U=T.uniforms[G].append(L,k);Array.isArray(U)&&(U="["+U.join()+"]"),k.set(H.uniforms,"["+C.id(G)+"]",U)}),Object.keys(T.attributes).forEach(function(G){var U=T.attributes[G].append(L,k),R=L.scopeAttrib(G);Object.keys(new j).forEach(function(D){k.set(R,"."+D,U[D])})}),T.scopeVAO&&k.set(H.vao,".targetVAO",T.scopeVAO.append(L,k));function $(G){var U=T.shader[G];U&&k.set(H.shader,"."+G,U.append(L,k))}$(ho),$(mo),Object.keys(T.state).length>0&&(k(q,".dirty=true;"),k.exit(q,".dirty=true;")),k("a1(",L.shared.context,",a0,",L.batchId,");")}function Z(L){if(!(typeof L!="object"||tn(L))){for(var T=Object.keys(L),k=0;k<T.length;++k)if(Wn.isDynamic(L[T[k]]))return!0;return!1}}function ze(L,T,k){var H=T.static[k];if(!H||!Z(H))return;var q=L.global,$=Object.keys(H),G=!1,U=!1,R=!1,D=L.global.def("{}");$.forEach(function(Y){var W=H[Y];if(Wn.isDynamic(W)){typeof W=="function"&&(W=H[Y]=Wn.unbox(W));var ce=nr(W,null);G=G||ce.thisDep,R=R||ce.propDep,U=U||ce.contextDep}else{switch(q(D,".",Y,"="),typeof W){case"number":q(W);break;case"string":q('"',W,'"');break;case"object":Array.isArray(W)&&q("[",W.join(),"]");break;default:q(L.link(W));break}q(";")}});function M(Y,W){$.forEach(function(ce){var me=H[ce];if(Wn.isDynamic(me)){var Oe=Y.invoke(W,me);W(D,".",ce,"=",Oe,";")}})}T.dynamic[k]=new Wn.DynamicVariable(Pa,{thisDep:G,contextDep:U,propDep:R,ref:D,append:M}),delete T.static[k]}function gt(L,T,k,H,q){var $=ct();$.stats=$.link(q),Object.keys(T.static).forEach(function(U){ze($,T,U)}),uy.forEach(function(U){ze($,L,U)});var G=bn(L,T,k,H,$);return dn($,G),ee($,G),I($,G),r($.compile(),{destroy:function(){G.shader.program.destroy()}})}return{next:xe,current:Be,procs:function(){var L=ct(),T=L.proc("poll"),k=L.proc("refresh"),H=L.block();T(H),k(H);var q=L.shared,$=q.gl,G=q.next,U=q.current;H(U,".dirty=false;"),Tn(L,T),Tn(L,k,null,!0);var R;Ae&&(R=L.link(Ae)),F.oes_vertex_array_object&&k(L.link(F.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var D=0;D<Q.maxAttributes;++D){var M=k.def(q.attributes,"[",D,"]"),Y=L.cond(M,".buffer");Y.then($,".enableVertexAttribArray(",D,");",$,".bindBuffer(",wi,",",M,".buffer.buffer);",$,".vertexAttribPointer(",D,",",M,".size,",M,".type,",M,".normalized,",M,".stride,",M,".offset);").else($,".disableVertexAttribArray(",D,");",$,".vertexAttrib4f(",D,",",M,".x,",M,".y,",M,".z,",M,".w);",M,".buffer=null;"),k(Y),Ae&&k(R,".vertexAttribDivisorANGLE(",D,",",M,".divisor);")}return k(L.shared.vao,".currentVAO=null;",L.shared.vao,".setVAO(",L.shared.vao,".targetVAO);"),Object.keys(he).forEach(function(W){var ce=he[W],me=H.def(G,".",W),Oe=L.block();Oe("if(",me,"){",$,".enable(",ce,")}else{",$,".disable(",ce,")}",U,".",W,"=",me,";"),k(Oe),T("if(",me,"!==",U,".",W,"){",Oe,"}")}),Object.keys(fe).forEach(function(W){var ce=fe[W],me=Be[W],Oe,it,Ke=L.block();if(Ke($,".",ce,"("),tn(me)){var Ue=me.length;Oe=L.global.def(G,".",W),it=L.global.def(U,".",W),Ke(Yn(Ue,function(pe){return Oe+"["+pe+"]"}),");",Yn(Ue,function(pe){return it+"["+pe+"]="+Oe+"["+pe+"];"}).join("")),T("if(",Yn(Ue,function(pe){return Oe+"["+pe+"]!=="+it+"["+pe+"]"}).join("||"),"){",Ke,"}")}else Oe=H.def(G,".",W),it=H.def(U,".",W),Ke(Oe,");",U,".",W,"=",Oe,";"),T("if(",Oe,"!==",it,"){",Ke,"}");k(Ke)}),L.compile()}(),compile:gt}}function Ry(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var My=34918,Iy=34919,a1=35007,Dy=function(_,C){if(!C.ext_disjoint_timer_query)return null;var F=[];function Q(){return F.pop()||C.ext_disjoint_timer_query.createQueryEXT()}function ue(Ae){F.push(Ae)}var K=[];function ie(Ae){var Ve=Q();C.ext_disjoint_timer_query.beginQueryEXT(a1,Ve),K.push(Ve),_e(K.length-1,K.length,Ae)}function be(){C.ext_disjoint_timer_query.endQueryEXT(a1)}function ve(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Te=[];function Pe(){return Te.pop()||new ve}function Ce(Ae){Te.push(Ae)}var Re=[];function _e(Ae,Ve,ge){var Be=Pe();Be.startQueryIndex=Ae,Be.endQueryIndex=Ve,Be.sum=0,Be.stats=ge,Re.push(Be)}var Se=[],j=[];function se(){var Ae,Ve,ge=K.length;if(ge!==0){j.length=Math.max(j.length,ge+1),Se.length=Math.max(Se.length,ge+1),Se[0]=0,j[0]=0;var Be=0;for(Ae=0,Ve=0;Ve<K.length;++Ve){var xe=K[Ve];C.ext_disjoint_timer_query.getQueryObjectEXT(xe,Iy)?(Be+=C.ext_disjoint_timer_query.getQueryObjectEXT(xe,My),ue(xe)):K[Ae++]=xe,Se[Ve+1]=Be,j[Ve+1]=Ae}for(K.length=Ae,Ae=0,Ve=0;Ve<Re.length;++Ve){var et=Re[Ve],he=et.startQueryIndex,fe=et.endQueryIndex;et.sum+=Se[fe]-Se[he];var He=j[he],Me=j[fe];Me===He?(et.stats.gpuTime+=et.sum/1e6,Ce(et)):(et.startQueryIndex=He,et.endQueryIndex=Me,Re[Ae++]=et)}Re.length=Ae}}return{beginQuery:ie,endQuery:be,pushScopeStats:_e,update:se,getNumPendingQueries:function(){return K.length},clear:function(){F.push.apply(F,K);for(var Ae=0;Ae<F.length;Ae++)C.ext_disjoint_timer_query.deleteQueryEXT(F[Ae]);K.length=0,F.length=0},restore:function(){K.length=0,F.length=0}}},Fy=16384,xy=256,ky=1024,Gy=34962,l1="webglcontextlost",c1="webglcontextrestored",f1=1,By=2,Ny=3;function u1(_,C){for(var F=0;F<_.length;++F)if(_[F]===C)return F;return-1}function $y(_){var C=ac(_);if(!C)return null;var F=C.gl,Q=F.getContextAttributes(),ue=F.isContextLost(),K=lc(F,C);if(!K)return null;var ie=nc(),be=Ry(),ve=K.extensions,Te=Dy(F,ve),Pe=ia(),Ce=F.drawingBufferWidth,Re=F.drawingBufferHeight,_e={tick:0,time:0,viewportWidth:Ce,viewportHeight:Re,framebufferWidth:Ce,framebufferHeight:Re,drawingBufferWidth:Ce,drawingBufferHeight:Re,pixelRatio:C.pixelRatio},Se={},j={elements:null,primitive:4,count:-1,offset:0,instances:-1},se=Cb(F,ve),Ae=Ub(F,be,C,Be),Ve=e_(F,ve,Ae,be),ge=ey(F,ve,se,be,Ae,Ve,j);function Be(nt){return ge.destroyBuffer(nt)}var xe=sy(F,ie,be,C),et=M_(F,ve,se,function(){He.procs.poll()},_e,be,C),he=I_(F,ve,se,be,C),fe=Q_(F,ve,se,et,he,be),He=Oy(F,ie,ve,se,Ae,Ve,et,fe,Se,ge,xe,j,_e,Te,C),Me=ay(F,fe,He.procs.poll,_e,Q,ve,se),ye=He.next,Ie=F.canvas,De=[],ft=[],ct=[],ke=[C.onDestroy],Ne=null;function rt(){if(De.length===0){Te&&Te.update(),Ne=null;return}Ne=to.next(rt),Nn();for(var nt=De.length-1;nt>=0;--nt){var _t=De[nt];_t&&_t(_e,null,0)}F.flush(),Te&&Te.update()}function ut(){!Ne&&De.length>0&&(Ne=to.next(rt))}function bt(){Ne&&(to.cancel(rt),Ne=null)}function nn(nt){nt.preventDefault(),ue=!0,bt(),ft.forEach(function(_t){_t()})}function rn(nt){F.getError(),ue=!1,K.restore(),xe.restore(),Ae.restore(),et.restore(),he.restore(),fe.restore(),ge.restore(),Te&&Te.restore(),He.procs.refresh(),ut(),ct.forEach(function(_t){_t()})}Ie&&(Ie.addEventListener(l1,nn,!1),Ie.addEventListener(c1,rn,!1));function St(){De.length=0,bt(),Ie&&(Ie.removeEventListener(l1,nn),Ie.removeEventListener(c1,rn)),xe.clear(),fe.clear(),he.clear(),ge.clear(),et.clear(),Ve.clear(),Ae.clear(),Te&&Te.clear(),ke.forEach(function(nt){nt()})}function En(nt){P(!!nt,"invalid args to regl({...})"),P.type(nt,"object","invalid args to regl({...})");function _t(q){var $=r({},q);delete $.uniforms,delete $.attributes,delete $.context,delete $.vao,"stencil"in $&&$.stencil.op&&($.stencil.opBack=$.stencil.opFront=$.stencil.op,delete $.stencil.op);function G(U){if(U in $){var R=$[U];delete $[U],Object.keys(R).forEach(function(D){$[U+"."+D]=R[D]})}}return G("blend"),G("depth"),G("cull"),G("stencil"),G("polygonOffset"),G("scissor"),G("sample"),"vao"in q&&($.vao=q.vao),$}function Pt(q,$){var G={},U={};return Object.keys(q).forEach(function(R){var D=q[R];if(Wn.isDynamic(D)){U[R]=Wn.unbox(D,R);return}else if($&&Array.isArray(D)){for(var M=0;M<D.length;++M)if(Wn.isDynamic(D[M])){U[R]=Wn.unbox(D,R);return}}G[R]=D}),{dynamic:U,static:G}}var dn=Pt(nt.context||{},!0),Rr=Pt(nt.uniforms||{},!0),Ns=Pt(nt.attributes||{},!1),I=Pt(_t(nt),!1),ee={gpuTime:0,cpuTime:0,count:0},Z=He.compile(I,Ns,Rr,dn,ee),ze=Z.draw,gt=Z.batch,L=Z.scope,T=[];function k(q){for(;T.length<q;)T.push(null);return T}function H(q,$){var G;if(ue&&P.raise("context lost"),typeof q=="function")return L.call(this,null,q,0);if(typeof $=="function")if(typeof q=="number")for(G=0;G<q;++G)L.call(this,null,$,G);else if(Array.isArray(q))for(G=0;G<q.length;++G)L.call(this,q[G],$,G);else return L.call(this,q,$,0);else if(typeof q=="number"){if(q>0)return gt.call(this,k(q|0),q|0)}else if(Array.isArray(q)){if(q.length)return gt.call(this,q,q.length)}else return ze.call(this,q)}return r(H,{stats:ee,destroy:function(){Z.destroy()}})}var qt=fe.setFBO=En({framebuffer:Wn.define.call(null,f1,"framebuffer")});function bn(nt,_t){var Pt=0;He.procs.poll();var dn=_t.color;dn&&(F.clearColor(+dn[0]||0,+dn[1]||0,+dn[2]||0,+dn[3]||0),Pt|=Fy),"depth"in _t&&(F.clearDepth(+_t.depth),Pt|=xy),"stencil"in _t&&(F.clearStencil(_t.stencil|0),Pt|=ky),P(!!Pt,"called regl.clear with no buffer specified"),F.clear(Pt)}function wn(nt){if(P(typeof nt=="object"&&nt,"regl.clear() takes an object as input"),"framebuffer"in nt)if(nt.framebuffer&&nt.framebuffer_reglType==="framebufferCube")for(var _t=0;_t<6;++_t)qt(r({framebuffer:nt.framebuffer.faces[_t]},nt),bn);else qt(nt,bn);else bn(null,nt)}function Tn(nt){P.type(nt,"function","regl.frame() callback must be a function"),De.push(nt);function _t(){var Pt=u1(De,nt);P(Pt>=0,"cannot cancel a frame twice");function dn(){var Rr=u1(De,dn);De[Rr]=De[De.length-1],De.length-=1,De.length<=0&&bt()}De[Pt]=dn}return ut(),{cancel:_t}}function xn(){var nt=ye.viewport,_t=ye.scissor_box;nt[0]=nt[1]=_t[0]=_t[1]=0,_e.viewportWidth=_e.framebufferWidth=_e.drawingBufferWidth=nt[2]=_t[2]=F.drawingBufferWidth,_e.viewportHeight=_e.framebufferHeight=_e.drawingBufferHeight=nt[3]=_t[3]=F.drawingBufferHeight}function Nn(){_e.tick+=1,_e.time=ht(),xn(),He.procs.poll()}function un(){et.refresh(),xn(),He.procs.refresh(),Te&&Te.update()}function ht(){return(ia()-Pe)/1e3}un();function $n(nt,_t){P.type(_t,"function","listener callback must be a function");var Pt;switch(nt){case"frame":return Tn(_t);case"lost":Pt=ft;break;case"restore":Pt=ct;break;case"destroy":Pt=ke;break;default:P.raise("invalid event, must be one of frame,lost,restore,destroy")}return Pt.push(_t),{cancel:function(){for(var dn=0;dn<Pt.length;++dn)if(Pt[dn]===_t){Pt[dn]=Pt[Pt.length-1],Pt.pop();return}}}}var xt=r(En,{clear:wn,prop:Wn.define.bind(null,f1),context:Wn.define.bind(null,By),this:Wn.define.bind(null,Ny),draw:En({}),buffer:function(nt){return Ae.create(nt,Gy,!1,!1)},elements:function(nt){return Ve.create(nt,!1)},texture:et.create2D,cube:et.createCube,renderbuffer:he.create,framebuffer:fe.create,framebufferCube:fe.createCube,vao:ge.createVAO,attributes:Q,frame:Tn,on:$n,limits:se,hasExtension:function(nt){return se.extensions.indexOf(nt.toLowerCase())>=0},read:Me,destroy:St,_gl:F,_refresh:un,poll:function(){Nn(),Te&&Te.update()},now:ht,stats:be});return C.onDone(null,xt),xt}return $y})}(Sf)),Sf.exports}const u3=c3,d3=Rl,h3=e=>{const n=Object.assign({},{},e.glOptions,{onDone:(o,a)=>{if(o)throw o}}),r=f3()(n),s=new Map,i=o=>{o.rendering=Object.assign({},d3,o.rendering),u3(r)(o,a=>{r.clear({color:o.rendering.background,depth:1}),o.entities&&o.entities.sort((l,c)=>{const f="transparent"in l.visuals?l.visuals.transparent:!1,u="transparent"in c.visuals?c.visuals.transparent:!1;return f===u?0:f?1:-1}).forEach(l=>{const{visuals:c}=l;if(("show"in c?c.show:!0)&&c.drawCmd&&o.drawCommands[c.drawCmd]){let u;c.cacheId?u=s.get(c.cacheId):(c.cacheId=s.size,u=o.drawCommands[c.drawCmd](r,l),s.set(c.cacheId,u));const d={...l,...c,camera:o.camera};u(d)}})})};return function(a){r.poll(),i(a)}};var m3=h3,Ef,k1;function G1(){if(k1)return Ef;k1=1;const e=yr;return Ef=(n,r={})=>{const s=[],i={visuals:{color:[0,0,1,1],fadeOut:!1},ticks:1,size:[16,16],centered:!1,lineWidth:2},o=Object.assign({},i.visuals,r.visuals||{}),{fadeOut:a,color:l}=o,{size:c,ticks:f,centered:u,lineWidth:d}=Object.assign({},i,r),h=c[0],g=c[1];if(u){const p=h*.5,m=g*.5,v=p%f,b=-p+v,y=-b,S=m%f,w=-m+S,E=-w,A=0;for(let O=b,z=0;O<=y;O+=f,z+=1)z%A!==0&&(s.push(w,O,0),s.push(E,O,0),s.push(w,O,0));for(let O=w,z=0;O<=E;O+=f,z+=1)z%A!==0&&(s.push(O,b,0),s.push(O,y,0),s.push(O,b,0))}else{for(let p=-h*.5;p<=h*.5;p+=f)s.push(-g*.5,p,0),s.push(g*.5,p,0),s.push(-g*.5,p,0);for(let p=-g*.5;p<=g*.5;p+=f)s.push(p,-h*.5,0),s.push(p,h*.5,0),s.push(p,-h*.5,0)}return n({vert:`precision mediump float;

    uniform float camNear, camFar;
    uniform mat4 model, view, projection;

    attribute vec3 position;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    void main() {
      fragPosition = position;
      worldPosition = model * vec4(position, 1);
      vec4 glPosition = projection * view * worldPosition;
      gl_Position = glPosition;
    }`,frag:`precision mediump float;
    uniform vec4 color;
    varying vec3 fragNormal, fragPosition;
    varying vec4 worldPosition;

    uniform vec4 fogColor;
    uniform bool fadeOut;
    void main() {
      float dist = .5;
      if(fadeOut){
        dist = distance( vec2(0.,0.), vec2(worldPosition.x, worldPosition.y));
        dist *= 0.0025;
        dist = sqrt(dist);
      }

      gl_FragColor = mix(color, fogColor, dist);
    }
    `,attributes:{position:n.buffer(s)},count:s.length/3,uniforms:{model:(p,m)=>m&&m.model?m.model:e.identity([]),color:(p,m)=>m&&m.color?m.color:l,fogColor:(p,m)=>m&&m.color?[m.color[0],m.color[1],m.color[2],0]:[l[0],l[1],l[2],0],fadeOut:(p,m)=>m&&m.fadeOut!==void 0?m.fadeOut:a},lineWidth:(p,m)=>Math.min(m&&m.lineWidth?m.lineWidth:d,n.limits.lineWidthDims[1]),primitive:"lines",cull:{enable:!0,face:"front"},polygonOffset:{enable:!0,offset:{factor:1,units:Math.random()*10}},blend:{enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}})},Ef}const p3=(e,t)=>{const n={size:[50,50],ticks:[10,1]},{size:r,ticks:s}=Object.assign({},n,t),i=G1()(e,{size:r,ticks:s[0]}),o=G1()(e,{size:r,ticks:s[1]});return l=>{i(l),o({color:l.subColor,fadeOut:l.fadeOut})}};var g3=p3;const Zn=yr,v3=(e,t)=>{const n={xColor:[1,0,0,1],yColor:[0,1,0,1],zColor:[0,0,1,1],size:10,lineWidth:3,alwaysVisible:!0};let{size:r,xColor:s,yColor:i,zColor:o,lineWidth:a,alwaysVisible:l}=Object.assign({},n,t);a>e.limits.lineWidthDims[1]&&(a=e.limits.lineWidthDims[1]);const c=[0,0,0,r,0,0],f={frag:`precision mediump float;
    uniform vec4 color;
    void main() {
      gl_FragColor = color;
    }`,vert:`
    precision mediump float;
    attribute vec3 position;
    uniform mat4 model, view, projection;
    void main() {
      gl_Position = projection * view * model * vec4(position, 1);
    }`,uniforms:{model:(p,m)=>m&&m.model?m.model:Zn.identity([]),color:(p,m)=>m.color,angle:(p,m)=>m.angle},attributes:{position:c},count:c.length/3,primitive:"line loop",lineWidth:a,depth:{enable:!l}},u=Zn.identity([]),d=Zn.rotateZ(Zn.create(),Zn.identity([]),Math.PI/2),h=Zn.rotateY(Zn.create(),Zn.identity([]),-Math.PI/2),g=e(f);return p=>{const m={model:Zn.identity([])};return p=Object.assign({},m,p),g([{color:s,model:Zn.multiply(Zn.create(),p.model,u)},{color:i,model:Zn.multiply(Zn.create(),p.model,d)},{color:o,model:Zn.multiply(Zn.create(),p.model,h)}])}};var b3=v3,wf,B1;function N1(){return B1||(B1=1,wf={frag:`
precision mediump float;
varying vec3 surfaceNormal, surfacePosition;

uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform float specularLightAmount;

uniform vec3 lightDirection;
uniform vec4 lightColor;
uniform vec3 opacity;
uniform float uMaterialShininess;

varying vec4 vColor;
uniform vec4 ucolor;
uniform float vColorToggler;

uniform vec2 printableArea;
vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);//vec4(0.15, 0.15, 0.15, 0.3);
varying vec4 _worldSpacePosition;
varying float ambientAo;

void main () {
  vec4 depth = gl_FragCoord;
  vec4 endColor = vColor * vColorToggler + ucolor * (1.0 - vColorToggler);

  vec3 ambient = ambientLightAmount * endColor.rgb ; //ambientAo * 

  float diffuseWeight = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(diffuseWeight , 0.0, 1.0 );

  //specular
  
  vec4 specularColor = vec4(lightColor);
  vec3 eyeDirection = normalize(surfacePosition.xyz);
  vec3 reflectionDirection = reflect(-lightDirection, -surfaceNormal);
  float specularLightWeight = pow(max(dot(reflectionDirection, eyeDirection), 0.0), uMaterialShininess);
  vec3 specular = specularColor.rgb * specularLightWeight * specularLightAmount;

  gl_FragColor = vec4((ambient + diffuse + specular), endColor.a);
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection, unormal;

attribute vec3 position, normal;
attribute vec4 color;

attribute float ao;
varying float ambientAo;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  surfacePosition = (unormal * vec4(position, 1.0)).xyz;
  surfaceNormal = normalize((unormal * vec4(normal, 1.0)).xyz); //vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;
  //gl_Position = projection * view * worldSpacePosition;

  vColor = color;

  //ambientAo = (1. - ao) * (0.5 * max(normal.x, 0.) + 0.5);

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
  //gl_Position = zBufferAdjust(glPosition, camNear, camFar);
}
`}),wf}var Tf,$1;function V1(){return $1||($1=1,Tf={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;

void main() {
  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Tf}const fs=yr,{meshColor:_3}=Rl,y3=(e,t={extras:{}})=>{const n={useVertexColors:!0,dynamicCulling:!0,geometry:void 0,color:_3,visuals:{}},{geometry:r,dynamicCulling:s,useVertexColors:i,color:o,visuals:a}=Object.assign({},n,t),l=e.buffer([]),c=!!(r.indices&&r.indices.length>0),f=!!(r.normals&&r.normals.length>0),u="transparent"in a?a.transparent:!1,d=!!(i&&r.colors&&r.colors.length>0),h=r.transforms||fs.create(),g=fs.determinant(h)<0,p=s&&g?"front":"back",m=d?N1().vert:V1().vert,v=d?N1().frag:V1().frag,b=fs.invert(fs.create(),h);let y={primitive:"triangles",vert:m,frag:v,uniforms:{model:(S,w)=>h,ucolor:(S,w)=>w&&w.color?w.color:o,vColorToggler:(S,w)=>w&&w.useVertexColors&&w.useVertexColors===!0?1:0,unormal:(S,w)=>{const E=fs.invert(fs.create(),w.camera.view);return fs.multiply(E,b,E),fs.transpose(E,E),E}},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions}),ao:l},cull:{enable:!0,face:p}};return u&&(y.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),r.cells?y.elements=r.cells:c?y.elements=e.elements({usage:"static",type:"uint16",data:r.indices}):r.triangles?y.elements=r.triangles:y.count=r.positions.length/3,f&&(y.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),d&&(y.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),y=Object.assign({},y,t.extras),e(y)};var A3=y3,Cf,U1;function z1(){return U1||(U1=1,Cf={frag:`
precision mediump float;
varying vec4 vColor;

void main () {
  gl_FragColor = vColor;
}
`,vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;
attribute vec4 color;

varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;
varying vec4 vColor;

void main() {
  vColor = color;

  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`}),Cf}var Pf,H1;function S3(){return H1||(H1=1,Pf={vert:`
precision mediump float;

uniform float camNear, camFar;
uniform mat4 model, view, projection;

attribute vec3 position, normal;


varying vec3 surfaceNormal, surfacePosition;
varying vec4 _worldSpacePosition;


void main() {


  surfacePosition = position;
  surfaceNormal = normal;
  vec4 worldSpacePosition = model * vec4(position, 1);
  _worldSpacePosition = worldSpacePosition;

  vec4 glPosition = projection * view * model * vec4(position, 1);
  gl_Position = glPosition;
}
`,frag:`
precision mediump float;
varying vec3 surfaceNormal;
uniform float ambientLightAmount;
uniform float diffuseLightAmount;
uniform vec4 ucolor;
uniform vec3 lightDirection;
uniform vec3 opacity;

varying vec4 _worldSpacePosition;

uniform vec2 printableArea;

vec4 errorColor = vec4(0.15, 0.15, 0.15, 0.3);

void main () {
  vec4 depth = gl_FragCoord;

  float v = 0.8; // shadow value
  vec4 endColor = ucolor;

  vec3 ambient = ambientLightAmount * endColor.rgb;
  float cosTheta = dot(surfaceNormal, lightDirection);
  vec3 diffuse = diffuseLightAmount * endColor.rgb * clamp(cosTheta , 0.0, 1.0 );

  float cosTheta2 = dot(surfaceNormal, vec3(-lightDirection.x, -lightDirection.y, lightDirection.z));
  vec3 diffuse2 = diffuseLightAmount * endColor.rgb * clamp(cosTheta2 , 0.0, 1.0 );

  gl_FragColor = vec4((ambient + diffuse + diffuse2 * v), endColor.a);
}`}),Pf}var Lf,j1;function E3(){return j1||(j1=1,Lf={frag:`
precision mediump float;
uniform vec4 ucolor;

void main () {
  gl_FragColor = ucolor;
}
`}),Lf}const w3=yr,{meshColor:T3}=Rl,C3=(e,t={})=>{const n={color:T3,geometry:void 0};let{geometry:r,color:s,transparent:i}=Object.assign({},n,t);"color"in r&&(s=r.color);const o=!!(r.indices&&r.indices.length>0),a=!!(r.normals&&r.normals.length>0),l=!!(r.colors&&r.colors.length>0),c=l?z1().vert:S3().vert,f=l?z1().frag:E3().frag,u={primitive:"lines",vert:c,frag:f,uniforms:{model:(d,h)=>h.model||r.transforms||w3.create(),ucolor:(d,h)=>h&&h.color?h.color:s},attributes:{position:e.buffer({usage:"static",type:"float",data:r.positions})}};return i&&(u.blend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}}),l&&(u.attributes.color=e.buffer({usage:"static",type:"float",data:r.colors})),o&&(u.elements=e.elements({usage:"static",type:"uint16",data:r.indices})),a&&(u.attributes.normal=e.buffer({usage:"static",type:"float",data:r.normals})),e(u)};var P3=C3,Gg=1e-6,Bg=L3;function L3(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}var O3=R3;function R3(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}var Ng=M3;function M3(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}var $g=I3;function I3(e,t){var n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}var Vg=D3;function D3(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}var F3=k3,q1=Ng,X1=$g,x3=Vg;function k3(e,t){var n=q1(e[0],e[1],e[2]),r=q1(t[0],t[1],t[2]);X1(n,n),X1(r,r);var s=x3(n,r);return s>1?0:Math.acos(s)}var G3=B3;function B3(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}var N3=$3;function $3(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}var V3=U3,Of=Gg;function U3(e,t){var n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2];return Math.abs(n-i)<=Of*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=Of*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-a)<=Of*Math.max(1,Math.abs(s),Math.abs(a))}var z3=H3;function H3(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var j3=q3;function q3(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var Ug=X3;function X3(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}var W3=Ug,zg=Y3;function Y3(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}var Z3=zg,Hg=K3;function K3(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}var Q3=Hg,J3=eS;function eS(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}var tS=nS;function nS(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}var rS=sS;function sS(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}var iS=oS;function oS(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}var aS=lS;function lS(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}var cS=fS;function fS(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}var uS=dS;function dS(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}var jg=hS;function hS(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)}var mS=jg,qg=pS;function pS(e,t){var n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s}var gS=qg,Xg=vS;function vS(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}var bS=Xg,Wg=_S;function _S(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}var yS=Wg,AS=SS;function SS(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}var ES=wS;function wS(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}var TS=CS;function CS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e}var PS=LS;function LS(e,t,n,r){var s=t[0],i=t[1],o=t[2];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}var OS=RS;function RS(e,t){t=t||1;var n=Math.random()*2*Math.PI,r=Math.random()*2-1,s=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=r*t,e}var MS=IS;function IS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e}var DS=FS;function FS(e,t,n){var r=t[0],s=t[1],i=t[2];return e[0]=r*n[0]+s*n[3]+i*n[6],e[1]=r*n[1]+s*n[4]+i*n[7],e[2]=r*n[2]+s*n[5]+i*n[8],e}var xS=kS;function kS(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2],c=n[3],f=c*r+a*i-l*s,u=c*s+l*r-o*i,d=c*i+o*s-a*r,h=-o*r-a*s-l*i;return e[0]=f*c+h*-o+u*-l-d*-a,e[1]=u*c+h*-a+d*-o-f*-l,e[2]=d*c+h*-l+f*-a-u*-o,e}var GS=BS;function BS(e,t,n,r){var s=n[1],i=n[2],o=t[1]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=t[0],e[1]=s+o*c-a*l,e[2]=i+o*l+a*c,e}var NS=$S;function $S(e,t,n,r){var s=n[0],i=n[2],o=t[0]-s,a=t[2]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+a*l+o*c,e[1]=t[1],e[2]=i+a*c-o*l,e}var VS=US;function US(e,t,n,r){var s=n[0],i=n[1],o=t[0]-s,a=t[1]-i,l=Math.sin(r),c=Math.cos(r);return e[0]=s+o*c-a*l,e[1]=i+o*l+a*c,e[2]=t[2],e}var zS=HS,us=Bg();function HS(e,t,n,r,s,i){var o,a;for(t||(t=3),n||(n=0),r?a=Math.min(r*t+n,e.length):a=e.length,o=n;o<a;o+=t)us[0]=e[o],us[1]=e[o+1],us[2]=e[o+2],s(us,us,i),e[o]=us[0],e[o+1]=us[1],e[o+2]=us[2];return e}var Yo={EPSILON:Gg,create:Bg,clone:O3,angle:F3,fromValues:Ng,copy:G3,set:N3,equals:V3,exactEquals:z3,add:j3,subtract:Ug,sub:W3,multiply:zg,mul:Z3,divide:Hg,div:Q3,min:J3,max:tS,floor:rS,ceil:iS,round:aS,scale:cS,scaleAndAdd:uS,distance:jg,dist:mS,squaredDistance:qg,sqrDist:gS,length:Xg,len:bS,squaredLength:Wg,sqrLen:yS,negate:AS,inverse:ES,normalize:$g,dot:Vg,cross:TS,lerp:PS,random:OS,transformMat4:MS,transformMat3:DS,transformQuat:xS,rotateX:GS,rotateY:NS,rotateZ:VS,forEach:zS};const ni=yr,Rf=Yo,Yg={view:ni.identity(new Float32Array(16)),projection:ni.identity(new Float32Array(16)),matrix:ni.identity(new Float32Array(16)),near:1,far:18e3,up:[0,0,1],eye:new Float32Array(3),position:[450,550,700],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],projectionType:"perspective"},Zg={},jS=Object.assign({},Yg,Zg),qS=(e,t,n)=>{const r=n.width/n.height,s=ni.perspective(ni.identity([]),t.fov,r,t.near,t.far),i=[0,0,n.width,n.height],o=e||{};return o.projection=s,o.aspect=r,o.viewport=i,o},XS=(e,t)=>{t||(t=e);const{position:n,target:r,up:s}=t,i=Rf.subtract([],n,r),o=Rf.add(Rf.create(),r,i),a=ni.lookAt(ni.create(),o,r,s),l=e||{};return l.position=o,l.view=a,l};var Gu={cameraState:Yg,cameraProps:Zg,defaults:jS,setProjection:qS,update:XS};const vl=yr,WS={view:vl.identity(new Float32Array(16)),projection:vl.identity(new Float32Array(16)),matrix:vl.identity(new Float32Array(16)),near:1,far:1300,up:[0,0,1],eye:new Float32Array(3),position:[150,250,200],target:[0,0,0],fov:Math.PI/4,aspect:1,viewport:[0,0,0,0],zoom:1,projectionType:"orthographic"},YS={},ZS=(e,t)=>{const{width:n,height:r}=t,s=n/r,i=[0,0,n,r],o=e.zoom,a=-n*o,l=n*o,c=-r*o,f=r*o;return{projection:vl.ortho([],a,l,c,f,e.near,e.far),aspect:s,viewport:i}};var Al={cameraState:WS,cameraProps:YS,setProjection:ZS};const Ui=Yo,Sl=yr,KS=e=>{const{near:t,far:n,fov:r,zoom:s}=e,{viewport:i}=e,o=Gu.setProjection(e,{width:i[2],height:i[3]}),{projectionType:a}=Gu.cameraState;return Object.assign({},e,o,{projectionType:a},{near:t,far:n,fov:r})},QS=e=>{const{fov:t,aspect:n}=e,r=Ui.length(Ui.subtract([],e.position,e.target))*.3,s=Math.tan(t)*r*n,i=Math.tan(t)*r,{near:o,far:a,viewport:l}=e,c={zoom:1,near:o,far:a},f=Al.cameraState,u=Al.setProjection(c,{width:s,height:i});return Object.assign({},f,e,u,{projectionType:f.projectionType,viewport:l})},JS=({camera:e})=>{const n=Ui.distance(e.position,e.target),r=[n,n,n];return{view:Sl.lookAt(Sl.create(),r,e.target,e.up),position:r}},eE=(e,{camera:t})=>{const n={top:[0,-1e-6,1],bottom:[0,0,-1],front:[0,1,0],back:[0,-1,0],left:[-1,0,0],right:[1,0,0],undefined:[0,0,0]},r=Ui.distance(t.position,t.target),s=Ui.add(Ui.create(),n[e].map(o=>o*r),t.target);return{view:Sl.lookAt(Sl.create(),s,t.target,t.up),position:s}};var tE={toPerspectiveView:JS,toPresetView:eE,fromOrthographicToPerspective:KS,fromPerspectiveToOrthographic:QS};const Kg=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Kg(n)):t.concat(n),[]);var nE=Kg;const rE=(e,t)=>e-t;var sE=rE;const iE=e=>{if(!(!Array.isArray(e)||e.length===0))return e[0]};var oE=iE;const aE=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}return e.splice(r,0,t),e};var lE=aE;const cE=(e,t)=>{if(!(!Array.isArray(e)||e.length<t))return e[t]};var fE=cE;const uE=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var dE=uE;const hE=e=>Array.isArray(e)?e:e==null?[]:[e];var mE=hE,Ku={flatten:nE,fnNumberSort:sE,head:oE,insertSorted:lE,nth:fE,padToLength:dE,toArray:mE};const pE=e=>{if(e.length===0)return[[0,0,0],[0,0,0]];const t=Array.isArray(e)&&Array.isArray(e[0]),n=t?e[0].length:3,r=new Array(n),s=new Array(n);for(let i=0;i<n;i+=1)r[i]=1/0,s[i]=-1/0;if(t)e.forEach(i=>{for(let o=0;o<n;o+=1){const a=t?i[o]:i;s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}});else for(let i=0;i<e.length;i+=n)for(let o=0;o<n;o+=1){const a=e[o+i];s[o]=a>s[o]?a:s[o],r[o]=a<r[o]?a:r[o]}return[r,s]};var gE=pE;const fr=Yo,{flatten:vE}=Ku,bE=gE,_E=(...e)=>{e=vE(e);let t;e.forEach(l=>{let c=bE(l.positions);c=c.map(f=>fr.transformMat4(f,f,l.transforms)),t?(fr.min(t[0],t[0],c[0]),fr.max(t[1],t[1],c[1])):t=c});const n=fr.min(fr.create(),t[1],t[0]),r=fr.max(fr.create(),t[1],t[0]),s=fr.subtract(fr.create(),r,n);let i=fr.scale(fr.create(),s,.5);return i=fr.add(i,n,i),{dia:fr.distance(i,r),center:[...i],min:[...n],max:[...r],size:[...s]}};var yE=_E,Mf,W1;function AE(){if(W1)return Mf;W1=1,Mf=e;function e(t,n,r){var s=n[0],i=n[1],o=n[2],a=r[0],l=r[1],c=r[2],f=r[3],u=r[4],d=r[5],h=r[6],g=r[7],p=r[8],m=r[9],v=r[10],b=r[11],y=r[12],S=r[13],w=r[14],E=r[15],A=1/(s*f+i*g+o*b+E);return t[0]=(s*a+i*u+o*p+y)*A,t[1]=(s*l+i*d+o*m+S)*A,t[2]=(s*c+i*h+o*v+w)*A,t}return Mf}var If,Y1;function SE(){if(Y1)return If;Y1=1;var e=AE();If=t;function t(n,r,s,i){var o=s[0],a=s[1],l=s[2],c=s[3],f=r[0],u=r[1],d=r[2];return f=f-o,u=c-u-1,u=u-a,n[0]=2*f/l-1,n[1]=2*u/c-1,n[2]=2*d-1,e(n,n,i)}return If}const er=Yo,jo=yr,{max:Df,min:Ff,sqrt:Z1,PI:EE,sin:Li,cos:qa,atan2:Xa}=Math,wE=yE,Qu={limits:{minDistance:.01,maxDistance:1e4},drag:.27,EPS:1e-6,zoomToFit:{auto:!0,targets:"all",tightness:1.5},userControl:{zoom:!0,zoomSpeed:1,rotate:!0,rotateSpeed:1,pan:!0,panSpeed:1},autoRotate:{enabled:!1,speed:1},autoAdjustPlanes:!0},Qg={thetaDelta:0,phiDelta:0,scale:1},TE=Object.assign({},Qg,Qu),CE=({controls:e,camera:t},n)=>{const{EPS:r,drag:s}=e,{position:i,target:o}=t,a=e.up?e.up:t.up;let l=e.thetaDelta;const c=e.phiDelta,f=e.scale,u=er.subtract([],i,o);let d,h;a[2]===1?(d=Xa(u[0],u[1]),h=Xa(Z1(u[0]*u[0]+u[1]*u[1]),u[2])):(d=Xa(u[0],u[2]),h=Xa(Z1(u[0]*u[0]+u[2]*u[2]),u[1])),e.autoRotate.enabled&&e.userControl.rotate&&(l+=2*Math.PI/60/60*e.autoRotate.speed),d+=l,h+=c,h=Df(r,Ff(EE-r,h));const g=Df(e.limits.minDistance,Ff(e.limits.maxDistance,er.length(u)*f));a[2]===1?(u[0]=g*Li(h)*Li(d),u[2]=g*qa(h),u[1]=g*Li(h)*qa(d)):(u[0]=g*Li(h)*Li(d),u[1]=g*qa(h),u[2]=g*Li(h)*qa(d));const p=er.add(er.create(),o,u),m=jo.lookAt(jo.create(),p,o,a),v=1-Df(Ff(s,1),.01),b=er.distance(i,p)>.001;return{controls:{thetaDelta:l*v,phiDelta:c*v,scale:1,changed:b},camera:{position:p,view:m}}},PE=({controls:e,camera:t,speed:n=1},r)=>{let{thetaDelta:s,phiDelta:i}=e;return e.userControl.rotate&&(s+=r[0]*n,i+=r[1]*n),{controls:{thetaDelta:s,phiDelta:i},camera:t}},LE=({controls:e,camera:t,speed:n=1},r=0)=>{let{scale:s}=e;if(e.userControl.zoom&&t&&r!==void 0&&r!==0&&!isNaN(r)){const i=Math.sign(r)===0?1:Math.sign(r);r=r/r*i*n;const o=r+e.scale,a=er.distance(t.position,t.target)*o;if(a>e.limits.minDistance&&a<e.limits.maxDistance&&(s+=r),t.projectionType==="orthographic"){const l=er.length(er.subtract([],t.position,t.target))*.3,c=Math.tan(t.fov)*l*t.aspect,f=Math.tan(t.fov)*l;t=Al.setProjection(t,{width:c,height:f})}}return{controls:{scale:s},camera:t}},OE=({controls:e,camera:t,speed:n=1},r)=>{const s=SE(),{projection:i,view:o,viewport:a}=t,l=jo.multiply([],i,o),c=jo.invert([],l),f=[a[2],a[3],0],u=[a[2]-r[0],a[3]+r[1],0],d=s([],f,a,c),h=s([],u,a,c),g=er.distance(t.position,t.eye),p=er.subtract([],d,h).map(m=>m*n*g*e.scale);return{controls:e,camera:{position:er.add(er.create(),t.position,p),target:er.add(er.create(),t.target,p)}}},RE=({controls:e,camera:t,entities:n})=>{const{zoomToFit:r}=e;if(r.targets!=="all")return{controls:e,camera:t};if(n.length===0)return{controls:e,camera:t};const s=n.map(h=>h.geometry),i=wE(s),{fov:o,target:a,position:l}=t,{tightness:c}=Object.assign({},r,Qu.zoomToFit),f=i.dia*c/Math.tan(o/2),u=er.distance(a,l),d=f/u;return{camera:{target:i.center},controls:{scale:d}}},ME=({controls:e,camera:t},n)=>({camera:{position:n.camera.position,target:n.camera.target,projection:jo.perspective([],t.fov,t.aspect,t.near,t.far),view:n.camera.view},controls:{thetaDelta:n.controls.thetaDelta,phiDelta:n.controls.phiDelta,scale:n.controls.scale}});var IE={controlsProps:Qu,controlsState:Qg,defaults:TE,update:CE,rotate:PE,zoom:LE,pan:OE,zoomToFit:RE,reset:ME};const K1=yr,xf=Math.floor(65535/2),DE=(e,t)=>{let{color:n}=e;const r=t.sides;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=[],o=Math.floor(r.length/xf)+1,a=(c,f)=>{i.push(c,f||c)},l=[];for(let c=0;c<o;c++){const f=c*xf,u=Math.min(f+xf,r.length),d=[];for(let m=f;m<u;m++){const v=r[m];if(v.color){if(i.length===0&&d.length>0){const b=d.length;for(let y=0;y<b;y++)i.push(n)}a(v.color,v.endColor)}else i.length&&a(n);d.push([v[0][0],v[0][1],0]),d.push([v[1][0],v[1][1],0])}const h=d.map(m=>[0,0,-1]),g=d.map((m,v)=>v),p=t.transforms?K1.clone(t.transforms):K1.create();l.push({type:"2d",positions:d,normals:h,indices:g,transforms:p,color:n,colors:i,isTransparent:s})}return l};var FE=DE;const ds=Yo,Q1=yr,xE=65535,kE=(e,t)=>{let{color:n,smoothLighting:r}=e;"color"in t&&(n=t.color);const s=t.polygons,i=t.transforms?Q1.clone(t.transforms):Q1.create(),o=[];let a=0;for(;a<s.length;){let l=0,c=a;for(let m=a;m<s.length&&(l+=s[m].vertices.length,!(l>xE));m++)c++;const f=[],u=[],d=[],h=[],g=n[3]<1;for(let m=a;m<c;m++){const v=s[m],b=v.vertices,y=BE(v),S=GE(v,n),w=[];for(let E=0;E<b.length;E++){const A=b[E];f.push(A),u.push(y),h.push(S);const O=f.length-1;w.push(O)}for(let E=2;E<w.length;E++)d.push([w[0],w[E-1],w[E]])}const p={type:"3d",positions:f,normals:u,indices:d,colors:h,transforms:i,isTransparent:g};o.push(p),a=c}return o},GE=(e,t)=>{let n=t;return e.color&&(n=e.color),n&&n.length<4&&n.push(1),n},BE=e=>{if(e.plane)return ds.clone(e.plane);const t=e.vertices,n=ds.create();ds.subtract(n,t[1],t[0]);const r=ds.create();ds.subtract(r,t[2],t[0]);const s=ds.create();return ds.cross(s,n,r),ds.normalize(s,s),s};var NE=kE;const J1=yr,kf=Math.floor(65535/2)-2,$E=(e,t)=>{let{color:n}=e;const r=t.points;if(r.length===0)return[];"color"in t&&(n=t.color);const s=n[3]<1,i=Math.floor(r.length/kf)+1,o=[];for(let a=0;a<i;a++){const l=a*kf,c=Math.min(l+kf,r.length),f=[];let u;for(let p=l;p<c;p++){const m=r[p];u&&(f.push([u[0],u[1],0]),f.push([m[0],m[1],0])),u=m}if(a+1===i&&t.isClosed&&u){const p=r[0];f.push([u[0],u[1],0]),f.push([p[0],p[1],0])}const d=f.map(p=>[0,0,-1]),h=f.map((p,m)=>m),g=t.transforms?J1.clone(t.transforms):J1.create();o.push({type:"2d",positions:f,normals:d,indices:h,transforms:g,color:n,isTransparent:s})}return o};var VE=$E;const{flatten:UE,toArray:zE}=Ku,{meshColor:HE}=Rl,jE=FE,qE=NE,XE=VE,WE=e=>e.map(n=>{const r={drawCmd:n.type==="2d"?"drawLines":"drawMesh",show:!0,transparent:n.isTransparent,useVertexColors:!0};return{geometry:n,visuals:r}}),YE=(e,...t)=>{const n={color:HE,smoothNormals:!0},{color:r,smoothNormals:s}=Object.assign({},n,e);t=UE(zE(t)),t=t.filter(o=>o&&o instanceof Object);const i=[];return t.forEach(o=>{let a=[];"sides"in o?a=jE({color:r},o):"points"in o?a=XE({color:r},o):"polygons"in o&&(a=qE({smoothLighting:s,normalThreshold:.3,color:r},o)),i.push(...WE(a))}),i};var ZE=YE,hs={prepareRender:m3,drawCommands:{drawGrid:g3,drawAxis:b3,drawMesh:A3,drawLines:P3},cameras:{camera:tE,orthographic:Al,perspective:Gu},controls:{orbit:IE},entitiesFromSolids:ZE};function KE(e){let t;return{c(){t=Et("div"),Ot(t,"class","svelte-1lbbz30")},m(n,r){we(n,t,r),e[4](t)},p:on,i:on,o:on,d(n){n&&Ee(t),e[4](null)}}}function QE(e,t,n){let r,s,{model:i}=t,o;const a=hs.cameras.perspective,l=hs.controls.orbit,c={controls:l.defaults,camera:{...a.defaults,position:[0,0,400]}};ar(()=>{s.glOptions.container=o;const u=new ResizeObserver(()=>{a.setProjection(c.camera,c.camera,{width:o.clientWidth,height:o.clientHeight}),h=!0});u.observe(o);const d=hs.prepareRender(s);let h=!0;const g=()=>{if(S[0]||S[1]){const X=l.rotate({controls:c.controls,camera:c.camera,speed:v},S);n(2,c.controls={...c.controls,...X.controls},c),h=!0,S=[0,0]}if(w[0]||w[1]){const X=l.pan({controls:c.controls,camera:c.camera,speed:b},w);n(2,c.controls={...c.controls,...X.controls},c),w=[0,0],n(2,c.camera.position=X.camera.position,c),n(2,c.camera.target=X.camera.target,c),h=!0}if(E){const X=l.zoom({controls:c.controls,camera:c.camera,speed:y},E);n(2,c.controls={...c.controls,...X.controls},c),E=0,h=!0}};let p=0,m=0;const v=.002,b=1,y=.08;let S=[0,0],w=[0,0],E=0,A=!1;const O=X=>{if(!A)return;const Fe=p-X.pageX,ne=X.pageY-m;X.shiftKey===!0||X.touches&&X.touches.length>2||X.buttons==2?(w[0]+=Fe,w[1]+=ne):(S[0]-=Fe,S[1]-=ne),p=X.pageX,m=X.pageY,X.preventDefault()},z=X=>{A=!0,p=X.pageX,m=X.pageY,o.setPointerCapture(X.pointerId)},B=X=>{A=!1,o.releasePointerCapture(X.pointerId)},x=X=>{E+=X.deltaY,X.preventDefault()};n(0,o.onpointermove=O,o),n(0,o.onpointerdown=z,o),n(0,o.onpointerup=B,o),n(0,o.onwheel=x,o),n(0,o.oncontextmenu=X=>{X.preventDefault()},o);let oe;const V=()=>{if(g(),h){const X=l.update({controls:c.controls,camera:c.camera});n(2,c.controls={...c.controls,...X.controls},c),h=c.controls.changed,n(2,c.camera.position=X.camera.position,c),a.update(c.camera),d(s)}oe=window.requestAnimationFrame(V)};return oe=window.requestAnimationFrame(V),()=>{typeof oe=="number"&&window.cancelAnimationFrame(oe),u.disconnect()}});function f(u){ot[u?"unshift":"push"](()=>{o=u,n(0,o)})}return e.$$set=u=>{"model"in u&&n(1,i=u.model)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=hs.entitiesFromSolids({},i)),e.$$.dirty&13&&(s={glOptions:{container:o},camera:c.camera,drawCommands:{drawAxis:hs.drawCommands.drawAxis,drawGrid:hs.drawCommands.drawGrid,drawLines:hs.drawCommands.drawLines,drawMesh:hs.drawCommands.drawMesh},entities:r})},[o,i,c,r,f]}class JE extends Jt{constructor(t){super(),Qt(this,t,QE,KE,Ht,{model:1})}}function ew(e){let t,n,r,s,i,o,a,l,c;return{c(){t=Et("h1"),t.textContent="Honeycomb Key Organizer Designer",n=mt(),r=Et("p"),r.innerHTML=`Inspired by different
    <a href="https://www.printables.com/model/12877-honeycomb-key-organizer">honeycomb key organizer
    </a>.`,s=mt(),i=Et("p"),i.innerHTML=`More details at
    <a href="https://www.printables.com/model/506546-customizable-honeycomb-key-organizer">Printables model page
    </a>.`,o=mt(),a=Et("p"),a.innerHTML=`<a href="https://github.com/zdila/honeycomb-key-organizer-designer">Source code</a>
    is on GitHub. This tool was possible thanks to technologies like
    <a href="https://openjscad.xyz/docs/">JSCAD</a>,
    <a href="https://sveltematerialui.com">Svelte</a>,
    <a href="https://sveltematerialui.com">SMUI</a>,
    <a href="https://vitejs.dev">Vite</a>,
    <a href="https://www.typescriptlang.org">TypeScript</a>,
    <a href="https://code.visualstudio.com">VS code</a>, Linux and others.`,l=mt(),c=Et("p"),c.innerHTML='Author: <a href="mailto:m.zdila@gmail.com">Martin Ždila</a>',Ot(t,"class","mdc-typography--headline4"),Ot(r,"class","mdc-typography--body1"),Ot(i,"class","mdc-typography--body1"),Ot(a,"class","mdc-typography--body1"),Ot(c,"class","mdc-typography--body1")},m(f,u){we(f,t,u),we(f,n,u),we(f,r,u),we(f,s,u),we(f,i,u),we(f,o,u),we(f,a,u),we(f,l,u),we(f,c,u)},p:on,d(f){f&&Ee(t),f&&Ee(n),f&&Ee(r),f&&Ee(s),f&&Ee(i),f&&Ee(o),f&&Ee(a),f&&Ee(l),f&&Ee(c)}}}function tw(e){let t,n;return t=new Ol({props:{variant:"unelevated",$$slots:{default:[ew]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,[s]){const i={};s&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}class nw extends Jt{constructor(t){super(),Qt(this,t,null,tw,Ht,{})}}const Jg=e=>e.reduce((t,n)=>Array.isArray(n)?t.concat(Jg(n)):t.concat(n),[]);var pt=Jg;const rw=e=>Object.assign({},e);var sw=rw;const iw=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e);var ow=iw;const aw=()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var Ju=aw;const lw=Ju,cw=e=>{const t=lw();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var fw=cw;const uw=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e);var ev=uw;const dw=(e,t)=>{const n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],a=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],h=t[11],g=t[12],p=t[13],m=t[14],v=t[15],b=n*a-r*o,y=n*l-s*o,S=n*c-i*o,w=r*l-s*a,E=r*c-i*a,A=s*c-i*l,O=f*p-u*g,z=f*m-d*g,B=f*v-h*g,x=u*m-d*p,oe=u*v-h*p,V=d*v-h*m;let X=b*V-y*oe+S*x+w*B-E*z+A*O;return X?(X=1/X,e[0]=(a*V-l*oe+c*x)*X,e[1]=(s*oe-r*V-i*x)*X,e[2]=(p*A-m*E+v*w)*X,e[3]=(d*E-u*A-h*w)*X,e[4]=(l*B-o*V-c*z)*X,e[5]=(n*V-s*B+i*z)*X,e[6]=(m*S-g*A-v*y)*X,e[7]=(f*A-d*S+h*y)*X,e[8]=(o*oe-a*B+c*O)*X,e[9]=(r*B-n*oe-i*O)*X,e[10]=(g*E-p*S+v*b)*X,e[11]=(u*S-f*E-h*b)*X,e[12]=(a*z-o*x-l*O)*X,e[13]=(n*x-r*z+s*O)*X,e[14]=(p*y-g*w-m*b)*X,e[15]=(f*w-u*y+d*b)*X,e):null};var hw=dw;const mw=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15];var pw=mw;const gw=1e5,vw=1e-5,bw=1e-13,_w=Math.PI*2;var kt={EPS:vw,NEPS:bw,TAU:_w,spatialResolution:gw};const{NEPS:yw}=kt,tv=e=>Math.abs(e)<yw?0:e,Aw=e=>tv(Math.sin(e)),Sw=e=>tv(Math.cos(e));var jn={sin:Aw,cos:Sw};const Ew=e=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var nv=Ew;const{EPS:ww}=kt,{sin:Tw,cos:Cw}=jn,Pw=nv,Lw=(e,t,n)=>{let[r,s,i]=n;const o=r*r+s*s+i*i;if(Math.abs(o)<ww)return Pw(e);const a=1/Math.sqrt(o);r*=a,s*=a,i*=a;const l=Tw(t),c=Cw(t),f=1-c;return e[0]=r*r*f+c,e[1]=s*r*f+i*l,e[2]=i*r*f-s*l,e[3]=0,e[4]=r*s*f-i*l,e[5]=s*s*f+c,e[6]=i*s*f+r*l,e[7]=0,e[8]=r*i*f+s*l,e[9]=s*i*f-r*l,e[10]=i*i*f+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var rv=Lw;const Ow=(e,t)=>(e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e);var Rw=Ow;const{sin:Gf,cos:Bf}=jn,Mw=(e,t,n,r)=>{const s=Gf(t),i=Bf(t),o=Gf(n),a=Bf(n),l=Gf(r),c=Bf(r);return e[0]=a*i,e[1]=a*s,e[2]=-o,e[3]=0,e[4]=l*o*i-c*s,e[5]=c*i+l*o*s,e[6]=l*a,e[7]=0,e[8]=l*s+c*o*i,e[9]=c*o*s-l*i,e[10]=c*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Iw=Mw;const Dw=(e,t)=>(e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e);var Fw=Dw;const xw=Ju,kw=(e,t,n,r,s,i,o,a,l,c,f,u,d,h,g,p)=>{const m=xw();return m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=s,m[5]=i,m[6]=o,m[7]=a,m[8]=l,m[9]=c,m[10]=f,m[11]=u,m[12]=d,m[13]=h,m[14]=g,m[15]=p,m};var Gw=kw;const Bw=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e);var sv=Bw;const Nw=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e);var iv=Nw;const $w=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2];var Ml=$w;const Vw=Ml,Uw=(e,t)=>{const n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],a=t[2],l=Math.sqrt(n*n+r*r+s*s),c=Math.sqrt(i*i+o*o+a*a),f=l*c,u=f&&Vw(e,t)/f;return Math.acos(Math.min(Math.max(u,-1),1))};var zw=Uw;const Hw=()=>[0,0,0];var Il=Hw;const jw=Il,qw=e=>{const t=jw();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var Xw=qw;const Ww=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var ov=Ww;const Yw=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=n[0],a=n[1],l=n[2];return e[0]=s*l-i*a,e[1]=i*o-r*l,e[2]=r*a-s*o,e};var Zo=Yw;const Zw=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(n*n+r*r+s*s)};var av=Zw;const Kw=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e);var Qw=Kw;const Jw=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var e4=Jw;const t4=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e);var n4=t4;const r4=Il,s4=(e,t,n)=>{const r=r4();return r[0]=e,r[1]=t,r[2]=n,r};var i4=s4;const o4=(e,t,n=0)=>(e[0]=t[0],e[1]=t[1],e[2]=n,e);var a4=o4;const l4=e=>{const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)};var lv=l4;const c4=(e,t,n,r)=>(e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e[2]=t[2]+r*(n[2]-t[2]),e);var f4=c4;const u4=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e);var cv=u4;const d4=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e);var fv=d4;const h4=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e);var m4=h4;const p4=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e);var g4=p4;const v4=(e,t)=>{const n=t[0],r=t[1],s=t[2];let i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i)),e[0]=n*i,e[1]=r*i,e[2]=s*i,e};var ed=v4;const b4=sv,_4=Il,y4=Zo,A4=(e,t)=>{const n=b4(_4(),t),r=0+(n[0]<n[1]&&n[0]<n[2]),s=0+(n[1]<=n[0]&&n[1]<n[2]),i=0+(n[2]<=n[0]&&n[2]<=n[1]);return y4(e,t,[r,s,i])};var S4=A4;const E4=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[0],i[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),i[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var w4=E4;const T4=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],s[2]=t[2]-n[2],i[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),i[1]=s[1],i[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e};var C4=T4;const P4=(e,t,n,r)=>{const s=[],i=[];return s[0]=t[0]-n[0],s[1]=t[1]-n[1],i[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),i[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=t[2],e};var L4=P4;const O4=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e);var uv=O4;const R4=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e[2]=Math.round(t[2]/n)*n+0,e);var M4=R4;const I4=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return n*n+r*r+s*s};var dv=I4;const D4=e=>{const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r};var hv=D4;const F4=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e);var Dl=F4;const x4=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)}]`;var k4=x4;const G4=(e,t,n)=>{const r=t[0],s=t[1],i=t[2];let o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e};var B4=G4,at={abs:sv,add:iv,angle:zw,clone:Xw,copy:ov,create:Il,cross:Zo,distance:av,divide:Qw,dot:Ml,equals:e4,fromScalar:n4,fromValues:i4,fromVec2:a4,length:lv,lerp:f4,max:cv,min:fv,multiply:m4,negate:g4,normalize:ed,orthogonal:S4,rotateX:w4,rotateY:C4,rotateZ:L4,scale:uv,snap:M4,squaredDistance:dv,squaredLength:hv,subtract:Dl,toString:k4,transform:B4};const ms=at,N4=rv,$4=(e,t,n)=>{const r=ms.normalize(ms.create(),t),s=ms.normalize(ms.create(),n),i=ms.cross(ms.create(),s,r),o=ms.dot(s,r);if(o===-1)return N4(e,Math.PI,ms.orthogonal(i,r));const a=1/(1+o);return e[0]=i[0]*i[0]*a+o,e[1]=i[1]*i[0]*a-i[2],e[2]=i[2]*i[0]*a+i[1],e[3]=0,e[4]=i[0]*i[1]*a+i[2],e[5]=i[1]*i[1]*a+o,e[6]=i[2]*i[1]*a-i[0],e[7]=0,e[8]=i[0]*i[2]*a-i[1],e[9]=i[1]*i[2]*a+i[0],e[10]=i[2]*i[2]*a+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var V4=$4;const{sin:U4,cos:z4}=jn,H4=(e,t)=>{const n=U4(t),r=z4(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var j4=H4;const{sin:q4,cos:X4}=jn,W4=(e,t)=>{const n=q4(t),r=X4(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var Y4=W4;const{sin:Z4,cos:K4}=jn,Q4=(e,t)=>{const n=Z4(t),r=K4(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var J4=Q4;const eT=e=>e[0]===1&&e[1]===0&&e[2]===0&&e[3]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[7]===0&&e[8]===0&&e[9]===0&&e[10]===1&&e[11]===0&&e[12]===0&&e[13]===0&&e[14]===0&&e[15]===1;var tT=eT;const nT=e=>qr(e[1])&&qr(e[2])&&qr(e[3])&&qr(e[4])&&qr(e[6])&&qr(e[7])&&qr(e[8])&&qr(e[9])&&qr(e[11])&&e[15]===1,qr=e=>Math.abs(e)<Number.EPSILON;var rT=nT;const sT=e=>{const t=e[4]*e[9]-e[8]*e[5],n=e[8]*e[1]-e[0]*e[9],r=e[0]*e[5]-e[4]*e[1];return t*e[2]+n*e[6]+r*e[10]<0};var iT=sT;const oT=(e,t)=>{const[n,r,s,i]=t;return e[0]=1-2*n*n,e[1]=-2*r*n,e[2]=-2*s*n,e[3]=0,e[4]=-2*n*r,e[5]=1-2*r*r,e[6]=-2*s*r,e[7]=0,e[8]=-2*n*s,e[9]=-2*r*s,e[10]=1-2*s*s,e[11]=0,e[12]=2*n*i,e[13]=2*r*i,e[14]=2*s*i,e[15]=1,e};var aT=oT;const lT=(e,t,n)=>{const r=t[0],s=t[1],i=t[2],o=t[3],a=t[4],l=t[5],c=t[6],f=t[7],u=t[8],d=t[9],h=t[10],g=t[11],p=t[12],m=t[13],v=t[14],b=t[15];let y=n[0],S=n[1],w=n[2],E=n[3];return e[0]=y*r+S*a+w*u+E*p,e[1]=y*s+S*l+w*d+E*m,e[2]=y*i+S*c+w*h+E*v,e[3]=y*o+S*f+w*g+E*b,y=n[4],S=n[5],w=n[6],E=n[7],e[4]=y*r+S*a+w*u+E*p,e[5]=y*s+S*l+w*d+E*m,e[6]=y*i+S*c+w*h+E*v,e[7]=y*o+S*f+w*g+E*b,y=n[8],S=n[9],w=n[10],E=n[11],e[8]=y*r+S*a+w*u+E*p,e[9]=y*s+S*l+w*d+E*m,e[10]=y*i+S*c+w*h+E*v,e[11]=y*o+S*f+w*g+E*b,y=n[12],S=n[13],w=n[14],E=n[15],e[12]=y*r+S*a+w*u+E*p,e[13]=y*s+S*l+w*d+E*m,e[14]=y*i+S*c+w*h+E*v,e[15]=y*o+S*f+w*g+E*b,e};var cT=lT;const{EPS:fT}=kt,{sin:uT,cos:dT}=jn,hT=ev,mT=(e,t,n,r)=>{let[s,i,o]=r;const a=s*s+i*i+o*o;if(Math.abs(a)<fT)return hT(e,t);const l=1/Math.sqrt(a);s*=l,i*=l,o*=l;const c=uT(n),f=dT(n),u=1-f,d=t[0],h=t[1],g=t[2],p=t[3],m=t[4],v=t[5],b=t[6],y=t[7],S=t[8],w=t[9],E=t[10],A=t[11],O=s*s*u+f,z=i*s*u+o*c,B=o*s*u-i*c,x=s*i*u-o*c,oe=i*i*u+f,V=o*i*u+s*c,X=s*o*u+i*c,Fe=i*o*u-s*c,ne=o*o*u+f;return e[0]=d*O+m*z+S*B,e[1]=h*O+v*z+w*B,e[2]=g*O+b*z+E*B,e[3]=p*O+y*z+A*B,e[4]=d*x+m*oe+S*V,e[5]=h*x+v*oe+w*V,e[6]=g*x+b*oe+E*V,e[7]=p*x+y*oe+A*V,e[8]=d*X+m*Fe+S*ne,e[9]=h*X+v*Fe+w*ne,e[10]=g*X+b*Fe+E*ne,e[11]=p*X+y*Fe+A*ne,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e};var pT=mT;const{sin:gT,cos:vT}=jn,bT=(e,t,n)=>{const r=gT(n),s=vT(n),i=t[4],o=t[5],a=t[6],l=t[7],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*s+c*r,e[5]=o*s+f*r,e[6]=a*s+u*r,e[7]=l*s+d*r,e[8]=c*s-i*r,e[9]=f*s-o*r,e[10]=u*s-a*r,e[11]=d*s-l*r,e};var _T=bT;const{sin:yT,cos:AT}=jn,ST=(e,t,n)=>{const r=yT(n),s=AT(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[8],f=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s-c*r,e[1]=o*s-f*r,e[2]=a*s-u*r,e[3]=l*s-d*r,e[8]=i*r+c*s,e[9]=o*r+f*s,e[10]=a*r+u*s,e[11]=l*r+d*s,e};var ET=ST;const{sin:wT,cos:TT}=jn,CT=(e,t,n)=>{const r=wT(n),s=TT(n),i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],f=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*s+c*r,e[1]=o*s+f*r,e[2]=a*s+u*r,e[3]=l*s+d*r,e[4]=c*s-i*r,e[5]=f*s-o*r,e[6]=u*s-a*r,e[7]=d*s-l*r,e};var PT=CT;const LT=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};var OT=LT;const RT=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e);var MT=RT;const IT=e=>e.map(t=>t.toFixed(7)).toString();var DT=IT;const FT=(e,t,n)=>{const r=n[0],s=n[1],i=n[2];let o,a,l,c,f,u,d,h,g,p,m,v;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],f=t[4],u=t[5],d=t[6],h=t[7],g=t[8],p=t[9],m=t[10],v=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=f,e[5]=u,e[6]=d,e[7]=h,e[8]=g,e[9]=p,e[10]=m,e[11]=v,e[12]=o*r+f*s+g*i+t[12],e[13]=a*r+u*s+p*i+t[13],e[14]=l*r+d*s+m*i+t[14],e[15]=c*r+h*s+v*i+t[15]),e};var xT=FT,Wt={add:ow,clone:fw,copy:ev,create:Ju,invert:hw,equals:pw,fromRotation:rv,fromScaling:Rw,fromTaitBryanRotation:Iw,fromTranslation:Fw,fromValues:Gw,fromVectorRotation:V4,fromXRotation:j4,fromYRotation:Y4,fromZRotation:J4,identity:nv,isIdentity:tT,isOnlyTransformScale:rT,isMirroring:iT,mirrorByPlane:aT,multiply:cT,rotate:pT,rotateX:_T,rotateY:ET,rotateZ:PT,scale:OT,subtract:MT,toString:DT,translate:xT};const kT=Wt,GT=e=>(e===void 0&&(e=[]),{sides:e,transforms:kT.create()});var Fl=GT;const BT=(e,t)=>(e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e);var NT=BT;const $T=(e,t,n)=>(e[0]=t[0]+n[0],e[1]=t[1]+n[1],e);var VT=$T;const UT=e=>Math.atan2(e[1],e[0]);var td=UT,zT=td;const HT=td,jT=e=>HT(e)*57.29577951308232;var qT=jT;const XT=()=>[0,0];var xl=XT;const WT=xl,YT=e=>{const t=WT();return t[0]=e[0],t[1]=e[1],t};var ZT=YT;const KT=(e,t)=>(e[0]=t[0],e[1]=t[1],e);var QT=KT;const JT=(e,t,n)=>(e[0]=0,e[1]=0,e[2]=t[0]*n[1]-t[1]*n[0],e);var eC=JT;const tC=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)};var nC=tC;const rC=(e,t,n)=>(e[0]=t[0]/n[0],e[1]=t[1]/n[1],e);var sC=rC;const iC=(e,t)=>e[0]*t[0]+e[1]*t[1];var oC=iC;const aC=(e,t)=>e[0]===t[0]&&e[1]===t[1];var lC=aC;const{sin:cC,cos:fC}=jn,uC=(e,t)=>(e[0]=fC(t),e[1]=cC(t),e);var mv=uC;const dC=mv,hC=(e,t)=>dC(e,t*.017453292519943295);var mC=hC;const pC=(e,t)=>(e[0]=t,e[1]=t,e);var gC=pC;const vC=xl,bC=(e,t)=>{const n=vC();return n[0]=e,n[1]=t,n};var _C=bC;const yC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]);var AC=yC;const SC=(e,t,n,r)=>{const s=t[0],i=t[1];return e[0]=s+r*(n[0]-s),e[1]=i+r*(n[1]-i),e};var EC=SC;const wC=(e,t,n)=>(e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e);var TC=wC;const CC=(e,t,n)=>(e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e);var PC=CC;const LC=(e,t,n)=>(e[0]=t[0]*n[0],e[1]=t[1]*n[1],e);var OC=LC;const RC=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e);var MC=RC;const IC=(e,t,n,r)=>{const s=t[0]-n[0],i=t[1]-n[1],o=Math.cos(r),a=Math.sin(r);return e[0]=s*o-i*a+n[0],e[1]=s*a+i*o+n[1],e};var pv=IC;const{TAU:DC}=kt,FC=xl,xC=pv,kC=(e,t)=>xC(e,t,FC(),DC/4);var GC=kC;const BC=(e,t)=>{const n=t[0],r=t[1];let s=n*n+r*r;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e};var NC=BC;const $C=(e,t,n)=>(e[0]=t[0]*n,e[1]=t[1]*n,e);var VC=$C;const UC=(e,t,n)=>(e[0]=Math.round(t[0]/n)*n+0,e[1]=Math.round(t[1]/n)*n+0,e);var zC=UC;const HC=(e,t)=>{const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r};var jC=HC;const qC=e=>{const t=e[0],n=e[1];return t*t+n*n};var XC=qC;const WC=(e,t,n)=>(e[0]=t[0]-n[0],e[1]=t[1]-n[1],e);var YC=WC;const ZC=e=>`[${e[0].toFixed(7)}, ${e[1].toFixed(7)}]`;var KC=ZC;const QC=(e,t,n)=>{const r=t[0],s=t[1];return e[0]=n[0]*r+n[4]*s+n[12],e[1]=n[1]*r+n[5]*s+n[13],e};var JC=QC,Tt={abs:NT,add:VT,angle:zT,angleDegrees:qT,angleRadians:td,clone:ZT,copy:QT,create:xl,cross:eC,distance:nC,divide:sC,dot:oC,equals:lC,fromAngleDegrees:mC,fromAngleRadians:mv,fromScalar:gC,fromValues:_C,length:AC,lerp:EC,max:TC,min:PC,multiply:OC,negate:MC,normal:GC,normalize:NC,rotate:pv,scale:VC,snap:zC,squaredDistance:jC,squaredLength:XC,subtract:YC,toString:KC,transform:JC};const Nf=Tt,eP=Fl,tP=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");let t=e.length;if(t<3)throw new Error("the given points must define a closed geometry with three or more points");Nf.equals(e[0],e[t-1])&&--t;const n=[];let r=e[t-1];for(let s=0;s<t;s++){const i=e[s];n.push([Nf.clone(r),Nf.clone(i)]),r=i}return eP(n)};var nP=tP;const rP=Wt,eh=Tt,sP=Fl,iP=e=>{if(e[0]!==0)throw new Error("invalid compact binary data");const t=sP();t.transforms=rP.clone(e.slice(1,17));for(let n=21;n<e.length;n+=4){const r=eh.fromValues(e[n+0],e[n+1]),s=eh.fromValues(e[n+2],e[n+3]);t.sides.push([r,s])}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var oP=iP;const aP=e=>!!(e&&typeof e=="object"&&"sides"in e&&"transforms"in e&&Array.isArray(e.sides)&&"length"in e.transforms);var gv=aP;const th=Wt,Wa=Tt,lP=e=>(th.isIdentity(e.transforms)||(e.sides=e.sides.map(t=>{const n=Wa.transform(Wa.create(),t[0],e.transforms),r=Wa.transform(Wa.create(),t[1],e.transforms);return[n,r]}),e.transforms=th.create()),e);var cP=lP;const fP=cP,uP=e=>fP(e).sides;var Ko=uP;const dP=Fl,hP=Ko,mP=e=>{const n=hP(e).map(r=>[r[1],r[0]]);return n.reverse(),dP(n)};var pP=mP;const So=Tt,gP=Ko,vP=e=>{const t=new Map,n=r=>{const s=r.toString();return t.has(s)?t.get(s):(t.set(s,r),r)};return e.map(r=>r.map(n))},bP=e=>{const t=new Map;return vP(e).forEach(r=>{t.has(r[0])?t.get(r[0]).push(r):t.set(r[0],[r])}),t},_P=e=>{const t=bP(gP(e)),n=[];for(;;){let r;for(const[o,a]of t){if(r=a.shift(),!r){t.delete(o);continue}break}if(r===void 0)break;const s=[],i=r[0];for(;;){s.push(r[0]);const o=r[1];if(o===i)break;const a=t.get(o);if(!a)throw new Error(`geometry is not closed at vertex ${o}`);const l=yP(r,a);a.length===0&&t.delete(o),r=l}s.length>0&&s.push(s.shift()),n.push(s)}return t.clear(),n},yP=(e,t)=>{if(t.length===1)return t.pop();const n=So.create(),r=So.angleDegrees(So.subtract(n,e[1],e[0]));let s,i;t.forEach((a,l)=>{let f=So.angleDegrees(So.subtract(n,a[1],a[0]))-r;f<-180&&(f+=360),f>=180&&(f-=360),(i===void 0||f>s)&&(i=l,s=f)});const o=t[i];return t.splice(i,1),o};var vv=_P;const AP=Ko,SP=e=>{const n=AP(e).map(r=>r[0]);return n.length>0&&n.push(n.shift()),n};var EP=SP;const nh=Tt,wP=Ko,TP=e=>{const t=wP(e);let n="geom2 ("+t.length+` sides):
[
`;return t.forEach(r=>{n+="  ["+nh.toString(r[0])+", "+nh.toString(r[1])+`]
`}),n+=`]
`,n};var CP=TP;const PP=e=>{const t=e.sides,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+4+t.length*4);s[0]=0,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=r[0],s[18]=r[1],s[19]=r[2],s[20]=r[3];for(let i=0;i<t.length;i++){const o=i*4+21,a=t[i][0],l=t[i][1];s[o+0]=a[0],s[o+1]=a[1],s[o+2]=l[0],s[o+3]=l[1]}return s};var LP=PP;const rh=Wt,OP=(e,t)=>{const n=rh.multiply(rh.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var RP=OP;const MP=Tt,IP=gv,DP=vv,FP=e=>{if(!IP(e))throw new Error("invalid geom2 structure");if(DP(e),e.sides.forEach(t=>{if(MP.equals(t[0],t[1]))throw new Error(`geom2 self-edge ${t[0]}`)}),!e.transforms.every(Number.isFinite))throw new Error(`geom2 invalid transforms ${e.transforms}`)};var xP=FP,vt={clone:sw,create:Fl,fromPoints:nP,fromCompactBinary:oP,isA:gv,reverse:pP,toOutlines:vv,toPoints:EP,toSides:Ko,toString:CP,toCompactBinary:LP,transform:RP,validate:xP};const kP=e=>Object.assign({},e);var GP=kP;const BP=Wt,NP=e=>(e===void 0&&(e=[]),{polygons:e,transforms:BP.create()});var kl=NP;const $P=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var Ki=$P;const VP=Ki,UP=at,zP=(...e)=>{let t,n;return e.length===1?(t=VP(),n=e[0]):(t=e[0],n=e[1]),t.vertices=n.vertices.map(r=>UP.clone(r)),t};var HP=zP;const jP=at,qP=Ki,XP=e=>{const t=e.map(n=>jP.clone(n));return qP(t)};var WP=XP;const YP=Ki,ZP=(e,t)=>{const n=YP(e);return n.plane=t,n};var KP=ZP;const QP=()=>[0,0,0,0];var Gl=QP;const JP=Gl,eL=e=>{const t=JP();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};var bv=eL;const tL=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e);var _v=tL;const nL=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3];var yv=nL;const rL=(e,t)=>(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e);var Av=rL;const $f=at,sL=(e,t,n)=>{const r=$f.normalize($f.create(),t),s=$f.dot(n,r);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=s,e};var iL=sL;const oL=Gl,aL=(e,t,n,r)=>{const s=oL();return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s};var Sv=aL;const Ir=at,lL=(e,...t)=>{const n=t.length,r=Ir.create(),s=Ir.create(),i=o=>{const a=t[o],l=t[(o+1)%n],c=t[(o+2)%n];return Ir.subtract(r,l,a),Ir.subtract(s,c,a),Ir.cross(r,r,s),Ir.normalize(r,r),r};return e[0]=0,e[1]=0,e[2]=0,n===3?Ir.copy(e,i(0)):(t.forEach((o,a)=>{Ir.add(e,e,i(a))}),Ir.normalize(e,e)),e[3]=Ir.dot(e,t[0]),e};var Ev=lL;const{EPS:Vf}=kt,Kn=at,cL=(e,t,n,r)=>{let s=Kn.subtract(Kn.create(),n,t),i=Kn.subtract(Kn.create(),r,t);Kn.length(s)<Vf&&(s=Kn.orthogonal(s,i)),Kn.length(i)<Vf&&(i=Kn.orthogonal(i,s));let o=Kn.cross(Kn.create(),s,i);Kn.length(o)<Vf&&(i=Kn.orthogonal(i,s),o=Kn.cross(o,s,i)),o=Kn.normalize(o,o);const a=Kn.dot(o,t);return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=a,e};var fL=cL;const uL=at,dL=(e,t)=>{const n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]-e[3],r=t[0]-n*e[0],s=t[1]-n*e[1],i=t[2]-n*e[2];return uL.fromValues(r,s,i)};var hL=dL;const mL=at,pL=(e,t)=>mL.dot(e,t)-e[3];var wv=pL;const gL=e=>`(${e[0].toFixed(9)}, ${e[1].toFixed(9)}, ${e[2].toFixed(9)}, ${e[3].toFixed(9)})`;var Tv=gL;const vL=Wt,Qn=at,bL=Ev,_L=Av,yL=(e,t,n)=>{const r=vL.isMirroring(n),s=Qn.orthogonal(Qn.create(),t),i=Qn.cross(s,t,s),o=Qn.cross(Qn.create(),t,i);let a=Qn.fromScalar(Qn.create(),t[3]);Qn.multiply(a,a,t);let l=Qn.add(Qn.create(),a,i),c=Qn.add(Qn.create(),a,o);return a=Qn.transform(a,a,n),l=Qn.transform(l,l,n),c=Qn.transform(c,c,n),bL(e,a,l,c),r&&_L(e,e),e};var AL=yL,$r={clone:bv,copy:_v,create:Gl,equals:yv,flip:Av,fromNormalAndPoint:iL,fromValues:Sv,fromPoints:Ev,fromPointsRandom:fL,projectionOfPoint:hL,signedDistanceToPoint:wv,toString:Tv,transform:AL};const sh=$r,SL=Ki,EL=e=>{const t=e.vertices.slice().reverse(),n=SL(t);return e.plane&&(n.plane=sh.flip(sh.create(),e.plane)),n};var wL=EL;const TL=e=>!!(e&&typeof e=="object"&&"vertices"in e&&Array.isArray(e.vertices));var Cv=TL;const ih=$r,zs=at,CL=e=>PL(e.vertices),PL=e=>{const t=e.length;if(t>2){const n=ih.fromPoints(ih.create(),...e);let r=e[t-2],s=e[t-1];for(let i=0;i<t;i++){const o=e[i];if(!LL(r,s,o,n))return!1;r=s,s=o}}return!0},LL=(e,t,n,r)=>{const s=zs.cross(zs.create(),zs.subtract(zs.create(),t,e),zs.subtract(zs.create(),n,t));return zs.dot(s,r)>=0};var Pv=CL;const oh=$r,OL=e=>(e.plane||(e.plane=oh.fromPoints(oh.create(),...e.vertices)),e.plane);var nd=OL;const RL=nd,ML=e=>{const t=e.vertices.length;if(t<3)return 0;const n=e.vertices,r=RL(e),s=Math.abs(r[0]),i=Math.abs(r[1]),o=Math.abs(r[2]);if(s+i+o===0)return 0;let a=3;s>i&&s>o?a=1:i>o&&(a=2);let l=0,c=0,f=1,u=2;switch(a){case 1:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][1]*(n[u][2]-n[c][2]);l+=n[0][1]*(n[1][2]-n[t-1][2]),l/=2*r[0];break;case 2:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][2]*(n[u][0]-n[c][0]);l+=n[0][2]*(n[1][0]-n[t-1][0]),l/=2*r[1];break;case 3:default:for(f=1;f<t;f++)c=f-1,u=(f+1)%t,l+=n[f][0]*(n[u][1]-n[c][1]);l+=n[0][0]*(n[1][1]-n[t-1][1]),l/=2*r[2];break}return l};var Lv=ML;const Eo=at,IL=e=>{const t=e.vertices,n=t.length,r=n===0?Eo.create():Eo.clone(t[0]),s=Eo.clone(r);for(let i=1;i<n;i++)Eo.min(r,r,t[i]),Eo.max(s,s,t[i]);return[r,s]};var DL=IL;const FL=(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3];var xL=FL;const kL=(e,t)=>(e[0]=t,e[1]=t,e[2]=t,e[3]=t,e);var GL=kL;const BL=(e,t,n)=>{const[r,s,i,o]=t;return e[0]=n[0]*r+n[4]*s+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*s+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*s+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*s+n[11]*i+n[15]*o,e};var NL=BL,Ov={clone:bv,copy:_v,create:Gl,dot:xL,equals:yv,fromScalar:GL,fromValues:Sv,toString:Tv,transform:NL};const $L=Ov,ah=new WeakMap,VL=e=>{let t=ah.get(e);if(t)return t;const n=e.vertices,r=$L.create();if(n.length===0)return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r;let s=n[0],i=s,o=s,a=s,l=s,c=s;n.forEach(h=>{s[0]>h[0]&&(s=h),i[1]>h[1]&&(i=h),o[2]>h[2]&&(o=h),a[0]<h[0]&&(a=h),l[1]<h[1]&&(l=h),c[2]<h[2]&&(c=h)}),r[0]=(s[0]+a[0])*.5,r[1]=(i[1]+l[1])*.5,r[2]=(o[2]+c[2])*.5;const f=r[0]-a[0],u=r[1]-l[1],d=r[2]-c[2];return r[3]=Math.sqrt(f*f+u*u+d*d),ah.set(e,r),r};var UL=VL;const Uf=at,zL=e=>{let t=0;const n=e.vertices,r=Uf.create();for(let s=0;s<n.length-2;s++)Uf.cross(r,n[s+1],n[s+2]),t+=Uf.dot(n[0],r);return t/=6,t};var HL=zL;const jL=e=>e.vertices;var qL=jL;const XL=at,WL=e=>{let t="poly3: vertices: [";return e.vertices.forEach(n=>{t+=`${XL.toString(n)}, `}),t+="]",t};var YL=WL;const ZL=Wt,lh=at,KL=Ki,QL=(e,t)=>{const n=t.vertices.map(r=>lh.transform(lh.create(),r,e));return ZL.isMirroring(e)&&n.reverse(),KL(n)};var JL=QL;const eO=wv,{NEPS:tO}=kt,nO=at,rO=Cv,sO=Pv,iO=Lv,oO=nd,aO=e=>{if(!rO(e))throw new Error("invalid poly3 structure");if(e.vertices.length<3)throw new Error(`poly3 not enough vertices ${e.vertices.length}`);if(iO(e)<=0)throw new Error("poly3 area must be greater than zero");for(let t=0;t<e.vertices.length;t++)if(nO.equals(e.vertices[t],e.vertices[(t+1)%e.vertices.length]))throw new Error(`poly3 duplicate vertex ${e.vertices[t]}`);if(!sO(e))throw new Error("poly3 must be convex");if(e.vertices.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`poly3 invalid vertex ${t}`)}),e.vertices.length>3){const t=oO(e);e.vertices.forEach(n=>{const r=Math.abs(eO(t,n));if(r>tO)throw new Error(`poly3 must be coplanar: vertex ${n} distance ${r}`)})}};var lO=aO,Ft={clone:HP,create:Ki,fromPoints:WP,fromPointsAndPlane:KP,invert:wL,isA:Cv,isConvex:Pv,measureArea:Lv,measureBoundingBox:DL,measureBoundingSphere:UL,measureSignedVolume:HL,plane:nd,toPoints:qL,toString:YL,transform:JL,validate:lO};const cO=Ft,fO=kl,uO=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");const t=e.map((r,s)=>cO.create(r));return fO(t)};var dO=uO;const hO=at,mO=Wt,pO=Ft,gO=kl,vO=e=>{if(e[0]!==1)throw new Error("invalid compact binary data");const t=gO();t.transforms=mO.clone(e.slice(1,17));const n=e[21];let r=22,s=e.length-n*3;for(;s<e.length;){const i=e[r];r++;const o=[];for(let a=0;a<i;a++)o.push(hO.fromValues(e[s],e[s+1],e[s+2])),s+=3;t.polygons.push(pO.create(o))}return e[17]>=0&&(t.color=[e[17],e[18],e[19],e[20]]),t};var bO=vO;const ch=Wt,_O=Ft,yO=e=>(ch.isIdentity(e.transforms)||(e.polygons=e.polygons.map(t=>_O.transform(e.transforms,t)),e.transforms=ch.create()),e);var AO=yO;const SO=AO,EO=e=>SO(e).polygons;var Bl=EO;const wO=Ft,TO=kl,CO=Bl,PO=e=>{const n=CO(e).map(r=>wO.invert(r));return TO(n)};var LO=PO;const OO=e=>!!(e&&typeof e=="object"&&"polygons"in e&&"transforms"in e&&Array.isArray(e.polygons)&&"length"in e.transforms);var Rv=OO;const RO=Ft,MO=Bl,IO=e=>MO(e).map(r=>RO.toPoints(r));var DO=IO;const FO=Ft,xO=Bl,kO=e=>{const t=xO(e);let n="geom3 ("+t.length+` polygons):
`;return t.forEach(r=>{n+="  "+FO.toString(r)+`
`}),n};var GO=kO;const BO=Ft,NO=e=>{const t=e.polygons,n=e.transforms,r=t.length,s=t.reduce((c,f)=>c+f.vertices.length,0);let i=[-1,-1,-1,-1];e.color&&(i=e.color);const o=new Float32Array(1+16+4+1+r+s*3);o[0]=1,o[1]=n[0],o[2]=n[1],o[3]=n[2],o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=n[6],o[8]=n[7],o[9]=n[8],o[10]=n[9],o[11]=n[10],o[12]=n[11],o[13]=n[12],o[14]=n[13],o[15]=n[14],o[16]=n[15],o[17]=i[0],o[18]=i[1],o[19]=i[2],o[20]=i[3],o[21]=s;let a=22,l=a+r;return t.forEach(c=>{const f=BO.toPoints(c);o[a]=f.length,a++;for(let u=0;u<f.length;u++){const d=f[u];o[l+0]=d[0],o[l+1]=d[1],o[l+2]=d[2],l+=3}}),o};var $O=NO;const fh=Wt,VO=(e,t)=>{const n=fh.multiply(fh.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var UO=VO;const zO=Ft,HO=Rv,jO=e=>{if(!HO(e))throw new Error("invalid geom3 structure");if(e.polygons.forEach(zO.validate),qO(e),!e.transforms.every(Number.isFinite))throw new Error(`geom3 invalid transforms ${e.transforms}`)},qO=e=>{const t=new Map;e.polygons.forEach(({vertices:r})=>{r.forEach((s,i)=>{const o=`${s}`,a=`${r[(i+1)%r.length]}`,l=`${o}/${a}`,c=t.has(l)?t.get(l):0;t.set(l,c+1)})});const n=[];if(t.forEach((r,s)=>{const i=s.split("/").reverse().join("/"),o=t.get(i);r!==o&&n.push(s.replace("/"," -> "))}),n.length>0)throw new Error(`non-manifold edges ${n.length}
${n.join(`
`)}`)};var XO=jO,yt={clone:GP,create:kl,fromPoints:dO,fromCompactBinary:bO,invert:LO,isA:Rv,toPoints:DO,toPolygons:Bl,toString:GO,toCompactBinary:$O,transform:UO,validate:XO};const WO=e=>Object.assign({},e);var rd=WO;const{EPS:uh}=kt,YO=Tt,ZO=rd,KO=e=>{if(e.isClosed)return e;const t=ZO(e);if(t.isClosed=!0,t.points.length>1){const n=t.points,r=n[0];let s=n[n.length-1];for(;YO.distance(r,s)<uh*uh&&(n.pop(),n.length!==1);)s=n[n.length-1]}return t};var Mv=KO;const QO=Wt,JO=e=>(e===void 0&&(e=[]),{points:e,isClosed:!1,transforms:QO.create()});var Nl=JO;const{EPS:dh}=kt,hh=Tt,eR=Mv,tR=Nl,nR=(e,t)=>{const n={closed:!1};let{closed:r}=Object.assign({},n,e),s=tR();if(s.points=t.map(i=>hh.clone(i)),s.points.length>1){const i=s.points[0],o=s.points[s.points.length-1];hh.distance(i,o)<dh*dh&&(r=!0)}return r===!0&&(s=eR(s)),s};var sd=nR;const mh=Wt,ph=Tt,rR=e=>(mh.isIdentity(e.transforms)||(e.points=e.points.map(t=>ph.transform(ph.create(),t,e.transforms)),e.transforms=mh.create()),e);var sR=rR;const iR=sR,oR=e=>iR(e).points;var Qi=oR;const{TAU:Ya}=kt,Rn=Tt,aR=sd,lR=Qi,cR=(e,t)=>{const n={radius:[0,0],xaxisrotation:0,clockwise:!1,large:!1,segments:16};let{endpoint:r,radius:s,xaxisrotation:i,clockwise:o,large:a,segments:l}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("endpoint must be an array of X and Y values");if(r.length<2)throw new Error("endpoint must contain X and Y values");if(r=Rn.clone(r),!Array.isArray(s))throw new Error("radius must be an array of X and Y values");if(s.length<2)throw new Error("radius must contain X and Y values");if(l<4)throw new Error("segments must be four or more");const c=1e5;if(t.isClosed)throw new Error("the given path cannot be closed");const f=lR(t);if(f.length<1)throw new Error("the given path must contain one or more points (as the starting point for the arc)");let u=s[0],d=s[1];const h=f[f.length-1];u=Math.round(u*c)/c,d=Math.round(d*c)/c,r=Rn.fromValues(Math.round(r[0]*c)/c,Math.round(r[1]*c)/c);const g=!o;let p=[];if(u===0||d===0)p.push(r);else{u=Math.abs(u),d=Math.abs(d);const v=i,b=Math.cos(v),y=Math.sin(v),S=Rn.subtract(Rn.create(),h,r);Rn.scale(S,S,.5);const w=Math.round((b*S[0]+y*S[1])*c)/c,E=Math.round((-y*S[0]+b*S[1])*c)/c,A=Rn.fromValues(w,E),O=A[0]*A[0]/(u*u)+A[1]*A[1]/(d*d);if(O>1){const de=Math.sqrt(O);u*=de,d*=de,u=Math.round(u*c)/c,d=Math.round(d*c)/c}let z=Math.sqrt((u*u*d*d-u*u*A[1]*A[1]-d*d*A[0]*A[0])/(u*u*A[1]*A[1]+d*d*A[0]*A[0]));g===a&&(z=-z);const B=Rn.fromValues(u*A[1]/d,-d*A[0]/u);Rn.scale(B,B,z);let x=Rn.fromValues(b*B[0]-y*B[1],y*B[0]+b*B[1]);x=Rn.add(x,x,Rn.scale(Rn.create(),Rn.add(Rn.create(),h,r),.5));const oe=Rn.fromValues((A[0]-B[0])/u,(A[1]-B[1])/d),V=Rn.fromValues((-A[0]-B[0])/u,(-A[1]-B[1])/d),X=Rn.angleRadians(oe);let ne=Rn.angleRadians(V)-X;ne=ne%Ya,!g&&ne>0?ne-=Ya:g&&ne<0&&(ne+=Ya);let N=Math.ceil(Math.abs(ne)/Ya*l)+1;N<1&&(N=1);for(let de=1;de<N;de++){const te=X+de/N*ne,je=Math.cos(te),Mt=Math.sin(te),Ge=Rn.fromValues(b*u*je-y*d*Mt,y*u*je+b*d*Mt);Rn.add(Ge,Ge,x),p.push(Ge)}N&&p.push(e.endpoint)}return p=f.concat(p),aR({},p)};var fR=cR;const uR=sd,dR=Qi,{equals:hR}=Tt,mR=(...e)=>{let t=!1,n=[];return e.forEach((r,s)=>{const i=dR(r).slice();if(n.length>0&&i.length>0&&hR(i[0],n[n.length-1])&&i.shift(),i.length>0&&t)throw new Error(`Cannot concatenate to a closed path; check the ${s}th path`);t=r.isClosed,n=n.concat(i)}),uR({closed:t},n)};var Iv=mR;const pR=Iv,gR=Nl,vR=(e,t)=>pR(t,gR(e));var Dv=vR;const{TAU:bR}=kt,ur=Tt,_R=Tt,yR=Dv,AR=Qi,SR=(e,t)=>{const n={segments:16};let{controlPoints:r,segments:s}=Object.assign({},n,e);if(!Array.isArray(r))throw new Error("controlPoints must be an array of one or more points");if(r.length<1)throw new Error("controlPoints must be an array of one or more points");if(s<4)throw new Error("segments must be four or more");if(t.isClosed)throw new Error("the given geometry cannot be closed");const i=AR(t);if(i.length<1)throw new Error("the given path must contain one or more points (as the starting point for the bezier curve)");if(r=r.slice(),r[0]===null){if(r.length<2)throw new Error("a null control point must be passed with one more control points");let E=i[i.length-2];if("lastBezierControlPoint"in t&&(E=t.lastBezierControlPoint),!Array.isArray(E))throw new Error("the given path must contain TWO or more points if given a null control point");const A=ur.scale(ur.create(),i[i.length-1],2);ur.subtract(A,A,E),r[0]=A}r.unshift(i[i.length-1]);const a=r.length-1,l=[];let c=1;for(let E=0;E<=a;++E)E>0&&(c*=E),l.push(c);const f=[];for(let E=0;E<=a;++E){const A=l[a]/(l[E]*l[a-E]);f.push(A)}const u=ur.create(),d=ur.create(),h=_R.create(),g=E=>{let A=1,O=Math.pow(1-E,a);const z=E!==1?1/(1-E):1,B=ur.create();for(let x=0;x<=a;++x){x===a&&(O=1);const oe=f[x]*A*O,V=ur.scale(u,r[x],oe);ur.add(B,B,V),A*=E,O*=z}return B},p=[],m=[],v=a+1;for(let E=0;E<v;++E){const A=E/(v-1),O=g(A);p.push(O),m.push(A)}let b=1;const y=bR/s,S=Math.sin(y);for(;b<p.length-1;){const E=ur.subtract(u,p[b],p[b-1]);ur.normalize(E,E);const A=ur.subtract(d,p[b+1],p[b]);ur.normalize(A,A);const O=ur.cross(h,E,A);if(Math.abs(O[2])>S){const z=m[b-1],B=m[b+1],x=z+(B-z)*1/3,oe=z+(B-z)*2/3,V=g(x),X=g(oe);p.splice(b,1,V,X),m.splice(b,1,x,oe),b--,b<1&&(b=1)}else++b}p.shift();const w=yR(p,t);return w.lastBezierControlPoint=r[r.length-2],w};var ER=SR;const wR=Tt,gh=Qi,TR=(e,t)=>{if(e.isClosed!==t.isClosed||e.points.length!==t.points.length)return!1;const n=gh(e),r=gh(t),s=n.length;let i=0;do{let o=!1;for(let a=0;a<s;a++)if(!wR.equals(n[a],r[(a+i)%s])){o=!0;break}if(o===!1)return!0;if(!e.isClosed)return!1}while(++i<s);return!1};var CR=TR;const PR=Wt,LR=Tt,OR=Nl,RR=e=>{if(e[0]!==2)throw new Error("invalid compact binary data");const t=OR();t.transforms=PR.clone(e.slice(1,17)),t.isClosed=!!e[17];for(let n=22;n<e.length;n+=2){const r=LR.fromValues(e[n],e[n+1]);t.points.push(r)}return e[18]>=0&&(t.color=[e[18],e[19],e[20],e[21]]),t};var MR=RR;const IR=e=>!!(e&&typeof e=="object"&&"points"in e&&"transforms"in e&&"isClosed"in e&&Array.isArray(e.points)&&"length"in e.transforms);var Fv=IR;const DR=rd,FR=e=>{const t=DR(e);return t.points=e.points.slice().reverse(),t};var xR=FR;const kR=Tt,GR=Qi,BR=e=>{const t=GR(e);let n="path ("+t.length+" points, "+e.isClosed+`):
[
`;return t.forEach(r=>{n+="  "+kR.toString(r)+`,
`}),n+=`]
`,n};var NR=BR;const $R=e=>{const t=e.points,n=e.transforms;let r=[-1,-1,-1,-1];e.color&&(r=e.color);const s=new Float32Array(1+16+1+4+t.length*2);s[0]=2,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=e.isClosed?1:0,s[18]=r[0],s[19]=r[1],s[20]=r[2],s[21]=r[3];for(let i=0;i<t.length;i++){const o=i*2+22,a=t[i];s[o]=a[0],s[o+1]=a[1]}return s};var VR=$R;const vh=Wt,UR=(e,t)=>{const n=vh.multiply(vh.create(),e,t.transforms);return Object.assign({},t,{transforms:n})};var zR=UR;const HR=Tt,jR=Fv,qR=e=>{if(!jR(e))throw new Error("invalid path2 structure");if(e.points.length>1){for(let t=0;t<e.points.length;t++)if(HR.equals(e.points[t],e.points[(t+1)%e.points.length]))throw new Error(`path2 duplicate points ${e.points[t]}`)}if(e.points.forEach(t=>{if(!t.every(Number.isFinite))throw new Error(`path2 invalid point ${t}`)}),!e.transforms.every(Number.isFinite))throw new Error(`path2 invalid transforms ${e.transforms}`)};var XR=qR,jt={appendArc:fR,appendBezier:ER,appendPoints:Dv,clone:rd,close:Mv,concat:Iv,create:Nl,equals:CR,fromPoints:sd,fromCompactBinary:MR,isA:Fv,reverse:xR,toPoints:Qi,toString:NR,toCompactBinary:VR,transform:zR,validate:XR};const WR=pt,xv=vt,kv=yt,Gv=jt,Bv=Ft,YR=(e,t)=>{const n=xv.clone(t);return n.color=e,n},ZR=(e,t)=>{const n=kv.clone(t);return n.color=e,n},KR=(e,t)=>{const n=Gv.clone(t);return n.color=e,n},QR=(e,t)=>{const n=Bv.clone(t);return n.color=e,n},JR=(e,...t)=>{if(!Array.isArray(e))throw new Error("color must be an array");if(e.length<3)throw new Error("color must contain R, G and B values");if(e.length===3&&(e=[e[0],e[1],e[2],1]),t=WR(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>xv.isA(r)?YR(e,r):kv.isA(r)?ZR(e,r):Gv.isA(r)?KR(e,r):Bv.isA(r)?QR(e,r):(r.color=e,r));return n.length===1?n[0]:n};var e8=JR;const t8={black:[0/255,0/255,0/255],silver:[192/255,192/255,192/255],gray:[128/255,128/255,128/255],white:[255/255,255/255,255/255],maroon:[128/255,0/255,0/255],red:[255/255,0/255,0/255],purple:[128/255,0/255,128/255],fuchsia:[255/255,0/255,255/255],green:[0/255,128/255,0/255],lime:[0/255,255/255,0/255],olive:[128/255,128/255,0/255],yellow:[255/255,255/255,0/255],navy:[0/255,0/255,128/255],blue:[0/255,0/255,255/255],teal:[0/255,128/255,128/255],aqua:[0/255,255/255,255/255],aliceblue:[240/255,248/255,255/255],antiquewhite:[250/255,235/255,215/255],aquamarine:[127/255,255/255,212/255],azure:[240/255,255/255,255/255],beige:[245/255,245/255,220/255],bisque:[255/255,228/255,196/255],blanchedalmond:[255/255,235/255,205/255],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,255/255,0/255],chocolate:[210/255,105/255,30/255],coral:[255/255,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[255/255,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0/255,255/255,255/255],darkblue:[0/255,0/255,139/255],darkcyan:[0/255,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0/255,100/255,0/255],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0/255,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[255/255,140/255,0/255],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0/255,0/255],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0/255,206/255,209/255],darkviolet:[148/255,0/255,211/255],deeppink:[255/255,20/255,147/255],deepskyblue:[0/255,191/255,255/255],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,255/255],firebrick:[178/255,34/255,34/255],floralwhite:[255/255,250/255,240/255],forestgreen:[34/255,139/255,34/255],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,255/255],gold:[255/255,215/255,0/255],goldenrod:[218/255,165/255,32/255],greenyellow:[173/255,255/255,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,255/255,240/255],hotpink:[255/255,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0/255,130/255],ivory:[255/255,255/255,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[255/255,240/255,245/255],lawngreen:[124/255,252/255,0/255],lemonchiffon:[255/255,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,255/255,255/255],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[255/255,182/255,193/255],lightsalmon:[255/255,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[255/255,255/255,224/255],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[255/255,0/255,255/255],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0/255,0/255,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0/255,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,255/255,250/255],mistyrose:[255/255,228/255,225/255],moccasin:[255/255,228/255,181/255],navajowhite:[255/255,222/255,173/255],oldlace:[253/255,245/255,230/255],olivedrab:[107/255,142/255,35/255],orange:[255/255,165/255,0/255],orangered:[255/255,69/255,0/255],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[255/255,239/255,213/255],peachpuff:[255/255,218/255,185/255],peru:[205/255,133/255,63/255],pink:[255/255,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[255/255,245/255,238/255],sienna:[160/255,82/255,45/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[255/255,250/255,250/255],springgreen:[0/255,255/255,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],thistle:[216/255,191/255,216/255],tomato:[255/255,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],whitesmoke:[245/255,245/255,245/255],yellowgreen:[154/255,205/255,50/255]};var Nv=t8;const n8=Nv,r8=e=>n8[e.toLowerCase()];var s8=r8;const i8=e=>{if(e=e.replace("#",""),e.length<6)throw new Error("the given notation must contain 3 or more hex values");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255;if(e.length>=8){const s=parseInt(e.substring(6,8),16)/255;return[t,n,r,s]}return[t,n,r]};var o8=i8;const a8=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e);var $v=a8;const l8=pt,zf=$v,c8=(...e)=>{if(e=l8(e),e.length<3)throw new Error("values must contain H, S and L values");const t=e[0],n=e[1],r=e[2];let s=r,i=r,o=r;if(n!==0){const a=r<.5?r*(1+n):r+n-r*n,l=2*r-a;s=zf(l,a,t+1/3),i=zf(l,a,t),o=zf(l,a,t-1/3)}if(e.length>3){const a=e[3];return[s,i,o,a]}return[s,i,o]};var f8=c8;const u8=pt,d8=(...e)=>{if(e=u8(e),e.length<3)throw new Error("values must contain H, S and V values");const t=e[0],n=e[1],r=e[2];let s=0,i=0,o=0;const a=Math.floor(t*6),l=t*6-a,c=r*(1-n),f=r*(1-l*n),u=r*(1-(1-l)*n);switch(a%6){case 0:s=r,i=u,o=c;break;case 1:s=f,i=r,o=c;break;case 2:s=c,i=r,o=u;break;case 3:s=c,i=f,o=r;break;case 4:s=u,i=c,o=r;break;case 5:s=r,i=c,o=f;break}if(e.length>3){const d=e[3];return[s,i,o,d]}return[s,i,o]};var h8=d8;const m8=pt,p8=(...e)=>{if(e=m8(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0]*255,n=e[1]*255,r=e[2]*255;let s=`#${Number(16777216+t*65536+n*256+r).toString(16).substring(1,7)}`;return e.length>3&&(s=s+Number(e[3]*255).toString(16)),s};var g8=p8;const v8=pt,b8=(...e)=>{if(e=v8(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o,a;const l=(s+i)/2;if(s===i)o=a=0;else{const c=s-i;switch(a=l>.5?c/(2-s-i):c/(s+i),s){case t:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-t)/c+2;break;case r:o=(t-n)/c+4;break}o/=6}if(e.length>3){const c=e[3];return[o,a,l,c]}return[o,a,l]};var _8=b8;const y8=pt,A8=(...e)=>{if(e=y8(e),e.length<3)throw new Error("values must contain R, G and B values");const t=e[0],n=e[1],r=e[2],s=Math.max(t,n,r),i=Math.min(t,n,r);let o;const a=s,l=s-i,c=s===0?0:l/s;if(s===i)o=0;else{switch(s){case t:o=(n-r)/l+(n<r?6:0);break;case n:o=(r-t)/l+2;break;case r:o=(t-n)/l+4;break}o/=6}if(e.length>3){const f=e[3];return[o,c,a,f]}return[o,c,a]};var S8=A8,E8={colorize:e8,colorNameToRgb:s8,cssColors:Nv,hexToRgb:o8,hslToRgb:f8,hsvToRgb:h8,hueToColorComponent:$v,rgbToHex:g8,rgbToHsl:_8,rgbToHsv:S8};const w8=e=>{if(!Array.isArray(e))throw new Error("Bezier points must be a valid array/");if(e.length<2)throw new Error("Bezier points must contain at least 2 values.");const t=T8(e);return{points:e,pointType:t,dimensions:t==="float_single"?0:e[0].length,permutations:bh(e.length-1),tangentPermutations:bh(e.length-2)}},T8=function(e){let t=null;return e.forEach(n=>{let r="";if(Number.isFinite(n))r="float_single";else if(Array.isArray(n))n.forEach(s=>{if(!Number.isFinite(s))throw new Error("Bezier point values must all be numbers.")}),r="float_"+n.length;else throw new Error("Bezier points must all be numbers or arrays of number.");if(t==null)t=r;else if(t!==r)throw new Error("Bezier points must be either all numbers or all arrays of numbers of the same size.")}),t},bh=function(e){const t=[];for(let n=0;n<=e;n++)t.push(Hf(e)/(Hf(n)*Hf(e-n)));return t},Hf=function(e){let t=1;for(let n=2;n<=e;n++)t*=n;return t};var C8=w8;const P8=(e,t)=>{if(e<0||e>1)throw new Error("Bezier valueAt() input must be between 0 and 1");if(t.pointType==="float_single")return _h(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(_h(t,s,e))}return n}},_h=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<=r;i++)s+=e.permutations[i]*Math.pow(1-n,r-i)*Math.pow(n,i)*t[i];return s};var L8=P8;const O8=(e,t)=>{if(e<0||e>1)throw new Error("Bezier tangentAt() input must be between 0 and 1");if(t.pointType==="float_single")return yh(t,t.points,e);{const n=[];for(let r=0;r<t.dimensions;r++){const s=[];for(let i=0;i<t.points.length;i++)s.push(t.points[i][r]);n.push(yh(t,s,e))}return n}},yh=function(e,t,n){const r=t.length-1;let s=0;for(let i=0;i<r;i++){const o=r*(t[i+1]-t[i]);s+=e.tangentPermutations[i]*Math.pow(1-n,r-1-i)*Math.pow(n,i)*o}return s};var R8=O8,M8={create:C8,valueAt:L8,tangentAt:R8},I8={bezier:M8};const D8=e=>{let t=0;for(let n=0;n<e.length;n++){const r=(n+1)%e.length;t+=e[n][0]*e[r][1],t-=e[r][0]*e[n][1]}return t/2};var $l=D8;const F8=$l,x8=e=>F8(e.vertices);var Vv=x8;const k8=e=>((e===void 0||e.length<3)&&(e=[]),{vertices:e});var Uv=k8;const G8=Uv,B8=e=>{const t=e.vertices.slice().reverse();return G8(t)};var zv=B8;const N8=Vv,$8=zv,V8=(e,t)=>{if(e.length===0)return 0;const n=t.vertices;return n.length<3?0:(N8(t)<0&&(t=$8(t)),e.reduce((s,i)=>s+U8(i,n),0)===e.length?1:0)},U8=(e,t)=>{const n=t.length,r=e[0],s=e[1];let i=t[n-1],o=t[0],a=i[1]>s,l=0,c=0;for(let f=n+1;--f;){const u=o[1]>s;if(a!==u){const d=i[0]>r,h=o[0]>r;(d&&h||o[0]-(o[1]-s)*(i[0]-o[0])/(i[1]-o[1])>=r)&&(l=!l)}a=u,i=o,o=t[++c]}return l};var z8=V8,id={arePointsInside:z8,create:Uv,flip:zv,measureArea:Vv},od={geom2:vt,geom3:yt,path2:jt,poly2:id,poly3:Ft};const H8=()=>[0,1,0];var ad=H8;const j8=ad,q8=e=>{const t=j8();return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};var X8=q8;const jf=Tt,W8=e=>{const t=jf.normal(jf.create(),e);return jf.negate(t,t),t};var ld=W8;const Ah=Tt,Y8=e=>Ah.scale(Ah.create(),e,e[2]);var Vl=Y8;const Z8=Tt,K8=ld,Q8=Vl,J8=(e,t)=>{const n=Q8(e),r=K8(e),s=(r[1]-n[1])/(r[0]-n[0]),i=n[1]-s*n[0],o=-1/s,l=(t[1]-o*t[0]-i)/(s-o),c=s*l+i;return Z8.fromValues(l,c)};var e6=J8;const t6=(e,t)=>(e[0]=t[0],e[1]=t[1],e[2]=t[2],e);var Hv=t6;const n6=Tt,r6=(e,t)=>{let n=n6.dot(t,e);return n=Math.abs(n-e[2]),n};var s6=r6;const i6=(e,t)=>e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2];var o6=i6;const wo=Tt,a6=(e,t,n)=>{const r=wo.subtract(wo.create(),n,t);wo.normal(r,r),wo.normalize(r,r);const s=wo.dot(t,r);return e[0]=r[0],e[1]=r[1],e[2]=s,e};var jv=a6;const l6=ad,c6=(e,t,n)=>{const r=l6();return r[0]=e,r[1]=t,r[2]=n,r};var qv=c6;const{NEPS:qf}=kt,f6=(e,t)=>Math.abs(e[0]-t[0])<=qf&&Math.abs(e[1]-t[1])<=qf&&Math.abs(e[2]-t[2])<=qf;var Ul=f6;const u6=(e,t,n)=>{let r=n-e[1],s=t[1]-e[1];s<0&&(r=-r,s=-s);let i;return r<=0?i=0:r>=s?i=1:s<1e-10?i=.5:i=r/s,e[0]+i*(t[0]-e[0])};var Xv=u6;const d6=(e,t,n,r)=>{if(e[0]===t[0]&&e[1]===t[1]||n[0]===r[0]&&n[1]===r[1])return;const s=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(Math.abs(s)<Number.MIN_VALUE)return;const i=((r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]))/s,o=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/s;if(i<0||i>1||o<0||o>1)return;const a=e[0]+i*(t[0]-e[0]),l=e[1]+i*(t[1]-e[1]);return[a,l]};var Wv=d6;const h6=(e,t,n,r,s,i)=>{const a=1/(e*r-t*n);let l=s*r-t*i,c=-s*n+e*i;return l*=a,c*=a,[l,c]};var m6=h6,Qo={aboutEqualNormals:Ul,area:$l,cos:jn.cos,interpolateBetween2DPointsForY:Xv,intersect:Wv,sin:jn.sin,solve2Linear:m6};const p6=Tt,{solve2Linear:g6}=Qo,v6=(e,t)=>{const n=g6(e[0],e[1],t[0],t[1],e[2],t[2]);return p6.clone(n)};var b6=v6;const Sh=Tt,_6=Hv,y6=qv,A6=(e,t)=>{const n=Sh.negate(Sh.create(),t),r=-t[2];return _6(e,y6(n[0],n[1],r))};var S6=A6;const E6=e=>`line2: (${e[0].toFixed(7)}, ${e[1].toFixed(7)}, ${e[2].toFixed(7)})`;var w6=E6;const Eh=Tt,T6=jv,C6=Vl,P6=ld,L6=(e,t,n)=>{const r=C6(t),s=P6(t);return Eh.transform(r,r,n),Eh.transform(s,s,n),T6(e,r,s)};var O6=L6;const R6=Vl,M6=(e,t)=>{let n=(e[2]-e[1]*t)/e[0];return Number.isNaN(n)&&(n=R6(e)[0]),n};var I6=M6,cd={clone:X8,closestPoint:e6,copy:Hv,create:ad,direction:ld,distanceToPoint:s6,equals:o6,fromPoints:jv,fromValues:qv,intersectPointOfLines:b6,origin:Vl,reverse:S6,toString:w6,transform:O6,xAtY:I6};const wh=at,D6=()=>[wh.fromValues(0,0,0),wh.fromValues(0,0,1)];var Yv=D6;const Th=at,F6=Yv,x6=e=>{const t=F6();return Th.copy(t[0],e[0]),Th.copy(t[1],e[1]),t};var k6=x6;const Hs=at,G6=(e,t)=>{const n=e[0],r=e[1],s=Hs.dot(Hs.subtract(Hs.create(),t,n),r),i=Hs.dot(r,r),o=s/i,a=Hs.scale(Hs.create(),r,o);return Hs.add(a,a,n),a};var Zv=G6;const Ch=at,B6=(e,t)=>(Ch.copy(e[0],t[0]),Ch.copy(e[1],t[1]),e);var N6=B6;const $6=e=>e[1];var V6=$6;const Xf=at,U6=Zv,z6=(e,t)=>{const n=U6(e,t),r=Xf.subtract(Xf.create(),t,n);return Xf.length(r)};var H6=z6;const Ph=at,j6=(e,t)=>!(!Ph.equals(e[1],t[1])||!Ph.equals(e[0],t[0]));var q6=j6;const Za=at,X6=(e,t,n)=>{const r=Za.normalize(Za.create(),n);return Za.copy(e[0],t),Za.copy(e[1],r),e};var Jo=X6;const js=at,{solve2Linear:Wf}=Qo,{EPS:W6}=kt,Y6=Jo,Z6=(e,t,n)=>{let r=js.cross(js.create(),t,n),s=js.length(r);if(s<W6)throw new Error("parallel planes do not intersect");s=1/s,r=js.scale(r,r,s);const i=Math.abs(r[0]),o=Math.abs(r[1]),a=Math.abs(r[2]);let l,c;return i>=o&&i>=a?(c=Wf(t[1],t[2],n[1],n[2],t[3],n[3]),l=js.fromValues(0,c[0],c[1])):o>=i&&o>=a?(c=Wf(t[0],t[2],n[0],n[2],t[3],n[3]),l=js.fromValues(c[0],0,c[1])):(c=Wf(t[0],t[1],n[0],n[1],t[3],n[3]),l=js.fromValues(c[0],c[1],0)),Y6(e,l,r)};var K6=Z6;const Lh=at,Q6=Jo,J6=(e,t,n)=>{const r=Lh.subtract(Lh.create(),n,t);return Q6(e,t,r)};var eM=J6;const Oi=at,tM=(e,t)=>{const n=t,r=t[3],s=e[0],i=e[1],o=(r-Oi.dot(n,s))/Oi.dot(n,i);return Oi.add(Oi.create(),s,Oi.scale(Oi.create(),i,o))};var nM=tM;const rM=e=>e[0];var sM=rM;const Yf=at,iM=Jo,oM=(e,t)=>{const n=Yf.clone(t[0]),r=Yf.negate(Yf.create(),t[1]);return iM(e,n,r)};var aM=oM;const lM=e=>{const t=e[0],n=e[1];return`line3: point: (${t[0].toFixed(7)}, ${t[1].toFixed(7)}, ${t[2].toFixed(7)}) direction: (${n[0].toFixed(7)}, ${n[1].toFixed(7)}, ${n[2].toFixed(7)})`};var cM=lM;const Ri=at,fM=Jo,uM=(e,t,n)=>{const r=t[0],s=t[1],i=Ri.add(Ri.create(),r,s),o=Ri.transform(Ri.create(),r,n),a=Ri.transform(i,i,n),l=Ri.subtract(a,a,o);return fM(e,o,l)};var dM=uM,hM={clone:k6,closestPoint:Zv,copy:N6,create:Yv,direction:V6,distanceToPoint:H6,equals:q6,fromPlanes:K6,fromPointAndDirection:Jo,fromPoints:eM,intersectPointOfLineAndPlane:nM,origin:sM,reverse:aM,toString:cM,transform:dM},mM={constants:kt,line2:cd,line3:hM,mat4:Wt,plane:$r,utils:Qo,vec2:Tt,vec3:at,vec4:Ov};const pM=pt,Kv=vt,Qv=yt,gM=jt,vM=Ft,El=new WeakMap,bM=()=>0,_M=e=>{let t=El.get(e);return t||(t=Kv.toSides(e).reduce((r,s)=>r+(s[0][0]*s[1][1]-s[0][1]*s[1][0]),0),t*=.5,El.set(e,t),t)},yM=e=>{let t=El.get(e);return t||(t=Qv.toPolygons(e).reduce((r,s)=>r+vM.measureArea(s),0),El.set(e,t),t)},AM=(...e)=>{if(e=pM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>gM.isA(n)?bM():Kv.isA(n)?_M(n):Qv.isA(n)?yM(n):0);return t.length===1?t[0]:t};var Jv=AM;const SM=pt,EM=Jv,wM=(...e)=>{if(e=SM(e),e.length===0)throw new Error("measureAggregateArea: no geometries supplied");const t=EM(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var TM=wM;const CM=pt,Br=Tt,To=at,e2=vt,t2=yt,n2=jt,Oh=Ft,ji=new WeakMap,PM=e=>{let t=ji.get(e);if(t)return t;const n=n2.toPoints(e);let r;n.length===0?r=Br.create():r=Br.clone(n[0]);let s=Br.clone(r);return n.forEach(i=>{Br.min(r,r,i),Br.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],ji.set(e,t),t},LM=e=>{let t=ji.get(e);if(t)return t;const n=e2.toPoints(e);let r;n.length===0?r=Br.create():r=Br.clone(n[0]);let s=Br.clone(r);return n.forEach(i=>{Br.min(r,r,i),Br.max(s,s,i)}),r=[r[0],r[1],0],s=[s[0],s[1],0],t=[r,s],ji.set(e,t),t},OM=e=>{let t=ji.get(e);if(t)return t;const n=t2.toPolygons(e);let r=To.create();if(n.length>0){const i=Oh.toPoints(n[0]);To.copy(r,i[0])}let s=To.clone(r);return n.forEach(i=>{Oh.toPoints(i).forEach(o=>{To.min(r,r,o),To.max(s,s,o)})}),r=[r[0],r[1],r[2]],s=[s[0],s[1],s[2]],t=[r,s],ji.set(e,t),t},RM=(...e)=>{if(e=CM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>n2.isA(n)?PM(n):e2.isA(n)?LM(n):t2.isA(n)?OM(n):[[0,0,0],[0,0,0]]);return t.length===1?t[0]:t};var ii=RM;const MM=pt,IM=fv,DM=cv,FM=ii,xM=(...e)=>{if(e=MM(e),e.length===0)throw new Error("measureAggregateBoundingBox: no geometries supplied");const t=FM(e);if(e.length===1)return t;const n=[[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]];return t.reduce((r,s)=>(r=[IM(r[0],r[0],s[0]),DM(r[1],r[1],s[1])],r),n)};var fd=xM;const{EPS:kM}=kt,GM=(e,t)=>{let n=0;for(let r=0;r<t;r++)n+=e[1][r]-e[0][r];return kM*n/t};var r2=GM;const BM=pt,NM=fd,$M=r2,{geom2:VM,geom3:UM,path2:zM}=od,HM=(...e)=>{if(e=BM(e),e.length===0)throw new Error("measureAggregateEpsilon: no geometries supplied");const t=NM(e);let n=0;return n=e.reduce((r,s)=>zM.isA(s)||VM.isA(s)?Math.max(r,2):UM.isA(s)?Math.max(r,3):0,n),$M(t,n)};var jM=HM;const qM=pt,XM=vt,s2=yt,WM=jt,YM=Ft,Rh=new WeakMap,ZM=()=>0,KM=()=>0,QM=e=>{let t=Rh.get(e);return t||(t=s2.toPolygons(e).reduce((r,s)=>r+YM.measureSignedVolume(s),0),Rh.set(e,t),t)},JM=(...e)=>{if(e=qM(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>WM.isA(n)?ZM():XM.isA(n)?KM():s2.isA(n)?QM(n):0);return t.length===1?t[0]:t};var i2=JM;const eI=pt,tI=i2,nI=(...e)=>{if(e=eI(e),e.length===0)throw new Error("measureAggregateVolume: no geometries supplied");const t=tI(e);if(e.length===1)return t;const n=0;return t.reduce((r,s)=>r+s,n)};var rI=nI;const sI=pt,o2=Tt,ir=at,a2=vt,l2=yt,c2=jt,Mh=Ft,qi=new WeakMap,iI=e=>{let t=qi.get(e);if(t!==void 0)return t;const n=ir.create();let r=0;const s=c2.toPoints(e);if(s.length>0){let i=0;const o=ir.create();s.forEach(a=>{ir.add(n,n,ir.fromVec2(o,a,0)),i++}),ir.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,o2.squaredDistance(n,a))}),r=Math.sqrt(r)}return t=[n,r],qi.set(e,t),t},oI=e=>{let t=qi.get(e);if(t!==void 0)return t;const n=ir.create();let r=0;const s=a2.toSides(e);if(s.length>0){let i=0;const o=ir.create();s.forEach(a=>{ir.add(n,n,ir.fromVec2(o,a[0],0)),i++}),ir.scale(n,n,1/i),s.forEach(a=>{r=Math.max(r,o2.squaredDistance(n,a[0]))}),r=Math.sqrt(r)}return t=[n,r],qi.set(e,t),t},aI=e=>{let t=qi.get(e);if(t!==void 0)return t;const n=ir.create();let r=0;const s=l2.toPolygons(e);if(s.length>0){let i=0;s.forEach(o=>{Mh.toPoints(o).forEach(a=>{ir.add(n,n,a),i++})}),ir.scale(n,n,1/i),s.forEach(o=>{Mh.toPoints(o).forEach(a=>{r=Math.max(r,ir.squaredDistance(n,a))})}),r=Math.sqrt(r)}return t=[n,r],qi.set(e,t),t},lI=(...e)=>{e=sI(e);const t=e.map(n=>c2.isA(n)?iI(n):a2.isA(n)?oI(n):l2.isA(n)?aI(n):[[0,0,0],0]);return t.length===1?t[0]:t};var cI=lI;const fI=pt,uI=ii,dI=(...e)=>{e=fI(e);const t=e.map(n=>{const r=uI(n);return[r[0][0]+(r[1][0]-r[0][0])/2,r[0][1]+(r[1][1]-r[0][1])/2,r[0][2]+(r[1][2]-r[0][2])/2]});return t.length===1?t[0]:t};var hI=dI;const mI=pt,xr=at,f2=vt,u2=yt,wl=new WeakMap,pI=e=>{let t=wl.get(e);if(t!==void 0)return t;const n=f2.toSides(e);let r=0,s=0,i=0;if(n.length>0){for(let a=0;a<n.length;a++){const l=n[a][0],c=n[a][1],f=l[0]*c[1]-l[1]*c[0];r+=f,s+=(l[0]+c[0])*f,i+=(l[1]+c[1])*f}r/=2;const o=1/(r*6);s*=o,i*=o}return t=xr.fromValues(s,i,0),wl.set(e,t),t},gI=e=>{let t=wl.get(e);if(t!==void 0)return t;t=xr.create();const n=u2.toPolygons(e);if(n.length===0)return t;let r=0;const s=xr.create();return n.forEach(i=>{const o=i.vertices;for(let a=0;a<o.length-2;a++){xr.cross(s,o[a+1],o[a+2]);const l=xr.dot(o[0],s)/6;r+=l,xr.add(s,o[0],o[a+1]),xr.add(s,s,o[a+2]);const c=xr.scale(s,s,1/4*l);xr.add(t,t,c)}}),xr.scale(t,t,1/r),wl.set(e,t),t},vI=(...e)=>{e=mI(e);const t=e.map(n=>f2.isA(n)?pI(n):u2.isA(n)?gI(n):[0,0,0]);return t.length===1?t[0]:t};var bI=vI;const _I=pt,yI=ii,AI=(...e)=>{e=_I(e);const t=e.map(n=>{const r=yI(n);return[r[1][0]-r[0][0],r[1][1]-r[0][1],r[1][2]-r[0][2]]});return t.length===1?t[0]:t};var SI=AI;const EI=pt,{geom2:wI,geom3:TI,path2:CI}=od,ud=r2,dd=ii,PI=e=>ud(dd(e),2),LI=e=>ud(dd(e),2),OI=e=>ud(dd(e),3),RI=(...e)=>{if(e=EI(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>CI.isA(n)?PI(n):wI.isA(n)?LI(n):TI.isA(n)?OI(n):0);return t.length===1?t[0]:t};var Es=RI,Bu={measureAggregateArea:TM,measureAggregateBoundingBox:fd,measureAggregateEpsilon:jM,measureAggregateVolume:rI,measureArea:Jv,measureBoundingBox:ii,measureBoundingSphere:cI,measureCenter:hI,measureCenterOfMass:bI,measureDimensions:SI,measureEpsilon:Es,measureVolume:i2};const MI=(e,t)=>Array.isArray(e)&&e.length>=t?e.every(n=>Number.isFinite(n)):!1,II=(e,t)=>Number.isFinite(e)&&e>t,DI=(e,t)=>Number.isFinite(e)&&e>=t;var kn={isNumberArray:MI,isGT:II,isGTE:DI};const{EPS:Ih,TAU:Mi}=kt,Xr=Tt,FI=jt,{isGT:xI,isGTE:Zf,isNumberArray:kI}=kn,GI=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:Mi,makeTangent:!1,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,makeTangent:o,segments:a}=Object.assign({},t,e);if(!kI(n,2))throw new Error("center must be an array of X and Y values");if(!xI(r,0))throw new Error("radius must be greater than zero");if(!Zf(s,0))throw new Error("startAngle must be positive");if(!Zf(i,0))throw new Error("endAngle must be positive");if(!Zf(a,4))throw new Error("segments must be four or more");s=s%Mi,i=i%Mi;let l=Mi;s<i&&(l=i-s),s>i&&(l=i+(Mi-s));const c=Math.acos((r*r+r*r-Ih*Ih)/(2*r*r)),f=Xr.clone(n);let u;const d=[];if(l<c)u=Xr.fromAngleRadians(Xr.create(),s),Xr.scale(u,u,r),Xr.add(u,u,f),d.push(u);else{const h=Math.max(1,Math.floor(a*(l/Mi)))+1;let g=h*.5/l;g>.25&&(g=.25);const p=o?h+2:h;for(let m=0;m<=p;m++){let v=m;o&&(v=(m-1)*(h-2*g)/h+g,v<0&&(v=0),v>h&&(v=h));const b=s+v*(l/h);u=Xr.fromAngleRadians(Xr.create(),b),Xr.scale(u,u,r),Xr.add(u,u,f),d.push(u)}}return FI.fromPoints({closed:!1},d)};var BI=GI;const{EPS:Dh,TAU:ps}=kt,Kf=Tt,NI=vt,{sin:$I,cos:VI}=jn,{isGTE:Qf,isNumberArray:Fh}=kn,UI=e=>{const t={center:[0,0],radius:[1,1],startAngle:0,endAngle:ps,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!Fh(n,2))throw new Error("center must be an array of X and Y values");if(!Fh(r,2))throw new Error("radius must be an array of X and Y values");if(!r.every(h=>h>0))throw new Error("radius values must be greater than zero");if(!Qf(s,0))throw new Error("startAngle must be positive");if(!Qf(i,0))throw new Error("endAngle must be positive");if(!Qf(o,3))throw new Error("segments must be three or more");s=s%ps,i=i%ps;let a=ps;s<i&&(a=i-s),s>i&&(a=i+(ps-s));const l=Math.min(r[0],r[1]),c=Math.acos((l*l+l*l-Dh*Dh)/(2*l*l));if(a<c)throw new Error("startAngle and endAngle do not define a significant rotation");o=Math.floor(o*(a/ps));const f=Kf.clone(n),u=a/o,d=[];o=a<ps?o+1:o;for(let h=0;h<o;h++){const g=u*h+s,p=Kf.fromValues(r[0]*VI(g),r[1]*$I(g));Kf.add(p,f,p),d.push(p)}return a<ps&&d.push(f),NI.fromPoints(d)};var d2=UI;const{TAU:zI}=kt,HI=d2,{isGT:jI}=kn,qI=e=>{const t={center:[0,0],radius:1,startAngle:0,endAngle:zI,segments:32};let{center:n,radius:r,startAngle:s,endAngle:i,segments:o}=Object.assign({},t,e);if(!jI(r,0))throw new Error("radius must be greater than zero");return r=[r,r],HI({center:n,radius:r,startAngle:s,endAngle:i,segments:o})};var h2=qI;const XI=yt,WI=Ft,{isNumberArray:xh}=kn,YI=e=>{const t={center:[0,0,0],size:[2,2,2]},{center:n,size:r}=Object.assign({},t,e);if(!xh(n,3))throw new Error("center must be an array of X, Y and Z values");if(!xh(r,3))throw new Error("size must be an array of width, depth and height values");if(!r.every(i=>i>0))throw new Error("size values must be greater than zero");return XI.create([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(i=>{const o=i[0].map(a=>[n[0]+r[0]/2*(2*!!(a&1)-1),n[1]+r[1]/2*(2*!!(a&2)-1),n[2]+r[2]/2*(2*!!(a&4)-1)]);return WI.create(o)}))};var m2=YI;const ZI=m2,{isGT:KI}=kn,QI=e=>{const t={center:[0,0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!KI(r,0))throw new Error("size must be greater than zero");return r=[r,r,r],ZI({center:n,size:r})};var JI=QI;const{EPS:kh,TAU:gs}=kt,Un=at,eD=yt,tD=Ft,{sin:nD,cos:rD}=jn,{isGT:sD,isGTE:Jf,isNumberArray:eu}=kn,iD=e=>{const t={center:[0,0,0],height:2,startRadius:[1,1],startAngle:0,endRadius:[1,1],endAngle:gs,segments:32};let{center:n,height:r,startRadius:s,startAngle:i,endRadius:o,endAngle:a,segments:l}=Object.assign({},t,e);if(!eu(n,3))throw new Error("center must be an array of X, Y and Z values");if(!sD(r,0))throw new Error("height must be greater then zero");if(!eu(s,2))throw new Error("startRadius must be an array of X and Y values");if(!s.every(z=>z>=0))throw new Error("startRadius values must be positive");if(!eu(o,2))throw new Error("endRadius must be an array of X and Y values");if(!o.every(z=>z>=0))throw new Error("endRadius values must be positive");if(o.every(z=>z===0)&&s.every(z=>z===0))throw new Error("at least one radius must be positive");if(!Jf(i,0))throw new Error("startAngle must be positive");if(!Jf(a,0))throw new Error("endAngle must be positive");if(!Jf(l,4))throw new Error("segments must be four or more");i=i%gs,a=a%gs;let c=gs;i<a&&(c=a-i),i>a&&(c=a+(gs-i));const f=Math.min(s[0],s[1],o[0],o[1]),u=Math.acos((f*f+f*f-kh*kh)/(2*f*f));if(c<u)throw new Error("startAngle and endAngle do not define a significant rotation");const d=Math.floor(l*(c/gs)),h=Un.fromValues(0,0,-(r/2)),g=Un.fromValues(0,0,r/2),p=Un.subtract(Un.create(),g,h),m=Un.fromValues(1,0,0),v=Un.fromValues(0,1,0),b=Un.create(),y=Un.create(),S=Un.create(),w=(z,B,x)=>{const oe=B*c+i;return Un.scale(b,m,x[0]*rD(oe)),Un.scale(y,v,x[1]*nD(oe)),Un.add(b,b,y),Un.scale(S,p,z),Un.add(S,S,h),Un.add(Un.create(),b,S)},E=(...z)=>{const B=z.map(x=>Un.add(Un.create(),x,n));return tD.create(B)},A=[];for(let z=0;z<d;z++){const B=z/d;let x=(z+1)/d;c===gs&&z===d-1&&(x=0),o[0]===s[0]&&o[1]===s[1]?(A.push(E(h,w(0,x,o),w(0,B,o))),A.push(E(w(0,x,o),w(1,x,o),w(1,B,o),w(0,B,o))),A.push(E(g,w(1,B,o),w(1,x,o)))):(s[0]>0&&s[1]>0&&A.push(E(h,w(0,x,s),w(0,B,s))),(s[0]>0||s[1]>0)&&A.push(E(w(0,B,s),w(0,x,s),w(1,B,o))),o[0]>0&&o[1]>0&&A.push(E(g,w(1,B,o),w(1,x,o))),(o[0]>0||o[1]>0)&&A.push(E(w(1,B,o),w(0,x,s),w(1,x,o))))}return c<gs&&(A.push(E(h,w(0,0,s),g)),A.push(E(w(0,0,s),w(1,0,o),g)),A.push(E(h,g,w(0,1,s))),A.push(E(w(0,1,s),g,w(1,1,o)))),eD.create(A)};var p2=iD;const oD=p2,{isGT:aD}=kn,lD=e=>{const t={center:[0,0,0],height:2,radius:1,segments:32},{center:n,height:r,radius:s,segments:i}=Object.assign({},t,e);if(!aD(s,0))throw new Error("radius must be greater than zero");return oD({center:n,height:r,startRadius:[s,s],endRadius:[s,s],segments:i})};var cD=lD;const{TAU:Gh}=kt,lt=at,fD=yt,Bh=Ft,{sin:Nh,cos:$h}=jn,{isGTE:uD,isNumberArray:Vh}=kn,dD=e=>{const t={center:[0,0,0],radius:[1,1,1],segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!Vh(n,3))throw new Error("center must be an array of X, Y and Z values");if(!Vh(r,3))throw new Error("radius must be an array of X, Y and Z values");if(!r.every(g=>g>0))throw new Error("radius values must be greater than zero");if(!uD(s,4))throw new Error("segments must be four or more");const o=lt.scale(lt.create(),lt.normalize(lt.create(),i[0]),r[0]),a=lt.scale(lt.create(),lt.normalize(lt.create(),i[1]),r[1]),l=lt.scale(lt.create(),lt.normalize(lt.create(),i[2]),r[2]),c=Math.round(s/4);let f;const u=[],d=lt.create(),h=lt.create();for(let g=0;g<=s;g++){const p=Gh*g/s,m=lt.add(lt.create(),lt.scale(d,o,$h(p)),lt.scale(h,a,Nh(p)));if(g>0){let v,b;for(let y=0;y<=c;y++){const S=Gh/4*y/c,w=$h(S),E=Nh(S);if(y>0){let A=[],O;O=lt.subtract(lt.create(),lt.scale(d,f,v),lt.scale(h,l,b)),A.push(lt.add(O,O,n)),O=lt.subtract(lt.create(),lt.scale(d,m,v),lt.scale(h,l,b)),A.push(lt.add(O,O,n)),y<c&&(O=lt.subtract(lt.create(),lt.scale(d,m,w),lt.scale(h,l,E)),A.push(lt.add(O,O,n))),O=lt.subtract(lt.create(),lt.scale(d,f,w),lt.scale(h,l,E)),A.push(lt.add(O,O,n)),u.push(Bh.create(A)),A=[],O=lt.add(lt.create(),lt.scale(d,f,v),lt.scale(h,l,b)),A.push(lt.add(lt.create(),n,O)),O=lt.add(O,lt.scale(d,m,v),lt.scale(h,l,b)),A.push(lt.add(lt.create(),n,O)),y<c&&(O=lt.add(O,lt.scale(d,m,w),lt.scale(h,l,E)),A.push(lt.add(lt.create(),n,O))),O=lt.add(O,lt.scale(d,f,w),lt.scale(h,l,E)),A.push(lt.add(lt.create(),n,O)),A.reverse(),u.push(Bh.create(A))}v=w,b=E}}f=m}return fD.create(u)};var g2=dD;const hD=yt,mD=Ft,{isNumberArray:Uh}=kn,pD=e=>{const t={points:[],faces:[],colors:void 0,orientation:"outward"},{points:n,faces:r,colors:s,orientation:i}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and faces must be arrays");if(n.length<3)throw new Error("three or more points are required");if(r.length<1)throw new Error("one or more faces are required");if(s){if(!Array.isArray(s))throw new Error("colors must be an array");if(s.length!==r.length)throw new Error("faces and colors must have the same length")}n.forEach((a,l)=>{if(!Uh(a,3))throw new Error(`point ${l} must be an array of X, Y, Z values`)}),r.forEach((a,l)=>{if(a.length<3)throw new Error(`face ${l} must contain 3 or more indexes`);if(!Uh(a,a.length))throw new Error(`face ${l} must be an array of numbers`)}),i!=="outward"&&r.forEach(a=>a.reverse());const o=r.map((a,l)=>{const c=mD.create(a.map(f=>n[f]));return s&&s[l]&&(c.color=s[l]),c});return hD.create(o)};var v2=pD;const zh=Wt,Hh=at,gD=yt,vD=v2,{isGT:bD,isGTE:_D}=kn,yD=e=>{const t={radius:1,frequency:6};let{radius:n,frequency:r}=Object.assign({},t,e);if(!bD(n,0))throw new Error("radius must be greater than zero");if(!_D(r,6))throw new Error("frequency must be six or more");r=Math.floor(r/6);const s=[[.850651,0,-.525731],[.850651,-0,.525731],[-.850651,-0,.525731],[-.850651,0,-.525731],[0,-.525731,.850651],[0,.525731,.850651],[0,.525731,-.850651],[0,-.525731,-.850651],[-.525731,-.850651,-0],[.525731,-.850651,-0],[.525731,.850651,0],[-.525731,.850651,0]],i=[[0,9,1],[1,10,0],[6,7,0],[10,6,0],[7,9,0],[5,1,4],[4,1,9],[5,10,1],[2,8,3],[3,11,2],[2,5,4],[4,8,2],[2,11,5],[3,7,6],[6,11,3],[8,7,3],[9,8,4],[11,10,5],[10,11,6],[8,9,7]],o=(d,h,g)=>{const p=d[0],m=d[1],v=d[2];let b=g;const y=[],S=[];for(let w=0;w<h;w++)for(let E=0;E<h-w;E++){const A=w/h,O=(w+1)/h,z=E/(h-w),B=(E+1)/(h-w),x=h-w-1?E/(h-w-1):1,oe=[];oe[0]=a(a(p,m,z),v,A),oe[1]=a(a(p,m,B),v,A),oe[2]=a(a(p,m,x),v,O);for(let V=0;V<3;V++){const X=Hh.length(oe[V]);for(let Fe=0;Fe<3;Fe++)oe[V][Fe]/=X}if(y.push(oe[0],oe[1],oe[2]),S.push([b,b+1,b+2]),b+=3,E<h-w-1){const V=h-w-1?(E+1)/(h-w-1):1;oe[0]=a(a(p,m,B),v,A),oe[1]=a(a(p,m,V),v,O),oe[2]=a(a(p,m,x),v,O);for(let X=0;X<3;X++){const Fe=Hh.length(oe[X]);for(let ne=0;ne<3;ne++)oe[X][ne]/=Fe}y.push(oe[0],oe[1],oe[2]),S.push([b,b+1,b+2]),b+=3}}return{points:y,triangles:S,offset:b}},a=(d,h,g)=>{const p=1-g,m=[];for(let v=0;v<3;v++)m[v]=d[v]*p+h[v]*g;return m};let l=[],c=[],f=0;for(let d=0;d<i.length;d++){const h=o([s[i[d][0]],s[i[d][1]],s[i[d][2]]],r,f);l=l.concat(h.points),c=c.concat(h.triangles),f=h.offset}let u=vD({points:l,faces:c,orientation:"inward"});return n!==1&&(u=gD.transform(zh.fromScaling(zh.create(),[n,n,n]),u)),u};var AD=yD;const SD=jt,ED=e=>{if(!Array.isArray(e))throw new Error("points must be an array");return SD.fromPoints({},e)};var wD=ED;const tu=vt,TD=e=>{const t={points:[],paths:[]},{points:n,paths:r}=Object.assign({},t,e);if(!(Array.isArray(n)&&Array.isArray(r)))throw new Error("points and paths must be arrays");let s=n;Array.isArray(n[0])&&(Array.isArray(n[0][0])||(s=[n])),s.forEach((l,c)=>{if(!Array.isArray(l))throw new Error("list of points "+c+" must be an array");if(l.length<3)throw new Error("list of points "+c+" must contain three or more points");l.forEach((f,u)=>{if(!Array.isArray(f))throw new Error("list of points "+c+", point "+u+" must be an array");if(f.length<2)throw new Error("list of points "+c+", point "+u+" must contain by X and Y values")})});let i=r;if(r.length===0){let l=0;i=s.map(c=>c.map(f=>l++))}const o=[];s.forEach(l=>l.forEach(c=>o.push(c)));let a=[];return i.forEach(l=>{const c=l.map(u=>o[u]),f=tu.fromPoints(c);a=a.concat(tu.toSides(f))}),tu.create(a)};var CD=TD;const vs=Tt,PD=vt,{isNumberArray:jh}=kn,LD=e=>{const t={center:[0,0],size:[2,2]},{center:n,size:r}=Object.assign({},t,e);if(!jh(n,2))throw new Error("center must be an array of X and Y values");if(!jh(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(a=>a>0))throw new Error("size values must be greater than zero");const s=[r[0]/2,r[1]/2],i=[s[0],-s[1]],o=[vs.subtract(vs.create(),n,s),vs.add(vs.create(),n,i),vs.add(vs.create(),n,s),vs.subtract(vs.create(),n,i)];return PD.fromPoints(o)};var b2=LD;const{EPS:bl,TAU:Co}=kt,nu=Tt,Cn=at,OD=yt,Xi=Ft,{sin:RD,cos:MD}=jn,{isGT:ID,isGTE:DD,isNumberArray:qh}=kn,Xh=(e,t,n,r,s,i)=>{const o=Co/4*s/r,a=MD(o),l=RD(o),c=r-s;let f=n*a,u=t[2]-(n-n*l);i||(u=n-n*l-t[2]),f=f>bl?f:0;const d=Cn.add(Cn.create(),e,[t[0]-n,t[1]-n,u]),h=Cn.add(Cn.create(),e,[n-t[0],t[1]-n,u]),g=Cn.add(Cn.create(),e,[n-t[0],n-t[1],u]),p=Cn.add(Cn.create(),e,[t[0]-n,n-t[1],u]),m=[],v=[],b=[],y=[];for(let S=0;S<=c;S++){const w=c>0?Co/4*S/c:0,E=nu.fromAngleRadians(nu.create(),w);nu.scale(E,E,f);const A=Cn.fromVec2(Cn.create(),E);m.push(Cn.add(Cn.create(),d,A)),Cn.rotateZ(A,A,[0,0,0],Co/4),v.push(Cn.add(Cn.create(),h,A)),Cn.rotateZ(A,A,[0,0,0],Co/4),b.push(Cn.add(Cn.create(),g,A)),Cn.rotateZ(A,A,[0,0,0],Co/4),y.push(Cn.add(Cn.create(),p,A))}return i?[m,v,b,y]:(m.reverse(),v.reverse(),b.reverse(),y.reverse(),[y,b,v,m])},Wh=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];for(let o=0;o<s.length-1;o++)n.push(Xi.create([s[o],s[o+1],i[o]])),o<i.length-1&&n.push(Xi.create([i[o],s[o+1],i[o+1]]))}return n},Yh=(e,t)=>{const n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t[r];const o=s[s.length-1],a=i[i.length-1],l=(r+1)%e.length;s=e[l],i=t[l];const c=s[0],f=i[0];n.push(Xi.create([o,c,f,a]))}return n},FD=(e,t)=>{e=[e[3],e[2],e[1],e[0]],e=e.map(i=>i.slice().reverse());const n=[];e.forEach(i=>{i.forEach(o=>n.push(o))});const r=[];t.forEach(i=>{i.forEach(o=>r.push(o))});const s=[];for(let i=0;i<r.length;i++){const o=(i+1)%r.length;s.push(Xi.create([n[i],n[o],r[o],r[i]]))}return s},xD=e=>{const t={center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!qh(n,3))throw new Error("center must be an array of X, Y and Z values");if(!qh(r,3))throw new Error("size must be an array of X, Y and Z values");if(!r.every(c=>c>0))throw new Error("size values must be greater than zero");if(!ID(s,0))throw new Error("roundRadius must be greater than zero");if(!DD(i,4))throw new Error("segments must be four or more");if(r=r.map(c=>c/2),s>r[0]-bl||s>r[1]-bl||s>r[2]-bl)throw new Error("roundRadius must be smaller then the radius of all dimensions");i=Math.floor(i/4);let o=null,a=null,l=[];for(let c=0;c<=i;c++){const f=Xh(n,r,s,i,c,!0),u=Xh(n,r,s,i,c,!1);if(c===0&&(l=l.concat(FD(u,f))),o&&(l=l.concat(Wh(o,f),Yh(o,f))),a&&(l=l.concat(Wh(a,u),Yh(a,u))),c===i){let d=f.map(h=>h[0]);l.push(Xi.create(d)),d=u.map(h=>h[0]),l.push(Xi.create(d))}o=f,a=u}return OD.create(l)};var kD=xD;const{EPS:Zh,TAU:Kh}=kt,We=at,GD=yt,BD=Ft,{sin:Qh,cos:Jh}=jn,{isGT:ru,isGTE:ND,isNumberArray:$D}=kn,VD=e=>{const t={center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},{center:n,height:r,radius:s,roundRadius:i,segments:o}=Object.assign({},t,e);if(!$D(n,3))throw new Error("center must be an array of X, Y and Z values");if(!ru(r,0))throw new Error("height must be greater then zero");if(!ru(s,0))throw new Error("radius must be greater then zero");if(!ru(i,0))throw new Error("roundRadius must be greater then zero");if(i>s-Zh)throw new Error("roundRadius must be smaller then the radius");if(!ND(o,4))throw new Error("segments must be four or more");const a=[0,0,-(r/2)],l=[0,0,r/2],c=We.subtract(We.create(),l,a),f=We.length(c);if(2*i>f-Zh)throw new Error("height must be larger than twice roundRadius");let u;Math.abs(c[0])>Math.abs(c[1])?u=We.fromValues(0,1,0):u=We.fromValues(1,0,0);const d=We.scale(We.create(),We.normalize(We.create(),c),i),h=We.scale(We.create(),We.normalize(We.create(),We.cross(We.create(),d,u)),s),g=We.scale(We.create(),We.normalize(We.create(),We.cross(We.create(),h,d)),s);We.add(a,a,d),We.subtract(l,l,d);const p=Math.floor(.25*o),m=E=>{const A=E.map(O=>We.add(O,O,n));return BD.create(A)},v=[],b=We.create(),y=We.create();let S;for(let E=0;E<=o;E++){const A=Kh*E/o,O=We.add(We.create(),We.scale(b,h,Jh(A)),We.scale(y,g,Qh(A)));if(E>0){let z=[];z.push(We.add(We.create(),a,O)),z.push(We.add(We.create(),a,S)),z.push(We.add(We.create(),l,S)),z.push(We.add(We.create(),l,O)),v.push(m(z));let B,x;for(let oe=0;oe<=p;oe++){const V=Kh/4*oe/p,X=Jh(V),Fe=Qh(V);if(oe>0){z=[];let ne;ne=We.add(We.create(),a,We.subtract(b,We.scale(b,S,B),We.scale(y,d,x))),z.push(ne),ne=We.add(We.create(),a,We.subtract(b,We.scale(b,O,B),We.scale(y,d,x))),z.push(ne),oe<p&&(ne=We.add(We.create(),a,We.subtract(b,We.scale(b,O,X),We.scale(y,d,Fe))),z.push(ne)),ne=We.add(We.create(),a,We.subtract(b,We.scale(b,S,X),We.scale(y,d,Fe))),z.push(ne),v.push(m(z)),z=[],ne=We.add(We.create(),We.scale(b,S,B),We.scale(y,d,x)),We.add(ne,ne,l),z.push(ne),ne=We.add(We.create(),We.scale(b,O,B),We.scale(y,d,x)),We.add(ne,ne,l),z.push(ne),oe<p&&(ne=We.add(We.create(),We.scale(b,O,X),We.scale(y,d,Fe)),We.add(ne,ne,l),z.push(ne)),ne=We.add(We.create(),We.scale(b,S,X),We.scale(y,d,Fe)),We.add(ne,ne,l),z.push(ne),z.reverse(),v.push(m(z))}B=X,x=Fe}}S=O}return GD.create(v)};var UD=VD;const{EPS:em,TAU:Ka}=kt,sn=Tt,zD=vt,{isGT:HD,isGTE:jD,isNumberArray:tm}=kn,qD=e=>{const t={center:[0,0],size:[2,2],roundRadius:.2,segments:32};let{center:n,size:r,roundRadius:s,segments:i}=Object.assign({},t,e);if(!tm(n,2))throw new Error("center must be an array of X and Y values");if(!tm(r,2))throw new Error("size must be an array of X and Y values");if(!r.every(p=>p>0))throw new Error("size values must be greater than zero");if(!HD(s,0))throw new Error("roundRadius must be greater than zero");if(!jD(i,4))throw new Error("segments must be four or more");if(r=r.map(p=>p/2),s>r[0]-em||s>r[1]-em)throw new Error("roundRadius must be smaller then the radius of all dimensions");const o=Math.floor(i/4),a=sn.add(sn.create(),n,[r[0]-s,r[1]-s]),l=sn.add(sn.create(),n,[s-r[0],r[1]-s]),c=sn.add(sn.create(),n,[s-r[0],s-r[1]]),f=sn.add(sn.create(),n,[r[0]-s,s-r[1]]),u=[],d=[],h=[],g=[];for(let p=0;p<=o;p++){const m=Ka/4*p/o,v=sn.fromAngleRadians(sn.create(),m);sn.scale(v,v,s),u.push(sn.add(sn.create(),a,v)),sn.rotate(v,v,sn.create(),Ka/4),d.push(sn.add(sn.create(),l,v)),sn.rotate(v,v,sn.create(),Ka/4),h.push(sn.add(sn.create(),c,v)),sn.rotate(v,v,sn.create(),Ka/4),g.push(sn.add(sn.create(),f,v))}return zD.fromPoints(u.concat(d,h,g))};var XD=qD;const WD=g2,{isGT:YD}=kn,ZD=e=>{const t={center:[0,0,0],radius:1,segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]};let{center:n,radius:r,segments:s,axes:i}=Object.assign({},t,e);if(!YD(r,0))throw new Error("radius must be greater than zero");return r=[r,r,r],WD({center:n,radius:r,segments:s,axes:i})};var _2=ZD;const KD=b2,{isGT:QD}=kn,JD=e=>{const t={center:[0,0],size:2};let{center:n,size:r}=Object.assign({},t,e);if(!QD(r,0))throw new Error("size must be greater than zero");return r=[r,r],KD({center:n,size:r})};var eF=JD;const{TAU:y2}=kt,xo=Tt,tF=vt,{isGT:nF,isGTE:Qa,isNumberArray:rF}=kn,sF=(e,t)=>e>0&&t>1&&t<e/2?Math.cos(Math.PI*t/e)/Math.cos(Math.PI*(t-1)/e):0,nm=(e,t,n,r)=>{const s=y2/e,i=[];for(let o=0;o<e;o++){const a=xo.fromAngleRadians(xo.create(),s*o+n);xo.scale(a,a,t),xo.add(a,r,a),i.push(a)}return i},iF=e=>{const t={center:[0,0],vertices:5,outerRadius:1,innerRadius:0,density:2,startAngle:0};let{center:n,vertices:r,outerRadius:s,innerRadius:i,density:o,startAngle:a}=Object.assign({},t,e);if(!rF(n,2))throw new Error("center must be an array of X and Y values");if(!Qa(r,2))throw new Error("vertices must be two or more");if(!nF(s,0))throw new Error("outerRadius must be greater than zero");if(!Qa(i,0))throw new Error("innerRadius must be greater than zero");if(!Qa(a,0))throw new Error("startAngle must be greater than zero");if(r=Math.floor(r),o=Math.floor(o),a=a%y2,i===0){if(!Qa(o,2))throw new Error("density must be two or more");i=s*sF(r,o)}const l=xo.clone(n),c=nm(r,s,a,l),f=nm(r,i,a+Math.PI/r,l),u=[];for(let d=0;d<r;d++)u.push(c[d]),u.push(f[d]);return tF.fromPoints(u)};var oF=iF;const aF=pt,rm=Wt,sm=$r,im=vt,om=yt,am=jt,zl=(e,...t)=>{const n={origin:[0,0,0],normal:[0,0,1]},{origin:r,normal:s}=Object.assign({},n,e);if(t=aF(t),t.length===0)throw new Error("wrong number of arguments");const i=sm.fromNormalAndPoint(sm.create(),s,r);if(Number.isNaN(i[0]))throw new Error("the given origin and normal do not define a proper plane");const o=rm.mirrorByPlane(rm.create(),i),a=t.map(l=>am.isA(l)?am.transform(o,l):im.isA(l)?im.transform(o,l):om.isA(l)?om.transform(o,l):l);return a.length===1?a[0]:a},lF=(...e)=>zl({normal:[1,0,0]},e),cF=(...e)=>zl({normal:[0,1,0]},e),fF=(...e)=>zl({normal:[0,0,1]},e);var ko={mirror:zl,mirrorX:lF,mirrorY:cF,mirrorZ:fF};const lm=$r,qs=at,uF=e=>{const t=e.edges;if(t.length<3)throw new Error("slices must have 3 or more edges to calculate a plane");const n=t.reduce((o,a)=>qs.add(qs.create(),o,a[0]),qs.create());qs.scale(n,n,1/t.length);let r,s=0;t.forEach(o=>{if(!qs.equals(o[0],o[1])){const a=qs.squaredDistance(n,o[0]);a>s&&(r=o,s=a)}});const i=t.find(o=>qs.equals(o[1],r[0]));return lm.fromPoints(lm.create(),i[0],r[0],r[1])};var A2=uF;const dF=e=>(e||(e=[]),{edges:e});var oi=dF;const hF=oi,cm=at,mF=(...e)=>{let t,n;return e.length===1?(t=hF(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[cm.clone(r[0]),cm.clone(r[1])]),t};var pF=mF;const gF=at,vF=(e,t)=>{const n=e.edges,r=t.edges;return n.length!==r.length?!1:n.reduce((i,o,a)=>{const l=r[a],c=gF.squaredDistance(o[0],l[0]);return i&&c<Number.EPSILON},!0)};var bF=vF;const Ja=at,_F=oi,yF=e=>{if(!Array.isArray(e))throw new Error("the given points must be an array");if(e.length<3)throw new Error("the given points must contain THREE or more points");const t=[];let n=e[e.length-1];return e.forEach(r=>{r.length===2&&t.push([Ja.fromVec2(Ja.create(),n),Ja.fromVec2(Ja.create(),r)]),r.length===3&&t.push([n,r]),n=r}),_F(t)};var AF=yF;const el=at,SF=oi,EF=e=>{if(!Array.isArray(e))throw new Error("the given sides must be an array");const t=[];return e.forEach(n=>{t.push([el.fromVec2(el.create(),n[0]),el.fromVec2(el.create(),n[1])])}),SF(t)};var wF=EF;const TF=e=>!!(e&&typeof e=="object"&&"edges"in e&&Array.isArray(e.edges));var CF=TF;const PF=oi,LF=(...e)=>{let t,n;return e.length===1?(t=PF(),n=e[0]):(t=e[0],n=e[1]),t.edges=n.edges.map(r=>[r[1],r[0]]),t};var OF=LF;const RF=e=>e.edges;var MF=RF;const IF=(e,t)=>{let n,r,s,i,o,a=1;do{r=e,e=null;let l=null;for(o=0;r;){o++,s=r;let c=0;for(n=0;n<a&&(c++,s=s.nextZ,!!s);n++);let f=a;for(;c>0||f>0&&s;)c!==0&&(f===0||!s||t(r)<=t(s))?(i=r,r=r.nextZ,c--):(i=s,s=s.nextZ,f--),l?l.nextZ=i:e=i,i.prevZ=l,l=i;r=s}l.nextZ=null,a*=2}while(o>1);return e};var DF=IF;const FF=DF;let S2=class{constructor(t,n,r){this.i=t,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}};const xF=(e,t,n,r)=>{const s=new S2(e,t,n);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s},kF=e=>{e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)};var E2={Node:S2,insertNode:xF,removeNode:kF,sortLinked:FF};const GF=(e,t,n,r,s,i,o,a)=>(s-o)*(t-a)-(e-o)*(i-a)>=0&&(e-o)*(r-a)-(n-o)*(t-a)>=0&&(n-o)*(i-a)-(s-o)*(r-a)>=0,BF=(e,t,n)=>(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);var hd={area:BF,pointInTriangle:GF};const{Node:fm,insertNode:um,removeNode:Tl}=E2,{area:or}=hd,NF=(e,t,n,r,s)=>{let i;if(s===jF(e,t,n,r)>0)for(let o=t;o<n;o+=r)i=um(o,e[o],e[o+1],i);else for(let o=n-r;o>=t;o-=r)i=um(o,e[o],e[o+1],i);return i&&Hl(i,i.next)&&(Tl(i),i=i.next),i},w2=(e,t)=>{if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&(Hl(n,n.next)||or(n.prev,n,n.next)===0)){if(Tl(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t},$F=(e,t,n)=>{let r=e;do{const s=r.prev,i=r.next.next;!Hl(s,i)&&T2(s,r,r.next,i)&&qo(s,i)&&qo(i,s)&&(t.push(s.i/n),t.push(r.i/n),t.push(i.i/n),Tl(r),Tl(r.next),r=e=i),r=r.next}while(r!==e);return w2(r)},VF=(e,t)=>{let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&T2(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1},qo=(e,t)=>or(e.prev,e,e.next)<0?or(e,t,e.next)>=0&&or(e,e.prev,t)>=0:or(e,t,e.prev)<0||or(e,e.next,t)<0,UF=(e,t)=>{let n=e,r=!1;const s=(e.x+t.x)/2,i=(e.y+t.y)/2;do n.y>i!=n.next.y>i&&n.next.y!==n.y&&s<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r},zF=(e,t)=>{const n=new fm(e.i,e.x,e.y),r=new fm(t.i,t.x,t.y),s=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=s,s.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r},HF=(e,t)=>e.next.i!==t.i&&e.prev.i!==t.i&&!VF(e,t)&&(qo(e,t)&&qo(t,e)&&UF(e,t)&&(or(e.prev,e,t.prev)||or(e,t.prev,t))||Hl(e,t)&&or(e.prev,e,e.next)>0&&or(t.prev,t,t.next)>0),T2=(e,t,n,r)=>{const s=Math.sign(or(e,t,n)),i=Math.sign(or(e,t,r)),o=Math.sign(or(n,r,e)),a=Math.sign(or(n,r,t));return!!(s!==i&&o!==a||s===0&&tl(e,n,t)||i===0&&tl(e,r,t)||o===0&&tl(n,e,r)||a===0&&tl(n,t,r))},tl=(e,t,n)=>t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y),jF=(e,t,n,r)=>{let s=0;for(let i=t,o=n-r;i<n;i+=r)s+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return s},Hl=(e,t)=>e.x===t.x&&e.y===t.y;var C2={cureLocalIntersections:$F,filterPoints:w2,isValidDiagonal:HF,linkedPolygon:NF,locallyInside:qo,splitPolygon:zF};const{filterPoints:Nu,linkedPolygon:qF,locallyInside:XF,splitPolygon:WF}=C2,{area:dm,pointInTriangle:YF}=hd,ZF=(e,t,n,r)=>{const s=[];for(let i=0,o=t.length;i<o;i++){const a=t[i]*r,l=i<o-1?t[i+1]*r:e.length,c=qF(e,a,l,r,!1);c===c.next&&(c.steiner=!0),s.push(e7(c))}s.sort((i,o)=>i.x-o.x);for(let i=0;i<s.length;i++)n=KF(s[i],n),n=Nu(n,n.next);return n},KF=(e,t)=>{const n=QF(e,t);if(!n)return t;const r=WF(n,e),s=Nu(n,n.next);return Nu(r,r.next),t===n?s:t},QF=(e,t)=>{let n=t;const r=e.x,s=e.y;let i=-1/0,o;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const u=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>i){if(i=u,u===r){if(s===n.y)return n;if(s===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===i)return o;const a=o,l=o.x,c=o.y;let f=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&YF(s<c?r:i,s,l,c,s<c?i:r,s,n.x,n.y)){const u=Math.abs(s-n.y)/(r-n.x);XF(n,e)&&(u<f||u===f&&(n.x>o.x||n.x===o.x&&JF(o,n)))&&(o=n,f=u)}n=n.next}while(n!==a);return o},JF=(e,t)=>dm(e.prev,e,t.prev)<0&&dm(t.next,e,e.next)<0,e7=e=>{let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n};var t7=ZF;const n7=t7,{removeNode:r7,sortLinked:s7}=E2,{cureLocalIntersections:i7,filterPoints:Cl,isValidDiagonal:o7,linkedPolygon:a7,splitPolygon:l7}=C2,{area:Ks,pointInTriangle:Go}=hd,c7=(e,t,n=2)=>{const r=t&&t.length,s=r?t[0]*n:e.length;let i=a7(e,0,s,n,!0);const o=[];if(!i||i.next===i.prev)return o;let a,l,c,f,u;if(r&&(i=n7(e,t,i,n)),e.length>80*n){a=c=e[0],l=f=e[1];for(let d=n;d<s;d+=n){const h=e[d],g=e[d+1];h<a&&(a=h),g<l&&(l=g),h>c&&(c=h),g>f&&(f=g)}u=Math.max(c-a,f-l),u=u!==0?1/u:0}return Xo(i,o,n,a,l,u),o},Xo=(e,t,n,r,s,i,o)=>{if(!e)return;!o&&i&&h7(e,r,s,i);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,i?u7(e,r,s,i):f7(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),r7(e),e=c.next,a=c.next;continue}if(e=c,e===a){o?o===1?(e=i7(Cl(e),t,n),Xo(e,t,n,r,s,i,2)):o===2&&d7(e,t,n,r,s,i):Xo(Cl(e),t,n,r,s,i,1);break}}},f7=e=>{const t=e.prev,n=e,r=e.next;if(Ks(t,n,r)>=0)return!1;let s=e.next.next;for(;s!==e.prev;){if(Go(t.x,t.y,n.x,n.y,r.x,r.y,s.x,s.y)&&Ks(s.prev,s,s.next)>=0)return!1;s=s.next}return!0},u7=(e,t,n,r)=>{const s=e.prev,i=e,o=e.next;if(Ks(s,i,o)>=0)return!1;const a=s.x<i.x?s.x<o.x?s.x:o.x:i.x<o.x?i.x:o.x,l=s.y<i.y?s.y<o.y?s.y:o.y:i.y<o.y?i.y:o.y,c=s.x>i.x?s.x>o.x?s.x:o.x:i.x>o.x?i.x:o.x,f=s.y>i.y?s.y>o.y?s.y:o.y:i.y>o.y?i.y:o.y,u=$u(a,l,t,n,r),d=$u(c,f,t,n,r);let h=e.prevZ,g=e.nextZ;for(;h&&h.z>=u&&g&&g.z<=d;){if(h!==e.prev&&h!==e.next&&Go(s.x,s.y,i.x,i.y,o.x,o.y,h.x,h.y)&&Ks(h.prev,h,h.next)>=0||(h=h.prevZ,g!==e.prev&&g!==e.next&&Go(s.x,s.y,i.x,i.y,o.x,o.y,g.x,g.y)&&Ks(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;h&&h.z>=u;){if(h!==e.prev&&h!==e.next&&Go(s.x,s.y,i.x,i.y,o.x,o.y,h.x,h.y)&&Ks(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;g&&g.z<=d;){if(g!==e.prev&&g!==e.next&&Go(s.x,s.y,i.x,i.y,o.x,o.y,g.x,g.y)&&Ks(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0},d7=(e,t,n,r,s,i)=>{let o=e;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&o7(o,a)){let l=l7(o,a);o=Cl(o,o.next),l=Cl(l,l.next),Xo(o,t,n,r,s,i),Xo(l,t,n,r,s,i);return}a=a.next}o=o.next}while(o!==e)},h7=(e,t,n,r)=>{let s=e;do s.z===null&&(s.z=$u(s.x,s.y,t,n,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,s7(s,i=>i.z)},$u=(e,t,n,r,s)=>(e=32767*(e-n)*s,t=32767*(t-r)*s,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1);var m7=c7;const{area:p7}=Qo,{toOutlines:g7}=vt,{arePointsInside:v7}=id,b7=e=>{const t=g7(e),n=[],r=[];t.forEach((o,a)=>{const l=p7(o);l<0?r.push(a):l>0&&n.push(a)});const s=[],i=[];return n.forEach((o,a)=>{const l=t[o];s[a]=[],r.forEach((c,f)=>{const u=t[c];v7([u[0]],{vertices:l})&&(s[a].push(c),i[f]||(i[f]=[]),i[f].push(a))})}),r.forEach((o,a)=>{if(i[a]&&i[a].length>1){const l=_7(i[a],c=>s[c].length);i[a].forEach((c,f)=>{f!==l&&(s[c]=s[c].filter(u=>u!==o))})}}),s.map((o,a)=>({solid:t[n[a]],holes:o.map(l=>t[l])}))},_7=(e,t)=>{let n,r;return e.forEach((s,i)=>{const o=t(s);(r===void 0||o<r)&&(n=i,r=o)}),n};var y7=b7;const A7=vt,hm=$r,S7=Tt,Hn=at,E7=A2,w7=y7;let T7=class{constructor(t){this.plane=E7(t);const n=Hn.orthogonal(Hn.create(),this.plane),r=Hn.cross(Hn.create(),this.plane,n);this.v=Hn.normalize(r,r),this.u=Hn.cross(Hn.create(),this.v,this.plane),this.basisMap=new Map;const s=t.edges.map(o=>o.map(a=>this.to2D(a))),i=A7.create(s);this.roots=w7(i)}to2D(t){const n=S7.fromValues(Hn.dot(t,this.u),Hn.dot(t,this.v));return this.basisMap.set(n,t),n}to3D(t){const n=this.basisMap.get(t);if(n)return n;{console.log("Warning: point not in original slice");const r=Hn.scale(Hn.create(),this.u,t[0]),s=Hn.scale(Hn.create(),this.v,t[1]),i=Hn.scale(Hn.create(),hm,hm[3]),o=Hn.add(r,r,i);return Hn.add(s,s,o)}}};var C7=T7;const P7=Ft,L7=m7,O7=C7,R7=e=>{const t=new O7(e),n=[];return t.roots.forEach(({solid:r,holes:s})=>{let i=r.length;const o=[];s.forEach((u,d)=>{o.push(i),i+=u.length});const a=[r,...s].flat(),l=a.flat(),c=u=>t.to3D(a[u]),f=L7(l,o);for(let u=0;u<f.length;u+=3){const d=f.slice(u,u+3).map(c);n.push(P7.fromPointsAndPlane(d,t.plane))}}),n};var M7=R7;const mm=at,I7=e=>e.reduce((t,n)=>t+=`[${mm.toString(n[0])}, ${mm.toString(n[1])}], `,""),D7=e=>`[${I7(e.edges)}]`;var F7=D7;const nl=at,x7=oi,k7=(e,t)=>{const n=t.edges.map(r=>[nl.transform(nl.create(),r[0],e),nl.transform(nl.create(),r[1],e)]);return x7(n)};var G7=k7,Ji={calculatePlane:A2,clone:pF,create:oi,equals:bF,fromPoints:AF,fromSides:wF,isA:CF,reverse:OF,toEdges:MF,toPolygons:M7,toString:F7,transform:G7};const pm=at,B7=oi,N7=e=>{if(!e.edges)return e;let t=e.edges;const n=new Map,r=new Map;t=t.filter(o=>!pm.equals(o[0],o[1])),t.forEach(o=>{const a=o[0].toString(),l=o[1].toString();n.set(a,o[0]),n.set(l,o[1]),r.set(a,(r.get(a)||0)+1),r.set(l,(r.get(l)||0)-1)});const s=[],i=[];return r.forEach((o,a)=>{o<0&&s.push(a),o>0&&i.push(a)}),s.forEach(o=>{const a=n.get(o);let l=1/0,c;i.forEach(f=>{const u=n.get(f),d=pm.distance(a,u);d<l&&(l=d,c=u)}),console.warn(`slice.repair: repairing vertex gap ${a} to ${c} distance ${l}`),t=t.map(f=>f[0].toString()===o?[c,f[1]]:f[1].toString()===o?[f[0],c]:f)}),B7(t)};var $7=N7;const{EPS:gm}=kt,Ii=at,rl=Ft,vm=Ji,Vu=(e,t)=>e===t?e:e<t?Vu(t,e):t===1?1:t===0?e:Vu(t,e%t),V7=(e,t)=>e*t/Vu(e,t),bm=(e,t)=>{const n=e/t.length;if(n===1)return t;const r=Ii.fromValues(n,n,n),s=[];return t.forEach(i=>{const o=Ii.subtract(Ii.create(),i[1],i[0]);Ii.divide(o,o,r);let a=i[0];for(let l=1;l<=n;++l){const c=Ii.add(Ii.create(),a,o);s.push([a,c]),a=c}}),s},_m=gm*gm/2*Math.sin(Math.PI/3),U7=(e,t)=>{let n=vm.toEdges(e),r=vm.toEdges(t);if(n.length!==r.length){const i=V7(n.length,r.length);i!==n.length&&(n=bm(i,n)),i!==r.length&&(r=bm(i,r))}const s=[];return n.forEach((i,o)=>{const a=r[o],l=rl.create([i[0],i[1],a[1]]),c=rl.measureArea(l);Number.isFinite(c)&&c>_m&&s.push(l);const f=rl.create([i[0],a[1],a[0]]),u=rl.measureArea(f);Number.isFinite(u)&&u>_m&&s.push(f)}),s};var z7=U7;const ym=Wt,Am=vt,H7=yt,Uu=Ft,ys=Ji,j7=$7,Sm=z7,q7=(e,t,n)=>{let r=null;return Am.isA(n)&&(r=ys.fromSides(Am.toSides(n))),Uu.isA(n)&&(r=ys.fromPoints(Uu.toPoints(n))),e===0||e===1?ys.transform(ym.fromTranslation(ym.create(),[0,0,e]),r):null},X7=(e,t)=>{const n={numberOfSlices:2,capStart:!0,capEnd:!0,close:!1,repair:!0,callback:q7},{numberOfSlices:r,capStart:s,capEnd:i,close:o,repair:a,callback:l}=Object.assign({},n,e);if(r<2)throw new Error("numberOfSlices must be 2 or more");a&&(t=j7(t));const c=r-1;let f=null,u=null,d=null,h=[];for(let g=0;g<r;g++){const p=l(g/c,g,t);if(p){if(!ys.isA(p))throw new Error("the callback function must return slice objects");if(ys.toEdges(p).length===0)throw new Error("the callback function must return slices with one or more edges");d&&(h=h.concat(Sm(d,p))),g===0&&(f=p),g===r-1&&(u=p),d=p}}if(i){const g=ys.toPolygons(u);h=h.concat(g)}if(s){const g=ys.toPolygons(f).map(Uu.invert);h=h.concat(g)}return!s&&!i&&o&&!ys.equals(u,f)&&(h=h.concat(Sm(u,f))),H7.create(h)};var jl=X7;const{TAU:dr}=kt,Po=Wt,{mirrorX:W7}=ko,Lo=vt,su=Ji,Y7=jl,Z7=(e,t)=>{const n={segments:12,startAngle:0,angle:dr,overflow:"cap"};let{segments:r,startAngle:s,angle:i,overflow:o}=Object.assign({},n,e);if(r<3)throw new Error("segments must be greater then 3");s=Math.abs(s)>dr?s%dr:s,i=Math.abs(i)>dr?i%dr:i;let a=s+i;if(a=Math.abs(a)>dr?a%dr:a,a<s){const b=s;s=a,a=b}let l=a-s;if(l<=0&&(l=dr),Math.abs(l)<dr){const b=dr/r;r=Math.floor(Math.abs(l)/b),Math.abs(l)>r*b&&r++}let c=Lo.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(b=>b[0][0]<0),u=c.filter(b=>b[0][0]>=0);f.length>0&&u.length>0&&o==="cap"&&(f.length>u.length?(c=c.map(b=>{let y=b[0],S=b[1];return y=[Math.min(y[0],0),y[1]],S=[Math.min(S[0],0),S[1]],[y,S]}),t=Lo.reverse(Lo.create(c)),t=W7(t)):u.length>=f.length&&(c=c.map(b=>{let y=b[0],S=b[1];return y=[Math.max(y[0],0),y[1]],S=[Math.max(S[0],0),S[1]],[y,S]}),t=Lo.create(c)));const h=l/r,g=Math.abs(l)<dr,p=su.fromSides(Lo.toSides(t));su.reverse(p,p);const m=Po.create(),v=(b,y,S)=>{let w=h*y+s;return l===dr&&y===r&&(w=s),Po.multiply(m,Po.fromZRotation(m,w),Po.fromXRotation(Po.create(),dr/4)),su.transform(m,S)};return e={numberOfSlices:r+1,capStart:g,capEnd:g,close:!g,callback:v},Y7(e,p)};var P2=Z7;const K7=pt,Em=Wt,wm=vt,Tm=yt,Cm=jt,ql=(e,...t)=>{if(!Array.isArray(e))throw new Error("angles must be an array");if(t=K7(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=e[2],r=e[1],s=e[0],i=Em.fromTaitBryanRotation(Em.create(),n,r,s),o=t.map(a=>Cm.isA(a)?Cm.transform(i,a):wm.isA(a)?wm.transform(i,a):Tm.isA(a)?Tm.transform(i,a):a);return o.length===1?o[0]:o},Q7=(e,...t)=>ql([e,0,0],t),J7=(e,...t)=>ql([0,e,0],t),ex=(e,...t)=>ql([0,0,e],t);var Bo={rotate:ql,rotateX:Q7,rotateY:J7,rotateZ:ex};const tx=pt,Pm=Wt,Lm=vt,Om=yt,Rm=jt,Xl=(e,...t)=>{if(!Array.isArray(e))throw new Error("offset must be an array");if(t=tx(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(0);const n=Pm.fromTranslation(Pm.create(),e),r=t.map(s=>Rm.isA(s)?Rm.transform(n,s):Lm.isA(s)?Lm.transform(n,s):Om.isA(s)?Om.transform(n,s):s);return r.length===1?r[0]:r},nx=(e,...t)=>Xl([e,0,0],t),rx=(e,...t)=>Xl([0,e,0],t),sx=(e,...t)=>Xl([0,0,e],t);var ei={translate:Xl,translateX:nx,translateY:rx,translateZ:sx};const{TAU:ix}=kt,ox=P2,{rotate:ax}=Bo,{translate:lx}=ei,cx=h2,{isGT:iu,isGTE:ou}=kn,fx=e=>{const t={innerRadius:1,innerSegments:32,outerRadius:4,outerSegments:32,innerRotation:0,startAngle:0,outerRotation:ix},{innerRadius:n,innerSegments:r,outerRadius:s,outerSegments:i,innerRotation:o,startAngle:a,outerRotation:l}=Object.assign({},t,e);if(!iu(n,0))throw new Error("innerRadius must be greater than zero");if(!ou(r,3))throw new Error("innerSegments must be three or more");if(!iu(s,0))throw new Error("outerRadius must be greater than zero");if(!ou(i,3))throw new Error("outerSegments must be three or more");if(!ou(a,0))throw new Error("startAngle must be positive");if(!iu(l,0))throw new Error("outerRotation must be greater than zero");if(n>=s)throw new Error("inner circle is two large to rotate about the outer circle");let c=cx({radius:n,segments:r});return o!==0&&(c=ax([0,0,o],c)),c=lx([s,0],c),ox({startAngle:a,angle:l,segments:i},c)};var ux=fx;const{NEPS:Wi}=kt,Oo=Tt,dx=vt,{isNumberArray:hx}=kn,zu=(e,t,n)=>Math.acos((e*e+t*t-n*n)/(2*e*t)),mx=(e,t,n)=>t>Wi?Math.sqrt(e*e+n*n-2*e*n*Math.cos(t)):Math.sqrt((e-n)*(e-n)+e*n*t*t*(1-t*t/12)),px=e=>{if(Math.abs(e[0]+e[1]+e[2]-Math.PI)>Wi)throw new Error("AAA triangles require angles that sum to PI");const n=e[0],r=e[1],s=Math.PI-n-r,i=1,o=i/Math.sin(s)*Math.sin(n),a=i/Math.sin(s)*Math.sin(r);return eo(n,r,s,o,a,i)},gx=e=>{const t=e[0],n=e[1],r=Math.PI+Wi-t-n;if(r<Wi)throw new Error("AAS triangles require angles that sum to PI");const s=e[2],i=s/Math.sin(t)*Math.sin(n),o=s/Math.sin(t)*Math.sin(r);return eo(t,n,r,s,i,o)},vx=e=>{const t=e[0],n=e[2],r=Math.PI+Wi-t-n;if(r<Wi)throw new Error("ASA triangles require angles that sum to PI");const s=e[1],i=s/Math.sin(r)*Math.sin(t),o=s/Math.sin(r)*Math.sin(n);return eo(t,n,r,i,o,s)},bx=e=>{const t=e[0],n=e[1],r=e[2],s=mx(t,n,r),i=zu(s,t,r),o=Math.PI-i-n;return eo(i,n,o,r,s,t)},_x=e=>{const t=e[0],n=e[1],r=e[2],s=Math.asin(n*Math.sin(r)/t),i=Math.PI-s-r,o=t/Math.sin(r)*Math.sin(i);return eo(s,i,r,n,o,t)},yx=e=>{const t=e[1],n=e[2],r=e[0];if(t+n<=r||n+r<=t||r+t<=n)throw new Error("SSS triangle is incorrect, as the longest side is longer than the sum of the other sides");const s=zu(n,r,t),i=zu(r,t,n),o=Math.PI-s-i;return eo(s,i,o,t,n,r)},eo=(e,t,n,r,s,i)=>{const o=Oo.fromValues(0,0),a=Oo.fromValues(i,0),l=Oo.fromValues(r,0);return Oo.add(l,Oo.rotate(l,l,[0,0],Math.PI-t),a),dx.fromPoints([o,a,l])},Ax=e=>{const t={type:"SSS",values:[1,1,1]};let{type:n,values:r}=Object.assign({},t,e);if(typeof n!="string")throw new Error("triangle type must be a string");if(n=n.toUpperCase(),!((n[0]==="A"||n[0]==="S")&&(n[1]==="A"||n[1]==="S")&&(n[2]==="A"||n[2]==="S")))throw new Error("triangle type must contain three letters; A or S");if(!hx(r,3))throw new Error("triangle values must contain three values");if(!r.every(s=>s>0))throw new Error("triangle values must be greater than zero");switch(n){case"AAA":return px(r);case"AAS":return gx(r);case"ASA":return vx(r);case"SAS":return bx(r);case"SSA":return _x(r);case"SSS":return yx(r);default:throw new Error("invalid triangle type, try again")}};var Sx=Ax,L2={arc:BI,circle:h2,cube:JI,cuboid:m2,cylinder:cD,cylinderElliptic:p2,ellipse:d2,ellipsoid:g2,geodesicSphere:AD,line:wD,polygon:CD,polyhedron:v2,rectangle:b2,roundedCuboid:kD,roundedCylinder:UD,roundedRectangle:XD,sphere:_2,square:eF,star:oF,torus:ux,triangle:Sx},Ex={height:14,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]};const wx=Ex,Tx={xOffset:0,yOffset:0,input:"?",align:"left",font:wx,height:14,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0},Cx=(e,t)=>{!t&&typeof e=="string"&&(e={input:e}),e=e||{};const n=Object.assign({},Tx,e);return n.input=t||n.input,n};var O2=Cx;const Px=O2,Lx=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,extrudeOffset:a}=Px(e,t);let l=s.charCodeAt(0);(!l||!i[l])&&(l=63);const c=[].concat(i[l]),f=(o-a)/i.height,u=a/2,d=c.shift()*f,h=[];let g=[];for(let p=0,m=c.length;p<m;p+=2){const v=f*c[p]+n,b=f*c[p+1]+r+u;if(c[p]!==void 0){g.push([v,b]);continue}h.push(g),g=[],p--}return g.length&&h.push(g),{width:d,height:o,segments:h}};var R2=Lx;const Ox=R2,Rx=O2,Mm=(e,t)=>{const{x:n,y:r}=Object.assign({x:0,y:0},e||{}),s=t.segments;let i=null,o=null;for(let a=0,l=s.length;a<l;a++){i=s[a];for(let c=0,f=i.length;c<f;c++)o=i[c],i[c]=[o[0]+n,o[1]+r]}return t},Mx=(e,t)=>{const{xOffset:n,yOffset:r,input:s,font:i,height:o,align:a,extrudeOffset:l,lineSpacing:c,letterSpacing:f}=Rx(e,t);let[u,d]=[n,r],h,g,p,m,v,b,y={width:0,segments:[]};const S=[];let w=[],E=0;const A=u,O=()=>{S.push(y),E=Math.max(E,y.width),y={width:0,segments:[]}};for(h=0,g=s.length;h<g;h++){if(p=s[h],m=Ox({xOffset:u,yOffset:d,font:i,height:o,extrudeOffset:l},p),p===`
`){u=A,d-=m.height*c,O();continue}v=m.width*f,y.width+=v,u+=v,p!==" "&&(y.segments=y.segments.concat(m.segments))}for(y.segments.length&&O(),h=0,g=S.length;h<g;h++)y=S[h],E>y.width&&(b=E-y.width,a==="right"?y=Mm({x:b},y):a==="center"&&(y=Mm({x:b/2},y))),w=w.concat(y.segments);return w};var Ix=Mx,Dx={vectorChar:R2,vectorText:Ix};const Fx=vt,xx=yt,kx=jt,Gx=e=>{let t;for(const n of e){let r=0;if(Fx.isA(n)&&(r=1),xx.isA(n)&&(r=2),kx.isA(n)&&(r=3),t&&r!==t)return!1;t=r}return!0};var ea=Gx;const Bx=e=>e*.017453292519943295;var Nx=Bx;const $x=(e,t)=>e-t;var M2=$x;const Vx=(e,t,n)=>{let r=0,s=e.length;for(;s>r;){const i=Math.floor((r+s)/2),o=e[i];n(t,o)>0?r=i+1:s=i}e.splice(r,0,t)};var Ux=Vx;const{TAU:Im}=kt,zx=(e,t,n)=>{const r=t>0?e*Im/t:0,s=n>0?Im/n:0;return Math.ceil(Math.max(r,s,4))};var Hx=zx;const jx=e=>e*57.29577951308232;var qx=jx,I2={areAllShapesTheSameType:ea,degToRad:Nx,flatten:pt,fnNumberSort:M2,insertSorted:Ux,radiusToSegments:Hx,radToDeg:qx};const Dm=Tt,Xx=vt,Wx=(e,t)=>{if(t.vertices.length<4)return null;const n=[],r=t.vertices.filter((o,a)=>o[2]>0?(n.push(a),!0):!1);if(r.length!==2)throw new Error("Assertion failed: fromFakePolygon: not enough points found");const s=r.map(o=>{const a=Math.round(o[0]/e)*e+0,l=Math.round(o[1]/e)*e+0;return Dm.fromValues(a,l)});if(Dm.equals(s[0],s[1]))return null;const i=n[1]-n[0];if(i===1||i===3)i===1&&s.reverse();else throw new Error("Assertion failed: fromFakePolygon: unknown index ordering");return s},Yx=(e,t)=>{const n=t.map(r=>Wx(e,r)).filter(r=>r!==null);return Xx.create(n)};var md=Yx;const bs=at,Zx=vt,Kx=yt,Qx=Ft,Jx=(e,t,n)=>{const r=[bs.fromVec2(bs.create(),n[0],e),bs.fromVec2(bs.create(),n[1],e),bs.fromVec2(bs.create(),n[1],t),bs.fromVec2(bs.create(),n[0],t)];return Qx.create(r)},ek=(e,t)=>{const r=Zx.toSides(t).map(i=>Jx(e.z0,e.z1,i));return Kx.create(r)};var pd=ek;const Fm=Wt,tk=Tt,Mn=at,ri=function(e,t){arguments.length<2&&(t=Mn.orthogonal(Mn.create(),e)),this.v=Mn.normalize(Mn.create(),Mn.cross(Mn.create(),e,t)),this.u=Mn.cross(Mn.create(),this.v,e),this.plane=e,this.planeorigin=Mn.scale(Mn.create(),e,e[3])};ri.GetCartesian=function(e,t){const n=e+"/"+t;let r,s;if(n==="X/Y")r=[0,0,1],s=[1,0,0];else if(n==="Y/-X")r=[0,0,1],s=[0,1,0];else if(n==="-X/-Y")r=[0,0,1],s=[-1,0,0];else if(n==="-Y/X")r=[0,0,1],s=[0,-1,0];else if(n==="-X/Y")r=[0,0,-1],s=[-1,0,0];else if(n==="-Y/-X")r=[0,0,-1],s=[0,-1,0];else if(n==="X/-Y")r=[0,0,-1],s=[1,0,0];else if(n==="Y/X")r=[0,0,-1],s=[0,1,0];else if(n==="X/Z")r=[0,-1,0],s=[1,0,0];else if(n==="Z/-X")r=[0,-1,0],s=[0,0,1];else if(n==="-X/-Z")r=[0,-1,0],s=[-1,0,0];else if(n==="-Z/X")r=[0,-1,0],s=[0,0,-1];else if(n==="-X/Z")r=[0,1,0],s=[-1,0,0];else if(n==="-Z/-X")r=[0,1,0],s=[0,0,-1];else if(n==="X/-Z")r=[0,1,0],s=[1,0,0];else if(n==="Z/X")r=[0,1,0],s=[0,0,1];else if(n==="Y/Z")r=[1,0,0],s=[0,1,0];else if(n==="Z/-Y")r=[1,0,0],s=[0,0,1];else if(n==="-Y/-Z")r=[1,0,0],s=[0,-1,0];else if(n==="-Z/Y")r=[1,0,0],s=[0,0,-1];else if(n==="-Y/Z")r=[-1,0,0],s=[0,-1,0];else if(n==="-Z/-Y")r=[-1,0,0],s=[0,0,-1];else if(n==="Y/-Z")r=[-1,0,0],s=[0,1,0];else if(n==="Z/Y")r=[-1,0,0],s=[0,0,1];else throw new Error("OrthoNormalBasis.GetCartesian: invalid combination of axis identifiers. Should pass two string arguments from [X,Y,Z,-X,-Y,-Z], being two different axes.");return new ri(new Plane(new Vector3D(r),0),new Vector3D(s))};ri.Z0Plane=function(){const e=new Plane(new Vector3D([0,0,1]),0);return new ri(e,new Vector3D([1,0,0]))};ri.prototype={getProjectionMatrix:function(){return Fm.fromValues(this.u[0],this.v[0],this.plane[0],0,this.u[1],this.v[1],this.plane[1],0,this.u[2],this.v[2],this.plane[2],0,0,0,-this.plane[3],1)},getInverseProjectionMatrix:function(){const e=Mn.scale(Mn.create(),this.plane,this.plane[3]);return Fm.fromValues(this.u[0],this.u[1],this.u[2],0,this.v[0],this.v[1],this.v[2],0,this.plane[0],this.plane[1],this.plane[2],0,e[0],e[1],e[2],1)},to2D:function(e){return tk.fromValues(Mn.dot(e,this.u),Mn.dot(e,this.v))},to3D:function(e){const t=Mn.scale(Mn.create(),this.u,e[0]),n=Mn.scale(Mn.create(),this.v,e[1]),r=Mn.add(t,t,this.planeorigin);return Mn.add(n,n,r)},line3Dto2D:function(e){const t=e.point,n=e.direction.plus(t),r=this.to2D(t),s=this.to2D(n);return Line2D.fromPoints(r,s)},line2Dto3D:function(e){const t=e.origin(),n=e.direction().plus(t),r=this.to3D(t),s=this.to3D(n);return Line3D.fromPoints(r,s)},transform:function(e){const t=this.plane.transform(e),n=this.u.transform(e),r=new Vector3D(0,0,0).transform(e),s=n.minus(r);return new ri(t,s)}};var nk=ri;const{EPS:Wr}=kt,_s=cd,Er=Tt,rk=nk,Di=Xv,{insertSorted:sk,fnNumberSort:ik}=I2,xm=Ft,ok=e=>{if(e.length<2)return e;const t=[],n=e.length,r=xm.plane(e[0]),s=new rk(r),i=[],o=[],a=new Map,l=new Map,c=new Map,f=10/Wr;for(let g=0;g<n;g++){const p=e[g];let m=[],v=p.vertices.length,b=-1;if(v>0){let y,S;for(let w=0;w<v;w++){let E=s.to2D(p.vertices[w]);const A=Math.floor(E[1]*f);let O;c.has(A)?O=c.get(A):c.has(A+1)?O=c.get(A+1):c.has(A-1)?O=c.get(A-1):(O=E[1],c.set(A,E[1])),E=Er.fromValues(E[0],O),m.push(E);const z=E[1];(w===0||z<y)&&(y=z,b=w),(w===0||z>S)&&(S=z);let B=l.get(z);B||(B={},l.set(z,B)),B[g]=!0}if(y>=S)m=[],v=0,b=-1;else{let w=a.get(y);w||(w=[],a.set(y,w)),w.push(g)}}m.reverse(),b=v-b-1,i.push(m),o.push(b)}const u=[];l.forEach((g,p)=>u.push(p)),u.sort(ik);let d=[],h=[];for(let g=0;g<u.length;g++){const p=[],m=u[g],v=l.get(m);for(let y=0;y<d.length;++y){const S=d[y],w=S.polygonindex;if(v[w]){const E=i[w],A=E.length;let O=S.leftvertexindex,z=S.rightvertexindex;for(;;){let x=O+1;if(x>=A&&(x=0),E[x][1]!==m)break;O=x}let B=z-1;if(B<0&&(B=A-1),E[B][1]===m&&(z=B),O!==S.leftvertexindex&&O===z)d.splice(y,1),--y;else{S.leftvertexindex=O,S.rightvertexindex=z,S.topleft=E[O],S.topright=E[z];let x=O+1;x>=A&&(x=0),S.bottomleft=E[x];let oe=z-1;oe<0&&(oe=A-1),S.bottomright=E[oe]}}}let b;if(g>=u.length-1)d=[],b=null;else{b=Number(u[g+1]);const y=.5*(m+b),S=a.get(m);for(const w in S){const E=S[w],A=i[E],O=A.length,z=o[E];let B=z;for(;;){let Fe=B+1;if(Fe>=O&&(Fe=0),A[Fe][1]!==m||Fe===z)break;B=Fe}let x=z;for(;;){let Fe=x-1;if(Fe<0&&(Fe=O-1),A[Fe][1]!==m||Fe===B)break;x=Fe}let oe=B+1;oe>=O&&(oe=0);let V=x-1;V<0&&(V=O-1);const X={polygonindex:E,leftvertexindex:B,rightvertexindex:x,topleft:A[B],topright:A[x],bottomleft:A[oe],bottomright:A[V]};sk(d,X,(Fe,ne)=>{const N=Di(Fe.topleft,Fe.bottomleft,y),de=Di(ne.topleft,ne.bottomleft,y);return N>de?1:N<de?-1:0})}}for(const y in d){const S=d[y];let w=Di(S.topleft,S.bottomleft,m);const E=Er.fromValues(w,m);w=Di(S.topright,S.bottomright,m);const A=Er.fromValues(w,m);w=Di(S.topleft,S.bottomleft,b);const O=Er.fromValues(w,b);w=Di(S.topright,S.bottomright,b);const z=Er.fromValues(w,b),B={topleft:E,topright:A,bottomleft:O,bottomright:z,leftline:_s.fromPoints(_s.create(),E,O),rightline:_s.fromPoints(_s.create(),z,A)};if(p.length>0){const x=p[p.length-1],oe=Er.distance(B.topleft,x.topright),V=Er.distance(B.bottomleft,x.bottomright);oe<Wr&&V<Wr&&(B.topleft=x.topleft,B.leftline=x.leftline,B.bottomleft=x.bottomleft,p.splice(p.length-1,1))}p.push(B)}if(g>0){const y=new Set,S=new Set;for(let w=0;w<p.length;w++){const E=p[w];for(let A=0;A<h.length;A++)if(!S.has(A)){const O=h[A];if(Er.distance(O.bottomleft,E.topleft)<Wr&&Er.distance(O.bottomright,E.topright)<Wr){S.add(A);const z=_s.direction(E.leftline),B=_s.direction(O.leftline),x=z[0]-B[0],oe=_s.direction(E.rightline),V=_s.direction(O.rightline),X=oe[0]-V[0],Fe=Math.abs(x)<Wr,ne=Math.abs(X)<Wr,N=Fe||x>=0,de=ne||X>=0;N&&de&&(E.outpolygon=O.outpolygon,E.leftlinecontinues=Fe,E.rightlinecontinues=ne,y.add(A));break}}}for(let w=0;w<h.length;w++)if(!y.has(w)){const E=h[w];E.outpolygon.rightpoints.push(E.bottomright),Er.distance(E.bottomright,E.bottomleft)>Wr&&E.outpolygon.leftpoints.push(E.bottomleft),E.outpolygon.leftpoints.reverse();const O=E.outpolygon.rightpoints.concat(E.outpolygon.leftpoints).map(B=>s.to3D(B)),z=xm.fromPointsAndPlane(O,r);z.vertices.length&&t.push(z)}}for(let y=0;y<p.length;y++){const S=p[y];S.outpolygon?(S.leftlinecontinues||S.outpolygon.leftpoints.push(S.topleft),S.rightlinecontinues||S.outpolygon.rightpoints.push(S.topright)):(S.outpolygon={leftpoints:[],rightpoints:[]},S.outpolygon.leftpoints.push(S.topleft),Er.distance(S.topleft,S.topright)>Wr&&S.outpolygon.rightpoints.push(S.topright))}h=p}return t};var ak=ok;const km=yt,Gm=Ft,lk=Ul,ck=ak,fk=(e,t)=>Math.abs(e[3]-t[3])<15e-8?lk(e,t):!1,uk=e=>{if(e.isRetesselated)return e;const t=km.toPolygons(e),n=[];t.forEach(i=>{const o=n.find(a=>fk(a[0],Gm.plane(i)));o?o[1].push(i):n.push([Gm.plane(i),[i]])});let r=[];n.forEach(i=>{const o=i[1],a=ck(o);r=r.concat(a)});const s=km.create(r);return s.isRetesselated=!0,s};var Wl=uk;const{EPS:Fi}=kt,Bm=ii,dk=(e,t)=>{if(e.polygons.length===0||t.polygons.length===0)return!1;const n=Bm(e),r=n[0],s=n[1],i=Bm(t),o=i[0],a=i[1];return!(o[0]-s[0]>Fi||r[0]-a[0]>Fi||o[1]-s[1]>Fi||r[1]-a[1]>Fi||o[2]-s[2]>Fi||r[2]-a[2]>Fi)};var gd=dk;const Nm=$r,hk=Ft;let mk=class Hu{constructor(t){this.plane=null,this.front=null,this.back=null,this.polygontreenodes=[],this.parent=t}invert(){const t=[this];let n;for(let r=0;r<t.length;r++){n=t[r],n.plane&&(n.plane=Nm.flip(Nm.create(),n.plane)),n.front&&t.push(n.front),n.back&&t.push(n.back);const s=n.front;n.front=n.back,n.back=s}}clipPolygons(t,n){let r={node:this,polygontreenodes:t},s;const i=[];do{if(s=r.node,t=r.polygontreenodes,s.plane){const o=s.plane,a=[],l=[],c=n?a:l,f=t.length;for(let d=0;d<f;d++){const h=t[d];h.isRemoved()||h.splitByPlane(o,c,a,l,a)}s.front&&l.length>0&&i.push({node:s.front,polygontreenodes:l});const u=a.length;if(s.back&&u>0)i.push({node:s.back,polygontreenodes:a});else for(let d=0;d<u;d++)a[d].remove()}r=i.pop()}while(r!==void 0)}clipTo(t,n){let r=this;const s=[];do r.polygontreenodes.length>0&&t.rootnode.clipPolygons(r.polygontreenodes,n),r.front&&s.push(r.front),r.back&&s.push(r.back),r=s.pop();while(r!==void 0)}addPolygonTreeNodes(t){let n={node:this,polygontreenodes:t};const r=[];do{const s=n.node,i=n.polygontreenodes;if(i.length===0){n=r.pop();continue}if(!s.plane){let c=0;c=Math.floor(i.length/2);const f=i[c].getPolygon();s.plane=hk.plane(f)}const o=[],a=[],l=i.length;for(let c=0;c<l;++c)i[c].splitByPlane(s.plane,s.polygontreenodes,a,o,a);o.length>0&&(s.front||(s.front=new Hu(s)),l===o.length&&a.length===0?s.front.polygontreenodes=o:r.push({node:s.front,polygontreenodes:o})),a.length>0&&(s.back||(s.back=new Hu(s)),l===a.length&&o.length===0?s.back.polygontreenodes=a:r.push({node:s.back,polygontreenodes:a})),n=r.pop()}while(n!==void 0)}};var pk=mk;const xi=at,gk=(e,t,n)=>{const r=xi.subtract(xi.create(),n,t);let s=(e[3]-xi.dot(e,t))/xi.dot(e,r);return Number.isNaN(s)&&(s=0),s>1&&(s=1),s<0&&(s=0),xi.scale(r,r,s),xi.add(r,t,r),r};var vk=gk;const{EPS:sl}=kt,bk=$r,il=at,au=Ft,_k=vk,yk=(e,t)=>{const n={type:null,front:null,back:null},r=t.vertices,s=r.length,i=au.plane(t);if(bk.equals(i,e))n.type=0;else{let o=!1,a=!1;const l=[],c=-sl;for(let f=0;f<s;f++){const u=il.dot(e,r[f])-e[3],d=u<c;l.push(d),u>sl&&(o=!0),u<c&&(a=!0)}if(!o&&!a){const f=il.dot(e,i);n.type=f>=0?0:1}else if(!a)n.type=2;else if(!o)n.type=3;else{n.type=4;const f=[],u=[];let d=l[0];for(let g=0;g<s;g++){const p=r[g];let m=g+1;m>=s&&(m=0);const v=l[m];if(d===v)d?u.push(p):f.push(p);else{const b=r[m],y=_k(e,p,b);d?(u.push(p),u.push(y),f.push(y)):(f.push(p),f.push(y),u.push(y))}d=v}const h=sl*sl;if(u.length>=3){let g=u[u.length-1];for(let p=0;p<u.length;p++){const m=u[p];il.squaredDistance(m,g)<h&&(u.splice(p,1),p--),g=m}}if(f.length>=3){let g=f[f.length-1];for(let p=0;p<f.length;p++){const m=f[p];il.squaredDistance(m,g)<h&&(f.splice(p,1),p--),g=m}}f.length>=3&&(n.front=au.fromPointsAndPlane(f,i)),u.length>=3&&(n.back=au.fromPointsAndPlane(u,i))}}return n};var Ak=yk;const{EPS:Sk}=kt,Ek=at,$m=Ft,wk=Ak;let Tk=class D2{constructor(t,n){this.parent=t,this.children=[],this.polygon=n,this.removed=!1}addPolygons(t){if(!this.isRootNode())throw new Error("Assertion failed");const n=this;t.forEach(r=>{n.addChild(r)})}remove(){if(!this.removed){this.removed=!0,this.polygon=null;const t=this.parent.children,n=t.indexOf(this);if(n<0)throw new Error("Assertion failed");t.splice(n,1),this.parent.recursivelyInvalidatePolygon()}}isRemoved(){return this.removed}isRootNode(){return!this.parent}invert(){if(!this.isRootNode())throw new Error("Assertion failed");this.invertSub()}getPolygon(){if(!this.polygon)throw new Error("Assertion failed");return this.polygon}getPolygons(t){let n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s)for(n=r[s],i=0,o=n.length;i<o;i++)a=n[i],a.polygon?t.push(a.polygon):a.children.length>0&&r.push(a.children)}splitByPlane(t,n,r,s,i){if(this.children.length){const o=[this.children];let a,l,c,f,u;for(a=0;a<o.length;a++)for(u=o[a],l=0,c=u.length;l<c;l++)f=u[l],f.children.length>0?o.push(f.children):f._splitByPlane(t,n,r,s,i)}else this._splitByPlane(t,n,r,s,i)}_splitByPlane(t,n,r,s,i){const o=this.polygon;if(o){const a=$m.measureBoundingSphere(o),l=a[3]+Sk,c=a,f=Ek.dot(t,c)-t[3];if(f>l)s.push(this);else if(f<-l)i.push(this);else{const u=wk(t,o);switch(u.type){case 0:n.push(this);break;case 1:r.push(this);break;case 2:s.push(this);break;case 3:i.push(this);break;case 4:if(u.front){const d=this.addChild(u.front);s.push(d)}if(u.back){const d=this.addChild(u.back);i.push(d)}break}}}}addChild(t){const n=new D2(this,t);return this.children.push(n),n}invertSub(){let t=[this];const n=[t];let r,s,i,o;for(r=0;r<n.length;r++)for(t=n[r],s=0,i=t.length;s<i;s++)o=t[s],o.polygon&&(o.polygon=$m.invert(o.polygon)),o.children.length>0&&n.push(o.children)}recursivelyInvalidatePolygon(){this.polygon=null,this.parent&&this.parent.recursivelyInvalidatePolygon()}clear(){let t=[this];const n=[t];for(let r=0;r<n.length;++r){t=n[r];const s=t.length;for(let i=0;i<s;i++){const o=t[i];o.polygon&&(o.polygon=null),o.parent&&(o.parent=null),o.children.length>0&&n.push(o.children),o.children=[]}}}toString(){let t="",n=[this];const r=[n];let s,i,o,a;for(s=0;s<r.length;++s){n=r[s];const l=" ".repeat(s);for(i=0,o=n.length;i<o;i++)a=n[i],t+=`${l}PolygonTreeNode (${a.isRootNode()}): ${a.children.length}`,a.polygon?t+=`
 ${l}polygon: ${a.polygon.vertices}
`:t+=`
`,a.children.length>0&&r.push(a.children)}return t}};var Ck=Tk;const Pk=pk,Lk=Ck;let Ok=class{constructor(t){this.polygonTree=new Lk,this.rootnode=new Pk(null),t&&this.addPolygons(t)}invert(){this.polygonTree.invert(),this.rootnode.invert()}clipTo(t,n=!1){this.rootnode.clipTo(t,n)}allPolygons(){const t=[];return this.polygonTree.getPolygons(t),t}addPolygons(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=this.polygonTree.addChild(t[r]);this.rootnode.addPolygonTreeNodes(n)}clear(){this.polygonTree.clear()}toString(){return"Tree: "+this.polygonTree.toString("")}};var Rk=Ok,vd={Tree:Rk};const ol=yt,Mk=gd,{Tree:Vm}=vd,Ik=(e,t)=>{if(!Mk(e,t))return ol.create();const n=new Vm(ol.toPolygons(e)),r=new Vm(ol.toPolygons(t));n.invert(),r.clipTo(n),r.invert(),n.clipTo(r),r.clipTo(n),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return ol.create(s)};var Dk=Ik;const Fk=pt,xk=Wl,kk=Dk,Gk=(...e)=>{e=Fk(e);let t=e.shift();return e.forEach(n=>{t=kk(t,n)}),t=xk(t),t};var F2=Gk;const Bk=pt,Nk=yt,$k=Es,Vk=md,Uk=pd,zk=F2,Hk=(...e)=>{e=Bk(e);const t=e.map(s=>Uk({z0:-1,z1:1},s)),n=zk(t),r=$k(n);return Vk(r,Nk.toPolygons(n))};var jk=Hk;const qk=pt,Xk=ea,Wk=vt,Yk=yt,Zk=jk,Kk=F2,Qk=(...e)=>{if(e=qk(e),e.length===0)throw new Error("wrong number of arguments");if(!Xk(e))throw new Error("only intersect of the types are supported");const t=e[0];return Wk.isA(t)?Zk(e):Yk.isA(t)?Kk(e):t};var Jk=Qk;const lu=at,eG=Es,Um=yt,tG=e=>e.sort((t,n)=>t-n).filter((t,n,r)=>!n||t!==r[n-1]),nG=(e,t,n)=>{const r=`${t}`,s=e.get(r);s===void 0?e.set(r,[n]):s.push(n)},rG=(e,t)=>{const n=`${t}`;return e.get(n)},sG=e=>{const t=eG(e),n=Um.toPolygons(e),r=n.length,s=new Map,i=lu.create();n.forEach((f,u)=>{f.vertices.forEach(d=>{nG(s,lu.snap(i,d,t),u)})});const o=n.map(f=>{let u=[];return f.vertices.forEach(d=>{u=u.concat(rG(s,lu.snap(i,d,t)))}),{e:1,d:tG(u)}});s.clear();let a=0;const l=o.length;for(let f=0;f<l;f++){const u=o[f];if(u.e>0){const d=new Array(r);d[f]=!0;do a=0,d.forEach((h,g)=>{const p=o[g];if(p.e>0){p.e=-1;for(let m=0;m<p.d.length;m++)d[p.d[m]]=!0;a++}});while(a>0);u.indexes=d}}const c=[];for(let f=0;f<l;f++)if(o[f].indexes){const u=[];o[f].indexes.forEach((d,h)=>u.push(n[h])),c.push(Um.create(u))}return c};var iG=sG;const oG=pt,aG=yt,lG=iG,cG=(...e)=>{if(e=oG(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>aG.isA(n)?lG(n):n);return t.length===1?t[0]:t};var fG=cG;const al=yt,uG=gd,{Tree:zm}=vd,dG=(e,t)=>{if(!uG(e,t))return al.clone(e);const n=new zm(al.toPolygons(e)),r=new zm(al.toPolygons(t));n.invert(),n.clipTo(r),r.clipTo(n,!0),n.addPolygons(r.allPolygons()),n.invert();const s=n.allPolygons();return al.create(s)};var hG=dG;const mG=pt,pG=Wl,gG=hG,vG=(...e)=>{e=mG(e);let t=e.shift();return e.forEach(n=>{t=gG(t,n)}),t=pG(t),t};var x2=vG;const bG=pt,_G=yt,yG=Es,AG=md,SG=pd,EG=x2,wG=(...e)=>{e=bG(e);const t=e.map(s=>SG({z0:-1,z1:1},s)),n=EG(t),r=yG(n);return AG(r,_G.toPolygons(n))};var TG=wG;const CG=pt,PG=ea,LG=vt,OG=yt,RG=TG,MG=x2,IG=(...e)=>{if(e=CG(e),e.length===0)throw new Error("wrong number of arguments");if(!PG(e))throw new Error("only subtract of the types are supported");const t=e[0];return LG.isA(t)?RG(e):OG.isA(t)?MG(e):t};var DG=IG;const zi=yt,FG=gd,{Tree:Hm}=vd,xG=(e,t)=>{if(!FG(e,t))return kG(e,t);const n=new Hm(zi.toPolygons(e)),r=new Hm(zi.toPolygons(t));n.clipTo(r,!1),r.clipTo(n),r.invert(),r.clipTo(n),r.invert();const s=n.allPolygons().concat(r.allPolygons());return zi.create(s)},kG=(e,t)=>{let n=zi.toPolygons(e);return n=n.concat(zi.toPolygons(t)),zi.create(n)};var k2=xG;const GG=pt,BG=Wl,NG=k2,$G=(...e)=>{e=GG(e);let t;for(t=1;t<e.length;t+=2)e.push(NG(e[t-1],e[t]));let n=e[t-1];return n=BG(n),n};var G2=$G;const VG=pt,UG=yt,zG=Es,HG=md,jG=pd,qG=G2,XG=(...e)=>{e=VG(e);const t=e.map(s=>jG({z0:-1,z1:1},s)),n=qG(t),r=zG(n);return HG(r,UG.toPolygons(n))};var B2=XG;const WG=pt,YG=ea,ZG=vt,KG=yt,QG=B2,JG=G2,eB=(...e)=>{if(e=WG(e),e.length===0)throw new Error("wrong number of arguments");if(!YG(e))throw new Error("only unions of the same type are supported");const t=e[0];return ZG.isA(t)?QG(e):KG.isA(t)?JG(e):t};var bd=eB,tB={intersect:Jk,scission:fG,subtract:DG,union:bd};const{EPS:nB,TAU:rB}=kt,jm=Wv,Ro=cd,hn=Tt,sB=$l,iB=(e,t)=>{const n={delta:1,corners:"edge",closed:!1,segments:16};let{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(Math.abs(r)<nB)return t;let a=e.closed?sB(t):1;a===0&&(a=1);const l=a>0&&r>=0||a<0&&r<0;r=Math.abs(r);let c=null,f=[];const u=[],d=hn.create(),h=t.length;for(let g=0;g<h;g++){const p=(g+1)%h,m=t[g],v=t[p];l?hn.subtract(d,m,v):hn.subtract(d,v,m),hn.normal(d,d),hn.normalize(d,d),hn.scale(d,d,r);const b=hn.add(hn.create(),m,d),y=hn.add(hn.create(),v,d),S=[b,y];if(c!=null&&(i||!i&&p!==0)){const w=jm(c[0],c[1],S[0],S[1]);w?(f.pop(),S[0]=w):u.push({c:m,s0:c,s1:S})}c=[b,y],!(p===0&&!i)&&(f.push(S[0]),f.push(S[1]))}if(i&&c!=null){const g=f[0],p=f[1],m=jm(c[0],c[1],g,p);if(m)f[0]=m,f.pop();else{const v=t[0],b=[g,p];u.push({c:v,s0:c,s1:b})}}if(s==="edge"){const g=new Map;f.forEach((v,b)=>g.set(v,b));const p=Ro.create(),m=Ro.create();u.forEach(v=>{Ro.fromPoints(p,v.s0[0],v.s0[1]),Ro.fromPoints(m,v.s1[0],v.s1[1]);const b=Ro.intersectPointOfLines(p,m);if(Number.isFinite(b[0])&&Number.isFinite(b[1])){const y=v.s0[1],S=g.get(y);f[S]=b,f[(S+1)%f.length]=void 0}else{const y=v.s1[0],S=g.get(y);f[S]=void 0}}),f=f.filter(v=>v!==void 0)}if(s==="round"){let g=Math.floor(o/4);const p=hn.create();u.forEach(m=>{let v=hn.angle(hn.subtract(p,m.s1[0],m.c));if(v-=hn.angle(hn.subtract(p,m.s0[1],m.c)),l&&v<0&&(v=v+Math.PI,v<0&&(v=v+Math.PI)),!l&&v>0&&(v=v-Math.PI,v>0&&(v=v-Math.PI)),v!==0){g=Math.floor(o*(Math.abs(v)/rB));const b=v/g,y=hn.angle(hn.subtract(p,m.s0[1],m.c)),S=[];for(let w=1;w<g;w++){const E=y+b*w,A=hn.fromAngleRadians(hn.create(),E);hn.scale(A,A,r),hn.add(A,A,m.c),S.push(A)}if(S.length>0){const w=m.s0[1];let E=f.findIndex(A=>hn.equals(w,A));E=(E+1)%f.length,f.splice(E,0,...S)}}else{const b=m.s1[0],y=f.findIndex(S=>hn.equals(b,S));f.splice(y,1)}})}return f};var Yl=iB;const ll=vt,oB=Yl,aB=(e,t)=>{const n={delta:1,corners:"edge",segments:16},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const l=ll.toOutlines(t).map(c=>(e={delta:r,corners:s,closed:!0,segments:i},oB(e,c))).reduce((c,f)=>c.concat(ll.toSides(ll.fromPoints(f))),[]);return ll.create(l)};var lB=aB;const qm=Wt,cB=at,fB=yt,Mo=Ft,uB=(e,t)=>{cB.dot(Mo.plane(t),e)>0&&(t=Mo.invert(t));const r=[t],s=Mo.transform(qm.fromTranslation(qm.create(),e),t),i=t.vertices.length;for(let o=0;o<i;o++){const a=o<i-1?o+1:0,l=Mo.create([t.vertices[o],s.vertices[o],s.vertices[a],t.vertices[a]]);r.push(l)}return r.push(Mo.invert(s)),fB.create(r)};var dB=uB;const{EPS:hB,TAU:cu}=kt,Xm=Wt,Yt=at,mB=M2,fu=yt,Xs=Ft,pB=_2,gB=Wl,uu=k2,vB=dB,bB=(e,t,n)=>{const r=t.toString();if(e.has(r))e.get(r)[1].push(n);else{const s=[t,[n]];e.set(r,s)}},_B=(e,t,n)=>{const r=t[0].toString(),s=t[1].toString(),i=r<s?`${r},${s}`:`${s},${r}`;if(e.has(i))e.get(i)[1].push(n);else{const o=[t,[n]];e.set(i,o)}},du=(e,t)=>{e.findIndex(r=>r===t)<0&&e.push(t)},yB=(e,t)=>{const n={delta:1,segments:12},{delta:r,segments:s}=Object.assign({},n,e);let i=fu.create();const o=new Map,a=new Map,l=Yt.create(),c=Yt.create();return fu.toPolygons(t).forEach((u,d)=>{const h=Yt.scale(Yt.create(),Xs.plane(u),2*r),g=Xs.transform(Xm.fromTranslation(Xm.create(),Yt.scale(Yt.create(),h,-.5)),u),p=vB(h,g);i=uu(i,p);const m=u.vertices;for(let v=0;v<m.length;v++){bB(o,m[v],Xs.plane(u));const b=(v+1)%m.length,y=[m[v],m[b]];_B(a,y,Xs.plane(u))}}),a.forEach(u=>{const d=u[0],h=u[1],g=d[0],p=d[1],m=Yt.subtract(Yt.create(),p,g);Yt.normalize(m,m);const v=h[0],b=Yt.cross(Yt.create(),v,m);let y=[];for(let x=0;x<s;x++)du(y,x*cu/s);for(let x=0,oe=h.length;x<oe;x++){const V=h[x],X=Yt.dot(b,V),Fe=Yt.dot(v,V);let ne=Math.atan2(X,Fe);ne<0&&(ne+=cu),du(y,ne),ne=Math.atan2(-X,-Fe),ne<0&&(ne+=cu),du(y,ne)}y=y.sort(mB);const S=y.length;let w,E;const A=[],O=[],z=[];for(let x=-1;x<S;x++){const oe=y[x<0?x+S:x],V=Math.sin(oe),X=Math.cos(oe);Yt.scale(l,v,X*r),Yt.scale(c,b,V*r),Yt.add(l,l,c);const Fe=Yt.add(Yt.create(),g,l),ne=Yt.add(Yt.create(),p,l);let N=!1;if(x>=0&&Yt.distance(Fe,w)<hB&&(N=!0),!N){if(x>=0){A.push(Fe),O.push(ne);const de=[E,ne,Fe,w],te=Xs.create(de);z.push(te)}w=Fe,E=ne}}O.reverse(),z.push(Xs.create(A)),z.push(Xs.create(O));const B=fu.create(z);i=uu(i,B)}),o.forEach(u=>{const d=u[0],h=u[1],g=h[0];let p=null,m=0;for(let S=1;S<h.length;S++){const w=h[S],E=Yt.cross(l,g,w),A=Yt.length(E);A>.05&&A>m&&(m=A,p=w)}p||(p=Yt.orthogonal(l,g));const v=Yt.cross(l,g,p);Yt.normalize(v,v);const b=Yt.cross(c,v,g),y=pB({center:[d[0],d[1],d[2]],radius:r,segments:s,axes:[g,v,b]});i=uu(i,y)}),gB(i)};var AB=yB;const SB=yt,EB=bd,wB=AB,TB=(e,t)=>{const n={delta:1,corners:"round",segments:12},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(s!=="round")throw new Error('corners must be "round" for 3D geometries');if(SB.toPolygons(t).length===0)throw new Error("the given geometry cannot be empty");e={delta:r,corners:s,segments:i};const a=wB(e,t);return EB(t,a)};var CB=TB;const PB=$l,sr=Tt,Ni=vt,No=jt,Wm=Yl,LB=e=>{let{external:t,internal:n}=e;PB(t)<0?t=t.reverse():n=n.reverse();const r=No.fromPoints({closed:!0},t),s=No.fromPoints({closed:!0},n),i=Ni.toSides(Ni.fromPoints(No.toPoints(r))),o=Ni.toSides(Ni.fromPoints(No.toPoints(s)));return i.push(...o),Ni.create(i)},OB=(e,t,n,r)=>{const{points:s,external:i,internal:o}=e,a=Math.floor(t/2),l=[],c=[];if(n==="round"&&a>0){const u=Math.PI/a,d=s[s.length-1],h=sr.angle(sr.subtract(sr.create(),i[i.length-1],d)),g=s[0],p=sr.angle(sr.subtract(sr.create(),o[0],g));for(let m=1;m<a;m++){let v=h+u*m,b=sr.fromAngleRadians(sr.create(),v);sr.scale(b,b,r),sr.add(b,b,d),l.push(b),v=p+u*m,b=sr.fromAngleRadians(sr.create(),v),sr.scale(b,b,r),sr.add(b,b,g),c.push(b)}}const f=[];return f.push(...i,...l,...o.reverse(),...c),Ni.fromPoints(f)},RB=(e,t)=>{e=Object.assign({},{delta:1,corners:"edge",segments:16},e);const{delta:r,corners:s,segments:i}=e;if(r<=0)throw new Error("the given delta must be positive for paths");if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=t.isClosed,a=No.toPoints(t);if(a.length===0)throw new Error("the given geometry cannot be empty");const l={points:a,external:Wm({delta:r,corners:s,segments:i,closed:o},a),internal:Wm({delta:-r,corners:s,segments:i,closed:o},a)};return t.isClosed?LB(l):OB(l,i,s,r)};var MB=RB;const IB=pt,DB=vt,FB=yt,xB=jt,kB=lB,GB=CB,BB=MB,NB=(e,...t)=>{if(t=IB(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>xB.isA(r)?BB(e,r):DB.isA(r)?kB(e,r):FB.isA(r)?GB(e,r):r);return n.length===1?n[0]:n};var _d=NB;const cl=vt,Ym=id,$B=Yl,VB=(e,t)=>{const n={delta:1,corners:"edge",segments:0},{delta:r,corners:s,segments:i}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');const o=cl.toOutlines(t),l=o.map(c=>(e={delta:o.reduce((d,h)=>d+Ym.arePointsInside(c,Ym.create(h)),0)%2===0?r:-r,corners:s,closed:!0,segments:i},$B(e,c))).reduce((c,f)=>c.concat(cl.toSides(cl.fromPoints(f))),[]);return cl.create(l)};var UB=VB;const Zm=jt,zB=Yl,HB=(e,t)=>{const n={delta:1,corners:"edge",closed:t.isClosed,segments:16},{delta:r,corners:s,closed:i,segments:o}=Object.assign({},n,e);if(!(s==="edge"||s==="chamfer"||s==="round"))throw new Error('corners must be "edge", "chamfer", or "round"');e={delta:r,corners:s,closed:i,segments:o};const a=zB(e,Zm.toPoints(t));return Zm.fromPoints({closed:i},a)};var jB=HB;const qB=pt,XB=vt,WB=jt,YB=UB,ZB=jB,KB=(e,...t)=>{if(t=qB(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>WB.isA(r)?ZB(e,r):XB.isA(r)?YB(e,r):r);return n.length===1?n[0]:n};var QB=KB,JB={expand:_d,offset:QB};const Io=Wt,hu=at,eN=vt,mu=Ji,tN=jl,nN=(e,t)=>{const n={offset:[0,0,1],twistAngle:0,twistSteps:12,repair:!0};let{offset:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(i<1)throw new Error("twistSteps must be 1 or more");s===0&&(i=1);const a=hu.clone(r),l=eN.toSides(t);if(l.length===0)throw new Error("the given geometry cannot be empty");const c=mu.fromSides(l);a[2]<0&&mu.reverse(c,c);const f=Io.create(),u=(d,h,g)=>{const p=h/i*s,m=hu.scale(hu.create(),a,h/i);return Io.multiply(f,Io.fromZRotation(f,p),Io.fromTranslation(Io.create(),m)),mu.transform(f,g)};return e={numberOfSlices:i+1,capStart:!0,capEnd:!0,repair:o,callback:u},tN(e,c)};var Zl=nN;const rN=vt,sN=jt,iN=Zl,oN=(e,t)=>{if(!t.isClosed)throw new Error("extruded path must be closed");const n=sN.toPoints(t),r=rN.fromPoints(n);return iN(e,r)};var aN=oN;const lN=pt,cN=vt,fN=jt,uN=Zl,dN=aN,hN=(e,...t)=>{const n={height:1,twistAngle:0,twistSteps:1,repair:!0},{height:r,twistAngle:s,twistSteps:i,repair:o}=Object.assign({},n,e);if(t=lN(t),t.length===0)throw new Error("wrong number of arguments");e={offset:[0,0,r],twistAngle:s,twistSteps:i,repair:o};const a=t.map(l=>fN.isA(l)?dN(e,l):cN.isA(l)?uN(e,l):l);return a.length===1?a[0]:a};var mN=hN;const pN=jt,gN=_d,vN=Zl,bN=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(e.delta=r,e.offset=[0,0,s],pN.toPoints(t).length===0)throw new Error("the given geometry cannot be empty");const o=gN(e,t);return vN(e,o)};var _N=bN;const{area:yN}=Qo,pu=vt,AN=jt,SN=_d,EN=Zl,wN=(e,t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);e.delta=r,e.offset=[0,0,s];const i=pu.toOutlines(t);if(i.length===0)throw new Error("the given geometry cannot be empty");const a=i.map(c=>(yN(c)<0&&c.reverse(),SN(e,AN.fromPoints({closed:!0},c)))).reduce((c,f)=>c.concat(pu.toSides(f)),[]),l=pu.create(a);return EN(e,l)};var TN=wN;const CN=pt,PN=vt,LN=jt,ON=_N,RN=TN,MN=(e,...t)=>{const n={size:1,height:1},{size:r,height:s}=Object.assign({},n,e);if(t=CN(t),t.length===0)throw new Error("wrong number of arguments");if(r<=0)throw new Error("size must be positive");if(s<=0)throw new Error("height must be positive");const i=t.map(o=>LN.isA(o)?ON(e,o):PN.isA(o)?RN(e,o):o);return i.length===1?i[0]:i};var IN=MN;const{TAU:Do}=kt,gu=Ji,Dr=Wt,DN=jl,FN=vt,xN=(e,t)=>{const n={angle:Do,startAngle:0,pitch:10,endOffset:0,segmentsPerRotation:32},{angle:r,endOffset:s,segmentsPerRotation:i,startAngle:o}=Object.assign({},n,e);let a;if(!e.pitch&&e.height?a=e.height/(r/Do):a=e.pitch?e.pitch:n.pitch,i<3)throw new Error("The number of segments per rotation needs to be at least 3.");let c=FN.toSides(t);if(c.length===0)throw new Error("the given geometry cannot be empty");const f=c.filter(v=>v[0][0]>=0);let u=gu.fromSides(c);f.length===0&&(u=gu.reverse(u));const d=Math.round(i/Do*Math.abs(r)),h=d>=2?d:2,g=Dr.create();let p;const m=(v,b,y)=>{const S=o+r/h*b,w=s/h*b,E=(S-o)/Do*a;return Dr.multiply(g,Dr.fromTranslation(Dr.create(),[w,0,E*Math.sign(r)]),Dr.fromXRotation(Dr.create(),-Do/4*Math.sign(r))),p=Dr.create(),Dr.multiply(p,Dr.fromZRotation(Dr.create(),S),g),gu.transform(p,y)};return DN({numberOfSlices:h+1,callback:m},u)};var kN=xN;const GN=pt,Km=Ul,vu=$r,Qm=Wt,Jm=vt,N2=yt,ki=Ft,BN=Es,NN=B2,$N=(e,t)=>{const n=vu.fromNormalAndPoint(vu.create(),e.axis,e.origin);if(Number.isNaN(n[0])||Number.isNaN(n[1])||Number.isNaN(n[2])||Number.isNaN(n[3]))throw new Error("project: invalid axis or origin");const r=BN(t),s=r*r*Math.sqrt(3)/4;if(r===0)return Jm.create();const i=N2.toPolygons(t);let o=[];for(let l=0;l<i.length;l++){const c=i[l].vertices.map(d=>vu.projectionOfPoint(n,d)),f=ki.create(c),u=ki.plane(f);Km(n,u)&&(ki.measureArea(f)<s||o.push(f))}if(!Km(n,[0,0,1])){const l=Qm.fromVectorRotation(Qm.create(),n,[0,0,1]);o=o.map(c=>ki.transform(l,c))}o=o.sort((l,c)=>ki.measureArea(c)-ki.measureArea(l));const a=o.map(l=>Jm.fromPoints(l.vertices));return NN(a)},VN=(e,...t)=>{const n={axis:[0,0,1],origin:[0,0,0]},{axis:r,origin:s}=Object.assign({},n,e);if(t=GN(t),t.length===0)throw new Error("wrong number of arguments");e={axis:r,origin:s};const i=t.map(o=>N2.isA(o)?$N(e,o):o);return i.length===1?i[0]:i};var UN=VN,zN={extrudeFromSlices:jl,extrudeLinear:mN,extrudeRectangular:IN,extrudeRotate:P2,extrudeHelical:kN,project:UN,slice:Ji};const ep=Tt,HN=e=>{let t=ep.fromValues(1/0,1/0);e.forEach(s=>{(s[1]<t[1]||s[1]===t[1]&&s[0]<t[0])&&(t=s)});const n=[];e.forEach(s=>{const i=qN(s[1]-t[1],s[0]-t[0]),o=ep.squaredDistance(s,t);n.push({point:s,angle:i,distSq:o})}),n.sort((s,i)=>s.angle<i.angle?-1:s.angle>i.angle?1:s.distSq<i.distSq?-1:s.distSq>i.distSq?1:0);const r=[];return n.forEach(s=>{let i=r.length;for(;i>1&&jN(r[i-2],r[i-1],s.point)<=Number.EPSILON;)r.pop(),i=r.length;r.push(s.point)}),r},jN=(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]),qN=(e,t)=>e===0&&t===0?-1/0:-t/e;var $2=HN;const tp=vt,np=yt,rp=jt,XN=e=>{const t=new Set,n=[],r=s=>{const i=s.toString();t.has(i)||(n.push(s),t.add(i))};return e.forEach(s=>{tp.isA(s)?tp.toPoints(s).forEach(r):np.isA(s)?np.toPoints(s).forEach(i=>i.forEach(r)):rp.isA(s)&&rp.toPoints(s).forEach(r)}),n};var yd=XN;const WN=pt,YN=jt,ZN=$2,KN=yd,QN=(...e)=>{e=WN(e);const t=KN(e),n=ZN(t);return YN.fromPoints({closed:!0},n)};var JN=QN;const e$=pt,sp=vt,t$=$2,n$=yd,r$=(...e)=>{e=e$(e);const t=n$(e),n=t$(t);return n.length<3?sp.create():sp.fromPoints(n)};var s$=r$;const i$=Zo,ip=Dl,op=hv,o$=(e,t,n)=>{const r=[],s=[],i=[];ip(r,n,t),ip(s,e,t);const o=op(i$(i,s,r)),a=op(r);if(a===0)throw Error("a and b are the same point");return o/a},a$=(e,t,n)=>Math.sqrt(o$(e,t,n));var l$=a$;const c$=Zo,f$=ed,ap=Dl,u$=(e,t,n,r)=>{const s=[0,0,0];return ap(e,t,n),ap(s,n,r),c$(e,e,s),f$(e,e)};var d$=u$;let h$=class{constructor(){this.head=null,this.tail=null}clear(){this.head=this.tail=null}insertBefore(t,n){n.prev=t.prev,n.next=t,n.prev?n.prev.next=n:this.head=n,t.prev=n}insertAfter(t,n){n.prev=t,n.next=t.next,n.next?n.next.prev=n:this.tail=n,t.next=n}add(t){this.head?this.tail.next=t:this.head=t,t.prev=this.tail,t.next=null,this.tail=t}addAll(t){for(this.head?this.tail.next=t:this.head=t,t.prev=this.tail;t.next;)t=t.next;this.tail=t}remove(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}removeChain(t,n){t.prev?t.prev.next=n.next:this.head=n.next,n.next?n.next.prev=t.prev:this.tail=t.prev}first(){return this.head}isEmpty(){return!this.head}};var m$=h$;let p$=class{constructor(t,n){this.point=t,this.index=n,this.next=null,this.prev=null,this.face=null}};var g$=p$;const v$=av,b$=dv;let _$=class{constructor(t,n){this.vertex=t,this.face=n,this.next=null,this.prev=null,this.opposite=null}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){return this.tail()?v$(this.tail().point,this.head().point):-1}lengthSquared(){return this.tail()?b$(this.tail().point,this.head().point):-1}setOpposite(t){this.opposite=t,t.opposite=this}};var y$=_$;const bu=iv,A$=ov,S$=Zo,_u=Ml,E$=lv,w$=ed,fl=uv,yu=Dl,Au=y$,V2=0,T$=1,ju=2;let C$=class U2{constructor(){this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=V2,this.edge=null,this.nVertices=0}getEdge(t){if(typeof t!="number")throw Error("requires a number");let n=this.edge;for(;t>0;)n=n.next,t-=1;for(;t<0;)n=n.prev,t+=1;return n}computeNormal(){const t=this.edge,n=t.next;let r=n.next;const s=yu([],n.head().point,t.head().point),i=[],o=[];for(this.nVertices=2,this.normal=[0,0,0];r!==t;)A$(o,s),yu(s,r.head().point,t.head().point),bu(this.normal,this.normal,S$(i,o,s)),r=r.next,this.nVertices+=1;this.area=E$(this.normal),this.normal=fl(this.normal,this.normal,1/this.area)}computeNormalMinArea(t){if(this.computeNormal(),this.area<t){let n,r=0,s=this.edge;do{const f=s.lengthSquared();f>r&&(n=s,r=f),s=s.next}while(s!==this.edge);const i=n.tail().point,o=n.head().point,a=yu([],o,i),l=Math.sqrt(r);fl(a,a,1/l);const c=_u(this.normal,a);fl(a,a,-c),bu(this.normal,this.normal,a),w$(this.normal,this.normal)}}computeCentroid(){this.centroid=[0,0,0];let t=this.edge;do bu(this.centroid,this.centroid,t.head().point),t=t.next;while(t!==this.edge);fl(this.centroid,this.centroid,1/this.nVertices)}computeNormalAndCentroid(t){typeof t<"u"?this.computeNormalMinArea(t):this.computeNormal(),this.computeCentroid(),this.offset=_u(this.normal,this.centroid)}distanceToPlane(t){return _u(this.normal,t)-this.offset}connectHalfEdges(t,n){let r;if(t.opposite.face===n.opposite.face){const s=n.opposite.face;let i;t===this.edge&&(this.edge=n),s.nVertices===3?(i=n.opposite.prev.opposite,s.mark=ju,r=s):(i=n.opposite.next,s.edge===i.prev&&(s.edge=i),i.prev=i.prev.prev,i.prev.next=i),n.prev=t.prev,n.prev.next=n,n.setOpposite(i),s.computeNormalAndCentroid()}else t.next=n,n.prev=t;return r}mergeAdjacentFaces(t,n){const r=t.opposite,s=r.face;n.push(s),s.mark=ju;let i=t.prev,o=t.next,a=r.prev,l=r.next;for(;i.opposite.face===s;)i=i.prev,l=l.next;for(;o.opposite.face===s;)o=o.next,a=a.prev;let c;for(c=l;c!==a.next;c=c.next)c.face=this;this.edge=o;let f;return f=this.connectHalfEdges(a,o),f&&n.push(f),f=this.connectHalfEdges(i,l),f&&n.push(f),this.computeNormalAndCentroid(),n}collectIndices(){const t=[];let n=this.edge;do t.push(n.head().index),n=n.next;while(n!==this.edge);return t}static createTriangle(t,n,r,s=0){const i=new U2,o=new Au(t,i),a=new Au(n,i),l=new Au(r,i);return o.next=l.prev=a,a.next=o.prev=l,l.next=a.prev=o,i.edge=o,i.computeNormalAndCentroid(s),i}};var P$={VISIBLE:V2,NON_CONVEX:T$,DELETED:ju,Face:C$};const Su=Ml,L$=l$,O$=d$,lp=m$,R$=g$,{Face:Yr,VISIBLE:Gi,NON_CONVEX:cp,DELETED:M$}=P$,I$=1,fp=2;let D$=class{constructor(t){if(!Array.isArray(t))throw TypeError("input is not a valid array");if(t.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=t.length,this.faces=[],this.newFaces=[],this.claimed=new lp,this.unclaimed=new lp,this.vertices=[];for(let n=0;n<t.length;n+=1)this.vertices.push(new R$(t[n],n));this.discardedFaces=[],this.vertexPointIndices=[]}addVertexToFace(t,n){t.face=n,n.outside?this.claimed.insertBefore(n.outside,t):this.claimed.add(t),n.outside=t}removeVertexFromFace(t,n){t===n.outside&&(t.next&&t.next.face===n?n.outside=t.next:n.outside=null),this.claimed.remove(t)}removeAllVerticesFromFace(t){if(t.outside){let n=t.outside;for(;n.next&&n.next.face===t;)n=n.next;return this.claimed.removeChain(t.outside,n),n.next=null,t.outside}}deleteFaceVertices(t,n){const r=this.removeAllVerticesFromFace(t);if(r)if(!n)this.unclaimed.addAll(r);else{let s;for(let i=r;i;i=s)s=i.next,n.distanceToPlane(i.point)>this.tolerance?this.addVertexToFace(i,n):this.unclaimed.add(i)}}resolveUnclaimedPoints(t){let n=this.unclaimed.first();for(let r=n;r;r=n){n=r.next;let s=this.tolerance,i;for(let o=0;o<t.length;o+=1){const a=t[o];if(a.mark===Gi){const l=a.distanceToPlane(r.point);if(l>s&&(s=l,i=a),s>1e3*this.tolerance)break}}i&&this.addVertexToFace(r,i)}}computeExtremes(){const t=[],n=[],r=[],s=[];let i,o;for(i=0;i<3;i+=1)r[i]=s[i]=this.vertices[0];for(i=0;i<3;i+=1)t[i]=n[i]=this.vertices[0].point[i];for(i=1;i<this.vertices.length;i+=1){const a=this.vertices[i],l=a.point;for(o=0;o<3;o+=1)l[o]<t[o]&&(t[o]=l[o],r[o]=a);for(o=0;o<3;o+=1)l[o]>n[o]&&(n[o]=l[o],s[o]=a)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(t[0]),Math.abs(n[0]))+Math.max(Math.abs(t[1]),Math.abs(n[1]))+Math.max(Math.abs(t[2]),Math.abs(n[2]))),[r,s]}createInitialSimplex(){const t=this.vertices,[n,r]=this.computeExtremes();let s,i,o,a,l=0,c=0;for(o=0;o<3;o+=1){const p=r[o].point[o]-n[o].point[o];p>l&&(l=p,c=o)}const f=n[c],u=r[c];for(l=0,o=0;o<this.vertices.length;o+=1){const p=this.vertices[o];if(p!==f&&p!==u){const m=L$(p.point,f.point,u.point);m>l&&(l=m,s=p)}}const d=O$([],f.point,u.point,s.point),h=Su(f.point,d);for(l=-1,o=0;o<this.vertices.length;o+=1){const p=this.vertices[o];if(p!==f&&p!==u&&p!==s){const m=Math.abs(Su(d,p.point)-h);m>l&&(l=m,i=p)}}const g=[];if(Su(i.point,d)-h<0)for(g.push(Yr.createTriangle(f,u,s),Yr.createTriangle(i,u,f),Yr.createTriangle(i,s,u),Yr.createTriangle(i,f,s)),o=0;o<3;o+=1){const p=(o+1)%3;g[o+1].getEdge(2).setOpposite(g[0].getEdge(p)),g[o+1].getEdge(1).setOpposite(g[p+1].getEdge(0))}else for(g.push(Yr.createTriangle(f,s,u),Yr.createTriangle(i,f,u),Yr.createTriangle(i,u,s),Yr.createTriangle(i,s,f)),o=0;o<3;o+=1){const p=(o+1)%3;g[o+1].getEdge(2).setOpposite(g[0].getEdge((3-o)%3)),g[o+1].getEdge(0).setOpposite(g[p+1].getEdge(1))}for(o=0;o<4;o+=1)this.faces.push(g[o]);for(o=0;o<t.length;o+=1){const p=t[o];if(p!==f&&p!==u&&p!==s&&p!==i){l=this.tolerance;let m;for(a=0;a<4;a+=1){const v=g[a].distanceToPlane(p.point);v>l&&(l=v,m=g[a])}m&&this.addVertexToFace(p,m)}}}reindexFaceAndVertices(){const t=[];for(let n=0;n<this.faces.length;n+=1){const r=this.faces[n];r.mark===Gi&&t.push(r)}this.faces=t}collectFaces(t){const n=[];for(let r=0;r<this.faces.length;r+=1){if(this.faces[r].mark!==Gi)throw Error("attempt to include a destroyed face in the hull");const s=this.faces[r].collectIndices();if(t)n.push(s);else for(let i=0;i<s.length-2;i+=1)n.push([s[0],s[i+1],s[i+2]])}return n}nextVertexToAdd(){if(!this.claimed.isEmpty()){let t,n,r=0;const s=this.claimed.first().face;for(n=s.outside;n&&n.face===s;n=n.next){const i=s.distanceToPlane(n.point);i>r&&(r=i,t=n)}return t}}computeHorizon(t,n,r,s){this.deleteFaceVertices(r),r.mark=M$;let i;n?i=n.next:i=n=r.getEdge(0);do{const o=i.opposite,a=o.face;a.mark===Gi&&(a.distanceToPlane(t)>this.tolerance?this.computeHorizon(t,o,a,s):s.push(i)),i=i.next}while(i!==n)}addAdjoiningFace(t,n){const r=Yr.createTriangle(t,n.tail(),n.head());return this.faces.push(r),r.getEdge(-1).setOpposite(n.opposite),r.getEdge(0)}addNewFaces(t,n){this.newFaces=[];let r,s;for(let i=0;i<n.length;i+=1){const o=n[i],a=this.addAdjoiningFace(t,o);r?a.next.setOpposite(s):r=a,this.newFaces.push(a.face),s=a}r.next.setOpposite(s)}oppositeFaceDistance(t){return t.face.distanceToPlane(t.opposite.face.centroid)}doAdjacentMerge(t,n){let r=t.edge,s=!0,i=0;do{if(i>=t.nVertices)throw Error("merge recursion limit exceeded");const o=r.opposite.face;let a=!1;if(n===fp?(this.oppositeFaceDistance(r)>-this.tolerance||this.oppositeFaceDistance(r.opposite)>-this.tolerance)&&(a=!0):t.area>o.area?this.oppositeFaceDistance(r)>-this.tolerance?a=!0:this.oppositeFaceDistance(r.opposite)>-this.tolerance&&(s=!1):this.oppositeFaceDistance(r.opposite)>-this.tolerance?a=!0:this.oppositeFaceDistance(r)>-this.tolerance&&(s=!1),a){const l=t.mergeAdjacentFaces(r,[]);for(let c=0;c<l.length;c+=1)this.deleteFaceVertices(l[c],t);return!0}r=r.next,i+=1}while(r!==t.edge);return s||(t.mark=cp),!1}addVertexToHull(t){const n=[];this.unclaimed.clear(),this.removeVertexFromFace(t,t.face),this.computeHorizon(t.point,null,t.face,n),this.addNewFaces(t,n);for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===Gi)for(;this.doAdjacentMerge(s,I$););}for(let r=0;r<this.newFaces.length;r+=1){const s=this.newFaces[r];if(s.mark===cp)for(s.mark=Gi;this.doAdjacentMerge(s,fp););}this.resolveUnclaimedPoints(this.newFaces)}build(){let t;for(this.createInitialSimplex();t=this.nextVertexToAdd();)this.addVertexToHull(t);this.reindexFaceAndVertices()}};var F$=D$;const x$=F$,k$=(e,t={})=>{const n=new x$(e);return n.build(),n.collectFaces(t.skipTriangulation)};var G$=k$;const B$=pt,N$=yt,$$=Ft,V$=G$,U$=yd,z$=(...e)=>{if(e=B$(e),e.length===1)return e[0];const t=U$(e),r=V$(t,{skipTriangulation:!0}).map(s=>{const i=s.map(o=>t[o]);return $$.create(i)});return N$.create(r)};var H$=z$;const j$=pt,q$=ea,X$=vt,W$=yt,Y$=jt,Z$=JN,K$=s$,Q$=H$,J$=(...e)=>{if(e=j$(e),e.length===0)throw new Error("wrong number of arguments");if(!q$(e))throw new Error("only hulls of the same type are supported");const t=e[0];return Y$.isA(t)?Z$(e):X$.isA(t)?K$(e):W$.isA(t)?Q$(e):t};var z2=J$;const e9=pt,t9=bd,n9=z2,r9=(...e)=>{if(e=e9(e),e.length<2)throw new Error("wrong number of arguments");const t=[];for(let n=1;n<e.length;n++)t.push(n9(e[n-1],e[n]));return t9(t)};var s9=r9,i9={hull:z2,hullChain:s9};const Eu=at,H2=Ft,o9=(e,t)=>{const n=Math.abs(H2.measureArea(t));return Number.isFinite(n)&&n>e},a9=(e,t)=>{let n=t.map(s=>{const i=s.vertices.map(l=>Eu.snap(Eu.create(),l,e)),o=[];for(let l=0;l<i.length;l++){const c=(l+1)%i.length;Eu.equals(i[l],i[c])||o.push(i[l])}const a=H2.create(o);return s.color&&(a.color=s.color),a});const r=e*e*Math.sqrt(3)/4;return n=n.filter(s=>o9(r,s)),n};var j2=a9;const l9=Ul,$i=at,Pl=Ft,c9=e=>{const t=Pl.toPoints(e),n=[];for(let r=0;r<t.length;r++){const s=(r+1)%t.length,i={v1:t[r],v2:t[s]};n.push(i)}for(let r=0;r<n.length;r++){const s=(r+1)%t.length;n[r].next=n[s],n[s].prev=n[r]}return n},f9=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.set(n,t)},wu=(e,t)=>{const n=`${t.v1}:${t.v2}`;e.delete(n)},u9=(e,t)=>{const n=`${t.v2}:${t.v1}`;return e.get(n)},d9=(e,t,n)=>{let r=e.prev.v1,s=e.prev.v2,i=t.next.v2;const o=up(r,s,i,n);r=t.prev.v1,s=t.prev.v2,i=e.next.v2;const a=up(r,s,i,n);return[o,a]},h9=$i.create(),m9=$i.create(),up=(e,t,n,r)=>{const s=$i.subtract(h9,t,e),i=$i.subtract(m9,n,t);return $i.cross(s,s,i),$i.dot(s,r)},p9=e=>{let t;const n=[];for(;e.next;){const r=e.next;n.push(e.v1),e.v1=null,e.v2=null,e.next=null,e.prev=null,e=r}return n.length>0&&(t=Pl.create(n)),t},g9=e=>{if(e.length<2)return e;const t=e[0].plane,n=e.slice(),r=new Map;for(;n.length>0;){const i=n.shift(),o=c9(i);for(let a=0;a<o.length;a++){const l=o[a],c=u9(r,l);if(c){const f=d9(l,c,t);if(f[0]>=0&&f[1]>=0){const u=c.next,d=l.next;l.prev.next=c.next,l.next.prev=c.prev,c.prev.next=l.next,c.next.prev=l.prev,l.v1=null,l.v2=null,l.next=null,l.prev=null,wu(r,c),c.v1=null,c.v2=null,c.next=null,c.prev=null;const h=(g,p,m)=>{const v={v1:m.v1,v2:p.v2,next:p.next,prev:m.prev};m.prev.next=v,p.next.prev=v,wu(g,p),p.v1=null,p.v2=null,p.next=null,p.prev=null,wu(g,m),m.v1=null,m.v2=null,m.next=null,m.prev=null};f[0]===0&&h(r,u,u.prev),f[1]===0&&h(r,d,d.prev)}}else l.next&&f9(r,l)}}const s=[];return r.forEach(i=>{const o=p9(i);o&&s.push(o)}),r.clear(),s},v9=(e,t)=>Math.abs(e[3]-t[3])<15e-8?l9(e,t):!1,b9=(e,t)=>{const n=[];t.forEach(s=>{const i=n.find(o=>v9(o[0],Pl.plane(s)));i?i[1].push(s):n.push([Pl.plane(s),[s]])});let r=[];return n.forEach(s=>{const i=s[1],o=g9(i);r=r.concat(o)}),r};var _9=b9;const dp=kt,Fr=at,y9=Ft,Jn=e=>`${e}`,hp=(e,t,n,r,s,i)=>{const o=Jn(r),a=Jn(s),l=`${o}/${a}`,c=`${a}/${o}`;if(e.has(c))return _l(e,t,n,s,r,null),null;const f={vertex0:r,vertex1:s,polygonindex:i};return e.has(l)?e.get(l).push(f):e.set(l,[f]),t.has(o)?t.get(o).push(l):t.set(o,[l]),n.has(a)?n.get(a).push(l):n.set(a,[l]),l},_l=(e,t,n,r,s,i)=>{const o=Jn(r),a=Jn(s),l=`${o}/${a}`;let c=-1;const f=e.get(l);for(let u=0;u<f.length;u++){const d=f[u];let h=Jn(d.vertex0);if(h===o&&(h=Jn(d.vertex1),h===a&&!(i!==null&&d.polygonindex!==i))){c=u;break}}f.splice(c,1),f.length===0&&e.delete(l),c=t.get(o).indexOf(l),t.get(o).splice(c,1),t.get(o).length===0&&t.delete(o),c=n.get(a).indexOf(l),n.get(a).splice(c,1),n.get(a).length===0&&n.delete(a)},A9=e=>{const t=new Map;for(let n=0;n<e.length;n++){const r=e[n],s=r.vertices.length;if(s>=3){let i=r.vertices[0],o=Jn(i);for(let a=0;a<s;a++){let l=a+1;l===s&&(l=0);const c=r.vertices[l],f=Jn(c),u=`${o}/${f}`,d=`${f}/${o}`;if(t.has(d)){const h=t.get(d);h.splice(-1,1),h.length===0&&t.delete(d)}else{const h={vertex0:i,vertex1:c,polygonindex:n};t.has(u)?t.get(u).push(h):t.set(u,[h])}i=c,o=f}}else console.warn("warning: invalid polygon found during insertTjunctions")}if(t.size>0){const n=new Map,r=new Map,s=new Map;for(const[o,a]of t)s.set(o,!0),a.forEach(l=>{const c=Jn(l.vertex0),f=Jn(l.vertex1);n.has(c)?n.get(c).push(o):n.set(c,[o]),r.has(f)?r.get(f).push(o):r.set(f,[o])});const i=e.slice(0);for(;t.size!==0;){for(const a of t.keys())s.set(a,!0);let o=!1;for(;;){const a=Array.from(s.keys());if(a.length===0)break;const l=a[0];let c=!0;if(t.has(l)){const u=t.get(l)[0];for(let d=0;d<2;d++){const h=d===0?u.vertex0:u.vertex1,g=d===0?u.vertex1:u.vertex0,p=Jn(h),m=Jn(g);let v=[];d===0?r.has(p)&&(v=r.get(p)):n.has(p)&&(v=n.get(p));for(let b=0;b<v.length;b++){const y=v[b],S=t.get(y)[0],w=d===0?S.vertex0:S.vertex1;if(d===0?S.vertex1:S.vertex0,Jn(w)===m){_l(t,n,r,h,g,null),_l(t,n,r,g,h,null),c=!1,d=2,o=!0;break}else{const A=h,O=g,z=w,B=Fr.subtract(Fr.create(),z,A),x=Fr.dot(Fr.subtract(Fr.create(),O,A),B)/Fr.dot(B,B);if(x>0&&x<1){const oe=Fr.scale(Fr.create(),B,x);if(Fr.add(oe,oe,A),Fr.squaredDistance(oe,O)<dp.EPS*dp.EPS){const X=S.polygonindex,Fe=i[X],ne=Jn(S.vertex1);let N=-1;for(let Ge=0;Ge<Fe.vertices.length;Ge++)if(Jn(Fe.vertices[Ge])===ne){N=Ge;break}const de=Fe.vertices.slice(0);de.splice(N,0,g);const te=y9.create(de);i[X]=te,_l(t,n,r,S.vertex0,S.vertex1,X);const je=hp(t,n,r,S.vertex0,g,X),Mt=hp(t,n,r,g,S.vertex1,X);je!==null&&s.set(je,!0),Mt!==null&&s.set(Mt,!0),c=!1,d=2,o=!0;break}}}}}}c&&s.delete(l)}if(!o)break}e=i}return t.clear(),e};var S9=A9;const Tu=at,Cu=Ft,E9=(e,t,n)=>{const r=t.vertices.length;if(r>3){if(r>4){const o=[0,0,0];t.vertices.forEach(a=>Tu.add(o,o,a)),Tu.snap(o,Tu.divide(o,o,[r,r,r]),e);for(let a=0;a<r;a++){const l=Cu.create([o,t.vertices[a],t.vertices[(a+1)%r]]);t.color&&(l.color=t.color),n.push(l)}return}const s=Cu.create([t.vertices[0],t.vertices[1],t.vertices[2]]),i=Cu.create([t.vertices[0],t.vertices[2],t.vertices[3]]);t.color&&(s.color=t.color,i.color=t.color),n.push(s,i);return}n.push(t)},w9=(e,t)=>{const n=[];return t.forEach(r=>{E9(e,r,n)}),n};var T9=w9;const C9=pt,P9=Es,L9=vt,q2=yt,O9=jt,R9=j2,M9=_9,I9=S9,D9=T9,F9=(e,t)=>t,x9=(e,t)=>t,k9=(e,t)=>{const n={snap:!1,simplify:!1,triangulate:!1},{snap:r,simplify:s,triangulate:i}=Object.assign({},n,e),o=P9(t);let a=q2.toPolygons(t);r&&(a=R9(o,a)),s&&(a=M9(o,a)),i&&(a=I9(a),a=D9(o,a));const l=Object.assign({},t);return l.polygons=a,l},G9=(e,...t)=>{if(t=C9(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>{if(O9.isA(r))return F9(e,r);if(L9.isA(r))return x9(e,r);if(q2.isA(r))return k9(e,r);throw new Error("invalid geometry")});return n.length===1?n[0]:n};var B9=G9;const N9=pt,Qs=Tt,qu=vt,Xu=yt,Wu=jt,Ad=Es,$9=j2,V9=e=>{const t=Ad(e),r=Wu.toPoints(e).map(s=>Qs.snap(Qs.create(),s,t));return Wu.create(r)},U9=e=>{const t=Ad(e);let r=qu.toSides(e).map(s=>[Qs.snap(Qs.create(),s[0],t),Qs.snap(Qs.create(),s[1],t)]);return r=r.filter(s=>!Qs.equals(s[0],s[1])),qu.create(r)},z9=e=>{const t=Ad(e),n=Xu.toPolygons(e),r=$9(t,n);return Xu.create(r)},H9=(...e)=>{if(e=N9(e),e.length===0)throw new Error("wrong number of arguments");const t=e.map(n=>Wu.isA(n)?V9(n):qu.isA(n)?U9(n):Xu.isA(n)?z9(n):n);return t.length===1?t[0]:t};var j9=H9,q9={generalize:B9,snap:j9};const X9=(e,t,n)=>{for(e=e.slice();e.length<n;)e.push(t);return e};var W9=X9;const Y9=pt,mp=W9,X2=fd,{translate:Z9}=ei,K9=e=>{if(!Array.isArray(e.modes)||e.modes.length>3)throw new Error("align(): modes must be an array of length <= 3");if(e.modes=mp(e.modes,"none",3),e.modes.filter(t=>["center","max","min","none"].includes(t)).length!==3)throw new Error('align(): all modes must be one of "center", "max" or "min"');if(!Array.isArray(e.relativeTo)||e.relativeTo.length>3)throw new Error("align(): relativeTo must be an array of length <= 3");if(e.relativeTo=mp(e.relativeTo,0,3),e.relativeTo.filter(t=>Number.isFinite(t)||t==null).length!==3)throw new Error("align(): all relativeTo values must be a number, or null.");if(typeof e.grouped!="boolean")throw new Error("align(): grouped must be a boolean value.");return e},Q9=(e,t,n)=>{for(let r=0;r<3;r++)e[r]==null&&(t[r]==="center"?e[r]=(n[0][r]+n[1][r])/2:t[r]==="max"?e[r]=n[1][r]:t[r]==="min"&&(e[r]=n[0][r]));return e},pp=(e,t,n)=>{const r=X2(e),s=[0,0,0];for(let i=0;i<3;i++)t[i]==="center"?s[i]=n[i]-(r[0][i]+r[1][i])/2:t[i]==="max"?s[i]=n[i]-r[1][i]:t[i]==="min"&&(s[i]=n[i]-r[0][i]);return Z9(s,e)},J9=(e,...t)=>{e=Object.assign({},{modes:["center","center","min"],relativeTo:[0,0,0],grouped:!1},e),e=K9(e);let{modes:r,relativeTo:s,grouped:i}=e;if(t=Y9(t),t.length===0)throw new Error("align(): No geometries were provided to act upon");if(s.filter(o=>o==null).length){const o=X2(t);s=Q9(s,r,o)}return i?t=pp(t,r,s):t=t.map(o=>pp(o,r,s)),t.length===1?t[0]:t};var eV=J9;const tV=pt,nV=vt,rV=yt,sV=jt,iV=ii,{translate:oV}=ei,Pu=(e,t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e),i=iV(t),o=[0,0,0];return r[0]&&(o[0]=s[0]-(i[0][0]+(i[1][0]-i[0][0])/2)),r[1]&&(o[1]=s[1]-(i[0][1]+(i[1][1]-i[0][1])/2)),r[2]&&(o[2]=s[2]-(i[0][2]+(i[1][2]-i[0][2])/2)),oV(o,t)},Kl=(e,...t)=>{const n={axes:[!0,!0,!0],relativeTo:[0,0,0]},{axes:r,relativeTo:s}=Object.assign({},n,e);if(t=tV(t),t.length===0)throw new Error("wrong number of arguments");if(s.length!==3)throw new Error("relativeTo must be an array of length 3");e={axes:r,relativeTo:s};const i=t.map(o=>sV.isA(o)||nV.isA(o)||rV.isA(o)?Pu(e,o):o);return i.length===1?i[0]:i},aV=(...e)=>Kl({axes:[!0,!1,!1]},e),lV=(...e)=>Kl({axes:[!1,!0,!1]},e),cV=(...e)=>Kl({axes:[!1,!1,!0]},e);var ul={center:Kl,centerX:aV,centerY:lV,centerZ:cV};const fV=pt,gp=Wt,vp=vt,bp=yt,_p=jt,Ql=(e,...t)=>{if(!Array.isArray(e))throw new Error("factors must be an array");if(t=fV(t),t.length===0)throw new Error("wrong number of arguments");for(e=e.slice();e.length<3;)e.push(1);if(e[0]<=0||e[1]<=0||e[2]<=0)throw new Error("factors must be positive");const n=gp.fromScaling(gp.create(),e),r=t.map(s=>_p.isA(s)?_p.transform(n,s):vp.isA(s)?vp.transform(n,s):bp.isA(s)?bp.transform(n,s):s);return r.length===1?r[0]:r},uV=(e,...t)=>Ql([e,1,1],t),dV=(e,...t)=>Ql([1,e,1],t),hV=(e,...t)=>Ql([1,1,e],t);var dl={scale:Ql,scaleX:uV,scaleY:dV,scaleZ:hV};const mV=pt,yp=vt,Ap=yt,Sp=jt,pV=(e,...t)=>{if(t=mV(t),t.length===0)throw new Error("wrong number of arguments");const n=t.map(r=>Sp.isA(r)?Sp.transform(e,r):yp.isA(r)?yp.transform(e,r):Ap.isA(r)?Ap.transform(e,r):r);return n.length===1?n[0]:n};var gV=pV,vV={align:eV,center:ul.center,centerX:ul.centerX,centerY:ul.centerY,centerZ:ul.centerZ,mirror:ko.mirror,mirrorX:ko.mirrorX,mirrorY:ko.mirrorY,mirrorZ:ko.mirrorZ,rotate:Bo.rotate,rotateX:Bo.rotateX,rotateY:Bo.rotateY,rotateZ:Bo.rotateZ,scale:dl.scale,scaleX:dl.scaleX,scaleY:dl.scaleY,scaleZ:dl.scaleZ,transform:gV,translate:ei.translate,translateX:ei.translateX,translateY:ei.translateY,translateZ:ei.translateZ},es={colors:E8,curves:I8,geometries:od,maths:mM,measurements:Bu,primitives:L2,text:Dx,utils:I2,booleans:tB,expansions:JB,extrusions:zN,hulls:i9,modifiers:q9,transforms:vV};const{geometries:Lu}=es,bV=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=new ArrayBuffer(4),r=new Int32Array(n,0,1),s=new Int8Array(n,0,4);if(r[0]=287454020,s[0]!==68)throw new Error("Binary STL output is currently only supported on little-endian (Intel) processors");let i=0,o=0;e.forEach((m,v)=>{Lu.geom3.toPolygons(m).forEach(y=>{const S=y.vertices.length,w=S>=3?S-2:0;i+=w,o+=1})});const a=new Uint8Array(80);for(let m=0;m<80;m++)a[m]=65;const l=new Uint32Array(1);l[0]=i;const c=new ArrayBuffer(50*i),f=new Int8Array(c),u=new ArrayBuffer(50),d=new Int8Array(u),h=new Float32Array(u,0,12),g=new Uint16Array(u,48,1);let p=0;return e.forEach(m=>{Lu.geom3.toPolygons(m).forEach((b,y)=>{const S=b.vertices,w=S.length,E=Lu.poly3.plane(b);for(let A=0;A<w-2;A++){h[0]=E[0],h[1]=E[1],h[2]=E[2];let O=3;for(let z=0;z<3;z++){const B=z+(z>0?A:0),x=S[B];h[O++]=x[0],h[O++]=x[1],h[O++]=x[2]}g[0]=0,f.set(d,p),p+=50}t.statusCallback&&t.statusCallback({progress:100*y/o})})}),t.statusCallback&&t.statusCallback({progress:100}),[a.buffer,l.buffer,c]};var _V={serializeBinary:bV};const{geometries:W2}=es,yV=(e,t)=>{t.statusCallback&&t.statusCallback({progress:0});const n=`solid JSCAD
${AV(e,t)}
endsolid JSCAD
`;return t.statusCallback&&t.statusCallback({progress:100}),[n]},AV=(e,t)=>{const n=[];return e.forEach((r,s)=>{n.push(SV(r)),t.statusCallback&&t.statusCallback({progress:100*s/e.length})}),n.join(`
`)},SV=(e,t)=>{const n=[];return W2.geom3.toPolygons(e).forEach((s,i)=>{n.push(EV(s))}),n.join(`
`)},Y2=e=>`${e[0]} ${e[1]} ${e[2]}`,Ou=e=>`vertex ${Y2(e)}`,EV=e=>{const t=[];if(e.vertices.length>=3){const n=Ou(e.vertices[0]);for(let r=0;r<e.vertices.length-2;r++){const s=`facet normal ${Y2(W2.poly3.plane(e))}
outer loop
${n}
${Ou(e.vertices[r+1])}
${Ou(e.vertices[r+2])}
endloop
endfacet`;t.push(s)}}return t.join(`
`)};var wV={serializeText:yV};const{geometries:TV,modifiers:CV}=es,{flatten:PV,toArray:LV}=Ku,{serializeBinary:OV}=_V,{serializeText:RV}=wV,MV="application/sla",IV=(e,...t)=>{e=Object.assign({},{binary:!0,statusCallback:null},e),t=PV(t);let r=t.filter(s=>TV.geom3.isA(s));if(r.length===0)throw new Error("only 3D geometries can be serialized to STL");return t.length!==r.length&&console.warn("some objects could not be serialized to STL"),r=LV(CV.generalize({snap:!0,triangulate:!0},r)),e.binary?OV(r,e):RV(r,e)};var DV={mimeType:MV,serialize:IV};const FV=r5(DV);var Z2={exports:{}};(function(e,t){(function(n,r){r()})(Zs,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,u){var d=new XMLHttpRequest;d.open("GET",c),d.responseType="blob",d.onload=function(){l(d.response,f,u)},d.onerror=function(){console.error("could not download file")},d.send()}function s(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Zs=="object"&&Zs.global===Zs?Zs:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,u){var d=o.URL||o.webkitURL,h=document.createElement("a");f=f||c.name||"download",h.download=f,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?i(h):s(h.href)?r(c,f,u):i(h,h.target="_blank")):(h.href=d.createObjectURL(c),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){i(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,u){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,u),f);else if(s(c))r(c,f,u);else{var d=document.createElement("a");d.href=c,d.target="_blank",setTimeout(function(){i(d)})}}:function(c,f,u,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,u);var h=c.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||h&&g||a)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var y=m.result;y=p?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=y:location=y,d=null},m.readAsDataURL(c)}else{var v=o.URL||o.webkitURL,b=v.createObjectURL(c);d?d.location=b:location.href=b,d=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(Z2);var xV=Z2.exports;const K2={model:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,2,2,1,2,2,2,0,2,2,2,3,3,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,0,0,0,0,0,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,0,2,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,3,2,1,2,3,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],cellSize:30,wallWidth:2.25,height:22,radius:1.5,inset:1,keyholeHorizontalSpace:51,keyholeHorizontalOffset:0,keyholeVerticalSpace:0,keyholeVerticalOffset:0},kV={model:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,2,0,0,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,2,2,3,2,2,2,2,1,3,2,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,2,3,2,2,1,1,2,1,2,2,2,2,2,2,2,3,3,2,2,0,2,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,1,2,2,3,2,2,2,2,0,0,0,0,0,0],[3,2,1,2,2,2,2,2,2,1,3,2,2,2,2,1,2,2,2,2,2,2,3,2,0,0,0,0,0,0],[0,0,2,2,2,3,2,2,2,2,3,2,2,2,2,3,2,2,2,1,2,0,2,0,0,0,0,0,0,0],[0,0,2,2,3,2,1,2,2,2,2,2,3,2,2,2,3,2,2,2,2,0,0,0,0,0,0,0,0,0],[0,0,0,2,2,3,2,1,2,3,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,2,2,2,2,1,3,3,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],cellSize:30,wallWidth:2.25,height:22,radius:1.5,inset:1,keyholeHorizontalSpace:54,keyholeHorizontalOffset:0,keyholeVerticalSpace:0,keyholeVerticalOffset:0},GV={model:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,2,3,2,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],cellSize:30,wallWidth:2.25,height:22,radius:1.5,inset:1,keyholeHorizontalSpace:49,keyholeHorizontalOffset:0,keyholeVerticalSpace:-31,keyholeVerticalOffset:10},{rotateY:BV,rotate:NV,scale:hl,translate:wr,translateY:Ep,translateZ:Wo,rotateX:$V}=es.transforms,{intersect:VV,subtract:Sd,union:As}=es.booleans,{cuboid:Ll,cylinder:Uo,polygon:UV,roundedRectangle:zV,torus:HV}=es.primitives,{extrudeLinear:Q2}=es.extrusions;function jV(e,t,n){const r=Math.min(n,e/2-1e-5,t/2-1e-5);return[0,1,2].map(s=>BV(s*Math.PI/3,Wo(-r-e,Q2({height:(e+r)*2},r>0?zV({size:[e,t],roundRadius:r,segments:64}):L2.rectangle({size:[e,t]}))))).reduce((s,i)=>VV(s,i))}function wp(e,t){const n=Math.sqrt(3)*e/4;return Q2({height:t},UV({points:[[e/2,0],[e/4,n],[-e/4,n],[-e/2,0],[-e/4,-n],[e/4,-n]]}))}function J2(e,t,n,r,s,i=!1){const o=Wo(t/2-(i?s/2+n/2:s),NV([Math.PI/2,0,Math.PI/6],jV(e*.8658-.1,t-(i?n+s:0),r)));return i?o:Sd(o,Wo(n-t/2,Ll({size:[e,e,t]})))}function qV(e,t,n,r,s,i){const o=Sd(wp(e+n*2,t),Wo(i===1?-1e-4:n,wp(e,t+n*4)));return i===3?As(o,J2(e,t,n,r,s)):o}const ti=7;function Tp(){return As(Uo({height:ti,radius:10+2}),Ep(-20,Uo({height:ti,radius:10+2})),Ep(-10,Ll({size:[20+2*2,20,ti]})))}function Cp(){return As(wr([0,0,-1.5],Uo({height:6+1.5,radius:10})),wr([0,-20,0],Uo({height:6-1.5,radius:10})),wr([0,-20,-2*1.5],Uo({height:2*1.5,radius:5})),wr([0,-10,-2*1.5],Ll({size:[10,20,6]})),wr([0,-10,0],Ll({size:[20,20,6-1.5]})))}function XV(e,t,n,r,s,i,o,a,l,c){const f=[];for(let b=0;b<e.length;b++)for(let y=0;y<e[b].length;y++){const S=e[b][y];S&&f.push(wr([.75*y*(t+n),Math.sqrt(3)*.5*(t+n)*(y%2*.5+b),0],qV(t,r,n,s,i,S)))}const u=As(J2(t,r,n,s,i,!0),Wo(r-n-i+1.5,$V(Math.PI/2,HV({innerRadius:1.5,outerRadius:5,outerSegments:128,innerSegments:64})))),d=As(f),h=Bu.measureBoundingBox(d);let g,p,m;if([o,a,l,c].every(b=>!isNaN(b))){const b=(h[1][0]-h[0][0])*(50-o/2)/100,y=h[0][0]+b+a,S=h[1][0]-b+a,w=(h[1][1]-h[0][1])*(50-l/2)/100,E=h[0][1]+w+c,A=h[1][1]-w+c;g=wr([y,E+5.5,ti/2],hl([.5,.5,1],Tp())),p=wr([S,A+5.5,ti/2],hl([.5,.5,1],Tp())),m=As(wr([y,E+5.5,ti/2],hl([.5,.5,1],Cp())),wr([S,A+5.5,ti/2],hl([.5,.5,1],Cp())))}const v=Bu.measureBoundingBox(u);return As(m?Sd(As(d,g,p),m):d,wr([h[0][0]+(h[1][0]-h[0][0])/2,h[0][1]-(v[1][1]-v[0][1])*(3/2)],u))}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var WV={ACTIVE:"mdc-tab-indicator--active",FADE:"mdc-tab-indicator--fade",NO_TRANSITION:"mdc-tab-indicator--no-transition"},YV={CONTENT_SELECTOR:".mdc-tab-indicator__content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Qr=function(e){tr(t,e);function t(n){return e.call(this,mn(mn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return WV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return YV},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},computeContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setContentStyleProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.computeContentClientRect=function(){return this.adapter.computeContentClientRect()},t}(Nr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ZV=function(e){tr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(){this.adapter.addClass(Qr.cssClasses.ACTIVE)},t.prototype.deactivate=function(){this.adapter.removeClass(Qr.cssClasses.ACTIVE)},t}(Qr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Pp=function(e){tr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.activate=function(n){if(!n){this.adapter.addClass(Qr.cssClasses.ACTIVE);return}var r=this.computeContentClientRect(),s=n.width/r.width,i=n.left-r.left;this.adapter.addClass(Qr.cssClasses.NO_TRANSITION),this.adapter.setContentStyleProperty("transform","translateX("+i+"px) scaleX("+s+")"),this.computeContentClientRect(),this.adapter.removeClass(Qr.cssClasses.NO_TRANSITION),this.adapter.addClass(Qr.cssClasses.ACTIVE),this.adapter.setContentStyleProperty("transform","")},t.prototype.deactivate=function(){this.adapter.removeClass(Qr.cssClasses.ACTIVE)},t}(Qr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ml={ACTIVE:"mdc-tab--active"},Fo={ARIA_SELECTED:"aria-selected",CONTENT_SELECTOR:".mdc-tab__content",INTERACTED_EVENT:"MDCTab:interacted",RIPPLE_SELECTOR:".mdc-tab__ripple",TABINDEX:"tabIndex",TAB_INDICATOR_SELECTOR:".mdc-tab-indicator"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var KV=function(e){tr(t,e);function t(n){var r=e.call(this,mn(mn({},t.defaultAdapter),n))||this;return r.focusOnActivate=!0,r}return Object.defineProperty(t,"cssClasses",{get:function(){return ml},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Fo},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},activateIndicator:function(){},deactivateIndicator:function(){},notifyInteracted:function(){},getOffsetLeft:function(){return 0},getOffsetWidth:function(){return 0},getContentOffsetLeft:function(){return 0},getContentOffsetWidth:function(){return 0},focus:function(){}}},enumerable:!1,configurable:!0}),t.prototype.handleClick=function(){this.adapter.notifyInteracted()},t.prototype.isActive=function(){return this.adapter.hasClass(ml.ACTIVE)},t.prototype.setFocusOnActivate=function(n){this.focusOnActivate=n},t.prototype.activate=function(n){this.adapter.addClass(ml.ACTIVE),this.adapter.setAttr(Fo.ARIA_SELECTED,"true"),this.adapter.setAttr(Fo.TABINDEX,"0"),this.adapter.activateIndicator(n),this.focusOnActivate&&this.adapter.focus()},t.prototype.deactivate=function(){this.isActive()&&(this.adapter.removeClass(ml.ACTIVE),this.adapter.setAttr(Fo.ARIA_SELECTED,"false"),this.adapter.setAttr(Fo.TABINDEX,"-1"),this.adapter.deactivateIndicator())},t.prototype.computeDimensions=function(){var n=this.adapter.getOffsetWidth(),r=this.adapter.getOffsetLeft(),s=this.adapter.getContentOffsetWidth(),i=this.adapter.getContentOffsetLeft();return{contentLeft:r+i,contentRight:r+i+s,rootLeft:r,rootRight:r+n}},t}(Nr);function QV(e){let t,n,r,s,i,o,a,l,c,f,u;const d=e[21].default,h=Bt(d,e,e[20],null);let g=[{class:r=dt({[e[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":e[3]==="underline","mdc-tab-indicator__content--icon":e[3]==="icon"})},{style:s=Object.entries(e[10]).map(Lp).join(" ")},{"aria-hidden":i=e[3]==="icon"?"true":void 0},Xt(e[12],"content$")],p={};for(let b=0;b<g.length;b+=1)p=qe(p,g[b]);let m=[{class:a=dt({[e[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":e[0],"mdc-tab-indicator--fade":e[4]==="fade",...e[9]})},br(e[12],["content$"])],v={};for(let b=0;b<m.length;b+=1)v=qe(v,m[b]);return{c(){t=Et("span"),n=Et("span"),h&&h.c(),Rt(n,p),Rt(t,v)},m(b,y){we(b,t,y),_n(t,n),h&&h.m(n,null),e[22](n),e[23](t),c=!0,f||(u=[wt(o=yn.call(null,n,e[5])),wt(l=yn.call(null,t,e[1])),wt(e[11].call(null,t))],f=!0)},p(b,[y]){h&&h.p&&(!c||y&1048576)&&$t(h,d,b,b[20],c?Nt(d,b[20],y,null):Vt(b[20]),null),Rt(n,p=It(g,[(!c||y&72&&r!==(r=dt({[b[6]]:!0,"mdc-tab-indicator__content":!0,"mdc-tab-indicator__content--underline":b[3]==="underline","mdc-tab-indicator__content--icon":b[3]==="icon"})))&&{class:r},(!c||y&1024&&s!==(s=Object.entries(b[10]).map(Lp).join(" ")))&&{style:s},(!c||y&8&&i!==(i=b[3]==="icon"?"true":void 0))&&{"aria-hidden":i},y&4096&&Xt(b[12],"content$")])),o&&zt(o.update)&&y&32&&o.update.call(null,b[5]),Rt(t,v=It(m,[(!c||y&533&&a!==(a=dt({[b[2]]:!0,"mdc-tab-indicator":!0,"mdc-tab-indicator--active":b[0],"mdc-tab-indicator--fade":b[4]==="fade",...b[9]})))&&{class:a},y&4096&&br(b[12],["content$"])])),l&&zt(l.update)&&y&2&&l.update.call(null,b[1])},i(b){c||(re(h,b),c=!0)},o(b){le(h,b),c=!1},d(b){b&&Ee(t),h&&h.d(b),e[22](null),e[23](null),f=!1,fn(u)}}}const Lp=([e,t])=>`${e}: ${t};`;function JV(e,t,n){const r=["use","class","active","type","transition","content$use","content$class","activate","deactivate","computeContentClientRect","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Pn(an());let{use:l=[]}=t,{class:c=""}=t,{active:f=!1}=t,{type:u="underline"}=t,{transition:d="slide"}=t,{content$use:h=[]}=t,{content$class:g=""}=t,p,m,v,b={},y={},S=[],w=d;ar(()=>(n(17,m=E()),m.init(),()=>{m.destroy()}));function E(){const N={fade:ZV,slide:Pp}[d]||Pp;return new N({addClass:(...de)=>A(()=>O(...de)),removeClass:(...de)=>A(()=>z(...de)),computeContentClientRect:V,setContentStyleProperty:(...de)=>A(()=>B(...de))})}function A(N){S.length?S[S.length-1].push(N):N()}function O(N){b[N]||n(9,b[N]=!0,b)}function z(N){(!(N in b)||b[N])&&n(9,b[N]=!1,b)}function B(N,de){y[N]!=de&&(de===""||de==null?(delete y[N],n(10,y),n(19,w),n(4,d),n(17,m)):n(10,y[N]=de,y))}function x(N){n(0,f=!0),m.activate(N)}function oe(){n(0,f=!1),m.deactivate()}function V(){return S.push([]),n(18,S),v.getBoundingClientRect()}function X(){return p}function Fe(N){ot[N?"unshift":"push"](()=>{v=N,n(8,v)})}function ne(N){ot[N?"unshift":"push"](()=>{p=N,n(7,p)})}return e.$$set=N=>{t=qe(qe({},t),An(N)),n(12,s=Ct(t,r)),"use"in N&&n(1,l=N.use),"class"in N&&n(2,c=N.class),"active"in N&&n(0,f=N.active),"type"in N&&n(3,u=N.type),"transition"in N&&n(4,d=N.transition),"content$use"in N&&n(5,h=N.content$use),"content$class"in N&&n(6,g=N.content$class),"$$scope"in N&&n(20,o=N.$$scope)},e.$$.update=()=>{e.$$.dirty&655376&&w!==d&&(n(19,w=d),m&&m.destroy(),n(9,b={}),n(10,y={}),n(17,m=E()),m.init()),e.$$.dirty&262144&&S.length&&requestAnimationFrame(()=>{var N;const de=(N=S.shift())!==null&&N!==void 0?N:[];n(18,S);for(const te of de)te()})},[f,l,c,u,d,h,g,p,v,b,y,a,s,x,oe,V,X,m,S,w,o,i,Fe,ne]}class eb extends Jt{constructor(t){super(),Qt(this,t,JV,QV,Ht,{use:1,class:2,active:0,type:3,transition:4,content$use:5,content$class:6,activate:13,deactivate:14,computeContentClientRect:15,getElement:16})}get activate(){return this.$$.ctx[13]}get deactivate(){return this.$$.ctx[14]}get computeContentClientRect(){return this.$$.ctx[15]}get getElement(){return this.$$.ctx[16]}}const eU=e=>({}),Op=e=>({}),tU=e=>({}),Rp=e=>({});function Mp(e){let t,n;const r=[{active:e[18]},Xt(e[25],"tabIndicator$")];let s={$$slots:{default:[nU]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=qe(s,r[i]);return t=new eb({props:s}),e[33](t),{c(){tt(t.$$.fragment)},m(i,o){Qe(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?It(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&cn(Xt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){e[33](null),Je(t,i)}}}function nU(e){let t;const n=e[32]["tab-indicator"],r=Bt(n,e,e[37],Rp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&$t(r,n,s,s[37],t?Nt(n,s[37],i,tU):Vt(s[37]),Rp)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function Ip(e){let t,n;const r=[{active:e[18]},Xt(e[25],"tabIndicator$")];let s={$$slots:{default:[rU]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=qe(s,r[i]);return t=new eb({props:s}),e[35](t),{c(){tt(t.$$.fragment)},m(i,o){Qe(t,i,o),n=!0},p(i,o){const a=o[0]&33816576?It(r,[o[0]&262144&&{active:i[18]},o[0]&33554432&&cn(Xt(i[25],"tabIndicator$"))]):{};o[1]&64&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){e[35](null),Je(t,i)}}}function rU(e){let t;const n=e[32]["tab-indicator"],r=Bt(n,e,e[37],Op);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[1]&64)&&$t(r,n,s,s[37],t?Nt(n,s[37],i,eU):Vt(s[37]),Op)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function sU(e){let t,n,r,s,i,o,a,l,c,f;const u=e[32].default,d=Bt(u,e,e[37],null);let h=e[6]&&Mp(e),g=[{class:r=dt({[e[9]]:!0,"mdc-tab__content":!0})},Xt(e[25],"content$")],p={};for(let v=0;v<g.length;v+=1)p=qe(p,g[v]);let m=!e[6]&&Ip(e);return{c(){t=Et("span"),d&&d.c(),n=mt(),h&&h.c(),i=mt(),m&&m.c(),o=mt(),a=Et("span"),Rt(t,p),Ot(a,"class","mdc-tab__ripple")},m(v,b){we(v,t,b),d&&d.m(t,null),_n(t,n),h&&h.m(t,null),e[34](t),we(v,i,b),m&&m.m(v,b),we(v,o,b),we(v,a,b),l=!0,c||(f=wt(s=yn.call(null,t,e[8])),c=!0)},p(v,b){d&&d.p&&(!l||b[1]&64)&&$t(d,u,v,v[37],l?Nt(u,v[37],b,null):Vt(v[37]),null),v[6]?h?(h.p(v,b),b[0]&64&&re(h,1)):(h=Mp(v),h.c(),re(h,1),h.m(t,null)):h&&(Zt(),le(h,1,1,()=>{h=null}),Kt()),Rt(t,p=It(g,[(!l||b[0]&512&&r!==(r=dt({[v[9]]:!0,"mdc-tab__content":!0})))&&{class:r},b[0]&33554432&&Xt(v[25],"content$")])),s&&zt(s.update)&&b[0]&256&&s.update.call(null,v[8]),v[6]?m&&(Zt(),le(m,1,1,()=>{m=null}),Kt()):m?(m.p(v,b),b[0]&64&&re(m,1)):(m=Ip(v),m.c(),re(m,1),m.m(o.parentNode,o))},i(v){l||(re(d,v),re(h),re(m),l=!0)},o(v){le(d,v),le(h),le(m),l=!1},d(v){v&&Ee(t),d&&d.d(v),h&&h.d(),e[34](null),v&&Ee(i),m&&m.d(v),v&&Ee(o),v&&Ee(a),c=!1,f()}}}function iU(e){let t,n,r;const s=[{tag:e[11]},{use:[[Jr,{ripple:e[3],unbounded:!1,addClass:e[21],removeClass:e[22],addStyle:e[23]}],e[20],...e[0]]},{class:dt({[e[1]]:!0,"mdc-tab":!0,"mdc-tab--active":e[18],"mdc-tab--stacked":e[4],"mdc-tab--min-width":e[5],...e[15]})},{style:Object.entries(e[16]).map(Dp).concat([e[2]]).join(" ")},{role:"tab"},{"aria-selected":e[18]?"true":"false"},{tabindex:e[18]||e[19]?"0":"-1"},{href:e[7]},e[17],br(e[25],["content$","tabIndicator$"])];var i=e[10];function o(a){let l={$$slots:{default:[sU]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=qe(l,s[c]);return{props:l}}return i&&(t=vr(i,o(e)),e[36](t),t.$on("click",e[24])),{c(){t&&tt(t.$$.fragment),n=pn()},m(a,l){t&&Qe(t,a,l),we(a,n,l),r=!0},p(a,l){const c=l[0]&50301119?It(s,[l[0]&2048&&{tag:a[11]},l[0]&15728649&&{use:[[Jr,{ripple:a[3],unbounded:!1,addClass:a[21],removeClass:a[22],addStyle:a[23]}],a[20],...a[0]]},l[0]&294962&&{class:dt({[a[1]]:!0,"mdc-tab":!0,"mdc-tab--active":a[18],"mdc-tab--stacked":a[4],"mdc-tab--min-width":a[5],...a[15]})},l[0]&65540&&{style:Object.entries(a[16]).map(Dp).concat([a[2]]).join(" ")},s[4],l[0]&262144&&{"aria-selected":a[18]?"true":"false"},l[0]&786432&&{tabindex:a[18]||a[19]?"0":"-1"},l[0]&128&&{href:a[7]},l[0]&131072&&cn(a[17]),l[0]&33554432&&cn(br(a[25],["content$","tabIndicator$"]))]):{};if(l[0]&33841984|l[1]&64&&(c.$$scope={dirty:l,ctx:a}),l[0]&1024&&i!==(i=a[10])){if(t){Zt();const f=t;le(f.$$.fragment,1,0,()=>{Je(f,1)}),Kt()}i?(t=vr(i,o(a)),a[36](t),t.$on("click",a[24]),tt(t.$$.fragment),re(t.$$.fragment,1),Qe(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&le(t.$$.fragment,a),r=!1},d(a){e[36](null),a&&Ee(n),t&&Je(t,a)}}}const Dp=([e,t])=>`${e}: ${t};`;function oU(e,t,n){const r=["use","class","style","tab","ripple","stacked","minWidth","indicatorSpanOnlyContent","href","content$use","content$class","component","tag","activate","deactivate","focus","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Pn(an());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{tab:u}=t,{ripple:d=!0}=t,{stacked:h=!1}=t,{minWidth:g=!1}=t,{indicatorSpanOnlyContent:p=!1}=t,{href:m=void 0}=t,{content$use:v=[]}=t,{content$class:b=""}=t,y,S,w,E,A={},O={},z={},B=mr("SMUI:tab:focusOnActivate"),x=u===mr("SMUI:tab:initialActive"),oe=!1,{component:V=_r}=t,{tag:X=V===_r?m==null?"button":"a":void 0}=t;if(hr("SMUI:label:context","tab"),hr("SMUI:icon:context","tab"),!u)throw new Error("The tab property is required! It should be passed down from the TabBar to the Tab.");ar(()=>{n(31,S=new KV({setAttr:te,addClass:ne,removeClass:N,hasClass:Fe,activateIndicator:Sn=>E.activate(Sn),deactivateIndicator:()=>E.deactivate(),notifyInteracted:()=>zn(en(),"SMUITab:interacted",{tabId:u},void 0,!0),getOffsetLeft:()=>en().offsetLeft,getOffsetWidth:()=>en().offsetWidth,getContentOffsetLeft:()=>w.offsetLeft,getContentOffsetWidth:()=>w.offsetWidth,focus:Lt}));const $e={tabId:u,get element(){return en()},get active(){return x},forceAccessible(Sn){n(19,oe=Sn)},computeIndicatorClientRect:()=>E.computeContentClientRect(),computeDimensions:()=>S.computeDimensions(),focus:Lt,activate:Mt,deactivate:Ge};return zn(en(),"SMUITab:mount",$e),S.init(),()=>{zn(en(),"SMUITab:unmount",$e),S.destroy()}});function Fe($e){return $e in A?A[$e]:en().classList.contains($e)}function ne($e){A[$e]||n(15,A[$e]=!0,A)}function N($e){(!($e in A)||A[$e])&&n(15,A[$e]=!1,A)}function de($e,Sn){O[$e]!=Sn&&(Sn===""||Sn==null?(delete O[$e],n(16,O)):n(16,O[$e]=Sn,O))}function te($e,Sn){z[$e]!==Sn&&n(17,z[$e]=Sn,z)}function je($e){!$e.defaultPrevented&&S&&S.handleClick()}function Mt($e,Sn){n(18,x=!0),Sn&&S.setFocusOnActivate(!1),S.activate($e),Sn&&S.setFocusOnActivate(B)}function Ge(){n(18,x=!1),S.deactivate()}function Lt(){en().focus()}function en(){return y.getElement()}function Ut($e){ot[$e?"unshift":"push"](()=>{E=$e,n(14,E)})}function Gn($e){ot[$e?"unshift":"push"](()=>{w=$e,n(13,w)})}function Xn($e){ot[$e?"unshift":"push"](()=>{E=$e,n(14,E)})}function Ze($e){ot[$e?"unshift":"push"](()=>{y=$e,n(12,y)})}return e.$$set=$e=>{t=qe(qe({},t),An($e)),n(25,s=Ct(t,r)),"use"in $e&&n(0,l=$e.use),"class"in $e&&n(1,c=$e.class),"style"in $e&&n(2,f=$e.style),"tab"in $e&&n(26,u=$e.tab),"ripple"in $e&&n(3,d=$e.ripple),"stacked"in $e&&n(4,h=$e.stacked),"minWidth"in $e&&n(5,g=$e.minWidth),"indicatorSpanOnlyContent"in $e&&n(6,p=$e.indicatorSpanOnlyContent),"href"in $e&&n(7,m=$e.href),"content$use"in $e&&n(8,v=$e.content$use),"content$class"in $e&&n(9,b=$e.content$class),"component"in $e&&n(10,V=$e.component),"tag"in $e&&n(11,X=$e.tag),"$$scope"in $e&&n(37,o=$e.$$scope)},e.$$.update=()=>{e.$$.dirty[1]&1&&S&&S.setFocusOnActivate(B)},[l,c,f,d,h,g,p,m,v,b,V,X,y,w,E,A,O,z,x,oe,a,ne,N,de,je,s,u,Mt,Ge,Lt,en,S,i,Ut,Gn,Xn,Ze,o]}class aU extends Jt{constructor(t){super(),Qt(this,t,oU,iU,Ht,{use:0,class:1,style:2,tab:26,ripple:3,stacked:4,minWidth:5,indicatorSpanOnlyContent:6,href:7,content$use:8,content$class:9,component:10,tag:11,activate:27,deactivate:28,focus:29,getElement:30},null,[-1,-1])}get activate(){return this.$$.ctx[27]}get deactivate(){return this.$$.ctx[28]}get focus(){return this.$$.ctx[29]}get getElement(){return this.$$.ctx[30]}}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var tb={ANIMATING:"mdc-tab-scroller--animating",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll",SCROLL_TEST:"mdc-tab-scroller__test"},lU={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ed=function(){function e(t){this.adapter=t}return e}();/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var cU=function(e){tr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(){var n=this.adapter.getScrollAreaScrollLeft(),r=this.calculateScrollEdges().right;return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.calculateScrollEdges(),s=this.adapter.getScrollAreaScrollLeft(),i=this.clampScrollValue(r.right-n);return{finalScrollPosition:i,scrollDelta:i-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n){return n},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t}(Ed);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var fU=function(e){tr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(n-r)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r-n);return{finalScrollPosition:s,scrollDelta:s-r}},t.prototype.getAnimatingScrollPosition=function(n,r){return n-r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:r-n,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.max(Math.min(r.right,n),r.left)},t}(Ed);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var uU=function(e){tr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getScrollPositionRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft();return Math.round(r-n)},t.prototype.scrollToRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.incrementScrollRTL=function(n){var r=this.adapter.getScrollAreaScrollLeft(),s=this.clampScrollValue(r+n);return{finalScrollPosition:s,scrollDelta:r-s}},t.prototype.getAnimatingScrollPosition=function(n,r){return n+r},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:n-r,right:0}},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.right,n),r.left)},t}(Ed);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var dU=function(e){tr(t,e);function t(n){var r=e.call(this,mn(mn({},t.defaultAdapter),n))||this;return r.isAnimating=!1,r}return Object.defineProperty(t,"cssClasses",{get:function(){return tb},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return lU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{eventTargetMatchesSelector:function(){return!1},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){return""},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){return 0},getScrollContentOffsetWidth:function(){return 0},getScrollAreaOffsetWidth:function(){return 0},computeScrollAreaClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeScrollContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeHorizontalScrollbarHeight:function(){return 0}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this.adapter.computeHorizontalScrollbarHeight();this.adapter.setScrollAreaStyleProperty("margin-bottom",-n+"px"),this.adapter.addScrollAreaClass(t.cssClasses.SCROLL_AREA_SCROLL)},t.prototype.getScrollPosition=function(){if(this.isRTL())return this.computeCurrentScrollPositionRTL();var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return r-n},t.prototype.handleInteraction=function(){this.isAnimating&&this.stopScrollAnimation()},t.prototype.handleTransitionEnd=function(n){var r=n.target;!this.isAnimating||!this.adapter.eventTargetMatchesSelector(r,t.strings.CONTENT_SELECTOR)||(this.isAnimating=!1,this.adapter.removeClass(t.cssClasses.ANIMATING))},t.prototype.incrementScroll=function(n){n!==0&&this.animate(this.getIncrementScrollOperation(n))},t.prototype.incrementScrollImmediate=function(n){if(n!==0){var r=this.getIncrementScrollOperation(n);r.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(r.finalScrollPosition))}},t.prototype.scrollTo=function(n){if(this.isRTL()){this.scrollToImplRTL(n);return}this.scrollToImpl(n)},t.prototype.getRTLScroller=function(){return this.rtlScrollerInstance||(this.rtlScrollerInstance=this.rtlScrollerFactory()),this.rtlScrollerInstance},t.prototype.calculateCurrentTranslateX=function(){var n=this.adapter.getScrollContentStyleValue("transform");if(n==="none")return 0;var r=/\((.+?)\)/.exec(n);if(!r)return 0;var s=r[1],i=L5(s.split(","),6);i[0],i[1],i[2],i[3];var o=i[4];return i[5],parseFloat(o)},t.prototype.clampScrollValue=function(n){var r=this.calculateScrollEdges();return Math.min(Math.max(r.left,n),r.right)},t.prototype.computeCurrentScrollPositionRTL=function(){var n=this.calculateCurrentTranslateX();return this.getRTLScroller().getScrollPositionRTL(n)},t.prototype.calculateScrollEdges=function(){var n=this.adapter.getScrollContentOffsetWidth(),r=this.adapter.getScrollAreaOffsetWidth();return{left:0,right:n-r}},t.prototype.scrollToImpl=function(n){var r=this.getScrollPosition(),s=this.clampScrollValue(n),i=s-r;this.animate({finalScrollPosition:s,scrollDelta:i})},t.prototype.scrollToImplRTL=function(n){var r=this.getRTLScroller().scrollToRTL(n);this.animate(r)},t.prototype.getIncrementScrollOperation=function(n){if(this.isRTL())return this.getRTLScroller().incrementScrollRTL(n);var r=this.getScrollPosition(),s=n+r,i=this.clampScrollValue(s),o=i-r;return{finalScrollPosition:i,scrollDelta:o}},t.prototype.animate=function(n){var r=this;n.scrollDelta!==0&&(this.stopScrollAnimation(),this.adapter.setScrollAreaScrollLeft(n.finalScrollPosition),this.adapter.setScrollContentStyleProperty("transform","translateX("+n.scrollDelta+"px)"),this.adapter.computeScrollAreaClientRect(),requestAnimationFrame(function(){r.adapter.addClass(t.cssClasses.ANIMATING),r.adapter.setScrollContentStyleProperty("transform","none")}),this.isAnimating=!0)},t.prototype.stopScrollAnimation=function(){this.isAnimating=!1;var n=this.getAnimatingScrollPosition();this.adapter.removeClass(t.cssClasses.ANIMATING),this.adapter.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter.setScrollAreaScrollLeft(n)},t.prototype.getAnimatingScrollPosition=function(){var n=this.calculateCurrentTranslateX(),r=this.adapter.getScrollAreaScrollLeft();return this.isRTL()?this.getRTLScroller().getAnimatingScrollPosition(r,n):r-n},t.prototype.rtlScrollerFactory=function(){var n=this.adapter.getScrollAreaScrollLeft();this.adapter.setScrollAreaScrollLeft(n-1);var r=this.adapter.getScrollAreaScrollLeft();if(r<0)return this.adapter.setScrollAreaScrollLeft(n),new fU(this.adapter);var s=this.adapter.computeScrollAreaClientRect(),i=this.adapter.computeScrollContentClientRect(),o=Math.round(i.right-s.right);return this.adapter.setScrollAreaScrollLeft(n),o===r?new uU(this.adapter):new cU(this.adapter)},t.prototype.isRTL=function(){return this.adapter.getScrollContentStyleValue("direction")==="rtl"},t}(Nr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ru;function hU(e,t){if(t===void 0&&(t=!0),t&&typeof Ru<"u")return Ru;var n=e.createElement("div");n.classList.add(tb.SCROLL_TEST),e.body.appendChild(n);var r=n.offsetHeight-n.clientHeight;return e.body.removeChild(n),t&&(Ru=r),r}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Fn={ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",ENTER_KEY:"Enter",HOME_KEY:"Home",SPACE_KEY:"Space",TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab"},Tr={ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,ENTER_KEYCODE:13,EXTRA_SCROLL_AMOUNT:20,HOME_KEYCODE:36,SPACE_KEYCODE:32};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ai=new Set;ai.add(Fn.ARROW_LEFT_KEY);ai.add(Fn.ARROW_RIGHT_KEY);ai.add(Fn.END_KEY);ai.add(Fn.HOME_KEY);ai.add(Fn.ENTER_KEY);ai.add(Fn.SPACE_KEY);var li=new Map;li.set(Tr.ARROW_LEFT_KEYCODE,Fn.ARROW_LEFT_KEY);li.set(Tr.ARROW_RIGHT_KEYCODE,Fn.ARROW_RIGHT_KEY);li.set(Tr.END_KEYCODE,Fn.END_KEY);li.set(Tr.HOME_KEYCODE,Fn.HOME_KEY);li.set(Tr.ENTER_KEYCODE,Fn.ENTER_KEY);li.set(Tr.SPACE_KEYCODE,Fn.SPACE_KEY);var mU=function(e){tr(t,e);function t(n){var r=e.call(this,mn(mn({},t.defaultAdapter),n))||this;return r.useAutomaticActivation=!1,r}return Object.defineProperty(t,"strings",{get:function(){return Fn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Tr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){return 0},getScrollContentWidth:function(){return 0},getOffsetWidth:function(){return 0},isRTL:function(){return!1},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabDimensionsAtIndex:function(){return{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:function(){return-1},getFocusedTabIndex:function(){return-1},getIndexOfTabById:function(){return-1},getTabListLength:function(){return 0},notifyTabActivated:function(){}}},enumerable:!1,configurable:!0}),t.prototype.setUseAutomaticActivation=function(n){this.useAutomaticActivation=n},t.prototype.activateTab=function(n){var r=this.adapter.getPreviousActiveTabIndex();if(!(!this.indexIsInRange(n)||n===r)){var s;r!==-1&&(this.adapter.deactivateTabAtIndex(r),s=this.adapter.getTabIndicatorClientRectAtIndex(r)),this.adapter.activateTabAtIndex(n,s),this.scrollIntoView(n),this.adapter.notifyTabActivated(n)}},t.prototype.handleKeyDown=function(n){var r=this.getKeyFromEvent(n);if(r!==void 0)if(this.isActivationKey(r)||n.preventDefault(),this.useAutomaticActivation){if(this.isActivationKey(r))return;var s=this.determineTargetFromKey(this.adapter.getPreviousActiveTabIndex(),r);this.adapter.setActiveTab(s),this.scrollIntoView(s)}else{var i=this.adapter.getFocusedTabIndex();if(this.isActivationKey(r))this.adapter.setActiveTab(i);else{var s=this.determineTargetFromKey(i,r);this.adapter.focusTabAtIndex(s),this.scrollIntoView(s)}}},t.prototype.handleTabInteraction=function(n){this.adapter.setActiveTab(this.adapter.getIndexOfTabById(n.detail.tabId))},t.prototype.scrollIntoView=function(n){if(this.indexIsInRange(n)){if(n===0){this.adapter.scrollTo(0);return}if(n===this.adapter.getTabListLength()-1){this.adapter.scrollTo(this.adapter.getScrollContentWidth());return}if(this.isRTL()){this.scrollIntoViewImplRTL(n);return}this.scrollIntoViewImpl(n)}},t.prototype.determineTargetFromKey=function(n,r){var s=this.isRTL(),i=this.adapter.getTabListLength()-1,o=r===Fn.END_KEY,a=r===Fn.ARROW_LEFT_KEY&&!s||r===Fn.ARROW_RIGHT_KEY&&s,l=r===Fn.ARROW_RIGHT_KEY&&!s||r===Fn.ARROW_LEFT_KEY&&s,c=n;return o?c=i:a?c-=1:l?c+=1:c=0,c<0?c=i:c>i&&(c=0),c},t.prototype.calculateScrollIncrement=function(n,r,s,i){var o=this.adapter.getTabDimensionsAtIndex(r),a=o.contentLeft-s-i,l=o.contentRight-s,c=l-Tr.EXTRA_SCROLL_AMOUNT,f=a+Tr.EXTRA_SCROLL_AMOUNT;return r<n?Math.min(c,0):Math.max(f,0)},t.prototype.calculateScrollIncrementRTL=function(n,r,s,i,o){var a=this.adapter.getTabDimensionsAtIndex(r),l=o-a.contentLeft-s,c=o-a.contentRight-s-i,f=c+Tr.EXTRA_SCROLL_AMOUNT,u=l-Tr.EXTRA_SCROLL_AMOUNT;return r>n?Math.max(f,0):Math.min(u,0)},t.prototype.findAdjacentTabIndexClosestToEdge=function(n,r,s,i){var o=r.rootLeft-s,a=r.rootRight-s-i,l=o+a,c=o<0||l<0,f=a>0||l>0;return c?n-1:f?n+1:-1},t.prototype.findAdjacentTabIndexClosestToEdgeRTL=function(n,r,s,i,o){var a=o-r.rootLeft-i-s,l=o-r.rootRight-s,c=a+l,f=a>0||c>0,u=l<0||c<0;return f?n+1:u?n-1:-1},t.prototype.getKeyFromEvent=function(n){return ai.has(n.key)?n.key:li.get(n.keyCode)},t.prototype.isActivationKey=function(n){return n===Fn.SPACE_KEY||n===Fn.ENTER_KEY},t.prototype.indexIsInRange=function(n){return n>=0&&n<this.adapter.getTabListLength()},t.prototype.isRTL=function(){return this.adapter.isRTL()},t.prototype.scrollIntoViewImpl=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.findAdjacentTabIndexClosestToEdge(n,i,r,s);if(this.indexIsInRange(o)){var a=this.calculateScrollIncrement(n,o,r,s);this.adapter.incrementScroll(a)}},t.prototype.scrollIntoViewImplRTL=function(n){var r=this.adapter.getScrollPosition(),s=this.adapter.getOffsetWidth(),i=this.adapter.getTabDimensionsAtIndex(n),o=this.adapter.getScrollContentWidth(),a=this.findAdjacentTabIndexClosestToEdgeRTL(n,i,r,s,o);if(this.indexIsInRange(a)){var l=this.calculateScrollIncrementRTL(n,a,r,s,o);this.adapter.incrementScroll(l)}},t}(Nr);function pU(e){let t,n,r,s,i,o,a,l,c,f,u,d,h,g;const p=e[23].default,m=Bt(p,e,e[22],null);let v=[{class:s=dt({[e[6]]:!0,"mdc-tab-scroller__scroll-content":!0})},{style:i=Object.entries(e[14]).map(Fp).join(" ")},Xt(e[16],"scrollContent$")],b={};for(let A=0;A<v.length;A+=1)b=qe(b,v[A]);let y=[{class:a=dt({[e[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...e[12]})},{style:l=Object.entries(e[13]).map(xp).join(" ")},Xt(e[16],"scrollArea$")],S={};for(let A=0;A<y.length;A+=1)S=qe(S,y[A]);let w=[{class:f=dt({[e[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":e[2]==="start","mdc-tab-scroller--align-end":e[2]==="end","mdc-tab-scroller--align-center":e[2]==="center",...e[11]})},br(e[16],["scrollArea$","scrollContent$"])],E={};for(let A=0;A<w.length;A+=1)E=qe(E,w[A]);return{c(){t=Et("div"),n=Et("div"),r=Et("div"),m&&m.c(),Rt(r,b),Rt(n,S),Rt(t,E)},m(A,O){we(A,t,O),_n(t,n),_n(n,r),m&&m.m(r,null),e[24](r),e[26](n),e[32](t),d=!0,h||(g=[wt(o=yn.call(null,r,e[5])),Dt(r,"transitionend",e[25]),wt(c=yn.call(null,n,e[3])),Dt(n,"wheel",e[27],{passive:!0}),Dt(n,"touchstart",e[28],{passive:!0}),Dt(n,"pointerdown",e[29]),Dt(n,"mousedown",e[30]),Dt(n,"keydown",e[31]),wt(u=yn.call(null,t,e[0])),wt(e[15].call(null,t))],h=!0)},p(A,O){m&&m.p&&(!d||O[0]&4194304)&&$t(m,p,A,A[22],d?Nt(p,A[22],O,null):Vt(A[22]),null),Rt(r,b=It(v,[(!d||O[0]&64&&s!==(s=dt({[A[6]]:!0,"mdc-tab-scroller__scroll-content":!0})))&&{class:s},(!d||O[0]&16384&&i!==(i=Object.entries(A[14]).map(Fp).join(" ")))&&{style:i},O[0]&65536&&Xt(A[16],"scrollContent$")])),o&&zt(o.update)&&O[0]&32&&o.update.call(null,A[5]),Rt(n,S=It(y,[(!d||O[0]&4112&&a!==(a=dt({[A[4]]:!0,"mdc-tab-scroller__scroll-area":!0,...A[12]})))&&{class:a},(!d||O[0]&8192&&l!==(l=Object.entries(A[13]).map(xp).join(" ")))&&{style:l},O[0]&65536&&Xt(A[16],"scrollArea$")])),c&&zt(c.update)&&O[0]&8&&c.update.call(null,A[3]),Rt(t,E=It(w,[(!d||O[0]&2054&&f!==(f=dt({[A[1]]:!0,"mdc-tab-scroller":!0,"mdc-tab-scroller--align-start":A[2]==="start","mdc-tab-scroller--align-end":A[2]==="end","mdc-tab-scroller--align-center":A[2]==="center",...A[11]})))&&{class:f},O[0]&65536&&br(A[16],["scrollArea$","scrollContent$"])])),u&&zt(u.update)&&O[0]&1&&u.update.call(null,A[0])},i(A){d||(re(m,A),d=!0)},o(A){le(m,A),d=!1},d(A){A&&Ee(t),m&&m.d(A),e[24](null),e[26](null),e[32](null),h=!1,fn(g)}}}const Fp=([e,t])=>`${e}: ${t};`,xp=([e,t])=>`${e}: ${t};`;function gU(e,t,n){const r=["use","class","align","scrollArea$use","scrollArea$class","scrollContent$use","scrollContent$class","getScrollPosition","getScrollContentWidth","incrementScroll","scrollTo","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const{matches:a}=xg,l=Pn(an());let{use:c=[]}=t,{class:f=""}=t,{align:u=void 0}=t,{scrollArea$use:d=[]}=t,{scrollArea$class:h=""}=t,{scrollContent$use:g=[]}=t,{scrollContent$class:p=""}=t,m,v,b,y,S={},w={},E={},A={};ar(()=>(n(8,v=new dU({eventTargetMatchesSelector:(Ze,$e)=>a(Ze,$e),addClass:O,removeClass:z,addScrollAreaClass:B,setScrollAreaStyleProperty:x,setScrollContentStyleProperty:oe,getScrollContentStyleValue:V,setScrollAreaScrollLeft:Ze=>n(9,b.scrollLeft=Ze,b),getScrollAreaScrollLeft:()=>b.scrollLeft,getScrollContentOffsetWidth:()=>y.offsetWidth,getScrollAreaOffsetWidth:()=>b.offsetWidth,computeScrollAreaClientRect:()=>b.getBoundingClientRect(),computeScrollContentClientRect:()=>y.getBoundingClientRect(),computeHorizontalScrollbarHeight:()=>hU(document)})),v.init(),()=>{v.destroy()}));function O(Ze){S[Ze]||n(11,S[Ze]=!0,S)}function z(Ze){(!(Ze in S)||S[Ze])&&n(11,S[Ze]=!1,S)}function B(Ze){w[Ze]||n(12,w[Ze]=!0,w)}function x(Ze,$e){E[Ze]!=$e&&($e===""||$e==null?(delete E[Ze],n(13,E)):n(13,E[Ze]=$e,E))}function oe(Ze,$e){A[Ze]!=$e&&($e===""||$e==null?(delete A[Ze],n(14,A)):n(14,A[Ze]=$e,A))}function V(Ze){return Ze in A?A[Ze]:getComputedStyle(y).getPropertyValue(Ze)}function X(){return v.getScrollPosition()}function Fe(){return y.offsetWidth}function ne(Ze){v.incrementScroll(Ze)}function N(Ze){v.scrollTo(Ze)}function de(){return m}function te(Ze){ot[Ze?"unshift":"push"](()=>{y=Ze,n(10,y)})}const je=Ze=>v&&v.handleTransitionEnd(Ze);function Mt(Ze){ot[Ze?"unshift":"push"](()=>{b=Ze,n(9,b)})}const Ge=()=>v&&v.handleInteraction(),Lt=()=>v&&v.handleInteraction(),en=()=>v&&v.handleInteraction(),Ut=()=>v&&v.handleInteraction(),Gn=()=>v&&v.handleInteraction();function Xn(Ze){ot[Ze?"unshift":"push"](()=>{m=Ze,n(7,m)})}return e.$$set=Ze=>{t=qe(qe({},t),An(Ze)),n(16,s=Ct(t,r)),"use"in Ze&&n(0,c=Ze.use),"class"in Ze&&n(1,f=Ze.class),"align"in Ze&&n(2,u=Ze.align),"scrollArea$use"in Ze&&n(3,d=Ze.scrollArea$use),"scrollArea$class"in Ze&&n(4,h=Ze.scrollArea$class),"scrollContent$use"in Ze&&n(5,g=Ze.scrollContent$use),"scrollContent$class"in Ze&&n(6,p=Ze.scrollContent$class),"$$scope"in Ze&&n(22,o=Ze.$$scope)},[c,f,u,d,h,g,p,m,v,b,y,S,w,E,A,l,s,X,Fe,ne,N,de,o,i,te,je,Mt,Ge,Lt,en,Ut,Gn,Xn]}class vU extends Jt{constructor(t){super(),Qt(this,t,gU,pU,Ht,{use:0,class:1,align:2,scrollArea$use:3,scrollArea$class:4,scrollContent$use:5,scrollContent$class:6,getScrollPosition:17,getScrollContentWidth:18,incrementScroll:19,scrollTo:20,getElement:21},null,[-1,-1])}get getScrollPosition(){return this.$$.ctx[17]}get getScrollContentWidth(){return this.$$.ctx[18]}get incrementScroll(){return this.$$.ctx[19]}get scrollTo(){return this.$$.ctx[20]}get getElement(){return this.$$.ctx[21]}}function kp(e,t,n){const r=e.slice();return r[29]=t[n],r}const bU=e=>({tab:e[0]&4}),Gp=e=>({tab:e[29]});function Bp(e,t){let n,r;const s=t[21].default,i=Bt(s,t,t[24],Gp);return{key:e,first:null,c(){n=pn(),i&&i.c(),this.first=n},m(o,a){we(o,n,a),i&&i.m(o,a),r=!0},p(o,a){t=o,i&&i.p&&(!r||a[0]&16777220)&&$t(i,s,t,t[24],r?Nt(s,t[24],a,bU):Vt(t[24]),Gp)},i(o){r||(re(i,o),r=!0)},o(o){le(i,o),r=!1},d(o){o&&Ee(n),i&&i.d(o)}}}function _U(e){let t=[],n=new Map,r,s,i=e[2];const o=a=>a[3](a[29]);for(let a=0;a<i.length;a+=1){let l=kp(e,i,a),c=o(l);n.set(c,t[a]=Bp(c,l))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();r=pn()},m(a,l){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(a,l);we(a,r,l),s=!0},p(a,l){l[0]&16777228&&(i=a[2],Zt(),t=Og(t,l,o,1,a,i,n,r.parentNode,Lg,Bp,r,kp),Kt())},i(a){if(!s){for(let l=0;l<i.length;l+=1)re(t[l]);s=!0}},o(a){for(let l=0;l<t.length;l+=1)le(t[l]);s=!1},d(a){for(let l=0;l<t.length;l+=1)t[l].d(a);a&&Ee(r)}}}function yU(e){let t,n,r,s,i,o,a;const l=[Xt(e[11],"tabScroller$")];let c={$$slots:{default:[_U]},$$scope:{ctx:e}};for(let d=0;d<l.length;d+=1)c=qe(c,l[d]);n=new vU({props:c}),e[22](n);let f=[{class:r=dt({[e[1]]:!0,"mdc-tab-bar":!0})},{role:"tablist"},{tabindex:e[4]},br(e[11],["tabScroller$"])],u={};for(let d=0;d<f.length;d+=1)u=qe(u,f[d]);return{c(){t=Et("div"),tt(n.$$.fragment),Rt(t,u)},m(d,h){we(d,t,h),Qe(n,t,null),e[23](t),i=!0,o||(a=[wt(s=yn.call(null,t,e[0])),wt(e[8].call(null,t)),Dt(t,"SMUITab:mount",e[9]),Dt(t,"SMUITab:unmount",e[10]),Dt(t,"SMUITab:interacted",function(){zt(e[5]&&e[5].handleTabInteraction.bind(e[5]))&&(e[5]&&e[5].handleTabInteraction.bind(e[5])).apply(this,arguments)}),Dt(t,"keydown",function(){zt(e[5]&&e[5].handleKeyDown.bind(e[5]))&&(e[5]&&e[5].handleKeyDown.bind(e[5])).apply(this,arguments)})],o=!0)},p(d,h){e=d;const g=h[0]&2048?It(l,[cn(Xt(e[11],"tabScroller$"))]):{};h[0]&16777220&&(g.$$scope={dirty:h,ctx:e}),n.$set(g),Rt(t,u=It(f,[(!i||h[0]&2&&r!==(r=dt({[e[1]]:!0,"mdc-tab-bar":!0})))&&{class:r},{role:"tablist"},(!i||h[0]&16)&&{tabindex:e[4]},h[0]&2048&&br(e[11],["tabScroller$"])])),s&&zt(s.update)&&h[0]&1&&s.update.call(null,e[0])},i(d){i||(re(n.$$.fragment,d),i=!0)},o(d){le(n.$$.fragment,d),i=!1},d(d){d&&Ee(t),e[22](null),Je(n),e[23](null),o=!1,fn(a)}}}function AU(e,t,n){const r=["use","class","tabs","key","focusOnActivate","focusOnProgrammatic","useAutomaticActivation","active","tabindex","scrollIntoView","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Pn(an());let{use:l=[]}=t,{class:c=""}=t,{tabs:f=[]}=t,{key:u=N=>N}=t,{focusOnActivate:d=!0}=t,{focusOnProgrammatic:h=!1}=t,{useAutomaticActivation:g=!0}=t,{active:p=void 0}=t,{tabindex:m=0}=t,v,b,y,S=f.indexOf(p),w={},E=new WeakMap,A=!1;hr("SMUI:tab:focusOnActivate",d),hr("SMUI:tab:initialActive",p),ar(()=>(n(5,b=new mU({scrollTo:N=>y.scrollTo(N),incrementScroll:N=>y.incrementScroll(N),getScrollPosition:()=>y.getScrollPosition(),getScrollContentWidth:()=>y.getScrollContentWidth(),getOffsetWidth:()=>X().offsetWidth,isRTL:()=>getComputedStyle(X()).getPropertyValue("direction")==="rtl",setActiveTab:N=>{n(12,p=f[N]),n(18,S=N),b.activateTab(N)},activateTabAtIndex:(N,de)=>{var te;return(te=B(f[N]))===null||te===void 0?void 0:te.activate(de,A)},deactivateTabAtIndex:N=>{var de;return(de=B(f[N]))===null||de===void 0?void 0:de.deactivate()},focusTabAtIndex:N=>{var de;return(de=B(f[N]))===null||de===void 0?void 0:de.focus()},getTabIndicatorClientRectAtIndex:N=>{var de,te;return(te=(de=B(f[N]))===null||de===void 0?void 0:de.computeIndicatorClientRect())!==null&&te!==void 0?te:new DOMRect},getTabDimensionsAtIndex:N=>{var de,te;return(te=(de=B(f[N]))===null||de===void 0?void 0:de.computeDimensions())!==null&&te!==void 0?te:{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:()=>{var N;for(let de=0;de<f.length;de++)if(!((N=B(f[de]))===null||N===void 0)&&N.active)return de;return-1},getFocusedTabIndex:()=>{const N=f.map(te=>{var je;return(je=B(te))===null||je===void 0?void 0:je.element}),de=document.activeElement;return N.indexOf(de)},getIndexOfTabById:N=>f.indexOf(N),getTabListLength:()=>f.length,notifyTabActivated:N=>zn(X(),"SMUITabBar:activated",{index:N},void 0,!0)})),b.init(),()=>{b.destroy()}));function O(N){const de=N.detail;x(de.tabId,de)}function z(N){const de=N.detail;oe(de.tabId)}function B(N){return N instanceof Object?E.get(N):w[N]}function x(N,de){N instanceof Object?(E.set(N,de),n(20,E)):(n(19,w[N]=de,w),n(19,w))}function oe(N){N instanceof Object?(E.delete(N),n(20,E)):(delete w[N],n(19,w))}function V(N){b.scrollIntoView(N)}function X(){return v}function Fe(N){ot[N?"unshift":"push"](()=>{y=N,n(7,y)})}function ne(N){ot[N?"unshift":"push"](()=>{v=N,n(6,v)})}return e.$$set=N=>{t=qe(qe({},t),An(N)),n(11,s=Ct(t,r)),"use"in N&&n(0,l=N.use),"class"in N&&n(1,c=N.class),"tabs"in N&&n(2,f=N.tabs),"key"in N&&n(3,u=N.key),"focusOnActivate"in N&&n(13,d=N.focusOnActivate),"focusOnProgrammatic"in N&&n(14,h=N.focusOnProgrammatic),"useAutomaticActivation"in N&&n(15,g=N.useAutomaticActivation),"active"in N&&n(12,p=N.active),"tabindex"in N&&n(4,m=N.tabindex),"$$scope"in N&&n(24,o=N.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&282660&&p!==f[S]&&(n(18,S=f.indexOf(p)),b&&(A=!h,b.activateTab(S),A=!1)),e.$$.dirty[0]&1835012&&f.length){const N=f[0]instanceof Object?E.get(f[0]):w[f[0]];N&&N.forceAccessible(S===-1)}e.$$.dirty[0]&32800&&b&&b.setUseAutomaticActivation(g)},[l,c,f,u,m,b,v,y,a,O,z,s,p,d,h,g,V,X,S,w,E,i,Fe,ne,o]}class SU extends Jt{constructor(t){super(),Qt(this,t,AU,yU,Ht,{use:0,class:1,tabs:2,key:3,focusOnActivate:13,focusOnProgrammatic:14,useAutomaticActivation:15,active:12,tabindex:4,scrollIntoView:16,getElement:17},null,[-1,-1])}get scrollIntoView(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var EU={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var wU=function(e){tr(t,e);function t(n){var r=e.call(this,mn(mn({},t.defaultAdapter),n))||this;return r.shakeAnimationEndHandler=function(){r.handleShakeAnimationEnd()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return EU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(n){var r=t.cssClasses.LABEL_SHAKE;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.float=function(n){var r=t.cssClasses,s=r.LABEL_FLOAT_ABOVE,i=r.LABEL_SHAKE;n?this.adapter.addClass(s):(this.adapter.removeClass(s),this.adapter.removeClass(i))},t.prototype.setRequired=function(n){var r=t.cssClasses.LABEL_REQUIRED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleShakeAnimationEnd=function(){var n=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(n)},t}(Nr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ws={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var TU=function(e){tr(t,e);function t(n){var r=e.call(this,mn(mn({},t.defaultAdapter),n))||this;return r.transitionEndHandler=function(s){r.handleTransitionEnd(s)},r}return Object.defineProperty(t,"cssClasses",{get:function(){return Ws},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},t.prototype.activate=function(){this.adapter.removeClass(Ws.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(Ws.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(n){this.adapter.setStyle("transform-origin",n+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(Ws.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(n){var r=this.adapter.hasClass(Ws.LINE_RIPPLE_DEACTIVATING);n.propertyName==="opacity"&&r&&(this.adapter.removeClass(Ws.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(Ws.LINE_RIPPLE_DEACTIVATING))},t}(Nr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var CU={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},Np={NOTCH_ELEMENT_PADDING:8},PU={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var LU=function(e){tr(t,e);function t(n){return e.call(this,mn(mn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"strings",{get:function(){return CU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return PU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Np},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),t.prototype.notch=function(n){var r=t.cssClasses.OUTLINE_NOTCHED;n>0&&(n+=Np.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(n),this.adapter.addClass(r)},t.prototype.closeNotch=function(){var n=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(n),this.adapter.removeNotchWidthProperty()},t}(Nr);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Mu={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},OU={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},$p={LABEL_SCALE:.75},RU=["pattern","min","max","required","step","minlength","maxlength"],MU=["color","date","datetime-local","month","range","time","week"];/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Vp=["mousedown","touchstart"],Up=["click","keydown"],IU=function(e){tr(t,e);function t(n,r){r===void 0&&(r={});var s=e.call(this,mn(mn({},t.defaultAdapter),n))||this;return s.isFocused=!1,s.receivedUserInput=!1,s.valid=!0,s.useNativeValidation=!0,s.validateOnValueChange=!0,s.helperText=r.helperText,s.characterCounter=r.characterCounter,s.leadingIcon=r.leadingIcon,s.trailingIcon=r.trailingIcon,s.inputFocusHandler=function(){s.activateFocus()},s.inputBlurHandler=function(){s.deactivateFocus()},s.inputInputHandler=function(){s.handleInput()},s.setPointerXOffset=function(i){s.setTransformOrigin(i)},s.textFieldInteractionHandler=function(){s.handleTextFieldInteraction()},s.validationAttributeChangeHandler=function(i){s.handleValidationAttributeChange(i)},s}return Object.defineProperty(t,"cssClasses",{get:function(){return OU},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Mu},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return $p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat",{get:function(){var n=this.getNativeInput().type;return MU.indexOf(n)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n,r,s,i;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var o=Ss(Vp),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.registerInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=Ss(Up),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.registerTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},t.prototype.destroy=function(){var n,r,s,i;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var o=Ss(Vp),a=o.next();!a.done;a=o.next()){var l=a.value;this.adapter.deregisterInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var c=Ss(Up),f=c.next();!f.done;f=c.next()){var l=f.value;this.adapter.deregisterTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}}catch(u){s={error:u}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(s)throw s.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},t.prototype.handleTextFieldInteraction=function(){var n=this.adapter.getNativeInput();n&&n.disabled||(this.receivedUserInput=!0)},t.prototype.handleValidationAttributeChange=function(n){var r=this;n.some(function(s){return RU.indexOf(s)>-1?(r.styleValidity(!0),r.adapter.setLabelRequired(r.getNativeInput().required),!0):!1}),n.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},t.prototype.notchOutline=function(n){if(!(!this.adapter.hasOutline()||!this.adapter.hasLabel()))if(n){var r=this.adapter.getLabelWidth()*$p.LABEL_SCALE;this.adapter.notchOutline(r)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.helperText&&(this.helperText.isPersistent()||!this.helperText.isValidation()||!this.valid)&&this.helperText.showToScreenReader()},t.prototype.setTransformOrigin=function(n){if(!(this.isDisabled()||this.adapter.hasOutline())){var r=n.touches,s=r?r[0]:n,i=s.target.getBoundingClientRect(),o=s.clientX-i.left;this.adapter.setLineRippleTransformOrigin(o)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var n=this.isValid();this.styleValidity(n),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},t.prototype.getValue=function(){return this.getNativeInput().value},t.prototype.setValue=function(n){if(this.getValue()!==n&&(this.getNativeInput().value=n),this.setcharacterCounter(n.length),this.validateOnValueChange){var r=this.isValid();this.styleValidity(r)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},t.prototype.setValid=function(n){this.valid=n,this.styleValidity(n);var r=!n&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(r)},t.prototype.setValidateOnValueChange=function(n){this.validateOnValueChange=n},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},t.prototype.setUseNativeValidation=function(n){this.useNativeValidation=n},t.prototype.isDisabled=function(){return this.getNativeInput().disabled},t.prototype.setDisabled=function(n){this.getNativeInput().disabled=n,this.styleDisabled(n)},t.prototype.setHelperTextContent=function(n){this.helperText&&this.helperText.setContent(n)},t.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon&&this.leadingIcon.setAriaLabel(n)},t.prototype.setLeadingIconContent=function(n){this.leadingIcon&&this.leadingIcon.setContent(n)},t.prototype.setTrailingIconAriaLabel=function(n){this.trailingIcon&&this.trailingIcon.setAriaLabel(n)},t.prototype.setTrailingIconContent=function(n){this.trailingIcon&&this.trailingIcon.setContent(n)},t.prototype.setcharacterCounter=function(n){if(this.characterCounter){var r=this.getNativeInput().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(n,r)}},t.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},t.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},t.prototype.styleValidity=function(n){var r=t.cssClasses.INVALID;if(n?this.adapter.removeClass(r):this.adapter.addClass(r),this.helperText){this.helperText.setValidity(n);var s=this.helperText.isValidation();if(!s)return;var i=this.helperText.isVisible(),o=this.helperText.getId();i&&o?this.adapter.setInputAttr(Mu.ARIA_DESCRIBEDBY,o):this.adapter.removeInputAttr(Mu.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused=function(n){var r=t.cssClasses.FOCUSED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.styleDisabled=function(n){var r=t.cssClasses,s=r.DISABLED,i=r.INVALID;n?(this.adapter.addClass(s),this.adapter.removeClass(i)):this.adapter.removeClass(s),this.leadingIcon&&this.leadingIcon.setDisabled(n),this.trailingIcon&&this.trailingIcon.setDisabled(n)},t.prototype.styleFloating=function(n){var r=t.cssClasses.LABEL_FLOATING;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.getNativeInput=function(){var n=this.adapter?this.adapter.getNativeInput():null;return n||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(Nr);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var kr={HELPER_TEXT_PERSISTENT:"mdc-text-field-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-text-field-helper-text--validation-msg",ROOT:"mdc-text-field-helper-text"},Zr={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+kr.ROOT};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var DU=function(e){tr(t,e);function t(n){return e.call(this,mn(mn({},t.defaultAdapter),n))||this}return Object.defineProperty(t,"cssClasses",{get:function(){return kr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Zr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.adapter.getAttr("id")},t.prototype.isVisible=function(){return this.adapter.getAttr(Zr.ARIA_HIDDEN)!=="true"},t.prototype.setContent=function(n){this.adapter.setContent(n)},t.prototype.isPersistent=function(){return this.adapter.hasClass(kr.HELPER_TEXT_PERSISTENT)},t.prototype.setPersistent=function(n){n?this.adapter.addClass(kr.HELPER_TEXT_PERSISTENT):this.adapter.removeClass(kr.HELPER_TEXT_PERSISTENT)},t.prototype.isValidation=function(){return this.adapter.hasClass(kr.HELPER_TEXT_VALIDATION_MSG)},t.prototype.setValidation=function(n){n?this.adapter.addClass(kr.HELPER_TEXT_VALIDATION_MSG):this.adapter.removeClass(kr.HELPER_TEXT_VALIDATION_MSG)},t.prototype.showToScreenReader=function(){this.adapter.removeAttr(Zr.ARIA_HIDDEN)},t.prototype.setValidity=function(n){var r=this.adapter.hasClass(kr.HELPER_TEXT_PERSISTENT),s=this.adapter.hasClass(kr.HELPER_TEXT_VALIDATION_MSG),i=s&&!n;i?(this.showToScreenReader(),this.adapter.getAttr(Zr.ROLE)==="alert"?this.refreshAlertRole():this.adapter.setAttr(Zr.ROLE,"alert")):this.adapter.removeAttr(Zr.ROLE),!r&&!i&&this.hide()},t.prototype.hide=function(){this.adapter.setAttr(Zr.ARIA_HIDDEN,"true")},t.prototype.refreshAlertRole=function(){var n=this;this.adapter.removeAttr(Zr.ROLE),requestAnimationFrame(function(){n.adapter.setAttr(Zr.ROLE,"alert")})},t}(Nr);function FU(e){let t,n,r,s,i,o,a,l;const c=e[22].default,f=Bt(c,e,e[21],null);let u=[{class:n=dt({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(Hp).concat([e[4]]).join(" ")},{for:s=e[5]||(e[11]?e[11].id:void 0)},e[12]],d={};for(let h=0;h<u.length;h+=1)d=qe(d,u[h]);return{c(){t=Et("label"),f&&f.c(),Rt(t,d)},m(h,g){we(h,t,g),f&&f.m(t,null),e[24](t),o=!0,a||(l=[wt(i=yn.call(null,t,e[2])),wt(e[10].call(null,t))],a=!0)},p(h,g){f&&f.p&&(!o||g&2097152)&&$t(f,c,h,h[21],o?Nt(c,h[21],g,null):Vt(h[21]),null),Rt(t,d=It(u,[(!o||g&267&&n!==(n=dt({[h[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":h[0],"mdc-floating-label--required":h[1],...h[8]})))&&{class:n},(!o||g&528&&r!==(r=Object.entries(h[9]).map(Hp).concat([h[4]]).join(" ")))&&{style:r},(!o||g&32&&s!==(s=h[5]||(h[11]?h[11].id:void 0)))&&{for:s},g&4096&&h[12]])),i&&zt(i.update)&&g&4&&i.update.call(null,h[2])},i(h){o||(re(f,h),o=!0)},o(h){le(f,h),o=!1},d(h){h&&Ee(t),f&&f.d(h),e[24](null),a=!1,fn(l)}}}function xU(e){let t,n,r,s,i,o,a;const l=e[22].default,c=Bt(l,e,e[21],null);let f=[{class:n=dt({[e[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":e[0],"mdc-floating-label--required":e[1],...e[8]})},{style:r=Object.entries(e[9]).map(zp).concat([e[4]]).join(" ")},e[12]],u={};for(let d=0;d<f.length;d+=1)u=qe(u,f[d]);return{c(){t=Et("span"),c&&c.c(),Rt(t,u)},m(d,h){we(d,t,h),c&&c.m(t,null),e[23](t),i=!0,o||(a=[wt(s=yn.call(null,t,e[2])),wt(e[10].call(null,t))],o=!0)},p(d,h){c&&c.p&&(!i||h&2097152)&&$t(c,l,d,d[21],i?Nt(l,d[21],h,null):Vt(d[21]),null),Rt(t,u=It(f,[(!i||h&267&&n!==(n=dt({[d[3]]:!0,"mdc-floating-label":!0,"mdc-floating-label--float-above":d[0],"mdc-floating-label--required":d[1],...d[8]})))&&{class:n},(!i||h&528&&r!==(r=Object.entries(d[9]).map(zp).concat([d[4]]).join(" ")))&&{style:r},h&4096&&d[12]])),s&&zt(s.update)&&h&4&&s.update.call(null,d[2])},i(d){i||(re(c,d),i=!0)},o(d){le(c,d),i=!1},d(d){d&&Ee(t),c&&c.d(d),e[23](null),o=!1,fn(a)}}}function kU(e){let t,n,r,s;const i=[xU,FU],o=[];function a(l,c){return l[6]?0:1}return t=a(e),n=o[t]=i[t](e),{c(){n.c(),r=pn()},m(l,c){o[t].m(l,c),we(l,r,c),s=!0},p(l,[c]){let f=t;t=a(l),t===f?o[t].p(l,c):(Zt(),le(o[f],1,1,()=>{o[f]=null}),Kt(),n=o[t],n?n.p(l,c):(n=o[t]=i[t](l),n.c()),re(n,1),n.m(r.parentNode,r))},i(l){s||(re(n),s=!0)},o(l){le(n),s=!1},d(l){o[t].d(l),l&&Ee(r)}}}const zp=([e,t])=>`${e}: ${t};`,Hp=([e,t])=>`${e}: ${t};`;function GU(e,t,n){const r=["use","class","style","for","floatAbove","required","wrapped","shake","float","setRequired","getWidth","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;var a;const l=Pn(an());let{use:c=[]}=t,{class:f=""}=t,{style:u=""}=t,{for:d=void 0}=t,{floatAbove:h=!1}=t,{required:g=!1}=t,{wrapped:p=!1}=t,m,v,b={},y={},S=(a=mr("SMUI:generic:input:props"))!==null&&a!==void 0?a:{},w=h,E=g;ar(()=>{n(18,v=new wU({addClass:A,removeClass:O,getWidth:()=>{var te,je;const Mt=Fe(),Ge=Mt.cloneNode(!0);(te=Mt.parentNode)===null||te===void 0||te.appendChild(Ge),Ge.classList.add("smui-floating-label--remove-transition"),Ge.classList.add("smui-floating-label--force-size"),Ge.classList.remove("mdc-floating-label--float-above");const Lt=Ge.scrollWidth;return(je=Mt.parentNode)===null||je===void 0||je.removeChild(Ge),Lt},registerInteractionHandler:(te,je)=>Fe().addEventListener(te,je),deregisterInteractionHandler:(te,je)=>Fe().removeEventListener(te,je)}));const de={get element(){return Fe()},addStyle:z,removeStyle:B};return zn(m,"SMUIFloatingLabel:mount",de),v.init(),()=>{zn(m,"SMUIFloatingLabel:unmount",de),v.destroy()}});function A(de){b[de]||n(8,b[de]=!0,b)}function O(de){(!(de in b)||b[de])&&n(8,b[de]=!1,b)}function z(de,te){y[de]!=te&&(te===""||te==null?(delete y[de],n(9,y)):n(9,y[de]=te,y))}function B(de){de in y&&(delete y[de],n(9,y))}function x(de){v.shake(de)}function oe(de){n(0,h=de)}function V(de){n(1,g=de)}function X(){return v.getWidth()}function Fe(){return m}function ne(de){ot[de?"unshift":"push"](()=>{m=de,n(7,m)})}function N(de){ot[de?"unshift":"push"](()=>{m=de,n(7,m)})}return e.$$set=de=>{t=qe(qe({},t),An(de)),n(12,s=Ct(t,r)),"use"in de&&n(2,c=de.use),"class"in de&&n(3,f=de.class),"style"in de&&n(4,u=de.style),"for"in de&&n(5,d=de.for),"floatAbove"in de&&n(0,h=de.floatAbove),"required"in de&&n(1,g=de.required),"wrapped"in de&&n(6,p=de.wrapped),"$$scope"in de&&n(21,o=de.$$scope)},e.$$.update=()=>{e.$$.dirty&786433&&v&&w!==h&&(n(19,w=h),v.float(h)),e.$$.dirty&1310722&&v&&E!==g&&(n(20,E=g),v.setRequired(g))},[h,g,c,f,u,d,p,m,b,y,l,S,s,x,oe,V,X,Fe,v,w,E,o,i,ne,N]}class nb extends Jt{constructor(t){super(),Qt(this,t,GU,kU,Ht,{use:2,class:3,style:4,for:5,floatAbove:0,required:1,wrapped:6,shake:13,float:14,setRequired:15,getWidth:16,getElement:17})}get shake(){return this.$$.ctx[13]}get float(){return this.$$.ctx[14]}get setRequired(){return this.$$.ctx[15]}get getWidth(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}function BU(e){let t,n,r,s,i,o,a=[{class:n=dt({[e[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":e[3],...e[5]})},{style:r=Object.entries(e[6]).map(jp).concat([e[2]]).join(" ")},e[8]],l={};for(let c=0;c<a.length;c+=1)l=qe(l,a[c]);return{c(){t=Et("div"),Rt(t,l)},m(c,f){we(c,t,f),e[13](t),i||(o=[wt(s=yn.call(null,t,e[0])),wt(e[7].call(null,t))],i=!0)},p(c,[f]){Rt(t,l=It(a,[f&42&&n!==(n=dt({[c[1]]:!0,"mdc-line-ripple":!0,"mdc-line-ripple--active":c[3],...c[5]}))&&{class:n},f&68&&r!==(r=Object.entries(c[6]).map(jp).concat([c[2]]).join(" "))&&{style:r},f&256&&c[8]])),s&&zt(s.update)&&f&1&&s.update.call(null,c[0])},i:on,o:on,d(c){c&&Ee(t),e[13](null),i=!1,fn(o)}}}const jp=([e,t])=>`${e}: ${t};`;function NU(e,t,n){const r=["use","class","style","active","activate","deactivate","setRippleCenter","getElement"];let s=Ct(t,r);const i=Pn(an());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{active:c=!1}=t,f,u,d={},h={};ar(()=>(u=new TU({addClass:p,removeClass:m,hasClass:g,setStyle:v,registerEventHandler:(A,O)=>w().addEventListener(A,O),deregisterEventHandler:(A,O)=>w().removeEventListener(A,O)}),u.init(),()=>{u.destroy()}));function g(A){return A in d?d[A]:w().classList.contains(A)}function p(A){d[A]||n(5,d[A]=!0,d)}function m(A){(!(A in d)||d[A])&&n(5,d[A]=!1,d)}function v(A,O){h[A]!=O&&(O===""||O==null?(delete h[A],n(6,h)):n(6,h[A]=O,h))}function b(){u.activate()}function y(){u.deactivate()}function S(A){u.setRippleCenter(A)}function w(){return f}function E(A){ot[A?"unshift":"push"](()=>{f=A,n(4,f)})}return e.$$set=A=>{t=qe(qe({},t),An(A)),n(8,s=Ct(t,r)),"use"in A&&n(0,o=A.use),"class"in A&&n(1,a=A.class),"style"in A&&n(2,l=A.style),"active"in A&&n(3,c=A.active)},[o,a,l,c,f,d,h,i,s,b,y,S,w,E]}class $U extends Jt{constructor(t){super(),Qt(this,t,NU,BU,Ht,{use:0,class:1,style:2,active:3,activate:9,deactivate:10,setRippleCenter:11,getElement:12})}get activate(){return this.$$.ctx[9]}get deactivate(){return this.$$.ctx[10]}get setRippleCenter(){return this.$$.ctx[11]}get getElement(){return this.$$.ctx[12]}}function qp(e){let t,n,r;const s=e[15].default,i=Bt(s,e,e[14],null);return{c(){t=Et("div"),i&&i.c(),Ot(t,"class","mdc-notched-outline__notch"),Ot(t,"style",n=Object.entries(e[7]).map(Xp).join(" "))},m(o,a){we(o,t,a),i&&i.m(t,null),r=!0},p(o,a){i&&i.p&&(!r||a&16384)&&$t(i,s,o,o[14],r?Nt(s,o[14],a,null):Vt(o[14]),null),(!r||a&128&&n!==(n=Object.entries(o[7]).map(Xp).join(" ")))&&Ot(t,"style",n)},i(o){r||(re(i,o),r=!0)},o(o){le(i,o),r=!1},d(o){o&&Ee(t),i&&i.d(o)}}}function VU(e){let t,n,r,s,i,o,a,l,c,f,u=!e[3]&&qp(e),d=[{class:o=dt({[e[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":e[2],"mdc-notched-outline--no-label":e[3],...e[6]})},e[10]],h={};for(let g=0;g<d.length;g+=1)h=qe(h,d[g]);return{c(){t=Et("div"),n=Et("div"),r=mt(),u&&u.c(),s=mt(),i=Et("div"),Ot(n,"class","mdc-notched-outline__leading"),Ot(i,"class","mdc-notched-outline__trailing"),Rt(t,h)},m(g,p){we(g,t,p),_n(t,n),_n(t,r),u&&u.m(t,null),_n(t,s),_n(t,i),e[16](t),l=!0,c||(f=[wt(a=yn.call(null,t,e[0])),wt(e[8].call(null,t)),Dt(t,"SMUIFloatingLabel:mount",e[9]),Dt(t,"SMUIFloatingLabel:unmount",e[17])],c=!0)},p(g,[p]){g[3]?u&&(Zt(),le(u,1,1,()=>{u=null}),Kt()):u?(u.p(g,p),p&8&&re(u,1)):(u=qp(g),u.c(),re(u,1),u.m(t,s)),Rt(t,h=It(d,[(!l||p&78&&o!==(o=dt({[g[1]]:!0,"mdc-notched-outline":!0,"mdc-notched-outline--notched":g[2],"mdc-notched-outline--no-label":g[3],...g[6]})))&&{class:o},p&1024&&g[10]])),a&&zt(a.update)&&p&1&&a.update.call(null,g[0])},i(g){l||(re(u),l=!0)},o(g){le(u),l=!1},d(g){g&&Ee(t),u&&u.d(),e[16](null),c=!1,fn(f)}}}const Xp=([e,t])=>`${e}: ${t};`;function UU(e,t,n){const r=["use","class","notched","noLabel","notch","closeNotch","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Pn(an());let{use:l=[]}=t,{class:c=""}=t,{notched:f=!1}=t,{noLabel:u=!1}=t,d,h,g,p={},m={};ar(()=>(h=new LU({addClass:b,removeClass:y,setNotchWidthProperty:x=>S("width",x+"px"),removeNotchWidthProperty:()=>w("width")}),h.init(),()=>{h.destroy()}));function v(x){n(4,g=x.detail)}function b(x){p[x]||n(6,p[x]=!0,p)}function y(x){(!(x in p)||p[x])&&n(6,p[x]=!1,p)}function S(x,oe){m[x]!=oe&&(oe===""||oe==null?(delete m[x],n(7,m)):n(7,m[x]=oe,m))}function w(x){x in m&&(delete m[x],n(7,m))}function E(x){h.notch(x)}function A(){h.closeNotch()}function O(){return d}function z(x){ot[x?"unshift":"push"](()=>{d=x,n(5,d)})}const B=()=>n(4,g=void 0);return e.$$set=x=>{t=qe(qe({},t),An(x)),n(10,s=Ct(t,r)),"use"in x&&n(0,l=x.use),"class"in x&&n(1,c=x.class),"notched"in x&&n(2,f=x.notched),"noLabel"in x&&n(3,u=x.noLabel),"$$scope"in x&&n(14,o=x.$$scope)},e.$$.update=()=>{e.$$.dirty&16&&(g?(g.addStyle("transition-duration","0s"),b("mdc-notched-outline--upgraded"),requestAnimationFrame(()=>{g&&g.removeStyle("transition-duration")})):y("mdc-notched-outline--upgraded"))},[l,c,f,u,g,d,p,m,a,v,s,E,A,O,o,i,z,B]}class zU extends Jt{constructor(t){super(),Qt(this,t,UU,VU,Ht,{use:0,class:1,notched:2,noLabel:3,notch:11,closeNotch:12,getElement:13})}get notch(){return this.$$.ctx[11]}get closeNotch(){return this.$$.ctx[12]}get getElement(){return this.$$.ctx[13]}}const HU=Zi({class:"mdc-text-field-helper-line",tag:"div"}),jU=Zi({class:"mdc-text-field__affix mdc-text-field__affix--prefix",tag:"span"}),qU=Zi({class:"mdc-text-field__affix mdc-text-field__affix--suffix",tag:"span"});function XU(e){let t,n,r,s,i,o=[{class:n=dt({[e[1]]:!0,"mdc-text-field__input":!0})},{type:e[2]},{placeholder:e[3]},e[4],e[6],e[10]],a={};for(let l=0;l<o.length;l+=1)a=qe(a,o[l]);return{c(){t=Et("input"),Rt(t,a)},m(l,c){we(l,t,c),t.autofocus&&t.focus(),e[26](t),s||(i=[wt(r=yn.call(null,t,e[0])),wt(e[7].call(null,t)),Dt(t,"input",e[27]),Dt(t,"change",e[9]),Dt(t,"blur",e[24]),Dt(t,"focus",e[25])],s=!0)},p(l,[c]){Rt(t,a=It(o,[c&2&&n!==(n=dt({[l[1]]:!0,"mdc-text-field__input":!0}))&&{class:n},c&4&&{type:l[2]},c&8&&{placeholder:l[3]},c&16&&l[4],c&64&&l[6],c&1024&&l[10]])),r&&zt(r.update)&&c&1&&r.update.call(null,l[0])},i:on,o:on,d(l){l&&Ee(t),e[26](null),s=!1,fn(i)}}}function WU(e){return e===""?Number.NaN:+e}function YU(e,t,n){const r=["use","class","type","placeholder","value","files","dirty","invalid","updateInvalid","emptyValueNull","emptyValueUndefined","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=Ct(t,r);const i=Pn(an());let o=()=>{};function a(te){return te===o}let{use:l=[]}=t,{class:c=""}=t,{type:f="text"}=t,{placeholder:u=" "}=t,{value:d=o}=t;const h=a(d);h&&(d="");let{files:g=null}=t,{dirty:p=!1}=t,{invalid:m=!1}=t,{updateInvalid:v=!0}=t,{emptyValueNull:b=d===null}=t;h&&b&&(d=null);let{emptyValueUndefined:y=d===void 0}=t;h&&y&&(d=void 0);let S,w={},E={};ar(()=>{v&&n(14,m=S.matches(":invalid"))});function A(te){if(f==="file"){n(12,g=te.currentTarget.files);return}if(te.currentTarget.value===""&&b){n(11,d=null);return}if(te.currentTarget.value===""&&y){n(11,d=void 0);return}switch(f){case"number":case"range":n(11,d=WU(te.currentTarget.value));break;default:n(11,d=te.currentTarget.value);break}}function O(te){(f==="file"||f==="range")&&A(te),n(13,p=!0),v&&n(14,m=S.matches(":invalid"))}function z(te){var je;return te in w?(je=w[te])!==null&&je!==void 0?je:null:X().getAttribute(te)}function B(te,je){w[te]!==je&&n(6,w[te]=je,w)}function x(te){(!(te in w)||w[te]!=null)&&n(6,w[te]=void 0,w)}function oe(){X().focus()}function V(){X().blur()}function X(){return S}function Fe(te){Ho.call(this,e,te)}function ne(te){Ho.call(this,e,te)}function N(te){ot[te?"unshift":"push"](()=>{S=te,n(5,S)})}const de=te=>f!=="file"&&A(te);return e.$$set=te=>{t=qe(qe({},t),An(te)),n(10,s=Ct(t,r)),"use"in te&&n(0,l=te.use),"class"in te&&n(1,c=te.class),"type"in te&&n(2,f=te.type),"placeholder"in te&&n(3,u=te.placeholder),"value"in te&&n(11,d=te.value),"files"in te&&n(12,g=te.files),"dirty"in te&&n(13,p=te.dirty),"invalid"in te&&n(14,m=te.invalid),"updateInvalid"in te&&n(15,v=te.updateInvalid),"emptyValueNull"in te&&n(16,b=te.emptyValueNull),"emptyValueUndefined"in te&&n(17,y=te.emptyValueUndefined)},e.$$.update=()=>{e.$$.dirty&2068&&(f==="file"?(delete E.value,n(4,E),n(2,f),n(11,d)):n(4,E.value=d??"",E))},[l,c,f,u,E,S,w,i,A,O,s,d,g,p,m,v,b,y,z,B,x,oe,V,X,Fe,ne,N,de]}class ZU extends Jt{constructor(t){super(),Qt(this,t,YU,XU,Ht,{use:0,class:1,type:2,placeholder:3,value:11,files:12,dirty:13,invalid:14,updateInvalid:15,emptyValueNull:16,emptyValueUndefined:17,getAttr:18,addAttr:19,removeAttr:20,focus:21,blur:22,getElement:23})}get getAttr(){return this.$$.ctx[18]}get addAttr(){return this.$$.ctx[19]}get removeAttr(){return this.$$.ctx[20]}get focus(){return this.$$.ctx[21]}get blur(){return this.$$.ctx[22]}get getElement(){return this.$$.ctx[23]}}function KU(e){let t,n,r,s,i,o,a=[{class:n=dt({[e[2]]:!0,"mdc-text-field__input":!0})},{style:r=`${e[4]?"":"resize: none; "}${e[3]}`},e[6],e[9]],l={};for(let c=0;c<a.length;c+=1)l=qe(l,a[c]);return{c(){t=Et("textarea"),Rt(t,l)},m(c,f){we(c,t,f),t.autofocus&&t.focus(),e[21](t),g1(t,e[0]),i||(o=[wt(s=yn.call(null,t,e[1])),wt(e[7].call(null,t)),Dt(t,"change",e[8]),Dt(t,"blur",e[19]),Dt(t,"focus",e[20]),Dt(t,"input",e[22])],i=!0)},p(c,[f]){Rt(t,l=It(a,[f&4&&n!==(n=dt({[c[2]]:!0,"mdc-text-field__input":!0}))&&{class:n},f&24&&r!==(r=`${c[4]?"":"resize: none; "}${c[3]}`)&&{style:r},f&64&&c[6],f&512&&c[9]])),s&&zt(s.update)&&f&2&&s.update.call(null,c[1]),f&1&&g1(t,c[0])},i:on,o:on,d(c){c&&Ee(t),e[21](null),i=!1,fn(o)}}}function QU(e,t,n){const r=["use","class","style","value","dirty","invalid","updateInvalid","resizable","getAttr","addAttr","removeAttr","focus","blur","getElement"];let s=Ct(t,r);const i=Pn(an());let{use:o=[]}=t,{class:a=""}=t,{style:l=""}=t,{value:c=""}=t,{dirty:f=!1}=t,{invalid:u=!1}=t,{updateInvalid:d=!0}=t,{resizable:h=!0}=t,g,p={};ar(()=>{d&&n(11,u=g.matches(":invalid"))});function m(){n(10,f=!0),d&&n(11,u=g.matches(":invalid"))}function v(x){var oe;return x in p?(oe=p[x])!==null&&oe!==void 0?oe:null:E().getAttribute(x)}function b(x,oe){p[x]!==oe&&n(6,p[x]=oe,p)}function y(x){(!(x in p)||p[x]!=null)&&n(6,p[x]=void 0,p)}function S(){E().focus()}function w(){E().blur()}function E(){return g}function A(x){Ho.call(this,e,x)}function O(x){Ho.call(this,e,x)}function z(x){ot[x?"unshift":"push"](()=>{g=x,n(5,g)})}function B(){c=this.value,n(0,c)}return e.$$set=x=>{t=qe(qe({},t),An(x)),n(9,s=Ct(t,r)),"use"in x&&n(1,o=x.use),"class"in x&&n(2,a=x.class),"style"in x&&n(3,l=x.style),"value"in x&&n(0,c=x.value),"dirty"in x&&n(10,f=x.dirty),"invalid"in x&&n(11,u=x.invalid),"updateInvalid"in x&&n(12,d=x.updateInvalid),"resizable"in x&&n(4,h=x.resizable)},[c,o,a,l,h,g,p,i,m,s,f,u,d,v,b,y,S,w,E,A,O,z,B]}class JU extends Jt{constructor(t){super(),Qt(this,t,QU,KU,Ht,{use:1,class:2,style:3,value:0,dirty:10,invalid:11,updateInvalid:12,resizable:4,getAttr:13,addAttr:14,removeAttr:15,focus:16,blur:17,getElement:18})}get getAttr(){return this.$$.ctx[13]}get addAttr(){return this.$$.ctx[14]}get removeAttr(){return this.$$.ctx[15]}get focus(){return this.$$.ctx[16]}get blur(){return this.$$.ctx[17]}get getElement(){return this.$$.ctx[18]}}const ez=e=>({}),Wp=e=>({}),tz=e=>({}),Yp=e=>({}),nz=e=>({}),Zp=e=>({}),rz=e=>({}),Kp=e=>({}),sz=e=>({}),Qp=e=>({}),iz=e=>({}),Jp=e=>({}),oz=e=>({}),eg=e=>({}),az=e=>({}),tg=e=>({}),lz=e=>({}),ng=e=>({}),cz=e=>({}),rg=e=>({}),fz=e=>({}),sg=e=>({}),uz=e=>({}),ig=e=>({});function dz(e){let t,n,r,s,i,o,a,l,c,f,u,d,h,g;const p=e[56].label,m=Bt(p,e,e[87],Qp);r=new Hi({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[mz]},$$scope:{ctx:e}}});const v=e[56].default,b=Bt(v,e,e[87],null);o=new Hi({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[pz]},$$scope:{ctx:e}}});const y=e[56].ripple,S=Bt(y,e,e[87],Yp);let w=[{class:l=dt({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||!e[47].label,"mdc-text-field--with-leading-icon":e[47].leadingIcon,"mdc-text-field--with-trailing-icon":e[47].trailingIcon,"mdc-text-field--invalid":e[1],...e[25]})},{style:c=Object.entries(e[26]).map(gg).concat([e[10]]).join(" ")},br(e[46],["input$","label$","ripple$","outline$","helperLine$"])],E={};for(let A=0;A<w.length;A+=1)E=qe(E,w[A]);return{c(){t=Et("div"),m&&m.c(),n=mt(),tt(r.$$.fragment),s=mt(),b&&b.c(),i=mt(),tt(o.$$.fragment),a=mt(),S&&S.c(),Rt(t,E)},m(A,O){we(A,t,O),m&&m.m(t,null),_n(t,n),Qe(r,t,null),_n(t,s),b&&b.m(t,null),_n(t,i),Qe(o,t,null),_n(t,a),S&&S.m(t,null),e[82](t),d=!0,h||(g=[wt(f=Jr.call(null,t,{ripple:e[11],unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45]})),wt(u=yn.call(null,t,e[8])),wt(e[34].call(null,t)),Dt(t,"SMUITextfieldLeadingIcon:mount",e[38]),Dt(t,"SMUITextfieldLeadingIcon:unmount",e[83]),Dt(t,"SMUITextfieldTrailingIcon:mount",e[39]),Dt(t,"SMUITextfieldTrailingIcon:unmount",e[84])],h=!0)},p(A,O){m&&m.p&&(!d||O[2]&33554432)&&$t(m,p,A,A[87],d?Nt(p,A[87],O,sz):Vt(A[87]),Qp);const z={};O[2]&33554432&&(z.$$scope={dirty:O,ctx:A}),r.$set(z),b&&b.p&&(!d||O[2]&33554432)&&$t(b,v,A,A[87],d?Nt(v,A[87],O,null):Vt(A[87]),null);const B={};O[2]&33554432&&(B.$$scope={dirty:O,ctx:A}),o.$set(B),S&&S.p&&(!d||O[2]&33554432)&&$t(S,y,A,A[87],d?Nt(y,A[87],O,tz):Vt(A[87]),Yp),Rt(t,E=It(w,[(!d||O[0]&33673730|O[1]&65536&&l!==(l=dt({[A[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":A[12],"mdc-text-field--textarea":A[14],"mdc-text-field--filled":A[15]==="filled","mdc-text-field--outlined":A[15]==="outlined","smui-text-field--standard":A[15]==="standard"&&!A[14],"mdc-text-field--no-label":A[16]||!A[47].label,"mdc-text-field--with-leading-icon":A[47].leadingIcon,"mdc-text-field--with-trailing-icon":A[47].trailingIcon,"mdc-text-field--invalid":A[1],...A[25]})))&&{class:l},(!d||O[0]&67109888&&c!==(c=Object.entries(A[26]).map(gg).concat([A[10]]).join(" ")))&&{style:c},O[1]&32768&&br(A[46],["input$","label$","ripple$","outline$","helperLine$"])])),f&&zt(f.update)&&O[0]&2048&&f.update.call(null,{ripple:A[11],unbounded:!1,addClass:A[43],removeClass:A[44],addStyle:A[45]}),u&&zt(u.update)&&O[0]&256&&u.update.call(null,A[8])},i(A){d||(re(m,A),re(r.$$.fragment,A),re(b,A),re(o.$$.fragment,A),re(S,A),d=!0)},o(A){le(m,A),le(r.$$.fragment,A),le(b,A),le(o.$$.fragment,A),le(S,A),d=!1},d(A){A&&Ee(t),m&&m.d(A),Je(r),b&&b.d(A),Je(o),S&&S.d(A),e[82](null),h=!1,fn(g)}}}function hz(e){let t,n,r,s,i,o,a,l,c,f,u,d,h,g,p,m,v,b,y=!e[14]&&e[15]!=="outlined"&&og(e),S=(e[14]||e[15]==="outlined")&&cg(e);s=new Hi({props:{key:"SMUI:textfield:icon:leading",value:!0,$$slots:{default:[_z]},$$scope:{ctx:e}}});const w=e[56].default,E=Bt(w,e,e[87],null),A=[Az,yz],O=[];function z(V,X){return V[14]&&typeof V[0]=="string"?0:1}a=z(e),l=O[a]=A[a](e),f=new Hi({props:{key:"SMUI:textfield:icon:leading",value:!1,$$slots:{default:[wz]},$$scope:{ctx:e}}});let B=!e[14]&&e[15]!=="outlined"&&e[11]&&hg(e),x=[{class:d=dt({[e[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":e[12],"mdc-text-field--textarea":e[14],"mdc-text-field--filled":e[15]==="filled","mdc-text-field--outlined":e[15]==="outlined","smui-text-field--standard":e[15]==="standard"&&!e[14],"mdc-text-field--no-label":e[16]||e[17]==null&&!e[47].label,"mdc-text-field--label-floating":e[28]||e[0]!=null&&e[0]!=="","mdc-text-field--with-leading-icon":e[35](e[22])?e[47].leadingIcon:e[22],"mdc-text-field--with-trailing-icon":e[35](e[23])?e[47].trailingIcon:e[23],"mdc-text-field--with-internal-counter":e[14]&&e[47].internalCounter,"mdc-text-field--invalid":e[1],...e[25]})},{style:h=Object.entries(e[26]).map(pg).concat([e[10]]).join(" ")},{for:void 0},br(e[46],["input$","label$","ripple$","outline$","helperLine$"])],oe={};for(let V=0;V<x.length;V+=1)oe=qe(oe,x[V]);return{c(){t=Et("label"),y&&y.c(),n=mt(),S&&S.c(),r=mt(),tt(s.$$.fragment),i=mt(),E&&E.c(),o=mt(),l.c(),c=mt(),tt(f.$$.fragment),u=mt(),B&&B.c(),Rt(t,oe)},m(V,X){we(V,t,X),y&&y.m(t,null),_n(t,n),S&&S.m(t,null),_n(t,r),Qe(s,t,null),_n(t,i),E&&E.m(t,null),_n(t,o),O[a].m(t,null),_n(t,c),Qe(f,t,null),_n(t,u),B&&B.m(t,null),e[78](t),m=!0,v||(b=[wt(g=Jr.call(null,t,{ripple:!e[14]&&e[15]==="filled",unbounded:!1,addClass:e[43],removeClass:e[44],addStyle:e[45],eventTarget:e[33],activeTarget:e[33],initPromise:e[37]})),wt(p=yn.call(null,t,e[8])),wt(e[34].call(null,t)),Dt(t,"SMUITextfieldLeadingIcon:mount",e[38]),Dt(t,"SMUITextfieldLeadingIcon:unmount",e[79]),Dt(t,"SMUITextfieldTrailingIcon:mount",e[39]),Dt(t,"SMUITextfieldTrailingIcon:unmount",e[80]),Dt(t,"SMUITextfieldCharacterCounter:mount",e[40]),Dt(t,"SMUITextfieldCharacterCounter:unmount",e[81])],v=!0)},p(V,X){!V[14]&&V[15]!=="outlined"?y?(y.p(V,X),X[0]&49152&&re(y,1)):(y=og(V),y.c(),re(y,1),y.m(t,n)):y&&(Zt(),le(y,1,1,()=>{y=null}),Kt()),V[14]||V[15]==="outlined"?S?(S.p(V,X),X[0]&49152&&re(S,1)):(S=cg(V),S.c(),re(S,1),S.m(t,r)):S&&(Zt(),le(S,1,1,()=>{S=null}),Kt());const Fe={};X[2]&33554432&&(Fe.$$scope={dirty:X,ctx:V}),s.$set(Fe),E&&E.p&&(!m||X[2]&33554432)&&$t(E,w,V,V[87],m?Nt(w,V[87],X,null):Vt(V[87]),null);let ne=a;a=z(V),a===ne?O[a].p(V,X):(Zt(),le(O[ne],1,1,()=>{O[ne]=null}),Kt(),l=O[a],l?l.p(V,X):(l=O[a]=A[a](V),l.c()),re(l,1),l.m(t,c));const N={};X[2]&33554432&&(N.$$scope={dirty:X,ctx:V}),f.$set(N),!V[14]&&V[15]!=="outlined"&&V[11]?B?(B.p(V,X),X[0]&51200&&re(B,1)):(B=hg(V),B.c(),re(B,1),B.m(t,null)):B&&(Zt(),le(B,1,1,()=>{B=null}),Kt()),Rt(t,oe=It(x,[(!m||X[0]&314823171|X[1]&65536&&d!==(d=dt({[V[9]]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":V[12],"mdc-text-field--textarea":V[14],"mdc-text-field--filled":V[15]==="filled","mdc-text-field--outlined":V[15]==="outlined","smui-text-field--standard":V[15]==="standard"&&!V[14],"mdc-text-field--no-label":V[16]||V[17]==null&&!V[47].label,"mdc-text-field--label-floating":V[28]||V[0]!=null&&V[0]!=="","mdc-text-field--with-leading-icon":V[35](V[22])?V[47].leadingIcon:V[22],"mdc-text-field--with-trailing-icon":V[35](V[23])?V[47].trailingIcon:V[23],"mdc-text-field--with-internal-counter":V[14]&&V[47].internalCounter,"mdc-text-field--invalid":V[1],...V[25]})))&&{class:d},(!m||X[0]&67109888&&h!==(h=Object.entries(V[26]).map(pg).concat([V[10]]).join(" ")))&&{style:h},{for:void 0},X[1]&32768&&br(V[46],["input$","label$","ripple$","outline$","helperLine$"])])),g&&zt(g.update)&&X[0]&49152|X[1]&4&&g.update.call(null,{ripple:!V[14]&&V[15]==="filled",unbounded:!1,addClass:V[43],removeClass:V[44],addStyle:V[45],eventTarget:V[33],activeTarget:V[33],initPromise:V[37]}),p&&zt(p.update)&&X[0]&256&&p.update.call(null,V[8])},i(V){m||(re(y),re(S),re(s.$$.fragment,V),re(E,V),re(l),re(f.$$.fragment,V),re(B),m=!0)},o(V){le(y),le(S),le(s.$$.fragment,V),le(E,V),le(l),le(f.$$.fragment,V),le(B),m=!1},d(V){V&&Ee(t),y&&y.d(),S&&S.d(),Je(s),E&&E.d(V),O[a].d(),Je(f),B&&B.d(),e[78](null),v=!1,fn(b)}}}function mz(e){let t;const n=e[56].leadingIcon,r=Bt(n,e,e[87],Kp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&$t(r,n,s,s[87],t?Nt(n,s[87],i,rz):Vt(s[87]),Kp)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function pz(e){let t;const n=e[56].trailingIcon,r=Bt(n,e,e[87],Zp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&$t(r,n,s,s[87],t?Nt(n,s[87],i,nz):Vt(s[87]),Zp)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function og(e){let t,n,r,s=e[15]==="filled"&&ag(),i=!e[16]&&(e[17]!=null||e[47].label)&&lg(e);return{c(){s&&s.c(),t=mt(),i&&i.c(),n=pn()},m(o,a){s&&s.m(o,a),we(o,t,a),i&&i.m(o,a),we(o,n,a),r=!0},p(o,a){o[15]==="filled"?s||(s=ag(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),!o[16]&&(o[17]!=null||o[47].label)?i?(i.p(o,a),a[0]&196608|a[1]&65536&&re(i,1)):(i=lg(o),i.c(),re(i,1),i.m(n.parentNode,n)):i&&(Zt(),le(i,1,1,()=>{i=null}),Kt())},i(o){r||(re(i),r=!0)},o(o){le(i),r=!1},d(o){s&&s.d(o),o&&Ee(t),i&&i.d(o),o&&Ee(n)}}}function ag(e){let t;return{c(){t=Et("span"),Ot(t,"class","mdc-text-field__ripple")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function lg(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},Xt(e[46],"label$")];let s={$$slots:{default:[gz]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=qe(s,r[i]);return t=new nb({props:s}),e[57](t),{c(){tt(t.$$.fragment)},m(i,o){Qe(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?It(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&cn(Xt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){e[57](null),Je(t,i)}}}function gz(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=Bt(s,e,e[87],ig);return{c(){n=qn(t),i&&i.c()},m(o,a){we(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&si(n,t),i&&i.p&&(!r||a[2]&33554432)&&$t(i,s,o,o[87],r?Nt(s,o[87],a,uz):Vt(o[87]),ig)},i(o){r||(re(i,o),r=!0)},o(o){le(i,o),r=!1},d(o){o&&Ee(n),i&&i.d(o)}}}function cg(e){let t,n;const r=[{noLabel:e[16]||e[17]==null&&!e[47].label},Xt(e[46],"outline$")];let s={$$slots:{default:[bz]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=qe(s,r[i]);return t=new zU({props:s}),e[59](t),{c(){tt(t.$$.fragment)},m(i,o){Qe(t,i,o),n=!0},p(i,o){const a=o[0]&196608|o[1]&98304?It(r,[o[0]&196608|o[1]&65536&&{noLabel:i[16]||i[17]==null&&!i[47].label},o[1]&32768&&cn(Xt(i[46],"outline$"))]):{};o[0]&268640289|o[1]&98304|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){e[59](null),Je(t,i)}}}function fg(e){let t,n;const r=[{floatAbove:e[28]||e[0]!=null&&e[0]!==""&&(typeof e[0]!="number"||!isNaN(e[0]))},{required:e[13]},{wrapped:!0},Xt(e[46],"label$")];let s={$$slots:{default:[vz]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=qe(s,r[i]);return t=new nb({props:s}),e[58](t),{c(){tt(t.$$.fragment)},m(i,o){Qe(t,i,o),n=!0},p(i,o){const a=o[0]&268443649|o[1]&32768?It(r,[o[0]&268435457&&{floatAbove:i[28]||i[0]!=null&&i[0]!==""&&(typeof i[0]!="number"||!isNaN(i[0]))},o[0]&8192&&{required:i[13]},r[2],o[1]&32768&&cn(Xt(i[46],"label$"))]):{};o[0]&131072|o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){e[58](null),Je(t,i)}}}function vz(e){let t=(e[17]==null?"":e[17])+"",n,r;const s=e[56].label,i=Bt(s,e,e[87],sg);return{c(){n=qn(t),i&&i.c()},m(o,a){we(o,n,a),i&&i.m(o,a),r=!0},p(o,a){(!r||a[0]&131072)&&t!==(t=(o[17]==null?"":o[17])+"")&&si(n,t),i&&i.p&&(!r||a[2]&33554432)&&$t(i,s,o,o[87],r?Nt(s,o[87],a,fz):Vt(o[87]),sg)},i(o){r||(re(i,o),r=!0)},o(o){le(i,o),r=!1},d(o){o&&Ee(n),i&&i.d(o)}}}function bz(e){let t,n,r=!e[16]&&(e[17]!=null||e[47].label)&&fg(e);return{c(){r&&r.c(),t=pn()},m(s,i){r&&r.m(s,i),we(s,t,i),n=!0},p(s,i){!s[16]&&(s[17]!=null||s[47].label)?r?(r.p(s,i),i[0]&196608|i[1]&65536&&re(r,1)):(r=fg(s),r.c(),re(r,1),r.m(t.parentNode,t)):r&&(Zt(),le(r,1,1,()=>{r=null}),Kt())},i(s){n||(re(r),n=!0)},o(s){le(r),n=!1},d(s){r&&r.d(s),s&&Ee(t)}}}function _z(e){let t;const n=e[56].leadingIcon,r=Bt(n,e,e[87],rg);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&$t(r,n,s,s[87],t?Nt(n,s[87],i,cz):Vt(s[87]),rg)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function yz(e){let t,n,r,s,i,o,a,l,c,f;const u=e[56].prefix,d=Bt(u,e,e[87],tg);let h=e[20]!=null&&ug(e);const g=[{type:e[18]},{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},e[16]&&e[17]!=null?{placeholder:e[17]}:{},Xt(e[46],"input$")];function p(A){e[69](A)}function m(A){e[70](A)}function v(A){e[71](A)}function b(A){e[72](A)}let y={};for(let A=0;A<g.length;A+=1)y=qe(y,g[A]);e[0]!==void 0&&(y.value=e[0]),e[3]!==void 0&&(y.files=e[3]),e[4]!==void 0&&(y.dirty=e[4]),e[1]!==void 0&&(y.invalid=e[1]),r=new ZU({props:y}),e[68](r),ot.push(()=>Dn(r,"value",p)),ot.push(()=>Dn(r,"files",m)),ot.push(()=>Dn(r,"dirty",v)),ot.push(()=>Dn(r,"invalid",b)),r.$on("blur",e[73]),r.$on("focus",e[74]),r.$on("blur",e[75]),r.$on("focus",e[76]);let S=e[21]!=null&&dg(e);const w=e[56].suffix,E=Bt(w,e,e[87],eg);return{c(){d&&d.c(),t=mt(),h&&h.c(),n=mt(),tt(r.$$.fragment),l=mt(),S&&S.c(),c=mt(),E&&E.c()},m(A,O){d&&d.m(A,O),we(A,t,O),h&&h.m(A,O),we(A,n,O),Qe(r,A,O),we(A,l,O),S&&S.m(A,O),we(A,c,O),E&&E.m(A,O),f=!0},p(A,O){d&&d.p&&(!f||O[2]&33554432)&&$t(d,u,A,A[87],f?Nt(u,A[87],O,az):Vt(A[87]),tg),A[20]!=null?h?(h.p(A,O),O[0]&1048576&&re(h,1)):(h=ug(A),h.c(),re(h,1),h.m(n.parentNode,n)):h&&(Zt(),le(h,1,1,()=>{h=null}),Kt());const z=O[0]&135213056|O[1]&32768?It(g,[O[0]&262144&&{type:A[18]},O[0]&4096&&{disabled:A[12]},O[0]&8192&&{required:A[13]},O[0]&524288&&{updateInvalid:A[19]},O[0]&134217728&&{"aria-controls":A[27]},O[0]&134217728&&{"aria-describedby":A[27]},O[0]&196608&&cn(A[16]&&A[17]!=null?{placeholder:A[17]}:{}),O[1]&32768&&cn(Xt(A[46],"input$"))]):{};!s&&O[0]&1&&(s=!0,z.value=A[0],In(()=>s=!1)),!i&&O[0]&8&&(i=!0,z.files=A[3],In(()=>i=!1)),!o&&O[0]&16&&(o=!0,z.dirty=A[4],In(()=>o=!1)),!a&&O[0]&2&&(a=!0,z.invalid=A[1],In(()=>a=!1)),r.$set(z),A[21]!=null?S?(S.p(A,O),O[0]&2097152&&re(S,1)):(S=dg(A),S.c(),re(S,1),S.m(c.parentNode,c)):S&&(Zt(),le(S,1,1,()=>{S=null}),Kt()),E&&E.p&&(!f||O[2]&33554432)&&$t(E,w,A,A[87],f?Nt(w,A[87],O,oz):Vt(A[87]),eg)},i(A){f||(re(d,A),re(h),re(r.$$.fragment,A),re(S),re(E,A),f=!0)},o(A){le(d,A),le(h),le(r.$$.fragment,A),le(S),le(E,A),f=!1},d(A){d&&d.d(A),A&&Ee(t),h&&h.d(A),A&&Ee(n),e[68](null),Je(r,A),A&&Ee(l),S&&S.d(A),A&&Ee(c),E&&E.d(A)}}}function Az(e){let t,n,r,s,i,o,a,l;const c=[{disabled:e[12]},{required:e[13]},{updateInvalid:e[19]},{"aria-controls":e[27]},{"aria-describedby":e[27]},Xt(e[46],"input$")];function f(m){e[61](m)}function u(m){e[62](m)}function d(m){e[63](m)}let h={};for(let m=0;m<c.length;m+=1)h=qe(h,c[m]);e[0]!==void 0&&(h.value=e[0]),e[4]!==void 0&&(h.dirty=e[4]),e[1]!==void 0&&(h.invalid=e[1]),n=new JU({props:h}),e[60](n),ot.push(()=>Dn(n,"value",f)),ot.push(()=>Dn(n,"dirty",u)),ot.push(()=>Dn(n,"invalid",d)),n.$on("blur",e[64]),n.$on("focus",e[65]),n.$on("blur",e[66]),n.$on("focus",e[67]);const g=e[56].internalCounter,p=Bt(g,e,e[87],ng);return{c(){t=Et("span"),tt(n.$$.fragment),o=mt(),p&&p.c(),Ot(t,"class",a=dt({"mdc-text-field__resizer":!("input$resizable"in e[46])||e[46].input$resizable}))},m(m,v){we(m,t,v),Qe(n,t,null),_n(t,o),p&&p.m(t,null),l=!0},p(m,v){const b=v[0]&134754304|v[1]&32768?It(c,[v[0]&4096&&{disabled:m[12]},v[0]&8192&&{required:m[13]},v[0]&524288&&{updateInvalid:m[19]},v[0]&134217728&&{"aria-controls":m[27]},v[0]&134217728&&{"aria-describedby":m[27]},v[1]&32768&&cn(Xt(m[46],"input$"))]):{};!r&&v[0]&1&&(r=!0,b.value=m[0],In(()=>r=!1)),!s&&v[0]&16&&(s=!0,b.dirty=m[4],In(()=>s=!1)),!i&&v[0]&2&&(i=!0,b.invalid=m[1],In(()=>i=!1)),n.$set(b),p&&p.p&&(!l||v[2]&33554432)&&$t(p,g,m,m[87],l?Nt(g,m[87],v,lz):Vt(m[87]),ng),(!l||v[1]&32768&&a!==(a=dt({"mdc-text-field__resizer":!("input$resizable"in m[46])||m[46].input$resizable})))&&Ot(t,"class",a)},i(m){l||(re(n.$$.fragment,m),re(p,m),l=!0)},o(m){le(n.$$.fragment,m),le(p,m),l=!1},d(m){m&&Ee(t),e[60](null),Je(n),p&&p.d(m)}}}function ug(e){let t,n;return t=new jU({props:{$$slots:{default:[Sz]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[0]&1048576|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Sz(e){let t;return{c(){t=qn(e[20])},m(n,r){we(n,t,r)},p(n,r){r[0]&1048576&&si(t,n[20])},d(n){n&&Ee(t)}}}function dg(e){let t,n;return t=new qU({props:{$$slots:{default:[Ez]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[0]&2097152|s[2]&33554432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Ez(e){let t;return{c(){t=qn(e[21])},m(n,r){we(n,t,r)},p(n,r){r[0]&2097152&&si(t,n[21])},d(n){n&&Ee(t)}}}function wz(e){let t;const n=e[56].trailingIcon,r=Bt(n,e,e[87],Jp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&$t(r,n,s,s[87],t?Nt(n,s[87],i,iz):Vt(s[87]),Jp)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function hg(e){let t,n;const r=[Xt(e[46],"ripple$")];let s={};for(let i=0;i<r.length;i+=1)s=qe(s,r[i]);return t=new $U({props:s}),e[77](t),{c(){tt(t.$$.fragment)},m(i,o){Qe(t,i,o),n=!0},p(i,o){const a=o[1]&32768?It(r,[cn(Xt(i[46],"ripple$"))]):{};t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){e[77](null),Je(t,i)}}}function mg(e){let t,n;const r=[Xt(e[46],"helperLine$")];let s={$$slots:{default:[Tz]},$$scope:{ctx:e}};for(let i=0;i<r.length;i+=1)s=qe(s,r[i]);return t=new HU({props:s}),t.$on("SMUITextfieldHelperText:id",e[41]),t.$on("SMUITextfieldHelperText:mount",e[42]),t.$on("SMUITextfieldHelperText:unmount",e[85]),t.$on("SMUITextfieldCharacterCounter:mount",e[40]),t.$on("SMUITextfieldCharacterCounter:unmount",e[86]),{c(){tt(t.$$.fragment)},m(i,o){Qe(t,i,o),n=!0},p(i,o){const a=o[1]&32768?It(r,[cn(Xt(i[46],"helperLine$"))]):{};o[2]&33554432&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Je(t,i)}}}function Tz(e){let t;const n=e[56].helper,r=Bt(n,e,e[87],Wp);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i[2]&33554432)&&$t(r,n,s,s[87],t?Nt(n,s[87],i,ez):Vt(s[87]),Wp)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function Cz(e){let t,n,r,s,i;const o=[hz,dz],a=[];function l(f,u){return f[36]?0:1}t=l(e),n=a[t]=o[t](e);let c=e[47].helper&&mg(e);return{c(){n.c(),r=mt(),c&&c.c(),s=pn()},m(f,u){a[t].m(f,u),we(f,r,u),c&&c.m(f,u),we(f,s,u),i=!0},p(f,u){n.p(f,u),f[47].helper?c?(c.p(f,u),u[1]&65536&&re(c,1)):(c=mg(f),c.c(),re(c,1),c.m(s.parentNode,s)):c&&(Zt(),le(c,1,1,()=>{c=null}),Kt())},i(f){i||(re(n),re(c),i=!0)},o(f){le(n),le(c),i=!1},d(f){a[t].d(f),f&&Ee(r),c&&c.d(f),f&&Ee(s)}}}const pg=([e,t])=>`${e}: ${t};`,gg=([e,t])=>`${e}: ${t};`;function Pz(e,t,n){let r;const s=["use","class","style","ripple","disabled","required","textarea","variant","noLabel","label","type","value","files","invalid","updateInvalid","dirty","prefix","suffix","validateOnValueChange","useNativeValidation","withLeadingIcon","withTrailingIcon","input","floatingLabel","lineRipple","notchedOutline","focus","blur","layout","getElement"];let i=Ct(t,s),{$$slots:o={},$$scope:a}=t;const l=zy(o),{applyPassive:c}=Dg,f=Pn(an());let u=()=>{};function d(J){return J===u}let{use:h=[]}=t,{class:g=""}=t,{style:p=""}=t,{ripple:m=!0}=t,{disabled:v=!1}=t,{required:b=!1}=t,{textarea:y=!1}=t,{variant:S=y?"outlined":"standard"}=t,{noLabel:w=!1}=t,{label:E=void 0}=t,{type:A="text"}=t,{value:O=i.input$emptyValueUndefined?void 0:u}=t,{files:z=u}=t;const B=!d(O)||!d(z);d(O)&&(O=void 0),d(z)&&(z=null);let{invalid:x=u}=t,{updateInvalid:oe=d(x)}=t;d(x)&&(x=!1);let{dirty:V=!1}=t,{prefix:X=void 0}=t,{suffix:Fe=void 0}=t,{validateOnValueChange:ne=oe}=t,{useNativeValidation:N=oe}=t,{withLeadingIcon:de=u}=t,{withTrailingIcon:te=u}=t,{input:je=void 0}=t,{floatingLabel:Mt=void 0}=t,{lineRipple:Ge=void 0}=t,{notchedOutline:Lt=void 0}=t,en,Ut,Gn={},Xn={},Ze,$e=!1,Sn=mr("SMUI:addLayoutListener"),ts,ws,Ts=new Promise(J=>ws=J),Le,At,Cr,Pr,Ln=O;Sn&&(ts=Sn(ns)),ar(()=>{if(n(54,Ut=new IU({addClass:ta,removeClass:na,hasClass:fi,registerTextFieldInteractionHandler:(J,gn)=>Ls().addEventListener(J,gn),deregisterTextFieldInteractionHandler:(J,gn)=>Ls().removeEventListener(J,gn),registerValidationAttributeChangeHandler:J=>{const gn=no=>no.map(ro=>ro.attributeName).filter(ro=>ro),fa=new MutationObserver(no=>{N&&J(gn(no))}),yc={attributes:!0};return je&&fa.observe(je.getElement(),yc),fa},deregisterValidationAttributeChangeHandler:J=>{J.disconnect()},getNativeInput:()=>{var J;return(J=je==null?void 0:je.getElement())!==null&&J!==void 0?J:null},setInputAttr:(J,gn)=>{je==null||je.addAttr(J,gn)},removeInputAttr:J=>{je==null||je.removeAttr(J)},isFocused:()=>document.activeElement===(je==null?void 0:je.getElement()),registerInputInteractionHandler:(J,gn)=>{je==null||je.getElement().addEventListener(J,gn,c())},deregisterInputInteractionHandler:(J,gn)=>{je==null||je.getElement().removeEventListener(J,gn,c())},floatLabel:J=>Mt&&Mt.float(J),getLabelWidth:()=>Mt?Mt.getWidth():0,hasLabel:()=>!!Mt,shakeLabel:J=>Mt&&Mt.shake(J),setLabelRequired:J=>Mt&&Mt.setRequired(J),activateLineRipple:()=>Ge&&Ge.activate(),deactivateLineRipple:()=>Ge&&Ge.deactivate(),setLineRippleTransformOrigin:J=>Ge&&Ge.setRippleCenter(J),closeOutline:()=>Lt&&Lt.closeNotch(),hasOutline:()=>!!Lt,notchOutline:J=>Lt&&Lt.notch(J)},{get helperText(){return Cr},get characterCounter(){return Pr},get leadingIcon(){return Le},get trailingIcon(){return At}})),B){if(je==null)throw new Error("SMUI Textfield initialized without Input component.");Ut.init()}else Zy().then(()=>{if(je==null)throw new Error("SMUI Textfield initialized without Input component.");Ut.init()});return ws(),()=>{Ut.destroy()}}),Yu(()=>{ts&&ts()});function Cs(J){n(29,Le=J.detail)}function Vr(J){n(30,At=J.detail)}function Ps(J){n(32,Pr=J.detail)}function ci(J){n(27,Ze=J.detail)}function P(J){n(31,Cr=J.detail)}function fi(J){var gn;return J in Gn?(gn=Gn[J])!==null&&gn!==void 0?gn:null:Ls().classList.contains(J)}function ta(J){Gn[J]||n(25,Gn[J]=!0,Gn)}function na(J){(!(J in Gn)||Gn[J])&&n(25,Gn[J]=!1,Gn)}function Jl(J,gn){Xn[J]!=gn&&(gn===""||gn==null?(delete Xn[J],n(26,Xn)):n(26,Xn[J]=gn,Xn))}function Ur(){je==null||je.focus()}function ra(){je==null||je.blur()}function ns(){if(Ut){const J=Ut.shouldFloat;Ut.notchOutline(J)}}function Ls(){return en}function ec(J){ot[J?"unshift":"push"](()=>{Mt=J,n(5,Mt)})}function tc(J){ot[J?"unshift":"push"](()=>{Mt=J,n(5,Mt)})}function sa(J){ot[J?"unshift":"push"](()=>{Lt=J,n(7,Lt)})}function Wn(J){ot[J?"unshift":"push"](()=>{je=J,n(2,je)})}function to(J){O=J,n(0,O)}function ia(J){V=J,n(4,V)}function nc(J){x=J,n(1,x),n(54,Ut),n(19,oe)}const rc=()=>n(28,$e=!1),sc=()=>n(28,$e=!0),ic=J=>zn(en,"blur",J),oc=J=>zn(en,"focus",J);function oa(J){ot[J?"unshift":"push"](()=>{je=J,n(2,je)})}function aa(J){O=J,n(0,O)}function ac(J){z=J,n(3,z)}function lc(J){V=J,n(4,V)}function Yn(J){x=J,n(1,x),n(54,Ut),n(19,oe)}const cc=()=>n(28,$e=!1),fc=()=>n(28,$e=!0),uc=J=>zn(en,"blur",J),dc=J=>zn(en,"focus",J);function hc(J){ot[J?"unshift":"push"](()=>{Ge=J,n(6,Ge)})}function mc(J){ot[J?"unshift":"push"](()=>{en=J,n(24,en)})}const pc=()=>n(29,Le=void 0),gc=()=>n(30,At=void 0),la=()=>n(32,Pr=void 0);function ca(J){ot[J?"unshift":"push"](()=>{en=J,n(24,en)})}const ln=()=>n(29,Le=void 0),vc=()=>n(30,At=void 0),bc=()=>{n(27,Ze=void 0),n(31,Cr=void 0)},_c=()=>n(32,Pr=void 0);return e.$$set=J=>{t=qe(qe({},t),An(J)),n(46,i=Ct(t,s)),"use"in J&&n(8,h=J.use),"class"in J&&n(9,g=J.class),"style"in J&&n(10,p=J.style),"ripple"in J&&n(11,m=J.ripple),"disabled"in J&&n(12,v=J.disabled),"required"in J&&n(13,b=J.required),"textarea"in J&&n(14,y=J.textarea),"variant"in J&&n(15,S=J.variant),"noLabel"in J&&n(16,w=J.noLabel),"label"in J&&n(17,E=J.label),"type"in J&&n(18,A=J.type),"value"in J&&n(0,O=J.value),"files"in J&&n(3,z=J.files),"invalid"in J&&n(1,x=J.invalid),"updateInvalid"in J&&n(19,oe=J.updateInvalid),"dirty"in J&&n(4,V=J.dirty),"prefix"in J&&n(20,X=J.prefix),"suffix"in J&&n(21,Fe=J.suffix),"validateOnValueChange"in J&&n(48,ne=J.validateOnValueChange),"useNativeValidation"in J&&n(49,N=J.useNativeValidation),"withLeadingIcon"in J&&n(22,de=J.withLeadingIcon),"withTrailingIcon"in J&&n(23,te=J.withTrailingIcon),"input"in J&&n(2,je=J.input),"floatingLabel"in J&&n(5,Mt=J.floatingLabel),"lineRipple"in J&&n(6,Ge=J.lineRipple),"notchedOutline"in J&&n(7,Lt=J.notchedOutline),"$$scope"in J&&n(87,a=J.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&4&&n(33,r=je&&je.getElement()),e.$$.dirty[0]&524290|e.$$.dirty[1]&8388608&&Ut&&Ut.isValid()!==!x&&(oe?n(1,x=!Ut.isValid()):Ut.setValid(!x)),e.$$.dirty[1]&8519680&&Ut&&Ut.getValidateOnValueChange()!==ne&&Ut.setValidateOnValueChange(d(ne)?!1:ne),e.$$.dirty[1]&8650752&&Ut&&Ut.setUseNativeValidation(d(N)?!0:N),e.$$.dirty[0]&4096|e.$$.dirty[1]&8388608&&Ut&&Ut.setDisabled(v),e.$$.dirty[0]&1|e.$$.dirty[1]&25165824&&Ut&&B&&Ln!==O){n(55,Ln=O);const J=`${O}`;Ut.getValue()!==J&&Ut.setValue(J)}},[O,x,je,z,V,Mt,Ge,Lt,h,g,p,m,v,b,y,S,w,E,A,oe,X,Fe,de,te,en,Gn,Xn,Ze,$e,Le,At,Cr,Pr,r,f,d,B,Ts,Cs,Vr,Ps,ci,P,ta,na,Jl,i,l,ne,N,Ur,ra,ns,Ls,Ut,Ln,o,ec,tc,sa,Wn,to,ia,nc,rc,sc,ic,oc,oa,aa,ac,lc,Yn,cc,fc,uc,dc,hc,mc,pc,gc,la,ca,ln,vc,bc,_c,a]}class Gr extends Jt{constructor(t){super(),Qt(this,t,Pz,Cz,Ht,{use:8,class:9,style:10,ripple:11,disabled:12,required:13,textarea:14,variant:15,noLabel:16,label:17,type:18,value:0,files:3,invalid:1,updateInvalid:19,dirty:4,prefix:20,suffix:21,validateOnValueChange:48,useNativeValidation:49,withLeadingIcon:22,withTrailingIcon:23,input:2,floatingLabel:5,lineRipple:6,notchedOutline:7,focus:50,blur:51,layout:52,getElement:53},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[50]}get blur(){return this.$$.ctx[51]}get layout(){return this.$$.ctx[52]}get getElement(){return this.$$.ctx[53]}}function Lz(e){let t;return{c(){t=qn(e[8])},m(n,r){we(n,t,r)},p(n,r){r&256&&si(t,n[8])},i:on,o:on,d(n){n&&Ee(t)}}}function Oz(e){let t;const n=e[13].default,r=Bt(n,e,e[12],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&4096)&&$t(r,n,s,s[12],t?Nt(n,s[12],i,null):Vt(s[12]),null)},i(s){t||(re(r,s),t=!0)},o(s){le(r,s),t=!1},d(s){r&&r.d(s)}}}function Rz(e){let t,n,r,s,i,o,a,l,c;const f=[Oz,Lz],u=[];function d(p,m){return p[8]==null?0:1}n=d(e),r=u[n]=f[n](e);let h=[{class:s=dt({[e[1]]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":e[3],"mdc-text-field-helper-text--validation-msg":e[4],...e[6]})},{"aria-hidden":i=e[3]?void 0:"true"},{id:e[2]},e[7],e[10]],g={};for(let p=0;p<h.length;p+=1)g=qe(g,h[p]);return{c(){t=Et("div"),r.c(),Rt(t,g)},m(p,m){we(p,t,m),u[n].m(t,null),e[14](t),a=!0,l||(c=[wt(o=yn.call(null,t,e[0])),wt(e[9].call(null,t))],l=!0)},p(p,[m]){let v=n;n=d(p),n===v?u[n].p(p,m):(Zt(),le(u[v],1,1,()=>{u[v]=null}),Kt(),r=u[n],r?r.p(p,m):(r=u[n]=f[n](p),r.c()),re(r,1),r.m(t,null)),Rt(t,g=It(h,[(!a||m&90&&s!==(s=dt({[p[1]]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":p[3],"mdc-text-field-helper-text--validation-msg":p[4],...p[6]})))&&{class:s},(!a||m&8&&i!==(i=p[3]?void 0:"true"))&&{"aria-hidden":i},(!a||m&4)&&{id:p[2]},m&128&&p[7],m&1024&&p[10]])),o&&zt(o.update)&&m&1&&o.update.call(null,p[0])},i(p){a||(re(r),a=!0)},o(p){le(r),a=!1},d(p){p&&Ee(t),u[n].d(),e[14](null),l=!1,fn(c)}}}let Mz=0;function Iz(e,t,n){const r=["use","class","id","persistent","validationMsg","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Pn(an());let{use:l=[]}=t,{class:c=""}=t,{id:f="SMUI-textfield-helper-text-"+Mz++}=t,{persistent:u=!1}=t,{validationMsg:d=!1}=t,h,g,p={},m={},v;ar(()=>(g=new DU({addClass:y,removeClass:S,hasClass:b,getAttr:w,setAttr:E,removeAttr:A,setContent:B=>{n(8,v=B)}}),f.startsWith("SMUI-textfield-helper-text-")&&zn(O(),"SMUITextfieldHelperText:id",f),zn(O(),"SMUITextfieldHelperText:mount",g),g.init(),()=>{zn(O(),"SMUITextfieldHelperText:unmount",g),g.destroy()}));function b(B){return B in p?p[B]:O().classList.contains(B)}function y(B){p[B]||n(6,p[B]=!0,p)}function S(B){(!(B in p)||p[B])&&n(6,p[B]=!1,p)}function w(B){var x;return B in m?(x=m[B])!==null&&x!==void 0?x:null:O().getAttribute(B)}function E(B,x){m[B]!==x&&n(7,m[B]=x,m)}function A(B){(!(B in m)||m[B]!=null)&&n(7,m[B]=void 0,m)}function O(){return h}function z(B){ot[B?"unshift":"push"](()=>{h=B,n(5,h)})}return e.$$set=B=>{t=qe(qe({},t),An(B)),n(10,s=Ct(t,r)),"use"in B&&n(0,l=B.use),"class"in B&&n(1,c=B.class),"id"in B&&n(2,f=B.id),"persistent"in B&&n(3,u=B.persistent),"validationMsg"in B&&n(4,d=B.validationMsg),"$$scope"in B&&n(12,o=B.$$scope)},[l,c,f,u,d,h,p,m,v,a,s,O,o,i,z]}class Dz extends Jt{constructor(t){super(),Qt(this,t,Iz,Rz,Ht,{use:0,class:1,id:2,persistent:3,validationMsg:4,getElement:11})}get getElement(){return this.$$.ctx[11]}}function vg(e){let t;return{c(){t=Et("div"),Ot(t,"class","mdc-fab__focus-ring")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function bg(e){let t;return{c(){t=Et("div"),Ot(t,"class","mdc-fab__touch")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function Fz(e){let t,n,r,s,i,o=e[4]&&vg();const a=e[22].default,l=Bt(a,e,e[24],null);let c=e[9]&&bg();return{c(){t=Et("div"),n=mt(),o&&o.c(),r=mt(),l&&l.c(),c&&c.c(),s=pn(),Ot(t,"class","mdc-fab__ripple")},m(f,u){we(f,t,u),we(f,n,u),o&&o.m(f,u),we(f,r,u),l&&l.m(f,u),c&&c.m(f,u),we(f,s,u),i=!0},p(f,u){f[4]?o||(o=vg(),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null),l&&l.p&&(!i||u&16777216)&&$t(l,a,f,f[24],i?Nt(a,f[24],u,null):Vt(f[24]),null),f[9]?c||(c=bg(),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(f){i||(re(l,f),i=!0)},o(f){le(l,f),i=!1},d(f){f&&Ee(t),f&&Ee(n),o&&o.d(f),f&&Ee(r),l&&l.d(f),c&&c.d(f),f&&Ee(s)}}}function xz(e){let t,n,r;const s=[{tag:e[12]},{use:[[Jr,{ripple:e[3],unbounded:!1,color:e[5],disabled:!!e[20].disabled,addClass:e[17],removeClass:e[18],addStyle:e[19]}],e[16],...e[0]]},{class:dt({[e[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":e[6],"mdc-fab--exited":e[7],"mdc-fab--extended":e[8],"smui-fab--color-primary":e[5]==="primary","mdc-fab--touch":e[9],...e[14]})},{style:Object.entries(e[15]).map(_g).concat([e[2]]).join(" ")},{href:e[10]},e[20]];var i=e[11];function o(a){let l={$$slots:{default:[Fz]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=qe(l,s[c]);return{props:l}}return i&&(t=vr(i,o(e)),e[23](t)),{c(){t&&tt(t.$$.fragment),n=pn()},m(a,l){t&&Qe(t,a,l),we(a,n,l),r=!0},p(a,[l]){const c=l&2086895?It(s,[l&4096&&{tag:a[12]},l&2031657&&{use:[[Jr,{ripple:a[3],unbounded:!1,color:a[5],disabled:!!a[20].disabled,addClass:a[17],removeClass:a[18],addStyle:a[19]}],a[16],...a[0]]},l&17378&&{class:dt({[a[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":a[6],"mdc-fab--exited":a[7],"mdc-fab--extended":a[8],"smui-fab--color-primary":a[5]==="primary","mdc-fab--touch":a[9],...a[14]})},l&32772&&{style:Object.entries(a[15]).map(_g).concat([a[2]]).join(" ")},l&1024&&{href:a[10]},l&1048576&&cn(a[20])]):{};if(l&16777744&&(c.$$scope={dirty:l,ctx:a}),l&2048&&i!==(i=a[11])){if(t){Zt();const f=t;le(f.$$.fragment,1,0,()=>{Je(f,1)}),Kt()}i?(t=vr(i,o(a)),a[23](t),tt(t.$$.fragment),re(t.$$.fragment,1),Qe(t,n.parentNode,n)):t=null}else i&&t.$set(c)},i(a){r||(t&&re(t.$$.fragment,a),r=!0)},o(a){t&&le(t.$$.fragment,a),r=!1},d(a){e[23](null),a&&Ee(n),t&&Je(t,a)}}}const _g=([e,t])=>`${e}: ${t};`;function kz(e,t,n){const r=["use","class","style","ripple","focusRing","color","mini","exited","extended","touch","href","component","tag","getElement"];let s=Ct(t,r),{$$slots:i={},$$scope:o}=t;const a=Pn(an());let{use:l=[]}=t,{class:c=""}=t,{style:f=""}=t,{ripple:u=!0}=t,{focusRing:d=!1}=t,{color:h="secondary"}=t,{mini:g=!1}=t,{exited:p=!1}=t,{extended:m=!1}=t,{touch:v=!1}=t,{href:b=void 0}=t,y,S={},w={},{component:E=_r}=t,{tag:A=E===_r?b==null?"button":"a":void 0}=t;hr("SMUI:label:context","fab"),hr("SMUI:icon:context","fab");function O(V){S[V]||n(14,S[V]=!0,S)}function z(V){(!(V in S)||S[V])&&n(14,S[V]=!1,S)}function B(V,X){w[V]!=X&&(X===""||X==null?(delete w[V],n(15,w)):n(15,w[V]=X,w))}function x(){return y.getElement()}function oe(V){ot[V?"unshift":"push"](()=>{y=V,n(13,y)})}return e.$$set=V=>{t=qe(qe({},t),An(V)),n(20,s=Ct(t,r)),"use"in V&&n(0,l=V.use),"class"in V&&n(1,c=V.class),"style"in V&&n(2,f=V.style),"ripple"in V&&n(3,u=V.ripple),"focusRing"in V&&n(4,d=V.focusRing),"color"in V&&n(5,h=V.color),"mini"in V&&n(6,g=V.mini),"exited"in V&&n(7,p=V.exited),"extended"in V&&n(8,m=V.extended),"touch"in V&&n(9,v=V.touch),"href"in V&&n(10,b=V.href),"component"in V&&n(11,E=V.component),"tag"in V&&n(12,A=V.tag),"$$scope"in V&&n(24,o=V.$$scope)},[l,c,f,u,d,h,g,p,m,v,b,E,A,y,S,w,a,O,z,B,s,x,i,oe,o]}class Gz extends Jt{constructor(t){super(),Qt(this,t,kz,xz,Ht,{use:0,class:1,style:2,ripple:3,focusRing:4,color:5,mini:6,exited:7,extended:8,touch:9,href:10,component:11,tag:12,getElement:21})}get getElement(){return this.$$.ctx[21]}}function Bz(e){let t;return{c(){t=qn("download")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function Nz(e){let t,n;return t=new Zu({props:{class:"material-icons",$$slots:{default:[Bz]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function $z(e){let t=e[30]+"",n;return{c(){n=qn(t)},m(r,s){we(r,n,s)},p(r,s){s[0]&1073741824&&t!==(t=r[30]+"")&&si(n,t)},d(r){r&&Ee(n)}}}function Vz(e){let t,n;return t=new Yi({props:{$$slots:{default:[$z]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[0]&1073741824|s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Uz(e){let t,n;return t=new aU({props:{tab:e[30],$$slots:{default:[Vz]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[0]&1073741824&&(i.tab=r[30]),s[0]&1073741824|s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function zz(e){let t,n;return t=new Ol({props:{variant:"unelevated",style:" height: 100%",$$slots:{default:[nH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[0]&4096|s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Hz(e){let t,n,r=e[11]&&yg(e);return{c(){r&&r.c(),t=pn()},m(s,i){r&&r.m(s,i),we(s,t,i),n=!0},p(s,i){s[11]?r?(r.p(s,i),i[0]&2048&&re(r,1)):(r=yg(s),r.c(),re(r,1),r.m(t.parentNode,t)):r&&(Zt(),le(r,1,1,()=>{r=null}),Kt())},i(s){n||(re(r),n=!0)},o(s){le(r),n=!1},d(s){r&&r.d(s),s&&Ee(t)}}}function jz(e){let t,n;return t=new Ol({props:{variant:"unelevated",class:"settings",$$slots:{default:[aH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[0]&2044|s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function qz(e){let t,n,r;function s(o){e[17](o)}let i={};return e[0]!==void 0&&(i.model=e[0]),t=new rA({props:i}),ot.push(()=>Dn(t,"model",s)),{c(){tt(t.$$.fragment)},m(o,a){Qe(t,o,a),r=!0},p(o,a){const l={};!n&&a[0]&1&&(n=!0,l.model=o[0],In(()=>n=!1)),t.$set(l)},i(o){r||(re(t.$$.fragment,o),r=!0)},o(o){le(t.$$.fragment,o),r=!1},d(o){Je(t,o)}}}function Xz(e){let t,n;return t=new nw({}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p:on,i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Wz(e){let t;return{c(){t=qn("Copy/paste to save/load the state")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function Yz(e){let t,n;return t=new Dz({props:{slot:"helper",$$slots:{default:[Wz]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Zz(e){let t;return{c(){t=qn("Small")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function Kz(e){let t,n;return t=new Yi({props:{$$slots:{default:[Zz]},$$scope:{ctx:e}}}),t.$on("click",e[15](K2)),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function Qz(e){let t;return{c(){t=qn("Big")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function Jz(e){let t,n;return t=new Yi({props:{$$slots:{default:[Qz]},$$scope:{ctx:e}}}),t.$on("click",e[15](kV)),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function eH(e){let t;return{c(){t=qn("Snake")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function tH(e){let t,n;return t=new Yi({props:{$$slots:{default:[eH]},$$scope:{ctx:e}}}),t.$on("click",e[15](GV)),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function nH(e){let t,n,r,s,i,o,a,l,c,f;return t=new Gr({props:{style:"width: 100%",input$style:"width: 100%",class:"save-area",textarea:!0,value:e[12],label:"State",input$resizable:!1,input$rows:8,$$slots:{helper:[Yz]},$$scope:{ctx:e}}}),t.$on("input",e[13]),i=new gl({props:{$$slots:{default:[Kz]},$$scope:{ctx:e}}}),a=new gl({props:{$$slots:{default:[Jz]},$$scope:{ctx:e}}}),c=new gl({props:{$$slots:{default:[tH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment),n=mt(),r=Et("div"),r.textContent="Load predefined model",s=mt(),tt(i.$$.fragment),o=mt(),tt(a.$$.fragment),l=mt(),tt(c.$$.fragment),Ot(r,"class","mdc-typography--subtitle1"),Ys(r,"margin-top","1rem")},m(u,d){Qe(t,u,d),we(u,n,d),we(u,r,d),we(u,s,d),Qe(i,u,d),we(u,o,d),Qe(a,u,d),we(u,l,d),Qe(c,u,d),f=!0},p(u,d){const h={};d[0]&4096&&(h.value=u[12]),d[1]&1&&(h.$$scope={dirty:d,ctx:u}),t.$set(h);const g={};d[1]&1&&(g.$$scope={dirty:d,ctx:u}),i.$set(g);const p={};d[1]&1&&(p.$$scope={dirty:d,ctx:u}),a.$set(p);const m={};d[1]&1&&(m.$$scope={dirty:d,ctx:u}),c.$set(m)},i(u){f||(re(t.$$.fragment,u),re(i.$$.fragment,u),re(a.$$.fragment,u),re(c.$$.fragment,u),f=!0)},o(u){le(t.$$.fragment,u),le(i.$$.fragment,u),le(a.$$.fragment,u),le(c.$$.fragment,u),f=!1},d(u){Je(t,u),u&&Ee(n),u&&Ee(r),u&&Ee(s),Je(i,u),u&&Ee(o),Je(a,u),u&&Ee(l),Je(c,u)}}}function yg(e){let t,n;return t=new JE({props:{model:e[11]}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[0]&2048&&(i.model=r[11]),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function rH(e){let t;return{c(){t=qn("percent")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function sH(e){let t,n;return t=new Zu({props:{class:"material-icons",slot:"trailingIcon",$$slots:{default:[rH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function iH(e){let t;return{c(){t=qn("percent")},m(n,r){we(n,t,r)},d(n){n&&Ee(t)}}}function oH(e){let t,n;return t=new Zu({props:{class:"material-icons",slot:"trailingIcon",$$slots:{default:[iH]},$$scope:{ctx:e}}}),{c(){tt(t.$$.fragment)},m(r,s){Qe(t,r,s),n=!0},p(r,s){const i={};s[1]&1&&(i.$$scope={dirty:s,ctx:r}),t.$set(i)},i(r){n||(re(t.$$.fragment,r),n=!0)},o(r){le(t.$$.fragment,r),n=!1},d(r){Je(t,r)}}}function aH(e){let t,n,r,s,i,o,a,l,c,f,u,d,h,g,p,m,v,b,y,S,w,E,A,O,z,B,x,oe,V,X,Fe;function ne(Le){e[18](Le)}let N={label:"Inner cell perimeter",type:"number",min:"0"};e[2]!==void 0&&(N.value=e[2]),t=new Gr({props:N}),ot.push(()=>Dn(t,"value",ne));function de(Le){e[19](Le)}let te={label:"Wall width",type:"number",min:"0"};e[3]!==void 0&&(te.value=e[3]),s=new Gr({props:te}),ot.push(()=>Dn(s,"value",de));function je(Le){e[20](Le)}let Mt={label:"Depth",type:"number",min:"0"};e[4]!==void 0&&(Mt.value=e[4]),a=new Gr({props:Mt}),ot.push(()=>Dn(a,"value",je));function Ge(Le){e[21](Le)}let Lt={label:"Cap radius",type:"number",min:"0"};e[5]!==void 0&&(Lt.value=e[5]),f=new Gr({props:Lt}),ot.push(()=>Dn(f,"value",Ge));function en(Le){e[22](Le)}let Ut={label:"Cap inset",type:"number",min:"0"};e[6]!==void 0&&(Ut.value=e[6]),h=new Gr({props:Ut}),ot.push(()=>Dn(h,"value",en));function Gn(Le){e[23](Le)}let Xn={label:"Horizontal space",type:"number",$$slots:{trailingIcon:[sH]},$$scope:{ctx:e}};e[7]!==void 0&&(Xn.value=e[7]),S=new Gr({props:Xn}),ot.push(()=>Dn(S,"value",Gn));function Ze(Le){e[24](Le)}let $e={label:"Horizontal offset",type:"number"};e[8]!==void 0&&($e.value=e[8]),A=new Gr({props:$e}),ot.push(()=>Dn(A,"value",Ze));function Sn(Le){e[25](Le)}let ts={label:"Vertical space",type:"number",$$slots:{trailingIcon:[oH]},$$scope:{ctx:e}};e[9]!==void 0&&(ts.value=e[9]),B=new Gr({props:ts}),ot.push(()=>Dn(B,"value",Sn));function ws(Le){e[26](Le)}let Ts={label:"Vertical offset",type:"number"};return e[10]!==void 0&&(Ts.value=e[10]),V=new Gr({props:Ts}),ot.push(()=>Dn(V,"value",ws)),{c(){tt(t.$$.fragment),r=mt(),tt(s.$$.fragment),o=mt(),tt(a.$$.fragment),c=mt(),tt(f.$$.fragment),d=mt(),tt(h.$$.fragment),p=mt(),m=Et("div"),v=mt(),b=Et("div"),b.textContent="Wall mount holes",y=mt(),tt(S.$$.fragment),E=mt(),tt(A.$$.fragment),z=mt(),tt(B.$$.fragment),oe=mt(),tt(V.$$.fragment),Ot(m,"class","wrap svelte-190rkjk"),Ot(b,"class","mdc-typography--body1 wrap svelte-190rkjk")},m(Le,At){Qe(t,Le,At),we(Le,r,At),Qe(s,Le,At),we(Le,o,At),Qe(a,Le,At),we(Le,c,At),Qe(f,Le,At),we(Le,d,At),Qe(h,Le,At),we(Le,p,At),we(Le,m,At),we(Le,v,At),we(Le,b,At),we(Le,y,At),Qe(S,Le,At),we(Le,E,At),Qe(A,Le,At),we(Le,z,At),Qe(B,Le,At),we(Le,oe,At),Qe(V,Le,At),Fe=!0},p(Le,At){const Cr={};!n&&At[0]&4&&(n=!0,Cr.value=Le[2],In(()=>n=!1)),t.$set(Cr);const Pr={};!i&&At[0]&8&&(i=!0,Pr.value=Le[3],In(()=>i=!1)),s.$set(Pr);const Ln={};!l&&At[0]&16&&(l=!0,Ln.value=Le[4],In(()=>l=!1)),a.$set(Ln);const Cs={};!u&&At[0]&32&&(u=!0,Cs.value=Le[5],In(()=>u=!1)),f.$set(Cs);const Vr={};!g&&At[0]&64&&(g=!0,Vr.value=Le[6],In(()=>g=!1)),h.$set(Vr);const Ps={};At[1]&1&&(Ps.$$scope={dirty:At,ctx:Le}),!w&&At[0]&128&&(w=!0,Ps.value=Le[7],In(()=>w=!1)),S.$set(Ps);const ci={};!O&&At[0]&256&&(O=!0,ci.value=Le[8],In(()=>O=!1)),A.$set(ci);const P={};At[1]&1&&(P.$$scope={dirty:At,ctx:Le}),!x&&At[0]&512&&(x=!0,P.value=Le[9],In(()=>x=!1)),B.$set(P);const fi={};!X&&At[0]&1024&&(X=!0,fi.value=Le[10],In(()=>X=!1)),V.$set(fi)},i(Le){Fe||(re(t.$$.fragment,Le),re(s.$$.fragment,Le),re(a.$$.fragment,Le),re(f.$$.fragment,Le),re(h.$$.fragment,Le),re(S.$$.fragment,Le),re(A.$$.fragment,Le),re(B.$$.fragment,Le),re(V.$$.fragment,Le),Fe=!0)},o(Le){le(t.$$.fragment,Le),le(s.$$.fragment,Le),le(a.$$.fragment,Le),le(f.$$.fragment,Le),le(h.$$.fragment,Le),le(S.$$.fragment,Le),le(A.$$.fragment,Le),le(B.$$.fragment,Le),le(V.$$.fragment,Le),Fe=!1},d(Le){Je(t,Le),Le&&Ee(r),Je(s,Le),Le&&Ee(o),Je(a,Le),Le&&Ee(c),Je(f,Le),Le&&Ee(d),Je(h,Le),Le&&Ee(p),Le&&Ee(m),Le&&Ee(v),Le&&Ee(b),Le&&Ee(y),Je(S,Le),Le&&Ee(E),Je(A,Le),Le&&Ee(z),Je(B,Le),Le&&Ee(oe),Je(V,Le)}}}function lH(e){let t,n,r,s,i,o,a,l,c;t=new Gz({props:{color:"primary",style:"position: fixed; right: 1rem; bottom: 1rem; z-index: 1",$$slots:{default:[Nz]},$$scope:{ctx:e}}}),t.$on("click",e[14]);function f(p){e[16](p)}let u={tabs:["About","Parameters","Design","Preview","Load/Save"],$$slots:{default:[Uz,({tab:p})=>({30:p}),({tab:p})=>[p?1073741824:0]]},$$scope:{ctx:e}};e[1]!==void 0&&(u.active=e[1]),r=new SU({props:u}),ot.push(()=>Dn(r,"active",f));const d=[Xz,qz,jz,Hz,zz],h=[];function g(p,m){return p[1]==="About"?0:p[1]==="Design"?1:p[1]==="Parameters"?2:p[1]==="Preview"?3:p[1]==="Load/Save"?4:-1}return~(o=g(e))&&(a=h[o]=d[o](e)),{c(){tt(t.$$.fragment),n=mt(),tt(r.$$.fragment),i=mt(),a&&a.c(),l=pn()},m(p,m){Qe(t,p,m),we(p,n,m),Qe(r,p,m),we(p,i,m),~o&&h[o].m(p,m),we(p,l,m),c=!0},p(p,m){const v={};m[1]&1&&(v.$$scope={dirty:m,ctx:p}),t.$set(v);const b={};m[0]&1073741824|m[1]&1&&(b.$$scope={dirty:m,ctx:p}),!s&&m[0]&2&&(s=!0,b.active=p[1],In(()=>s=!1)),r.$set(b);let y=o;o=g(p),o===y?~o&&h[o].p(p,m):(a&&(Zt(),le(h[y],1,1,()=>{h[y]=null}),Kt()),~o?(a=h[o],a?a.p(p,m):(a=h[o]=d[o](p),a.c()),re(a,1),a.m(l.parentNode,l)):a=null)},i(p){c||(re(t.$$.fragment,p),re(r.$$.fragment,p),re(a),c=!0)},o(p){le(t.$$.fragment,p),le(r.$$.fragment,p),le(a),c=!1},d(p){Je(t,p),p&&Ee(n),Je(r,p),p&&Ee(i),~o&&h[o].d(p),p&&Ee(l)}}}function cH(e,t,n){let r,s=structuredClone(K2),i="About",o=30,a=2.25,l=22,c=1.5,f=1,u=50,d=0,h=0,g=0;m(localStorage.getItem("state"));function p(N){n(0,{model:s=s,cellSize:o=o,wallWidth:a=a,height:l=l,radius:c=c,inset:f=f,keyholeHorizontalSpace:u=u,keyholeHorizontalOffset:d=d,keyholeVerticalSpace:h=h,keyholeVerticalOffset:g=g}=N,s,n(2,o),n(3,a),n(4,l),n(5,c),n(6,f),n(7,u),n(8,d),n(9,h),n(10,g))}function m(N){try{p(JSON.parse(N))}catch{}}function v(N){m(N.target.value)}function b(){xV.saveAs(new Blob(FV.serialize({binary:!0},S())),"model.stl")}let y;function S(){return XV(s,o/2,a,l,c,f,u,d,h,g)}function w(N){return()=>{p(structuredClone(N))}}function E(N){i=N,n(1,i)}function A(N){s=N,n(0,s)}function O(N){o=N,n(2,o)}function z(N){a=N,n(3,a)}function B(N){l=N,n(4,l)}function x(N){c=N,n(5,c)}function oe(N){f=N,n(6,f)}function V(N){u=N,n(7,u)}function X(N){d=N,n(8,d)}function Fe(N){h=N,n(9,h)}function ne(N){g=N,n(10,g)}return e.$$.update=()=>{e.$$.dirty[0]&2045&&n(12,r=JSON.stringify({model:s,cellSize:o,wallWidth:a,height:l,radius:c,inset:f,keyholeHorizontalSpace:u,keyholeHorizontalOffset:d,keyholeVerticalSpace:h,keyholeVerticalOffset:g})),e.$$.dirty[0]&4096&&localStorage.setItem("state",r),e.$$.dirty[0]&2050&&i==="Preview"&&(n(11,y=S()),n(11,y=es.transforms.rotateZ(Math.PI,es.transforms.center({},y))))},[s,i,o,a,l,c,f,u,d,h,g,y,r,v,b,w,E,A,O,z,B,x,oe,V,X,Fe,ne]}class fH extends Jt{constructor(t){super(),Qt(this,t,cH,lH,Ht,{},null,[-1,-1])}}new fH({target:document.getElementById("app")});
